cscope 15 /usr/src/bin               0001685675
	@cat/cat.c

34 #iâdeà
lšt


35 cÚ¡ 
	gcİyright
[] =

41 #iâdeà
lšt


43 
	gsccsid
[] = "@(#)cat.c 8.2 (Berkeley) 4/27/95";

46 
	~<sys/cdefs.h
>

47 
__FBSDID
("$FreeBSD: src/bin/cat/cat.c,v 1.33.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

49 
	~<sys/·¿m.h
>

50 
	~<sys/¡©.h
>

51 #iâdeà
NO_UDOM_SUPPORT


52 
	~<sys/sock‘.h
>

53 
	~<sys/un.h
>

54 
	~<”ºo.h
>

57 
	~<ùy³.h
>

58 
	~<”r.h
>

59 
	~<fú.h
>

60 
	~<loÿË.h
>

61 
	~<¡dio.h
>

62 
	~<¡dlib.h
>

63 
	~<¡ršg.h
>

64 
	~<uni¡d.h
>

65 
	~<¡ddef.h
>

67 
	gbæag
, 
	geæag
, 
	gnæag
, 
	gsæag
, 
	gtæag
, 
	gvæag
;

68 
	grv®
;

69 cÚ¡ *
	gf’ame
;

71 
u§ge
();

72 
sÿnfes
(*
¬gv
[], 
cooked
);

73 
cook_ÿt
(
FILE
 *);

74 
¿w_ÿt
();

76 #iâdeà
NO_UDOM_SUPPORT


77 
udom_İ’
(cÚ¡ *
·th
, 
æags
);

82 
	#PHYSPAGES_THRESHOLD
 (32*1024)

	)

85 
	#BUFSIZE_MAX
 (2*1024*1024)

	)

89 
	#BUFSIZE_SMALL
 (
MAXPHYS
)

	)

92 
	$maš
(
¬gc
, *
¬gv
[])

94 
ch
;

96 
	`£oÿË
(
LC_CTYPE
, "");

98 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "benstuv")) != -1)

99 
ch
) {

101 
bæag
 = 
næag
 = 1;

104 
eæag
 = 
væag
 = 1;

107 
næag
 = 1;

110 
sæag
 = 1;

113 
tæag
 = 
væag
 = 1;

116 
	`£tbuf
(
¡dout
, 
NULL
);

119 
væag
 = 1;

122 
	`u§ge
();

124 
¬gv
 +ğ
İtšd
;

126 ià(
bæag
 || 
eæag
 || 
næag
 || 
sæag
 || 
tæag
 || 
væag
)

127 
	`sÿnfes
(
¬gv
, 1);

129 
	`sÿnfes
(
¬gv
, 0);

130 ià(
	`fşo£
(
¡dout
))

131 
	`”r
(1, "stdout");

132 
	`ex™
(
rv®
);

134 
	}
}

137 
	$u§ge
()

139 
	`årštf
(
¡d”r
, "usage: cat [-benstuv] [file ...]\n");

140 
	`ex™
(1);

142 
	}
}

145 
	$sÿnfes
(*
¬gv
[], 
cooked
)

147 
i
 = 0;

148 *
·th
;

149 
FILE
 *
å
;

151 (
·th
 = 
¬gv
[
i
]è!ğ
NULL
 || i == 0) {

152 
fd
;

154 ià(
·th
 =ğ
NULL
 || 
	`¡rcmp
(path, "-") == 0) {

155 
f’ame
 = "stdin";

156 
fd
 = 
STDIN_FILENO
;

158 
f’ame
 = 
·th
;

159 
fd
 = 
	`İ’
(
·th
, 
O_RDONLY
);

160 #iâdeà
NO_UDOM_SUPPORT


161 ià(
fd
 < 0 && 
”ºo
 =ğ
EOPNOTSUPP
)

162 
fd
 = 
	`udom_İ’
(
·th
, 
O_RDONLY
);

165 ià(
fd
 < 0) {

166 
	`w¬n
("%s", 
·th
);

167 
rv®
 = 1;

168 } ià(
cooked
) {

169 ià(
fd
 =ğ
STDIN_FILENO
)

170 
	`cook_ÿt
(
¡dš
);

172 
å
 = 
	`fdİ’
(
fd
, "r");

173 
	`cook_ÿt
(
å
);

174 
	`fşo£
(
å
);

177 
	`¿w_ÿt
(
fd
);

178 ià(
fd
 !ğ
STDIN_FILENO
)

179 
	`şo£
(
fd
);

181 ià(
·th
 =ğ
NULL
)

183 ++
i
;

185 
	}
}

188 
	$cook_ÿt
(
FILE
 *
å
)

190 
ch
, 
gobbË
, 
lše
, 
´ev
;

193 ià(
å
 =ğ
¡dš
 && 
	`ãof
(stdin))

194 
	`ş—»¼
(
¡dš
);

196 
lše
 = 
gobbË
 = 0;

197 
´ev
 = '\n'; (
ch
 = 
	`g‘c
(
å
)è!ğ
EOF
;…rev = ch) {

198 ià(
´ev
 == '\n') {

199 ià(
sæag
) {

200 ià(
ch
 == '\n') {

201 ià(
gobbË
)

203 
gobbË
 = 1;

205 
gobbË
 = 0;

207 ià(
næag
 && (!
bæag
 || 
ch
 != '\n')) {

208 ()
	`årštf
(
¡dout
, "%6d\t", ++
lše
);

209 ià(
	`ã¼Ü
(
¡dout
))

213 ià(
ch
 == '\n') {

214 ià(
eæag
 && 
	`putch¬
('$'è=ğ
EOF
)

216 } ià(
ch
 == '\t') {

217 ià(
tæag
) {

218 ià(
	`putch¬
('^'è=ğ
EOF
 ||…utchar('I') == EOF)

222 } ià(
væag
) {

223 ià(!
	`i§scii
(
ch
è&& !
	`i¥ršt
(ch)) {

224 ià(
	`putch¬
('M'è=ğ
EOF
 ||…utchar('-') == EOF)

226 
ch
 = 
	`tßscii
(ch);

228 ià(
	`isúŒl
(
ch
)) {

229 ià(
	`putch¬
('^'è=ğ
EOF
 ||

230 
	`putch¬
(
ch
 == '\177' ? '?' :

231 
ch
 | 0100è=ğ
EOF
)

236 ià(
	`putch¬
(
ch
è=ğ
EOF
)

239 ià(
	`ã¼Ü
(
å
)) {

240 
	`w¬n
("%s", 
f’ame
);

241 
rv®
 = 1;

242 
	`ş—»¼
(
å
);

244 ià(
	`ã¼Ü
(
¡dout
))

245 
	`”r
(1, "stdout");

246 
	}
}

249 
	$¿w_ÿt
(
rfd
)

251 
off
, 
wfd
;

252 
ssize_t
 
Ä
, 
nw
;

253 
size_t
 
bsize
;

254 *
buf
 = 
NULL
;

255 
¡©
 
sbuf
;

257 
wfd
 = 
	`f’o
(
¡dout
);

258 ià(
buf
 =ğ
NULL
) {

259 ià(
	`f¡©
(
wfd
, &
sbuf
))

260 
	`”r
(1, "%s", 
f’ame
);

261 ià(
	`S_ISREG
(
sbuf
.
¡_mode
)) {

263 ià(
	`syscÚf
(
_SC_PHYS_PAGES
è> 
PHYSPAGES_THRESHOLD
)

264 
bsize
 = 
	`MIN
(
BUFSIZE_MAX
, 
MAXPHYS
*8);

266 
bsize
 = 
BUFSIZE_SMALL
;

268 
bsize
 = 
	`MAX
(
sbuf
.
¡_blksize
,

269 (
blksize_t
)
	`syscÚf
(
_SC_PAGESIZE
));

270 ià((
buf
 = 
	`m®loc
(
bsize
)è=ğ
NULL
)

271 
	`”r
(1, "malloc() failure of IO buffer");

273 (
Ä
 = 
	`»ad
(
rfd
, 
buf
, 
bsize
)) > 0)

274 
off
 = 0; 
Ä
;‚¸-ğ
nw
, off +=‚w)

275 ià((
nw
 = 
	`wr™e
(
wfd
, 
buf
 + 
off
, (
size_t
)
Ä
)) < 0)

276 
	`”r
(1, "stdout");

277 ià(
Ä
 < 0) {

278 
	`w¬n
("%s", 
f’ame
);

279 
rv®
 = 1;

281 
	}
}

283 #iâdeà
NO_UDOM_SUPPORT


286 
	$udom_İ’
(cÚ¡ *
·th
, 
æags
)

288 
sockaddr_un
 
sou
;

289 
fd
;

290 
Ën
;

292 
	`bz”o
(&
sou
, (sou));

297 
fd
 = 
	`sock‘
(
AF_UNIX
, 
SOCK_STREAM
, 0);

298 ià(
fd
 >= 0) {

299 
sou
.
sun_çmy
 = 
AF_UNIX
;

300 ià((
Ën
 = 
	`¡¾ıy
(
sou
.
sun_·th
, 
·th
,

301 (
sou
.
sun_·th
))) >= (sou.sun_path)) {

302 
”ºo
 = 
ENAMETOOLONG
;

305 
Ën
 = 
	`off£tof
(
sockaddr_un
, 
sun_·th
[len+1]);

307 ià(
	`cÚÃù
(
fd
, (*)&
sou
, 
Ën
) < 0) {

308 
	`şo£
(
fd
);

309 
fd
 = -1;

316 ià(
fd
 >= 0) {

317 
æags
 & 
O_ACCMODE
) {

318 
O_RDONLY
:

319 ià(
	`shutdown
(
fd
, 
SHUT_WR
) == -1)

320 
	`w¬n
(
NULL
);

322 
O_WRONLY
:

323 ià(
	`shutdown
(
fd
, 
SHUT_RD
) == -1)

324 
	`w¬n
(
NULL
);

330 (
fd
);

331 
	}
}

	@chflags/chflags.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)chflags.c 8.5 (Berkeley) 4/1/94";

42 
	~<sys/cdefs.h
>

43 
__FBSDID
("$FreeBSD: src/bin/chflags/chflags.c,v 1.26.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

45 
	~<sys/ty³s.h
>

46 
	~<sys/¡©.h
>

48 
	~<”r.h
>

49 
	~<”ºo.h
>

50 
	~<ás.h
>

51 
	~<¡dio.h
>

52 
	~<¡dlib.h
>

53 
	~<¡ršg.h
>

54 
	~<uni¡d.h
>

56 
u§ge
();

59 
	$maš
(
¬gc
, *
¬gv
[])

61 
FTS
 *
á¥
;

62 
FTSENT
 *
p
;

63 
u_lÚg
 
ş—r
, 
Ãwæags
, 
£t
;

64 
v®
;

65 
Hæag
, 
Læag
, 
Ræag
, 
fæag
, 
hæag
, 
væag
;

66 
ch
, 
ás_İtiÚs
, 
où
, 
rv®
;

67 *
æags
, *
•
;

68 (*
chªge_æags
)(const *, );

70 
Hæag
 = 
Læag
 = 
Ræag
 = 
fæag
 = 
hæag
 = 
væag
 = 0;

71 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "HLPRfhv")) != -1)

72 
ch
) {

74 
Hæag
 = 1;

75 
Læag
 = 0;

78 
Læag
 = 1;

79 
Hæag
 = 0;

82 
Hæag
 = 
Læag
 = 0;

85 
Ræag
 = 1;

88 
fæag
 = 1;

91 
hæag
 = 1;

94 
væag
++;

98 
	`u§ge
();

100 
¬gv
 +ğ
İtšd
;

101 
¬gc
 -ğ
İtšd
;

103 ià(
¬gc
 < 2)

104 
	`u§ge
();

106 ià(
Ræag
) {

107 
ás_İtiÚs
 = 
FTS_PHYSICAL
;

108 ià(
hæag
)

109 
	`”rx
(1, "the -R‡nd -h options "

111 ià(
Hæag
)

112 
ás_İtiÚs
 |ğ
FTS_COMFOLLOW
;

113 ià(
Læag
) {

114 
ás_İtiÚs
 &ğ~
FTS_PHYSICAL
;

115 
ás_İtiÚs
 |ğ
FTS_LOGICAL
;

118 
ás_İtiÚs
 = 
hæag
 ? 
FTS_PHYSICAL
 : 
FTS_LOGICAL
;

121 ià(
hæag
)

122 
chªge_æags
 = ((*)(cÚ¡ *, ))
lchæags
;

124 
chªge_æags
 = 
chæags
;

126 
æags
 = *
¬gv
;

127 ià(*
æags
 >= '0' && *flags <= '7') {

128 
”ºo
 = 0;

129 
v®
 = 
	`¡¹Ş
(
æags
, &
•
, 8);

130 ià(
v®
 < 0)

131 
”ºo
 = 
ERANGE
;

132 ià(
”ºo
)

133 
	`”r
(1, "šv®id fÏgs: %s", 
æags
);

134 ià(*
•
)

135 
	`”rx
(1, "šv®id fÏgs: %s", 
æags
);

136 
£t
 = 
v®
;

137 
où
 = 1;

139 ià(
	`¡¹ofæags
(&
æags
, &
£t
, &
ş—r
))

140 
	`”rx
(1, "šv®id fÏg: %s", 
æags
);

141 
ş—r
 = ~clear;

142 
où
 = 0;

145 ià((
á¥
 = 
	`ás_İ’
(++
¬gv
, 
ás_İtiÚs
 , 0)è=ğ
NULL
)

146 
	`”r
(1, 
NULL
);

148 
rv®
 = 0; (
p
 = 
	`ás_»ad
(
á¥
)è!ğ
NULL
;) {

149 
p
->
ás_šfo
) {

150 
FTS_D
:

151 ià(!
Ræag
)

152 
	`ás_£t
(
á¥
, 
p
, 
FTS_SKIP
);

154 
FTS_DNR
:

155 
	`w¬nx
("%s: %s", 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

156 
rv®
 = 1;

158 
FTS_ERR
:

159 
FTS_NS
:

160 
	`w¬nx
("%s: %s", 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

161 
rv®
 = 1;

163 
FTS_SL
:

164 
FTS_SLNONE
:

170 ià(!
hæag
)

176 ià(
où
)

177 
Ãwæags
 = 
£t
;

179 
Ãwæags
 = (
p
->
ás_¡©p
->
¡_æags
 | 
£t
è& 
ş—r
;

180 ià(
Ãwæags
 =ğ
p
->
ás_¡©p
->
¡_æags
)

182 ià((*
chªge_æags
)(
p
->
ás_acı©h
, 
Ãwæags
è&& !
fæag
) {

183 
	`w¬n
("%s", 
p
->
ás_·th
);

184 
rv®
 = 1;

185 } ià(
væag
) {

186 ()
	`´štf
("%s", 
p
->
ás_·th
);

187 ià(
væag
 > 1)

188 ()
	`´štf
(": 0%lo -> 0%lo",

189 (
u_lÚg
)
p
->
ás_¡©p
->
¡_æags
,

190 
Ãwæags
);

191 ()
	`´štf
("\n");

194 ià(
”ºo
)

195 
	`”r
(1, "fts_read");

196 
	`ex™
(
rv®
);

197 
	}
}

200 
	$u§ge
()

202 ()
	`årštf
(
¡d”r
,

204 
	`ex™
(1);

205 
	}
}

	@chio/chio.c

39 #iâdeà
lšt


40 cÚ¡ 
	gcİyright
[] =

45 
	~<sys/cdefs.h
>

46 
__FBSDID
("$FreeBSD: src/bin/chio/chio.c,v 1.28.2.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

48 
	~<sys/·¿m.h
>

49 
	~<sys/chio.h
>

50 
	~<”r.h
>

51 
	~<fú.h
>

52 
	~<¡dio.h
>

53 
	~<¡dšt.h
>

54 
	~<¡dlib.h
>

55 
	~<¡ršg.h
>

56 
	~<uni¡d.h
>

58 
	~"defs.h
"

59 
	~"·thÇmes.h
"

61 
u§ge
();

62 
ş—nup
();

63 
u_št16_t
 
·r£_–em’t_ty³
(*);

64 
u_št16_t
 
·r£_–em’t_un™
(*);

65 cÚ¡ * 
–em’t_ty³_Çme
(
‘
);

66 
·r£_¥ecŸl
(*);

67 
is_¥ecŸl
(*);

68 cÚ¡ *
b™s_to_¡ršg
(
ûs_¡©us_æags
, const *);

70 
fšd_–em’t
(*, 
ušt16_t
 *, uint16_t *);

71 
chªg”_–em’t_¡©us
 *
	gg‘_–em’t_¡©us


74 
do_move
(const *, , **);

75 
do_exchªge
(const *, , **);

76 
do_pos™iÚ
(const *, , **);

77 
do_·¿ms
(const *, , **);

78 
do_g‘pick”
(const *, , **);

79 
do_£ick”
(const *, , **);

80 
do_¡©us
(const *, , **);

81 
do_›Ëm
(const *, , **);

82 
do_»tuº
(const *, , **);

83 
do_vŞg
(const *, , **);

85 #iâdeà
CHET_VT


86 
	#CHET_VT
 10

	)

90 cÚ¡ 
–em’t_ty³
 
	g–em’ts
[] = {

91 { "drive", 
CHET_DT
 },

92 { "pick”", 
CHET_MT
 },

93 { "pÜl", 
CHET_IE
 },

94 { "¦Ù", 
CHET_ST
 },

95 { "vŞg", 
CHET_VT
 },

96 { 
NULL
, 0 },

100 cÚ¡ 
chªg”_commªd
 
	gcommªds
[] = {

101 { "exchªge", 
do_exchªge
 },

102 { "g‘pick”", 
do_g‘pick”
 },

103 { "›Ëm", 
do_›Ëm
 },

104 { "move", 
do_move
 },

105 { "·¿ms", 
do_·¿ms
 },

106 { "pos™iÚ", 
do_pos™iÚ
 },

107 { "£ick”", 
do_£ick”
 },

108 { "¡©us", 
do_¡©us
 },

109 { "»tuº", 
do_»tuº
 },

110 { "vŞg", 
do_vŞg
 },

111 { 
NULL
, 0 },

115 cÚ¡ 
¥ecŸl_wÜd
 
	g¥ecŸls
[] = {

116 { "šv", 
SW_INVERT
 },

117 { "šv1", 
SW_INVERT1
 },

118 { "šv2", 
SW_INVERT2
 },

119 { 
NULL
, 0 },

122 
	gchªg”_fd
;

123 cÚ¡ *
	gchªg”_Çme
;

126 
	$maš
(
¬gc
, **
¬gv
)

128 
ch
, 
i
;

130 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "f:")) != -1) {

131 
ch
) {

133 
chªg”_Çme
 = 
İrg
;

137 
	`u§ge
();

140 
¬gc
 -ğ
İtšd
;

141 
¬gv
 +ğ
İtšd
;

143 ià(
¬gc
 == 0)

144 
	`u§ge
();

147 ià(
chªg”_Çme
 =ğ
NULL
)

148 ià((
chªg”_Çme
 = 
	`g‘’v
(
CHANGER_ENV_VAR
)è=ğ
NULL
)

149 
chªg”_Çme
 = 
_PATH_CH
;

152 ià((
chªg”_fd
 = 
	`İ’
(
chªg”_Çme
, 
O_RDWR
, 0600)) == -1)

153 
	`”r
(1, "%s: o³n", 
chªg”_Çme
);

156 ià(
	`©ex™
(
ş—nup
))

157 
	`”r
(1, "can't„egister cleanup function");

160 
i
 = 0; 
commªds
[i].
cc_Çme
 !ğ
NULL
; ++i)

161 ià(
	`¡rcmp
(*
¬gv
, 
commªds
[
i
].
cc_Çme
) == 0)

163 ià(
commªds
[
i
].
cc_Çme
 =ğ
NULL
) {

165 
i
 = 0; 
commªds
[i].
cc_Çme
 !ğ
NULL
; ++i)

166 ià(
	`¡ºcmp
(*
¬gv
, 
commªds
[
i
].
cc_Çme
,

167 
	`¡¾’
(*
¬gv
)) == 0)

171 ià(
commªds
[
i
].
cc_Çme
 =ğ
NULL
)

172 
	`”rx
(1, "unknowÀcommªd: %s", *
¬gv
);

174 
	`ex™
 ((*
commªds
[
i
].
cc_hªdËr
)(commªds[i].
cc_Çme
, 
¬gc
, 
¬gv
));

176 
	}
}

179 
	$do_move
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

181 
chªg”_move
 
cmd
;

182 
v®
;

192 ++
¬gv
; --
¬gc
;

194 ià(
¬gc
 < 4) {

195 
	`w¬nx
("%s:oØãw‡rgum’ts", 
úame
);

196 
u§ge
;

197 } ià(
¬gc
 > 5) {

198 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

199 
u§ge
;

201 (è
	`mem£t
(&
cmd
, 0, (cmd));

204 
cmd
.
cm_äomty³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

205 ++
¬gv
; --
¬gc
;

208 ià(
CHET_VT
 =ğ
cmd
.
cm_äomty³
) {

209 
	`fšd_–em’t
(*
¬gv
, &
cmd
.
cm_äomty³
, &cmd.
cm_äomun™
);

212 
cmd
.
cm_äomun™
 = 
	`·r£_–em’t_un™
(*
¬gv
);

214 ++
¬gv
; --
¬gc
;

217 
cmd
.
cm_tÙy³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

218 ++
¬gv
; --
¬gc
;

221 ià(
CHET_VT
 =ğ
cmd
.
cm_tÙy³
)

222 
	`”rx
(1,"%s: voltag only makes sense‡s‡nƒlement source",

223 
úame
);

226 
cmd
.
cm_toun™
 = 
	`·r£_–em’t_un™
(*
¬gv
);

227 ++
¬gv
; --
¬gc
;

230 ià(
¬gc
) {

231 
v®
 = 
	`·r£_¥ecŸl
(*
¬gv
);

232 
v®
) {

233 
SW_INVERT
:

234 
cmd
.
cm_æags
 |ğ
CM_INVERT
;

238 
	`”rx
(1, "%s: inappropriate modifier `%s'",

239 
úame
, *
¬gv
);

245 ià(
	`ioùl
(
chªg”_fd
, 
CHIOMOVE
, &
cmd
))

246 
	`”r
(1, "%s: CHIOMOVE", 
chªg”_Çme
);

250 
u§ge
:

251 (è
	`årštf
(
¡d”r
, "usage: %s %s "

252 "<äom ET> <äom EU> <tØET> <tØEU> [šv]\n", 
	`g‘´ogÇme
(), 
úame
);

254 
	}
}

257 
	$do_exchªge
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

259 
chªg”_exchªge
 
cmd
;

260 
v®
;

270 ++
¬gv
; --
¬gc
;

272 ià(
¬gc
 < 4) {

273 
	`w¬nx
("%s:oØãw‡rgum’ts", 
úame
);

274 
u§ge
;

275 } ià(
¬gc
 > 8) {

276 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

277 
u§ge
;

279 (è
	`mem£t
(&
cmd
, 0, (cmd));

282 
cmd
.
û_¤ùy³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

283 ++
¬gv
; --
¬gc
;

286 ià(
CHET_VT
 =ğ
cmd
.
û_¤ùy³
) {

287 
	`fšd_–em’t
(*
¬gv
, &
cmd
.
û_¤ùy³
, &cmd.
û_¤cun™
);

290 
cmd
.
û_¤cun™
 = 
	`·r£_–em’t_un™
(*
¬gv
);

292 ++
¬gv
; --
¬gc
;

295 
cmd
.
û_fd¡ty³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

296 ++
¬gv
; --
¬gc
;

299 ià(
CHET_VT
 =ğ
cmd
.
û_fd¡ty³
) {

300 
	`fšd_–em’t
(*
¬gv
, &
cmd
.
û_fd¡ty³
, &cmd.
û_fd¡un™
);

303 
cmd
.
û_fd¡un™
 = 
	`·r£_–em’t_un™
(*
¬gv
);

305 ++
¬gv
; --
¬gc
;

312 ià((
¬gc
 =ğ0è|| 
	`is_¥ecŸl
(*
¬gv
)) {

313 
cmd
.
û_sd¡ty³
 = cmd.
û_¤ùy³
;

314 
cmd
.
û_sd¡un™
 = cmd.
û_¤cun™
;

315 
do_¥ecŸl
;

319 
cmd
.
û_sd¡ty³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

320 ++
¬gv
; --
¬gc
;

322 ià(
CHET_VT
 =ğ
cmd
.
û_sd¡ty³
)

323 
	`”rx
(1,"%s %s: voltag only makes sense‡s‡nƒlement source",

324 
úame
, *
¬gv
);

327 
cmd
.
û_sd¡un™
 = 
	`·r£_–em’t_un™
(*
¬gv
);

328 ++
¬gv
; --
¬gc
;

330 
do_¥ecŸl
:

332 
¬gc
) {

333 
v®
 = 
	`·r£_¥ecŸl
(*
¬gv
);

334 ++
¬gv
; --
¬gc
;

335 
v®
) {

336 
SW_INVERT1
:

337 
cmd
.
û_æags
 |ğ
CE_INVERT1
;

340 
SW_INVERT2
:

341 
cmd
.
û_æags
 |ğ
CE_INVERT2
;

345 
	`”rx
(1, "%s: inappropriate modifier `%s'",

346 
úame
, *
¬gv
);

352 ià(
	`ioùl
(
chªg”_fd
, 
CHIOEXCHANGE
, &
cmd
))

353 
	`”r
(1, "%s: CHIOEXCHANGE", 
chªg”_Çme
);

357 
u§ge
:

358 (è
	`årštf
(
¡d”r
,

361 
	`g‘´ogÇme
(), 
úame
);

363 
	}
}

366 
	$do_pos™iÚ
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

368 
chªg”_pos™iÚ
 
cmd
;

369 
v®
;

379 ++
¬gv
; --
¬gc
;

381 ià(
¬gc
 < 2) {

382 
	`w¬nx
("%s:oØãw‡rgum’ts", 
úame
);

383 
u§ge
;

384 } ià(
¬gc
 > 3) {

385 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

386 
u§ge
;

388 (è
	`mem£t
(&
cmd
, 0, (cmd));

391 
cmd
.
ı_ty³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

392 ++
¬gv
; --
¬gc
;

395 
cmd
.
ı_un™
 = 
	`·r£_–em’t_un™
(*
¬gv
);

396 ++
¬gv
; --
¬gc
;

399 ià(
¬gc
) {

400 
v®
 = 
	`·r£_¥ecŸl
(*
¬gv
);

401 
v®
) {

402 
SW_INVERT
:

403 
cmd
.
ı_æags
 |ğ
CP_INVERT
;

407 
	`”rx
(1, "%s: inappropriate modifier `%s'",

408 
úame
, *
¬gv
);

414 ià(
	`ioùl
(
chªg”_fd
, 
CHIOPOSITION
, &
cmd
))

415 
	`”r
(1, "%s: CHIOPOSITION", 
chªg”_Çme
);

419 
u§ge
:

420 (è
	`årštf
(
¡d”r
, "usage: %s %s <to ET> <to EU> [inv]\n",

421 
	`g‘´ogÇme
(), 
úame
);

423 
	}
}

427 
	$do_·¿ms
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

429 
chªg”_·¿ms
 
d©a
;

430 
pick”
;

434 ++
¬gv
; --
¬gc
;

436 ià(
¬gc
) {

437 
	`w¬nx
("%s:‚Ø¬gum’t ex³ùed", 
úame
);

438 
u§ge
;

442 (è
	`mem£t
(&
d©a
, 0, (data));

443 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGPARAMS
, &
d©a
))

444 
	`”r
(1, "%s: CHIOGPARAMS", 
chªg”_Çme
);

446 (è
	`´štf
("%s: %d slot%s, %d drive%s, %d…icker%s",

447 
chªg”_Çme
,

448 
d©a
.
ı_n¦Ùs
, (data.cp_nslots > 1) ? "s" : "",

449 
d©a
.
ı_ndrives
, (data.cp_ndrives > 1) ? "s" : "",

450 
d©a
.
ı_Åick”s
, (data.cp_npickers > 1) ? "s" : "");

451 ià(
d©a
.
ı_ÅÜls
)

452 (è
	`´štf
(", %d…Ül%s", 
d©a
.
ı_ÅÜls
,

453 (
d©a
.
ı_ÅÜls
 > 1) ? "s" : "");

456 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGPICKER
, &
pick”
))

457 
	`”r
(1, "%s: CHIOGPICKER", 
chªg”_Çme
);

459 (è
	`´štf
("\n%s: cu¼’ˆpick”: %d\n", 
chªg”_Çme
, 
pick”
);

463 
u§ge
:

464 (è
	`årštf
(
¡d”r
, "u§ge: % %s\n", 
	`g‘´ogÇme
(), 
úame
);

466 
	}
}

470 
	$do_g‘pick”
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

472 
pick”
;

476 ++
¬gv
; --
¬gc
;

478 ià(
¬gc
) {

479 
	`w¬nx
("%s:‚Ø¬gum’t ex³ùed", 
úame
);

480 
u§ge
;

484 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGPICKER
, &
pick”
))

485 
	`”r
(1, "%s: CHIOGPICKER", 
chªg”_Çme
);

487 (è
	`´štf
("%s: cu¼’ˆpick”: %d\n", 
chªg”_Çme
, 
pick”
);

491 
u§ge
:

492 (è
	`årštf
(
¡d”r
, "u§ge: % %s\n", 
	`g‘´ogÇme
(), 
úame
);

494 
	}
}

497 
	$do_£ick”
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

499 
pick”
;

501 ++
¬gv
; --
¬gc
;

503 ià(
¬gc
 < 1) {

504 
	`w¬nx
("%s:oØãw‡rgum’ts", 
úame
);

505 
u§ge
;

506 } ià(
¬gc
 > 1) {

507 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

508 
u§ge
;

511 
pick”
 = 
	`·r£_–em’t_un™
(*
¬gv
);

514 ià(
	`ioùl
(
chªg”_fd
, 
CHIOSPICKER
, &
pick”
))

515 
	`”r
(1, "%s: CHIOSPICKER", 
chªg”_Çme
);

519 
u§ge
:

520 (è
	`årštf
(
¡d”r
, "u§ge: % % <pick”>\n", 
	`g‘´ogÇme
(), 
úame
);

522 
	}
}

525 
	$do_¡©us
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

527 
chªg”_·¿ms
 
ı
;

528 
chªg”_–em’t_¡©us_»que¡
 
û¤
;

529 
i
;

530 
u_št16_t
 
ba£
, 
couÁ
, 
ch‘
, 
sch‘
, 
ech‘
;

531 cÚ¡ *
desütiÚ
;

532 
pvŞg
 = 0;

533 
avŞg
 = 0;

534 
£n£
 = 0;

535 
scsi
 = 0;

536 
sourû
 = 0;

537 
šddr
 = 0;

538 
c
;

540 
couÁ
 = 0;

541 
ba£
 = 0;

542 
desütiÚ
 = 
NULL
;

544 
İtšd
 = 
İŒe£t
 = 1;

545 (
c
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "vVsSbaI")) != -1) {

546 
c
) {

548 
pvŞg
 = 1;

551 
avŞg
 = 1;

554 
£n£
 = 1;

557 
sourû
 = 1;

560 
scsi
 = 1;

563 
šddr
 = 1;

566 
pvŞg
 = 
avŞg
 = 
sourû
 = 
£n£
 = 
scsi
 = 
šddr
 = 1;

569 
	`w¬nx
("%s: bad o±iÚ", 
úame
);

570 
u§ge
;

574 
¬gc
 -ğ
İtšd
;

575 
¬gv
 +ğ
İtšd
;

588 ià(
¬gc
 > 3) {

589 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

590 
u§ge
;

597 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGPARAMS
, (*)&
ı
))

598 
	`”r
(1, "%s: CHIOGPARAMS", 
chªg”_Çme
);

600 ià(
¬gc
 > 0)

601 
sch‘
 = 
ech‘
 = 
	`·r£_–em’t_ty³
(
¬gv
[0]);

603 
sch‘
 = 
CHET_MT
;

604 
ech‘
 = 
CHET_DT
;

606 ià(
¬gc
 > 1) {

607 
ba£
 = (
u_št16_t
)
	`©Ş
(
¬gv
[1]);

608 
couÁ
 = 1;

610 ià(
¬gc
 > 2)

611 
couÁ
 = (
u_št16_t
)
	`©Ş
(
¬gv
[2]è- 
ba£
 + 1;

613 
ch‘
 = 
sch‘
; ch‘ <ğ
ech‘
; ++chet) {

614 
ch‘
) {

615 
CHET_MT
:

616 ià(
couÁ
 == 0)

617 
couÁ
 = 
ı
.
ı_Åick”s
;

618 ià(
couÁ
 > 
ı
.
ı_Åick”s
)

619 
	`”rx
(1, "nothat many…ickers in device");

620 
desütiÚ
 = "picker";

623 
CHET_ST
:

624 ià(
couÁ
 == 0)

625 
couÁ
 = 
ı
.
ı_n¦Ùs
;

626 ià(
couÁ
 > 
ı
.
ı_n¦Ùs
)

627 
	`”rx
(1, "nothat many slots in device");

628 
desütiÚ
 = "slot";

631 
CHET_IE
:

632 ià(
couÁ
 == 0)

633 
couÁ
 = 
ı
.
ı_ÅÜls
;

634 ià(
couÁ
 > 
ı
.
ı_ÅÜls
)

635 
	`”rx
(1, "nothat many…ortals in device");

636 
desütiÚ
 = "portal";

639 
CHET_DT
:

640 ià(
couÁ
 == 0)

641 
couÁ
 = 
ı
.
ı_ndrives
;

642 ià(
couÁ
 > 
ı
.
ı_ndrives
)

643 
	`”rx
(1, "nothat many drives in device");

644 
desütiÚ
 = "drive";

649 
couÁ
 = 0;

650 
desütiÚ
 = 
NULL
;

653 ià(
couÁ
 == 0) {

654 ià(
¬gc
 == 0)

657 
	`´štf
("%s:‚o %sƒlements\n",

658 
chªg”_Çme
, 
desütiÚ
);

663 
	`bz”o
(&
û¤
, (cesr));

664 
û¤
.
û¤_–em’t_ty³
 = 
ch‘
;

665 
û¤
.
û¤_–em’t_ba£
 = 
ba£
;

666 
û¤
.
û¤_–em’t_couÁ
 = 
couÁ
;

668 
û¤
.
û¤_–em’t_¡©us
 =

669 (
chªg”_–em’t_¡©us
 *)

670 
	`ÿÎoc
((
size_t
)
couÁ
, (
chªg”_–em’t_¡©us
));

672 ià(!
û¤
.
û¤_–em’t_¡©us
)

673 
	`”rx
(1, "can't‡llocate status storage");

675 ià(
avŞg
 || 
pvŞg
)

676 
û¤
.
û¤_æags
 |ğ
CESR_VOLTAGS
;

678 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGSTATUS
, (*)&
û¤
)) {

679 
	`ä“
(
û¤
.
û¤_–em’t_¡©us
);

680 
	`”r
(1, "%s: CHIOGSTATUS", 
chªg”_Çme
);

684 
i
 = 0; i < 
couÁ
; ++i) {

685 
chªg”_–em’t_¡©us
 *
ûs
 =

686 &(
û¤
.
û¤_–em’t_¡©us
[
i
]);

687 
	`´štf
("% %d: %s", 
desütiÚ
, 
ûs
->
ûs_addr
,

688 
	`b™s_to_¡ršg
(
ûs
->
ûs_æags
,

689 
CESTATUS_BITS
));

690 ià(
£n£
)

691 
	`´štf
(" sense: <0x%02x/0x%02x>",

692 
ûs
->
ûs_£n£code
,

693 
ûs
->
ûs_£n£qu®
);

694 ià(
pvŞg
)

695 
	`´štf
(" voltag: <%s:%d>",

696 
ûs
->
ûs_pvŞg
.
cv_vŞid
,

697 
ûs
->
ûs_pvŞg
.
cv_£rŸl
);

698 ià(
avŞg
)

699 
	`´štf
("‡voltag: <%s:%d>",

700 
ûs
->
ûs_avŞg
.
cv_vŞid
,

701 
ûs
->
ûs_avŞg
.
cv_£rŸl
);

702 ià(
sourû
) {

703 ià(
ûs
->
ûs_æags
 & 
CES_SOURCE_VALID
)

704 
	`´štf
(" source: <%s %d>",

705 
	`–em’t_ty³_Çme
(

706 
ûs
->
ûs_sourû_ty³
),

707 
ûs
->
ûs_sourû_addr
);

709 
	`´štf
(" source: <>");

711 ià(
šddr
)

712 
	`´štf
(" iÁaddr: <%d>", 
ûs
->
ûs_št_addr
);

713 ià(
scsi
) {

714 
	`´štf
(" scsi: <");

715 ià(
ûs
->
ûs_æags
 & 
CES_SCSIID_VALID
)

716 
	`´štf
("%d", 
ûs
->
ûs_scsi_id
);

718 
	`putch¬
('?');

719 
	`putch¬
(':');

720 ià(
ûs
->
ûs_æags
 & 
CES_LUN_VALID
)

721 
	`´štf
("%d", 
ûs
->
ûs_scsi_lun
);

723 
	`putch¬
('?');

724 
	`putch¬
('>');

726 
	`putch¬
('\n');

729 
	`ä“
(
û¤
.
û¤_–em’t_¡©us
);

730 
couÁ
 = 0;

735 
u§ge
:

736 (è
	`årštf
(
¡d”r
, "usage: %s %s [-vVsSbaA] [<elementype> [<start-addr> [<end-addr>] ] ]\n",

737 
	`g‘´ogÇme
(), 
úame
);

739 
	}
}

742 
	$do_›Ëm
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

744 
timeout
 = 0;

746 ià(
¬gc
 == 2) {

747 
timeout
 = 
	`©Ş
(
¬gv
[1]);

748 } ià(
¬gc
 > 1) {

749 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

750 
u§ge
;

753 ià(
	`ioùl
(
chªg”_fd
, 
CHIOIELEM
, &
timeout
))

754 
	`”r
(1, "%s: CHIOIELEM", 
chªg”_Çme
);

758 
u§ge
:

759 (è
	`årštf
(
¡d”r
, "usage: %s %s [<timeout>]\n",

760 
	`g‘´ogÇme
(), 
úame
);

762 
	}
}

765 
	$do_vŞg
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

767 
fÜû
 = 0;

768 
ş—r
 = 0;

769 
®‹º©e
 = 0;

770 
c
;

771 
chªg”_£t_vŞg_»que¡
 
csvr
;

773 
	`bz”o
(&
csvr
, (csvr));

775 
İtšd
 = 
İŒe£t
 = 1;

776 (
c
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "fca")) != -1) {

777 
c
) {

779 
fÜû
 = 1;

782 
ş—r
 = 1;

785 
®‹º©e
 = 1;

788 
	`w¬nx
("%s: bad o±iÚ", 
úame
);

789 
u§ge
;

793 
¬gc
 -ğ
İtšd
;

794 
¬gv
 +ğ
İtšd
;

796 ià(
¬gc
 < 2) {

797 
	`w¬nx
("%s: missšgƒËm’ˆ¥ecifiÿtiÚ", 
úame
);

798 
u§ge
;

801 
csvr
.
csvr_ty³
 = 
	`·r£_–em’t_ty³
(
¬gv
[0]);

802 
csvr
.
csvr_addr
 = (
u_št16_t
)
	`©Ş
(
¬gv
[1]);

804 ià(!
ş—r
) {

805 ià(
¬gc
 < 3 ||‡rgc > 4) {

806 
	`w¬nx
("%s: missšg‡rgum’t", 
úame
);

807 
u§ge
;

810 ià(
fÜû
)

811 
csvr
.
csvr_æags
 = 
CSVR_MODE_REPLACE
;

813 
csvr
.
csvr_æags
 = 
CSVR_MODE_SET
;

815 ià(
	`¡¾’
(
¬gv
[2]è> (
csvr
.
csvr_vŞg
.
cv_vŞid
)) {

816 
	`w¬nx
("%s: vŞumÏb–oØlÚg", 
úame
);

817 
u§ge
;

820 
	`¡¾ıy
((*)
csvr
.
csvr_vŞg
.
cv_vŞid
, 
¬gv
[2],

821 (
csvr
.
csvr_vŞg
.
cv_vŞid
));

823 ià(
¬gc
 == 4) {

824 
csvr
.
csvr_vŞg
.
cv_£rŸl
 = (
u_št16_t
)
	`©Ş
(
¬gv
[3]);

827 ià(
¬gc
 != 2) {

828 
	`w¬nx
("%s: uÃx³ùed‡rgum’t", 
úame
);

829 
u§ge
;

831 
csvr
.
csvr_æags
 = 
CSVR_MODE_CLEAR
;

834 ià(
®‹º©e
) {

835 
csvr
.
csvr_æags
 |ğ
CSVR_ALTERNATE
;

838 ià(
	`ioùl
(
chªg”_fd
, 
CHIOSETVOLTAG
, &
csvr
))

839 
	`”r
(1, "%s: CHIOSETVOLTAG", 
chªg”_Çme
);

842 
u§ge
:

843 (è
	`årštf
(
¡d”r
,

845 
	`g‘´ogÇme
(), 
úame
);

847 
	}
}

849 
u_št16_t


850 
	$·r£_–em’t_ty³
(*
ı
)

852 
i
;

854 
i
 = 0; 
–em’ts
[i].
‘_Çme
 !ğ
NULL
; ++i)

855 ià(
	`¡rcmp
(
–em’ts
[
i
].
‘_Çme
, 
ı
) == 0)

856  ((
u_št16_t
)
–em’ts
[
i
].
‘_ty³
);

858 
	`”rx
(1, "šv®idƒËm’ˆty³ `%s'", 
ı
);

860 
	}
}

863 
	$–em’t_ty³_Çme
(
‘
)

865 
i
;

867 
i
 = 0; 
–em’ts
[i].
‘_Çme
 !ğ
NULL
; i++)

868 ià(
–em’ts
[
i
].
‘_ty³
 =ğ
‘
)

869  
–em’ts
[
i
].
‘_Çme
;

872 
	}
}

874 
u_št16_t


875 
	$·r£_–em’t_un™
(*
ı
)

877 
i
;

878 *
p
;

880 
i
 = ()
	`¡¹Ş
(
ı
, &
p
, 10);

881 ià((
i
 < 0è|| (*
p
 != '\0'))

882 
	`”rx
(1, "šv®id un™‚umb” `%s'", 
ı
);

884  ((
u_št16_t
)
i
);

885 
	}
}

888 
	$·r£_¥ecŸl
(*
ı
)

890 
v®
;

892 
v®
 = 
	`is_¥ecŸl
(
ı
);

893 ià(
v®
)

894  (
v®
);

896 
	`”rx
(1, "šv®id modif›¸`%s'", 
ı
);

898 
	}
}

901 
	$is_¥ecŸl
(*
ı
)

903 
i
;

905 
i
 = 0; 
¥ecŸls
[i].
sw_Çme
 !ğ
NULL
; ++i)

906 ià(
	`¡rcmp
(
¥ecŸls
[
i
].
sw_Çme
, 
ı
) == 0)

907  (
¥ecŸls
[
i
].
sw_v®ue
);

910 
	}
}

913 
	$b™s_to_¡ršg
(
ûs_¡©us_æags
 
v
, cÚ¡ *
ı
)

915 cÚ¡ *
Å
;

916 
f
, 
£p
, *
bp
;

917 
buf
[128];

919 
bp
 = 
buf
;

920 (è
	`mem£t
(
buf
, 0, (buf));

922 
£p
 = '<'; (
f
 = *
ı
++è!ğ0; c°ğ
Å
) {

923 
Å
 = 
ı
; *np >= ' ';)

924 
Å
++;

925 ià((()
v
 & (1 << (
f
 - 1))) == 0)

927 (è
	`¢´štf
(
bp
, (
buf
è- (
size_t
)(bp - &buf[0]),

928 "%c%.*s", 
£p
, ()()(
Å
 - 
ı
), cp);

929 
bp
 +ğ
	`¡¾’
(bp);

930 
£p
 = ',';

932 ià(
£p
 != '<')

933 *
bp
 = '>';

935  (
buf
);

936 
	}
}

944 
	$do_»tuº
(cÚ¡ *
úame
, 
¬gc
, **
¬gv
)

946 
chªg”_–em’t_¡©us
 *
ûs
;

947 
chªg”_move
 
cmd
;

948 
ušt16_t
 
ty³
, 
–em’t
;

950 ++
¬gv
; --
¬gc
;

952 ià(
¬gc
 < 2) {

953 
	`w¬nx
("%s:oØãw‡rgum’ts", 
úame
);

954 
u§ge
;

955 } ià(
¬gc
 > 3) {

956 
	`w¬nx
("%s:oØmªy‡rgum’ts", 
úame
);

957 
u§ge
;

960 
ty³
 = 
	`·r£_–em’t_ty³
(*
¬gv
);

961 ++
¬gv
; --
¬gc
;

964 ià(
CHET_VT
 =ğ
ty³
) {

965 
	`fšd_–em’t
(*
¬gv
, &
ty³
, &
–em’t
);

967 
–em’t
 = 
	`·r£_–em’t_un™
(*
¬gv
);

969 ++
¬gv
; --
¬gc
;

972 
ûs
 = 
	`g‘_–em’t_¡©us
(()
ty³
, ()
–em’t
,

973 
CHET_VT
 =ğ
ty³
);

975 ià(
NULL
 =ğ
ûs
)

976 
	`”rx
(1, "%s:‚uÎƒËm’ˆ¡©u poš‹r", 
úame
);

978 ià(!(
ûs
->
ûs_æags
 & 
CES_SOURCE_VALID
))

979 
	`”rx
(1, "%s:‚Øsourû infÜm©iÚ", 
úame
);

981 (è
	`mem£t
(&
cmd
, 0, (cmd));

983 
cmd
.
cm_äomty³
 = 
ty³
;

984 
cmd
.
cm_äomun™
 = 
–em’t
;

985 
cmd
.
cm_tÙy³
 = 
ûs
->
ûs_sourû_ty³
;

986 
cmd
.
cm_toun™
 = 
ûs
->
ûs_sourû_addr
;

988 ià(
	`ioùl
(
chªg”_fd
, 
CHIOMOVE
, &
cmd
) == -1)

989 
	`”r
(1, "%s: CHIOMOVE", 
chªg”_Çme
);

990 
	`ä“
(
ûs
);

994 
u§ge
:

995 (è
	`årštf
(
¡d”r
, "usage: %s %s "

996 "<äom ET> <äom EU>\n", 
	`g‘´ogÇme
(), 
úame
);

998 
	}
}

1007 
chªg”_–em’t_¡©us
 *

1008 
	$g‘_–em’t_¡©us
(
ty³
, 
–em’t
, 
u£_vŞgs
)

1010 
chªg”_–em’t_¡©us_»que¡
 
û¤
;

1011 
chªg”_–em’t_¡©us
 *
ûs
;

1013 
ûs
 = (
chªg”_–em’t_¡©us
 *)

1014 
	`ÿÎoc
((
size_t
)1, (
chªg”_–em’t_¡©us
));

1016 ià(
NULL
 =ğ
ûs
)

1017 
	`”rx
(1, "can't‡llocate status storage");

1019 ()
	`mem£t
(&
û¤
, 0, (cesr));

1021 
û¤
.
û¤_–em’t_ty³
 = (
ušt16_t
)
ty³
;

1022 
û¤
.
û¤_–em’t_ba£
 = (
ušt16_t
)
–em’t
;

1023 
û¤
.
û¤_–em’t_couÁ
 = 1;

1024 ià(
u£_vŞgs
)

1025 
û¤
.
û¤_æags
 |ğ
CESR_VOLTAGS
;

1026 
û¤
.
û¤_–em’t_¡©us
 = 
ûs
;

1028 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGSTATUS
, (*)&
û¤
) == -1) {

1029 
	`ä“
(
ûs
);

1030 
	`”r
(1, "%s: CHIOGSTATUS", 
chªg”_Çme
);

1034  
ûs
;

1035 
	}
}

1046 
	$fšd_–em’t
(*
vŞg
, 
ušt16_t
 *
‘
, ušt16_ˆ*
eu
)

1048 
chªg”_·¿ms
 
ı
;

1049 
chªg”_–em’t_¡©us_»que¡
 
û¤
;

1050 
chªg”_–em’t_¡©us
 *
ch_ûs
, *
ûs
;

1051 
found
 = 0;

1052 
size_t
 
–em
, 
tÙ®_–em
;

1058 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGPARAMS
, (*)&
ı
))

1059 
	`”r
(1, "%s: CHIOGPARAMS", 
chªg”_Çme
);

1062 
tÙ®_–em
 = (
ı
.
ı_n¦Ùs
 + cp.
ı_ndrives


1063 + 
ı
.
ı_Åick”s
 + cp.
ı_ÅÜls
);

1065 
ch_ûs
 = (
chªg”_–em’t_¡©us
 *)

1066 
	`ÿÎoc
(
tÙ®_–em
, (
chªg”_–em’t_¡©us
));

1068 ià(
NULL
 =ğ
ch_ûs
)

1069 
	`”rx
(1, "can't‡llocate status storage");

1071 
ûs
 = 
ch_ûs
;

1074 ià(
ı
.
ı_n¦Ùs
 > 0) {

1075 (è
	`mem£t
(&
û¤
, 0, (cesr));

1076 
û¤
.
û¤_–em’t_ty³
 = 
CHET_ST
;

1077 
û¤
.
û¤_–em’t_ba£
 = 0;

1078 
û¤
.
û¤_–em’t_couÁ
 = 
ı
.
ı_n¦Ùs
;

1079 
û¤
.
û¤_æags
 |ğ
CESR_VOLTAGS
;

1080 
û¤
.
û¤_–em’t_¡©us
 = 
ûs
;

1082 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGSTATUS
, (*)&
û¤
) == -1) {

1083 
	`ä“
(
ch_ûs
);

1084 
	`”r
(1, "%s: CHIOGSTATUS", 
chªg”_Çme
);

1086 
ûs
 +ğ
ı
.
ı_n¦Ùs
;

1090 ià(
ı
.
ı_ndrives
 > 0 ) {

1092 (è
	`mem£t
(&
û¤
, 0, (cesr));

1093 
û¤
.
û¤_–em’t_ty³
 = 
CHET_DT
;

1094 
û¤
.
û¤_–em’t_ba£
 = 0;

1095 
û¤
.
û¤_–em’t_couÁ
 = 
ı
.
ı_ndrives
;

1096 
û¤
.
û¤_æags
 |ğ
CESR_VOLTAGS
;

1097 
û¤
.
û¤_–em’t_¡©us
 = 
ûs
;

1099 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGSTATUS
, (*)&
û¤
) == -1) {

1100 
	`ä“
(
ch_ûs
);

1101 
	`”r
(1, "%s: CHIOGSTATUS", 
chªg”_Çme
);

1103 
ûs
 +ğ
ı
.
ı_ndrives
;

1107 ià(
ı
.
ı_ÅÜls
 > 0 ) {

1108 (è
	`mem£t
(&
û¤
, 0, (cesr));

1109 
û¤
.
û¤_–em’t_ty³
 = 
CHET_IE
;

1110 
û¤
.
û¤_–em’t_ba£
 = 0;

1111 
û¤
.
û¤_–em’t_couÁ
 = 
ı
.
ı_ÅÜls
;

1112 
û¤
.
û¤_æags
 |ğ
CESR_VOLTAGS
;

1113 
û¤
.
û¤_–em’t_¡©us
 = 
ûs
;

1115 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGSTATUS
, (*)&
û¤
) == -1) {

1116 
	`ä“
(
ch_ûs
);

1117 
	`”r
(1, "%s: CHIOGSTATUS", 
chªg”_Çme
);

1119 
ûs
 +ğ
ı
.
ı_ÅÜls
;

1123 ià(
ı
.
ı_Åick”s
 > 0) {

1124 (è
	`mem£t
(&
û¤
, 0, (cesr));

1125 
û¤
.
û¤_–em’t_ty³
 = 
CHET_MT
;

1126 
û¤
.
û¤_–em’t_ba£
 = 0;

1127 
û¤
.
û¤_–em’t_couÁ
 = 
ı
.
ı_Åick”s
;

1128 
û¤
.
û¤_æags
 |ğ
CESR_VOLTAGS
;

1129 
û¤
.
û¤_–em’t_¡©us
 = 
ûs
;

1131 ià(
	`ioùl
(
chªg”_fd
, 
CHIOGSTATUS
, (*)&
û¤
) == -1) {

1132 
	`ä“
(
ch_ûs
);

1133 
	`”r
(1, "%s: CHIOGSTATUS", 
chªg”_Çme
);

1140 
–em
 = 0;ƒËm <ğ
tÙ®_–em
; ++elem) {

1142 
ûs
 = &
ch_ûs
[
–em
];

1145 ià((
ûs
->
ûs_æags
 & (
CES_STATUS_ACCESS
|
CES_STATUS_FULL
))

1146 !ğ(
CES_STATUS_ACCESS
|
CES_STATUS_FULL
))

1150 ià(
	`¡rÿ£cmp
(
vŞg
,

1151 (cÚ¡ *)
ûs
->
ûs_pvŞg
.
cv_vŞid
) == 0) {

1152 *
‘
 = 
ûs
->
ûs_ty³
;

1153 *
eu
 = 
ûs
->
ûs_addr
;

1154 ++
found
;

1158 ià(!
found
) {

1159 
	`”rx
(1, "%s: uÇbËØloÿ‹ vŞg: %s", 
chªg”_Çme
,

1160 
vŞg
);

1162 
	`ä“
(
ch_ûs
);

1164 
	}
}

1167 
	$ş—nup
()

1170 ()
	`şo£
(
chªg”_fd
);

1171 
	}
}

1174 
	$u§ge
()

1176 ()
	`årštf
(
¡d”r
, "usage: %s [-f changer] command [-<flags>] "

1177 "¬g1‡rg2 [¬g3 [...]]\n", 
	`g‘´ogÇme
());

1178 
	`ex™
(1);

1179 
	}
}

	@chio/defs.h

35 
	s–em’t_ty³
 {

36 cÚ¡ *
	m‘_Çme
;

37 
	m‘_ty³
;

40 
	schªg”_commªd
 {

41 cÚ¡ *
	mcc_Çme
;

43 (*
	mcc_hªdËr
)(const *, , **);

46 
	s¥ecŸl_wÜd
 {

47 cÚ¡ *
	msw_Çme
;

48 
	msw_v®ue
;

52 
	#SW_INVERT
 1

	)

53 
	#SW_INVERT1
 2

	)

54 
	#SW_INVERT2
 3

	)

57 
	#CHANGER_ENV_VAR
 "CHANGER"

	)

	@chio/pathnames.h

35 
	#_PATH_CH
 "/dev/ch0"

	)

	@chmod/chmod.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)chmod.c 8.8 (Berkeley) 4/1/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/chmod/chmod.c,v 1.35.2.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/·¿m.h
>

45 
	~<sys/¡©.h
>

47 
	~<”r.h
>

48 
	~<”ºo.h
>

49 
	~<ás.h
>

50 
	~<lim™s.h
>

51 
	~<¡dio.h
>

52 
	~<¡dlib.h
>

53 
	~<¡ršg.h
>

54 
	~<uni¡d.h
>

56 
u§ge
();

57 
may_have_nfs4aş
(cÚ¡ 
FTSENT
 *
’t
, 
hæag
);

60 
	$maš
(
¬gc
, *
¬gv
[])

62 
FTS
 *
á¥
;

63 
FTSENT
 *
p
;

64 
mode_t
 *
£t
;

65 
Hæag
, 
Læag
, 
Ræag
, 
ch
, 
”rÜ
, 
fæag
, 
ás_İtiÚs
, 
hæag
, 
rv®
;

66 
væag
;

67 *
mode
;

68 
mode_t
 
Ãwmode
;

70 
£t
 = 
NULL
;

71 
Hæag
 = 
Læag
 = 
Ræag
 = 
fæag
 = 
hæag
 = 
væag
 = 0;

72 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "HLPRXfghorstuvwx")) != -1)

73 
ch
) {

75 
Hæag
 = 1;

76 
Læag
 = 0;

79 
Læag
 = 1;

80 
Hæag
 = 0;

83 
Hæag
 = 
Læag
 = 0;

86 
Ræag
 = 1;

89 
fæag
 = 1;

100 
hæag
 = 1;

110 ià(
¬gv
[
İtšd
 - 1][0] == '-' &&

111 
¬gv
[
İtšd
 - 1][1] =ğ
ch
 &&

112 
¬gv
[
İtšd
 - 1][2] == '\0')

113 --
İtšd
;

114 
dÚe
;

116 
væag
++;

120 
	`u§ge
();

122 
dÚe
: 
¬gv
 +ğ
İtšd
;

123 
¬gc
 -ğ
İtšd
;

125 ià(
¬gc
 < 2)

126 
	`u§ge
();

128 ià(
Ræag
) {

129 
ás_İtiÚs
 = 
FTS_PHYSICAL
;

130 ià(
hæag
)

131 
	`”rx
(1,

133 ià(
Hæag
)

134 
ás_İtiÚs
 |ğ
FTS_COMFOLLOW
;

135 ià(
Læag
) {

136 
ás_İtiÚs
 &ğ~
FTS_PHYSICAL
;

137 
ás_İtiÚs
 |ğ
FTS_LOGICAL
;

140 
ás_İtiÚs
 = 
hæag
 ? 
FTS_PHYSICAL
 : 
FTS_LOGICAL
;

142 
mode
 = *
¬gv
;

143 ià((
£t
 = 
	`£tmode
(
mode
)è=ğ
NULL
)

144 
	`”rx
(1, "šv®id fmode: %s", 
mode
);

146 ià((
á¥
 = 
	`ás_İ’
(++
¬gv
, 
ás_İtiÚs
, 0)è=ğ
NULL
)

147 
	`”r
(1, "fts_open");

148 
rv®
 = 0; (
p
 = 
	`ás_»ad
(
á¥
)è!ğ
NULL
;) {

149 
p
->
ás_šfo
) {

150 
FTS_D
:

151 ià(!
Ræag
)

152 
	`ás_£t
(
á¥
, 
p
, 
FTS_SKIP
);

154 
FTS_DNR
:

155 
	`w¬nx
("%s: %s", 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

156 
rv®
 = 1;

158 
FTS_ERR
:

159 
FTS_NS
:

160 
	`w¬nx
("%s: %s", 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

161 
rv®
 = 1;

163 
FTS_SL
:

164 
FTS_SLNONE
:

170 ià(!
hæag
)

176 
Ãwmode
 = 
	`g‘mode
(
£t
, 
p
->
ás_¡©p
->
¡_mode
);

182 ià(
	`may_have_nfs4aş
(
p
, 
hæag
) == 0 &&

183 (
Ãwmode
 & 
ALLPERMS
è=ğ(
p
->
ás_¡©p
->
¡_mode
 & ALLPERMS))

185 ià(
hæag
)

186 
”rÜ
 = 
	`lchmod
(
p
->
ás_acı©h
, 
Ãwmode
);

188 
”rÜ
 = 
	`chmod
(
p
->
ás_acı©h
, 
Ãwmode
);

189 ià(
”rÜ
) {

190 ià(!
fæag
) {

191 
	`w¬n
("%s", 
p
->
ás_·th
);

192 
rv®
 = 1;

195 ià(
væag
) {

196 ()
	`´štf
("%s", 
p
->
ás_·th
);

198 ià(
væag
 > 1) {

199 
m1
[12], 
m2
[12];

201 
	`¡rmode
(
p
->
ás_¡©p
->
¡_mode
, 
m1
);

202 
	`¡rmode
((
p
->
ás_¡©p
->
¡_mode
 &

203 
S_IFMT
è| 
Ãwmode
, 
m2
);

204 ()
	`´štf
(": 0%o [%s] -> 0%o [%s]",

205 
p
->
ás_¡©p
->
¡_mode
, 
m1
,

206 (
p
->
ás_¡©p
->
¡_mode
 & 
S_IFMT
) |

207 
Ãwmode
, 
m2
);

209 ()
	`´štf
("\n");

213 ià(
”ºo
)

214 
	`”r
(1, "fts_read");

215 
	`ex™
(
rv®
);

216 
	}
}

219 
	$u§ge
()

221 ()
	`årštf
(
¡d”r
,

223 
	`ex™
(1);

224 
	}
}

227 
	$may_have_nfs4aş
(cÚ¡ 
FTSENT
 *
’t
, 
hæag
)

229 
»t
;

230 
dev_t
 
´evious_dev
 = 
NODEV
;

231 
suµÜts_aşs
 = -1;

233 ià(
´evious_dev
 !ğ
’t
->
ás_¡©p
->
¡_dev
) {

234 
´evious_dev
 = 
’t
->
ás_¡©p
->
¡_dev
;

235 
suµÜts_aşs
 = 0;

237 ià(
hæag
)

238 
»t
 = 
	`Í©hcÚf
(
’t
->
ás_acı©h
, 
_PC_ACL_NFS4
);

240 
»t
 = 
	`·thcÚf
(
’t
->
ás_acı©h
, 
_PC_ACL_NFS4
);

241 ià(
»t
 > 0)

242 
suµÜts_aşs
 = 1;

243 ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
)

244 
	`w¬n
("%s", 
’t
->
ás_·th
);

247  (
suµÜts_aşs
);

248 
	}
}

	@cp/cp.c

34 #iâdeà
lšt


35 cÚ¡ 
	gcİyright
[] =

40 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)cp.c 8.2 (Berkeley) 4/1/94";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/cp/cp.c,v 1.60.2.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

62 
	~<sys/ty³s.h
>

63 
	~<sys/¡©.h
>

65 
	~<”r.h
>

66 
	~<”ºo.h
>

67 
	~<ás.h
>

68 
	~<lim™s.h
>

69 
	~<sigÇl.h
>

70 
	~<¡dio.h
>

71 
	~<¡dlib.h
>

72 
	~<¡ršg.h
>

73 
	~<uni¡d.h
>

75 
	~"ex‹º.h
"

77 
	#STRIP_TRAILING_SLASH
(
p
) { \

78 (
p
).
p_’d
 > (p).
p_·th
 + 1 && (p).p_end[-1] == '/') \

79 *--(
p
).
p_’d
 = 0; \

80 }

	)

82 
	gem±y¡ršg
[] = "";

84 
PATH_T
 
	gto
 = { 
to
.
p_·th
, 
em±y¡ršg
, "" };

86 
	gfæag
, 
	giæag
, 
	glæag
, 
	gnæag
, 
	gpæag
, 
	gvæag
;

87 
	gRæag
, 
	græag
;

88 vŞ©
sig_©omic_t
 
	gšfo
;

90 
	eİ
 { 
	mFILE_TO_FILE
, 
	mFILE_TO_DIR
, 
	mDIR_TO_DNE
 };

92 
cİy
(*[], 
İ
, );

93 
ma¡”cmp
(cÚ¡ 
FTSENT
 * const *, const FTSENT * const *);

94 
sigšfo
(
__unu£d
);

97 
	$maš
(
¬gc
, *
¬gv
[])

99 
¡©
 
to_¡©
, 
tmp_¡©
;

100 
İ
 
ty³
;

101 
Hæag
, 
Læag
, 
Pæag
, 
ch
, 
ás_İtiÚs
, 
r
, 
have_Œašg_¦ash
;

102 *
rg‘
;

104 
ás_İtiÚs
 = 
FTS_NOCHDIR
 | 
FTS_PHYSICAL
;

105 
Hæag
 = 
Læag
 = 
Pæag
 = 0;

106 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "HLPRafilnprvx")) != -1)

107 
ch
) {

109 
Hæag
 = 1;

110 
Læag
 = 
Pæag
 = 0;

113 
Læag
 = 1;

114 
Hæag
 = 
Pæag
 = 0;

117 
Pæag
 = 1;

118 
Hæag
 = 
Læag
 = 0;

121 
Ræag
 = 1;

124 
Pæag
 = 1;

125 
pæag
 = 1;

126 
Ræag
 = 1;

127 
Hæag
 = 
Læag
 = 0;

130 
fæag
 = 1;

131 
iæag
 = 
næag
 = 0;

134 
iæag
 = 1;

135 
fæag
 = 
næag
 = 0;

138 
læag
 = 1;

141 
næag
 = 1;

142 
fæag
 = 
iæag
 = 0;

145 
pæag
 = 1;

148 
ræag
 = 
Læag
 = 1;

149 
Hæag
 = 
Pæag
 = 0;

152 
væag
 = 1;

155 
ás_İtiÚs
 |ğ
FTS_XDEV
;

158 
	`u§ge
();

161 
¬gc
 -ğ
İtšd
;

162 
¬gv
 +ğ
İtšd
;

164 ià(
¬gc
 < 2)

165 
	`u§ge
();

167 ià(
Ræag
 && 
ræag
)

168 
	`”rx
(1, "the -R‡nd -r options may‚ot be specifiedogether");

169 ià(
ræag
)

170 
Ræag
 = 1;

171 ià(
Ræag
) {

172 ià(
Hæag
)

173 
ás_İtiÚs
 |ğ
FTS_COMFOLLOW
;

174 ià(
Læag
) {

175 
ás_İtiÚs
 &ğ~
FTS_PHYSICAL
;

176 
ás_İtiÚs
 |ğ
FTS_LOGICAL
;

179 
ás_İtiÚs
 &ğ~
FTS_PHYSICAL
;

180 
ás_İtiÚs
 |ğ
FTS_LOGICAL
 | 
FTS_COMFOLLOW
;

182 ()
	`sigÇl
(
SIGINFO
, 
sigšfo
);

185 
rg‘
 = 
¬gv
[--
¬gc
];

186 ià(
	`¡¾ıy
(
to
.
p_·th
, 
rg‘
, (to.p_path)) >= (to.p_path))

187 
	`”rx
(1, "%s:‚amtoØlÚg", 
rg‘
);

188 
to
.
p_’d
 =o.
p_·th
 + 
	`¡¾’
(to.p_path);

189 ià(
to
.
p_·th
 =ğto.
p_’d
) {

190 *
to
.
p_’d
++ = '.';

191 *
to
.
p_’d
 = 0;

193 
have_Œašg_¦ash
 = (
to
.
p_’d
[-1] == '/');

194 ià(
have_Œašg_¦ash
)

195 
	`STRIP_TRAILING_SLASH
(
to
);

196 
to
.
rg‘_’d
 =o.
p_’d
;

199 
¬gv
[
¬gc
] = 
NULL
;

215 
r
 = 
	`¡©
(
to
.
p_·th
, &
to_¡©
);

216 ià(
r
 =ğ-1 && 
”ºo
 !ğ
ENOENT
)

217 
	`”r
(1, "%s", 
to
.
p_·th
);

218 ià(
r
 =ğ-1 || !
	`S_ISDIR
(
to_¡©
.
¡_mode
)) {

222 ià(
¬gc
 > 1)

223 
	`”rx
(1, "% i nÙ‡ dœeùÜy", 
to
.
p_·th
);

232 ià(
r
 == -1) {

233 ià(
Ræag
 && (
Læag
 || 
Hæag
))

234 
	`¡©
(*
¬gv
, &
tmp_¡©
);

236 
	`l¡©
(*
¬gv
, &
tmp_¡©
);

238 ià(
	`S_ISDIR
(
tmp_¡©
.
¡_mode
è&& 
Ræag
)

239 
ty³
 = 
DIR_TO_DNE
;

241 
ty³
 = 
FILE_TO_FILE
;

243 
ty³
 = 
FILE_TO_FILE
;

245 ià(
have_Œašg_¦ash
 && 
ty³
 =ğ
FILE_TO_FILE
) {

246 ià(
r
 == -1)

247 
	`”rx
(1, "directory %s does‚otƒxist",

248 
to
.
p_·th
);

250 
	`”rx
(1, "% i nÙ‡ dœeùÜy", 
to
.
p_·th
);

256 
ty³
 = 
FILE_TO_DIR
;

258 
	`ex™
 (
	`cİy
(
¬gv
, 
ty³
, 
ás_İtiÚs
));

259 
	}
}

262 
	$cİy
(*
¬gv
[], 
İ
 
ty³
, 
ás_İtiÚs
)

264 
¡©
 
to_¡©
;

265 
FTS
 *
á¥
;

266 
FTSENT
 *
cu¼
;

267 
ba£
 = 0, 
dÃ
, 
badı
, 
rv®
;

268 
size_t
 
Æ’
;

269 *
p
, *
rg‘_mid
;

270 
mode_t
 
mask
, 
mode
;

276 
mask
 = ~
	`umask
(0777);

277 
	`umask
(~
mask
);

279 ià((
á¥
 = 
	`ás_İ’
(
¬gv
, 
ás_İtiÚs
, 
ma¡”cmp
)è=ğ
NULL
)

280 
	`”r
(1, "fts_open");

281 
badı
 = 
rv®
 = 0; (
cu¼
 = 
	`ás_»ad
(
á¥
)è!ğ
NULL
; badcp = 0) {

282 
cu¼
->
ás_šfo
) {

283 
FTS_NS
:

284 
FTS_DNR
:

285 
FTS_ERR
:

286 
	`w¬nx
("%s: %s",

287 
cu¼
->
ás_·th
, 
	`¡»¼Ü
(cu¼->
ás_”ºo
));

288 
badı
 = 
rv®
 = 1;

290 
FTS_DC
:

291 
	`w¬nx
("%s: dœeùÜy cau£ ¨cyşe", 
cu¼
->
ás_·th
);

292 
badı
 = 
rv®
 = 1;

302 ià(
ty³
 !ğ
FILE_TO_FILE
) {

322 ià(
cu¼
->
ás_Ëv–
 =ğ
FTS_ROOTLEVEL
) {

323 ià(
ty³
 !ğ
DIR_TO_DNE
) {

324 
p
 = 
	`¡¼chr
(
cu¼
->
ás_·th
, '/');

325 
ba£
 = (
p
 =ğ
NULL
) ? 0 :

326 ()(
p
 - 
cu¼
->
ás_·th
 + 1);

328 ià(!
	`¡rcmp
(&
cu¼
->
ás_·th
[
ba£
],

330 
ba£
 += 1;

332 
ba£
 = 
cu¼
->
ás_·thËn
;

335 
p
 = &
cu¼
->
ás_·th
[
ba£
];

336 
Æ’
 = 
cu¼
->
ás_·thËn
 - 
ba£
;

337 
rg‘_mid
 = 
to
.
rg‘_’d
;

338 ià(*
p
 !ğ'/' && 
rg‘_mid
[-1] != '/')

339 *
rg‘_mid
++ = '/';

340 *
rg‘_mid
 = 0;

341 ià(
rg‘_mid
 - 
to
.
p_·th
 + 
Æ’
 >ğ
PATH_MAX
) {

342 
	`w¬nx
("%s%s:‚ameoo†ong (not copied)",

343 
to
.
p_·th
, 
p
);

344 
badı
 = 
rv®
 = 1;

347 ()
	`¡ºÿt
(
rg‘_mid
, 
p
, 
Æ’
);

348 
to
.
p_’d
 = 
rg‘_mid
 + 
Æ’
;

349 *
to
.
p_’d
 = 0;

350 
	`STRIP_TRAILING_SLASH
(
to
);

353 ià(
cu¼
->
ás_šfo
 =ğ
FTS_DP
) {

359 ià(!
cu¼
->
ás_numb”
)

370 ià(
pæag
) {

371 ià(
	`£tfe
(
cu¼
->
ás_¡©p
, -1))

372 
rv®
 = 1;

373 ià(
	`´e£rve_dœ_aşs
(
cu¼
->
ás_¡©p
,

374 
cu¼
->
ás_acı©h
, 
to
.
p_·th
) != 0)

375 
rv®
 = 1;

377 
mode
 = 
cu¼
->
ás_¡©p
->
¡_mode
;

378 ià((
mode
 & (
S_ISUID
 | 
S_ISGID
 | 
S_ISTXT
)) ||

379 ((
mode
 | 
S_IRWXU
è& 
mask
) != (mode & mask))

380 ià(
	`chmod
(
to
.
p_·th
, 
mode
 & 
mask
) != 0){

381 
	`w¬n
("chmod: %s", 
to
.
p_·th
);

382 
rv®
 = 1;

389 ià(
	`¡©
(
to
.
p_·th
, &
to_¡©
) == -1)

390 
dÃ
 = 1;

392 ià(
to_¡©
.
¡_dev
 =ğ
cu¼
->
ás_¡©p
->st_dev &&

393 
to_¡©
.
¡_šo
 =ğ
cu¼
->
ás_¡©p
->st_ino) {

394 
	`w¬nx
("%s‡nd %s‡re identical (not copied).",

395 
to
.
p_·th
, 
cu¼
->
ás_·th
);

396 
badı
 = 
rv®
 = 1;

397 ià(
	`S_ISDIR
(
cu¼
->
ás_¡©p
->
¡_mode
))

398 ()
	`ás_£t
(
á¥
, 
cu¼
, 
FTS_SKIP
);

401 ià(!
	`S_ISDIR
(
cu¼
->
ás_¡©p
->
¡_mode
) &&

402 
	`S_ISDIR
(
to_¡©
.
¡_mode
)) {

403 
	`w¬nx
("cannot overwrite directory %s with "

405 
to
.
p_·th
, 
cu¼
->
ás_·th
);

406 
badı
 = 
rv®
 = 1;

409 
dÃ
 = 0;

412 
cu¼
->
ás_¡©p
->
¡_mode
 & 
S_IFMT
) {

413 
S_IFLNK
:

415 ià((
ás_İtiÚs
 & 
FTS_LOGICAL
) ||

416 ((
ás_İtiÚs
 & 
FTS_COMFOLLOW
) &&

417 
cu¼
->
ás_Ëv–
 == 0)) {

418 ià(
	`cİy_fe
(
cu¼
, 
dÃ
))

419 
badı
 = 
rv®
 = 1;

421 ià(
	`cİy_lšk
(
cu¼
, !
dÃ
))

422 
badı
 = 
rv®
 = 1;

425 
S_IFDIR
:

426 ià(!
Ræag
) {

427 
	`w¬nx
("%s is‡ directory (not copied).",

428 
cu¼
->
ás_·th
);

429 ()
	`ás_£t
(
á¥
, 
cu¼
, 
FTS_SKIP
);

430 
badı
 = 
rv®
 = 1;

441 ià(
dÃ
) {

442 ià(
	`mkdœ
(
to
.
p_·th
,

443 
cu¼
->
ás_¡©p
->
¡_mode
 | 
S_IRWXU
) < 0)

444 
	`”r
(1, "%s", 
to
.
p_·th
);

445 } ià(!
	`S_ISDIR
(
to_¡©
.
¡_mode
)) {

446 
”ºo
 = 
ENOTDIR
;

447 
	`”r
(1, "%s", 
to
.
p_·th
);

454 
cu¼
->
ás_numb”
 = 
pæag
 || 
dÃ
;

456 
S_IFBLK
:

457 
S_IFCHR
:

458 ià(
Ræag
) {

459 ià(
	`cİy_¥ecŸl
(
cu¼
->
ás_¡©p
, !
dÃ
))

460 
badı
 = 
rv®
 = 1;

462 ià(
	`cİy_fe
(
cu¼
, 
dÃ
))

463 
badı
 = 
rv®
 = 1;

466 
S_IFSOCK
:

467 
	`w¬nx
("%s is‡ socket (not copied).",

468 
cu¼
->
ás_·th
);

469 
S_IFIFO
:

470 ià(
Ræag
) {

471 ià(
	`cİy_fifo
(
cu¼
->
ás_¡©p
, !
dÃ
))

472 
badı
 = 
rv®
 = 1;

474 ià(
	`cİy_fe
(
cu¼
, 
dÃ
))

475 
badı
 = 
rv®
 = 1;

479 ià(
	`cİy_fe
(
cu¼
, 
dÃ
))

480 
badı
 = 
rv®
 = 1;

483 ià(
væag
 && !
badı
)

484 ()
	`´štf
("% -> %s\n", 
cu¼
->
ás_·th
, 
to
.
p_·th
);

486 ià(
”ºo
)

487 
	`”r
(1, "fts_read");

488 
	`ás_şo£
(
á¥
);

489  (
rv®
);

490 
	}
}

501 
	$ma¡”cmp
(cÚ¡ 
FTSENT
 * cÚ¡ *
a
, cÚ¡ FTSENT * cÚ¡ *
b
)

503 
a_šfo
, 
b_šfo
;

505 
a_šfo
 = (*
a
)->
ás_šfo
;

506 ià(
a_šfo
 =ğ
FTS_ERR
 ||‡_šfØ=ğ
FTS_NS
 ||‡_šfØ=ğ
FTS_DNR
)

508 
b_šfo
 = (*
b
)->
ás_šfo
;

509 ià(
b_šfo
 =ğ
FTS_ERR
 || b_šfØ=ğ
FTS_NS
 || b_šfØ=ğ
FTS_DNR
)

511 ià(
a_šfo
 =ğ
FTS_D
)

513 ià(
b_šfo
 =ğ
FTS_D
)

516 
	}
}

519 
	$sigšfo
(
sig
 
__unu£d
)

522 
šfo
 = 1;

523 
	}
}

	@cp/extern.h

34 *
	mp_’d
;

35 *
	mrg‘_’d
;

36 
	mp_·th
[
PATH_MAX
];

37 } 
	tPATH_T
;

39 
PATH_T
 
to
;

40 
fæag
, 
iæag
, 
læag
, 
næag
, 
pæag
, 
væag
;

41 vŞ©
sig_©omic_t
 
šfo
;

43 
__BEGIN_DECLS


44 
cİy_fifo
(
¡©
 *, );

45 
cİy_fe
(cÚ¡ 
FTSENT
 *, );

46 
cİy_lšk
(cÚ¡ 
FTSENT
 *, );

47 
cİy_¥ecŸl
(
¡©
 *, );

48 
£tfe
(
¡©
 *, );

49 
´e£rve_dœ_aşs
(
¡©
 *, *, *);

50 
´e£rve_fd_aşs
(, );

51 
u§ge
();

52 
	g__END_DECLS


	@cp/utils.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)utils.c 8.3 (Berkeley) 4/1/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/cp/utils.c,v 1.58.2.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

39 
	~<sys/aş.h
>

40 
	~<sys/·¿m.h
>

41 
	~<sys/¡©.h
>

42 #ifdeà
VM_AND_BUFFER_CACHE_SYNCHRONIZED


43 
	~<sys/mmª.h
>

46 
	~<”r.h
>

47 
	~<”ºo.h
>

48 
	~<fú.h
>

49 
	~<ás.h
>

50 
	~<lim™s.h
>

51 
	~<¡dio.h
>

52 
	~<¡dlib.h
>

53 
	~<sy£x™s.h
>

54 
	~<uni¡d.h
>

56 
	~"ex‹º.h
"

58 
	#ı_pù
(
x
, 
y
è((y =ğ0è? 0 : ()(100.0 * (xè/ (y)))

	)

62 
	#PHYSPAGES_THRESHOLD
 (32*1024)

	)

65 
	#BUFSIZE_MAX
 (2*1024*1024)

	)

69 
	#BUFSIZE_SMALL
 (
MAXPHYS
)

	)

72 
	$cİy_fe
(cÚ¡ 
FTSENT
 *
’
, 
dÃ
)

74 *
buf
 = 
NULL
;

75 
size_t
 
bufsize
;

76 
¡©
 *
fs
;

77 
ssize_t
 
wcouÁ
;

78 
size_t
 
w»sid
;

79 
off_t
 
wtÙ®
;

80 
ch
, 
checkch
, 
äom_fd
 = 0, 
rcouÁ
, 
rv®
, 
to_fd
 = 0;

81 *
buå
;

82 #ifdeà
VM_AND_BUFFER_CACHE_SYNCHRONIZED


83 *
p
;

86 ià((
äom_fd
 = 
	`İ’
(
’
->
ás_·th
, 
O_RDONLY
, 0)) == -1) {

87 
	`w¬n
("%s", 
’
->
ás_·th
);

91 
fs
 = 
’
->
ás_¡©p
;

101 ià(!
dÃ
) {

102 
	#YESNO
 "(y/À[n]è"

	)

103 ià(
næag
) {

104 ià(
væag
)

105 
	`´štf
("% nÙ ov”wr™‹n\n", 
to
.
p_·th
);

106 ()
	`şo£
(
äom_fd
);

108 } ià(
iæag
) {

109 ()
	`årštf
(
¡d”r
, "overwrite %s? %s",

110 
to
.
p_·th
, 
YESNO
);

111 
checkch
 = 
ch
 = 
	`g‘ch¬
();

112 
ch
 !ğ'\n' && ch !ğ
EOF
)

113 
ch
 = 
	`g‘ch¬
();

114 ià(
checkch
 != 'y' && checkch != 'Y') {

115 ()
	`şo£
(
äom_fd
);

116 ()
	`årštf
(
¡d”r
, "not overwritten\n");

121 ià(
fæag
) {

124 ()
	`uÆšk
(
to
.
p_·th
);

125 ià(!
læag
)

126 
to_fd
 = 
	`İ’
(
to
.
p_·th
, 
O_WRONLY
 | 
O_TRUNC
 | 
O_CREAT
,

127 
fs
->
¡_mode
 & ~(
S_ISUID
 | 
S_ISGID
));

129 ià(!
læag
)

131 
to_fd
 = 
	`İ’
(
to
.
p_·th
, 
O_WRONLY
 | 
O_TRUNC
, 0);

134 ià(!
læag
)

135 
to_fd
 = 
	`İ’
(
to
.
p_·th
, 
O_WRONLY
 | 
O_TRUNC
 | 
O_CREAT
,

136 
fs
->
¡_mode
 & ~(
S_ISUID
 | 
S_ISGID
));

139 ià(
to_fd
 == -1) {

140 
	`w¬n
("%s", 
to
.
p_·th
);

141 ()
	`şo£
(
äom_fd
);

145 
rv®
 = 0;

147 ià(!
læag
) {

155 #ifdeà
VM_AND_BUFFER_CACHE_SYNCHRONIZED


156 ià(
	`S_ISREG
(
fs
->
¡_mode
è&& fs->
¡_size
 > 0 &&

157 
fs
->
¡_size
 <= 8 * 1024 * 1024 &&

158 (
p
 = 
	`mm­
(
NULL
, (
size_t
)
fs
->
¡_size
, 
PROT_READ
,

159 
MAP_SHARED
, 
äom_fd
, (
off_t
)0)è!ğ
MAP_FAILED
) {

160 
wtÙ®
 = 0;

161 
buå
 = 
p
, 
w»sid
 = 
fs
->
¡_size
; ;

162 
buå
 +ğ
wcouÁ
, 
w»sid
 -ğ(
size_t
)wcount) {

163 
wcouÁ
 = 
	`wr™e
(
to_fd
, 
buå
, 
w»sid
);

164 ià(
wcouÁ
 <= 0)

166 
wtÙ®
 +ğ
wcouÁ
;

167 ià(
šfo
) {

168 
šfo
 = 0;

169 ()
	`årštf
(
¡d”r
,

171 
’
->
ás_·th
, 
to
.
p_·th
,

172 
	`ı_pù
(
wtÙ®
, 
fs
->
¡_size
));

174 ià(
wcouÁ
 >ğ(
ssize_t
)
w»sid
)

177 ià(
wcouÁ
 !ğ(
ssize_t
)
w»sid
) {

178 
	`w¬n
("%s", 
to
.
p_·th
);

179 
rv®
 = 1;

182 ià(
	`munm­
(
p
, 
fs
->
¡_size
) < 0) {

183 
	`w¬n
("%s", 
’
->
ás_·th
);

184 
rv®
 = 1;

189 ià(
buf
 =ğ
NULL
) {

195 ià(
	`syscÚf
(
_SC_PHYS_PAGES
) >

196 
PHYSPAGES_THRESHOLD
)

197 
bufsize
 = 
	`MIN
(
BUFSIZE_MAX
, 
MAXPHYS
 * 8);

199 
bufsize
 = 
BUFSIZE_SMALL
;

200 
buf
 = 
	`m®loc
(
bufsize
);

201 ià(
buf
 =ğ
NULL
)

202 
	`”r
(1, "Notƒnough memory");

204 
wtÙ®
 = 0;

205 (
rcouÁ
 = 
	`»ad
(
äom_fd
, 
buf
, 
bufsize
)) > 0) {

206 
buå
 = 
buf
, 
w»sid
 = 
rcouÁ
; ;

207 
buå
 +ğ
wcouÁ
, 
w»sid
 -= wcount) {

208 
wcouÁ
 = 
	`wr™e
(
to_fd
, 
buå
, 
w»sid
);

209 ià(
wcouÁ
 <= 0)

211 
wtÙ®
 +ğ
wcouÁ
;

212 ià(
šfo
) {

213 
šfo
 = 0;

214 ()
	`årštf
(
¡d”r
,

216 
’
->
ás_·th
, 
to
.
p_·th
,

217 
	`ı_pù
(
wtÙ®
, 
fs
->
¡_size
));

219 ià(
wcouÁ
 >ğ(
ssize_t
)
w»sid
)

222 ià(
wcouÁ
 !ğ(
ssize_t
)
w»sid
) {

223 
	`w¬n
("%s", 
to
.
p_·th
);

224 
rv®
 = 1;

228 ià(
rcouÁ
 < 0) {

229 
	`w¬n
("%s", 
’
->
ás_·th
);

230 
rv®
 = 1;

234 ià(
	`lšk
(
’
->
ás_·th
, 
to
.
p_·th
)) {

235 
	`w¬n
("%s", 
to
.
p_·th
);

236 
rv®
 = 1;

247 ià(!
læag
) {

248 ià(
pæag
 && 
	`£tfe
(
fs
, 
to_fd
))

249 
rv®
 = 1;

250 ià(
pæag
 && 
	`´e£rve_fd_aşs
(
äom_fd
, 
to_fd
) != 0)

251 
rv®
 = 1;

252 ià(
	`şo£
(
to_fd
)) {

253 
	`w¬n
("%s", 
to
.
p_·th
);

254 
rv®
 = 1;

258 ()
	`şo£
(
äom_fd
);

260  (
rv®
);

261 
	}
}

264 
	$cİy_lšk
(cÚ¡ 
FTSENT
 *
p
, 
exi¡s
)

266 
Ën
;

267 
Îšk
[
PATH_MAX
];

269 ià((
Ën
 = 
	`»adlšk
(
p
->
ás_·th
, 
Îšk
, (llink) - 1)) == -1) {

270 
	`w¬n
("»adlšk: %s", 
p
->
ás_·th
);

273 
Îšk
[
Ën
] = '\0';

274 ià(
exi¡s
 && 
	`uÆšk
(
to
.
p_·th
)) {

275 
	`w¬n
("uÆšk: %s", 
to
.
p_·th
);

278 ià(
	`symlšk
(
Îšk
, 
to
.
p_·th
)) {

279 
	`w¬n
("symlšk: %s", 
Îšk
);

282  (
pæag
 ? 
	`£tfe
(
p
->
ás_¡©p
, -1) : 0);

283 
	}
}

286 
	$cİy_fifo
(
¡©
 *
äom_¡©
, 
exi¡s
)

288 ià(
exi¡s
 && 
	`uÆšk
(
to
.
p_·th
)) {

289 
	`w¬n
("uÆšk: %s", 
to
.
p_·th
);

292 ià(
	`mkfifo
(
to
.
p_·th
, 
äom_¡©
->
¡_mode
)) {

293 
	`w¬n
("mkfifo: %s", 
to
.
p_·th
);

296  (
pæag
 ? 
	`£tfe
(
äom_¡©
, -1) : 0);

297 
	}
}

300 
	$cİy_¥ecŸl
(
¡©
 *
äom_¡©
, 
exi¡s
)

302 ià(
exi¡s
 && 
	`uÆšk
(
to
.
p_·th
)) {

303 
	`w¬n
("uÆšk: %s", 
to
.
p_·th
);

306 ià(
	`mknod
(
to
.
p_·th
, 
äom_¡©
->
¡_mode
, from_¡©->
¡_rdev
)) {

307 
	`w¬n
("mknod: %s", 
to
.
p_·th
);

310  (
pæag
 ? 
	`£tfe
(
äom_¡©
, -1) : 0);

311 
	}
}

314 
	$£tfe
(
¡©
 *
fs
, 
fd
)

316 
timev®
 
tv
[2];

317 
¡©
 
ts
;

318 
rv®
, 
gÙ¡©
, 
i¦šk
, 
fdv®
;

320 
rv®
 = 0;

321 
fdv®
 = 
fd
 != -1;

322 
i¦šk
 = !
fdv®
 && 
	`S_ISLNK
(
fs
->
¡_mode
);

323 
fs
->
¡_mode
 &ğ
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
 |

324 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
;

326 
	`TIMESPEC_TO_TIMEVAL
(&
tv
[0], &
fs
->
¡_©ime¥ec
);

327 
	`TIMESPEC_TO_TIMEVAL
(&
tv
[1], &
fs
->
¡_mtime¥ec
);

328 ià(
i¦šk
 ? 
	`lutimes
(
to
.
p_·th
, 
tv
è: 
	`utimes
(to.p_path,v)) {

329 
	`w¬n
("%sutimes: %s", 
i¦šk
 ? "l" : "", 
to
.
p_·th
);

330 
rv®
 = 1;

332 ià(
fdv®
 ? 
	`f¡©
(
fd
, &
ts
) :

333 (
i¦šk
 ? 
	`l¡©
(
to
.
p_·th
, &
ts
è: 
	`¡©
(to.p_path, &ts)))

334 
gÙ¡©
 = 0;

336 
gÙ¡©
 = 1;

337 
ts
.
¡_mode
 &ğ
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
 |

338 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
;

346 ià(!
gÙ¡©
 || 
fs
->
¡_uid
 !ğ
ts
.¡_uid || fs->
¡_gid
 !=s.st_gid)

347 ià(
fdv®
 ? 
	`fchown
(
fd
, 
fs
->
¡_uid
, fs->
¡_gid
) :

348 (
i¦šk
 ? 
	`lchown
(
to
.
p_·th
, 
fs
->
¡_uid
, fs->
¡_gid
) :

349 
	`chown
(
to
.
p_·th
, 
fs
->
¡_uid
, fs->
¡_gid
))) {

350 ià(
”ºo
 !ğ
EPERM
) {

351 
	`w¬n
("chown: %s", 
to
.
p_·th
);

352 
rv®
 = 1;

354 
fs
->
¡_mode
 &ğ~(
S_ISUID
 | 
S_ISGID
);

357 ià(!
gÙ¡©
 || 
fs
->
¡_mode
 !ğ
ts
.st_mode)

358 ià(
fdv®
 ? 
	`fchmod
(
fd
, 
fs
->
¡_mode
) :

359 (
i¦šk
 ? 
	`lchmod
(
to
.
p_·th
, 
fs
->
¡_mode
) :

360 
	`chmod
(
to
.
p_·th
, 
fs
->
¡_mode
))) {

361 
	`w¬n
("chmod: %s", 
to
.
p_·th
);

362 
rv®
 = 1;

365 ià(!
gÙ¡©
 || 
fs
->
¡_æags
 !ğ
ts
.st_flags)

366 ià(
fdv®
 ?

367 
	`fchæags
(
fd
, 
fs
->
¡_æags
) :

368 (
i¦šk
 ? 
	`lchæags
(
to
.
p_·th
, 
fs
->
¡_æags
) :

369 
	`chæags
(
to
.
p_·th
, 
fs
->
¡_æags
))) {

370 
	`w¬n
("chæags: %s", 
to
.
p_·th
);

371 
rv®
 = 1;

374  (
rv®
);

375 
	}
}

378 
	$´e£rve_fd_aşs
(
sourû_fd
, 
de¡_fd
)

380 
aş_t
 
aş
;

381 
aş_ty³_t
 
aş_ty³
;

382 
aş_suµÜ‹d
 = 0, 
»t
, 
ŒivŸl
;

384 
»t
 = 
	`å©hcÚf
(
sourû_fd
, 
_PC_ACL_NFS4
);

385 ià(
»t
 > 0 ) {

386 
aş_suµÜ‹d
 = 1;

387 
aş_ty³
 = 
ACL_TYPE_NFS4
;

388 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

389 
	`w¬n
("å©hcÚf(..., _PC_ACL_NFS4èçed fÜ %s", 
to
.
p_·th
);

392 ià(
aş_suµÜ‹d
 == 0) {

393 
»t
 = 
	`å©hcÚf
(
sourû_fd
, 
_PC_ACL_EXTENDED
);

394 ià(
»t
 > 0 ) {

395 
aş_suµÜ‹d
 = 1;

396 
aş_ty³
 = 
ACL_TYPE_ACCESS
;

397 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

398 
	`w¬n
("fpathconf(..., _PC_ACL_EXTENDED) failed for %s",

399 
to
.
p_·th
);

403 ià(
aş_suµÜ‹d
 == 0)

406 
aş
 = 
	`aş_g‘_fd_Å
(
sourû_fd
, 
aş_ty³
);

407 ià(
aş
 =ğ
NULL
) {

408 
	`w¬n
("çedØg‘‡şƒÁr› wh£‰šg %s", 
to
.
p_·th
);

411 ià(
	`aş_is_ŒivŸl_Å
(
aş
, &
ŒivŸl
)) {

412 
	`w¬n
("aş_is_ŒivŸl(èçed fÜ %s", 
to
.
p_·th
);

413 
	`aş_ä“
(
aş
);

416 ià(
ŒivŸl
) {

417 
	`aş_ä“
(
aş
);

420 ià(
	`aş_£t_fd_Å
(
de¡_fd
, 
aş
, 
aş_ty³
) < 0) {

421 
	`w¬n
("çedØ£ˆaşƒÁr› fÜ %s", 
to
.
p_·th
);

422 
	`aş_ä“
(
aş
);

425 
	`aş_ä“
(
aş
);

427 
	}
}

430 
	$´e£rve_dœ_aşs
(
¡©
 *
fs
, *
sourû_dœ
, *
de¡_dœ
)

432 
	`aş_t
 (*
aşg‘f
)(cÚ¡ *, 
aş_ty³_t
);

433 (*
aş£tf
)(cÚ¡ *, 
aş_ty³_t
, 
aş_t
);

434 
aş
 *
aşp
;

435 
aş_t
 
aş
;

436 
aş_ty³_t
 
aş_ty³
;

437 
aş_suµÜ‹d
 = 0, 
»t
, 
ŒivŸl
;

439 
»t
 = 
	`·thcÚf
(
sourû_dœ
, 
_PC_ACL_NFS4
);

440 ià(
»t
 > 0) {

441 
aş_suµÜ‹d
 = 1;

442 
aş_ty³
 = 
ACL_TYPE_NFS4
;

443 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

444 
	`w¬n
("å©hcÚf(..., _PC_ACL_NFS4èçed fÜ %s", 
sourû_dœ
);

447 ià(
aş_suµÜ‹d
 == 0) {

448 
»t
 = 
	`·thcÚf
(
sourû_dœ
, 
_PC_ACL_EXTENDED
);

449 ià(
»t
 > 0) {

450 
aş_suµÜ‹d
 = 1;

451 
aş_ty³
 = 
ACL_TYPE_ACCESS
;

452 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

453 
	`w¬n
("fpathconf(..., _PC_ACL_EXTENDED) failed for %s",

454 
sourû_dœ
);

458 ià(
aş_suµÜ‹d
 == 0)

464 ià(
	`S_ISLNK
(
fs
->
¡_mode
)) {

465 
aşg‘f
 = 
aş_g‘_lšk_Å
;

466 
aş£tf
 = 
aş_£t_lšk_Å
;

468 
aşg‘f
 = 
aş_g‘_fe
;

469 
aş£tf
 = 
aş_£t_fe
;

471 ià(
aş_ty³
 =ğ
ACL_TYPE_ACCESS
) {

477 
aş
 = 
	`aşg‘f
(
sourû_dœ
, 
ACL_TYPE_DEFAULT
);

478 ià(
aş
 =ğ
NULL
) {

479 
	`w¬n
("failedo get default‡clƒntries on %s",

480 
sourû_dœ
);

483 
aşp
 = &
aş
->
©s_aş
;

484 ià(
aşp
->
aş_út
 !ğ0 && 
	`aş£tf
(
de¡_dœ
,

485 
ACL_TYPE_DEFAULT
, 
aş
) < 0) {

486 
	`w¬n
("failedo set default‡clƒntries on %s",

487 
de¡_dœ
);

488 
	`aş_ä“
(
aş
);

491 
	`aş_ä“
(
aş
);

493 
aş
 = 
	`aşg‘f
(
sourû_dœ
, 
aş_ty³
);

494 ià(
aş
 =ğ
NULL
) {

495 
	`w¬n
("çedØg‘‡şƒÁr› Ú %s", 
sourû_dœ
);

498 ià(
	`aş_is_ŒivŸl_Å
(
aş
, &
ŒivŸl
)) {

499 
	`w¬n
("aş_is_ŒivŸl(èçed oÀ%s", 
sourû_dœ
);

500 
	`aş_ä“
(
aş
);

503 ià(
ŒivŸl
) {

504 
	`aş_ä“
(
aş
);

507 ià(
	`aş£tf
(
de¡_dœ
, 
aş_ty³
, 
aş
) < 0) {

508 
	`w¬n
("çedØ£ˆaşƒÁr› Ú %s", 
de¡_dœ
);

509 
	`aş_ä“
(
aş
);

512 
	`aş_ä“
(
aş
);

514 
	}
}

517 
	$u§ge
()

520 ()
	`årštf
(
¡d”r
, "%s\n%s\n",

524 
	`ex™
(
EX_USAGE
);

525 
	}
}

	@csh/config.h

7 
	#GETGROUPS_T
 
gid_t


	)

10 
	#GETPGRP_VOID
 1

	)

16 
	#HAVE_CATGETS
 1

	)

23 
	#HAVE_DECL_CRYPT
 1

	)

27 
	#HAVE_DECL_ENVIRON
 0

	)

31 
	#HAVE_DECL_GETHOSTNAME
 1

	)

35 
	#HAVE_DECL_GETPGRP
 1

	)

39 
	#HAVE_DIRENT_H
 1

	)

42 
	#HAVE_DUP2
 1

	)

48 
	#HAVE_GETCWD
 1

	)

51 
	#HAVE_GETHOSTNAME
 1

	)

54 
	#HAVE_GETPWENT
 1

	)

63 
	#HAVE_INTTYPES_H
 1

	)

66 
	#HAVE_LONG_LONG
 1

	)

69 
	#HAVE_MBRTOWC
 1

	)

72 
	#HAVE_MEMMOVE
 1

	)

75 
	#HAVE_MEMORY_H
 1

	)

78 
	#HAVE_MEMSET
 1

	)

84 
	#HAVE_NICE
 1

	)

87 
	#HAVE_NL_LANGINFO
 1

	)

90 
	#HAVE_SBRK
 1

	)

93 
	#HAVE_SETPGID
 1

	)

96 
	#HAVE_SETPRIORITY
 1

	)

102 
	#HAVE_STDINT_H
 1

	)

105 
	#HAVE_STDLIB_H
 1

	)

109 
	#HAVE_STRCOLL
 1

	)

112 
	#HAVE_STRERROR
 1

	)

115 
	#HAVE_STRINGS_H
 1

	)

118 
	#HAVE_STRING_H
 1

	)

121 
	#HAVE_STRSTR
 1

	)

124 
	#HAVE_STRUCT_DIRENT_D_INO
 1

	)

127 
	#HAVE_STRUCT_SOCKADDR_STORAGE_SS_FAMILY
 1

	)

130 
	#HAVE_STRUCT_UTMP_UT_HOST
 1

	)

142 
	#HAVE_SYSCONF
 1

	)

153 
	#HAVE_SYS_STAT_H
 1

	)

156 
	#HAVE_SYS_TYPES_H
 1

	)

159 
	#HAVE_UNISTD_H
 1

	)

165 
	#HAVE_UTMP_H
 1

	)

168 
	#HAVE_WCHAR_H
 1

	)

171 
	#HAVE_WCTYPE_H
 1

	)

174 
	#HAVE_WCWIDTH
 1

	)

177 
	#ICONV_CONST
 cÚ¡

	)

180 
	#NLS
 1

	)

183 
	#PACKAGE_BUGREPORT
 ""

	)

186 
	#PACKAGE_NAME
 ""

	)

189 
	#PACKAGE_STRING
 ""

	)

192 
	#PACKAGE_TARNAME
 ""

	)

195 
	#PACKAGE_VERSION
 ""

	)

201 
	#SIZEOF_WCHAR_T
 4

	)

207 
	#STDC_HEADERS
 1

	)

234 
	~"cÚfig_p.h
"

235 
	~"cÚfig_f.h
"

237 #iâdeà
NO_NLS_CATALOGS


238 
	#NLS_CATALOGS


	)

242 
	#SYSMALLOC


	)

	@csh/config_p.h

10 #iâdeà
_h_cÚfig


11 
	#_h_cÚfig


	)

16 
	#POSIX


	)

22 
	#POSIXJOBS


	)

37 
	#VFORK


	)

43 
	#BSDJOBS


	)

50 
	#BSDTIMES


	)

55 
	#BSDLIMIT


	)

63 
	#TERMIO


	)

72 
	#SYSVREL
 0

	)

78 #undeà
YPBUGS


82 #ià
defšed
(
__F»eBSD__
)

83 
	#NLS_BUGS


	)

84 
	#BSD_STYLE_COLORLS


	)

86 
	#MCLßdByS‘
 
NL_CAT_LOCALE


	)

87 
	#BUFSIZE
 8192

	)

90 #ià
defšed
(
__bsdi__
)

94 
	~<sys/·¿m.h
>

95 #ifdeà
_BSDI_VERSION
 >= 199701

96 
	#_PATH_TCSHELL
 "/bš/tcsh"

	)

97 #undeà
SYSMALLOC


98 
	#SYSMALLOC


	)

100 
	#_PATH_TCSHELL
 "/u¤/cÚŒib/bš/tcsh"

	)

103 #undeà
NLS


104 #undeà
NLS_CATALOGS


106 #–ià
defšed
(
__APPLE__
)

107 
	#SYSMALLOC


	)

110 
	#NLS_CATALOGS


	)

	@csh/iconv.h

29 #iâdeà
_ICONV_H_


30 
	#_ICONV_H_


	)

32 *
	ticÚv_t
;

33 
size_t
 
	tdl_icÚv_t
(
	ticÚv_t
, cÚ¡ **, 
	tsize_t
 *, **, size_t *);

34 
	tdl_icÚv_şo£_t
(
	ticÚv_t
);

36 
icÚv_t
 
dl_icÚv_İ’
(const *, const *);

37 
dl_icÚv_t
 *
dl_icÚv
;

38 
dl_icÚv_şo£_t
 *
dl_icÚv_şo£
;

40 
	#icÚv_İ’
 
dl_icÚv_İ’


	)

41 
	#icÚv
 
dl_icÚv


	)

42 
	#icÚv_şo£
 
dl_icÚv_şo£


	)

	@csh/iconv_stub.c

29 
	~<dlfú.h
>

30 
	~<¡ddef.h
>

32 
	~"icÚv.h
"

34 #undeà
icÚv_İ’


35 #undeà
icÚv


36 #undeà
icÚv_şo£


38 
	#ICONVLIB
 "libicÚv.so"

	)

39 
	#ICONV_ENGINE
 "icÚv"

	)

40 
	#ICONV_OPEN
 "icÚv_İ’"

	)

41 
	#ICONV_CLOSE
 "icÚv_şo£"

	)

43 
icÚv_t
 
	ticÚv_İ’_t
(const *, const *);

45 
dl_icÚv_t
 *
	gdl_icÚv
;

46 
dl_icÚv_şo£_t
 *
	gdl_icÚv_şo£
;

48 
	gš™Ÿlized
;

49 *
	gicÚvlib
;

50 
icÚv_İ’_t
 *
	gicÚv_İ’
;

52 
icÚv_t


53 
	$dl_icÚv_İ’
(cÚ¡ *
tocode
, cÚ¡ *
äomcode
)

55 ià(
š™Ÿlized
) {

56 ià(
icÚvlib
 =ğ
NULL
)

57  (
icÚv_t
)-1;

59 
š™Ÿlized
 = 1;

60 
icÚvlib
 = 
	`dlİ’
(
ICONVLIB
, 
RTLD_LAZY
 | 
RTLD_GLOBAL
);

61 ià(
icÚvlib
 =ğ
NULL
)

62  (
icÚv_t
)-1;

63 
icÚv_İ’
 = (
icÚv_İ’_t
 *)
	`dlfunc
(
icÚvlib
, 
ICONV_OPEN
);

64 ià(
icÚv_İ’
 =ğ
NULL
)

65 
dlfunc_”r
;

66 
dl_icÚv
 = (
dl_icÚv_t
 *)
	`dlfunc
(
icÚvlib
, 
ICONV_ENGINE
);

67 ià(
dl_icÚv
 =ğ
NULL
)

68 
dlfunc_”r
;

69 
dl_icÚv_şo£
 = (
dl_icÚv_şo£_t
 *)
	`dlfunc
(
icÚvlib
,

70 
ICONV_CLOSE
);

71 ià(
dl_icÚv_şo£
 =ğ
NULL
)

72 
dlfunc_”r
;

74  
	`icÚv_İ’
(
tocode
, 
äomcode
);

76 
dlfunc_”r
:

77 
	`dlşo£
(
icÚvlib
);

78 
icÚvlib
 = 
NULL
;

79  (
icÚv_t
)-1;

80 
	}
}

	@date/date.c

30 #iâdeà
lšt


31 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)date.c 8.2 (Berkeley) 4/28/95";

42 
	~<sys/cdefs.h
>

43 
__FBSDID
("$FreeBSD: src/bin/date/date.c,v 1.48.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

45 
	~<sys/·¿m.h
>

46 
	~<sys/time.h
>

48 
	~<ùy³.h
>

49 
	~<”r.h
>

50 
	~<loÿË.h
>

51 
	~<libut.h
>

52 
	~<¡dio.h
>

53 
	~<¡dlib.h
>

54 
	~<¡ršg.h
>

55 
	~<sy¦og.h
>

56 
	~<uni¡d.h
>

58 
	~"ex‹º.h
"

59 
	~"v¬y.h
"

61 #iâdef 
TM_YEAR_BASE


62 
	#TM_YEAR_BASE
 1900

	)

65 
time_t
 
	gtv®
;

66 
	g»tv®
;

68 
£‰h‘ime
(const *, const *, , );

69 
badfÜm©
();

70 
u§ge
();

73 
	$maš
(
¬gc
, *
¬gv
[])

75 
timezÚe
 
tz
;

76 
ch
, 
ræag
;

77 
jæag
, 
næag
;

78 cÚ¡ *
fÜm©
;

79 
buf
[1024];

80 *
’d±r
, *
fmt
;

81 *
tmp
;

82 
£t_timezÚe
;

83 
v¬y
 *
v
;

84 cÚ¡ 
v¬y
 *
badv
;

85 
tm
 
É
;

87 
v
 = 
NULL
;

88 
fmt
 = 
NULL
;

89 (è
	`£oÿË
(
LC_TIME
, "");

90 
tz
.
tz_d¡time
 =z.
tz_mšu‹swe¡
 = 0;

91 
ræag
 = 0;

92 
jæag
 = 
næag
 = 0;

93 
£t_timezÚe
 = 0;

94 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "d:f:jnr:t:uv:")) != -1)

95 ()
ch
) {

97 
tz
.
tz_d¡time
 = 
	`¡¹Ş
(
İrg
, &
’d±r
, 10) ? 1 : 0;

98 ià(
’d±r
 =ğ
İrg
 || *endptr != '\0')

99 
	`u§ge
();

100 
£t_timezÚe
 = 1;

103 
fmt
 = 
İrg
;

106 
jæag
 = 1;

109 
næag
 = 1;

112 
ræag
 = 1;

113 
tv®
 = 
	`¡¹oq
(
İrg
, &
tmp
, 0);

114 ià(*
tmp
 != 0)

115 
	`u§ge
();

119 
tz
.
tz_mšu‹swe¡
 = 
	`¡¹Ş
(
İrg
, &
’d±r
, 10);

120 ià(
’d±r
 =ğ
İrg
 || *endptr != '\0')

121 
	`u§ge
();

122 
£t_timezÚe
 = 1;

125 ()
	`£‹nv
("TZ", "UTC0", 1);

128 
v
 = 
	`v¬y_­³nd
(v, 
İrg
);

131 
	`u§ge
();

133 
¬gc
 -ğ
İtšd
;

134 
¬gv
 +ğ
İtšd
;

140 ià(
£t_timezÚe
 && 
	`£‰imeofday
((
timev®
 *)
NULL
, &
tz
))

141 
	`”r
(1, "settimeofday (timezone)");

143 ià(!
ræag
 && 
	`time
(&
tv®
) == -1)

144 
	`”r
(1, "time");

146 
fÜm©
 = "%+";

149 ià(*
¬gv
 && **argv == '+') {

150 
fÜm©
 = *
¬gv
 + 1;

151 ++
¬gv
;

154 ià(*
¬gv
) {

155 
	`£‰h‘ime
(
fmt
, *
¬gv
, 
jæag
, 
næag
);

156 ++
¬gv
;

157 } ià(
fmt
 !ğ
NULL
)

158 
	`u§ge
();

160 ià(*
¬gv
 && **argv == '+')

161 
fÜm©
 = *
¬gv
 + 1;

163 
É
 = *
	`loÿÉime
(&
tv®
);

164 
badv
 = 
	`v¬y_­¶y
(
v
, &
É
);

165 ià(
badv
) {

166 
	`årštf
(
¡d”r
, "%s: Cannot‡pply date‡djustment\n",

167 
badv
->
¬g
);

168 
	`v¬y_de¡roy
(
v
);

169 
	`u§ge
();

171 
	`v¬y_de¡roy
(
v
);

172 ()
	`¡ráime
(
buf
, (buf), 
fÜm©
, &
É
);

173 ()
	`´štf
("%s\n", 
buf
);

174 ià(
	`fæush
(
¡dout
))

175 
	`”r
(1, "stdout");

176 
	`ex™
(
»tv®
);

177 
	}
}

179 
	#ATOI2
(
s
è((sè+ğ2, ((s)[-2] - '0'è* 10 + ((s)[-1] - '0'))

	)

182 
	$£‰h‘ime
(cÚ¡ *
fmt
, cÚ¡ *
p
, 
jæag
, 
næag
)

184 
tm
 *
É
;

185 
timev®
 
tv
;

186 cÚ¡ *
dÙ
, *
t
;

187 
ûÁury
;

189 
É
 = 
	`loÿÉime
(&
tv®
);

190 
É
->
tm_isd¡
 = -1;

192 ià(
fmt
 !ğ
NULL
) {

193 
t
 = 
	`¡½time
(
p
, 
fmt
, 
É
);

194 ià(
t
 =ğ
NULL
) {

195 
	`årštf
(
¡d”r
, "Failed conversion of ``%s''"

196 " usšg fÜm© ``%s''\n", 
p
, 
fmt
);

197 
	`badfÜm©
();

198 } ià(*
t
 != '\0')

199 
	`årštf
(
¡d”r
, "Warning: Ignoring %ldƒxtraneous"

201 (è
	`¡¾’
(
t
),);

203 
t
 = 
p
, 
dÙ
 = 
NULL
; *t; ++t) {

204 ià(
	`isdig™
(*
t
))

206 ià(*
t
 =ğ'.' && 
dÙ
 =ğ
NULL
) {

207 
dÙ
 = 
t
;

210 
	`badfÜm©
();

213 ià(
dÙ
 !ğ
NULL
) {

214 
dÙ
++;

215 ià(
	`¡¾’
(
dÙ
) != 2)

216 
	`badfÜm©
();

217 
É
->
tm_£c
 = 
	`ATOI2
(
dÙ
);

218 ià(
É
->
tm_£c
 > 61)

219 
	`badfÜm©
();

221 
É
->
tm_£c
 = 0;

223 
ûÁury
 = 0;

225 
	`¡¾’
(
p
è- ((
dÙ
 !ğ
NULL
) ? 3 : 0)) {

227 
É
->
tm_y—r
 = 
	`ATOI2
(
p
è* 100 - 
TM_YEAR_BASE
;

228 
ûÁury
 = 1;

231 ià(
ûÁury
)

232 
É
->
tm_y—r
 +ğ
	`ATOI2
(
p
);

234 
É
->
tm_y—r
 = 
	`ATOI2
(
p
);

235 ià(
É
->
tm_y—r
 < 69)

236 
É
->
tm_y—r
 +ğ2000 - 
TM_YEAR_BASE
;

238 
É
->
tm_y—r
 +ğ1900 - 
TM_YEAR_BASE
;

242 
É
->
tm_mÚ
 = 
	`ATOI2
(
p
);

243 ià(
É
->
tm_mÚ
 > 12)

244 
	`badfÜm©
();

245 --
É
->
tm_mÚ
;

248 
É
->
tm_mday
 = 
	`ATOI2
(
p
);

249 ià(
É
->
tm_mday
 > 31)

250 
	`badfÜm©
();

253 
É
->
tm_hour
 = 
	`ATOI2
(
p
);

254 ià(
É
->
tm_hour
 > 23)

255 
	`badfÜm©
();

258 
É
->
tm_mš
 = 
	`ATOI2
(
p
);

259 ià(
É
->
tm_mš
 > 59)

260 
	`badfÜm©
();

263 
	`badfÜm©
();

268 ià((
tv®
 = 
	`mktime
(
É
)) == -1)

269 
	`”rx
(1, "nonexistentime");

271 ià(!
jæag
) {

273 ià(
næag
 || 
	`Ãt£‰ime
(
tv®
)) {

274 
	`logwtmp
("|", "date", "");

275 
tv
.
tv_£c
 = 
tv®
;

276 
tv
.
tv_u£c
 = 0;

277 ià(
	`£‰imeofday
(&
tv
, (
timezÚe
 *)
NULL
))

278 
	`”r
(1, "settimeofday (timeval)");

279 
	`logwtmp
("{", "date", "");

282 ià((
p
 = 
	`g‘logš
()è=ğ
NULL
)

283 
p
 = "???";

284 
	`sy¦og
(
LOG_AUTH
 | 
LOG_NOTICE
, "d©£ˆby %s", 
p
);

286 
	}
}

289 
	$badfÜm©
()

291 
	`w¬nx
("illegalime format");

292 
	`u§ge
();

293 
	}
}

296 
	$u§ge
()

298 ()
	`årštf
(
¡d”r
, "%s\n%s\n",

303 
	`ex™
(1);

304 
	}
}

	@date/extern.h

33 
Ãt£‰ime
(
time_t
);

	@date/netdate.c

31 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)netdate.c 8.1 (Berkeley) 5/31/93";

36 
	~<sys/cdefs.h
>

37 
__FBSDID
("$FreeBSD: src/bin/date/netdate.c,v 1.19.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

39 
	~<sys/·¿m.h
>

40 
	~<sys/time.h
>

41 
	~<sys/sock‘.h
>

43 
	~<Ãtš‘/š.h
>

44 
	~<Ãtdb.h
>

45 
	#TSPTYPES


	)

46 
	~<´ÙocŞs/timed.h
>

48 
	~<”r.h
>

49 
	~<”ºo.h
>

50 
	~<¡ršg.h
>

51 
	~<uni¡d.h
>

53 
	~"ex‹º.h
"

55 
	#WAITACK
 2

	)

56 
	#WAITDATEACK
 5

	)

58 
»tv®
;

68 
	$Ãt£‰ime
(
time_t
 
tv®
)

70 
timev®
 
tout
;

71 
£rv’t
 *
¥
;

72 
t¥
 
msg
;

73 
sockaddr_š
 
lsš
, 
de¡
, 
äom
;

74 
fd_£t
 
»ady
;

75 
wa™time
;

76 
s
, 
pÜt
, 
timed_ack
, 
found
, 
Ë¼
;

77 
sockËn_t
 
Ëngth
;

78 
ho¡Çme
[
MAXHOSTNAMELEN
];

80 ià((
¥
 = 
	`g‘£rvbyÇme
("timed", "udp")è=ğ
NULL
) {

81 
	`w¬nx
("timed/udp: unknown service");

82  (
»tv®
 = 2);

85 
de¡
.
sš_pÜt
 = 
¥
->
s_pÜt
;

86 
de¡
.
sš_çmy
 = 
AF_INET
;

87 
de¡
.
sš_addr
.
s_addr
 = 
	`htÚl
((
u_lÚg
)
INADDR_ANY
);

88 
s
 = 
	`sock‘
(
AF_INET
, 
SOCK_DGRAM
, 0);

89 ià(
s
 < 0) {

90 ià(
”ºo
 !ğ
EPROTONOSUPPORT
)

91 
	`w¬n
("timed");

92  (
»tv®
 = 2);

95 
	`mem£t
(&
lsš
, 0, (lsin));

96 
lsš
.
sš_çmy
 = 
AF_INET
;

97 
pÜt
 = 
IPPORT_RESERVED
 - 1;…ort > IPPORT_RESERVED / 2;…ort--) {

98 
lsš
.
sš_pÜt
 = 
	`htÚs
((
u_shÜt
)
pÜt
);

99 ià(
	`bšd
(
s
, (
sockaddr
 *)&
lsš
, (lsin)) >= 0)

101 ià(
”ºo
 =ğ
EADDRINUSE
)

103 ià(
”ºo
 !ğ
EADDRNOTAVAIL
)

104 
	`w¬n
("bind");

105 
bad
;

107 ià(
pÜt
 =ğ
IPPORT_RESERVED
 / 2) {

108 
	`w¬nx
("all…orts in use");

109 
bad
;

111 
	`mem£t
(&
msg
, 0, (msg));

112 
msg
.
t¥_ty³
 = 
TSP_SETDATE
;

113 
msg
.
t¥_v”s
 = 
TSPVERSION
;

114 ià(
	`g‘ho¡Çme
(
ho¡Çme
, (hostname))) {

115 
	`w¬n
("gethostname");

116 
bad
;

118 ()
	`¡¾ıy
(
msg
.
t¥_Çme
, 
ho¡Çme
, (msg.tsp_name));

119 
msg
.
t¥_£q
 = 
	`htÚs
((
u_shÜt
)0);

120 
msg
.
t¥_time
.
tv_£c
 = 
	`htÚl
((
u_lÚg
)
tv®
);

121 
msg
.
t¥_time
.
tv_u£c
 = 
	`htÚl
((
u_lÚg
)0);

122 
Ëngth
 = (
sockaddr_š
);

123 ià(
	`cÚÃù
(
s
, (
sockaddr
 *)&
de¡
, 
Ëngth
) < 0) {

124 
	`w¬n
("connect");

125 
bad
;

127 ià(
	`£nd
(
s
, (*)&
msg
, (
t¥
), 0) < 0) {

128 ià(
”ºo
 !ğ
ECONNREFUSED
)

129 
	`w¬n
("send");

130 
bad
;

133 
timed_ack
 = -1;

134 
wa™time
 = 
WAITACK
;

135 
loİ
:

136 
tout
.
tv_£c
 = 
wa™time
;

137 
tout
.
tv_u£c
 = 0;

139 
	`FD_ZERO
(&
»ady
);

140 
	`FD_SET
(
s
, &
»ady
);

141 
found
 = 
	`£Ëù
(
FD_SETSIZE
, &
»ady
, (
fd_£t
 *)0, (fd_£ˆ*)0, &
tout
);

143 
Ëngth
 = (
Ë¼
);

144 ià(!
	`g‘sockİt
(
s
,

145 
SOL_SOCKET
, 
SO_ERROR
, (*)&
Ë¼
, &
Ëngth
) &&†err) {

146 ià(
Ë¼
 !ğ
ECONNREFUSED
)

147 
	`w¬nc
(
Ë¼
, "send (delayedƒrror)");

148 
bad
;

151 ià(
found
 > 0 && 
	`FD_ISSET
(
s
, &
»ady
)) {

152 
Ëngth
 = (
sockaddr_š
);

153 ià(
	`»cväom
(
s
, &
msg
, (
t¥
), 0,

154 (
sockaddr
 *)&
äom
, &
Ëngth
) < 0) {

155 ià(
”ºo
 !ğ
ECONNREFUSED
)

156 
	`w¬n
("recvfrom");

157 
bad
;

159 
msg
.
t¥_£q
 = 
	`Áohs
(msg.tsp_seq);

160 
msg
.
t¥_time
.
tv_£c
 = 
	`Áohl
(msg.tsp_time.tv_sec);

161 
msg
.
t¥_time
.
tv_u£c
 = 
	`Áohl
(msg.tsp_time.tv_usec);

162 
msg
.
t¥_ty³
) {

163 
TSP_ACK
:

164 
timed_ack
 = 
TSP_ACK
;

165 
wa™time
 = 
WAITDATEACK
;

166 
loİ
;

167 
TSP_DATEACK
:

168 ()
	`şo£
(
s
);

171 
	`w¬nx
("wrong‡ck„eceived fromimed: %s",

172 
t¥ty³
[
msg
.
t¥_ty³
]);

173 
timed_ack
 = -1;

177 ià(
timed_ack
 == -1)

178 
	`w¬nx
("can't„eachime daemon,ime set†ocally");

180 
bad
:

181 ()
	`şo£
(
s
);

182  (
»tv®
 = 2);

183 
	}
}

	@date/vary.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/date/vary.c,v 1.16.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<”r.h
>

31 
	~<time.h
>

32 
	~<¡ršg.h
>

33 
	~<¡dlib.h
>

34 
	~"v¬y.h
"

36 
	sŒªs
 {

37 
	mv®
;

38 cÚ¡ *
	m¡r
;

41 
Œªs
 
	gŒªs_mÚ
[] = {

45 { -1, 
NULL
 }

48 
Œªs
 
	gŒªs_wday
[] = {

51 { -1, 
NULL
 }

54 
	gdig™s
[] = "0123456789";

55 
adjhour
(
tm
 *, , , );

58 
	$domktime
(
tm
 *
t
, 
ty³
)

60 
time_t
 
»t
;

62 (
»t
 = 
	`mktime
(
t
)è=ğ-1 &&->
tm_y—r
 > 68 &&->tm_year < 138)

64 
	`adjhour
(
t
, 
ty³
 == '-' ?ype : '+', 1, 0);

66  
»t
;

67 
	}
}

70 
	$Œªs
(cÚ¡ 
Œªs
 
t
[], cÚ¡ *
¬g
)

72 
f
;

74 
f
 = 0; 
t
[f].
v®
 != -1; f++)

75 ià(!
	`¡ºÿ£cmp
(
t
[
f
].
¡r
, 
¬g
, 3) ||

76 !
	`¡ºÿ£cmp
(
t
[
f
].
¡r
, 
¬g
, 
	`¡¾’
(t[f].str)))

77  
t
[
f
].
v®
;

80 
	}
}

82 
v¬y
 *

83 
	$v¬y_­³nd
(
v¬y
 *
v
, *
¬g
)

85 
v¬y
 *
»suÉ
, **
Ãx
;

87 ià(
v
) {

88 
»suÉ
 = 
v
;

89 
v
->
Ãxt
)

90 
v
 = v->
Ãxt
;

91 
Ãx
 = &
v
->
Ãxt
;

93 
Ãx
 = &
»suÉ
;

95 ià((*
Ãx
 = (
v¬y
 *)
	`m®loc
((v¬y))è=ğ
NULL
)

96 
	`”r
(1, "malloc");

97 (*
Ãx
)->
¬g
 =‡rg;

98 (*
Ãx
)->
Ãxt
 = 
NULL
;

99  
»suÉ
;

100 
	}
}

102 
	gmdays
[12] = { 31, 0, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };

105 
	$daysšmÚth
(cÚ¡ 
tm
 *
t
)

107 
y—r
;

109 
y—r
 = 
t
->
tm_y—r
 + 1900;

111 ià(
t
->
tm_mÚ
 == 1)

112 ià(!(
y—r
 % 400))

114 ià(!(
y—r
 % 100))

116 ià(!(
y—r
 % 4))

120 ià(
t
->
tm_mÚ
 >= 0 &&->tm_mon < 12)

121  
mdays
[
t
->
tm_mÚ
];

124 
	}
}

128 
	$adjy—r
(
tm
 *
t
, 
ty³
, 
v®
, 
mk
)

130 
ty³
) {

132 
t
->
tm_y—r
 +ğ
v®
;

135 
t
->
tm_y—r
 -ğ
v®
;

138 
t
->
tm_y—r
 = 
v®
;

139 ià(
t
->
tm_y—r
 < 69)

140 
t
->
tm_y—r
 += 100;

141 ià(
t
->
tm_y—r
 > 1900)

142 
t
->
tm_y—r
 -= 1900;

145  !
mk
 || 
	`domktime
(
t
, 
ty³
) != -1;

146 
	}
}

149 
	$adjmÚ
(
tm
 *
t
, 
ty³
, 
v®
, 
i¡ext
, 
mk
)

151 
lmdays
;

153 ià(
v®
 < 0)

156 
ty³
) {

158 ià(
i¡ext
) {

159 ià(
v®
 <ğ
t
->
tm_mÚ
)

160 
v®
 +ğ11 - 
t
->
tm_mÚ
;

162 
v®
 -ğ
t
->
tm_mÚ
 + 1;

164 ià(
v®
) {

165 ià(!
	`adjy—r
(
t
, '+', (t->
tm_mÚ
 + 
v®
) / 12, 0))

167 
v®
 %= 12;

168 
t
->
tm_mÚ
 +ğ
v®
;

169 ià(
t
->
tm_mÚ
 > 11)

170 
t
->
tm_mÚ
 -= 12;

175 ià(
i¡ext
) {

176 ià(
v®
-1 > 
t
->
tm_mÚ
)

177 
v®
 = 13 - v® + 
t
->
tm_mÚ
;

179 
v®
 = 
t
->
tm_mÚ
 - val + 1;

181 ià(
v®
) {

182 ià(!
	`adjy—r
(
t
, '-', 
v®
 / 12, 0))

184 
v®
 %= 12;

185 ià(
v®
 > 
t
->
tm_mÚ
) {

186 ià(!
	`adjy—r
(
t
, '-', 1, 0))

188 
v®
 -= 12;

190 
t
->
tm_mÚ
 -ğ
v®
;

195 ià(
v®
 > 12 || val < 1)

197 
t
->
tm_mÚ
 = --
v®
;

201 
lmdays
 = 
	`daysšmÚth
(
t
);

202 ià(
t
->
tm_mday
 > 
lmdays
)

203 
t
->
tm_mday
 = 
lmdays
;

205  !
mk
 || 
	`domktime
(
t
, 
ty³
) != -1;

206 
	}
}

209 
	$adjday
(
tm
 *
t
, 
ty³
, 
v®
, 
mk
)

211 
lmdays
;

213 
ty³
) {

215 
v®
) {

216 
lmdays
 = 
	`daysšmÚth
(
t
);

217 ià(
v®
 > 
lmdays
 - 
t
->
tm_mday
) {

218 
v®
 -ğ
lmdays
 - 
t
->
tm_mday
 + 1;

219 
t
->
tm_mday
 = 1;

220 ià(!
	`adjmÚ
(
t
, '+', 1, 0, 0))

223 
t
->
tm_mday
 +ğ
v®
;

224 
v®
 = 0;

229 
v®
)

230 ià(
v®
 >ğ
t
->
tm_mday
) {

231 
v®
 -ğ
t
->
tm_mday
;

232 
t
->
tm_mday
 = 1;

233 ià(!
	`adjmÚ
(
t
, '-', 1, 0, 0))

235 
t
->
tm_mday
 = 
	`daysšmÚth
(t);

237 
t
->
tm_mday
 -ğ
v®
;

238 
v®
 = 0;

242 ià(
v®
 > 0 && v® <ğ
	`daysšmÚth
(
t
))

243 
t
->
tm_mday
 = 
v®
;

249  !
mk
 || 
	`domktime
(
t
, 
ty³
) != -1;

250 
	}
}

253 
	$adjwday
(
tm
 *
t
, 
ty³
, 
v®
, 
i¡ext
, 
mk
)

255 ià(
v®
 < 0)

258 
ty³
) {

260 ià(
i¡ext
)

261 ià(
v®
 < 
t
->
tm_wday
)

262 
v®
 = 7 - 
t
->
tm_wday
 + val;

264 
v®
 -ğ
t
->
tm_wday
;

266 
v®
 *= 7;

267  !
v®
 || 
	`adjday
(
t
, '+', v®, 
mk
);

269 ià(
i¡ext
) {

270 ià(
v®
 > 
t
->
tm_wday
)

271 
v®
 = 7 - v® + 
t
->
tm_wday
;

273 
v®
 = 
t
->
tm_wday
 - val;

275 
v®
 *= 7;

276  !
v®
 || 
	`adjday
(
t
, '-', v®, 
mk
);

278 ià(
v®
 < 
t
->
tm_wday
)

279  
	`adjday
(
t
, '-',->
tm_wday
 - 
v®
, 
mk
);

280 ià(
v®
 > 6)

282 ià(
v®
 > 
t
->
tm_wday
)

283  
	`adjday
(
t
, '+', 
v®
 -->
tm_wday
, 
mk
);

286 
	}
}

289 
	$adjhour
(
tm
 *
t
, 
ty³
, 
v®
, 
mk
)

291 ià(
v®
 < 0)

294 
ty³
) {

296 ià(
v®
) {

297 
days
;

299 
days
 = (
t
->
tm_hour
 + 
v®
) / 24;

300 
v®
 %= 24;

301 
t
->
tm_hour
 +ğ
v®
;

302 
t
->
tm_hour
 %= 24;

303 ià(!
	`adjday
(
t
, '+', 
days
, 0))

309 ià(
v®
) {

310 
days
;

312 
days
 = 
v®
 / 24;

313 
v®
 %= 24;

314 ià(
v®
 > 
t
->
tm_hour
) {

315 
days
++;

316 
v®
 -= 24;

318 
t
->
tm_hour
 -ğ
v®
;

319 ià(!
	`adjday
(
t
, '-', 
days
, 0))

325 ià(
v®
 > 23)

327 
t
->
tm_hour
 = 
v®
;

330  !
mk
 || 
	`domktime
(
t
, 
ty³
) != -1;

331 
	}
}

334 
	$adjmš
(
tm
 *
t
, 
ty³
, 
v®
, 
mk
)

336 ià(
v®
 < 0)

339 
ty³
) {

341 ià(
v®
) {

342 ià(!
	`adjhour
(
t
, '+', (t->
tm_mš
 + 
v®
) / 60, 0))

344 
v®
 %= 60;

345 
t
->
tm_mš
 +ğ
v®
;

346 ià(
t
->
tm_mš
 > 59)

347 
t
->
tm_mš
 -= 60;

352 ià(
v®
) {

353 ià(!
	`adjhour
(
t
, '-', 
v®
 / 60, 0))

355 
v®
 %= 60;

356 ià(
v®
 > 
t
->
tm_mš
) {

357 ià(!
	`adjhour
(
t
, '-', 1, 0))

359 
v®
 -= 60;

361 
t
->
tm_mš
 -ğ
v®
;

366 ià(
v®
 > 59)

368 
t
->
tm_mš
 = 
v®
;

371  !
mk
 || 
	`domktime
(
t
, 
ty³
) != -1;

372 
	}
}

375 
	$adj£c
(
tm
 *
t
, 
ty³
, 
v®
, 
mk
)

377 ià(
v®
 < 0)

380 
ty³
) {

382 ià(
v®
) {

383 ià(!
	`adjmš
(
t
, '+', (t->
tm_£c
 + 
v®
) / 60, 0))

385 
v®
 %= 60;

386 
t
->
tm_£c
 +ğ
v®
;

387 ià(
t
->
tm_£c
 > 59)

388 
t
->
tm_£c
 -= 60;

393 ià(
v®
) {

394 ià(!
	`adjmš
(
t
, '-', 
v®
 / 60, 0))

396 
v®
 %= 60;

397 ià(
v®
 > 
t
->
tm_£c
) {

398 ià(!
	`adjmš
(
t
, '-', 1, 0))

400 
v®
 -= 60;

402 
t
->
tm_£c
 -ğ
v®
;

407 ià(
v®
 > 59)

409 
t
->
tm_£c
 = 
v®
;

412  !
mk
 || 
	`domktime
(
t
, 
ty³
) != -1;

413 
	}
}

415 cÚ¡ 
v¬y
 *

416 
	$v¬y_­¶y
(cÚ¡ 
v¬y
 *
v
, 
tm
 *
t
)

418 
ty³
;

419 
which
;

420 *
¬g
;

421 
size_t
 
Ën
;

422 
v®
;

424 ; 
v
; v = v->
Ãxt
) {

425 
ty³
 = *
v
->
¬g
;

426 
¬g
 = 
v
->arg;

427 ià(
ty³
 == '+' ||ype == '-')

428 
¬g
++;

430 
ty³
 = '\0';

431 
Ën
 = 
	`¡¾’
(
¬g
);

432 ià(
Ën
 < 2)

433  
v
;

435 ià(
ty³
 == '\0')

436 
t
->
tm_isd¡
 = -1;

438 ià(
	`¡r¥n
(
¬g
, 
dig™s
è!ğ
Ën
-1) {

439 
v®
 = 
	`Œªs
(
Œªs_wday
, 
¬g
);

440 ià(
v®
 != -1) {

441 ià(!
	`adjwday
(
t
, 
ty³
, 
v®
, 1, 1))

442  
v
;

444 
v®
 = 
	`Œªs
(
Œªs_mÚ
, 
¬g
);

445 ià(
v®
 != -1) {

446 ià(!
	`adjmÚ
(
t
, 
ty³
, 
v®
, 1, 1))

447  
v
;

449  
v
;

452 
v®
 = 
	`©oi
(
¬g
);

453 
which
 = 
¬g
[
Ën
-1];

455 
which
) {

457 ià(!
	`adj£c
(
t
, 
ty³
, 
v®
, 1))

458  
v
;

461 ià(!
	`adjmš
(
t
, 
ty³
, 
v®
, 1))

462  
v
;

465 ià(!
	`adjhour
(
t
, 
ty³
, 
v®
, 1))

466  
v
;

469 
t
->
tm_isd¡
 = -1;

470 ià(!
	`adjday
(
t
, 
ty³
, 
v®
, 1))

471  
v
;

474 
t
->
tm_isd¡
 = -1;

475 ià(!
	`adjwday
(
t
, 
ty³
, 
v®
, 0, 1))

476  
v
;

479 
t
->
tm_isd¡
 = -1;

480 ià(!
	`adjmÚ
(
t
, 
ty³
, 
v®
, 0, 1))

481  
v
;

484 
t
->
tm_isd¡
 = -1;

485 ià(!
	`adjy—r
(
t
, 
ty³
, 
v®
, 1))

486  
v
;

489  
v
;

494 
	}
}

497 
	$v¬y_de¡roy
(
v¬y
 *
v
)

499 
v¬y
 *
n
;

501 
v
) {

502 
n
 = 
v
->
Ãxt
;

503 
	`ä“
(
v
);

504 
v
 = 
n
;

506 
	}
}

	@date/vary.h

29 
	sv¬y
 {

30 *
	m¬g
;

31 
v¬y
 *
	mÃxt
;

34 
v¬y
 *
v¬y_­³nd
(v¬y *
v
, *
¬g
);

35 cÚ¡ 
v¬y
 *
v¬y_­¶y
(cÚ¡ v¬y *
v
, 
tm
 *
t
);

36 
v¬y_de¡roy
(
v¬y
 *
v
);

	@dd/args.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)args.c 8.3 (Berkeley) 4/2/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/dd/args.c,v 1.40.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

44 
	~<”r.h
>

45 
	~<”ºo.h
>

46 
	~<š‰y³s.h
>

47 
	~<lim™s.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

51 
	~"dd.h
"

52 
	~"ex‹º.h
"

54 
c_¬g
(const *, const *);

55 
c_cÚv
(const *, const *);

56 
f_bs
(*);

57 
f_cbs
(*);

58 
f_cÚv
(*);

59 
f_couÁ
(*);

60 
f_fes
(*);

61 
f_flch¬
(*);

62 
f_ibs
(*);

63 
f_if
(*);

64 
f_obs
(*);

65 
f_of
(*);

66 
f_£ek
(*);

67 
f_sk
(*);

68 
uštmax_t
 
g‘_num
(const *);

69 
off_t
 
g‘_off_t
(const *);

71 cÚ¡ 
	s¬g
 {

72 cÚ¡ *
	mÇme
;

73 (*
	mf
)(*);

74 
u_št
 
	m£t
, 
	mno£t
;

75 } 
	g¬gs
[] = {

76 { "bs", 
f_bs
, 
C_BS
, C_BS|
C_IBS
|
C_OBS
|
C_OSYNC
 },

77 { "cbs", 
f_cbs
, 
C_CBS
, C_CBS },

78 { "cÚv", 
f_cÚv
, 0, 0 },

79 { "couÁ", 
f_couÁ
, 
C_COUNT
, C_COUNT },

80 { "fes", 
f_fes
, 
C_FILES
, C_FILES },

81 { "flch¬", 
f_flch¬
, 
C_FILL
, C_FILL },

82 { "ibs", 
f_ibs
, 
C_IBS
, 
C_BS
|C_IBS },

83 { "if", 
f_if
, 
C_IF
, C_IF },

84 { "i£ek", 
f_sk
, 
C_SKIP
, C_SKIP },

85 { "obs", 
f_obs
, 
C_OBS
, 
C_BS
|C_OBS },

86 { "of", 
f_of
, 
C_OF
, C_OF },

87 { "o£ek", 
f_£ek
, 
C_SEEK
, C_SEEK },

88 { "£ek", 
f_£ek
, 
C_SEEK
, C_SEEK },

89 { "sk", 
f_sk
, 
C_SKIP
, C_SKIP },

92 *
	gİ”
;

98 
	$jş
(**
¬gv
)

100 
¬g
 *
­
, 
tmp
;

101 *
¬g
;

103 
š
.
dbsz
 = 
out
.dbsz = 512;

105 (
İ”
 = *++
¬gv
è!ğ
NULL
) {

106 ià((
İ”
 = 
	`¡rdup
(İ”)è=ğ
NULL
)

107 
	`”rx
(1, "uÇbËØ®loÿ‹ s·û fÜh¬gum’ˆ\"%s\"", *
¬gv
);

108 ià((
¬g
 = 
	`¡rchr
(
İ”
, '=')è=ğ
NULL
)

109 
	`”rx
(1, "unknowÀİ”ªd %s", 
İ”
);

110 *
¬g
++ = '\0';

111 ià(!*
¬g
)

112 
	`”rx
(1, "nØv®u¥ecif›d fÜ %s", 
İ”
);

113 
tmp
.
Çme
 = 
İ”
;

114 ià(!(
­
 = (
¬g
 *)
	`b£¬ch
(&
tmp
, 
¬gs
,

115 (
¬gs
)/(
¬g
), (arg),

116 
c_¬g
)))

117 
	`”rx
(1, "unknowÀİ”ªd %s", 
tmp
.
Çme
);

118 ià(
ddæags
 & 
­
->
no£t
)

119 
	`”rx
(1, "%s: illegal‡rgument combination or‡lready set",

120 
tmp
.
Çme
);

121 
ddæags
 |ğ
­
->
£t
;

122 
­
->
	`f
(
¬g
);

127 ià(
ddæags
 & 
C_BS
) {

133 ià(
ddæags
 & (
C_BLOCK
 | 
C_LCASE
 | 
C_SWAB
 | 
C_UCASE
 |

134 
C_UNBLOCK
))

135 
ddæags
 &ğ~
C_BS
;

138 ià(
ddæags
 & 
C_BS
 && ddæag & (
C_IBS
 | 
C_OBS
))

139 
	`w¬nx
("bs supersedes ibs‡nd obs");

146 ià(
ddæags
 & (
C_BLOCK
 | 
C_UNBLOCK
)) {

147 ià(!(
ddæags
 & 
C_CBS
))

148 
	`”rx
(1, "record operations„equire cbs");

149 ià(
cbsz
 == 0)

150 
	`”rx
(1, "cbs cannot be zero");

151 
cfunc
 = 
ddæags
 & 
C_BLOCK
 ? 
block
 : 
unblock
;

152 } ià(
ddæags
 & 
C_CBS
) {

153 ià(
ddæags
 & (
C_ASCII
 | 
C_EBCDIC
)) {

154 ià(
ddæags
 & 
C_ASCII
) {

155 
ddæags
 |ğ
C_UNBLOCK
;

156 
cfunc
 = 
unblock
;

158 
ddæags
 |ğ
C_BLOCK
;

159 
cfunc
 = 
block
;

162 
	`”rx
(1, "cbs meaningless if‚ot doing„ecord operations");

164 
cfunc
 = 
def
;

169 ià(
š
.
off£t
 > 
OFF_MAX
 / (
ssize_t
)š.
dbsz
 ||

170 
out
.
off£t
 > 
OFF_MAX
 / (
ssize_t
)out.
dbsz
)

171 
	`”rx
(1, "seek offsets cannot be†argerhan %jd",

172 (
štmax_t
)
OFF_MAX
);

173 
	}
}

176 
	$c_¬g
(cÚ¡ *
a
, cÚ¡ *
b
)

179  (
	`¡rcmp
(((cÚ¡ 
¬g
 *)
a
)->
Çme
,

180 ((cÚ¡ 
¬g
 *)
b
)->
Çme
));

181 
	}
}

184 
	$f_bs
(*
¬g
)

186 
uštmax_t
 
»s
;

188 
»s
 = 
	`g‘_num
(
¬g
);

189 ià(
»s
 < 1 ||„e > 
SSIZE_MAX
)

190 
	`”rx
(1, "b mu¡ bb‘w“À1‡nd %jd", (
štmax_t
)
SSIZE_MAX
);

191 
š
.
dbsz
 = 
out
.dbsz = (
size_t
)
»s
;

192 
	}
}

195 
	$f_cbs
(*
¬g
)

197 
uštmax_t
 
»s
;

199 
»s
 = 
	`g‘_num
(
¬g
);

200 ià(
»s
 < 1 ||„e > 
SSIZE_MAX
)

201 
	`”rx
(1, "cb mu¡ bb‘w“À1‡nd %jd", (
štmax_t
)
SSIZE_MAX
);

202 
cbsz
 = (
size_t
)
»s
;

203 
	}
}

206 
	$f_couÁ
(*
¬g
)

208 
štmax_t
 
»s
;

210 
»s
 = (
štmax_t
)
	`g‘_num
(
¬g
);

211 ià(
»s
 < 0)

212 
	`”rx
(1, "count cannot be‚egative");

213 ià(
»s
 == 0)

214 
ıy_út
 = (
uštmax_t
)-1;

216 
ıy_út
 = (
uštmax_t
)
»s
;

217 
	}
}

220 
	$f_fes
(*
¬g
)

223 
fes_út
 = 
	`g‘_num
(
¬g
);

224 ià(
fes_út
 < 1)

225 
	`”rx
(1, "fe mu¡ bb‘w“À1‡nd %jd", (
uštmax_t
)-1);

226 
	}
}

229 
	$f_flch¬
(*
¬g
)

232 ià(
	`¡¾’
(
¬g
) != 1)

233 
	`”rx
(1, "needƒxactly one fill char");

235 
fl_ch¬
 = 
¬g
[0];

236 
	}
}

239 
	$f_ibs
(*
¬g
)

241 
uštmax_t
 
»s
;

243 ià(!(
ddæags
 & 
C_BS
)) {

244 
»s
 = 
	`g‘_num
(
¬g
);

245 ià(
»s
 < 1 ||„e > 
SSIZE_MAX
)

246 
	`”rx
(1, "ibs must be between 1‡nd %jd",

247 (
štmax_t
)
SSIZE_MAX
);

248 
š
.
dbsz
 = (
size_t
)
»s
;

250 
	}
}

253 
	$f_if
(*
¬g
)

256 
š
.
Çme
 = 
¬g
;

257 
	}
}

260 
	$f_obs
(*
¬g
)

262 
uštmax_t
 
»s
;

264 ià(!(
ddæags
 & 
C_BS
)) {

265 
»s
 = 
	`g‘_num
(
¬g
);

266 ià(
»s
 < 1 ||„e > 
SSIZE_MAX
)

267 
	`”rx
(1, "obs must be between 1‡nd %jd",

268 (
štmax_t
)
SSIZE_MAX
);

269 
out
.
dbsz
 = (
size_t
)
»s
;

271 
	}
}

274 
	$f_of
(*
¬g
)

277 
out
.
Çme
 = 
¬g
;

278 
	}
}

281 
	$f_£ek
(*
¬g
)

284 
out
.
off£t
 = 
	`g‘_off_t
(
¬g
);

285 
	}
}

288 
	$f_sk
(*
¬g
)

291 
š
.
off£t
 = 
	`g‘_off_t
(
¬g
);

292 
	}
}

294 cÚ¡ 
	scÚv
 {

295 cÚ¡ *
	mÇme
;

296 
u_št
 
	m£t
, 
	mno£t
;

297 cÚ¡ 
u_ch¬
 *
	mùab
;

298 } 
	gşi¡
[] = {

299 { "ascii", 
C_ASCII
, 
C_EBCDIC
, 
e2a_POSIX
 },

300 { "block", 
C_BLOCK
, 
C_UNBLOCK
, 
NULL
 },

301 { "ebcdic", 
C_EBCDIC
, 
C_ASCII
, 
a2e_POSIX
 },

302 { "ibm", 
C_EBCDIC
, 
C_ASCII
, 
a2ibm_POSIX
 },

303 { "lÿ£", 
C_LCASE
, 
C_UCASE
, 
NULL
 },

304 { "nÛ¼Ü", 
C_NOERROR
, 0, 
NULL
 },

305 { "nÙrunc", 
C_NOTRUNC
, 0, 
NULL
 },

306 { "Şdascii", 
C_ASCII
, 
C_EBCDIC
, 
e2a_32V
 },

307 { "Şdebcdic", 
C_EBCDIC
, 
C_ASCII
, 
a2e_32V
 },

308 { "Şdibm", 
C_EBCDIC
, 
C_ASCII
, 
a2ibm_32V
 },

309 { "osync", 
C_OSYNC
, 
C_BS
, 
NULL
 },

310 { "·»v’", 
C_PAREVEN
, 
C_PARODD
|
C_PARSET
|
C_PARNONE
, 
NULL
},

311 { "·ºÚe", 
C_PARNONE
, 
C_PARODD
|
C_PARSET
|
C_PAREVEN
, 
NULL
},

312 { "·rodd", 
C_PARODD
, 
C_PAREVEN
|
C_PARSET
|
C_PARNONE
, 
NULL
},

313 { "·r£t", 
C_PARSET
, 
C_PARODD
|
C_PAREVEN
|
C_PARNONE
, 
NULL
},

314 { "¥¬£", 
C_SPARSE
, 0, 
NULL
 },

315 { "swab", 
C_SWAB
, 0, 
NULL
 },

316 { "sync", 
C_SYNC
, 0, 
NULL
 },

317 { "uÿ£", 
C_UCASE
, 
C_LCASE
, 
NULL
 },

318 { "unblock", 
C_UNBLOCK
, 
C_BLOCK
, 
NULL
 },

322 
	$f_cÚv
(*
¬g
)

324 
cÚv
 *
ı
, 
tmp
;

326 
¬g
 !ğ
NULL
) {

327 
tmp
.
Çme
 = 
	`¡r£p
(&
¬g
, ",");

328 
ı
 = 
	`b£¬ch
(&
tmp
, 
şi¡
, (şi¡è/ (
cÚv
),

329 (
cÚv
), 
c_cÚv
);

330 ià(
ı
 =ğ
NULL
)

331 
	`”rx
(1, "unknowÀcÚv”siÚ %s", 
tmp
.
Çme
);

332 ià(
ddæags
 & 
ı
->
no£t
)

333 
	`”rx
(1, "%s: iÎeg® cÚv”siÚ combš©iÚ", 
tmp
.
Çme
);

334 
ddæags
 |ğ
ı
->
£t
;

335 ià(
ı
->
ùab
)

336 
ùab
 = 
ı
->ctab;

338 
	}
}

341 
	$c_cÚv
(cÚ¡ *
a
, cÚ¡ *
b
)

344  (
	`¡rcmp
(((cÚ¡ 
cÚv
 *)
a
)->
Çme
,

345 ((cÚ¡ 
cÚv
 *)
b
)->
Çme
));

346 
	}
}

360 
uštmax_t


361 
	$g‘_num
(cÚ¡ *
v®
)

363 
uštmax_t
 
num
, 
muÉ
, 
´evnum
;

364 *
ex´
;

366 
”ºo
 = 0;

367 
num
 = 
	`¡¹ouq
(
v®
, &
ex´
, 0);

368 ià(
”ºo
 != 0)

369 
	`”r
(1, "%s", 
İ”
);

371 ià(
ex´
 =ğ
v®
)

372 
	`”rx
(1, "%s: iÎeg®‚um”iøv®ue", 
İ”
);

374 
muÉ
 = 0;

375 *
ex´
) {

378 
muÉ
 = 512;

382 
muÉ
 = 1 << 10;

386 
muÉ
 = 1 << 20;

390 
muÉ
 = 1 << 30;

394 
muÉ
 = ();

400 ià(
muÉ
 != 0) {

401 
´evnum
 = 
num
;

402 
num
 *ğ
muÉ
;

404 ià(
num
 / 
muÉ
 !ğ
´evnum
)

405 
”ªge
;

406 
ex´
++;

409 *
ex´
) {

415 
muÉ
 = 
	`g‘_num
(
ex´
 + 1);

416 
´evnum
 = 
num
;

417 
num
 *ğ
muÉ
;

418 ià(
num
 / 
muÉ
 =ğ
´evnum
)

420 
”ªge
:

421 
	`”rx
(1, "%s: %s", 
İ”
, 
	`¡»¼Ü
(
ERANGE
));

423 
	`”rx
(1, "%s: iÎeg®‚um”iøv®ue", 
İ”
);

425  (
num
);

426 
	}
}

434 
off_t


435 
	$g‘_off_t
(cÚ¡ *
v®
)

437 
štmax_t
 
num
, 
muÉ
, 
´evnum
;

438 *
ex´
;

440 
”ºo
 = 0;

441 
num
 = 
	`¡¹oq
(
v®
, &
ex´
, 0);

442 ià(
”ºo
 != 0)

443 
	`”r
(1, "%s", 
İ”
);

445 ià(
ex´
 =ğ
v®
)

446 
	`”rx
(1, "%s: iÎeg®‚um”iøv®ue", 
İ”
);

448 
muÉ
 = 0;

449 *
ex´
) {

452 
muÉ
 = 512;

456 
muÉ
 = 1 << 10;

460 
muÉ
 = 1 << 20;

464 
muÉ
 = 1 << 30;

468 
muÉ
 = ();

472 ià(
muÉ
 != 0) {

473 
´evnum
 = 
num
;

474 
num
 *ğ
muÉ
;

476 ià((
´evnum
 > 0è!ğ(
num
 > 0è||‚um / 
muÉ
 !=…revnum)

477 
”ªge
;

478 
ex´
++;

481 *
ex´
) {

487 
muÉ
 = (
štmax_t
)
	`g‘_off_t
(
ex´
 + 1);

488 
´evnum
 = 
num
;

489 
num
 *ğ
muÉ
;

490 ià((
´evnum
 > 0è=ğ(
num
 > 0è&&‚um / 
muÉ
 ==…revnum)

492 
”ªge
:

493 
	`”rx
(1, "%s: %s", 
İ”
, 
	`¡»¼Ü
(
ERANGE
));

495 
	`”rx
(1, "%s: iÎeg®‚um”iøv®ue", 
İ”
);

497  (
num
);

498 
	}
}

	@dd/conv.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)conv.c 8.3 (Berkeley) 4/2/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/dd/conv.c,v 1.19.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/·¿m.h
>

44 
	~<”r.h
>

45 
	~<š‰y³s.h
>

46 
	~<¡ršg.h
>

48 
	~"dd.h
"

49 
	~"ex‹º.h
"

58 
	$def
()

60 
u_ch¬
 *
šp
;

61 cÚ¡ 
u_ch¬
 *
t
;

62 
size_t
 
út
;

64 ià((
t
 = 
ùab
è!ğ
NULL
)

65 
šp
 = 
š
.
dbp
 - (
út
 = in.
dbrút
); cnt--; ++inp)

66 *
šp
 = 
t
[*inp];

69 
out
.
dbp
 = 
š
.dbp;

70 
out
.
dbút
 = 
š
.dbcnt;

72 ià(
š
.
dbút
 >ğ
out
.
dbsz
) {

74 
	`dd_out
(0);

81 
š
.
dbp
 = 
out
.dbp;

82 
š
.
dbút
 = 
out
.dbcnt;

84 
	}
}

87 
	$def_şo£
()

90 ià(
š
.
dbút
)

91 
out
.
dbút
 = 
š
.dbcnt;

92 
	}
}

102 
	$block
()

104 
u_ch¬
 *
šp
, *
ou
;

105 cÚ¡ 
u_ch¬
 *
t
;

106 
size_t
 
út
, 
maxËn
;

107 
šŒunc
;

108 
ch
;

116 ià(
šŒunc
) {

117 
šp
 = 
š
.
db
, 
út
 = in.
dbrút
; cnt && *inp++ != '\n'; --cnt)

119 ià(!
út
) {

120 
š
.
dbút
 = 0;

121 
š
.
dbp
 = in.
db
;

124 
šŒunc
 = 0;

126 
š
.
dbút
 = 
út
 - 1;

127 
š
.
dbp
 = 
šp
 + 
út
 - 1;

134 
ch
 = 0;

135 
šp
 = 
š
.
dbp
 - in.
dbút
, 
ou
 = 
out
.dbp; in.dbcnt;) {

136 
maxËn
 = 
	`MIN
(
cbsz
, 
š
.
dbút
);

137 ià((
t
 = 
ùab
è!ğ
NULL
)

138 
út
 = 0; cÁ < 
maxËn
 && (
ch
 = *
šp
++) != '\n';

139 ++
út
)

140 *
ou
++ = 
t
[
ch
];

142 
út
 = 0; cÁ < 
maxËn
 && (
ch
 = *
šp
++) != '\n';

143 ++
út
)

144 *
ou
++ = 
ch
;

149 ià(
ch
 !ğ'\n' && 
š
.
dbút
 < 
cbsz
) {

150 ()
	`memmove
(
š
.
db
, in.
dbp
 - in.
dbút
, in.dbcnt);

155 
š
.
dbút
 -ğ
út
;

156 ià(
ch
 == '\n')

157 --
š
.
dbút
;

160 ià(
út
 < 
cbsz
)

161 ()
	`mem£t
(
ou
, 
ùab
 ? cb[' '] : ' ', 
cbsz
 - 
út
);

167 ià(!
š
.
dbút
 || *
šp
 != '\n')

168 ++
¡
.
Œunc
;

171 ; 
š
.
dbút
 && *
šp
++ != '\n'; --in.dbcnt)

173 ià(!
š
.
dbút
)

174 
šŒunc
 = 1;

176 --
š
.
dbút
;

180 
out
.
dbp
 +ğ
cbsz
;

181 ià((
out
.
dbút
 +ğ
cbsz
è>ğout.
dbsz
)

182 
	`dd_out
(0);

183 
ou
 = 
out
.
dbp
;

185 
š
.
dbp
 = in.
db
 + in.
dbút
;

186 
	}
}

189 
	$block_şo£
()

199 ià(
š
.
dbút
) {

200 ++
¡
.
Œunc
;

201 ()
	`memmove
(
out
.
dbp
, 
š
.db°- in.
dbút
, in.dbcnt);

202 ()
	`mem£t
(
out
.
dbp
 + 
š
.
dbút
, 
ùab
 ? ctab[' '] : ' ',

203 
cbsz
 - 
š
.
dbút
);

204 
out
.
dbút
 +ğ
cbsz
;

206 
	}
}

216 
	$unblock
()

218 
u_ch¬
 *
šp
;

219 cÚ¡ 
u_ch¬
 *
t
;

220 
size_t
 
út
;

223 ià((
t
 = 
ùab
è!ğ
NULL
)

224 
šp
 = 
š
.
dbp
 - (
út
 = in.
dbrút
); cnt--; ++inp)

225 *
šp
 = 
t
[*inp];

231 
šp
 = 
š
.
db
; in.
dbút
 >ğ
cbsz
; inp += cbsz, in.dbcnt -= cbsz) {

232 
t
 = 
šp
 + 
cbsz
 - 1; >= inp && *t == ' '; --t)

234 ià(
t
 >ğ
šp
) {

235 
út
 = 
t
 - 
šp
 + 1;

236 ()
	`memmove
(
out
.
dbp
, 
šp
, 
út
);

237 
out
.
dbp
 +ğ
út
;

238 
out
.
dbút
 +ğ
út
;

240 *
out
.
dbp
++ = '\n';

241 ià(++
out
.
dbút
 >ğout.
dbsz
)

242 
	`dd_out
(0);

244 ià(
š
.
dbút
)

245 ()
	`memmove
(
š
.
db
, in.
dbp
 - in.
dbút
, in.dbcnt);

246 
š
.
dbp
 = in.
db
 + in.
dbút
;

247 
	}
}

250 
	$unblock_şo£
()

252 
u_ch¬
 *
t
;

253 
size_t
 
út
;

255 ià(
š
.
dbút
) {

256 
	`w¬nx
("%s: shÜˆšpuˆ»cÜd", 
š
.
Çme
);

257 
t
 = 
š
.
db
 + in.
dbút
 - 1; >= in.db && *t == ' '; --t)

259 ià(
t
 >ğ
š
.
db
) {

260 
út
 = 
t
 - 
š
.
db
 + 1;

261 ()
	`memmove
(
out
.
dbp
, 
š
.
db
, 
út
);

262 
out
.
dbp
 +ğ
út
;

263 
out
.
dbút
 +ğ
út
;

265 ++
out
.
dbút
;

266 *
out
.
dbp
++ = '\n';

268 
	}
}

	@dd/conv_tab.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)conv_tab.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/dd/conv_tab.c,v 1.12.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

68 
u_ch¬
 
	gÿ£b
[256];

71 cÚ¡ 
u_ch¬
 
	ge2a_32V
[] = {

107 cÚ¡ 
u_ch¬
 
	ga2e_32V
[] = {

143 cÚ¡ 
u_ch¬
 
	ga2ibm_32V
[] = {

179 cÚ¡ 
u_ch¬
 
	ge2a_POSIX
[] = {

215 cÚ¡ 
u_ch¬
 
	ga2e_POSIX
[] = {

251 cÚ¡ 
u_ch¬
 
	ga2ibm_POSIX
[] = {

	@dd/dd.c

35 #iâdeà
lšt


36 cÚ¡ 
	gcİyright
[] =

41 #iâdeà
lšt


42 
	gsccsid
[] = "@(#)dd.c 8.5 (Berkeley) 4/2/94";

45 
	~<sys/cdefs.h
>

46 
__FBSDID
("$FreeBSD: src/bin/dd/dd.c,v 1.43.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

48 
	~<sys/·¿m.h
>

49 
	~<sys/¡©.h
>

50 
	~<sys/cÚf.h
>

51 
	~<sys/diskÏb–.h
>

52 
	~<sys/fio.h
>

53 
	~<sys/time.h
>

55 
	~<ùy³.h
>

56 
	~<”r.h
>

57 
	~<”ºo.h
>

58 
	~<fú.h
>

59 
	~<š‰y³s.h
>

60 
	~<loÿË.h
>

61 
	~<¡dio.h
>

62 
	~<¡dlib.h
>

63 
	~<¡ršg.h
>

64 
	~<uni¡d.h
>

66 
	~"dd.h
"

67 
	~"ex‹º.h
"

69 
dd_şo£
();

70 
dd_š
();

71 
g‘fdty³
(
IO
 *);

72 
£tup
();

74 
IO
 
	gš
, 
	gout
;

75 
STAT
 
	g¡
;

76 (*
cfunc
)();

77 
uštmax_t
 
ıy_út
;

78 
off_t
 
³ndšg
 = 0;

79 
u_št
 
ddæags
 = 0;

80 
size_t
 
cbsz
;

81 
uštmax_t
 
fes_út
 = 1;

82 cÚ¡ 
u_ch¬
 *
ùab
;

83 
fl_ch¬
;

86 
	$maš
(
¬gc
 
__unu£d
, *
¬gv
[])

88 ()
	`£oÿË
(
LC_CTYPE
, "");

89 
	`jş
(
¬gv
);

90 
	`£tup
();

92 ()
	`sigÇl
(
SIGINFO
, 
summ¬yx
);

93 ()
	`sigÇl
(
SIGINT
, 
‹rmš©e
);

95 
	`©ex™
(
summ¬y
);

97 
fes_út
--)

98 
	`dd_š
();

100 
	`dd_şo£
();

101 
	`ex™
(0);

102 
	}
}

105 
	$·r™y
(
u_ch¬
 
c
)

107 
i
;

109 
i
 = 
c
 ^ (c >> 1) ^ (c >> 2) ^ (c >> 3) ^

110 (
c
 >> 4) ^ (c >> 5) ^ (c >> 6) ^ (c >> 7);

111  (
i
 & 1);

112 
	}
}

115 
	$£tup
()

117 
u_št
 
út
;

118 
timev®
 
tv
;

120 ià(
š
.
Çme
 =ğ
NULL
) {

121 
š
.
Çme
 = "stdin";

122 
š
.
fd
 = 
STDIN_FILENO
;

124 
š
.
fd
 = 
	`İ’
(š.
Çme
, 
O_RDONLY
, 0);

125 ià(
š
.
fd
 == -1)

126 
	`”r
(1, "%s", 
š
.
Çme
);

129 
	`g‘fdty³
(&
š
);

131 ià(
fes_út
 > 1 && !(
š
.
æags
 & 
ISTAPE
))

132 
	`”rx
(1, "files is‚ot supported for‚on-tape devices");

134 ià(
out
.
Çme
 =ğ
NULL
) {

136 
out
.
fd
 = 
STDOUT_FILENO
;

137 
out
.
Çme
 = "stdout";

139 
	#OFLAGS
 \

140 (
O_CREAT
 | (
ddæags
 & (
C_SEEK
 | 
C_NOTRUNC
è? 0 : 
O_TRUNC
))

	)

141 
out
.
fd
 = 
	`İ’
(out.
Çme
, 
O_RDWR
 | 
OFLAGS
, 
DEFFILEMODE
);

147 ià(
out
.
fd
 == -1) {

148 
out
.
fd
 = 
	`İ’
(out.
Çme
, 
O_WRONLY
 | 
OFLAGS
, 
DEFFILEMODE
);

149 
out
.
æags
 |ğ
NOREAD
;

151 ià(
out
.
fd
 == -1)

152 
	`”r
(1, "%s", 
out
.
Çme
);

155 
	`g‘fdty³
(&
out
);

161 ià(!(
ddæags
 & (
C_BLOCK
 | 
C_UNBLOCK
))) {

162 ià((
š
.
db
 = 
	`m®loc
(
out
.
dbsz
 + in.dbsz - 1)è=ğ
NULL
)

163 
	`”r
(1, "input buffer");

164 
out
.
db
 = 
š
.db;

165 } ià((
š
.
db
 = 
	`m®loc
(
	`MAX
(š.
dbsz
, 
cbsz
è+ cbsz)è=ğ
NULL
 ||

166 (
out
.
db
 = 
	`m®loc
(out.
dbsz
 + 
cbsz
)è=ğ
NULL
)

167 
	`”r
(1, "output buffer");

168 
š
.
dbp
 = in.
db
;

169 
out
.
dbp
 = out.
db
;

172 ià(
š
.
off£t
)

173 
	`pos_š
();

174 ià(
out
.
off£t
)

175 
	`pos_out
();

181 ià((
ddæags
 & (
C_OF
 | 
C_SEEK
 | 
C_NOTRUNC
)) == (C_OF | C_SEEK) &&

182 
out
.
æags
 & 
ISTRUNC
)

183 ià(
	`árunÿ‹
(
out
.
fd
, out.
off£t
 * out.
dbsz
) == -1)

184 
	`”r
(1, "Œunÿtšg %s", 
out
.
Çme
);

186 ià(
ddæags
 & (
C_LCASE
 | 
C_UCASE
 | 
C_ASCII
 | 
C_EBCDIC
 | 
C_PARITY
)) {

187 ià(
ùab
 !ğ
NULL
) {

188 
út
 = 0; cnt <= 0377; ++cnt)

189 
ÿ£b
[
út
] = 
ùab
[cnt];

191 
út
 = 0; cnt <= 0377; ++cnt)

192 
ÿ£b
[
út
] = cnt;

194 ià((
ddæags
 & 
C_PARITY
è&& !(ddæag & 
C_ASCII
)) {

199 
út
 = 200; cnt <= 0377; ++cnt)

200 
ÿ£b
[
út
] = casetab[cnt & 0x7f];

202 ià(
ddæags
 & 
C_LCASE
) {

203 
út
 = 0; cnt <= 0377; ++cnt)

204 
ÿ£b
[
út
] = 
	`tŞow”
(casetab[cnt]);

205 } ià(
ddæags
 & 
C_UCASE
) {

206 
út
 = 0; cnt <= 0377; ++cnt)

207 
ÿ£b
[
út
] = 
	`touµ”
(casetab[cnt]);

209 ià((
ddæags
 & 
C_PARITY
)) {

214 
út
 = 0; cnt <= 0377; ++cnt)

215 
ÿ£b
[
út
] = casetab[cnt] & 0x7f;

217 ià((
ddæags
 & 
C_PARSET
)) {

218 
út
 = 0; cnt <= 0377; ++cnt)

219 
ÿ£b
[
út
] = casetab[cnt] | 0x80;

221 ià((
ddæags
 & 
C_PAREVEN
)) {

222 
út
 = 0; cnt <= 0377; ++cnt)

223 ià(
	`·r™y
(
ÿ£b
[
út
]))

224 
ÿ£b
[
út
] = casetab[cnt] | 0x80;

226 ià((
ddæags
 & 
C_PARODD
)) {

227 
út
 = 0; cnt <= 0377; ++cnt)

228 ià(!
	`·r™y
(
ÿ£b
[
út
]))

229 
ÿ£b
[
út
] = casetab[cnt] | 0x80;

232 
ùab
 = 
ÿ£b
;

235 ()
	`g‘timeofday
(&
tv
, (
timezÚe
 *)
NULL
);

236 
¡
.
¡¬t
 = 
tv
.
tv_£c
 +v.
tv_u£c
 * 1e-6;

237 
	}
}

240 
	$g‘fdty³
(
IO
 *
io
)

242 
¡©
 
sb
;

243 
ty³
;

245 ià(
	`f¡©
(
io
->
fd
, &
sb
) == -1)

246 
	`”r
(1, "%s", 
io
->
Çme
);

247 ià(
	`S_ISREG
(
sb
.
¡_mode
))

248 
io
->
æags
 |ğ
ISTRUNC
;

249 ià(
	`S_ISCHR
(
sb
.
¡_mode
è|| 
	`S_ISBLK
(sb.st_mode)) {

250 ià(
	`ioùl
(
io
->
fd
, 
FIODTYPE
, &
ty³
) == -1) {

251 
	`”r
(1, "%s", 
io
->
Çme
);

253 ià(
ty³
 & 
D_TAPE
)

254 
io
->
æags
 |ğ
ISTAPE
;

255 ià(
ty³
 & (
D_DISK
 | 
D_MEM
))

256 
io
->
æags
 |ğ
ISSEEK
;

257 ià(
	`S_ISCHR
(
sb
.
¡_mode
è&& (
ty³
 & 
D_TAPE
) == 0)

258 
io
->
æags
 |ğ
ISCHR
;

262 
”ºo
 = 0;

263 ià(
	`l£ek
(
io
->
fd
, (
off_t
)0, 
SEEK_CUR
è=ğ-1 && 
”ºo
 =ğ
ESPIPE
)

264 
io
->
æags
 |ğ
ISPIPE
;

266 
io
->
æags
 |ğ
ISSEEK
;

267 
	}
}

270 
	$dd_š
()

272 
ssize_t
 
n
;

275 
ıy_út
) {

281 ià(
¡
.
š_fuÎ
 + st.
š_·¹
 >ğ(
uštmax_t
)
ıy_út
)

290 ià(
ddæags
 & 
C_SYNC
) {

291 ià(
ddæags
 & 
C_FILL
)

292 
	`mem£t
(
š
.
dbp
, 
fl_ch¬
, in.
dbsz
);

293 ià(
ddæags
 & (
C_BLOCK
 | 
C_UNBLOCK
))

294 
	`mem£t
(
š
.
dbp
, ' ', in.
dbsz
);

296 
	`mem£t
(
š
.
dbp
, 0, in.
dbsz
);

299 
n
 = 
	`»ad
(
š
.
fd
, in.
dbp
, in.
dbsz
);

300 ià(
n
 == 0) {

301 
š
.
dbrút
 = 0;

306 ià(
n
 == -1) {

311 ià(!(
ddæags
 & 
C_NOERROR
))

312 
	`”r
(1, "%s", 
š
.
Çme
);

313 
	`w¬n
("%s", 
š
.
Çme
);

314 
	`summ¬y
();

322 ià(
š
.
æags
 & 
ISSEEK
 &&

323 
	`l£ek
(
š
.
fd
, (
off_t
)š.
dbsz
, 
SEEK_CUR
))

324 
	`w¬n
("%s", 
š
.
Çme
);

327 ià(!(
ddæags
 & 
C_SYNC
))

331 
š
.
dbút
 +ğš.
dbrút
 = in.
dbsz
;

332 ++
¡
.
š_fuÎ
;

335 } ià((
size_t
)
n
 =ğ
š
.
dbsz
) {

336 
š
.
dbút
 +ğš.
dbrút
 = 
n
;

337 ++
¡
.
š_fuÎ
;

342 ià(
ddæags
 & 
C_SYNC
)

343 
š
.
dbút
 +ğš.
dbrút
 = in.
dbsz
;

345 
š
.
dbút
 +ğš.
dbrút
 = 
n
;

346 ++
¡
.
š_·¹
;

354 ià(
ddæags
 & 
C_BS
) {

355 
out
.
dbút
 = 
š
.dbcnt;

356 
	`dd_out
(1);

357 
š
.
dbút
 = 0;

361 ià(
ddæags
 & 
C_SWAB
) {

362 ià((
n
 = 
š
.
dbrút
) & 1) {

363 ++
¡
.
swab
;

364 --
n
;

366 
	`swab
(
š
.
dbp
, in.dbp, (
size_t
)
n
);

369 
š
.
dbp
 +ğš.
dbrút
;

370 (*
cfunc
)();

372 
	}
}

379 
	$dd_şo£
()

381 ià(
cfunc
 =ğ
def
)

382 
	`def_şo£
();

383 ià(
cfunc
 =ğ
block
)

384 
	`block_şo£
();

385 ià(
cfunc
 =ğ
unblock
)

386 
	`unblock_şo£
();

387 ià(
ddæags
 & 
C_OSYNC
 && 
out
.
dbút
 && out.dbúˆ< out.
dbsz
) {

388 ià(
ddæags
 & 
C_FILL
)

389 
	`mem£t
(
out
.
dbp
, 
fl_ch¬
, out.
dbsz
 - out.
dbút
);

390 ià(
ddæags
 & (
C_BLOCK
 | 
C_UNBLOCK
))

391 
	`mem£t
(
out
.
dbp
, ' ', out.
dbsz
 - out.
dbút
);

393 
	`mem£t
(
out
.
dbp
, 0, out.
dbsz
 - out.
dbút
);

394 
out
.
dbút
 = out.
dbsz
;

396 ià(
out
.
dbút
 || 
³ndšg
)

397 
	`dd_out
(1);

398 
	}
}

401 
	$dd_out
(
fÜû
)

403 
u_ch¬
 *
ou
;

404 
size_t
 
út
, 
i
, 
n
;

405 
ssize_t
 
nw
;

406 
w¬Ãd
;

407 
¥¬£
;

425 
ou
 = 
out
.
db
;

426 
n
 = 
fÜû
 ? 
out
.
dbút
 : out.
dbsz
;;‚ = out.dbsz) {

427 
út
 = 
n
;; cÁ -ğ
nw
) {

428 
¥¬£
 = 0;

429 ià(
ddæags
 & 
C_SPARSE
) {

430 
¥¬£
 = 1;

431 
i
 = 0; i < 
út
; i++)

432 ià(
ou
[
i
] != 0) {

433 
¥¬£
 = 0;

437 ià(
¥¬£
 && !
fÜû
) {

438 
³ndšg
 +ğ
út
;

439 
nw
 = 
út
;

441 ià(
³ndšg
 != 0) {

442 ià(
fÜû
)

443 
³ndšg
--;

444 ià(
	`l£ek
(
out
.
fd
, 
³ndšg
, 
SEEK_CUR
) ==

446 
	`”r
(2, "%s: seekƒrror creating sparse file",

447 
out
.
Çme
);

448 ià(
fÜû
)

449 
	`wr™e
(
out
.
fd
, 
ou
, 1);

450 
³ndšg
 = 0;

452 ià(
út
)

453 
nw
 = 
	`wr™e
(
out
.
fd
, 
ou
, 
út
);

458 ià(
nw
 <= 0) {

459 ià(
nw
 == 0)

460 
	`”rx
(1, "%s:ƒnd oàdeviû", 
out
.
Çme
);

461 ià(
”ºo
 !ğ
EINTR
)

462 
	`”r
(1, "%s", 
out
.
Çme
);

463 
nw
 = 0;

465 
ou
 +ğ
nw
;

466 
¡
.
by‹s
 +ğ
nw
;

467 ià((
size_t
)
nw
 =ğ
n
) {

468 ià(
n
 !ğ
out
.
dbsz
)

469 ++
¡
.
out_·¹
;

471 ++
¡
.
out_fuÎ
;

474 ++
¡
.
out_·¹
;

475 ià((
size_t
)
nw
 =ğ
út
)

477 ià(
out
.
æags
 & 
ISTAPE
)

478 
	`”rx
(1, "%s: short write onape device",

479 
out
.
Çme
);

480 ià(
out
.
æags
 & 
ISCHR
 && !
w¬Ãd
) {

481 
w¬Ãd
 = 1;

482 
	`w¬nx
("%s: short write on character device",

483 
out
.
Çme
);

486 ià((
out
.
dbút
 -ğ
n
è< out.
dbsz
)

491 ià(
out
.
dbút
)

492 ()
	`memmove
(
out
.
db
, out.
dbp
 - out.
dbút
, out.dbcnt);

493 
out
.
dbp
 = out.
db
 + out.
dbút
;

494 
	}
}

	@dd/dd.h

39 
u_ch¬
 *
	mdb
;

40 
u_ch¬
 *
	mdbp
;

42 
size_t
 
	mdbút
;

43 
size_t
 
	mdbrút
;

44 
size_t
 
	mdbsz
;

46 
	#ISCHR
 0x01

	)

47 
	#ISPIPE
 0x02

	)

48 
	#ISTAPE
 0x04

	)

49 
	#ISSEEK
 0x08

	)

50 
	#NOREAD
 0x10

	)

51 
	#ISTRUNC
 0x20

	)

52 
u_št
 
	mæags
;

54 cÚ¡ *
	mÇme
;

55 
	mfd
;

56 
off_t
 
	moff£t
;

57 } 
	tIO
;

60 
uštmax_t
 
	mš_fuÎ
;

61 
uštmax_t
 
	mš_·¹
;

62 
uštmax_t
 
	mout_fuÎ
;

63 
uštmax_t
 
	mout_·¹
;

64 
uštmax_t
 
	mŒunc
;

65 
uštmax_t
 
	mswab
;

66 
uštmax_t
 
	mby‹s
;

67 
	m¡¬t
;

68 } 
	tSTAT
;

71 
	#C_ASCII
 0x00001

	)

72 
	#C_BLOCK
 0x00002

	)

73 
	#C_BS
 0x00004

	)

74 
	#C_CBS
 0x00008

	)

75 
	#C_COUNT
 0x00010

	)

76 
	#C_EBCDIC
 0x00020

	)

77 
	#C_FILES
 0x00040

	)

78 
	#C_IBS
 0x00080

	)

79 
	#C_IF
 0x00100

	)

80 
	#C_LCASE
 0x00200

	)

81 
	#C_NOERROR
 0x00400

	)

82 
	#C_NOTRUNC
 0x00800

	)

83 
	#C_OBS
 0x01000

	)

84 
	#C_OF
 0x02000

	)

85 
	#C_OSYNC
 0x04000

	)

86 
	#C_PAREVEN
 0x08000

	)

87 
	#C_PARNONE
 0x100000

	)

88 
	#C_PARODD
 0x200000

	)

89 
	#C_PARSET
 0x400000

	)

90 
	#C_SEEK
 0x800000

	)

91 
	#C_SKIP
 0x1000000

	)

92 
	#C_SPARSE
 0x2000000

	)

93 
	#C_SWAB
 0x4000000

	)

94 
	#C_SYNC
 0x8000000

	)

95 
	#C_UCASE
 0x10000000

	)

96 
	#C_UNBLOCK
 0x20000000

	)

97 
	#C_FILL
 0x40000000

	)

99 
	#C_PARITY
 (
C_PAREVEN
 | 
C_PARODD
 | 
C_PARNONE
 | 
C_PARSET
)

	)

	@dd/extern.h

37 
block
();

38 
block_şo£
();

39 
dd_out
();

40 
def
();

41 
def_şo£
();

42 
jş
(**);

43 
pos_š
();

44 
pos_out
();

45 
summ¬y
();

46 
summ¬yx
();

47 
‹rmš©e
();

48 
unblock
();

49 
unblock_şo£
();

51 
IO
 
š
, 
out
;

52 
STAT
 
¡
;

53 (*
cfunc
)();

54 
uštmax_t
 
ıy_út
;

55 
size_t
 
cbsz
;

56 
u_št
 
ddæags
;

57 
uštmax_t
 
fes_út
;

58 cÚ¡ 
u_ch¬
 *
ùab
;

59 cÚ¡ 
u_ch¬
 
a2e_32V
[], 
a2e_POSIX
[];

60 cÚ¡ 
u_ch¬
 
e2a_32V
[], 
e2a_POSIX
[];

61 cÚ¡ 
u_ch¬
 
a2ibm_32V
[], 
a2ibm_POSIX
[];

62 
u_ch¬
 
ÿ£b
[];

63 
fl_ch¬
;

	@dd/gen.c

7 
	~<¡dio.h
>

10 
	$maš
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

12 
i
;

14 
i
 = 0; i < 256; i++)

15 
	`putch¬
(
i
);

17 
	}
}

	@dd/misc.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)misc.c 8.3 (Berkeley) 4/2/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/dd/misc.c,v 1.27.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

45 
	~<”ºo.h
>

46 
	~<š‰y³s.h
>

47 
	~<¡dio.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

50 
	~<uni¡d.h
>

52 
	~"dd.h
"

53 
	~"ex‹º.h
"

56 
	$summ¬y
()

58 
timev®
 
tv
;

59 
£cs
;

60 
buf
[100];

62 ()
	`g‘timeofday
(&
tv
, (
timezÚe
 *)
NULL
);

63 
£cs
 = 
tv
.
tv_£c
 +v.
tv_u£c
 * 1e-6 - 
¡
.
¡¬t
;

64 ià(
£cs
 < 1e-6)

65 
£cs
 = 1e-6;

67 ()
	`¢´štf
(
buf
, (buf),

69 
¡
.
š_fuÎ
, st.
š_·¹
, st.
out_fuÎ
, st.
out_·¹
);

70 ()
	`wr™e
(
STDERR_FILENO
, 
buf
, 
	`¡¾’
(buf));

71 ià(
¡
.
swab
) {

72 ()
	`¢´štf
(
buf
, (buf), "%ju odd†ength swab %s\n",

73 
¡
.
swab
, (st.swab == 1) ? "block" : "blocks");

74 ()
	`wr™e
(
STDERR_FILENO
, 
buf
, 
	`¡¾’
(buf));

76 ià(
¡
.
Œunc
) {

77 ()
	`¢´štf
(
buf
, (buf), "%juruncated %s\n",

78 
¡
.
Œunc
, (st.trunc == 1) ? "block" : "blocks");

79 ()
	`wr™e
(
STDERR_FILENO
, 
buf
, 
	`¡¾’
(buf));

81 ()
	`¢´štf
(
buf
, (buf),

83 
¡
.
by‹s
, 
£cs
, st.bytes / secs);

84 ()
	`wr™e
(
STDERR_FILENO
, 
buf
, 
	`¡¾’
(buf));

85 
	}
}

89 
	$summ¬yx
(
nÙu£d
 
__unu£d
)

91 
§ve_”ºo
 = 
”ºo
;

93 
	`summ¬y
();

94 
”ºo
 = 
§ve_”ºo
;

95 
	}
}

99 
	$‹rmš©e
(
sig
)

102 
	`summ¬y
();

103 
	`_ex™
(
sig
 == 0 ? 0 : 1);

104 
	}
}

	@dd/position.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)position.c 8.3 (Berkeley) 4/2/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/dd/position.c,v 1.23.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/mtio.h
>

45 
	~<”r.h
>

46 
	~<”ºo.h
>

47 
	~<š‰y³s.h
>

48 
	~<uni¡d.h
>

50 
	~"dd.h
"

51 
	~"ex‹º.h
"

60 
	$pos_š
()

62 
off_t
 
út
;

63 
w¬Ãd
;

64 
ssize_t
 
Ä
;

65 
size_t
 
bút
;

68 ià(
š
.
æags
 & 
ISSEEK
) {

69 
”ºo
 = 0;

70 ià(
	`l£ek
(
š
.
fd
, in.
off£t
 * in.
dbsz
, 
SEEK_CUR
) == -1 &&

71 
”ºo
 != 0)

72 
	`”r
(1, "%s", 
š
.
Çme
);

77 ià(
š
.
off£t
 < 0)

78 
	`”rx
(1, "%s: illegal offset", "iseek/skip");

85 
bút
 = 
š
.
dbsz
, 
út
 = in.
off£t
, 
w¬Ãd
 = 0; cnt;) {

86 ià((
Ä
 = 
	`»ad
(
š
.
fd
, in.
db
, 
bút
)) > 0) {

87 ià(
š
.
æags
 & 
ISPIPE
) {

88 ià(!(
bút
 -ğ
Ä
)) {

89 
bút
 = 
š
.
dbsz
;

90 --
út
;

93 --
út
;

97 ià(
Ä
 == 0) {

98 ià(
fes_út
 > 1) {

99 --
fes_út
;

102 
	`”rx
(1, "skip„eachedƒnd of input");

110 ià(
ddæags
 & 
C_NOERROR
) {

111 ià(!
w¬Ãd
) {

112 
	`w¬n
("%s", 
š
.
Çme
);

113 
w¬Ãd
 = 1;

114 
	`summ¬y
();

118 
	`”r
(1, "%s", 
š
.
Çme
);

120 
	}
}

123 
	$pos_out
()

125 
mtİ
 
t_İ
;

126 
off_t
 
út
;

127 
ssize_t
 
n
;

134 ià(
out
.
æags
 & (
ISSEEK
 | 
ISPIPE
)) {

135 
”ºo
 = 0;

136 ià(
	`l£ek
(
out
.
fd
, out.
off£t
 * out.
dbsz
, 
SEEK_CUR
) == -1 &&

137 
”ºo
 != 0)

138 
	`”r
(1, "%s", 
out
.
Çme
);

143 ià(
out
.
off£t
 < 0)

144 
	`”rx
(1, "%s: illegal offset", "oseek/seek");

147 ià(
out
.
æags
 & 
NOREAD
) {

148 
t_İ
.
mt_İ
 = 
MTFSR
;

149 
t_İ
.
mt_couÁ
 = 
out
.
off£t
;

151 ià(
	`ioùl
(
out
.
fd
, 
MTIOCTOP
, &
t_İ
) == -1)

152 
	`”r
(1, "%s", 
out
.
Çme
);

157 
út
 = 0; cÁ < 
out
.
off£t
; ++cnt) {

158 ià((
n
 = 
	`»ad
(
out
.
fd
, out.
db
, out.
dbsz
)) > 0)

161 ià(
n
 == -1)

162 
	`”r
(1, "%s", 
out
.
Çme
);

169 
t_İ
.
mt_İ
 = 
MTBSR
;

170 
t_İ
.
mt_couÁ
 = 1;

171 ià(
	`ioùl
(
out
.
fd
, 
MTIOCTOP
, &
t_İ
) == -1)

172 
	`”r
(1, "%s", 
out
.
Çme
);

174 
út
++ < 
out
.
off£t
) {

175 
n
 = 
	`wr™e
(
out
.
fd
, out.
db
, out.
dbsz
);

176 ià(
n
 == -1)

177 
	`”r
(1, "%s", 
out
.
Çme
);

178 ià((
size_t
)
n
 !ğ
out
.
dbsz
)

179 
	`”rx
(1, "%s: wr™çu»", 
out
.
Çme
);

183 
	}
}

	@df/df.c

36 #iâdeà
lšt


37 cÚ¡ 
	gcİyright
[] =

42 #iâdeà
lšt


43 
	gsccsid
[] = "@(#)df.c 8.9 (Berkeley) 5/8/95";

46 
	~<sys/cdefs.h
>

47 
__FBSDID
("$FreeBSD: src/bin/df/df.c,v 1.74.2.3.2.1 2012/03/03 06:15:13 kensmith Exp $");

49 
	~<sys/·¿m.h
>

50 
	~<sys/¡©.h
>

51 
	~<sys/mouÁ.h
>

52 
	~<sys/sysùl.h
>

53 
	~<ufs/ufs/ufsmouÁ.h
>

54 
	~<”r.h
>

55 
	~<libut.h
>

56 
	~<¡dšt.h
>

57 
	~<¡dio.h
>

58 
	~<¡dlib.h
>

59 
	~<¡ršg.h
>

60 
	~<sy£x™s.h
>

61 
	~<uni¡d.h
>

63 
	~"ex‹º.h
"

65 
	#UNITS_SI
 1

	)

66 
	#UNITS_2
 2

	)

69 
	smaxwidths
 {

70 
	mmÁäom
;

71 
	mf¡y³
;

72 
	mtÙ®
;

73 
	mu£d
;

74 
	mava
;

75 
	miu£d
;

76 
	miä“
;

79 
add¡©
(
¡©fs
 *, statfs *);

80 *
g‘mÁ±
(const *);

81 
št64width
(
št64_t
);

82 *
mak’‘vf¦i¡
();

83 
´thumª
(cÚ¡ 
¡©fs
 *, 
št64_t
);

84 
´thumªv®
(
št64_t
);

85 
štmax_t
 
fsbtoblk
(
št64_t
, 
ušt64_t
, 
u_lÚg
);

86 
´t¡©
(
¡©fs
 *, 
maxwidths
 *);

87 
size_t
 
»g‘mÁšfo
(
¡©fs
 **, , const **);

88 
upd©e_maxwidths
(
maxwidths
 *, cÚ¡ 
¡©fs
 *);

89 
u§ge
();

91 
__šlše
 

92 
	$imax
(
a
, 
b
)

94  (
a
 > 
b
 ?‡ : b);

95 
	}
}

97 
	gaæag
 = 0, 
	gcæag
, 
	ghæag
, 
	giæag
, 
	gkæag
, 
	glæag
 = 0, 
	gnæag
, 
	gTæag
;

98 
ufs_¬gs
 
	gmdev
;

101 
	$maš
(
¬gc
, *
¬gv
[])

103 
¡©
 
¡buf
;

104 
¡©fs
 
¡©fsbuf
, 
tÙ®buf
;

105 
maxwidths
 maxwidths;

106 
¡©fs
 *
mÁbuf
;

107 cÚ¡ *
f¡y³
;

108 *
mÁ·th
, *
mÁ±
;

109 cÚ¡ **
vf¦i¡
;

110 
i
, 
mÁsize
;

111 
ch
, 
rv
;

113 
f¡y³
 = "ufs";

115 
	`mem£t
(&
tÙ®buf
, 0, (totalbuf));

116 
tÙ®buf
.
f_bsize
 = 
DEV_BSIZE
;

117 
	`¡¾ıy
(
tÙ®buf
.
f_mÁäomÇme
, "tÙ®", 
MNAMELEN
);

118 
vf¦i¡
 = 
NULL
;

119 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "abcgHhiklmnPt:T")) != -1)

120 
ch
) {

122 
aæag
 = 1;

133 ià(
kæag
)

135 
	`£‹nv
("BLOCKSIZE", "512", 1);

136 
hæag
 = 0;

139 
cæag
 = 1;

142 
	`£‹nv
("BLOCKSIZE", "1g", 1);

143 
hæag
 = 0;

146 
hæag
 = 
UNITS_SI
;

149 
hæag
 = 
UNITS_2
;

152 
iæag
 = 1;

155 
kæag
++;

156 
	`£‹nv
("BLOCKSIZE", "1024", 1);

157 
hæag
 = 0;

160 ià(
vf¦i¡
 !ğ
NULL
)

161 
	`”rx
(1, "-l‡nd -t‡re mutuallyƒxclusive.");

162 
vf¦i¡
 = 
	`makevf¦i¡
(
	`mak’‘vf¦i¡
());

163 
læag
 = 1;

166 
	`£‹nv
("BLOCKSIZE", "1m", 1);

167 
hæag
 = 0;

170 
næag
 = 1;

173 ià(
læag
)

174 
	`”rx
(1, "-l‡nd -t‡re mutuallyƒxclusive.");

175 ià(
vf¦i¡
 !ğ
NULL
)

176 
	`”rx
(1, "only one -t option may be specified");

177 
f¡y³
 = 
İrg
;

178 
vf¦i¡
 = 
	`makevf¦i¡
(
İrg
);

181 
Tæag
 = 1;

185 
	`u§ge
();

187 
¬gc
 -ğ
İtšd
;

188 
¬gv
 +ğ
İtšd
;

190 
rv
 = 0;

191 ià(!*
¬gv
) {

193 
mÁsize
 = 
	`g‘mÁšfo
(&
mÁbuf
, 
MNT_NOWAIT
);

194 
mÁsize
 = 
	`»g‘mÁšfo
(&
mÁbuf
, mÁsize, 
vf¦i¡
);

197 
mÁbuf
 = 
	`m®loc
(
¬gc
 * (*mntbuf));

198 ià(
mÁbuf
 == 0)

199 
	`”r
(1, "malloc()");

200 
mÁsize
 = 0;

205 ; *
¬gv
;‡rgv++) {

206 ià(
	`¡©
(*
¬gv
, &
¡buf
) < 0) {

207 ià((
mÁ±
 = 
	`g‘mÁ±
(*
¬gv
)) == 0) {

208 
	`w¬n
("%s", *
¬gv
);

209 
rv
 = 1;

212 } ià(
	`S_ISCHR
(
¡buf
.
¡_mode
)) {

213 ià((
mÁ±
 = 
	`g‘mÁ±
(*
¬gv
)) == 0) {

214 
mdev
.
f¥ec
 = *
¬gv
;

215 
mÁ·th
 = 
	`¡rdup
("/tmp/df.XXXXXX");

216 ià(
mÁ·th
 =ğ
NULL
) {

217 
	`w¬n
("strdup failed");

218 
rv
 = 1;

221 
mÁ±
 = 
	`mkd‹mp
(
mÁ·th
);

222 ià(
mÁ±
 =ğ
NULL
) {

223 
	`w¬n
("mkd‹mp(\"%s\"èçed", 
mÁ·th
);

224 
rv
 = 1;

225 
	`ä“
(
mÁ·th
);

228 ià(
	`mouÁ
(
f¡y³
, 
mÁ±
, 
MNT_RDONLY
,

229 &
mdev
) != 0) {

230 
	`w¬n
("%s", *
¬gv
);

231 
rv
 = 1;

232 ()
	`rmdœ
(
mÁ±
);

233 
	`ä“
(
mÁ·th
);

235 } ià(
	`¡©fs
(
mÁ±
, &
¡©fsbuf
) == 0) {

236 
¡©fsbuf
.
f_mÁÚÇme
[0] = '\0';

237 
	`´t¡©
(&
¡©fsbuf
, &
maxwidths
);

238 ià(
cæag
)

239 
	`add¡©
(&
tÙ®buf
, &
¡©fsbuf
);

241 
	`w¬n
("%s", *
¬gv
);

242 
rv
 = 1;

244 ()
	`unmouÁ
(
mÁ±
, 0);

245 ()
	`rmdœ
(
mÁ±
);

246 
	`ä“
(
mÁ·th
);

250 
mÁ±
 = *
¬gv
;

256 ià(
	`¡©fs
(
mÁ±
, &
¡©fsbuf
) < 0) {

257 
	`w¬n
("%s", 
mÁ±
);

258 
rv
 = 1;

268 ià(
	`checkvf¢ame
(
¡©fsbuf
.
f_f¡y³Çme
, 
vf¦i¡
)) {

269 
rv
 = 1;

274 
¡©fsbuf
.
f_æags
 &ğ~
MNT_IGNORE
;

277 
mÁbuf
[
mÁsize
++] = 
¡©fsbuf
;

280 
	`bz”o
(&
maxwidths
, (maxwidths));

281 
i
 = 0; i < 
mÁsize
; i++) {

282 ià(
aæag
 || (
mÁbuf
[
i
].
f_æags
 & 
MNT_IGNORE
) == 0) {

283 
	`upd©e_maxwidths
(&
maxwidths
, &
mÁbuf
[
i
]);

284 ià(
cæag
)

285 
	`add¡©
(&
tÙ®buf
, &
mÁbuf
[
i
]);

288 
i
 = 0; i < 
mÁsize
; i++)

289 ià(
aæag
 || (
mÁbuf
[
i
].
f_æags
 & 
MNT_IGNORE
) == 0)

290 
	`´t¡©
(&
mÁbuf
[
i
], &
maxwidths
);

291 ià(
cæag
)

292 
	`´t¡©
(&
tÙ®buf
, &
maxwidths
);

293  (
rv
);

294 
	}
}

297 
	$g‘mÁ±
(cÚ¡ *
Çme
)

299 
size_t
 
mÁsize
, 
i
;

300 
¡©fs
 *
mÁbuf
;

302 
mÁsize
 = 
	`g‘mÁšfo
(&
mÁbuf
, 
MNT_NOWAIT
);

303 
i
 = 0; i < 
mÁsize
; i++) {

304 ià(!
	`¡rcmp
(
mÁbuf
[
i
].
f_mÁäomÇme
, 
Çme
))

305  (
mÁbuf
[
i
].
f_mÁÚÇme
);

308 
	}
}

315 
size_t


316 
	$»g‘mÁšfo
(
¡©fs
 **
mÁbuå
, 
mÁsize
, cÚ¡ **
vf¦i¡
)

318 
”rÜ
, 
i
, 
j
;

319 
¡©fs
 *
mÁbuf
;

321 ià(
vf¦i¡
 =ğ
NULL
)

322  (
næag
 ? 
mÁsize
 : 
	`g‘mÁšfo
(
mÁbuå
, 
MNT_WAIT
));

324 
mÁbuf
 = *
mÁbuå
;

325 
j
 = 0, 
i
 = 0; i < 
mÁsize
; i++) {

326 ià(
	`checkvf¢ame
(
mÁbuf
[
i
].
f_f¡y³Çme
, 
vf¦i¡
))

334 
”rÜ
 = 
	`¡©fs
(
mÁbuf
[
i
].
f_mÁÚÇme
, &mÁbuf[
j
]);

335 ià(
næag
 || 
”rÜ
 < 0)

336 ià(
i
 !ğ
j
) {

337 ià(
”rÜ
 < 0)

338 
	`w¬nx
("%s stats…ossibly stale",

339 
mÁbuf
[
i
].
f_mÁÚÇme
);

340 
mÁbuf
[
j
] = mÁbuf[
i
];

342 
j
++;

344  (
j
);

345 
	}
}

348 
	$´thumª
(cÚ¡ 
¡©fs
 *
sf¥
, 
št64_t
 
u£d
)

351 
	`´thumªv®
(
sf¥
->
f_blocks
 * sf¥->
f_bsize
);

352 
	`´thumªv®
(
u£d
 * 
sf¥
->
f_bsize
);

353 
	`´thumªv®
(
sf¥
->
f_bava
 * sf¥->
f_bsize
);

354 
	}
}

357 
	$´thumªv®
(
št64_t
 
by‹s
)

359 
buf
[6];

360 
æags
;

362 
æags
 = 
HN_B
 | 
HN_NOSPACE
 | 
HN_DECIMAL
;

363 ià(
hæag
 =ğ
UNITS_SI
)

364 
æags
 |ğ
HN_DIVISOR_1000
;

366 
	`humªize_numb”
(
buf
, (bufè- (
by‹s
 < 0 ? 0 : 1),

367 
by‹s
, "", 
HN_AUTOSCALE
, 
æags
);

369 ()
	`´štf
(" %6s", 
buf
);

370 
	}
}

376 
	$´thumªv®šode
(
št64_t
 
by‹s
)

378 
buf
[6];

379 
æags
;

381 
æags
 = 
HN_NOSPACE
 | 
HN_DECIMAL
 | 
HN_DIVISOR_1000
;

383 
	`humªize_numb”
(
buf
, (bufè- (
by‹s
 < 0 ? 0 : 1),

384 
by‹s
, "", 
HN_AUTOSCALE
, 
æags
);

386 ()
	`´štf
(" %5s", 
buf
);

387 
	}
}

393 
štmax_t


394 
	$fsbtoblk
(
št64_t
 
num
, 
ušt64_t
 
fsbs
, 
u_lÚg
 
bs
)

397 ià(
fsbs
 !ğ0 && fsb < 
bs
)

398  (
num
 / (
štmax_t
)(
bs
 / 
fsbs
));

400  (
num
 * (
štmax_t
)(
fsbs
 / 
bs
));

401 
	}
}

407 
	$´t¡©
(
¡©fs
 *
sf¥
, 
maxwidths
 *
mwp
)

409 
blocksize
;

410 
h—d”Ën
, 
time¡hrough
 = 0;

411 cÚ¡ *
h—d”
;

412 
št64_t
 
u£d
, 
avablks
, 
šodes
;

414 ià(++
time¡hrough
 == 1) {

415 
mwp
->
mÁäom
 = 
	`imax
(mwp->mÁäom, ()
	`¡¾’
("Filesystem"));

416 
mwp
->
f¡y³
 = 
	`imax
(mwp->f¡y³, ()
	`¡¾’
("Type"));

417 ià(
hæag
) {

418 
h—d”
 = " Size";

419 
mwp
->
tÙ®
 = mwp->
u£d
 = mwp->
ava
 =

420 ()
	`¡¾’
(
h—d”
);

422 
h—d”
 = 
	`g‘bsize
(&
h—d”Ën
, &
blocksize
);

423 
mwp
->
tÙ®
 = 
	`imax
(mwp->tÙ®, 
h—d”Ën
);

425 
mwp
->
u£d
 = 
	`imax
(mwp->u£d, ()
	`¡¾’
("Used"));

426 
mwp
->
ava
 = 
	`imax
(mwp->ava, ()
	`¡¾’
("Avail"));

428 ()
	`´štf
("%-*s", 
mwp
->
mÁäom
, "Filesystem");

429 ià(
Tæag
)

430 ()
	`´štf
(" %-*s", 
mwp
->
f¡y³
, "Type");

431 ()
	`´štf
(" %-* %* %* C­ac™y", 
mwp
->
tÙ®
, 
h—d”
,

432 
mwp
->
u£d
, "U£d", mwp->
ava
, "Avail");

433 ià(
iæag
) {

434 
mwp
->
iu£d
 = 
	`imax
(
hæag
 ? 0 : mwp->iused,

435 ()
	`¡¾’
(" iused"));

436 
mwp
->
iä“
 = 
	`imax
(
hæag
 ? 0 : mwp->ifree,

437 ()
	`¡¾’
("ifree"));

438 ()
	`´štf
(" %*s %*s %%iused",

439 
mwp
->
iu£d
 - 2, "iu£d", mwp->
iä“
, "ifree");

441 ()
	`´štf
(" Mounted on\n");

443 ()
	`´štf
("%-*s", 
mwp
->
mÁäom
, 
sf¥
->
f_mÁäomÇme
);

444 ià(
Tæag
)

445 ()
	`´štf
(" %-*s", 
mwp
->
f¡y³
, 
sf¥
->
f_f¡y³Çme
);

446 
u£d
 = 
sf¥
->
f_blocks
 - sf¥->
f_bä“
;

447 
avablks
 = 
sf¥
->
f_bava
 + 
u£d
;

448 ià(
hæag
) {

449 
	`´thumª
(
sf¥
, 
u£d
);

451 ()
	`´štf
(" %*jd %*jd %*jd",

452 
mwp
->
tÙ®
, 
	`fsbtoblk
(
sf¥
->
f_blocks
,

453 
sf¥
->
f_bsize
, 
blocksize
),

454 
mwp
->
u£d
, 
	`fsbtoblk
(u£d, 
sf¥
->
f_bsize
, 
blocksize
),

455 
mwp
->
ava
, 
	`fsbtoblk
(
sf¥
->
f_bava
,

456 
sf¥
->
f_bsize
, 
blocksize
));

458 ()
	`´štf
(" %5.0f%%",

459 
avablks
 =ğ0 ? 100.0 : ()
u£d
 / ()availblks * 100.0);

460 ià(
iæag
) {

461 
šodes
 = 
sf¥
->
f_fes
;

462 
u£d
 = 
šodes
 - 
sf¥
->
f_fä“
;

463 ià(
hæag
) {

464 ()
	`´štf
(" ");

465 
	`´thumªv®šode
(
u£d
);

466 
	`´thumªv®šode
(
sf¥
->
f_fä“
);

468 ()
	`´štf
(" %*jd %*jd", 
mwp
->
iu£d
, (
štmax_t
)
u£d
,

469 
mwp
->
iä“
, (
štmax_t
)
sf¥
->
f_fä“
);

471 ()
	`´štf
(" %4.0f%% ", 
šodes
 == 0 ? 100.0 :

472 ()
u£d
 / ()
šodes
 * 100.0);

474 ()
	`´štf
(" ");

475 ià(
	`¡ºcmp
(
sf¥
->
f_mÁäomÇme
, "tÙ®", 
MNAMELEN
) != 0)

476 ()
	`´štf
(" %s", 
sf¥
->
f_mÁÚÇme
);

477 ()
	`´štf
("\n");

478 
	}
}

481 
	$add¡©
(
¡©fs
 *
tÙ®f¥
, ¡©f *
¡©f¥
)

483 
ušt64_t
 
bsize
;

485 
bsize
 = 
¡©f¥
->
f_bsize
 / 
tÙ®f¥
->f_bsize;

486 
tÙ®f¥
->
f_blocks
 +ğ
¡©f¥
->f_block * 
bsize
;

487 
tÙ®f¥
->
f_bä“
 +ğ
¡©f¥
->f_bä“ * 
bsize
;

488 
tÙ®f¥
->
f_bava
 +ğ
¡©f¥
->f_bava * 
bsize
;

489 
tÙ®f¥
->
f_fes
 +ğ
¡©f¥
->f_files;

490 
tÙ®f¥
->
f_fä“
 +ğ
¡©f¥
->f_ffree;

491 
	}
}

498 
	$upd©e_maxwidths
(
maxwidths
 *
mwp
, cÚ¡ 
¡©fs
 *
sf¥
)

500 
blocksize
 = 0;

501 
dummy
;

503 ià(
blocksize
 == 0)

504 
	`g‘bsize
(&
dummy
, &
blocksize
);

506 
mwp
->
mÁäom
 = 
	`imax
(mwp->mÁäom, ()
	`¡¾’
(
sf¥
->
f_mÁäomÇme
));

507 
mwp
->
f¡y³
 = 
	`imax
(mwp->f¡y³, ()
	`¡¾’
(
sf¥
->
f_f¡y³Çme
));

508 
mwp
->
tÙ®
 = 
	`imax
(mwp->tÙ®, 
	`št64width
(

509 
	`fsbtoblk
((
št64_t
)
sf¥
->
f_blocks
, sf¥->
f_bsize
, 
blocksize
)));

510 
mwp
->
u£d
 = 
	`imax
(mwp->used,

511 
	`št64width
(
	`fsbtoblk
((
št64_t
)
sf¥
->
f_blocks
 -

512 (
št64_t
)
sf¥
->
f_bä“
, sf¥->
f_bsize
, 
blocksize
)));

513 
mwp
->
ava
 = 
	`imax
(mwp->ava, 
	`št64width
(
	`fsbtoblk
(
sf¥
->
f_bava
,

514 
sf¥
->
f_bsize
, 
blocksize
)));

515 
mwp
->
iu£d
 = 
	`imax
(mwp->iu£d, 
	`št64width
((
št64_t
)
sf¥
->
f_fes
 -

516 
sf¥
->
f_fä“
));

517 
mwp
->
iä“
 = 
	`imax
(mwp->iä“, 
	`št64width
(
sf¥
->
f_fä“
));

518 
	}
}

522 
	$št64width
(
št64_t
 
v®
)

524 
Ën
;

526 
Ën
 = 0;

528 ià(
v®
 <= 0) {

529 
v®
 = -val;

530 
Ën
++;

532 
v®
 > 0) {

533 
Ën
++;

534 
v®
 /= 10;

537  (
Ën
);

538 
	}
}

541 
	$u§ge
()

544 ()
	`årštf
(
¡d”r
,

546 
	`ex™
(
EX_USAGE
);

547 
	}
}

550 
	$mak’‘vf¦i¡
()

552 *
¡r
, *
¡½Œ
, **
li¡±r
;

553 
xvfscÚf
 *
xvf¥
, *
k“p_xvf¥
;

554 
size_t
 
buæ’
;

555 
út
, 
i
, 
maxvfscÚf
;

557 ià(
	`sysùlbyÇme
("vfs.cÚæi¡", 
NULL
, &
buæ’
, NULL, 0) < 0) {

558 
	`w¬n
("sysctl(vfs.conflist)");

559  (
NULL
);

561 
xvf¥
 = 
	`m®loc
(
buæ’
);

562 ià(
xvf¥
 =ğ
NULL
) {

563 
	`w¬nx
("malloc failed");

564  (
NULL
);

566 
k“p_xvf¥
 = 
xvf¥
;

567 ià(
	`sysùlbyÇme
("vfs.cÚæi¡", 
xvf¥
, &
buæ’
, 
NULL
, 0) < 0) {

568 
	`w¬n
("sysctl(vfs.conflist)");

569 
	`ä“
(
k“p_xvf¥
);

570  (
NULL
);

572 
maxvfscÚf
 = 
buæ’
 / (
xvfscÚf
);

574 ià((
li¡±r
 = 
	`m®loc
((*è* 
maxvfscÚf
)è=ğ
NULL
) {

575 
	`w¬nx
("malloc failed");

576 
	`ä“
(
k“p_xvf¥
);

577  (
NULL
);

580 
út
 = 0, 
i
 = 0; i < 
maxvfscÚf
; i++) {

581 ià(
xvf¥
->
vfc_æags
 & 
VFCF_NETWORK
) {

582 
li¡±r
[
út
++] = 
	`¡rdup
(
xvf¥
->
vfc_Çme
);

583 ià(
li¡±r
[
út
-1] =ğ
NULL
) {

584 
	`w¬nx
("malloc failed");

585 
	`ä“
(
li¡±r
);

586 
	`ä“
(
k“p_xvf¥
);

587  (
NULL
);

590 
xvf¥
++;

593 ià(
út
 == 0 ||

594 (
¡r
 = 
	`m®loc
((è* (32 * 
út
 + cÁ + 2))è=ğ
NULL
) {

595 ià(
út
 > 0)

596 
	`w¬nx
("malloc failed");

597 
	`ä“
(
li¡±r
);

598 
	`ä“
(
k“p_xvf¥
);

599  (
NULL
);

602 *
¡r
 = 'n'; *(str + 1) = 'o';

603 
i
 = 0, 
¡½Œ
 = 
¡r
 + 2; i < 
út
; i++, strptr++) {

604 
	`¡¾ıy
(
¡½Œ
, 
li¡±r
[
i
], 32);

605 
¡½Œ
 +ğ
	`¡¾’
(
li¡±r
[
i
]);

606 *
¡½Œ
 = ',';

607 
	`ä“
(
li¡±r
[
i
]);

609 *(--
¡½Œ
) = '\0';

611 
	`ä“
(
k“p_xvf¥
);

612 
	`ä“
(
li¡±r
);

613  (
¡r
);

614 
	}
}

	@domainname/domainname.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 cÚ¡ 
	gsccsid
[] = "From: @(#)hostname.c 8.1 (Berkeley) 5/31/93";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/domainname/domainname.c,v 1.19.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/·¿m.h
>

46 
	~<”r.h
>

47 
	~<¡dio.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

50 
	~<uni¡d.h
>

52 
u§ge
();

55 
	$maš
(
¬gc
, *
¬gv
[])

57 
ch
;

58 
domašÇme
[
MAXHOSTNAMELEN
];

60 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "")) != -1)

61 
ch
) {

65 
	`u§ge
();

67 
¬gc
 -ğ
İtšd
;

68 
¬gv
 +ğ
İtšd
;

70 ià(
¬gc
 > 1)

71 
	`u§ge
();

73 ià(*
¬gv
) {

74 ià(
	`£tdomašÇme
(*
¬gv
, ()
	`¡¾’
(*argv)))

75 
	`”r
(1, "setdomainname");

77 ià(
	`g‘domašÇme
(
domašÇme
, ()(domainname)))

78 
	`”r
(1, "getdomainname");

79 ()
	`´štf
("%s\n", 
domašÇme
);

81 
	`ex™
(0);

82 
	}
}

85 
	$u§ge
()

87 ()
	`årštf
(
¡d”r
, "usage: domainname [ypdomain]\n");

88 
	`ex™
(1);

89 
	}
}

	@echo/echo.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)echo.c 8.1 (Berkeley) 5/31/93";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/echo/echo.c,v 1.19.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/ty³s.h
>

45 
	~<sys/uio.h
>

47 
	~<as£¹.h
>

48 
	~<”ºo.h
>

49 
	~<lim™s.h
>

50 
	~<¡dlib.h
>

51 
	~<¡ršg.h
>

52 
	~<uni¡d.h
>

58 
__d—d2
 

59 
	$”»x™
(cÚ¡ *
´og
, cÚ¡ *
»asÚ
)

61 *
”r¡r
 = 
	`¡»¼Ü
(
”ºo
);

62 
	`wr™e
(
STDERR_FILENO
, 
´og
, 
	`¡¾’
(prog));

63 
	`wr™e
(
STDERR_FILENO
, ": ", 2);

64 
	`wr™e
(
STDERR_FILENO
, 
»asÚ
, 
	`¡¾’
(reason));

65 
	`wr™e
(
STDERR_FILENO
, ": ", 2);

66 
	`wr™e
(
STDERR_FILENO
, 
”r¡r
, 
	`¡¾’
(errstr));

67 
	`wr™e
(
STDERR_FILENO
, "\n", 1);

68 
	`ex™
(1);

69 
	}
}

72 
	$maš
(
¬gc
, *
¬gv
[])

74 
næag
;

75 
veş’
;

76 
iovec
 *
iov
, *
vp
;

77 
¥aû
[] = " ";

78 
Ãwlše
[] = "\n";

79 *
´ogÇme
 = 
¬gv
[0];

82 ià(*++
¬gv
 && !
	`¡rcmp
(*argv, "-n")) {

83 ++
¬gv
;

84 --
¬gc
;

85 
næag
 = 1;

87 
næag
 = 0;

89 
veş’
 = (
¬gc
 >= 2) ? (argc - 2) * 2 + 1 : 0;

91 ià((
vp
 = 
iov
 = 
	`m®loc
((
veş’
 + 1è* (
iovec
))è=ğ
NULL
)

92 
	`”»x™
(
´ogÇme
, "malloc");

94 
¬gv
[0] !ğ
NULL
) {

95 
size_t
 
Ën
;

97 
Ën
 = 
	`¡¾’
(
¬gv
[0]);

104 ià(
¬gv
[1] =ğ
NULL
) {

106 ià(
Ën
 >= 2 &&

107 
¬gv
[0][
Ën
 - 2] == '\\' &&

108 
¬gv
[0][
Ën
 - 1] == 'c') {

110 
Ën
 -= 2;

111 
næag
 = 1;

114 
vp
->
iov_ba£
 = *
¬gv
;

115 
vp
++->
iov_Ën
 = 
Ën
;

116 ià(*++
¬gv
) {

117 
vp
->
iov_ba£
 = 
¥aû
;

118 
vp
++->
iov_Ën
 = 1;

121 ià(!
næag
) {

122 
veş’
++;

123 
vp
->
iov_ba£
 = 
Ãwlše
;

124 
vp
++->
iov_Ën
 = 1;

127 
veş’
) {

128 
nwr™e
;

130 
nwr™e
 = (
veş’
 > 
IOV_MAX
) ? IOV_MAX : veclen;

131 ià(
	`wr™ev
(
STDOUT_FILENO
, 
iov
, 
nwr™e
) == -1)

132 
	`”»x™
(
´ogÇme
, "write");

133 
iov
 +ğ
nwr™e
;

134 
veş’
 -ğ
nwr™e
;

137 
	}
}

	@ed/buf.c

29 
	~<sys/cdefs.h
>

30 
__FBSDID
("$FreeBSD: src/bin/ed/buf.c,v 1.22.36.2.2.1 2012/03/03 06:15:13 kensmith Exp $");

32 
	~<sys/fe.h
>

33 
	~<sys/¡©.h
>

35 
	~"ed.h
"

38 
FILE
 *
	gså
;

39 
off_t
 
	gsf£ek
;

40 
	g£ek_wr™e
;

41 
lše_t
 
	gbufãr_h—d
;

46 
	$g‘_sbuf_lše
(
lše_t
 *
Í
)

48 *
sfbuf
 = 
NULL
;

49 
sfbufsz
 = 0;

51 
Ën
, 
ù
;

53 ià(
Í
 =ğ&
bufãr_h—d
)

54  
NULL
;

55 
£ek_wr™e
 = 1;

57 ià(
sf£ek
 !ğ
Í
->
£ek
) {

58 
sf£ek
 = 
Í
->
£ek
;

59 ià(
	`f£eko
(
så
, 
sf£ek
, 
SEEK_SET
) < 0) {

60 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

61 
”rmsg
 = "cannot seekemp file";

62  
NULL
;

65 
Ën
 = 
Í
->len;

66 
	`REALLOC
(
sfbuf
, 
sfbufsz
, 
Ën
 + 1, 
NULL
);

67 ià((
ù
 = 
	`ä—d
(
sfbuf
, (), 
Ën
, 
så
)) < 0 || ct !=†en) {

68 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

69 
”rmsg
 = "cannot„eademp file";

70  
NULL
;

72 
sf£ek
 +ğ
Ën
;

73 
sfbuf
[
Ën
] = '\0';

74  
sfbuf
;

75 
	}
}

81 
	$put_sbuf_lše
(cÚ¡ *
cs
)

83 
lše_t
 *
Í
;

84 
Ën
, 
ù
;

85 cÚ¡ *
s
;

87 ià((
Í
 = (
lše_t
 *è
	`m®loc
(Öše_t))è=ğ
NULL
) {

88 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

89 
”rmsg
 = "out of memory";

90  
NULL
;

93 
s
 = 
cs
; *s != '\n'; s++)

95 ià(
s
 - 
cs
 >ğ
LINECHARS
) {

96 
”rmsg
 = "lineoo†ong";

97 
	`ä“
(
Í
);

98  
NULL
;

100 
Ën
 = 
s
 - 
cs
;

102 ià(
£ek_wr™e
) {

103 ià(
	`f£eko
(
så
, (
off_t
)0, 
SEEK_END
) < 0) {

104 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

105 
”rmsg
 = "cannot seekemp file";

106 
	`ä“
(
Í
);

107  
NULL
;

109 
sf£ek
 = 
	`á–lo
(
så
);

110 
£ek_wr™e
 = 0;

113 ià((
ù
 = 
	`fwr™e
(
cs
, (), 
Ën
, 
så
)) < 0 || ct !=†en) {

114 
sf£ek
 = -1;

115 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

116 
”rmsg
 = "cannot writeemp file";

117 
	`ä“
(
Í
);

118  
NULL
;

120 
Í
->
Ën
 =†en;

121 
Í
->
£ek
 = 
sf£ek
;

122 
	`add_lše_node
(
Í
);

123 
sf£ek
 +ğ
Ën
;

124  ++
s
;

125 
	}
}

130 
	$add_lše_node
(
lše_t
 *
Í
)

132 
lše_t
 *
ı
;

134 
ı
 = 
	`g‘_add»s£d_lše_node
(
cu¼’t_addr
);

135 
	`INSQUE
(
Í
, 
ı
);

136 
addr_Ï¡
++;

137 
cu¼’t_addr
++;

138 
	}
}

143 
	$g‘_lše_node_addr
(
lše_t
 *
Í
)

145 
lše_t
 *
ı
 = &
bufãr_h—d
;

146 
n
 = 0;

148 
ı
 !ğ
Í
 && (ı = cp->
q_fÜw
è!ğ&
bufãr_h—d
)

149 
n
++;

150 ià(
n
 && 
ı
 =ğ&
bufãr_h—d
) {

151 
”rmsg
 = "invalid‡ddress";

152  
ERR
;

154  
n
;

155 
	}
}

159 
lše_t
 *

160 
	$g‘_add»s£d_lše_node
(
n
)

162 
lše_t
 *
Í
 = &
bufãr_h—d
;

163 
Ú
 = 0;

165 
	`SPL1
();

166 ià(
n
 > 
Ú
)

167 ià(
n
 <ğ(
Ú
 + 
addr_Ï¡
) >> 1)

168 ; 
Ú
 < 
n
; on++)

169 
Í
 =†p->
q_fÜw
;

171 
Í
 = 
bufãr_h—d
.
q_back
;

172 
Ú
 = 
addr_Ï¡
; oÀ> 
n
; on--)

173 
Í
 =†p->
q_back
;

176 ià(
n
 >ğ
Ú
 >> 1)

177 ; 
Ú
 > 
n
; on--)

178 
Í
 =†p->
q_back
;

180 
Í
 = &
bufãr_h—d
;

181 
Ú
 = 0; oÀ< 
n
; on++)

182 
Í
 =†p->
q_fÜw
;

184 
	`SPL0
();

185  
Í
;

186 
	}
}

189 
Ãwlše_added
;

191 
	gsâ
[15] = "";

195 
	$İ’_sbuf
()

197 
fd
;

198 
u
;

200 
isbš¬y
 = 
Ãwlše_added
 = 0;

201 
u
 = 
	`umask
(077);

202 
	`¡rıy
(
sâ
, "/tmp/ed.XXXXXX");

203 ià((
fd
 = 
	`mk¡emp
(
sâ
)) == -1 ||

204 (
så
 = 
	`fdİ’
(
fd
, "w+")è=ğ
NULL
) {

205 ià(
fd
 != -1)

206 
	`şo£
(
fd
);

207 
	`³¼Ü
(
sâ
);

208 
”rmsg
 = "cannot openemp file";

209 
	`umask
(
u
);

210  
ERR
;

212 
	`umask
(
u
);

214 
	}
}

219 
	$şo£_sbuf
()

221 ià(
så
) {

222 ià(
	`fşo£
(
så
) < 0) {

223 
	`årštf
(
¡d”r
, "%s: %s\n", 
sâ
, 
	`¡»¼Ü
(
”ºo
));

224 
”rmsg
 = "cannot closeemp file";

225  
ERR
;

227 
så
 = 
NULL
;

228 
	`uÆšk
(
sâ
);

230 
sf£ek
 = 
£ek_wr™e
 = 0;

232 
	}
}

237 
	$qu™
(
n
)

239 ià(
så
) {

240 
	`fşo£
(
så
);

241 
	`uÆšk
(
sâ
);

243 
	`ex™
(
n
);

244 
	}
}

247 
	gùab
[256];

251 
	$š™_bufãrs
()

253 
i
 = 0;

261 
	`£tbufãr
(
¡dš
, 
¡dšbuf
, 1);

265 
	`£tvbuf
(
¡dout
, 
NULL
, 
_IOLBF
, 0);

266 ià(
	`İ’_sbuf
() < 0)

267 
	`qu™
(2);

268 
	`REQUE
(&
bufãr_h—d
, &buffer_head);

269 
i
 = 0; i < 256; i++)

270 
ùab
[
i
] = i;

271 
	}
}

276 
	$Œª¦™_‹xt
(*
s
, 
Ën
, 
äom
, 
to
)

278 
i
 = 0;

280 *
us
;

282 
ùab
[
i
] = i;

283 
ùab
[
i
 = 
äom
] = 
to
;

284 
us
 = (*è
s
; 
Ën
-- > 0; us++)

285 *
us
 = 
ùab
[*us];

286  
s
;

287 
	}
}

	@ed/cbc.c

34 
	~<sys/cdefs.h
>

35 
__FBSDID
("$FreeBSD: src/bin/ed/cbc.c,v 1.20.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

37 
	~<sys/ty³s.h
>

38 
	~<”ºo.h
>

39 
	~<pwd.h
>

40 #ifdeà
DES


41 
	~<time.h
>

42 
	~<İ’s¦/des.h
>

43 
	#ED_DES_INCLUDES


	)

46 
	~"ed.h
"

53 
	#MEMCPY
(
de¡
,
¤c
,
Ën
è
	`memıy
((de¡),(¤c),Ö’))

	)

54 
	#MEMZERO
(
de¡
,
Ën
è
	`mem£t
((de¡), 0, (Ën))

	)

57 
	#DES_XFORM
(
buf
) \

58 
	`DES_ecb_’üy±
(
buf
, buf, &
scheduË
, \

59 
šv”£
 ? 
DES_DECRYPT
 : 
DES_ENCRYPT
);

	)

64 
	#READ
(
buf
, 
n
, 
å
è
	`ä—d
(buf, (),‚, fp)

	)

65 
	#WRITE
(
buf
, 
n
, 
å
è
	`fwr™e
(buf, (),‚, fp)

	)

72 
	mMODE_ENCRYPT
, 
	mMODE_DECRYPT
, 
	mMODE_AUTHENTICATE


73 } 
	gmode
 = 
MODE_ENCRYPT
;

75 #ifdeà
DES


76 
DES_cblock
 
	givec
;

77 
DES_cblock
 
	gpvec
;

80 
	gb™s
[] = {

84 
	gpæag
;

86 #ifdeà
DES


87 
DES_key_scheduË
 
	gscheduË
;

90 
	gdes_buf
[8];

91 
	gdes_ù
 = 0;

92 
	gdes_n
 = 0;

96 
	$š™_des_ch”
()

98 #ifdeà
DES


99 
i
;

101 
des_ù
 = 
des_n
 = 0;

104 
	`MEMZERO
(
ivec
, 8);

107 
i
 = 0; i < 8; i++)

108 
pvec
[
i
] = (è(
	`¬c4¿ndom
() % 256);

110 
	}
}

115 
	$g‘_des_ch¬
(
FILE
 *
å
)

117 #ifdeà
DES


118 ià(
des_n
 >ğ
des_ù
) {

119 
des_n
 = 0;

120 
des_ù
 = 
	`cbc_decode
(
des_buf
, 
å
);

122  (
des_ù
 > 0è? 
des_buf
[
des_n
++] : 
EOF
;

124  (
	`g‘c
(
å
));

126 
	}
}

131 
	$put_des_ch¬
(
c
, 
FILE
 *
å
)

133 #ifdeà
DES


134 ià(
des_n
 =ğ 
des_buf
) {

135 
des_ù
 = 
	`cbc_’code
(
des_buf
, 
des_n
, 
å
);

136 
des_n
 = 0;

138  (
des_ù
 >ğ0è? (
des_buf
[
des_n
++] = 
c
è: 
EOF
;

140  (
	`åutc
(
c
, 
å
));

142 
	}
}

147 
	$æush_des_fe
(
FILE
 *
å
)

149 #ifdeà
DES


150 ià(
des_n
 =ğ 
des_buf
) {

151 
des_ù
 = 
	`cbc_’code
(
des_buf
, 
des_n
, 
å
);

152 
des_n
 = 0;

154  (
des_ù
 >ğ0 && 
	`cbc_’code
(
des_buf
, 
des_n
, 
å
è>ğ0è? 0 : 
EOF
;

156  (
	`fæush
(
å
));

158 
	}
}

160 #ifdeà
DES


165 
	$g‘_keywÜd
()

167 *
p
;

168 
DES_cblock
 
msgbuf
;

173 ià(*(
p
 = 
	`g‘·ss
("Enter key: "))) {

178 
	`ex·nd_des_key
(
msgbuf
, 
p
);

179 
	`MEMZERO
(
p
, 
_PASSWORD_LEN
);

180 
	`£t_des_key
(&
msgbuf
);

181 
	`MEMZERO
(
msgbuf
,  msgbuf);

185 
	}
}

192 
	$des_”rÜ
(cÚ¡ *
s
)

194 
”rmsg
 = 
s
 ? s : 
	`¡»¼Ü
(
”ºo
);

195 
	}
}

201 
	$hex_to_bš¬y
(
c
, 
¿dix
)

203 
c
) {

206 '2': (
¿dix
 > 2 ? 0x2 : -1);

207 '3': (
¿dix
 > 3 ? 0x3 : -1);

208 '4': (
¿dix
 > 4 ? 0x4 : -1);

209 '5': (
¿dix
 > 5 ? 0x5 : -1);

210 '6': (
¿dix
 > 6 ? 0x6 : -1);

211 '7': (
¿dix
 > 7 ? 0x7 : -1);

212 '8': (
¿dix
 > 8 ? 0x8 : -1);

213 '9': (
¿dix
 > 9 ? 0x9 : -1);

214 'A': 'a': (
¿dix
 > 10 ? 0xa : -1);

215 'B': 'b': (
¿dix
 > 11 ? 0xb : -1);

216 'C': 'c': (
¿dix
 > 12 ? 0xc : -1);

217 'D': 'd': (
¿dix
 > 13 ? 0xd : -1);

218 'E': 'e': (
¿dix
 > 14 ? 0xe : -1);

219 'F': 'f': (
¿dix
 > 15 ? 0xf : -1);

225 
	}
}

233 
	$ex·nd_des_key
(*
obuf
, *
kbuf
)

235 
i
, 
j
;

236 
nbuf
[64];

241 ià(
kbuf
[0] == '0' && (kbuf[1] == 'x' || kbuf[1] == 'X')) {

242 
kbuf
 = &kbuf[2];

246 
i
 = 0; 
kbuf
[i] && i < 16; i++)

247 ià((
nbuf
[
i
] = 
	`hex_to_bš¬y
((è
kbuf
[i], 16)) == -1)

248 
	`des_”rÜ
("bad hex digit in key");

249 
i
 < 16)

250 
nbuf
[
i
++] = 0;

251 
i
 = 0; i < 8; i++)

252 
obuf
[
i
] =

253 ((
nbuf
[2*
i
]&0xf)<<4) | (nbuf[2*i+1]&0xf);

255 
pæag
 = 1;

261 ià(
kbuf
[0] == '0' && (kbuf[1] == 'b' || kbuf[1] == 'B')) {

262 
kbuf
 = &kbuf[2];

266 
i
 = 0; 
kbuf
[i] && i < 16; i++)

267 ià((
nbuf
[
i
] = 
	`hex_to_bš¬y
((è
kbuf
[i], 2)) == -1)

268 
	`des_”rÜ
("bad binary digit in key");

269 
i
 < 64)

270 
nbuf
[
i
++] = 0;

271 
i
 = 0; i < 8; i++)

272 
j
 = 0; j < 8; j++)

273 
obuf
[
i
] = (obuf[i]<<1)|
nbuf
[8*i+
j
];

275 
pæag
 = 1;

281 ()
	`¡ºıy
(
obuf
, 
kbuf
, 8);

282 
	}
}

299 
	$£t_des_key
(
DES_cblock
 *
buf
)

301 
i
, 
j
;

302 
·r
;

307 ià(!
pæag
) {

308 
i
 = 0; i < 8; i++) {

309 
·r
 = 0;

310 
j
 = 1; j < 8; j++)

311 ià((
b™s
[
j
] & (*
buf
)[
i
]) != 0)

312 
·r
++;

313 ià((
·r
 & 0x01) == 0x01)

314 (*
buf
)[
i
] &= 0x7f;

316 (*
buf
)[
i
] = ((*buf)[i] & 0x7f) | 0x80;

320 
	`DES_£t_odd_·r™y
(
buf
);

321 
	`DES_£t_key
(
buf
, &
scheduË
);

322 
	}
}

329 
	$cbc_’code
(*
msgbuf
, 
n
, 
FILE
 *
å
)

331 
šv”£
 = 0;

336 ià(
n
 == 8) {

337 
n
 = 0;‚ < 8;‚++)

338 
msgbuf
[
n
] ^ğ
ivec
[n];

339 
	`DES_XFORM
((
DES_cblock
 *)
msgbuf
);

340 
	`MEMCPY
(
ivec
, 
msgbuf
, 8);

341  
	`WRITE
(
msgbuf
, 8, 
å
);

353 ()
	`MEMCPY
(
msgbuf
 + 
n
, 
pvec
, 8 -‚);

354 
msgbuf
[7] = 
n
;

355 
n
 = 0;‚ < 8;‚++)

356 
msgbuf
[
n
] ^ğ
ivec
[n];

357 
	`DES_XFORM
((
DES_cblock
 *)
msgbuf
);

358  
	`WRITE
(
msgbuf
, 8, 
å
);

359 
	}
}

367 
	$cbc_decode
(*
msgbuf
, 
FILE
 *
å
)

369 
DES_cblock
 
tbuf
;

370 
n
;

371 
c
;

372 
šv”£
 = 1;

374 ià((
n
 = 
	`READ
(
msgbuf
, 8, 
å
)) == 8) {

378 
	`MEMCPY
(
tbuf
, 
msgbuf
, 8);

379 
	`DES_XFORM
((
DES_cblock
 *)
msgbuf
);

380 
c
 = 0; c < 8; c++)

381 
msgbuf
[
c
] ^ğ
ivec
[c];

382 
	`MEMCPY
(
ivec
, 
tbuf
, 8);

386 ià((
c
 = 
	`fg‘c
(
å
)è=ğ
EOF
) {

387 
n
 = 
msgbuf
[7];

388 ià(
n
 < 0 ||‚ > 7) {

389 
	`des_”rÜ
("decryption failed (block corrupted)");

390  
EOF
;

393 ()
	`ung‘c
(
c
, 
å
);

394  
n
;

396 ià(
n
 > 0)

397 
	`des_”rÜ
("decryption failed (incomplete block)");

398 ià(
n
 < 0)

399 
	`des_”rÜ
("cannot„ead file");

400  
EOF
;

401 
	}
}

	@ed/ed.h

31 
	~<sys/·¿m.h
>

32 
	~<”ºo.h
>

33 
	~<lim™s.h
>

34 
	~<»gex.h
>

35 
	~<sigÇl.h
>

36 
	~<¡dio.h
>

37 
	~<¡dlib.h
>

38 
	~<¡ršg.h
>

39 
	~<uni¡d.h
>

41 
	#ERR
 (-2)

	)

42 
	#EMOD
 (-3)

	)

43 
	#FATAL
 (-4)

	)

45 
	#MINBUFSZ
 512

	)

46 
	#SE_MAX
 30

	)

47 #ifdeà
INT_MAX


48 
	#LINECHARS
 
INT_MAX


	)

50 
	#LINECHARS
 
MAXINT


	)

54 
	#GLB
 001

	)

55 
	#GPR
 002

	)

56 
	#GLS
 004

	)

57 
	#GNP
 010

	)

58 
	#GSG
 020

	)

60 
»gex_t
 
	t·‰”n_t
;

63 
	slše
 {

64 
lše
 *
	mq_fÜw
;

65 
lše
 *
	mq_back
;

66 
off_t
 
	m£ek
;

67 
	mËn
;

68 } 
	tlše_t
;

71 
	sundo
 {

74 
	#UADD
 0

	)

75 
	#UDEL
 1

	)

76 
	#UMOV
 2

	)

77 
	#VMOV
 3

	)

79 
	mty³
;

80 
lše_t
 *
	mh
;

81 
lše_t
 *
	mt
;

82 } 
	tundo_t
;

84 #iâdeà
max


85 
	#max
(
a
,
b
è(×è> (bè? (aè: (b))

	)

87 #iâdeà
mš


88 
	#mš
(
a
,
b
è(×è< (bè? (aè: (b))

	)

91 
	#INC_MOD
(
l
, 
k
è(Öè+ 1 > (kè? 0 : (lè+ 1)

	)

92 
	#DEC_MOD
(
l
, 
k
è(Öè- 1 < 0 ? (kè: (lè- 1)

	)

95 
	#SPL1
(è
mu‹x
++

	)

98 
	#SPL0
() \

99 ià(--
mu‹x
 == 0) { \

100 ià(
sigæags
 & (1 << (
SIGHUP
 - 1))è
	`hªdË_hup
(SIGHUP); \

101 ià(
sigæags
 & (1 << (
SIGINT
 - 1))è
	`hªdË_št
(SIGINT); \

102 }

	)

105 
	#STRTOL
(
i
, 
p
) { \

106 ià(((
i
 = 
	`¡¹Ş
(
p
, &p, 10)è=ğ
LONG_MIN
 || i =ğ
LONG_MAX
) && \

107 
”ºo
 =ğ
ERANGE
) { \

108 
”rmsg
 = "number out of„ange"; \

109 
i
 = 0; \

110  
ERR
; \

112 }

	)

114 #ià
defšed
(
sun
è|| defšed(
NO_REALLOC_NULL
)

116 
	#REALLOC
(
b
,
n
,
i
,
”r
) \

117 ià((
i
è> (
n
)) { \

118 
ti
 = (
n
); \

119 *
ts
; \

120 
	`SPL1
(); \

121 ià((
b
è!ğ
NULL
) { \

122 ià((
ts
 = (*è
	`»®loc
((
b
), 
ti
 +ğ
	`max
((
i
), 
MINBUFSZ
))è=ğ
NULL
) { \

123 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
)); \

124 
”rmsg
 = "out of memory"; \

125 
	`SPL0
(); \

126  
”r
; \

129 ià((
ts
 = (*è
	`m®loc
(
ti
 +ğ
	`max
((
i
), 
MINBUFSZ
))è=ğ
NULL
) { \

130 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
)); \

131 
”rmsg
 = "out of memory"; \

132 
	`SPL0
(); \

133  
”r
; \

136 (
n
èğ
ti
; \

137 (
b
èğ
ts
; \

138 
	`SPL0
(); \

139 }

	)

142 
	#REALLOC
(
b
,
n
,
i
,
”r
) \

143 ià((
i
è> (
n
)) { \

144 
ti
 = (
n
); \

145 *
ts
; \

146 
	`SPL1
(); \

147 ià((
ts
 = (*è
	`»®loc
((
b
), 
ti
 +ğ
	`max
((
i
), 
MINBUFSZ
))è=ğ
NULL
) { \

148 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
)); \

149 
”rmsg
 = "out of memory"; \

150 
	`SPL0
(); \

151  
”r
; \

153 (
n
èğ
ti
; \

154 (
b
èğ
ts
; \

155 
	`SPL0
(); \

156 }

	)

160 
	#REQUE
(
´ed
, 
succ
èÕ»d)->
q_fÜw
 = (succ), (succ)->
q_back
 = (´ed)

	)

163 
	#INSQUE
(
–em
, 
´ed
) \

165 
	`REQUE
((
–em
), (
´ed
)->
q_fÜw
); \

166 
	`REQUE
((
´ed
), 
–em
); \

167 }

	)

170 
	#REMQUE
(
–em
è
	`REQUE
(ÓËm)->
q_back
, (–em)->
q_fÜw
);

	)

173 
	#NUL_TO_NEWLINE
(
s
, 
l
è
	`Œª¦™_‹xt
(s,†, '\0', '\n')

	)

176 
	#NEWLINE_TO_NUL
(
s
, 
l
è
	`Œª¦™_‹xt
(s,†, '\n', '\0')

	)

178 #ifdeà
ED_DES_INCLUDES


179 
des_”rÜ
(const *);

180 
ex·nd_des_key
(*, *);

181 
£t_des_key
(
DES_cblock
 *);

185 
š™_des_ch”
();

186 
æush_des_fe
(
FILE
 *);

187 
g‘_des_ch¬
(
FILE
 *);

188 
put_des_ch¬
(, 
FILE
 *);

191 
add_lše_node
(
lše_t
 *);

192 
­³nd_lšes
();

193 
­¶y_sub¡_‹m¶©e
(cÚ¡ *, 
»gm©ch_t
 *, , );

194 
bud_aùive_li¡
();

195 
cbc_decode
(*, 
FILE
 *);

196 
cbc_’code
(*, , 
FILE
 *);

197 
check_addr_¿nge
(, );

198 
ş—r_aùive_li¡
();

199 
ş—r_undo_¡ack
();

200 
şo£_sbuf
();

201 
cİy_lšes
();

202 
d–‘e_lšes
(, );

203 
di¥Ïy_lšes
(, , );

204 
lše_t
 *
dup_lše_node
(line_t *);

205 
exec_commªd
();

206 
exec_glob®
(, );

207 
exŒaù_addr_¿nge
();

208 *
exŒaù_·‰”n
();

209 
exŒaù_sub¡_
(*, *);

210 *
exŒaù_sub¡_‹m¶©e
();

211 
f‹r_lšes
(, , *);

212 
lše_t
 *
g‘_add»s£d_lše_node
();

213 
·‰”n_t
 *
g‘_comped_·‰”n
();

214 *
g‘_ex‹nded_lše
(*, );

215 *
g‘_f’ame
();

216 
g‘_keywÜd
();

217 
g‘_lše_node_addr
(
lše_t
 *);

218 
g‘_m©chšg_node_addr
(
·‰”n_t
 *, );

219 
g‘_m¬ked_node_addr
();

220 *
g‘_sbuf_lše
(
lše_t
 *);

221 
g‘_sh–l_commªd
();

222 
g‘_¡»am_lše
(
FILE
 *);

223 
g‘_‰y_lše
();

224 
hªdË_hup
();

225 
hªdË_št
();

226 
hªdË_wšch
();

227 
has_Œašg_esÿ³
(*, *);

228 
hex_to_bš¬y
(, );

229 
š™_bufãrs
();

230 
is_Ëg®_f’ame
(*);

231 
još_lšes
(, );

232 
m¬k_lše_node
(
lše_t
 *, );

233 
move_lšes
();

234 
lše_t
 *
Ãxt_aùive_node
();

235 
Ãxt_addr
();

236 
İ’_sbuf
();

237 *
·r£_ch¬_şass
(*);

238 
pİ_undo_¡ack
();

239 
undo_t
 *
push_undo_¡ack
(, , );

240 cÚ¡ *
put_sbuf_lše
(const *);

241 
put_¡»am_lše
(
FILE
 *, const *, );

242 
put_‰y_lše
(const *, , , );

243 
qu™
();

244 
»ad_fe
(*, );

245 
»ad_¡»am
(
FILE
 *, );

246 
£¬ch_ªd_»¶aû
(
·‰”n_t
 *, , );

247 
£t_aùive_node
(
lše_t
 *);

248 
sigÇl_hup
();

249 
sigÇl_št
();

250 *
¡r_esÿ³s
(*);

251 
sub¡™u‹_m©chšg_‹xt
(
·‰”n_t
 *, 
lše_t
 *, , );

252 *
Œª¦™_‹xt
(*, , , );

253 
unm¬k_lše_node
(
lše_t
 *);

254 
un£t_aùive_nodes
(
lše_t
 *,†ine_t *);

255 
wr™e_fe
(*, const *, , );

256 
wr™e_¡»am
(
FILE
 *, , );

259 
¡dšbuf
[];

260 *
ibuf
;

261 *
ibuå
;

262 
ibufsz
;

265 
isbš¬y
;

266 
isglob®
;

267 
modif›d
;

268 
mu‹x
;

269 
sigæags
;

272 
addr_Ï¡
;

273 
cu¼’t_addr
;

274 cÚ¡ *
”rmsg
;

275 
fœ¡_addr
;

276 
lš’o
;

277 
£cÚd_addr
;

278 
u_addr_Ï¡
;

279 
u_cu¼’t_addr
;

	@ed/glbl.c

29 
	~<sys/cdefs.h
>

30 
__FBSDID
("$FreeBSD: src/bin/ed/glbl.c,v 1.13.36.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

32 
	~<sys/ty³s.h
>

33 
	~<sys/ioùl.h
>

34 
	~<sys/wa™.h
>

36 
	~"ed.h
"

41 
	$bud_aùive_li¡
(
isgcmd
)

43 
·‰”n_t
 *
·t
;

44 
lše_t
 *
Í
;

45 
n
;

46 *
s
;

47 
d–im™”
;

49 ià((
d–im™”
 = *
ibuå
) == ' ' || delimiter == '\n') {

50 
”rmsg
 = "invalid…attern delimiter";

51  
ERR
;

52 } ià((
·t
 = 
	`g‘_comped_·‰”n
()è=ğ
NULL
)

53  
ERR
;

54 ià(*
ibuå
 =ğ
d–im™”
)

55 
ibuå
++;

56 
	`ş—r_aùive_li¡
();

57 
Í
 = 
	`g‘_add»s£d_lše_node
(
fœ¡_addr
);

58 
n
 = 
fœ¡_addr
;‚ <ğ
£cÚd_addr
;‚++, 
Í
 =†p->
q_fÜw
) {

59 ià((
s
 = 
	`g‘_sbuf_lše
(
Í
)è=ğ
NULL
)

60  
ERR
;

61 ià(
isbš¬y
)

62 
	`NUL_TO_NEWLINE
(
s
, 
Í
->
Ën
);

63 ià(!
	`»gexec
(
·t
, 
s
, 0, 
NULL
, 0è=ğ
isgcmd
 &&

64 
	`£t_aùive_node
(
Í
) < 0)

65  
ERR
;

68 
	}
}

74 
	$exec_glob®
(
š‹¿ù
, 
gæag
)

76 *
ocmd
 = 
NULL
;

77 
ocmdsz
 = 0;

79 
lše_t
 *
Í
 = 
NULL
;

80 
¡©us
;

81 
n
;

82 *
cmd
 = 
NULL
;

84 #ifdeà
BACKWARDS


85 ià(!
š‹¿ù
)

86 ià(!
	`¡rcmp
(
ibuå
, "\n"))

87 
cmd
 = "p\n";

88 ià((
cmd
 = 
	`g‘_ex‹nded_lše
(&
n
, 0)è=ğ
NULL
)

89  
ERR
;

91 ià(!
š‹¿ù
 && (
cmd
 = 
	`g‘_ex‹nded_lše
(&
n
, 0)è=ğ
NULL
)

92  
ERR
;

94 
	`ş—r_undo_¡ack
();

95 (
Í
 = 
	`Ãxt_aùive_node
()è!ğ
NULL
) {

96 ià((
cu¼’t_addr
 = 
	`g‘_lše_node_addr
(
Í
)) < 0)

97  
ERR
;

98 ià(
š‹¿ù
) {

100 ià(
	`di¥Ïy_lšes
(
cu¼’t_addr
, cu¼’t_addr, 
gæag
) < 0)

101  
ERR
;

102 (
n
 = 
	`g‘_‰y_lše
()) > 0 &&

103 
ibuf
[
n
 - 1] != '\n')

104 
	`ş—»¼
(
¡dš
);

105 ià(
n
 < 0)

106  
ERR
;

107 ià(
n
 == 0) {

108 
”rmsg
 = "unexpectedƒnd-of-file";

109  
ERR
;

110 } ià(
n
 =ğ1 && !
	`¡rcmp
(
ibuf
, "\n"))

112 ià(
n
 =ğ2 && !
	`¡rcmp
(
ibuf
, "&\n")) {

113 ià(
cmd
 =ğ
NULL
) {

114 
”rmsg
 = "no…revious command";

115  
ERR
;

116 } 
cmd
 = 
ocmd
;

117 } ià((
cmd
 = 
	`g‘_ex‹nded_lše
(&
n
, 0)è=ğ
NULL
)

118  
ERR
;

120 
	`REALLOC
(
ocmd
, 
ocmdsz
, 
n
 + 1, 
ERR
);

121 
	`memıy
(
ocmd
, 
cmd
, 
n
 + 1);

122 
cmd
 = 
ocmd
;

126 
ibuå
 = 
cmd
;

127 ; *
ibuå
;)

128 ià((
¡©us
 = 
	`exŒaù_addr_¿nge
()) < 0 ||

129 (
¡©us
 = 
	`exec_commªd
()) < 0 ||

130 (
¡©us
 > 0 && (¡©u ğ
	`di¥Ïy_lšes
(

131 
cu¼’t_addr
, cu¼’t_addr, 
¡©us
)) < 0))

132  
¡©us
;

135 
	}
}

138 
lše_t
 **
	gaùive_li¡
;

139 
	gaùive_Ï¡
;

140 
	gaùive_size
;

141 
	gaùive_±r
;

142 
	gaùive_ndx
;

146 
	$£t_aùive_node
(
lše_t
 *
Í
)

148 ià(
aùive_Ï¡
 + 1 > 
aùive_size
) {

149 
ti
 = 
aùive_size
;

150 
lše_t
 **
ts
;

151 
	`SPL1
();

152 #ià
	`defšed
(
sun
è|| defšed(
NO_REALLOC_NULL
)

153 ià(
aùive_li¡
 !ğ
NULL
) {

155 ià((
ts
 = (
lše_t
 **è
	`»®loc
(
aùive_li¡
,

156 (
ti
 +ğ
MINBUFSZ
è* (
lše_t
 **))è=ğ
NULL
) {

157 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

158 
”rmsg
 = "out of memory";

159 
	`SPL0
();

160  
ERR
;

162 #ià
	`defšed
(
sun
è|| defšed(
NO_REALLOC_NULL
)

164 ià((
ts
 = (
lše_t
 **è
	`m®loc
((
ti
 +ğ
MINBUFSZ
) *

165 (
lše_t
 **))è=ğ
NULL
) {

166 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

167 
”rmsg
 = "out of memory";

168 
	`SPL0
();

169  
ERR
;

173 
aùive_size
 = 
ti
;

174 
aùive_li¡
 = 
ts
;

175 
	`SPL0
();

177 
aùive_li¡
[
aùive_Ï¡
++] = 
Í
;

179 
	}
}

184 
	$un£t_aùive_nodes
(
lše_t
 *
Å
,†še_ˆ*
mp
)

186 
lše_t
 *
Í
;

187 
i
;

189 
Í
 = 
Å
;†°!ğ
mp
;†°ğÍ->
q_fÜw
)

190 
i
 = 0; i < 
aùive_Ï¡
; i++)

191 ià(
aùive_li¡
[
aùive_ndx
] =ğ
Í
) {

192 
aùive_li¡
[
aùive_ndx
] = 
NULL
;

193 
aùive_ndx
 = 
	`INC_MOD
×ùive_ndx, 
aùive_Ï¡
 - 1);

195 } 
aùive_ndx
 = 
	`INC_MOD
×ùive_ndx, 
aùive_Ï¡
 - 1);

196 
	}
}

200 
lše_t
 *

201 
	$Ãxt_aùive_node
()

203 
aùive_±r
 < 
aùive_Ï¡
 && 
aùive_li¡
[aùive_±r] =ğ
NULL
)

204 
aùive_±r
++;

205  (
aùive_±r
 < 
aùive_Ï¡
è? 
aùive_li¡
[aùive_±r++] : 
NULL
;

206 
	}
}

211 
	$ş—r_aùive_li¡
()

213 
	`SPL1
();

214 
aùive_size
 = 
aùive_Ï¡
 = 
aùive_±r
 = 
aùive_ndx
 = 0;

215 
	`ä“
(
aùive_li¡
);

216 
aùive_li¡
 = 
NULL
;

217 
	`SPL0
();

218 
	}
}

	@ed/io.c

28 
	~<sys/cdefs.h
>

29 
__FBSDID
("$FreeBSD: src/bin/ed/io.c,v 1.14.34.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

31 
	~"ed.h
"

34 
sü‹d
;

38 
	$»ad_fe
(*
â
, 
n
)

40 
FILE
 *
å
;

41 
size
;

44 
å
 = (*
â
 =ğ'!'è? 
	`pİ’
(â + 1, "r"è: 
	`fİ’
(
	`¡r_esÿ³s
(fn), "r");

45 ià(
å
 =ğ
NULL
) {

46 
	`årštf
(
¡d”r
, "%s: %s\n", 
â
, 
	`¡»¼Ü
(
”ºo
));

47 
”rmsg
 = "cannot open input file";

48  
ERR
;

49 } ià((
size
 = 
	`»ad_¡»am
(
å
, 
n
)) < 0)

50  
ERR
;

51 ià(((*
â
 =ğ'!'è? 
	`pşo£
(
å
è: 
	`fşo£
(fp)) < 0) {

52 
	`årštf
(
¡d”r
, "%s: %s\n", 
â
, 
	`¡»¼Ü
(
”ºo
));

53 
”rmsg
 = "cannot close input file";

54  
ERR
;

56 
	`årštf
(
¡dout
, !
sü‹d
 ? "%lu\n" : "", 
size
);

57  
cu¼’t_addr
 - 
n
;

58 
	}
}

61 
des
;

63 *
	gsbuf
;

64 
	gsbufsz
;

65 
	gÃwlše_added
;

69 
	$»ad_¡»am
(
FILE
 *
å
, 
n
)

71 
lše_t
 *
Í
 = 
	`g‘_add»s£d_lše_node
(
n
);

72 
undo_t
 *
up
 = 
NULL
;

73 
size
 = 0;

74 
o_Ãwlše_added
 = 
Ãwlše_added
;

75 
o_isbš¬y
 = 
isbš¬y
;

76 
­³nded
 = (
n
 =ğ
addr_Ï¡
);

77 
Ën
;

79 
isbš¬y
 = 
Ãwlše_added
 = 0;

80 ià(
des
)

81 
	`š™_des_ch”
();

82 
cu¼’t_addr
 = 
n
; (
Ën
 = 
	`g‘_¡»am_lše
(
å
)è> 0; 
size
 +=†en) {

83 
	`SPL1
();

84 ià(
	`put_sbuf_lše
(
sbuf
è=ğ
NULL
) {

85 
	`SPL0
();

86  
ERR
;

88 
Í
 =†p->
q_fÜw
;

89 ià(
up
)

90 
up
->
t
 = 
Í
;

91 ià((
up
 = 
	`push_undo_¡ack
(
UADD
, 
cu¼’t_addr
,

92 
cu¼’t_addr
)è=ğ
NULL
) {

93 
	`SPL0
();

94  
ERR
;

96 
	`SPL0
();

98 ià(
Ën
 < 0)

99  
ERR
;

100 ià(
­³nded
 && 
size
 && 
o_isbš¬y
 && 
o_Ãwlše_added
)

101 
	`åuts
("Ãwlšš£¹ed\n", 
¡d”r
);

102 ià(
Ãwlše_added
 && (!
­³nded
 || (!
isbš¬y
 && !
o_isbš¬y
)))

103 
	`åuts
("Ãwlš­³nded\n", 
¡d”r
);

104 ià(
isbš¬y
 && 
Ãwlše_added
 && !
­³nded
)

105 
size
 += 1;

106 ià(!
size
)

107 
Ãwlše_added
 = 1;

108 
Ãwlše_added
 = 
­³nded
 ?‚ewlše_added : 
o_Ãwlše_added
;

109 
isbš¬y
 = isbš¬y | 
o_isbš¬y
;

110 ià(
des
)

111 
size
 += 8 - size % 8;

112  
size
;

113 
	}
}

118 
	$g‘_¡»am_lše
(
FILE
 *
å
)

120 
c
;

121 
i
 = 0;

123 ((
c
 = 
des
 ? 
	`g‘_des_ch¬
(
å
è: 
	`g‘c
(å)è!ğ
EOF
 || (!
	`ãof
(fp) &&

124 !
	`ã¼Ü
(
å
))è&& 
c
 != '\n') {

125 
	`REALLOC
(
sbuf
, 
sbufsz
, 
i
 + 1, 
ERR
);

126 ià(!(
sbuf
[
i
++] = 
c
))

127 
isbš¬y
 = 1;

129 
	`REALLOC
(
sbuf
, 
sbufsz
, 
i
 + 2, 
ERR
);

130 ià(
c
 == '\n')

131 
sbuf
[
i
++] = 
c
;

132 ià(
	`ã¼Ü
(
å
)) {

133 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

134 
”rmsg
 = "cannot„ead input file";

135  
ERR
;

136 } ià(
i
) {

137 
sbuf
[
i
++] = '\n';

138 
Ãwlše_added
 = 1;

140 
sbuf
[
i
] = '\0';

141  (
isbš¬y
 && 
Ãwlše_added
 && 
i
) ? --i : i;

142 
	}
}

147 
	$wr™e_fe
(*
â
, cÚ¡ *
mode
, 
n
, 
m
)

149 
FILE
 *
å
;

150 
size
;

152 
å
 = (*
â
 =ğ'!'è? 
	`pİ’
(â+1, "w"è: 
	`fİ’
(
	`¡r_esÿ³s
(â), 
mode
);

153 ià(
å
 =ğ
NULL
) {

154 
	`årštf
(
¡d”r
, "%s: %s\n", 
â
, 
	`¡»¼Ü
(
”ºo
));

155 
”rmsg
 = "cannot open output file";

156  
ERR
;

157 } ià((
size
 = 
	`wr™e_¡»am
(
å
, 
n
, 
m
)) < 0)

158  
ERR
;

159 ià(((*
â
 =ğ'!'è? 
	`pşo£
(
å
è: 
	`fşo£
(fp)) < 0) {

160 
	`årštf
(
¡d”r
, "%s: %s\n", 
â
, 
	`¡»¼Ü
(
”ºo
));

161 
”rmsg
 = "cannot close output file";

162  
ERR
;

164 
	`årštf
(
¡dout
, !
sü‹d
 ? "%lu\n" : "", 
size
);

165  
n
 ? 
m
 -‚ + 1 : 0;

166 
	}
}

171 
	$wr™e_¡»am
(
FILE
 *
å
, 
n
, 
m
)

173 
lše_t
 *
Í
 = 
	`g‘_add»s£d_lše_node
(
n
);

174 
size
 = 0;

175 *
s
;

176 
Ën
;

178 ià(
des
)

179 
	`š™_des_ch”
();

180 ; 
n
 &&‚ <ğ
m
;‚++, 
Í
 =†p->
q_fÜw
) {

181 ià((
s
 = 
	`g‘_sbuf_lše
(
Í
)è=ğ
NULL
)

182  
ERR
;

183 
Ën
 = 
Í
->len;

184 ià(
n
 !ğ
addr_Ï¡
 || !
isbš¬y
 || !
Ãwlše_added
)

185 
s
[
Ën
++] = '\n';

186 ià(
	`put_¡»am_lše
(
å
, 
s
, 
Ën
) < 0)

187  
ERR
;

188 
size
 +ğ
Ën
;

190 ià(
des
) {

191 
	`æush_des_fe
(
å
);

192 
size
 += 8 - size % 8;

194  
size
;

195 
	}
}

200 
	$put_¡»am_lše
(
FILE
 *
å
, cÚ¡ *
s
, 
Ën
)

202 
Ën
--)

203 ià((
des
 ? 
	`put_des_ch¬
(*
s
++, 
å
è: 
	`åutc
(*s++, fp)) < 0) {

204 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

205 
”rmsg
 = "cannot write file";

206  
ERR
;

209 
	}
}

213 
	$g‘_ex‹nded_lše
(*
siz•
, 
nÚl
)

215 *
cvbuf
 = 
NULL
;

216 
cvbufsz
 = 0;

218 
l
, 
n
;

219 *
t
 = 
ibuå
;

221 *
t
++ != '\n')

223 ià((
l
 = 
t
 - 
ibuå
è< 2 || !
	`has_Œašg_esÿ³
(ibufp, ibufp +† - 1)) {

224 *
siz•
 = 
l
;

225  
ibuå
;

227 *
siz•
 = -1;

228 
	`REALLOC
(
cvbuf
, 
cvbufsz
, 
l
, 
NULL
);

229 
	`memıy
(
cvbuf
, 
ibuå
, 
l
);

230 *(
cvbuf
 + --
l
 - 1) = '\n';

231 ià(
nÚl
è
l
--;

233 ià((
n
 = 
	`g‘_‰y_lše
()) < 0)

234  
NULL
;

235 ià(
n
 =ğ0 || 
ibuf
[n - 1] != '\n') {

236 
”rmsg
 = "unexpectedƒnd-of-file";

237  
NULL
;

239 
	`REALLOC
(
cvbuf
, 
cvbufsz
, 
l
 + 
n
, 
NULL
);

240 
	`memıy
(
cvbuf
 + 
l
, 
ibuf
, 
n
);

241 
l
 +ğ
n
;

242 ià(
n
 < 2 || !
	`has_Œašg_esÿ³
(
cvbuf
, cvbuà+ 
l
 - 1))

244 *(
cvbuf
 + --
l
 - 1) = '\n';

245 ià(
nÚl
è
l
--;

247 
	`REALLOC
(
cvbuf
, 
cvbufsz
, 
l
 + 1, 
NULL
);

248 
cvbuf
[
l
] = '\0';

249 *
siz•
 = 
l
;

250  
cvbuf
;

251 
	}
}

256 
	$g‘_‰y_lše
()

258 
oi
 = 0;

259 
i
 = 0;

260 
c
;

263 
c
 = 
	`g‘ch¬
()) {

265 
oi
 = 0;

266 
	`REALLOC
(
ibuf
, 
ibufsz
, 
i
 + 2, 
ERR
);

267 ià(!(
ibuf
[
i
++] = 
c
)è
isbš¬y
 = 1;

268 ià(
c
 != '\n')

270 
lš’o
++;

271 
ibuf
[
i
] = '\0';

272 
ibuå
 = 
ibuf
;

273  
i
;

274 
EOF
:

275 ià(
	`ã¼Ü
(
¡dš
)) {

276 
	`årštf
(
¡d”r
, "¡dš: %s\n", 
	`¡»¼Ü
(
”ºo
));

277 
”rmsg
 = "cannot„ead stdin";

278 
	`ş—»¼
(
¡dš
);

279 
ibuå
 = 
NULL
;

280  
ERR
;

282 
	`ş—»¼
(
¡dš
);

283 ià(
i
 !ğ
oi
) {

284 
oi
 = 
i
;

286 } ià(
i
)

287 
ibuf
[
i
] = '\0';

288 
ibuå
 = 
ibuf
;

289  
i
;

292 
	}
}

296 
	#ESCAPES
 "\a\b\f\n\r\t\v\\"

	)

297 
	#ESCCHARS
 "abâ¹v\\"

	)

299 
rows
;

300 
cŞs
;

304 
	$put_‰y_lše
(cÚ¡ *
s
, 
l
, 
n
, 
gæag
)

306 
cŞ
 = 0;

307 
lc
 = 0;

308 *
ı
;

310 ià(
gæag
 & 
GNP
) {

311 
	`´štf
("%ld\t", 
n
);

312 
cŞ
 = 8;

314 ; 
l
--; 
s
++) {

315 ià((
gæag
 & 
GLS
è&& ++
cŞ
 > 
cŞs
) {

316 
	`åuts
("\\\n", 
¡dout
);

317 
cŞ
 = 1;

318 #iâdeà
BACKWARDS


319 ià(!
sü‹d
 && !
isglob®
 && ++
lc
 > 
rows
) {

320 
lc
 = 0;

321 
	`åuts
("P»s <RETURN>ØcÚtšue... ", 
¡dout
);

322 
	`fæush
(
¡dout
);

323 ià(
	`g‘_‰y_lše
() < 0)

324  
ERR
;

328 ià(
gæag
 & 
GLS
) {

329 ià(31 < *
s
 && *s < 127 && *s != '\\')

330 
	`putch¬
(*
s
);

332 
	`putch¬
('\\');

333 
cŞ
++;

334 ià(*
s
 && (
ı
 = 
	`¡rchr
(
ESCAPES
, *s)è!ğ
NULL
)

335 
	`putch¬
(
ESCCHARS
[
ı
 - 
ESCAPES
]);

337 
	`putch¬
((((è*
s
 & 0300) >> 6) + '0');

338 
	`putch¬
((((è*
s
 & 070) >> 3) + '0');

339 
	`putch¬
(((è*
s
 & 07) + '0');

340 
cŞ
 += 2;

345 
	`putch¬
(*
s
);

347 #iâdeà
BACKWARDS


348 ià(
gæag
 & 
GLS
)

349 
	`putch¬
('$');

351 
	`putch¬
('\n');

353 
	}
}

	@ed/main.c

29 #iâdeà
lšt


31 cÚ¡ 
	gcİyright
[] =

37 
	~<sys/cdefs.h
>

38 
__FBSDID
("$FreeBSD: src/bin/ed/main.c,v 1.29.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

56 
	~<sys/ty³s.h
>

58 
	~<sys/ioùl.h
>

59 
	~<sys/wa™.h
>

60 
	~<ùy³.h
>

61 
	~<loÿË.h
>

62 
	~<pwd.h
>

63 
	~<£tjmp.h
>

65 
	~"ed.h
"

68 #ifdeà
_POSIX_SOURCE


69 
sigjmp_buf
 
	g’v
;

71 
jmp_buf
 
	g’v
;

75 
	g¡dšbuf
[1];

76 *
	gshcmd
;

77 
	gshcmdsz
;

78 
	gshcmdi
;

79 *
	gibuf
;

80 
	gibufsz
;

81 *
	gibuå
;

84 
	gdes
 = 0;

85 
	gg¬rulous
 = 0;

86 
	gisbš¬y
;

87 
	gisglob®
;

88 
	gmodif›d
;

89 
	gmu‹x
 = 0;

90 
	g»d
 = 0;

91 
	gsü‹d
 = 0;

92 
	gsigæags
 = 0;

93 
	gsigaùive
 = 0;

95 
	gŞd_f’ame
[
PATH_MAX
] = "";

96 
	gcu¼’t_addr
;

97 
	gaddr_Ï¡
;

98 
	glš’o
;

99 cÚ¡ *
	g´om±
;

100 cÚ¡ *
	gdps
 = "*";

102 cÚ¡ 
	gu§ge
[] = "usage: %s [-] [-sx] [-p string] [file]\n";

106 
	$maš
(
¬gc
, *
¬gv
[])

108 
c
, 
n
;

109 
¡©us
 = 0;

110 #ià
__GNUC__


112 (è&
¬gc
;

113 (è&
¬gv
;

116 ()
	`£oÿË
(
LC_ALL
, "");

118 
»d
 = (
n
 = 
	`¡¾’
(
¬gv
[0])) > 2 &&‡rgv[0][n - 3] == 'r';

119 
tİ
:

120 (
c
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "p:sx")) != -1)

121 
c
) {

123 
´om±
 = 
İrg
;

126 
sü‹d
 = 1;

129 #ifdeà
DES


130 
des
 = 
	`g‘_keywÜd
();

132 
	`årštf
(
¡d”r
, "crypt unavailable\n?\n");

137 
	`årštf
(
¡d”r
, 
u§ge
, 
»d
 ? "red" : "ed");

138 
	`ex™
(1);

140 
¬gv
 +ğ
İtšd
;

141 
¬gc
 -ğ
İtšd
;

142 ià(
¬gc
 && **
¬gv
 == '-') {

143 
sü‹d
 = 1;

144 ià(
¬gc
 > 1) {

145 
İtšd
 = 1;

146 
tİ
;

148 
¬gv
++;

149 
¬gc
--;

152 #ifdeà
SIGWINCH


153 
	`hªdË_wšch
(
SIGWINCH
);

154 ià(
	`i§‰y
(0)è
	`sigÇl
(
SIGWINCH
, 
hªdË_wšch
);

156 
	`sigÇl
(
SIGHUP
, 
sigÇl_hup
);

157 
	`sigÇl
(
SIGQUIT
, 
SIG_IGN
);

158 
	`sigÇl
(
SIGINT
, 
sigÇl_št
);

159 #ifdeà
_POSIX_SOURCE


160 ià((
¡©us
 = 
	`sig£tjmp
(
’v
, 1)))

162 ià((
¡©us
 = 
	`£tjmp
(
’v
)))

165 
	`åuts
("\n?\n", 
¡d”r
);

166 
”rmsg
 = "interrupt";

168 
	`š™_bufãrs
();

169 
sigaùive
 = 1;

170 ià(
¬gc
 && **
¬gv
 && 
	`is_Ëg®_f’ame
(*argv)) {

171 ià(
	`»ad_fe
(*
¬gv
, 0è< 0 && !
	`i§‰y
(0))

172 
	`qu™
(2);

173 ià(**
¬gv
 != '!')

174 ià(
	`¡¾ıy
(
Şd_f’ame
, *
¬gv
, (old_filename))

175 >ğ(
Şd_f’ame
))

176 
	`qu™
(2);

177 } ià(
¬gc
) {

178 
	`åuts
("?\n", 
¡d”r
);

179 ià(**
¬gv
 == '\0')

180 
”rmsg
 = "invalid filename";

181 ià(!
	`i§‰y
(0))

182 
	`qu™
(2);

186 ià(
¡©us
 < 0 && 
g¬rulous
)

187 
	`årštf
(
¡d”r
, "%s\n", 
”rmsg
);

188 ià(
´om±
) {

189 
	`´štf
("%s", 
´om±
);

190 
	`fæush
(
¡dout
);

192 ià((
n
 = 
	`g‘_‰y_lše
()) < 0) {

193 
¡©us
 = 
ERR
;

195 } ià(
n
 == 0) {

196 ià(
modif›d
 && !
sü‹d
) {

197 
	`åuts
("?\n", 
¡d”r
);

198 
”rmsg
 = "warning: file modified";

199 ià(!
	`i§‰y
(0)) {

200 
	`årštf
(
¡d”r
, 
g¬rulous
 ?

202 "", 
lš’o
, 
”rmsg
);

203 
	`qu™
(2);

205 
	`ş—»¼
(
¡dš
);

206 
modif›d
 = 0;

207 
¡©us
 = 
EMOD
;

210 
	`qu™
(0);

211 } ià(
ibuf
[
n
 - 1] != '\n') {

213 
”rmsg
 = "unexpectedƒnd-of-file";

214 
	`ş—»¼
(
¡dš
);

215 
¡©us
 = 
ERR
;

218 
isglob®
 = 0;

219 ià((
¡©us
 = 
	`exŒaù_addr_¿nge
()) >= 0 &&

220 (
¡©us
 = 
	`exec_commªd
()) >= 0)

221 ià(!
¡©us
 ||

222 (
¡©us
 = 
	`di¥Ïy_lšes
(
cu¼’t_addr
, current_addr,

223 
¡©us
)) >= 0)

225 
¡©us
) {

226 
EOF
:

227 
	`qu™
(0);

228 
EMOD
:

229 
modif›d
 = 0;

230 
	`åuts
("?\n", 
¡d”r
);

231 
”rmsg
 = "warning: file modified";

232 ià(!
	`i§‰y
(0)) {

233 
	`årštf
(
¡d”r
, 
g¬rulous
 ?

235 "", 
lš’o
, 
”rmsg
);

236 
	`qu™
(2);

239 
FATAL
:

240 ià(!
	`i§‰y
(0))

241 
	`årštf
(
¡d”r
, 
g¬rulous
 ?

243 
lš’o
, 
”rmsg
);

245 
	`årštf
(
¡d”r
, 
g¬rulous
 ? "%s\n" : "",

246 
”rmsg
);

247 
	`qu™
(3);

249 
	`åuts
("?\n", 
¡d”r
);

250 ià(!
	`i§‰y
(0)) {

251 
	`årštf
(
¡d”r
, 
g¬rulous
 ?

253 
lš’o
, 
”rmsg
);

254 
	`qu™
(2);

260 
	}
}

262 
	gfœ¡_addr
, 
	g£cÚd_addr
, 
	gaddr_út
;

267 
	$exŒaù_addr_¿nge
()

269 
addr
;

271 
addr_út
 = 0;

272 
fœ¡_addr
 = 
£cÚd_addr
 = 
cu¼’t_addr
;

273 (
addr
 = 
	`Ãxt_addr
()) >= 0) {

274 
addr_út
++;

275 
fœ¡_addr
 = 
£cÚd_addr
;

276 
£cÚd_addr
 = 
addr
;

277 ià(*
ibuå
 != ',' && *ibufp != ';')

279 ià(*
ibuå
++ == ';')

280 
cu¼’t_addr
 = 
addr
;

282 ià((
addr_út
 = 
	`mš
×ddr_út, 2)è=ğ1 || 
£cÚd_addr
 !ğ
addr
)

283 
fœ¡_addr
 = 
£cÚd_addr
;

284  (
addr
 =ğ
ERR
) ? ERR : 0;

285 
	}
}

288 
	#SKIP_BLANKS
(è
	`is¥aû
(()*
ibuå
è&& *ibuå !ğ'\n'èibuå++

	)

290 
	#MUST_BE_FIRST
() do { \

291 ià(!
fœ¡
) { \

292 
”rmsg
 = "invalid‡ddress"; \

293  
ERR
; \

295 } 0)

	)

299 
	$Ãxt_addr
()

301 cÚ¡ *
hd
;

302 
addr
 = 
cu¼’t_addr
;

303 
n
;

304 
fœ¡
 = 1;

305 
c
;

307 
	`SKIP_BLANKS
();

308 
hd
 = 
ibuå
;; 
fœ¡
 = 0)

309 
c
 = *
ibuå
) {

315 
ibuå
++;

316 
	`SKIP_BLANKS
();

317 ià(
	`isdig™
(()*
ibuå
)) {

318 
	`STRTOL
(
n
, 
ibuå
);

319 
addr
 +ğ(
c
 =ğ'-' || c =ğ'^'è? -
n
 :‚;

320 } ià(!
	`is¥aû
(()
c
))

321 
addr
 +ğ(
c
 == '-' || c == '^') ? -1 : 1;

326 
	`MUST_BE_FIRST
();

327 
	`STRTOL
(
addr
, 
ibuå
);

331 
	`MUST_BE_FIRST
();

332 
ibuå
++;

333 
addr
 = (
c
 =ğ'.'è? 
cu¼’t_addr
 : 
addr_Ï¡
;

337 
	`MUST_BE_FIRST
();

338 ià((
addr
 = 
	`g‘_m©chšg_node_addr
(

339 
	`g‘_comped_·‰”n
(), 
c
 == '/')) < 0)

340  
ERR
;

341 ià(
c
 =ğ*
ibuå
)

342 
ibuå
++;

345 
	`MUST_BE_FIRST
();

346 
ibuå
++;

347 ià((
addr
 = 
	`g‘_m¬ked_node_addr
(*
ibuå
++)) < 0)

348  
ERR
;

353 ià(
fœ¡
) {

354 
ibuå
++;

355 
addr_út
++;

356 
£cÚd_addr
 = (
c
 =ğ';'è? 
cu¼’t_addr
 : 1;

357 
addr
 = 
addr_Ï¡
;

362 ià(
ibuå
 =ğ
hd
)

363  
EOF
;

364 ià(
addr
 < 0 || 
addr_Ï¡
 <‡ddr) {

365 
”rmsg
 = "invalid‡ddress";

366  
ERR
;

368  
addr
;

371 
	}
}

374 #ifdeà
BACKWARDS


376 
	#GET_THIRD_ADDR
(
addr
) \

378 
Ş1
, 
Ş2
; \

380 
Ş1
 = 
fœ¡_addr
, 
Ş2
 = 
£cÚd_addr
; \

381 ià(
	`exŒaù_addr_¿nge
() < 0) \

382  
ERR
; \

383 ià(
addr_út
 == 0) { \

384 
”rmsg
 = "destinationƒxpected"; \

385  
ERR
; \

386 } ià(
£cÚd_addr
 < 0 || 
addr_Ï¡
 < second_addr) { \

387 
”rmsg
 = "invalid‡ddress"; \

388  
ERR
; \

390 
addr
 = 
£cÚd_addr
; \

391 
fœ¡_addr
 = 
Ş1
, 
£cÚd_addr
 = 
Ş2
; \

392 }

	)

395 
	#GET_THIRD_ADDR
(
addr
) \

397 
Ş1
, 
Ş2
; \

399 
Ş1
 = 
fœ¡_addr
, 
Ş2
 = 
£cÚd_addr
; \

400 ià(
	`exŒaù_addr_¿nge
() < 0) \

401  
ERR
; \

402 ià(
£cÚd_addr
 < 0 || 
addr_Ï¡
 < second_addr) { \

403 
”rmsg
 = "invalid‡ddress"; \

404  
ERR
; \

406 
addr
 = 
£cÚd_addr
; \

407 
fœ¡_addr
 = 
Ş1
, 
£cÚd_addr
 = 
Ş2
; \

408 }

	)

413 
	#GET_COMMAND_SUFFIX
() { \

414 
dÚe
 = 0; \

416 *
ibuå
) { \

418 
gæag
 |ğ
GPR
, 
ibuå
++; \

421 
gæag
 |ğ
GLS
, 
ibuå
++; \

424 
gæag
 |ğ
GNP
, 
ibuå
++; \

427 
dÚe
++; \

429 } !
dÚe
); \

430 ià(*
ibuå
++ != '\n') { \

431 
”rmsg
 = "invalid command suffix"; \

432  
ERR
; \

434 }

	)

438 
	#SGG
 001

	)

439 
	#SGP
 002

	)

440 
	#SGR
 004

	)

441 
	#SGF
 010

	)

443 
	g·ock
 = 0;

445 
	grows
 = 22;

450 
	$exec_commªd
()

452 
·‰”n_t
 *
·t
 = 
NULL
;

453 
sgæag
 = 0;

454 
sgnum
 = 0;

456 
·‰”n_t
 *
©
;

457 *
âp
;

458 
gæag
 = 0;

459 
sæags
 = 0;

460 
addr
 = 0;

461 
n
 = 0;

462 
c
;

464 
	`SKIP_BLANKS
();

465 
c
 = *
ibuå
++) {

467 
	`GET_COMMAND_SUFFIX
();

468 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

469 ià(
	`­³nd_lšes
(
£cÚd_addr
) < 0)

470  
ERR
;

473 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

474  
ERR
;

475 
	`GET_COMMAND_SUFFIX
();

476 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

477 ià(
	`d–‘e_lšes
(
fœ¡_addr
, 
£cÚd_addr
) < 0 ||

478 
	`­³nd_lšes
(
cu¼’t_addr
) < 0)

479  
ERR
;

482 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

483  
ERR
;

484 
	`GET_COMMAND_SUFFIX
();

485 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

486 ià(
	`d–‘e_lšes
(
fœ¡_addr
, 
£cÚd_addr
) < 0)

487  
ERR
;

488 ià((
addr
 = 
	`INC_MOD
(
cu¼’t_addr
, 
addr_Ï¡
)) != 0)

489 
cu¼’t_addr
 = 
addr
;

492 ià(
modif›d
 && !
sü‹d
)

493  
EMOD
;

496 ià(
addr_út
 > 0) {

497 
”rmsg
 = "unexpected‡ddress";

498  
ERR
;

499 } ià(!
	`is¥aû
(()*
ibuå
)) {

500 
”rmsg
 = "unexpected command suffix";

501  
ERR
;

502 } ià((
âp
 = 
	`g‘_f’ame
()è=ğ
NULL
)

503  
ERR
;

504 
	`GET_COMMAND_SUFFIX
();

505 ià(
	`d–‘e_lšes
(1, 
addr_Ï¡
) < 0)

506  
ERR
;

507 
	`ş—r_undo_¡ack
();

508 ià(
	`şo£_sbuf
() < 0)

509  
ERR
;

510 ià(
	`İ’_sbuf
() < 0)

511  
FATAL
;

512 ià(*
âp
 && *â°!ğ'!'è
	`¡rıy
(
Şd_f’ame
, fnp);

513 #ifdeà
BACKWARDS


514 ià(*
âp
 =ğ'\0' && *
Şd_f’ame
 == '\0') {

515 
”rmsg
 = "no current filename";

516  
ERR
;

519 ià(
	`»ad_fe
(*
âp
 ? fÅ : 
Şd_f’ame
, 0) < 0)

520  
ERR
;

521 
	`ş—r_undo_¡ack
();

522 
modif›d
 = 0;

523 
u_cu¼’t_addr
 = 
u_addr_Ï¡
 = -1;

526 ià(
addr_út
 > 0) {

527 
”rmsg
 = "unexpected‡ddress";

528  
ERR
;

529 } ià(!
	`is¥aû
(()*
ibuå
)) {

530 
”rmsg
 = "unexpected command suffix";

531  
ERR
;

532 } ià((
âp
 = 
	`g‘_f’ame
()è=ğ
NULL
)

533  
ERR
;

534 ià(*
âp
 == '!') {

535 
”rmsg
 = "invalid„edirection";

536  
ERR
;

538 
	`GET_COMMAND_SUFFIX
();

539 ià(*
âp
è
	`¡rıy
(
Şd_f’ame
, fnp);

540 
	`´štf
("%s\n", 
	`¡r_esÿ³s
(
Şd_f’ame
));

546 ià(
isglob®
) {

547 
”rmsg
 = "cannot‚est global commands";

548  
ERR
;

549 } ià(
	`check_addr_¿nge
(1, 
addr_Ï¡
) < 0)

550  
ERR
;

551 ià(
	`bud_aùive_li¡
(
c
 == 'g' || c == 'G') < 0)

552  
ERR
;

553 ià((
n
 = (
c
 == 'G' || c == 'V')))

554 
	`GET_COMMAND_SUFFIX
();

555 
isglob®
++;

556 ià(
	`exec_glob®
(
n
, 
gæag
) < 0)

557  
ERR
;

560 ià(
addr_út
 > 0) {

561 
”rmsg
 = "unexpected‡ddress";

562  
ERR
;

564 
	`GET_COMMAND_SUFFIX
();

565 ià(*
”rmsg
è
	`årštf
(
¡d”r
, "%s\n",ƒrrmsg);

568 ià(
addr_út
 > 0) {

569 
”rmsg
 = "unexpected‡ddress";

570  
ERR
;

572 
	`GET_COMMAND_SUFFIX
();

573 ià((
g¬rulous
 = 1 - g¬rulousè&& *
”rmsg
)

574 
	`årštf
(
¡d”r
, "%s\n", 
”rmsg
);

577 ià(
£cÚd_addr
 == 0) {

578 
”rmsg
 = "invalid‡ddress";

579  
ERR
;

581 
	`GET_COMMAND_SUFFIX
();

582 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

583 ià(
	`­³nd_lšes
(
£cÚd_addr
 - 1) < 0)

584  
ERR
;

587 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr + 1) < 0)

588  
ERR
;

589 
	`GET_COMMAND_SUFFIX
();

590 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

591 ià(
fœ¡_addr
 !ğ
£cÚd_addr
 &&

592 
	`još_lšes
(
fœ¡_addr
, 
£cÚd_addr
) < 0)

593  
ERR
;

596 
c
 = *
ibuå
++;

597 ià(
£cÚd_addr
 == 0) {

598 
”rmsg
 = "invalid‡ddress";

599  
ERR
;

601 
	`GET_COMMAND_SUFFIX
();

602 ià(
	`m¬k_lše_node
(
	`g‘_add»s£d_lše_node
(
£cÚd_addr
), 
c
) < 0)

603  
ERR
;

606 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

607  
ERR
;

608 
	`GET_COMMAND_SUFFIX
();

609 ià(
	`di¥Ïy_lšes
(
fœ¡_addr
, 
£cÚd_addr
, 
gæag
 | 
GLS
) < 0)

610  
ERR
;

611 
gæag
 = 0;

614 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

615  
ERR
;

616 
	`GET_THIRD_ADDR
(
addr
);

617 ià(
fœ¡_addr
 <ğ
addr
 &&‡dd¸< 
£cÚd_addr
) {

618 
”rmsg
 = "invalid destination";

619  
ERR
;

621 
	`GET_COMMAND_SUFFIX
();

622 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

623 ià(
	`move_lšes
(
addr
) < 0)

624  
ERR
;

627 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

628  
ERR
;

629 
	`GET_COMMAND_SUFFIX
();

630 ià(
	`di¥Ïy_lšes
(
fœ¡_addr
, 
£cÚd_addr
, 
gæag
 | 
GNP
) < 0)

631  
ERR
;

632 
gæag
 = 0;

635 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

636  
ERR
;

637 
	`GET_COMMAND_SUFFIX
();

638 ià(
	`di¥Ïy_lšes
(
fœ¡_addr
, 
£cÚd_addr
, 
gæag
 | 
GPR
) < 0)

639  
ERR
;

640 
gæag
 = 0;

643 ià(
addr_út
 > 0) {

644 
”rmsg
 = "unexpected‡ddress";

645  
ERR
;

647 
	`GET_COMMAND_SUFFIX
();

648 
´om±
 =…rom± ? 
NULL
 : 
İrg
 ? o±¬g : 
dps
;

652 ià(
addr_út
 > 0) {

653 
”rmsg
 = "unexpected‡ddress";

654  
ERR
;

656 
	`GET_COMMAND_SUFFIX
();

657 
gæag
 = (
modif›d
 && !
sü‹d
 && 
c
 =ğ'q'è? 
EMOD
 : 
EOF
;

660 ià(!
	`is¥aû
(()*
ibuå
)) {

661 
”rmsg
 = "unexpected command suffix";

662  
ERR
;

663 } ià(
addr_út
 == 0)

664 
£cÚd_addr
 = 
addr_Ï¡
;

665 ià((
âp
 = 
	`g‘_f’ame
()è=ğ
NULL
)

666  
ERR
;

667 
	`GET_COMMAND_SUFFIX
();

668 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

669 ià(*
Şd_f’ame
 =ğ'\0' && *
âp
 != '!')

670 
	`¡rıy
(
Şd_f’ame
, 
âp
);

671 #ifdeà
BACKWARDS


672 ià(*
âp
 =ğ'\0' && *
Şd_f’ame
 == '\0') {

673 
”rmsg
 = "no current filename";

674  
ERR
;

677 ià((
addr
 = 
	`»ad_fe
(*
âp
 ? fÅ : 
Şd_f’ame
, 
£cÚd_addr
)) < 0)

678  
ERR
;

679 ià(
addr
 &&‡dd¸!ğ
addr_Ï¡
)

680 
modif›d
 = 1;

684 *
ibuå
) {

686 
sæags
 |=
SGF
;

689 
sæags
 |ğ
SGG
;

690 
ibuå
++;

693 
sæags
 |ğ
SGP
;

694 
ibuå
++;

697 
sæags
 |ğ
SGR
;

698 
ibuå
++;

702 
	`STRTOL
(
sgnum
, 
ibuå
);

703 
sæags
 |ğ
SGF
;

704 
sgæag
 &ğ~
GSG
;

707 ià(
sæags
) {

708 
”rmsg
 = "invalid command suffix";

709  
ERR
;

712 } 
sæags
 && *
ibuå
 != '\n');

713 ià(
sæags
 && !
·t
) {

714 
”rmsg
 = "no…revious substitution";

715  
ERR
;

716 } ià(
sæags
 & 
SGG
)

717 
sgnum
 = 0;

718 ià(*
ibuå
 != '\n' && *(ibufp + 1) == '\n') {

719 
”rmsg
 = "invalid…attern delimiter";

720  
ERR
;

722 
©
 = 
·t
;

723 
	`SPL1
();

724 ià((!
sæags
 || (sæag & 
SGR
)) &&

725 (
©
 = 
	`g‘_comped_·‰”n
()è=ğ
NULL
) {

726 
	`SPL0
();

727  
ERR
;

728 } ià(
©
 !ğ
·t
) {

729 ià(
·t
) {

730 
	`»gä“
(
·t
);

731 
	`ä“
(
·t
);

733 
·t
 = 
©
;

734 
·ock
 = 1;

736 
	`SPL0
();

737 ià(!
sæags
 && 
	`exŒaù_sub¡_
(&
sgæag
, &
sgnum
) < 0)

738  
ERR
;

739 ià(
isglob®
)

740 
sgæag
 |ğ
GLB
;

742 
sgæag
 &ğ~
GLB
;

743 ià(
sæags
 & 
SGG
)

744 
sgæag
 ^ğ
GSG
;

745 ià(
sæags
 & 
SGP
)

746 
sgæag
 ^ğ
GPR
, sgæag &ğ~(
GLS
 | 
GNP
);

748 *
ibuå
) {

750 
sgæag
 |ğ
GPR
, 
ibuå
++;

753 
sgæag
 |ğ
GLS
, 
ibuå
++;

756 
sgæag
 |ğ
GNP
, 
ibuå
++;

759 
n
++;

761 } !
n
);

762 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

763  
ERR
;

764 
	`GET_COMMAND_SUFFIX
();

765 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

766 ià(
	`£¬ch_ªd_»¶aû
(
·t
, 
sgæag
, 
sgnum
) < 0)

767  
ERR
;

770 ià(
	`check_addr_¿nge
(
cu¼’t_addr
, current_addr) < 0)

771  
ERR
;

772 
	`GET_THIRD_ADDR
(
addr
);

773 
	`GET_COMMAND_SUFFIX
();

774 ià(!
isglob®
è
	`ş—r_undo_¡ack
();

775 ià(
	`cİy_lšes
(
addr
) < 0)

776  
ERR
;

779 ià(
addr_út
 > 0) {

780 
”rmsg
 = "unexpected‡ddress";

781  
ERR
;

783 
	`GET_COMMAND_SUFFIX
();

784 ià(
	`pİ_undo_¡ack
() < 0)

785  
ERR
;

789 ià((
n
 = *
ibuå
) == 'q' ||‚ == 'Q') {

790 
gæag
 = 
EOF
;

791 
ibuå
++;

793 ià(!
	`is¥aû
(()*
ibuå
)) {

794 
”rmsg
 = "unexpected command suffix";

795  
ERR
;

796 } ià((
âp
 = 
	`g‘_f’ame
()è=ğ
NULL
)

797  
ERR
;

798 ià(
addr_út
 =ğ0 && !
addr_Ï¡
)

799 
fœ¡_addr
 = 
£cÚd_addr
 = 0;

800 ià(
	`check_addr_¿nge
(1, 
addr_Ï¡
) < 0)

801  
ERR
;

802 
	`GET_COMMAND_SUFFIX
();

803 ià(*
Şd_f’ame
 =ğ'\0' && *
âp
 != '!')

804 
	`¡rıy
(
Şd_f’ame
, 
âp
);

805 #ifdeà
BACKWARDS


806 ià(*
âp
 =ğ'\0' && *
Şd_f’ame
 == '\0') {

807 
”rmsg
 = "no current filename";

808  
ERR
;

811 ià((
addr
 = 
	`wr™e_fe
(*
âp
 ? fÅ : 
Şd_f’ame
,

812 (
c
 =ğ'W'è? "a" : "w", 
fœ¡_addr
, 
£cÚd_addr
)) < 0)

813  
ERR
;

814 ià(
addr
 =ğ
addr_Ï¡
)

815 
modif›d
 = 0;

816 ià(
modif›d
 && !
sü‹d
 && 
n
 == 'q')

817 
gæag
 = 
EMOD
;

820 ià(
addr_út
 > 0) {

821 
”rmsg
 = "unexpected‡ddress";

822  
ERR
;

824 
	`GET_COMMAND_SUFFIX
();

825 #ifdeà
DES


826 
des
 = 
	`g‘_keywÜd
();

829 
”rmsg
 = "crypt unavailable";

830  
ERR
;

833 #ifdeà
BACKWARDS


834 ià(
	`check_addr_¿nge
(
fœ¡_addr
 = 1, 
cu¼’t_addr
 + 1) < 0)

836 ià(
	`check_addr_¿nge
(
fœ¡_addr
 = 1, 
cu¼’t_addr
 + !
isglob®
) < 0)

838  
ERR
;

839 ià('0' < *
ibuå
 && *ibufp <= '9')

840 
	`STRTOL
(
rows
, 
ibuå
);

841 
	`GET_COMMAND_SUFFIX
();

842 ià(
	`di¥Ïy_lšes
(
£cÚd_addr
, 
	`mš
(
addr_Ï¡
,

843 
£cÚd_addr
 + 
rows
), 
gæag
) < 0)

844  
ERR
;

845 
gæag
 = 0;

848 
	`GET_COMMAND_SUFFIX
();

849 
	`´štf
("%ld\n", 
addr_út
 ? 
£cÚd_addr
 : 
addr_Ï¡
);

852 ià(
addr_út
 > 0) {

853 
”rmsg
 = "unexpected‡ddress";

854  
ERR
;

855 } ià((
sæags
 = 
	`g‘_sh–l_commªd
()) < 0)

856  
ERR
;

857 
	`GET_COMMAND_SUFFIX
();

858 ià(
sæags
è
	`´štf
("%s\n", 
shcmd
 + 1);

859 
	`sy¡em
(
shcmd
 + 1);

860 ià(!
sü‹d
è
	`´štf
("!\n");

863 #ifdeà
BACKWARDS


864 ià(
	`check_addr_¿nge
(
fœ¡_addr
 = 1, 
cu¼’t_addr
 + 1) < 0

866 ià(
	`check_addr_¿nge
(
fœ¡_addr
 = 1, 
cu¼’t_addr
 + !
isglob®
) < 0

868 || 
	`di¥Ïy_lšes
(
£cÚd_addr
, second_addr, 0) < 0)

869  
ERR
;

872 
”rmsg
 = "unknown command";

873  
ERR
;

875  
gæag
;

876 
	}
}

881 
	$check_addr_¿nge
(
n
, 
m
)

883 ià(
addr_út
 == 0) {

884 
fœ¡_addr
 = 
n
;

885 
£cÚd_addr
 = 
m
;

887 ià(
fœ¡_addr
 > 
£cÚd_addr
 || 1 > first_addr ||

888 
£cÚd_addr
 > 
addr_Ï¡
) {

889 
”rmsg
 = "invalid‡ddress";

890  
ERR
;

893 
	}
}

900 
	$g‘_m©chšg_node_addr
(
·‰”n_t
 *
·t
, 
dœ
)

902 *
s
;

903 
n
 = 
cu¼’t_addr
;

904 
lše_t
 *
Í
;

906 ià(!
·t
è 
ERR
;

908 ià((
n
 = 
dœ
 ? 
	`INC_MOD
Ò, 
addr_Ï¡
è: 
	`DEC_MOD
(n,‡ddr_last))) {

909 
Í
 = 
	`g‘_add»s£d_lše_node
(
n
);

910 ià((
s
 = 
	`g‘_sbuf_lše
(
Í
)è=ğ
NULL
)

911  
ERR
;

912 ià(
isbš¬y
)

913 
	`NUL_TO_NEWLINE
(
s
, 
Í
->
Ën
);

914 ià(!
	`»gexec
(
·t
, 
s
, 0, 
NULL
, 0))

915  
n
;

917 } 
n
 !ğ
cu¼’t_addr
);

918 
”rmsg
 = "no match";

919  
ERR
;

920 
	}
}

925 
	$g‘_f’ame
()

927 *
fe
 = 
NULL
;

928 
fesz
 = 0;

930 
n
;

932 ià(*
ibuå
 != '\n') {

933 
	`SKIP_BLANKS
();

934 ià(*
ibuå
 == '\n') {

935 
”rmsg
 = "invalid filename";

936  
NULL
;

937 } ià((
ibuå
 = 
	`g‘_ex‹nded_lše
(&
n
, 1)è=ğ
NULL
)

938  
NULL
;

939 ià(*
ibuå
 == '!') {

940 
ibuå
++;

941 ià((
n
 = 
	`g‘_sh–l_commªd
()) < 0)

942  
NULL
;

943 ià(
n
)

944 
	`´štf
("%s\n", 
shcmd
 + 1);

945  
shcmd
;

946 } ià(
n
 > 
PATH_MAX
 - 1) {

947 
”rmsg
 = "filenameoo†ong";

948  
NULL
;

951 #iâdeà
BACKWARDS


952 ià(*
Şd_f’ame
 == '\0') {

953 
”rmsg
 = "no current filename";

954  
NULL
;

957 
	`REALLOC
(
fe
, 
fesz
, 
PATH_MAX
, 
NULL
);

958 
n
 = 0; *
ibuå
 != '\n';)

959 
fe
[
n
++] = *
ibuå
++;

960 
fe
[
n
] = '\0';

961  
	`is_Ëg®_f’ame
(
fe
è? f: 
NULL
;

962 
	}
}

968 
	$g‘_sh–l_commªd
()

970 *
buf
 = 
NULL
;

971 
n
 = 0;

973 *
s
;

974 
i
 = 0;

975 
j
 = 0;

977 ià(
»d
) {

978 
”rmsg
 = "shell‡ccess„estricted";

979  
ERR
;

980 } ià((
s
 = 
ibuå
 = 
	`g‘_ex‹nded_lše
(&
j
, 1)è=ğ
NULL
)

981  
ERR
;

982 
	`REALLOC
(
buf
, 
n
, 
j
 + 1, 
ERR
);

983 
buf
[
i
++] = '!';

984 *
ibuå
 != '\n')

985 *
ibuå
) {

987 
	`REALLOC
(
buf
, 
n
, 
i
 + 2, 
ERR
);

988 
buf
[
i
++] = *
ibuå
;

989 ià(*
ibuå
++ == '\\')

990 
buf
[
i
++] = *
ibuå
++;

993 ià(
s
 !ğ
ibuå
) {

994 
	`REALLOC
(
buf
, 
n
, 
i
 + 1, 
ERR
);

995 
buf
[
i
++] = *
ibuå
++;

997 #ifdeà
BACKWARDS


998 ià(
shcmd
 =ğ
NULL
 || *(shcmd + 1) == '\0')

1000 ià(
shcmd
 =ğ
NULL
)

1003 
”rmsg
 = "no…revious command";

1004  
ERR
;

1006 
	`REALLOC
(
buf
, 
n
, 
i
 + 
shcmdi
, 
ERR
);

1007 
s
 = 
shcmd
 + 1; s < shcmd + 
shcmdi
;)

1008 
buf
[
i
++] = *
s
++;

1009 
s
 = 
ibuå
++;

1013 ià(*
Şd_f’ame
 == '\0') {

1014 
”rmsg
 = "no current filename";

1015  
ERR
;

1017 
j
 = 
	`¡¾’
(
s
 = 
	`¡r_esÿ³s
(
Şd_f’ame
));

1018 
	`REALLOC
(
buf
, 
n
, 
i
 + 
j
, 
ERR
);

1019 
j
--)

1020 
buf
[
i
++] = *
s
++;

1021 
s
 = 
ibuå
++;

1024 
	`REALLOC
(
shcmd
, 
shcmdsz
, 
i
 + 1, 
ERR
);

1025 
	`memıy
(
shcmd
, 
buf
, 
i
);

1026 
shcmd
[
shcmdi
 = 
i
] = '\0';

1027  *
s
 == '!' || *s == '%';

1028 
	}
}

1034 
	$­³nd_lšes
(
n
)

1036 
l
;

1037 cÚ¡ *
Í
 = 
ibuf
;

1038 cÚ¡ *
eÙ
;

1039 
undo_t
 *
up
 = 
NULL
;

1041 
cu¼’t_addr
 = 
n
;;) {

1042 ià(!
isglob®
) {

1043 ià((
l
 = 
	`g‘_‰y_lše
()) < 0)

1044  
ERR
;

1045 ià(
l
 =ğ0 || 
ibuf
[l - 1] != '\n') {

1046 
	`ş—»¼
(
¡dš
);

1047  
l
 ? 
EOF
 : 0;

1049 
Í
 = 
ibuf
;

1050 } ià(*(
Í
 = 
ibuå
) == '\0')

1053 *
ibuå
++ != '\n')

1055 
l
 = 
ibuå
 - 
Í
;

1057 ià(
l
 =ğ2 && 
Í
[0] == '.' &&†p[1] == '\n') {

1060 
eÙ
 = 
Í
 + 
l
;

1061 
	`SPL1
();

1063 ià((
Í
 = 
	`put_sbuf_lše
Öp)è=ğ
NULL
) {

1064 
	`SPL0
();

1065  
ERR
;

1066 } ià(
up
)

1067 
up
->
t
 = 
	`g‘_add»s£d_lše_node
(
cu¼’t_addr
);

1068 ià((
up
 = 
	`push_undo_¡ack
(
UADD
, 
cu¼’t_addr
,

1069 
cu¼’t_addr
)è=ğ
NULL
) {

1070 
	`SPL0
();

1071  
ERR
;

1073 } 
Í
 !ğ
eÙ
);

1074 
modif›d
 = 1;

1075 
	`SPL0
();

1078 
	}
}

1083 
	$još_lšes
(
äom
, 
to
)

1085 *
buf
 = 
NULL
;

1086 
n
;

1088 *
s
;

1089 
size
 = 0;

1090 
lše_t
 *
bp
, *
•
;

1092 
•
 = 
	`g‘_add»s£d_lše_node
(
	`INC_MOD
(
to
, 
addr_Ï¡
));

1093 
bp
 = 
	`g‘_add»s£d_lše_node
(
äom
);

1094 ; 
bp
 !ğ
•
; b°ğbp->
q_fÜw
) {

1095 ià((
s
 = 
	`g‘_sbuf_lše
(
bp
)è=ğ
NULL
)

1096  
ERR
;

1097 
	`REALLOC
(
buf
, 
n
, 
size
 + 
bp
->
Ën
, 
ERR
);

1098 
	`memıy
(
buf
 + 
size
, 
s
, 
bp
->
Ën
);

1099 
size
 +ğ
bp
->
Ën
;

1101 
	`REALLOC
(
buf
, 
n
, 
size
 + 2, 
ERR
);

1102 
	`memıy
(
buf
 + 
size
, "\n", 2);

1103 ià(
	`d–‘e_lšes
(
äom
, 
to
) < 0)

1104  
ERR
;

1105 
cu¼’t_addr
 = 
äom
 - 1;

1106 
	`SPL1
();

1107 ià(
	`put_sbuf_lše
(
buf
è=ğ
NULL
 ||

1108 
	`push_undo_¡ack
(
UADD
, 
cu¼’t_addr
, cu¼’t_addrè=ğ
NULL
) {

1109 
	`SPL0
();

1110  
ERR
;

1112 
modif›d
 = 1;

1113 
	`SPL0
();

1115 
	}
}

1120 
	$move_lšes
(
addr
)

1122 
lše_t
 *
b1
, *
a1
, *
b2
, *
a2
;

1123 
n
 = 
	`INC_MOD
(
£cÚd_addr
, 
addr_Ï¡
);

1124 
p
 = 
fœ¡_addr
 - 1;

1125 
dÚe
 = (
addr
 =ğ
fœ¡_addr
 - 1 ||‡dd¸=ğ
£cÚd_addr
);

1127 
	`SPL1
();

1128 ià(
dÚe
) {

1129 
a2
 = 
	`g‘_add»s£d_lše_node
(
n
);

1130 
b2
 = 
	`g‘_add»s£d_lše_node
(
p
);

1131 
cu¼’t_addr
 = 
£cÚd_addr
;

1132 } ià(
	`push_undo_¡ack
(
UMOV
, 
p
, 
n
è=ğ
NULL
 ||

1133 
	`push_undo_¡ack
(
UMOV
, 
addr
, 
	`INC_MOD
×ddr, 
addr_Ï¡
)è=ğ
NULL
) {

1134 
	`SPL0
();

1135  
ERR
;

1137 
a1
 = 
	`g‘_add»s£d_lše_node
(
n
);

1138 ià(
addr
 < 
fœ¡_addr
) {

1139 
b1
 = 
	`g‘_add»s£d_lše_node
(
p
);

1140 
b2
 = 
	`g‘_add»s£d_lše_node
(
addr
);

1143 
b2
 = 
	`g‘_add»s£d_lše_node
(
addr
);

1144 
b1
 = 
	`g‘_add»s£d_lše_node
(
p
);

1147 
a2
 = 
b2
->
q_fÜw
;

1148 
	`REQUE
(
b2
, 
b1
->
q_fÜw
);

1149 
	`REQUE
(
a1
->
q_back
, 
a2
);

1150 
	`REQUE
(
b1
, 
a1
);

1151 
cu¼’t_addr
 = 
addr
 + (×dd¸< 
fœ¡_addr
) ?

1152 
£cÚd_addr
 - 
fœ¡_addr
 + 1 : 0);

1154 ià(
isglob®
)

1155 
	`un£t_aùive_nodes
(
b2
->
q_fÜw
, 
a2
);

1156 
modif›d
 = 1;

1157 
	`SPL0
();

1159 
	}
}

1164 
	$cİy_lšes
(
addr
)

1166 
lše_t
 *
Í
, *
Å
 = 
	`g‘_add»s£d_lše_node
(
fœ¡_addr
);

1167 
undo_t
 *
up
 = 
NULL
;

1168 
n
 = 
£cÚd_addr
 - 
fœ¡_addr
 + 1;

1169 
m
 = 0;

1171 
cu¼’t_addr
 = 
addr
;

1172 ià(
fœ¡_addr
 <ğ
addr
 &&‡dd¸< 
£cÚd_addr
) {

1173 
n
 = 
addr
 - 
fœ¡_addr
 + 1;

1174 
m
 = 
£cÚd_addr
 - 
addr
;

1176 ; 
n
 > 0;‚=
m
, m=0, 
Å
 = 
	`g‘_add»s£d_lše_node
(
cu¼’t_addr
 + 1))

1177 ; 
n
-- > 0; 
Å
 =‚p->
q_fÜw
) {

1178 
	`SPL1
();

1179 ià((
Í
 = 
	`dup_lše_node
(
Å
)è=ğ
NULL
) {

1180 
	`SPL0
();

1181  
ERR
;

1183 
	`add_lše_node
(
Í
);

1184 ià(
up
)

1185 
up
->
t
 = 
Í
;

1186 ià((
up
 = 
	`push_undo_¡ack
(
UADD
, 
cu¼’t_addr
,

1187 
cu¼’t_addr
)è=ğ
NULL
) {

1188 
	`SPL0
();

1189  
ERR
;

1191 
modif›d
 = 1;

1192 
	`SPL0
();

1195 
	}
}

1200 
	$d–‘e_lšes
(
äom
, 
to
)

1202 
lše_t
 *
n
, *
p
;

1204 
	`SPL1
();

1205 ià(
	`push_undo_¡ack
(
UDEL
, 
äom
, 
to
è=ğ
NULL
) {

1206 
	`SPL0
();

1207  
ERR
;

1209 
n
 = 
	`g‘_add»s£d_lše_node
(
	`INC_MOD
(
to
, 
addr_Ï¡
));

1210 
p
 = 
	`g‘_add»s£d_lše_node
(
äom
 - 1);

1212 ià(
isglob®
)

1213 
	`un£t_aùive_nodes
(
p
->
q_fÜw
, 
n
);

1214 
	`REQUE
(
p
, 
n
);

1215 
addr_Ï¡
 -ğ
to
 - 
äom
 + 1;

1216 
cu¼’t_addr
 = 
äom
 - 1;

1217 
modif›d
 = 1;

1218 
	`SPL0
();

1220 
	}
}

1225 
	$di¥Ïy_lšes
(
äom
, 
to
, 
gæag
)

1227 
lše_t
 *
bp
;

1228 
lše_t
 *
•
;

1229 *
s
;

1231 ià(!
äom
) {

1232 
”rmsg
 = "invalid‡ddress";

1233  
ERR
;

1235 
•
 = 
	`g‘_add»s£d_lše_node
(
	`INC_MOD
(
to
, 
addr_Ï¡
));

1236 
bp
 = 
	`g‘_add»s£d_lše_node
(
äom
);

1237 ; 
bp
 !ğ
•
; b°ğbp->
q_fÜw
) {

1238 ià((
s
 = 
	`g‘_sbuf_lše
(
bp
)è=ğ
NULL
)

1239  
ERR
;

1240 ià(
	`put_‰y_lše
(
s
, 
bp
->
Ën
, 
cu¼’t_addr
 = 
äom
++, 
gæag
) < 0)

1241  
ERR
;

1244 
	}
}

1247 
	#MAXMARK
 26

	)

1249 
lše_t
 *
	gm¬k
[
MAXMARK
];

1250 
	gm¬kno
;

1254 
	$m¬k_lše_node
(
lše_t
 *
Í
, 
n
)

1256 ià(!
	`i¦ow”
(()
n
)) {

1257 
”rmsg
 = "invalid mark character";

1258  
ERR
;

1259 } ià(
m¬k
[
n
 - 'a'] =ğ
NULL
)

1260 
m¬kno
++;

1261 
m¬k
[
n
 - 'a'] = 
Í
;

1263 
	}
}

1268 
	$g‘_m¬ked_node_addr
(
n
)

1270 ià(!
	`i¦ow”
(()
n
)) {

1271 
”rmsg
 = "invalid mark character";

1272  
ERR
;

1274  
	`g‘_lše_node_addr
(
m¬k
[
n
 - 'a']);

1275 
	}
}

1280 
	$unm¬k_lše_node
(
lše_t
 *
Í
)

1282 
i
;

1284 
i
 = 0; 
m¬kno
 && i < 
MAXMARK
; i++)

1285 ià(
m¬k
[
i
] =ğ
Í
) {

1286 
m¬k
[
i
] = 
NULL
;

1287 
m¬kno
--;

1289 
	}
}

1293 
lše_t
 *

1294 
	$dup_lše_node
(
lše_t
 *
Í
)

1296 
lše_t
 *
Å
;

1298 ià((
Å
 = (
lše_t
 *è
	`m®loc
(Öše_t))è=ğ
NULL
) {

1299 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

1300 
”rmsg
 = "out of memory";

1301  
NULL
;

1303 
Å
->
£ek
 = 
Í
->seek;

1304 
Å
->
Ën
 = 
Í
->len;

1305  
Å
;

1306 
	}
}

1312 
	$has_Œašg_esÿ³
(*
s
, *
t
)

1314  (
s
 =ğ
t
 || *Ñ - 1è!ğ'\\'è? 0 : !
	`has_Œašg_esÿ³
(s, - 1);

1315 
	}
}

1320 
	$¡r_esÿ³s
(*
s
)

1322 *
fe
 = 
NULL
;

1323 
fesz
 = 0;

1325 
i
 = 0;

1327 
	`REALLOC
(
fe
, 
fesz
, 
PATH_MAX
, 
NULL
);

1328 
i
 < 
fesz
 - 1

1329 && (
fe
[
i
++] = (*
s
 == '\\') ? *++s : *s))

1330 
s
++;

1331  
fe
;

1332 
	}
}

1336 
	$sigÇl_hup
(
signo
)

1338 ià(
mu‹x
)

1339 
sigæags
 |ğ(1 << (
signo
 - 1));

1341 
	`hªdË_hup
(
signo
);

1342 
	}
}

1346 
	$sigÇl_št
(
signo
)

1348 ià(
mu‹x
)

1349 
sigæags
 |ğ(1 << (
signo
 - 1));

1351 
	`hªdË_št
(
signo
);

1352 
	}
}

1356 
	$hªdË_hup
(
signo
)

1358 *
hup
 = 
NULL
;

1359 *
s
;

1360 
ed_hup
[] = "ed.hup";

1361 
n
;

1363 ià(!
sigaùive
)

1364 
	`qu™
(1);

1365 
sigæags
 &ğ~(1 << (
signo
 - 1));

1366 ià(
addr_Ï¡
 && 
	`wr™e_fe
(
ed_hup
, "w", 1,‡ddr_last) < 0 &&

1367 (
s
 = 
	`g‘’v
("HOME")è!ğ
NULL
 &&

1368 (
n
 = 
	`¡¾’
(
s
)è+ 8 <ğ
PATH_MAX
 &&

1369 (
hup
 = (*è
	`m®loc
(
n
 + 10)è!ğ
NULL
) {

1370 
	`¡rıy
(
hup
, 
s
);

1371 ià(
hup
[
n
 - 1] != '/')

1372 
hup
[
n
] = '/', hup[n+1] = '\0';

1373 
	`¡rÿt
(
hup
, "ed.hup");

1374 
	`wr™e_fe
(
hup
, "w", 1, 
addr_Ï¡
);

1376 
	`qu™
(2);

1377 
	}
}

1381 
	$hªdË_št
(
signo
)

1383 ià(!
sigaùive
)

1384 
	`qu™
(1);

1385 
sigæags
 &ğ~(1 << (
signo
 - 1));

1386 #ifdeà
_POSIX_SOURCE


1387 
	`siglÚgjmp
(
’v
, -1);

1389 
	`lÚgjmp
(
’v
, -1);

1391 
	}
}

1394 
	gcŞs
 = 72;

1397 
	$hªdË_wšch
(
signo
)

1399 
§ve_”ºo
 = 
”ºo
;

1401 
wšsize
 
ws
;

1403 
sigæags
 &ğ~(1 << (
signo
 - 1));

1404 ià(
	`ioùl
(0, 
TIOCGWINSZ
, (*è&
ws
) >= 0) {

1405 ià(
ws
.
ws_row
 > 2è
rows
 = ws.ws_row - 2;

1406 ià(
ws
.
ws_cŞ
 > 8è
cŞs
 = ws.ws_col - 8;

1408 
”ºo
 = 
§ve_”ºo
;

1409 
	}
}

1414 
	$is_Ëg®_f’ame
(*
s
)

1416 ià(
»d
 && (*
s
 =ğ'!' || !
	`¡rcmp
(s, ".."è|| 
	`¡rchr
(s, '/'))) {

1417 
”rmsg
 = "shell‡ccess„estricted";

1421 
	}
}

	@ed/re.c

29 
	~<sys/cdefs.h
>

30 
__FBSDID
("$FreeBSD: src/bin/ed/re.c,v 1.20.32.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

32 
	~"ed.h
"

35 
·ock
;

37 cÚ¡ *
	g”rmsg
 = "";

41 
·‰”n_t
 *

42 
	$g‘_comped_·‰”n
()

44 
·‰”n_t
 *
ex´
 = 
NULL
;

45 
”rÜ
[1024];

47 *
ex´s
;

48 
d–im™”
;

49 
n
;

51 ià((
d–im™”
 = *
ibuå
) == ' ') {

52 
”rmsg
 = "invalid…attern delimiter";

53  
NULL
;

54 } ià(
d–im™”
 =ğ'\n' || *++
ibuå
 == '\n' || *ibufp == delimiter) {

55 ià(!
ex´
)

56 
”rmsg
 = "no…revious…attern";

57  
ex´
;

58 } ià((
ex´s
 = 
	`exŒaù_·‰”n
(
d–im™”
)è=ğ
NULL
)

59  
NULL
;

61 ià(
ex´
 && !
·ock
)

62 
	`»gä“
(
ex´
);

63 ià((
ex´
 = (
·‰”n_t
 *è
	`m®loc
(Õ©‹º_t))è=ğ
NULL
) {

64 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

65 
”rmsg
 = "out of memory";

66  
NULL
;

68 
·ock
 = 0;

69 ià((
n
 = 
	`»gcomp
(
ex´
, 
ex´s
, 0))) {

70 
	`»g”rÜ
(
n
, 
ex´
, 
”rÜ
, ƒrror);

71 
”rmsg
 = 
”rÜ
;

72 
	`ä“
(
ex´
);

73  
ex´
 = 
NULL
;

75  
ex´
;

76 
	}
}

82 
	$exŒaù_·‰”n
(
d–im™”
)

84 *
lhbuf
 = 
NULL
;

85 
lhbufsz
 = 0;

87 *
nd
;

88 
Ën
;

90 
nd
 = 
ibuå
; *nd !ğ
d–im™”
 && *nd != '\n';‚d++)

91 *
nd
) {

95 ià((
nd
 = 
	`·r£_ch¬_şass
(++nd)è=ğ
NULL
) {

96 
”rmsg
 = "unbalanced brackets ([])";

97  
NULL
;

101 ià(*++
nd
 == '\n') {

102 
”rmsg
 = "trailing backslash (\\)";

103  
NULL
;

107 
Ën
 = 
nd
 - 
ibuå
;

108 
	`REALLOC
(
lhbuf
, 
lhbufsz
, 
Ën
 + 1, 
NULL
);

109 
	`memıy
(
lhbuf
, 
ibuå
, 
Ën
);

110 
lhbuf
[
Ën
] = '\0';

111 
ibuå
 = 
nd
;

112  (
isbš¬y
è? 
	`NUL_TO_NEWLINE
(
lhbuf
, 
Ën
) :†hbuf;

113 
	}
}

118 
	$·r£_ch¬_şass
(*
s
)

120 
c
, 
d
;

122 ià(*
s
 == '^')

123 
s
++;

124 ià(*
s
 == ']')

125 
s
++;

126 ; *
s
 != ']' && *s != '\n'; s++)

127 ià(*
s
 =ğ'[' && ((
d
 = *(s+1)) == '.' || d == ':' || d == '='))

128 
s
++, 
c
 = *++s; * !ğ']' || c !ğ
d
; s++)

129 ià((
c
 = *
s
) == '\n')

130  
NULL
;

131  (*
s
 =ğ']'è? s : 
NULL
;

132 
	}
}

	@ed/sub.c

29 
	~<sys/cdefs.h
>

30 
__FBSDID
("$FreeBSD: src/bin/ed/sub.c,v 1.15.36.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

32 
	~"ed.h
"

35 *
	grhbuf
;

36 
	grhbufsz
;

37 
	grhbufi
;

41 
	$exŒaù_sub¡_
(*
æagp
, *
Å
)

43 
d–im™”
;

45 *
æagp
 = *
Å
 = 0;

46 ià((
d–im™”
 = *
ibuå
) == '\n') {

47 
rhbufi
 = 0;

48 *
æagp
 = 
GPR
;

50 } ià(
	`exŒaù_sub¡_‹m¶©e
(è=ğ
NULL
)

51  
ERR
;

52 ià(*
ibuå
 == '\n') {

53 *
æagp
 = 
GPR
;

55 } ià(*
ibuå
 =ğ
d–im™”
)

56 
ibuå
++;

57 ià('1' <ğ*
ibuå
 && *ibufp <= '9') {

58 
	`STRTOL
(*
Å
, 
ibuå
);

60 } ià(*
ibuå
 == 'g') {

61 
ibuå
++;

62 *
æagp
 = 
GSG
;

66 
	}
}

72 
	$exŒaù_sub¡_‹m¶©e
()

74 
n
 = 0;

75 
i
 = 0;

76 
c
;

77 
d–im™”
 = *
ibuå
++;

79 ià(*
ibuå
 =ğ'%' && *(ibuå + 1è=ğ
d–im™”
) {

80 
ibuå
++;

81 ià(!
rhbuf
)

82 
”rmsg
 = "no…revious substitution";

83  
rhbuf
;

85 *
ibuå
 !ğ
d–im™”
) {

86 
	`REALLOC
(
rhbuf
, 
rhbufsz
, 
i
 + 2, 
NULL
);

87 ià((
c
 = 
rhbuf
[
i
++] = *
ibuå
++) == '\n' && *ibufp == '\0') {

88 
i
--, 
ibuå
--;

90 } ià(
c
 != '\\')

92 ià((
rhbuf
[
i
++] = *
ibuå
++) != '\n')

94 ià(!
isglob®
) {

95 (
n
 = 
	`g‘_‰y_lše
()) == 0 ||

96 (
n
 > 0 && 
ibuf
[n - 1] != '\n'))

97 
	`ş—»¼
(
¡dš
);

98 ià(
n
 < 0)

99  
NULL
;

102 
	`REALLOC
(
rhbuf
, 
rhbufsz
, 
i
 + 1, 
NULL
);

103 
rhbuf
[
rhbufi
 = 
i
] = '\0';

104  
rhbuf
;

105 
	}
}

108 *
	grbuf
;

109 
	grbufsz
;

114 
	$£¬ch_ªd_»¶aû
(
·‰”n_t
 *
·t
, 
gæag
, 
kth
)

116 
undo_t
 *
up
;

117 cÚ¡ *
txt
;

118 cÚ¡ *
eÙ
;

119 
lc
;

120 
xa
 = 
cu¼’t_addr
;

121 
nsubs
 = 0;

122 
lše_t
 *
Í
;

123 
Ën
;

125 
cu¼’t_addr
 = 
fœ¡_addr
 - 1;

126 
lc
 = 0;†ø<ğ
£cÚd_addr
 - 
fœ¡_addr
;†c++) {

127 
Í
 = 
	`g‘_add»s£d_lše_node
(++
cu¼’t_addr
);

128 ià((
Ën
 = 
	`sub¡™u‹_m©chšg_‹xt
(
·t
, 
Í
, 
gæag
, 
kth
)) < 0)

129  
ERR
;

130 ià(
Ën
) {

131 
up
 = 
NULL
;

132 ià(
	`d–‘e_lšes
(
cu¼’t_addr
, current_addr) < 0)

133  
ERR
;

134 
txt
 = 
rbuf
;

135 
eÙ
 = 
rbuf
 + 
Ën
;

136 
	`SPL1
();

138 ià((
txt
 = 
	`put_sbuf_lše
Ñxt)è=ğ
NULL
) {

139 
	`SPL0
();

140  
ERR
;

141 } ià(
up
)

142 
up
->
t
 = 
	`g‘_add»s£d_lše_node
(
cu¼’t_addr
);

143 ià((
up
 = 
	`push_undo_¡ack
(
UADD
,

144 
cu¼’t_addr
, cu¼’t_addr)è=ğ
NULL
) {

145 
	`SPL0
();

146  
ERR
;

148 } 
txt
 !ğ
eÙ
);

149 
	`SPL0
();

150 
nsubs
++;

151 
xa
 = 
cu¼’t_addr
;

154 
cu¼’t_addr
 = 
xa
;

155 ià(
nsubs
 =ğ0 && !(
gæag
 & 
GLB
)) {

156 
”rmsg
 = "no match";

157  
ERR
;

158 } ià((
gæag
 & (
GPR
 | 
GLS
 | 
GNP
)) &&

159 
	`di¥Ïy_lšes
(
cu¼’t_addr
, cu¼’t_addr, 
gæag
) < 0)

160  
ERR
;

162 
	}
}

168 
	$sub¡™u‹_m©chšg_‹xt
(
·‰”n_t
 *
·t
, 
lše_t
 *
Í
, 
gæag
, 
kth
)

170 
off
 = 0;

171 
chªged
 = 0;

172 
m©chno
 = 0;

173 
i
 = 0;

174 
»gm©ch_t
 
rm
[
SE_MAX
];

175 *
txt
;

176 *
eÙ
;

178 ià((
txt
 = 
	`g‘_sbuf_lše
(
Í
)è=ğ
NULL
)

179  
ERR
;

180 ià(
isbš¬y
)

181 
	`NUL_TO_NEWLINE
(
txt
, 
Í
->
Ën
);

182 
eÙ
 = 
txt
 + 
Í
->
Ën
;

183 ià(!
	`»gexec
(
·t
, 
txt
, 
SE_MAX
, 
rm
, 0)) {

185 ià(!
kth
 || kth =ğ++
m©chno
) {

186 
chªged
++;

187 
i
 = 
rm
[0].
rm_so
;

188 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 
i
, 
ERR
);

189 ià(
isbš¬y
)

190 
	`NEWLINE_TO_NUL
(
txt
, 
rm
[0].
rm_eo
);

191 
	`memıy
(
rbuf
 + 
off
, 
txt
, 
i
);

192 
off
 +ğ
i
;

193 ià((
off
 = 
	`­¶y_sub¡_‹m¶©e
(
txt
, 
rm
, off,

194 
·t
->
»_nsub
)) < 0)

195  
ERR
;

197 
i
 = 
rm
[0].
rm_eo
;

198 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 
i
, 
ERR
);

199 ià(
isbš¬y
)

200 
	`NEWLINE_TO_NUL
(
txt
, 
i
);

201 
	`memıy
(
rbuf
 + 
off
, 
txt
, 
i
);

202 
off
 +ğ
i
;

204 
txt
 +ğ
rm
[0].
rm_eo
;

205 } *
txt
 &&

206 (!
chªged
 || ((
gæag
 & 
GSG
è&& 
rm
[0].
rm_eo
)) &&

207 !
	`»gexec
(
·t
, 
txt
, 
SE_MAX
, 
rm
, 
REG_NOTBOL
));

208 
i
 = 
eÙ
 - 
txt
;

209 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 
i
 + 2, 
ERR
);

210 ià(
i
 > 0 && !
rm
[0].
rm_eo
 && (
gæag
 & 
GSG
)) {

211 
”rmsg
 = "infinite substitution†oop";

212  
ERR
;

214 ià(
isbš¬y
)

215 
	`NEWLINE_TO_NUL
(
txt
, 
i
);

216 
	`memıy
(
rbuf
 + 
off
, 
txt
, 
i
);

217 
	`memıy
(
rbuf
 + 
off
 + 
i
, "\n", 2);

219  
chªged
 ? 
off
 + 
i
 + 1 : 0;

220 
	}
}

226 
	$­¶y_sub¡_‹m¶©e
(cÚ¡ *
bŞn
, 
»gm©ch_t
 *
rm
, 
off
, 
»_nsub
)

228 
j
 = 0;

229 
k
 = 0;

230 
n
;

231 *
sub
 = 
rhbuf
;

233 ; 
sub
 - 
rhbuf
 < 
rhbufi
; sub++)

234 ià(*
sub
 == '&') {

235 
j
 = 
rm
[0].
rm_so
;

236 
k
 = 
rm
[0].
rm_eo
;

237 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 
k
 - 
j
, 
ERR
);

238 
j
 < 
k
)

239 
rbuf
[
off
++] = 
bŞn
[
j
++];

240 } ià(*
sub
 == '\\' && '1' <= *++sub && *sub <= '9' &&

241 (
n
 = *
sub
 - '0'è<ğ
»_nsub
) {

242 
j
 = 
rm
[
n
].
rm_so
;

243 
k
 = 
rm
[
n
].
rm_eo
;

244 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 
k
 - 
j
, 
ERR
);

245 
j
 < 
k
)

246 
rbuf
[
off
++] = 
bŞn
[
j
++];

248 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 1, 
ERR
);

249 
rbuf
[
off
++] = *
sub
;

251 
	`REALLOC
(
rbuf
, 
rbufsz
, 
off
 + 1, 
ERR
);

252 
rbuf
[
off
] = '\0';

253  
off
;

254 
	}
}

	@ed/undo.c

28 
	~<sys/cdefs.h
>

29 
__FBSDID
("$FreeBSD: src/bin/ed/undo.c,v 1.12.36.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

31 
	~"ed.h
"

34 
	#USIZE
 100

	)

35 
undo_t
 *
	gu¡ack
 = 
NULL
;

36 
	gusize
 = 0;

37 
	gu_p
 = 0;

40 
undo_t
 *

41 
	$push_undo_¡ack
(
ty³
, 
äom
, 
to
)

43 
undo_t
 *
t
;

45 #ià
	`defšed
(
sun
è|| defšed(
NO_REALLOC_NULL
)

46 ià(
u¡ack
 =ğ
NULL
 &&

47 (
u¡ack
 = (
undo_t
 *è
	`m®loc
((
usize
 = 
USIZE
è* (undo_t))è=ğ
NULL
) {

48 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

49 
”rmsg
 = "out of memory";

50  
NULL
;

53 
t
 = 
u¡ack
;

54 ià(
u_p
 < 
usize
 ||

55 (
t
 = (
undo_t
 *è
	`»®loc
(
u¡ack
, (
usize
 +ğ
USIZE
è* (undo_t))è!ğ
NULL
) {

56 
u¡ack
 = 
t
;

57 
u¡ack
[
u_p
].
ty³
 =ype;

58 
u¡ack
[
u_p
].
t
 = 
	`g‘_add»s£d_lše_node
(
to
);

59 
u¡ack
[
u_p
].
h
 = 
	`g‘_add»s£d_lše_node
(
äom
);

60  
u¡ack
 + 
u_p
++;

63 
	`årštf
(
¡d”r
, "%s\n", 
	`¡»¼Ü
(
”ºo
));

64 
”rmsg
 = "out of memory";

65 
	`ş—r_undo_¡ack
();

66 
	`ä“
(
u¡ack
);

67 
u¡ack
 = 
NULL
;

68 
usize
 = 0;

69  
NULL
;

70 
	}
}

74 
	#USWAP
(
x
,
y
) { \

75 
undo_t
 
utmp
; \

76 
utmp
 = 
x
, x = 
y
, y = utmp; \

77 }

	)

80 
	gu_cu¼’t_addr
 = -1;

81 
	gu_addr_Ï¡
 = -1;

85 
	$pİ_undo_¡ack
()

87 
n
;

88 
o_cu¼’t_addr
 = 
cu¼’t_addr
;

89 
o_addr_Ï¡
 = 
addr_Ï¡
;

91 ià(
u_cu¼’t_addr
 =ğ-1 || 
u_addr_Ï¡
 == -1) {

92 
”rmsg
 = "nothingo undo";

93  
ERR
;

94 } ià(
u_p
)

95 
modif›d
 = 1;

96 
	`g‘_add»s£d_lše_node
(0);

97 
	`SPL1
();

98 
n
 = 
u_p
;‚-- > 0;) {

99 
u¡ack
[
n
].
ty³
) {

100 
UADD
:

101 
	`REQUE
(
u¡ack
[
n
].
h
->
q_back
, u¡ack[n].
t
->
q_fÜw
);

103 
UDEL
:

104 
	`REQUE
(
u¡ack
[
n
].
h
->
q_back
, ustack[n].h);

105 
	`REQUE
(
u¡ack
[
n
].
t
, u¡ack[n].t->
q_fÜw
);

107 
UMOV
:

108 
VMOV
:

109 
	`REQUE
(
u¡ack
[
n
 - 1].
h
, u¡ack[n].h->
q_fÜw
);

110 
	`REQUE
(
u¡ack
[
n
].
t
->
q_back
, ustack[n - 1].t);

111 
	`REQUE
(
u¡ack
[
n
].
h
, u¡ack[n].
t
);

112 
n
--;

118 
u¡ack
[
n
].
ty³
 ^= 1;

121 
n
 = 
u_p
;‚-- > (u_p + 1)/ 2;)

122 
	`USWAP
(
u¡ack
[
n
], u¡ack[
u_p
 - 1 -‚]);

123 ià(
isglob®
)

124 
	`ş—r_aùive_li¡
();

125 
cu¼’t_addr
 = 
u_cu¼’t_addr
, u_cu¼’t_add¸ğ
o_cu¼’t_addr
;

126 
addr_Ï¡
 = 
u_addr_Ï¡
, u_addr_Ï¡ = 
o_addr_Ï¡
;

127 
	`SPL0
();

129 
	}
}

134 
	$ş—r_undo_¡ack
()

136 
lše_t
 *
Í
, *
•
, *

;

138 
u_p
--)

139 ià(
u¡ack
[
u_p
].
ty³
 =ğ
UDEL
) {

140 
•
 = 
u¡ack
[
u_p
].
t
->
q_fÜw
;

141 
Í
 = 
u¡ack
[
u_p
].
h
;†°!ğ
•
;†°ğ

) {

142 
	`unm¬k_lše_node
(
Í
);

143 

 = 
Í
->
q_fÜw
;

144 
	`ä“
(
Í
);

147 
u_p
 = 0;

148 
u_cu¼’t_addr
 = 
cu¼’t_addr
;

149 
u_addr_Ï¡
 = 
addr_Ï¡
;

150 
	}
}

	@expr/expr.y

11 
	~<sys/ty³s.h
>

13 
	~<ùy³.h
>

14 
	~<”r.h
>

15 
	~<”ºo.h
>

16 
	~<š‰y³s.h
>

17 
	~<lim™s.h
>

18 
	~<loÿË.h
>

19 
	~<¡dio.h
>

20 
	~<¡dlib.h
>

21 
	~<¡ršg.h
>

22 
	~<»gex.h
>

23 
	~<uni¡d.h
>

29 
	#ERR_EXIT
 2

	)

31 
	ev®ty³
 {

32 
	mš‹g”
, 
	mnum”ic_¡ršg
, 
	m¡ršg


35 
	sv®
 {

36 
v®ty³
 
	mty³
;

38 *
	ms
;

39 
štmax_t
 
	mi
;

40 } 
	mu
;

43 
v®
 *
	g»suÉ
;

45 
chk_div
(
štmax_t
, intmax_t);

46 
chk_mšus
(
štmax_t
, intmax_t, intmax_t);

47 
chk_¶us
(
štmax_t
, intmax_t, intmax_t);

48 
chk_times
(
štmax_t
, intmax_t, intmax_t);

49 
ä“_v®ue
(
v®
 *);

50 
is_z”o_Ü_nuÎ
(
v®
 *);

51 
is¡ršg
(
v®
 *);

52 
v®
 *
make_š‹g”
(
štmax_t
);

53 
v®
 *
make_¡r
(const *);

54 
v®
 *
İ_ªd
(val *, val *);

55 
v®
 *
İ_cŞÚ
(val *, val *);

56 
v®
 *
İ_div
(val *, val *);

57 
v®
 *
İ_eq
(val *, val *);

58 
v®
 *
İ_ge
(val *, val *);

59 
v®
 *
İ_gt
(val *, val *);

60 
v®
 *
İ_Ë
(val *, val *);

61 
v®
 *
İ_É
(val *, val *);

62 
v®
 *
İ_mšus
(val *, val *);

63 
v®
 *
İ_Ã
(val *, val *);

64 
v®
 *
İ_Ü
(val *, val *);

65 
v®
 *
İ_¶us
(val *, val *);

66 
v®
 *
İ_»m
(val *, val *);

67 
v®
 *
İ_times
(val *, val *);

68 
štmax_t
 
to_š‹g”
(
v®
 *);

69 
to_¡ršg
(
v®
 *);

70 
yy”rÜ
(const *);

71 
yyËx
();

72 
yy·r£
();

74 
	geæag
;

75 **
	gav
;

80 
v®
 *val;

83 %
Ëá
 <
v®
> '|'

84 %
Ëá
 <
v®
> '&'

85 %
Ëá
 <
v®
> '=' '>' '<' 
GE
 
LE
 
NE


86 %
Ëá
 <
v®
> '+' '-'

87 %
Ëá
 <
v®
> '*' '/' '%'

88 %
Ëá
 <
v®
> ':'

90 %
tok’
 <
v®
> 
TOKEN


91 %
ty³
 <
v®
> 
¡¬t
 
ex´


93 %% /* 
	$yy·r£
 */ 
	`yyËx
()

95 
¡¬t
: 
ex´
 { 
»suÉ
 = 
$$
; }

97 
ex´
: 
TOKEN


98 | '(' 
ex´
 ')' { 
$$
 = 
$2
; }

99 | 
ex´
 '|'ƒx´ { 
$$
 = 
	`İ_Ü
 (
$1
, 
$3
); }

100 | 
ex´
 '&'ƒx´ { 
$$
 = 
	`İ_ªd
 (
$1
, 
$3
); }

101 | 
ex´
 '='ƒx´ { 
$$
 = 
	`İ_eq
 (
$1
, 
$3
); }

102 | 
ex´
 '>'ƒx´ { 
$$
 = 
	`İ_gt
 (
$1
, 
$3
); }

103 | 
ex´
 '<'ƒx´ { 
$$
 = 
	`İ_É
 (
$1
, 
$3
); }

104 | 
ex´
 
GE
ƒx´ { 
$$
 = 
	`İ_ge
 (
$1
, 
$3
); }

105 | 
ex´
 
LE
ƒx´ { 
$$
 = 
	`İ_Ë
 (
$1
, 
$3
); }

106 | 
ex´
 
NE
ƒx´ { 
$$
 = 
	`İ_Ã
 (
$1
, 
$3
); }

107 | 
ex´
 '+'ƒx´ { 
$$
 = 
	`İ_¶us
 (
$1
, 
$3
); }

108 | 
ex´
 '-'ƒx´ { 
$$
 = 
	`İ_mšus
 (
$1
, 
$3
); }

109 | 
ex´
 '*'ƒx´ { 
$$
 = 
	`İ_times
 (
$1
, 
$3
); }

110 | 
ex´
 '/'ƒx´ { 
$$
 = 
	`İ_div
 (
$1
, 
$3
); }

111 | 
ex´
 '%'ƒx´ { 
$$
 = 
	`İ_»m
 (
$1
, 
$3
); }

112 | 
ex´
 ':'ƒx´ { 
$$
 = 
	`İ_cŞÚ
 (
$1
, 
$3
); }

116 
	}
%%

118 
v®
 *

119 
	$make_š‹g”
(
štmax_t
 
i
)

121 
v®
 *
vp
;

123 
vp
 = (
v®
 *è
	`m®loc
 ( (*vp));

124 ià(
vp
 =ğ
NULL
) {

125 
	`”rx
(
ERR_EXIT
, "malloc() failed");

128 
vp
->
ty³
 = 
š‹g”
;

129 
vp
->
u
.
i
 = i;

130  
vp
;

131 
	}
}

133 
v®
 *

134 
	$make_¡r
(cÚ¡ *
s
)

136 
v®
 *
vp
;

137 *
•
;

139 
vp
 = (
v®
 *è
	`m®loc
 ( (*vp));

140 ià(
vp
 =ğ
NULL
 || ((vp->
u
.
s
 = 
	`¡rdup
 (s)) == NULL)) {

141 
	`”rx
(
ERR_EXIT
, "malloc() failed");

159 ià(
eæag
)

160 ()
	`¡¹oimax
(
s
, &
•
, 10);

162 ()
	`¡¹Ş
(
s
, &
•
, 10);

164 ià(*
•
 != '\0')

165 
vp
->
ty³
 = 
¡ršg
;

167 
vp
->
ty³
 = 
num”ic_¡ršg
;

169  
vp
;

170 
	}
}

174 
	$ä“_v®ue
(
v®
 *
vp
)

176 ià(
vp
->
ty³
 =ğ
¡ršg
 || vp->ty³ =ğ
num”ic_¡ršg
)

177 
	`ä“
 (
vp
->
u
.
s
);

178 
	}
}

181 
štmax_t


182 
	$to_š‹g”
(
v®
 *
vp
)

184 
štmax_t
 
i
;

186 ià(
vp
->
ty³
 =ğ
š‹g”
)

189 ià(
vp
->
ty³
 =ğ
¡ršg
)

193 
”ºo
 = 0;

194 ià(
eæag
) {

195 
i
 = 
	`¡¹oimax
(
vp
->
u
.
s
, (**)
NULL
, 10);

196 ià(
”ºo
 =ğ
ERANGE
)

197 
	`”r
(
ERR_EXIT
, 
NULL
);

199 
i
 = 
	`¡¹Ş
(
vp
->
u
.
s
, (**)
NULL
, 10);

202 
	`ä“
 (
vp
->
u
.
s
);

203 
vp
->
u
.
i
 = i;

204 
vp
->
ty³
 = 
š‹g”
;

206 
	}
}

209 
	$to_¡ršg
(
v®
 *
vp
)

211 *
tmp
;

213 ià(
vp
->
ty³
 =ğ
¡ršg
 || vp->ty³ =ğ
num”ic_¡ršg
)

221 
	#NDIGITS
(
x
è(3 * ((xè* 
CHAR_BIT
è/ 10 + 1 + 1 + 1)

	)

222 
tmp
 = 
	`m®loc
(
	`NDIGITS
(
vp
->
u
.
i
));

223 ià(
tmp
 =ğ
NULL
)

224 
	`”rx
(
ERR_EXIT
, "malloc() failed");

226 
	`¥rštf
(
tmp
, "%jd", 
vp
->
u
.
i
);

227 
vp
->
ty³
 = 
¡ršg
;

228 
vp
->
u
.
s
 = 
tmp
;

229 
	}
}

233 
	$is¡ršg
(
v®
 *
vp
)

236  (
vp
->
ty³
 =ğ
¡ršg
);

237 
	}
}

241 
	$yyËx
()

243 *
p
;

245 ià(*
av
 =ğ
NULL
)

248 
p
 = *
av
++;

250 ià(
	`¡¾’
 (
p
) == 1) {

251 ià(
	`¡rchr
 ("|&=<>+-*/%:()", *
p
))

252  (*
p
);

253 } ià(
	`¡¾’
 (
p
) == 2 &&…[1] == '=') {

254 *
p
) {

255 '>':  (
GE
);

256 '<':  (
LE
);

257 '!':  (
NE
);

261 
yylv®
.
v®
 = 
	`make_¡r
 (
p
);

262  (
TOKEN
);

263 
	}
}

266 
	$is_z”o_Ü_nuÎ
(
v®
 *
vp
)

268 ià(
vp
->
ty³
 =ğ
š‹g”
) {

269  (
vp
->
u
.
i
 == 0);

271  (*
vp
->
u
.
s
 =ğ0 || (
	`to_š‹g”
 (vpè&& vp->u.
i
 == 0));

274 
	}
}

277 
	$maš
(
¬gc
, *
¬gv
[])

279 
c
;

281 
	`£oÿË
 (
LC_ALL
, "");

282 ià(
	`g‘’v
("EXPR_COMPAT"è!ğ
NULL


283 || 
	`check_ut™y_com·t
("expr")) {

284 
av
 = 
¬gv
 + 1;

285 
eæag
 = 1;

287 (
c
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "e")) != -1)

288 
c
) {

290 
eæag
 = 1;

294 
	`årštf
(
¡d”r
,

296 
	`ex™
(
ERR_EXIT
);

298 
av
 = 
¬gv
 + 
İtšd
;

301 
	`yy·r£
();

303 ià(
»suÉ
->
ty³
 =ğ
š‹g”
)

304 
	`´štf
("%jd\n", 
»suÉ
->
u
.
i
);

306 
	`´štf
("%s\n", 
»suÉ
->
u
.
s
);

308  (
	`is_z”o_Ü_nuÎ
(
»suÉ
));

309 
	}
}

312 
	$yy”rÜ
(cÚ¡ *
s
 
__unu£d
)

314 
	`”rx
(
ERR_EXIT
, "syntaxƒrror");

315 
	}
}

318 
v®
 *

319 
	$İ_Ü
(
v®
 *
a
, v® *
b
)

321 ià(
	`is_z”o_Ü_nuÎ
 (
a
)) {

322 
	`ä“_v®ue
 (
a
);

323  (
b
);

325 
	`ä“_v®ue
 (
b
);

326  (
a
);

328 
	}
}

330 
v®
 *

331 
	$İ_ªd
(
v®
 *
a
, v® *
b
)

333 ià(
	`is_z”o_Ü_nuÎ
 (
a
è|| is_z”o_Ü_nuÎ (
b
)) {

334 
	`ä“_v®ue
 (
a
);

335 
	`ä“_v®ue
 (
b
);

336  (
	`make_š‹g”
 ((
štmax_t
)0));

338 
	`ä“_v®ue
 (
b
);

339  (
a
);

341 
	}
}

343 
v®
 *

344 
	$İ_eq
(
v®
 *
a
, v® *
b
)

346 
v®
 *
r
;

348 ià(
	`is¡ršg
 (
a
è|| is¡ršg (
b
)) {

349 
	`to_¡ršg
 (
a
);

350 
	`to_¡ršg
 (
b
);

351 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
	`¡rcŞl
 (
a
->
u
.
s
, 
b
->u.s) == 0));

353 ()
	`to_š‹g”
(
a
);

354 ()
	`to_š‹g”
(
b
);

355 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
a
->
u
.
i
 =ğ
b
->u.i));

358 
	`ä“_v®ue
 (
a
);

359 
	`ä“_v®ue
 (
b
);

360  
r
;

361 
	}
}

363 
v®
 *

364 
	$İ_gt
(
v®
 *
a
, v® *
b
)

366 
v®
 *
r
;

368 ià(
	`is¡ršg
 (
a
è|| is¡ršg (
b
)) {

369 
	`to_¡ršg
 (
a
);

370 
	`to_¡ršg
 (
b
);

371 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
	`¡rcŞl
 (
a
->
u
.
s
, 
b
->u.s) > 0));

373 ()
	`to_š‹g”
(
a
);

374 ()
	`to_š‹g”
(
b
);

375 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
a
->
u
.
i
 > 
b
->u.i));

378 
	`ä“_v®ue
 (
a
);

379 
	`ä“_v®ue
 (
b
);

380  
r
;

381 
	}
}

383 
v®
 *

384 
	$İ_É
(
v®
 *
a
, v® *
b
)

386 
v®
 *
r
;

388 ià(
	`is¡ršg
 (
a
è|| is¡ršg (
b
)) {

389 
	`to_¡ršg
 (
a
);

390 
	`to_¡ršg
 (
b
);

391 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
	`¡rcŞl
 (
a
->
u
.
s
, 
b
->u.s) < 0));

393 ()
	`to_š‹g”
(
a
);

394 ()
	`to_š‹g”
(
b
);

395 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
a
->
u
.
i
 < 
b
->u.i));

398 
	`ä“_v®ue
 (
a
);

399 
	`ä“_v®ue
 (
b
);

400  
r
;

401 
	}
}

403 
v®
 *

404 
	$İ_ge
(
v®
 *
a
, v® *
b
)

406 
v®
 *
r
;

408 ià(
	`is¡ršg
 (
a
è|| is¡ršg (
b
)) {

409 
	`to_¡ršg
 (
a
);

410 
	`to_¡ršg
 (
b
);

411 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
	`¡rcŞl
 (
a
->
u
.
s
, 
b
->u.s) >= 0));

413 ()
	`to_š‹g”
(
a
);

414 ()
	`to_š‹g”
(
b
);

415 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
a
->
u
.
i
 >ğ
b
->u.i));

418 
	`ä“_v®ue
 (
a
);

419 
	`ä“_v®ue
 (
b
);

420  
r
;

421 
	}
}

423 
v®
 *

424 
	$İ_Ë
(
v®
 *
a
, v® *
b
)

426 
v®
 *
r
;

428 ià(
	`is¡ršg
 (
a
è|| is¡ršg (
b
)) {

429 
	`to_¡ršg
 (
a
);

430 
	`to_¡ršg
 (
b
);

431 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
	`¡rcŞl
 (
a
->
u
.
s
, 
b
->u.s) <= 0));

433 ()
	`to_š‹g”
(
a
);

434 ()
	`to_š‹g”
(
b
);

435 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
a
->
u
.
i
 <ğ
b
->u.i));

438 
	`ä“_v®ue
 (
a
);

439 
	`ä“_v®ue
 (
b
);

440  
r
;

441 
	}
}

443 
v®
 *

444 
	$İ_Ã
(
v®
 *
a
, v® *
b
)

446 
v®
 *
r
;

448 ià(
	`is¡ršg
 (
a
è|| is¡ršg (
b
)) {

449 
	`to_¡ršg
 (
a
);

450 
	`to_¡ršg
 (
b
);

451 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
	`¡rcŞl
 (
a
->
u
.
s
, 
b
->u.s) != 0));

453 ()
	`to_š‹g”
(
a
);

454 ()
	`to_š‹g”
(
b
);

455 
r
 = 
	`make_š‹g”
 ((
štmax_t
)(
a
->
u
.
i
 !ğ
b
->u.i));

458 
	`ä“_v®ue
 (
a
);

459 
	`ä“_v®ue
 (
b
);

460  
r
;

461 
	}
}

464 
	$chk_¶us
(
štmax_t
 
a
, iÁmax_ˆ
b
, iÁmax_ˆ
r
)

468 ià(
a
 > 0 && 
b
 > 0 && 
r
 <= 0)

471 ià(
a
 < 0 && 
b
 < 0 && 
r
 >= 0)

475 
	}
}

477 
v®
 *

478 
	$İ_¶us
(
v®
 *
a
, v® *
b
)

480 
v®
 *
r
;

482 ià(!
	`to_š‹g”
(
a
è|| !to_š‹g”(
b
)) {

483 
	`”rx
(
ERR_EXIT
, "non-numeric‡rgument");

486 ià(
eæag
) {

487 
r
 = 
	`make_š‹g”
(
a
->
u
.
i
 + 
b
->u.i);

488 ià(
	`chk_¶us
(
a
->
u
.
i
, 
b
->u.i, 
r
->u.i)) {

489 
	`”rx
(
ERR_EXIT
, "overflow");

492 
r
 = 
	`make_š‹g”
(()
a
->
u
.
i
 + ()
b
->u.i);

494 
	`ä“_v®ue
 (
a
);

495 
	`ä“_v®ue
 (
b
);

496  
r
;

497 
	}
}

500 
	$chk_mšus
(
štmax_t
 
a
, iÁmax_ˆ
b
, iÁmax_ˆ
r
)

504 ià(
b
 =ğ
INTMAX_MIN
) {

505 ià(
a
 >= 0)

511  
	`chk_¶us
 (
a
, -
b
, 
r
);

512 
	}
}

514 
v®
 *

515 
	$İ_mšus
(
v®
 *
a
, v® *
b
)

517 
v®
 *
r
;

519 ià(!
	`to_š‹g”
(
a
è|| !to_š‹g”(
b
)) {

520 
	`”rx
(
ERR_EXIT
, "non-numeric‡rgument");

523 ià(
eæag
) {

524 
r
 = 
	`make_š‹g”
(
a
->
u
.
i
 - 
b
->u.i);

525 ià(
	`chk_mšus
(
a
->
u
.
i
, 
b
->u.i, 
r
->u.i)) {

526 
	`”rx
(
ERR_EXIT
, "overflow");

529 
r
 = 
	`make_š‹g”
(()
a
->
u
.
i
 - ()
b
->u.i);

531 
	`ä“_v®ue
 (
a
);

532 
	`ä“_v®ue
 (
b
);

533  
r
;

534 
	}
}

537 
	$chk_times
(
štmax_t
 
a
, iÁmax_ˆ
b
, iÁmax_ˆ
r
)

540 ià(
a
 == 0)

543 ià(
r
 / 
a
 !ğ
b
)

546 
	}
}

548 
v®
 *

549 
	$İ_times
(
v®
 *
a
, v® *
b
)

551 
v®
 *
r
;

553 ià(!
	`to_š‹g”
(
a
è|| !to_š‹g”(
b
)) {

554 
	`”rx
(
ERR_EXIT
, "non-numeric‡rgument");

557 ià(
eæag
) {

558 
r
 = 
	`make_š‹g”
(
a
->
u
.
i
 * 
b
->u.i);

559 ià(
	`chk_times
(
a
->
u
.
i
, 
b
->u.i, 
r
->u.i)) {

560 
	`”rx
(
ERR_EXIT
, "overflow");

563 
r
 = 
	`make_š‹g”
(()
a
->
u
.
i
 * ()
b
->u.i);

565 
	`ä“_v®ue
 (
a
);

566 
	`ä“_v®ue
 (
b
);

567  (
r
);

568 
	}
}

571 
	$chk_div
(
štmax_t
 
a
, iÁmax_ˆ
b
)

575 ià(
a
 =ğ
INTMAX_MIN
 && 
b
 == -1)

579 
	}
}

581 
v®
 *

582 
	$İ_div
(
v®
 *
a
, v® *
b
)

584 
v®
 *
r
;

586 ià(!
	`to_š‹g”
(
a
è|| !to_š‹g”(
b
)) {

587 
	`”rx
(
ERR_EXIT
, "non-numeric‡rgument");

590 ià(
b
->
u
.
i
 == 0) {

591 
	`”rx
(
ERR_EXIT
, "division by zero");

594 ià(
eæag
) {

595 
r
 = 
	`make_š‹g”
(
a
->
u
.
i
 / 
b
->u.i);

596 ià(
	`chk_div
(
a
->
u
.
i
, 
b
->u.i)) {

597 
	`”rx
(
ERR_EXIT
, "overflow");

600 
r
 = 
	`make_š‹g”
(()
a
->
u
.
i
 / ()
b
->u.i);

602 
	`ä“_v®ue
 (
a
);

603 
	`ä“_v®ue
 (
b
);

604  
r
;

605 
	}
}

607 
v®
 *

608 
	$İ_»m
(
v®
 *
a
, v® *
b
)

610 
v®
 *
r
;

612 ià(!
	`to_š‹g”
(
a
è|| !to_š‹g”(
b
)) {

613 
	`”rx
(
ERR_EXIT
, "non-numeric‡rgument");

616 ià(
b
->
u
.
i
 == 0) {

617 
	`”rx
(
ERR_EXIT
, "division by zero");

620 ià(
eæag
)

621 
r
 = 
	`make_š‹g”
(
a
->
u
.
i
 % 
b
->u.i);

624 
r
 = 
	`make_š‹g”
(()
a
->
u
.
i
 % ()
b
->u.i);

626 
	`ä“_v®ue
 (
a
);

627 
	`ä“_v®ue
 (
b
);

628  
r
;

629 
	}
}

631 
v®
 *

632 
	$İ_cŞÚ
(
v®
 *
a
, v® *
b
)

634 
»gex_t
 
½
;

635 
»gm©ch_t
 
rm
[2];

636 
”rbuf
[256];

637 
ev®
;

638 
v®
 *
v
;

641 
	`to_¡ršg
(
a
);

642 
	`to_¡ršg
(
b
);

645 ià((
ev®
 = 
	`»gcomp
 (&
½
, 
b
->
u
.
s
, 0)) != 0) {

646 
	`»g”rÜ
 (
ev®
, &
½
, 
”rbuf
, (errbuf));

647 
	`”rx
(
ERR_EXIT
, "%s", 
”rbuf
);

652 ià(
	`»gexec
(&
½
, 
a
->
u
.
s
, (
size_t
)2, 
rm
, 0è=ğ0 &&„m[0].
rm_so
 == 0) {

653 ià(
rm
[1].
rm_so
 >= 0) {

654 *(
a
->
u
.
s
 + 
rm
[1].
rm_eo
) = '\0';

655 
v
 = 
	`make_¡r
 (
a
->
u
.
s
 + 
rm
[1].
rm_so
);

658 
v
 = 
	`make_š‹g”
 ((
štmax_t
)(
rm
[0].
rm_eo
 -„m[0].
rm_so
));

661 ià(
½
.
»_nsub
 == 0) {

662 
v
 = 
	`make_š‹g”
 ((
štmax_t
)0);

664 
v
 = 
	`make_¡r
 ("");

669 
	`ä“_v®ue
 (
a
);

670 
	`ä“_v®ue
 (
b
);

671 
	`»gä“
 (&
½
);

673  
v
;

674 
	}
}

	@getfacl/getfacl.c

34 
	~<sys/cdefs.h
>

35 
__FBSDID
("$FreeBSD: src/bin/getfacl/getfacl.c,v 1.12.10.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

37 
	~<sys/ty³s.h
>

38 
	~<sys/·¿m.h
>

39 
	~<sys/aş.h
>

40 
	~<sys/¡©.h
>

42 
	~<”r.h
>

43 
	~<”ºo.h
>

44 
	~<g½.h
>

45 
	~<pwd.h
>

46 
	~<¡dio.h
>

47 
	~<¡dlib.h
>

48 
	~<¡ršg.h
>

49 
	~<uni¡d.h
>

51 
	gmÜe_thª_Úe
 = 0;

54 
	$u§ge
()

57 
	`årštf
(
¡d”r
, "getfacl [-dhnqv] [file ...]\n");

58 
	}
}

61 
	$g‘uÇme
(
uid_t
 
uid
)

63 
·sswd
 *
pw
;

64 
uids
[10];

66 ià((
pw
 = 
	`g‘pwuid
(
uid
)è=ğ
NULL
) {

67 ()
	`¢´štf
(
uids
, (uids), "%u", 
uid
);

68  (
uids
);

70  (
pw
->
pw_Çme
);

71 
	}
}

74 
	$g‘gÇme
(
gid_t
 
gid
)

76 
group
 *
gr
;

77 
gids
[10];

79 ià((
gr
 = 
	`g‘grgid
(
gid
)è=ğ
NULL
) {

80 ()
	`¢´štf
(
gids
, (gids), "%u", 
gid
);

81  (
gids
);

83  (
gr
->
gr_Çme
);

84 
	}
}

90 
aş_t


91 
	$aş_äom_¡©
(
¡©
 
sb
)

93 
aş_t
 
aş
;

94 
aş_’Œy_t
 
’Œy
;

95 
aş_³rm£t_t
 
³rms
;

98 
aş
 = 
	`aş_š™
(3);

99 ià(!
aş
)

100  
NULL
;

103 ià(
	`aş_ü—‹_’Œy
(&
aş
, &
’Œy
) == -1)

104  
NULL
;

105 ià(
	`aş_£t_g_ty³
(
’Œy
, 
ACL_USER_OBJ
) == -1)

106  
NULL
;

108 ià(
	`aş_g‘_³rm£t
(
’Œy
, &
³rms
) == -1)

109  
NULL
;

110 ià(
	`aş_ş—r_³rms
(
³rms
) == -1)

111  
NULL
;

114 ià(
sb
.
¡_mode
 & 
S_IRUSR
)

115 ià(
	`aş_add_³rm
(
³rms
, 
ACL_READ
) == -1)

116  
NULL
;

117 ià(
sb
.
¡_mode
 & 
S_IWUSR
)

118 ià(
	`aş_add_³rm
(
³rms
, 
ACL_WRITE
) == -1)

119  
NULL
;

120 ià(
sb
.
¡_mode
 & 
S_IXUSR
)

121 ià(
	`aş_add_³rm
(
³rms
, 
ACL_EXECUTE
) == -1)

122  
NULL
;

123 ià(
	`aş_£t_³rm£t
(
’Œy
, 
³rms
) == -1)

124  
NULL
;

127 ià(
	`aş_ü—‹_’Œy
(&
aş
, &
’Œy
) == -1)

128  
NULL
;

129 ià(
	`aş_£t_g_ty³
(
’Œy
, 
ACL_GROUP_OBJ
) == -1)

130  
NULL
;

132 ià(
	`aş_g‘_³rm£t
(
’Œy
, &
³rms
) == -1)

133  
NULL
;

134 ià(
	`aş_ş—r_³rms
(
³rms
) == -1)

135  
NULL
;

138 ià(
sb
.
¡_mode
 & 
S_IRGRP
)

139 ià(
	`aş_add_³rm
(
³rms
, 
ACL_READ
) == -1)

140  
NULL
;

141 ià(
sb
.
¡_mode
 & 
S_IWGRP
)

142 ià(
	`aş_add_³rm
(
³rms
, 
ACL_WRITE
) == -1)

143  
NULL
;

144 ià(
sb
.
¡_mode
 & 
S_IXGRP
)

145 ià(
	`aş_add_³rm
(
³rms
, 
ACL_EXECUTE
) == -1)

146  
NULL
;

147 ià(
	`aş_£t_³rm£t
(
’Œy
, 
³rms
) == -1)

148  
NULL
;

151 ià(
	`aş_ü—‹_’Œy
(&
aş
, &
’Œy
) == -1)

152  
NULL
;

153 ià(
	`aş_£t_g_ty³
(
’Œy
, 
ACL_OTHER
) == -1)

154  
NULL
;

156 ià(
	`aş_g‘_³rm£t
(
’Œy
, &
³rms
) == -1)

157  
NULL
;

158 ià(
	`aş_ş—r_³rms
(
³rms
) == -1)

159  
NULL
;

162 ià(
sb
.
¡_mode
 & 
S_IROTH
)

163 ià(
	`aş_add_³rm
(
³rms
, 
ACL_READ
) == -1)

164  
NULL
;

165 ià(
sb
.
¡_mode
 & 
S_IWOTH
)

166 ià(
	`aş_add_³rm
(
³rms
, 
ACL_WRITE
) == -1)

167  
NULL
;

168 ià(
sb
.
¡_mode
 & 
S_IXOTH
)

169 ià(
	`aş_add_³rm
(
³rms
, 
ACL_EXECUTE
) == -1)

170  
NULL
;

171 ià(
	`aş_£t_³rm£t
(
’Œy
, 
³rms
) == -1)

172  
NULL
;

174 (
aş
);

175 
	}
}

178 
	$´št_aş
(*
·th
, 
aş_ty³_t
 
ty³
, 
hæag
, 
iæag
, 
næag
,

179 
qæag
, 
væag
)

181 
¡©
 
sb
;

182 
aş_t
 
aş
;

183 *
aş_‹xt
;

184 
”rÜ
, 
æags
 = 0, 
»t
;

186 ià(
hæag
)

187 
”rÜ
 = 
	`l¡©
(
·th
, &
sb
);

189 
”rÜ
 = 
	`¡©
(
·th
, &
sb
);

190 ià(
”rÜ
 == -1) {

191 
	`w¬n
("%s: st(èçed", 
·th
);

195 ià(
hæag
)

196 
»t
 = 
	`Í©hcÚf
(
·th
, 
_PC_ACL_NFS4
);

198 
»t
 = 
	`·thcÚf
(
·th
, 
_PC_ACL_NFS4
);

199 ià(
»t
 > 0) {

200 ià(
ty³
 =ğ
ACL_TYPE_DEFAULT
) {

201 
	`w¬nx
("%s:here‡re‚o defaultƒntries in NFSv4 ACLs",

202 
·th
);

205 
ty³
 = 
ACL_TYPE_NFS4
;

206 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

207 
	`w¬n
("%s:…©hcÚf(..., _PC_ACL_NFS4èçed", 
·th
);

211 ià(
mÜe_thª_Úe
)

212 
	`´štf
("\n");

214 
mÜe_thª_Úe
++;

216 ià(!
qæag
)

217 
	`´štf
("# fe: %s\n# owÃr: %s\n# group: %s\n", 
·th
,

218 
	`g‘uÇme
(
sb
.
¡_uid
), 
	`g‘gÇme
(sb.
¡_gid
));

220 ià(
hæag
)

221 
aş
 = 
	`aş_g‘_lšk_Å
(
·th
, 
ty³
);

223 
aş
 = 
	`aş_g‘_fe
(
·th
, 
ty³
);

224 ià(!
aş
) {

225 ià(
”ºo
 !ğ
EOPNOTSUPP
) {

226 
	`w¬n
("%s", 
·th
);

229 
”ºo
 = 0;

230 ià(
ty³
 =ğ
ACL_TYPE_DEFAULT
)

232 
aş
 = 
	`aş_äom_¡©
(
sb
);

233 ià(!
aş
) {

234 
	`w¬n
("%s:‡ş_äom_¡©(èçed", 
·th
);

239 ià(
iæag
)

240 
æags
 |ğ
ACL_TEXT_APPEND_ID
;

242 ià(
næag
)

243 
æags
 |ğ
ACL_TEXT_NUMERIC_IDS
;

245 ià(
væag
)

246 
æags
 |ğ
ACL_TEXT_VERBOSE
;

248 
aş_‹xt
 = 
	`aş_to_‹xt_Å
(
aş
, 0, 
æags
);

249 ià(!
aş_‹xt
) {

250 
	`w¬n
("%s:‡ş_to_‹xt_Å(èçed", 
·th
);

254 
	`´štf
("%s", 
aş_‹xt
);

256 ()
	`aş_ä“
(
aş
);

257 ()
	`aş_ä“
(
aş_‹xt
);

260 
	}
}

263 
	$´št_aş_äom_¡dš
(
aş_ty³_t
 
ty³
, 
hæag
, 
iæag
, 
næag
,

264 
qæag
, 
væag
)

266 *
p
, 
·thÇme
[
PATH_MAX
];

267 
ÿ¼›d_”rÜ
 = 0;

269 
	`fg‘s
(
·thÇme
, ()Õ©hÇme), 
¡dš
)) {

270 ià((
p
 = 
	`¡rchr
(
·thÇme
, '\n')è!ğ
NULL
)

271 *
p
 = '\0';

272 ià(
	`´št_aş
(
·thÇme
, 
ty³
, 
hæag
, 
iæag
, 
næag
,

273 
qæag
, 
væag
) == -1) {

274 
ÿ¼›d_”rÜ
 = -1;

278 (
ÿ¼›d_”rÜ
);

279 
	}
}

282 
	$maš
(
¬gc
, *
¬gv
[])

284 
aş_ty³_t
 
ty³
 = 
ACL_TYPE_ACCESS
;

285 
ÿ¼›d_”rÜ
 = 0;

286 
ch
, 
”rÜ
, 
i
;

287 
hæag
, 
iæag
, 
qæag
, 
næag
, 
væag
;

289 
hæag
 = 0;

290 
iæag
 = 0;

291 
qæag
 = 0;

292 
næag
 = 0;

293 
væag
 = 0;

294 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "dhinqv")) != -1)

295 
ch
) {

297 
ty³
 = 
ACL_TYPE_DEFAULT
;

300 
hæag
 = 1;

303 
iæag
 = 1;

306 
næag
 = 1;

309 
qæag
 = 1;

312 
væag
 = 1;

315 
	`u§ge
();

318 
¬gc
 -ğ
İtšd
;

319 
¬gv
 +ğ
İtšd
;

321 ià(
¬gc
 == 0) {

322 
”rÜ
 = 
	`´št_aş_äom_¡dš
(
ty³
, 
hæag
, 
iæag
, 
næag
,

323 
qæag
, 
væag
);

324 (
”rÜ
 ? 1 : 0);

327 
i
 = 0; i < 
¬gc
; i++) {

328 ià(!
	`¡rcmp
(
¬gv
[
i
], "-")) {

329 
”rÜ
 = 
	`´št_aş_äom_¡dš
(
ty³
, 
hæag
, 
iæag
, 
næag
,

330 
qæag
, 
væag
);

331 ià(
”rÜ
 == -1)

332 
ÿ¼›d_”rÜ
 = -1;

334 
”rÜ
 = 
	`´št_aş
(
¬gv
[
i
], 
ty³
, 
hæag
, 
iæag
, 
næag
,

335 
qæag
, 
væag
);

336 ià(
”rÜ
 == -1)

337 
ÿ¼›d_”rÜ
 = -1;

341 (
ÿ¼›d_”rÜ
 ? 1 : 0);

342 
	}
}

	@hostname/hostname.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)hostname.c 8.1 (Berkeley) 5/31/93";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/hostname/hostname.c,v 1.20.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/·¿m.h
>

46 
	~<”r.h
>

47 
	~<¡dio.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

50 
	~<uni¡d.h
>

52 
u§ge
();

55 
	$maš
(
¬gc
, *
¬gv
[])

57 
ch
, 
sæag
;

58 *
p
, 
ho¡Çme
[
MAXHOSTNAMELEN
];

60 
sæag
 = 0;

61 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "fs")) != -1)

62 
ch
) {

71 
sæag
 = 1;

75 
	`u§ge
();

77 
¬gc
 -ğ
İtšd
;

78 
¬gv
 +ğ
İtšd
;

80 ià(
¬gc
 > 1)

81 
	`u§ge
();

83 ià(*
¬gv
) {

84 ià(
	`£tho¡Çme
(*
¬gv
, ()
	`¡¾’
(*argv)))

85 
	`”r
(1, "sethostname");

87 ià(
	`g‘ho¡Çme
(
ho¡Çme
, ()(hostname)))

88 
	`”r
(1, "gethostname");

89 ià(
sæag
) {

90 
p
 = 
	`¡rchr
(
ho¡Çme
, '.');

91 ià(
p
 !ğ
NULL
)

92 *
p
 = '\0';

94 ()
	`´štf
("%s\n", 
ho¡Çme
);

96 
	`ex™
(0);

97 
	}
}

100 
	$u§ge
()

103 ()
	`årštf
(
¡d”r
, "usage: hostname [-fs] [name-of-host]\n");

104 
	`ex™
(1);

105 
	}
}

	@kenv/kenv.c

26 
	~<sys/cdefs.h
>

27 
__FBSDID
("$FreeBSD: src/bin/kenv/kenv.c,v 1.8.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

29 
	~<sys/ty³s.h
>

30 
	~<sys/sysùl.h
>

31 
	~<”r.h
>

32 
	~<k’v.h
>

33 
	~<¡dio.h
>

34 
	~<¡dlib.h
>

35 
	~<¡ršg.h
>

36 
	~<uni¡d.h
>

38 
u§ge
();

39 
kdum³nv
();

40 
kg‘’v
(*);

41 
k£‹nv
(*, *);

42 
kun£‹nv
(*);

44 
	ghæag
 = 0;

45 
	gqæag
 = 0;

46 
	guæag
 = 0;

49 
	$u§ge
()

51 ()
	`årštf
(
¡d”r
, "%s\n%s\n%s\n",

55 
	`ex™
(1);

56 
	}
}

59 
	$maš
(
¬gc
, **
¬gv
)

61 *
’v
, *
eq
, *
v®
;

62 
ch
, 
”rÜ
;

64 
”rÜ
 = 0;

65 
v®
 = 
NULL
;

66 
’v
 = 
NULL
;

67 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "hqu")) != -1) {

68 
ch
) {

70 
hæag
++;

73 
qæag
++;

76 
uæag
++;

79 
	`u§ge
();

82 
¬gc
 -ğ
İtšd
;

83 
¬gv
 +ğ
İtšd
;

84 ià(
¬gc
 > 0) {

85 
’v
 = 
¬gv
[0];

86 
eq
 = 
	`¡rchr
(
’v
, '=');

87 ià(
eq
 !ğ
NULL
) {

88 *
eq
++ = '\0';

89 
v®
 = 
eq
;

91 
¬gv
++;

92 
¬gc
--;

94 ià(
hæag
 && (
’v
 !ğ
NULL
))

95 
	`u§ge
();

96 ià((
¬gc
 > 0è|| (
uæag
 && (
’v
 =ğ
NULL
)))

97 
	`u§ge
();

98 ià(
’v
 =ğ
NULL
) {

99 
”rÜ
 = 
	`kdum³nv
();

100 ià(
”rÜ
 && !
qæag
)

101 
	`w¬n
("kdumpenv");

102 } ià(
v®
 =ğ
NULL
) {

103 ià(
uæag
) {

104 
”rÜ
 = 
	`kun£‹nv
(
’v
);

105 ià(
”rÜ
 && !
qæag
)

106 
	`w¬nx
("uÇbËØun£ˆ%s", 
’v
);

108 
”rÜ
 = 
	`kg‘’v
(
’v
);

109 ià(
”rÜ
 && !
qæag
)

110 
	`w¬nx
("uÇbËØg‘ %s", 
’v
);

113 
”rÜ
 = 
	`k£‹nv
(
’v
, 
v®
);

114 ià(
”rÜ
 && !
qæag
)

115 
	`w¬nx
("uÇbËØ£ˆ% tØ%s", 
’v
, 
v®
);

117  (
”rÜ
);

118 
	}
}

121 
	$kdum³nv
()

123 *
buf
, *
ı
;

124 
buæ’
, 
’vËn
;

126 
’vËn
 = 
	`k’v
(
KENV_DUMP
, 
NULL
, NULL, 0);

127 ià(
’vËn
 < 0)

130 
buæ’
 = 
’vËn
 * 120 / 100;

131 
buf
 = 
	`m®loc
(
buæ’
 + 1);

132 ià(
buf
 =ğ
NULL
)

134 
	`mem£t
(
buf
, 0, 
buæ’
 + 1);

135 
’vËn
 = 
	`k’v
(
KENV_DUMP
, 
NULL
, 
buf
, 
buæ’
);

136 ià(
’vËn
 < 0) {

137 
	`ä“
(
buf
);

140 ià(
’vËn
 > 
buæ’
)

141 
	`ä“
(
buf
);

146 ; *
buf
 !ğ'\0'; buà+ğ
	`¡¾’
(buf) + 1) {

147 ià(
hæag
) {

148 ià(
	`¡ºcmp
(
buf
, "hint.", 5) != 0)

151 
ı
 = 
	`¡rchr
(
buf
, '=');

152 ià(
ı
 =ğ
NULL
)

154 *
ı
++ = '\0';

155 
	`´štf
("%s=\"%s\"\n", 
buf
, 
ı
);

156 
buf
 = 
ı
;

159 
	}
}

162 
	$kg‘’v
(*
’v
)

164 
buf
[1024];

165 
»t
;

167 
»t
 = 
	`k’v
(
KENV_GET
, 
’v
, 
buf
, (buf));

168 ià(
»t
 == -1)

169  (
»t
);

170 
	`´štf
("%s\n", 
buf
);

172 
	}
}

175 
	$k£‹nv
(*
’v
, *
v®
)

177 
»t
;

179 
»t
 = 
	`k’v
(
KENV_SET
, 
’v
, 
v®
, 
	`¡¾’
(val)+1);

180 ià(
»t
 == 0)

181 
	`´štf
("%s=\"%s\"\n", 
’v
, 
v®
);

182  (
»t
);

183 
	}
}

186 
	$kun£‹nv
(*
’v
)

188 
»t
;

190 
»t
 = 
	`k’v
(
KENV_UNSET
, 
’v
, 
NULL
, 0);

191  (
»t
);

192 
	}
}

	@kill/kill.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)kill.c 8.4 (Berkeley) 4/28/95";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/kill/kill.c,v 1.20.22.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<ùy³.h
>

45 
	~<”r.h
>

46 
	~<”ºo.h
>

47 
	~<sigÇl.h
>

48 
	~<¡dio.h
>

49 
	~<¡dlib.h
>

50 
	~<¡ršg.h
>

52 
nosig
(const *);

53 
´štsigÇls
(
FILE
 *);

54 
sigÇme_to_signum
(const *);

55 
u§ge
();

58 
	$maš
(
¬gc
, *
¬gv
[])

60 
”rÜs
, 
numsig
, 
pid
;

61 *
•
;

63 ià(
¬gc
 < 2)

64 
	`u§ge
();

66 
numsig
 = 
SIGTERM
;

68 
¬gc
--, 
¬gv
++;

69 ià(!
	`¡rcmp
(*
¬gv
, "-l")) {

70 
¬gc
--, 
¬gv
++;

71 ià(
¬gc
 > 1)

72 
	`u§ge
();

73 ià(
¬gc
 == 1) {

74 ià(!
	`isdig™
(**
¬gv
))

75 
	`u§ge
();

76 
numsig
 = 
	`¡¹Ş
(*
¬gv
, &
•
, 10);

77 ià(!**
¬gv
 || *
•
)

78 
	`”rx
(1, "Ëg® sigÇÈnumb”: %s", *
¬gv
);

79 ià(
numsig
 >= 128)

80 
numsig
 -= 128;

81 ià(
numsig
 <ğ0 ||‚umsig >ğ
sys_nsig
)

82 
	`nosig
(*
¬gv
);

83 
	`´štf
("%s\n", 
sys_sigÇme
[
numsig
]);

84 
	`ex™
(0);

86 
	`´štsigÇls
(
¡dout
);

87 
	`ex™
(0);

90 ià(!
	`¡rcmp
(*
¬gv
, "-s")) {

91 
¬gc
--, 
¬gv
++;

92 ià(
¬gc
 < 1) {

93 
	`w¬nx
("option„equires‡n‡rgument -- s");

94 
	`u§ge
();

96 ià(
	`¡rcmp
(*
¬gv
, "0")) {

97 ià((
numsig
 = 
	`sigÇme_to_signum
(*
¬gv
)) < 0)

98 
	`nosig
(*
¬gv
);

100 
numsig
 = 0;

101 
¬gc
--, 
¬gv
++;

102 } ià(**
¬gv
 == '-' && *(*argv + 1) != '-') {

103 ++*
¬gv
;

104 ià(
	`i§Íha
(**
¬gv
)) {

105 ià((
numsig
 = 
	`sigÇme_to_signum
(*
¬gv
)) < 0)

106 
	`nosig
(*
¬gv
);

107 } ià(
	`isdig™
(**
¬gv
)) {

108 
numsig
 = 
	`¡¹Ş
(*
¬gv
, &
•
, 10);

109 ià(!**
¬gv
 || *
•
)

110 
	`”rx
(1, "Ëg® sigÇÈnumb”: %s", *
¬gv
);

111 ià(
numsig
 < 0)

112 
	`nosig
(*
¬gv
);

114 
	`nosig
(*
¬gv
);

115 
¬gc
--, 
¬gv
++;

118 ià(
¬gc
 > 0 && 
	`¡ºcmp
(*
¬gv
, "--", 2) == 0)

119 
¬gc
--, 
¬gv
++;

121 ià(
¬gc
 == 0)

122 
	`u§ge
();

124 
”rÜs
 = 0; 
¬gc
;‡rgc--, 
¬gv
++) {

125 
pid
 = 
	`¡¹Ş
(*
¬gv
, &
•
, 10);

126 ià(!**
¬gv
 || *
•
) {

127 
	`w¬nx
("Ëg®…roûs id: %s", *
¬gv
);

128 
”rÜs
 = 1;

129 } ià(
	`kl
(
pid
, 
numsig
) == -1) {

130 
	`w¬n
("%s", *
¬gv
);

131 
”rÜs
 = 1;

135 
	`ex™
(
”rÜs
);

136 
	}
}

139 
	$sigÇme_to_signum
(cÚ¡ *
sig
)

141 
n
;

143 ià(!
	`¡ºÿ£cmp
(
sig
, "sig", (
size_t
)3))

144 
sig
 += 3;

145 
n
 = 1;‚ < 
sys_nsig
;‚++) {

146 ià(!
	`¡rÿ£cmp
(
sys_sigÇme
[
n
], 
sig
))

147  (
n
);

150 
	}
}

153 
	$nosig
(cÚ¡ *
Çme
)

156 
	`w¬nx
("unknowÀsigÇÈ%s; v®id sigÇls:", 
Çme
);

157 
	`´štsigÇls
(
¡d”r
);

158 
	`ex™
(1);

159 
	}
}

162 
	$´štsigÇls
(
FILE
 *
å
)

164 
n
;

166 
n
 = 1;‚ < 
sys_nsig
;‚++) {

167 ()
	`årštf
(
å
, "%s", 
sys_sigÇme
[
n
]);

168 ià(
n
 =ğ(
sys_nsig
 / 2) ||‚ == (sys_nsig - 1))

169 ()
	`årštf
(
å
, "\n");

171 ()
	`årštf
(
å
, " ");

173 
	}
}

176 
	$u§ge
()

179 ()
	`årštf
(
¡d”r
, "%s\n%s\n%s\n%s\n",

184 
	`ex™
(1);

185 
	}
}

	@ln/ln.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)ln.c 8.2 (Berkeley) 3/31/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/ln/ln.c,v 1.39.2.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/·¿m.h
>

45 
	~<sys/¡©.h
>

47 
	~<”r.h
>

48 
	~<”ºo.h
>

49 
	~<fú.h
>

50 
	~<libg’.h
>

51 
	~<lim™s.h
>

52 
	~<¡dio.h
>

53 
	~<¡dlib.h
>

54 
	~<¡ršg.h
>

55 
	~<uni¡d.h
>

57 
	gfæag
;

58 
	gFæag
;

59 
	ghæag
;

60 
	giæag
;

61 
	gPæag
;

62 
	gsæag
;

63 
	gvæag
;

64 
	gwæag
;

66 
	glškch
;

68 
lšk™
(const *, const *, );

69 
u§ge
();

72 
	$maš
(
¬gc
, *
¬gv
[])

74 
¡©
 
sb
;

75 *
p
, *
rg‘dœ
;

76 
ch
, 
ex™v®
;

83 ià((
p
 = 
	`ršdex
(
¬gv
[0], '/')è=ğ
NULL
)

84 
p
 = 
¬gv
[0];

86 ++
p
;

87 ià(
	`¡rcmp
(
p
, "link") == 0) {

88 
	`g‘İt
(
¬gc
, 
¬gv
, "") != -1)

89 
	`u§ge
();

90 
¬gc
 -ğ
İtšd
;

91 
¬gv
 +ğ
İtšd
;

92 ià(
¬gc
 != 2)

93 
	`u§ge
();

94 
	`ex™
(
	`lšk™
(
¬gv
[0],‡rgv[1], 0));

97 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "FLPfhinsvw")) != -1)

98 
ch
) {

100 
Fæag
 = 1;

103 
Pæag
 = 0;

106 
Pæag
 = 1;

109 
fæag
 = 1;

110 
iæag
 = 0;

111 
wæag
 = 0;

115 
hæag
 = 1;

118 
iæag
 = 1;

119 
fæag
 = 0;

122 
sæag
 = 1;

125 
væag
 = 1;

128 
wæag
 = 1;

132 
	`u§ge
();

135 
¬gv
 +ğ
İtšd
;

136 
¬gc
 -ğ
İtšd
;

138 
lškch
 = 
sæag
 ? '-' : '=';

139 ià(
sæag
 == 0)

140 
Fæag
 = 0;

141 ià(
Fæag
 =ğ1 && 
iæag
 == 0) {

142 
fæag
 = 1;

143 
wæag
 = 0;

146 
¬gc
) {

148 
	`u§ge
();

151 
	`ex™
(
	`lšk™
(
¬gv
[0], ".", 1));

153 
	`ex™
(
	`lšk™
(
¬gv
[0],‡rgv[1], 0));

158 
rg‘dœ
 = 
¬gv
[
¬gc
 - 1];

159 ià(
hæag
 && 
	`l¡©
(
rg‘dœ
, &
sb
è=ğ0 && 
	`S_ISLNK
(sb.
¡_mode
)) {

164 
”ºo
 = 
ENOTDIR
;

165 
	`”r
(1, "%s", 
rg‘dœ
);

167 ià(
	`¡©
(
rg‘dœ
, &
sb
))

168 
	`”r
(1, "%s", 
rg‘dœ
);

169 ià(!
	`S_ISDIR
(
sb
.
¡_mode
))

170 
	`u§ge
();

171 
ex™v®
 = 0; *
¬gv
 !ğ
rg‘dœ
; ++argv)

172 
ex™v®
 |ğ
	`lšk™
(*
¬gv
, 
rg‘dœ
, 1);

173 
	`ex™
(
ex™v®
);

174 
	}
}

181 
	$§medœ’t
(cÚ¡ *
·th1
, cÚ¡ *
·th2
)

183 cÚ¡ *
fe1
, *
fe2
;

184 
·thbuf
[
PATH_MAX
];

185 
¡©
 
sb1
, 
sb2
;

187 ià(
	`¡rcmp
(
·th1
, 
·th2
) == 0)

189 
fe1
 = 
	`¡¼chr
(
·th1
, '/');

190 ià(
fe1
 !ğ
NULL
)

191 
fe1
++;

193 
fe1
 = 
·th1
;

194 
fe2
 = 
	`¡¼chr
(
·th2
, '/');

195 ià(
fe2
 !ğ
NULL
)

196 
fe2
++;

198 
fe2
 = 
·th2
;

199 ià(
	`¡rcmp
(
fe1
, 
fe2
) != 0)

201 ià(
fe1
 - 
·th1
 >ğ
PATH_MAX
 || 
fe2
 - 
·th2
 >= PATH_MAX)

203 ià(
fe1
 =ğ
·th1
)

204 
	`memıy
(
·thbuf
, ".", 2);

206 
	`memıy
(
·thbuf
, 
·th1
, 
fe1
 -…ath1);

207 
·thbuf
[
fe1
 - 
·th1
] = '\0';

209 ià(
	`¡©
(
·thbuf
, &
sb1
) != 0)

211 ià(
fe2
 =ğ
·th2
)

212 
	`memıy
(
·thbuf
, ".", 2);

214 
	`memıy
(
·thbuf
, 
·th2
, 
fe2
 -…ath2);

215 
·thbuf
[
fe2
 - 
·th2
] = '\0';

217 ià(
	`¡©
(
·thbuf
, &
sb2
) != 0)

219  
sb1
.
¡_dev
 =ğ
sb2
.¡_dev && sb1.
¡_šo
 == sb2.st_ino;

220 
	}
}

223 
	$lšk™
(cÚ¡ *
sourû
, cÚ¡ *
rg‘
, 
isdœ
)

225 
¡©
 
sb
;

226 cÚ¡ *
p
;

227 
ch
, 
exi¡s
, 
fœ¡
;

228 
·th
[
PATH_MAX
];

229 
wbuf
[
PATH_MAX
];

230 
bbuf
[
PATH_MAX
];

232 ià(!
sæag
) {

234 ià((
Pæag
 ? 
l¡©
 : 
¡©
)(
sourû
, &
sb
)) {

235 
	`w¬n
("%s", 
sourû
);

239 ià(
	`S_ISDIR
(
sb
.
¡_mode
)) {

240 
”ºo
 = 
EISDIR
;

241 
	`w¬n
("%s", 
sourû
);

250 ià(
isdœ
 ||

251 (
	`l¡©
(
rg‘
, &
sb
è=ğ0 && 
	`S_ISDIR
(sb.
¡_mode
)) ||

252 (!
hæag
 && 
	`¡©
(
rg‘
, &
sb
è=ğ0 && 
	`S_ISDIR
(sb.
¡_mode
))) {

253 ià(
	`¡¾ıy
(
bbuf
, 
sourû
, (bbuf)) >= (bbuf) ||

254 (
p
 = 
	`ba£Çme
(
bbuf
)è=ğ
NULL
 ||

255 
	`¢´štf
(
·th
, Õ©h), "%s/%s", 
rg‘
, 
p
) >=

256 (
ssize_t
)(
·th
)) {

257 
”ºo
 = 
ENAMETOOLONG
;

258 
	`w¬n
("%s", 
sourû
);

261 
rg‘
 = 
·th
;

268 ià(
sæag
 && 
wæag
) {

269 ià(*
sourû
 == '/') {

271 ià(
	`¡©
(
sourû
, &
sb
) != 0)

272 
	`w¬n
("w¬nšg: % šacûssibË", 
sourû
);

279 
	`¡¾ıy
(
bbuf
, 
rg‘
, (bbuf));

280 
p
 = 
	`dœÇme
(
bbuf
);

281 ià(
p
 !ğ
NULL
) {

282 ()
	`¢´štf
(
wbuf
, (wbuf), "%s/%s",

283 
p
, 
sourû
);

284 ià(
	`¡©
(
wbuf
, &
sb
) != 0)

285 
	`w¬n
("w¬nšg: %s", 
sourû
);

293 
exi¡s
 = !
	`l¡©
(
rg‘
, &
sb
);

294 ià(
exi¡s
) {

295 ià(!
sæag
 && 
	`§medœ’t
(
sourû
, 
rg‘
)) {

296 
	`w¬nx
("%s‡nd %s‡rehe same directoryƒntry",

297 
sourû
, 
rg‘
);

305 ià(
fæag
 && 
exi¡s
) {

306 ià(
Fæag
 && 
	`S_ISDIR
(
sb
.
¡_mode
)) {

307 ià(
	`rmdœ
(
rg‘
)) {

308 
	`w¬n
("%s", 
rg‘
);

311 } ià(
	`uÆšk
(
rg‘
)) {

312 
	`w¬n
("%s", 
rg‘
);

315 } ià(
iæag
 && 
exi¡s
) {

316 
	`fæush
(
¡dout
);

317 
	`årštf
(
¡d”r
, "»¶aû %s? ", 
rg‘
);

319 
fœ¡
 = 
ch
 = 
	`g‘ch¬
();

320 
ch
 !ğ'\n' && ch !ğ
EOF
)

321 
ch
 = 
	`g‘ch¬
();

322 ià(
fœ¡
 != 'y' && first != 'Y') {

323 
	`årštf
(
¡d”r
, "not„eplaced\n");

327 ià(
Fæag
 && 
	`S_ISDIR
(
sb
.
¡_mode
)) {

328 ià(
	`rmdœ
(
rg‘
)) {

329 
	`w¬n
("%s", 
rg‘
);

332 } ià(
	`uÆšk
(
rg‘
)) {

333 
	`w¬n
("%s", 
rg‘
);

339 ià(
sæag
 ? 
	`symlšk
(
sourû
, 
rg‘
) :

340 
	`lšk©
(
AT_FDCWD
, 
sourû
, AT_FDCWD, 
rg‘
,

341 
Pæag
 ? 0 : 
AT_SYMLINK_FOLLOW
)) {

342 
	`w¬n
("%s", 
rg‘
);

345 ià(
væag
)

346 ()
	`´štf
("% %c> %s\n", 
rg‘
, 
lškch
, 
sourû
);

348 
	}
}

351 
	$u§ge
()

353 ()
	`årštf
(
¡d”r
, "%s\n%s\n%s\n",

357 
	`ex™
(1);

358 
	}
}

	@ls/cmp.c

34 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)cmp.c 8.1 (Berkeley) 5/31/93";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/ls/cmp.c,v 1.18.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/¡©.h
>

45 
	~<ás.h
>

46 
	~<¡ršg.h
>

48 
	~"ls.h
"

49 
	~"ex‹º.h
"

52 
	$Çmecmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

55  (
	`¡rcŞl
(
a
->
ás_Çme
, 
b
->fts_name));

56 
	}
}

59 
	$»vÇmecmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

62  (
	`¡rcŞl
(
b
->
ás_Çme
, 
a
->fts_name));

63 
	}
}

66 
	$modcmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

69 ià(
b
->
ás_¡©p
->
¡_mtime¥ec
.
tv_£c
 >

70 
a
->
ás_¡©p
->
¡_mtime¥ec
.
tv_£c
)

72 ià(
b
->
ás_¡©p
->
¡_mtime¥ec
.
tv_£c
 <

73 
a
->
ás_¡©p
->
¡_mtime¥ec
.
tv_£c
)

75 ià(
b
->
ás_¡©p
->
¡_mtime¥ec
.
tv_n£c
 >

76 
a
->
ás_¡©p
->
¡_mtime¥ec
.
tv_n£c
)

78 ià(
b
->
ás_¡©p
->
¡_mtime¥ec
.
tv_n£c
 <

79 
a
->
ás_¡©p
->
¡_mtime¥ec
.
tv_n£c
)

81  (
	`¡rcŞl
(
a
->
ás_Çme
, 
b
->fts_name));

82 
	}
}

85 
	$»vmodcmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

88  (
	`modcmp
(
b
, 
a
));

89 
	}
}

92 
	$acccmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

95 ià(
b
->
ás_¡©p
->
¡_©ime¥ec
.
tv_£c
 >

96 
a
->
ás_¡©p
->
¡_©ime¥ec
.
tv_£c
)

98 ià(
b
->
ás_¡©p
->
¡_©ime¥ec
.
tv_£c
 <

99 
a
->
ás_¡©p
->
¡_©ime¥ec
.
tv_£c
)

101 ià(
b
->
ás_¡©p
->
¡_©ime¥ec
.
tv_n£c
 >

102 
a
->
ás_¡©p
->
¡_©ime¥ec
.
tv_n£c
)

104 ià(
b
->
ás_¡©p
->
¡_©ime¥ec
.
tv_n£c
 <

105 
a
->
ás_¡©p
->
¡_©ime¥ec
.
tv_n£c
)

107  (
	`¡rcŞl
(
a
->
ás_Çme
, 
b
->fts_name));

108 
	}
}

111 
	$»vacccmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

114  (
	`acccmp
(
b
, 
a
));

115 
	}
}

118 
	$bœthcmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

121 ià(
b
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_£c
 >

122 
a
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_£c
)

124 ià(
b
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_£c
 <

125 
a
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_£c
)

127 ià(
b
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_n£c
 >

128 
a
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_n£c
)

130 ià(
b
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_n£c
 <

131 
a
->
ás_¡©p
->
¡_bœthtime¥ec
.
tv_n£c
)

133  (
	`¡rcŞl
(
a
->
ás_Çme
, 
b
->fts_name));

134 
	}
}

137 
	$»vbœthcmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

140  (
	`bœthcmp
(
b
, 
a
));

141 
	}
}

144 
	$¡©cmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

147 ià(
b
->
ás_¡©p
->
¡_ùime¥ec
.
tv_£c
 >

148 
a
->
ás_¡©p
->
¡_ùime¥ec
.
tv_£c
)

150 ià(
b
->
ás_¡©p
->
¡_ùime¥ec
.
tv_£c
 <

151 
a
->
ás_¡©p
->
¡_ùime¥ec
.
tv_£c
)

153 ià(
b
->
ás_¡©p
->
¡_ùime¥ec
.
tv_n£c
 >

154 
a
->
ás_¡©p
->
¡_ùime¥ec
.
tv_n£c
)

156 ià(
b
->
ás_¡©p
->
¡_ùime¥ec
.
tv_n£c
 <

157 
a
->
ás_¡©p
->
¡_ùime¥ec
.
tv_n£c
)

159  (
	`¡rcŞl
(
a
->
ás_Çme
, 
b
->fts_name));

160 
	}
}

163 
	$»v¡©cmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

166  (
	`¡©cmp
(
b
, 
a
));

167 
	}
}

170 
	$sizecmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

173 ià(
b
->
ás_¡©p
->
¡_size
 > 
a
->fts_statp->st_size)

175 ià(
b
->
ás_¡©p
->
¡_size
 < 
a
->fts_statp->st_size)

177  (
	`¡rcŞl
(
a
->
ás_Çme
, 
b
->fts_name));

178 
	}
}

181 
	$»vsizecmp
(cÚ¡ 
FTSENT
 *
a
, cÚ¡ FTSENT *
b
)

184  (
	`sizecmp
(
b
, 
a
));

185 
	}
}

	@ls/extern.h

33 
acccmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

34 
»vacccmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

35 
bœthcmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

36 
»vbœthcmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

37 
modcmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

38 
»vmodcmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

39 
Çmecmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

40 
»vÇmecmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

41 
¡©cmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

42 
»v¡©cmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

43 
sizecmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

44 
»vsizecmp
(cÚ¡ 
FTSENT
 *, const FTSENT *);

46 
´štcŞ
(cÚ¡ 
DISPLAY
 *);

47 
´šÚg
(cÚ¡ 
DISPLAY
 *);

48 
´šŠame
(const *);

49 
´štscŞ
(cÚ¡ 
DISPLAY
 *);

50 
´št¡»am
(cÚ¡ 
DISPLAY
 *);

51 
u§ge
();

52 
´n_nÜm®
(const *);

53 
size_t
 
Ën_où®
(const *, );

54 
´n_où®
(const *);

55 
´n_´šbË
(const *);

56 #ifdeà
COLORLS


57 
·r£cŞÜs
(cÚ¡ *
cs
);

58 
cŞÜqu™
();

60 *
ªsi_fgcŞ
;

61 *
ªsi_bgcŞ
;

62 *
ªsi_cŞoff
;

63 *
©Œs_off
;

64 *
’‹r_bŞd
;

66 
‹rmwidth
;

	@ls/ls.c

33 #iâdeà
lšt


34 cÚ¡ 
	gcİyright
[] =

40 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)ls.c 8.5 (Berkeley) 4/2/94";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/ls/ls.c,v 1.86.2.4.6.1 2012/03/03 06:15:13 kensmith Exp $");

47 
	~<sys/ty³s.h
>

48 
	~<sys/¡©.h
>

49 
	~<sys/ioùl.h
>

50 
	~<sys/mac.h
>

52 
	~<dœ’t.h
>

53 
	~<”r.h
>

54 
	~<”ºo.h
>

55 
	~<ás.h
>

56 
	~<g½.h
>

57 
	~<š‰y³s.h
>

58 
	~<lim™s.h
>

59 
	~<loÿË.h
>

60 
	~<pwd.h
>

61 
	~<¡dio.h
>

62 
	~<¡dlib.h
>

63 
	~<¡ršg.h
>

64 
	~<uni¡d.h
>

65 #ifdeà
COLORLS


66 
	~<‹rmÿp.h
>

67 
	~<sigÇl.h
>

70 
	~"ls.h
"

71 
	~"ex‹º.h
"

78 
	#STRBUF_SIZEOF
(
t
è(1 + 
CHAR_BIT
 * Ñè/ 3 + 1)

	)

85 
	#MAKENINES
(
n
) \

87 
štmax_t
 
i
; \

90 
i
 = 1; 
n
 > 0; i *= 10) \

91 
n
--; \

92 
n
 = 
i
 - 1; \

93 } 0)

	)

95 
di¥Ïy
(cÚ¡ 
FTSENT
 *, FTSENT *, );

96 
ma¡”cmp
(cÚ¡ 
FTSENT
 * const *, const FTSENT * const *);

97 
Œav”£
(, **, );

99 (*
´štfú
)(cÚ¡ 
DISPLAY
 *);

100 (*
sÜtfú
)(cÚ¡ 
FTSENT
 *, const FTSENT *);

102 
blocksize
;

103 
‹rmwidth
 = 80;

106 
f_acûs¡ime
;

107 
f_bœthtime
;

108 
f_æags
;

109 
f_humªv®
;

110 
f_šode
;

111 
f_kblocks
;

112 
f_li¡dœ
;

113 
f_li¡dÙ
;

114 
f_nßutodÙ
;

115 
f_lÚgfÜm
;

116 
f_nofŞlow
;

117 
f_nÚ´št
;

118 
f_nosÜt
;

119 
f_nÙabs
;

120 
f_num”icÚly
;

121 
f_où®
;

122 
f_où®_esÿ³
;

123 
f_»cursive
;

124 
f_»v”£sÜt
;

125 
f_£ùime
;

126 
f_sšgËcŞ
;

127 
f_size
;

128 
f_¦ash
;

129 
f_sÜüoss
;

130 
f_¡©u¡ime
;

131 
f_¡»am
;

132 
f_timesÜt
;

133 *
f_timefÜm©
;

134 
f_sizesÜt
;

135 
f_ty³
;

136 
f_wh™eout
;

137 
f_Ïb–
;

138 #ifdeà
COLORLS


139 
f_cŞÜ
;

141 *
ªsi_bgcŞ
;

142 *
ªsi_fgcŞ
;

143 *
ªsi_cŞoff
;

144 *
©Œs_off
;

145 *
’‹r_bŞd
;

148 
rv®
;

151 
	$maš
(
¬gc
, *
¬gv
[])

153 
dÙ
[] = ".", *
dÙav
[] = {dÙ, 
NULL
};

154 
wšsize
 
wš
;

155 
ch
, 
ás_İtiÚs
, 
nÙu£d
;

156 *
p
;

157 #ifdeà
COLORLS


158 
‹rmÿpbuf
[1024];

159 
tÿpbuf
[512];

160 *
bp
 = 
tÿpbuf
;

163 ()
	`£oÿË
(
LC_ALL
, "");

166 ià(
	`i§‰y
(
STDOUT_FILENO
)) {

167 
‹rmwidth
 = 80;

168 ià((
p
 = 
	`g‘’v
("COLUMNS")è!ğ
NULL
 && *p != '\0')

169 
‹rmwidth
 = 
	`©oi
(
p
);

170 ià(
	`ioùl
(
STDOUT_FILENO
, 
TIOCGWINSZ
, &
wš
) != -1 &&

171 
wš
.
ws_cŞ
 > 0)

172 
‹rmwidth
 = 
wš
.
ws_cŞ
;

173 
f_nÚ´št
 = 1;

175 
f_sšgËcŞ
 = 1;

177 
p
 = 
	`g‘’v
("COLUMNS");

178 ià(
p
)

179 
‹rmwidth
 = 
	`©oi
(
p
);

182 
ás_İtiÚs
 = 
FTS_PHYSICAL
;

183 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
,

185 
ch
) {

191 
f_sšgËcŞ
 = 1;

192 
f_lÚgfÜm
 = 0;

193 
f_¡»am
 = 0;

196 
f_nÚ´št
 = 0;

197 
f_où®
 = 1;

198 
f_où®_esÿ³
 = 0;

201 
f_sÜüoss
 = 
f_lÚgfÜm
 = 
f_sšgËcŞ
 = 0;

204 
f_timefÜm©
 = 
İrg
;

207 
f_lÚgfÜm
 = 1;

208 
f_sšgËcŞ
 = 0;

209 
f_¡»am
 = 0;

212 
f_sÜüoss
 = 1;

213 
f_lÚgfÜm
 = 0;

214 
f_sšgËcŞ
 = 0;

218 
f_¡©u¡ime
 = 1;

219 
f_acûs¡ime
 = 0;

220 
f_bœthtime
 = 0;

223 
f_acûs¡ime
 = 1;

224 
f_¡©u¡ime
 = 0;

225 
f_bœthtime
 = 0;

228 
f_bœthtime
 = 1;

229 
f_acûs¡ime
 = 0;

230 
f_¡©u¡ime
 = 0;

233 
f_ty³
 = 1;

234 
f_¦ash
 = 0;

237 
ás_İtiÚs
 |ğ
FTS_COMFOLLOW
;

238 
f_nofŞlow
 = 0;

241 
	`£‹nv
("CLICOLOR", "", 1);

244 
ás_İtiÚs
 &ğ~
FTS_PHYSICAL
;

245 
ás_İtiÚs
 |ğ
FTS_LOGICAL
;

246 
f_nofŞlow
 = 0;

249 
ás_İtiÚs
 &ğ~
FTS_COMFOLLOW
;

250 
ás_İtiÚs
 &ğ~
FTS_LOGICAL
;

251 
ás_İtiÚs
 |ğ
FTS_PHYSICAL
;

252 
f_nofŞlow
 = 1;

255 
f_»cursive
 = 1;

258 
ás_İtiÚs
 |ğ
FTS_SEEDOT
;

261 
f_li¡dÙ
 = 1;

264 
f_nßutodÙ
 = 1;

268 
f_li¡dœ
 = 1;

269 
f_»cursive
 = 0;

272 
f_nosÜt
 = 1;

277 
f_humªv®
 = 1;

280 
f_šode
 = 1;

283 
f_humªv®
 = 0;

284 
f_kblocks
 = 1;

287 
f_¡»am
 = 1;

288 
f_sšgËcŞ
 = 0;

289 
f_lÚgfÜm
 = 0;

292 
f_num”icÚly
 = 1;

295 
f_æags
 = 1;

298 
f_¦ash
 = 1;

299 
f_ty³
 = 1;

302 
f_nÚ´št
 = 1;

303 
f_où®
 = 0;

304 
f_où®_esÿ³
 = 0;

307 
f_»v”£sÜt
 = 1;

310 
f_size
 = 1;

313 
f_£ùime
 = 1;

317 
f_timesÜt
 = 1;

318 
f_sizesÜt
 = 0;

321 
f_sizesÜt
 = 1;

322 
f_timesÜt
 = 0;

325 
f_wh™eout
 = 1;

328 
f_nÚ´št
 = 0;

329 
f_où®
 = 0;

330 
f_où®_esÿ³
 = 1;

333 
f_nÚ´št
 = 0;

334 
f_où®
 = 0;

335 
f_où®_esÿ³
 = 0;

338 
f_Ïb–
 = 1;

342 
	`u§ge
();

345 
¬gc
 -ğ
İtšd
;

346 
¬gv
 +ğ
İtšd
;

349 ià(!
f_li¡dÙ
 && 
	`g‘uid
(è=ğ(
uid_t
)0 && !
f_nßutodÙ
)

350 
f_li¡dÙ
 = 1;

353 ià(
	`g‘’v
("CLICOLOR") &&

354 (
	`i§‰y
(
STDOUT_FILENO
è|| 
	`g‘’v
("CLICOLOR_FORCE")))

355 #ifdeà
COLORLS


356 ià(
	`tg‘’t
(
‹rmÿpbuf
, 
	`g‘’v
("TERM")) == 1) {

357 
ªsi_fgcŞ
 = 
	`tg‘¡r
("AF", &
bp
);

358 
ªsi_bgcŞ
 = 
	`tg‘¡r
("AB", &
bp
);

359 
©Œs_off
 = 
	`tg‘¡r
("me", &
bp
);

360 
’‹r_bŞd
 = 
	`tg‘¡r
("md", &
bp
);

365 
ªsi_cŞoff
 = 
	`tg‘¡r
("İ", &
bp
);

366 ià(!
ªsi_cŞoff
)

367 
ªsi_cŞoff
 = 
	`tg‘¡r
("oc", &
bp
);

368 ià(
ªsi_fgcŞ
 && 
ªsi_bgcŞ
 && 
ªsi_cŞoff
)

369 
f_cŞÜ
 = 1;

372 
	`w¬nx
("color support‚ot compiled in");

375 #ifdeà
COLORLS


376 ià(
f_cŞÜ
) {

382 
f_nÙabs
 = 1;

383 ()
	`sigÇl
(
SIGINT
, 
cŞÜqu™
);

384 ()
	`sigÇl
(
SIGQUIT
, 
cŞÜqu™
);

385 
	`·r£cŞÜs
(
	`g‘’v
("LSCOLORS"));

394 ià(!
f_šode
 && !
f_lÚgfÜm
 && !
f_size
 && !
f_timesÜt
 &&

395 !
f_sizesÜt
 && !
f_ty³


396 #ifdeà
COLORLS


397 && !
f_cŞÜ


400 
ás_İtiÚs
 |ğ
FTS_NOSTAT
;

406 ià(!
f_nofŞlow
 && !
f_lÚgfÜm
 && !
f_li¡dœ
 && !
f_ty³
)

407 
ás_İtiÚs
 |ğ
FTS_COMFOLLOW
;

412 #ifdeà
FTS_WHITEOUT


413 ià(
f_wh™eout
)

414 
ás_İtiÚs
 |ğ
FTS_WHITEOUT
;

418 ià(
f_lÚgfÜm
 || 
f_size
) {

419 ià(
f_kblocks
)

420 
blocksize
 = 2;

422 ()
	`g‘bsize
(&
nÙu£d
, &
blocksize
);

423 
blocksize
 /= 512;

427 ià(
f_»v”£sÜt
) {

428 ià(!
f_timesÜt
 && !
f_sizesÜt
)

429 
sÜtfú
 = 
»vÇmecmp
;

430 ià(
f_sizesÜt
)

431 
sÜtfú
 = 
»vsizecmp
;

432 ià(
f_acûs¡ime
)

433 
sÜtfú
 = 
»vacccmp
;

434 ià(
f_bœthtime
)

435 
sÜtfú
 = 
»vbœthcmp
;

436 ià(
f_¡©u¡ime
)

437 
sÜtfú
 = 
»v¡©cmp
;

439 
sÜtfú
 = 
»vmodcmp
;

441 ià(!
f_timesÜt
 && !
f_sizesÜt
)

442 
sÜtfú
 = 
Çmecmp
;

443 ià(
f_sizesÜt
)

444 
sÜtfú
 = 
sizecmp
;

445 ià(
f_acûs¡ime
)

446 
sÜtfú
 = 
acccmp
;

447 ià(
f_bœthtime
)

448 
sÜtfú
 = 
bœthcmp
;

449 ià(
f_¡©u¡ime
)

450 
sÜtfú
 = 
¡©cmp
;

452 
sÜtfú
 = 
modcmp
;

456 ià(
f_sšgËcŞ
)

457 
´štfú
 = 
´štscŞ
;

458 ià(
f_lÚgfÜm
)

459 
´štfú
 = 
´šÚg
;

460 ià(
f_¡»am
)

461 
´štfú
 = 
´št¡»am
;

463 
´štfú
 = 
´štcŞ
;

465 ià(
¬gc
)

466 
	`Œav”£
(
¬gc
, 
¬gv
, 
ás_İtiÚs
);

468 
	`Œav”£
(1, 
dÙav
, 
ás_İtiÚs
);

469 
	`ex™
(
rv®
);

470 
	}
}

472 
	gouut
;

481 
	$Œav”£
(
¬gc
, *
¬gv
[], 
İtiÚs
)

483 
FTS
 *
á¥
;

484 
FTSENT
 *
p
, *
chp
;

485 
ch_İtiÚs
;

487 ià((
á¥
 =

488 
	`ás_İ’
(
¬gv
, 
İtiÚs
, 
f_nosÜt
 ? 
NULL
 : 
ma¡”cmp
)) == NULL)

489 
	`”r
(1, "fts_open");

495 
chp
 = 
	`ás_chd»n
(
á¥
, 0);

496 ià(
chp
 !ğ
NULL
)

497 
	`di¥Ïy
(
NULL
, 
chp
, 
İtiÚs
);

498 ià(
f_li¡dœ
)

505 
ch_İtiÚs
 = !
f_»cursive
 && !
f_Ïb–
 &&

506 
İtiÚs
 & 
FTS_NOSTAT
 ? 
FTS_NAMEONLY
 : 0;

508 (
p
 = 
	`ás_»ad
(
á¥
)è!ğ
NULL
)

509 
p
->
ás_šfo
) {

510 
FTS_DC
:

511 
	`w¬nx
("%s: dœeùÜy cau£ ¨cyşe", 
p
->
ás_Çme
);

513 
FTS_DNR
:

514 
FTS_ERR
:

515 
	`w¬nx
("%s: %s", 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

516 
rv®
 = 1;

518 
FTS_D
:

519 ià(
p
->
ás_Ëv–
 !ğ
FTS_ROOTLEVEL
 &&

520 
p
->
ás_Çme
[0] =ğ'.' && !
f_li¡dÙ
)

528 ià(
ouut
) {

529 
	`putch¬
('\n');

530 ()
	`´šŠame
(
p
->
ás_·th
);

531 
	`puts
(":");

532 } ià(
¬gc
 > 1) {

533 ()
	`´šŠame
(
p
->
ás_·th
);

534 
	`puts
(":");

535 
ouut
 = 1;

537 
chp
 = 
	`ás_chd»n
(
á¥
, 
ch_İtiÚs
);

538 
	`di¥Ïy
(
p
, 
chp
, 
İtiÚs
);

540 ià(!
f_»cursive
 && 
chp
 !ğ
NULL
)

541 ()
	`ás_£t
(
á¥
, 
p
, 
FTS_SKIP
);

546 ià(
”ºo
)

547 
	`”r
(1, "fts_read");

548 
	}
}

556 
	$di¥Ïy
(cÚ¡ 
FTSENT
 *
p
, FTSENT *
li¡
, 
İtiÚs
)

558 
¡©
 *
¥
;

559 
DISPLAY
 
d
;

560 
FTSENT
 *
cur
;

561 
NAMES
 *
Å
;

562 
off_t
 
maxsize
;

563 
maxblock
;

564 
u_lÚg
 
btÙ®
, 
Ïb–¡¾’
, 
maxšode
, 
maxËn
, 
maxÆšk
;

565 
u_lÚg
 
maxÏb–¡r
;

566 
u_št
 
dev¡¾’
;

567 
maxæags
;

568 
gid_t
 
maxgroup
;

569 
uid_t
 
maxu£r
;

570 
size_t
 
æ’
, 
uËn
, 
gËn
;

571 *
š™max
;

572 
’Œ›s
, 
Ãed¡©s
;

573 cÚ¡ *
u£r
, *
group
;

574 *
æags
, *
Ïb–¡r
 = 
NULL
;

575 
buf
[
	`STRBUF_SIZEOF
(
u_quad_t
) + 1];

576 
ngroup
[
	`STRBUF_SIZEOF
(
uid_t
) + 1];

577 
nu£r
[
	`STRBUF_SIZEOF
(
gid_t
) + 1];

579 
Ãed¡©s
 = 
f_šode
 || 
f_lÚgfÜm
 || 
f_size
;

580 
æ’
 = 0;

581 
btÙ®
 = 0;

582 
š™max
 = 
	`g‘’v
("LS_COLWIDTHS");

584 
maxÏb–¡r
 = 
maxblock
 = 
maxšode
 = 
maxËn
 = 
maxÆšk
 =

585 
maxu£r
 = 
maxgroup
 = 
maxæags
 = 
maxsize
 = 0;

586 ià(
š™max
 !ğ
NULL
 && *initmax != '\0') {

587 *
š™max2
, *
jš™max
;

588 
nš™max
;

591 
jš™max
 = 
	`m®loc
(
	`¡¾’
(
š™max
) * 2 + 2);

592 ià(
jš™max
 =ğ
NULL
)

593 
	`”r
(1, "malloc");

594 
š™max2
 = 
jš™max
;

595 ià(*
š™max
 == ':')

596 
	`¡rıy
(
š™max2
, "0:"), initmax2 += 2;

598 *
š™max2
++ = *
š™max
, *initmax2 = '\0';

599 
š™max
++; *initmax != '\0'; initmax++) {

600 ià(
š™max
[-1] == ':' && initmax[0] == ':') {

601 *
š™max2
++ = '0';

602 *
š™max2
++ = 
š™max
[0];

603 
š™max2
[1] = '\0';

605 *
š™max2
++ = 
š™max
[0];

606 
š™max2
[1] = '\0';

609 ià(
š™max2
[-1] == ':')

610 
	`¡rıy
(
š™max2
, "0");

612 
nš™max
 = 
	`ssÿnf
(
jš™max
,

614 &
maxšode
, &
maxblock
, &
maxÆšk
, &
maxu£r
,

615 &
maxgroup
, &
maxæags
, &
maxsize
, &
maxËn
, &
maxÏb–¡r
);

616 
f_nÙabs
 = 1;

617 
nš™max
) {

619 
maxšode
 = 0;

622 
maxblock
 = 0;

625 
maxÆšk
 = 0;

628 
maxu£r
 = 0;

631 
maxgroup
 = 0;

634 
maxæags
 = 0;

637 
maxsize
 = 0;

640 
maxËn
 = 0;

643 
maxÏb–¡r
 = 0;

645 #ifdeà
COLORLS


646 ià(!
f_cŞÜ
)

648 
f_nÙabs
 = 0;

653 
	`MAKENINES
(
maxšode
);

654 
	`MAKENINES
(
maxblock
);

655 
	`MAKENINES
(
maxÆšk
);

656 
	`MAKENINES
(
maxsize
);

657 
	`ä“
(
jš™max
);

659 
dev¡¾’
 = 0;

660 
æags
 = 
NULL
;

661 
cur
 = 
li¡
, 
’Œ›s
 = 0; cur; cu¸ğcur->
ás_lšk
) {

662 ià(
cur
->
ás_šfo
 =ğ
FTS_ERR
 || cur->ás_šfØ=ğ
FTS_NS
) {

663 
	`w¬nx
("%s: %s",

664 
cur
->
ás_Çme
, 
	`¡»¼Ü
(cur->
ás_”ºo
));

665 
cur
->
ás_numb”
 = 
NO_PRINT
;

666 
rv®
 = 1;

673 ià(
p
 =ğ
NULL
) {

675 ià(
cur
->
ás_šfo
 =ğ
FTS_D
 && !
f_li¡dœ
) {

676 
cur
->
ás_numb”
 = 
NO_PRINT
;

681 ià(
cur
->
ás_Çme
[0] =ğ'.' && !
f_li¡dÙ
) {

682 
cur
->
ás_numb”
 = 
NO_PRINT
;

686 ià(
cur
->
ás_Çm–’
 > 
maxËn
)

687 
maxËn
 = 
cur
->
ás_Çm–’
;

688 ià(
f_où®
 || 
f_où®_esÿ³
) {

689 
u_lÚg
 
t
 = 
	`Ën_où®
(
cur
->
ás_Çme
, cur->
ás_Çm–’
);

691 ià(
t
 > 
maxËn
)

692 
maxËn
 = 
t
;

694 ià(
Ãed¡©s
) {

695 
¥
 = 
cur
->
ás_¡©p
;

696 ià(
¥
->
¡_blocks
 > 
maxblock
)

697 
maxblock
 = 
¥
->
¡_blocks
;

698 ià(
¥
->
¡_šo
 > 
maxšode
)

699 
maxšode
 = 
¥
->
¡_šo
;

700 ià(
¥
->
¡_Æšk
 > 
maxÆšk
)

701 
maxÆšk
 = 
¥
->
¡_Æšk
;

702 ià(
¥
->
¡_size
 > 
maxsize
)

703 
maxsize
 = 
¥
->
¡_size
;

705 
btÙ®
 +ğ
¥
->
¡_blocks
;

706 ià(
f_lÚgfÜm
) {

707 ià(
f_num”icÚly
) {

708 ()
	`¢´štf
(
nu£r
, (nuser),

709 "%u", 
¥
->
¡_uid
);

710 ()
	`¢´štf
(
ngroup
, (ngroup),

711 "%u", 
¥
->
¡_gid
);

712 
u£r
 = 
nu£r
;

713 
group
 = 
ngroup
;

715 
u£r
 = 
	`u£r_äom_uid
(
¥
->
¡_uid
, 0);

716 
group
 = 
	`group_äom_gid
(
¥
->
¡_gid
, 0);

718 ià((
uËn
 = 
	`¡¾’
(
u£r
)è> 
maxu£r
)

719 
maxu£r
 = 
uËn
;

720 ià((
gËn
 = 
	`¡¾’
(
group
)è> 
maxgroup
)

721 
maxgroup
 = 
gËn
;

722 ià(
f_æags
) {

723 
æags
 = 
	`fæag¡o¡r
(
¥
->
¡_æags
);

724 ià(
æags
 !ğ
NULL
 && *flags == '\0') {

725 
	`ä“
(
æags
);

726 
æags
 = 
	`¡rdup
("-");

728 ià(
æags
 =ğ
NULL
)

729 
	`”r
(1, "fflagstostr");

730 
æ’
 = 
	`¡¾’
(
æags
);

731 ià(
æ’
 > (
size_t
)
maxæags
)

732 
maxæags
 = 
æ’
;

734 
æ’
 = 0;

735 
Ïb–¡r
 = 
NULL
;

736 ià(
f_Ïb–
) {

737 
Çme
[
PATH_MAX
 + 1];

738 
mac_t
 
Ïb–
;

739 
”rÜ
;

741 
”rÜ
 = 
	`mac_´•¬e_fe_Ïb–
(&
Ïb–
);

742 ià(
”rÜ
 == -1) {

743 
	`w¬n
("MAC†abel for %s/%s",

744 
cur
->
ás_·»Á
->
ás_·th
,

745 
cur
->
ás_Çme
);

746 
Ïb–_out
;

749 ià(
cur
->
ás_Ëv–
 =ğ
FTS_ROOTLEVEL
)

750 
	`¢´štf
(
Çme
, (name),

751 "%s", 
cur
->
ás_Çme
);

753 
	`¢´štf
(
Çme
, (name),

754 "%s/%s", 
cur
->
ás_·»Á
->

755 
ás_acı©h
, 
cur
->
ás_Çme
);

757 ià(
İtiÚs
 & 
FTS_LOGICAL
)

758 
”rÜ
 = 
	`mac_g‘_fe
(
Çme
,

759 
Ïb–
);

761 
”rÜ
 = 
	`mac_g‘_lšk
(
Çme
,

762 
Ïb–
);

763 ià(
”rÜ
 == -1) {

764 
	`w¬n
("MAC†abel for %s/%s",

765 
cur
->
ás_·»Á
->
ás_·th
,

766 
cur
->
ás_Çme
);

767 
	`mac_ä“
(
Ïb–
);

768 
Ïb–_out
;

771 
”rÜ
 = 
	`mac_to_‹xt
(
Ïb–
,

772 &
Ïb–¡r
);

773 ià(
”rÜ
 == -1) {

774 
	`w¬n
("MAC†abel for %s/%s",

775 
cur
->
ás_·»Á
->
ás_·th
,

776 
cur
->
ás_Çme
);

777 
	`mac_ä“
(
Ïb–
);

778 
Ïb–_out
;

780 
	`mac_ä“
(
Ïb–
);

781 
Ïb–_out
:

782 ià(
Ïb–¡r
 =ğ
NULL
)

783 
Ïb–¡r
 = 
	`¡rdup
("-");

784 
Ïb–¡¾’
 = 
	`¡¾’
(
Ïb–¡r
);

785 ià(
Ïb–¡¾’
 > 
maxÏb–¡r
)

786 
maxÏb–¡r
 = 
Ïb–¡¾’
;

788 
Ïb–¡¾’
 = 0;

790 ià((
Å
 = 
	`m®loc
((
NAMES
è+ 
Ïb–¡¾’
 +

791 
uËn
 + 
gËn
 + 
æ’
 + 4)è=ğ
NULL
)

792 
	`”r
(1, "malloc");

794 
Å
->
u£r
 = &Å->
d©a
[0];

795 ()
	`¡rıy
(
Å
->
u£r
, user);

796 
Å
->
group
 = &Å->
d©a
[
uËn
 + 1];

797 ()
	`¡rıy
(
Å
->
group
, group);

799 ià((
	`S_ISCHR
(
¥
->
¡_mode
) ||

800 
	`S_ISBLK
(
¥
->
¡_mode
)) &&

801 
dev¡¾’
 < 
DEVSTR_HEX_LEN
) {

802 ià(
	`mšÜ
(
¥
->
¡_rdev
) > 255 ||

803 
	`mšÜ
(
¥
->
¡_rdev
) < 0)

804 
dev¡¾’
 = 
DEVSTR_HEX_LEN
;

806 
dev¡¾’
 = 
DEVSTR_LEN
;

809 ià(
f_æags
) {

810 
Å
->
æags
 = &Å->
d©a
[
uËn
 + 
gËn
 + 2];

811 ()
	`¡rıy
(
Å
->
æags
, flags);

812 
	`ä“
(
æags
);

814 ià(
f_Ïb–
) {

815 
Å
->
Ïb–
 = &Å->
d©a
[
uËn
 + 
gËn
 + 2

816 + (
f_æags
 ? 
æ’
 + 1 : 0)];

817 ()
	`¡rıy
(
Å
->
Ïb–
, 
Ïb–¡r
);

818 
	`ä“
(
Ïb–¡r
);

820 
cur
->
ás_poš‹r
 = 
Å
;

823 ++
’Œ›s
;

832 ià(!
’Œ›s
 && (!(
f_lÚgfÜm
 || 
f_size
è|| 
p
 =ğ
NULL
))

835 
d
.
li¡
 =†ist;

836 
d
.
’Œ›s
 =ƒntries;

837 
d
.
maxËn
 = maxlen;

838 ià(
Ãed¡©s
) {

839 
d
.
btÙ®
 = btotal;

840 ()
	`¢´štf
(
buf
, (buf), "%lu", 
maxblock
);

841 
d
.
s_block
 = 
	`¡¾’
(
buf
);

842 
d
.
s_æags
 = 
maxæags
;

843 
d
.
s_Ïb–
 = 
maxÏb–¡r
;

844 
d
.
s_group
 = 
maxgroup
;

845 ()
	`¢´štf
(
buf
, (buf), "%lu", 
maxšode
);

846 
d
.
s_šode
 = 
	`¡¾’
(
buf
);

847 ()
	`¢´štf
(
buf
, (buf), "%lu", 
maxÆšk
);

848 
d
.
s_Æšk
 = 
	`¡¾’
(
buf
);

849 ià(
f_humªv®
)

850 
d
.
s_size
 = 
HUMANVALSTR_LEN
;

852 ()
	`¢´štf
(
buf
, (buf), "%ju", 
maxsize
);

853 
d
.
s_size
 = 
	`¡¾’
(
buf
);

855 ià(
d
.
s_size
 < 
dev¡¾’
)

856 
d
.
s_size
 = 
dev¡¾’
;

857 
d
.
s_u£r
 = 
maxu£r
;

859 
	`´štfú
(&
d
);

860 
ouut
 = 1;

862 ià(
f_lÚgfÜm
)

863 
cur
 = 
li¡
; cur; cu¸ğcur->
ás_lšk
)

864 
	`ä“
(
cur
->
ás_poš‹r
);

865 
	}
}

874 
	$ma¡”cmp
(cÚ¡ 
FTSENT
 * cÚ¡ *
a
, cÚ¡ FTSENT * cÚ¡ *
b
)

876 
a_šfo
, 
b_šfo
;

878 
a_šfo
 = (*
a
)->
ás_šfo
;

879 ià(
a_šfo
 =ğ
FTS_ERR
)

881 
b_šfo
 = (*
b
)->
ás_šfo
;

882 ià(
b_šfo
 =ğ
FTS_ERR
)

885 ià(
a_šfo
 =ğ
FTS_NS
 || 
b_šfo
 == FTS_NS)

886  (
	`Çmecmp
(*
a
, *
b
));

888 ià(
a_šfo
 !ğ
b_šfo
 &&

889 (*
a
)->
ás_Ëv–
 =ğ
FTS_ROOTLEVEL
 && !
f_li¡dœ
) {

890 ià(
a_šfo
 =ğ
FTS_D
)

892 ià(
b_šfo
 =ğ
FTS_D
)

895  (
	`sÜtfú
(*
a
, *
b
));

896 
	}
}

	@ls/ls.h

36 
	#NO_PRINT
 1

	)

38 
	#HUMANVALSTR_LEN
 5

	)

39 
	#DEVSTR_LEN
 8

	)

40 
	#DEVSTR_HEX_LEN
 15

	)

42 
blocksize
;

44 
f_acûs¡ime
;

45 
f_bœthtime
;

46 
f_æags
;

47 
f_humªv®
;

48 
f_Ïb–
;

49 
f_šode
;

50 
f_lÚgfÜm
;

51 
f_où®
;

52 
f_où®_esÿ³
;

53 
f_nÚ´št
;

54 
f_£ùime
;

55 
f_size
;

56 
f_¦ash
;

57 
f_sÜüoss
;

58 
f_¡©u¡ime
;

59 *
f_timefÜm©
;

60 
f_nÙabs
;

61 
f_ty³
;

62 #ifdeà
COLORLS


63 
f_cŞÜ
;

67 
FTSENT
 *
	mli¡
;

68 
u_lÚg
 
	mbtÙ®
;

69 
	m’Œ›s
;

70 
	mmaxËn
;

71 
u_št
 
	ms_block
;

72 
u_št
 
	ms_æags
;

73 
u_št
 
	ms_Ïb–
;

74 
u_št
 
	ms_group
;

75 
u_št
 
	ms_šode
;

76 
u_št
 
	ms_Æšk
;

77 
u_št
 
	ms_size
;

78 
u_št
 
	ms_u£r
;

79 } 
	tDISPLAY
;

82 *
	mu£r
;

83 *
	mgroup
;

84 *
	mæags
;

85 *
	mÏb–
;

86 
	md©a
[1];

87 } 
	tNAMES
;

	@ls/print.c

34 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)print.c 8.4 (Berkeley) 4/17/94";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/ls/print.c,v 1.78.2.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/·¿m.h
>

42 
	~<sys/¡©.h
>

43 
	~<sys/aş.h
>

45 
	~<”r.h
>

46 
	~<”ºo.h
>

47 
	~<ás.h
>

48 
	~<Ïngšfo.h
>

49 
	~<libut.h
>

50 
	~<¡dio.h
>

51 
	~<¡dlib.h
>

52 
	~<¡ršg.h
>

53 
	~<time.h
>

54 
	~<uni¡d.h
>

55 #ifdeà
COLORLS


56 
	~<ùy³.h
>

57 
	~<‹rmÿp.h
>

58 
	~<sigÇl.h
>

61 
	~"ls.h
"

62 
	~"ex‹º.h
"

64 
´šÇme
(cÚ¡ 
FTSENT
 *, 
u_lÚg
, u_long);

65 
´štdev
(
size_t
, 
dev_t
);

66 
´ššk
(cÚ¡ 
FTSENT
 *);

67 
´š‰ime
(
time_t
);

68 
´š‰y³
(
u_št
);

69 
´štsize
(
size_t
, 
off_t
);

70 #ifdeà
COLORLS


71 
’dcŞÜ
();

72 
cŞÜty³
(
mode_t
);

74 
aşmode
(*, cÚ¡ 
FTSENT
 *);

76 
	#IS_NOPRINT
(
p
è(Õ)->
ás_numb”
 =ğ
NO_PRINT
)

	)

78 #ifdeà
COLORLS


80 
	eCŞÜs
 {

81 
	mC_DIR
,

82 
	mC_LNK
,

83 
	mC_SOCK
,

84 
	mC_FIFO
,

85 
	mC_EXEC
,

86 
	mC_BLK
,

87 
	mC_CHR
,

88 
	mC_SUID
,

89 
	mC_SGID
,

90 
	mC_WSDIR
,

92 
	mC_WDIR
,

94 
	mC_NUMCOLORS


95 } 
	tCŞÜs
;

97 cÚ¡ *
	gdefcŞÜs
 = "exfxcxdxbxegedabagacad";

101 
	mnum
[2];

102 
	mbŞd
;

103 } 
	gcŞÜs
[
C_NUMCOLORS
];

107 
	$´štscŞ
(cÚ¡ 
DISPLAY
 *
dp
)

109 
FTSENT
 *
p
;

111 
p
 = 
dp
->
li¡
;…;… =…->
ás_lšk
) {

112 ià(
	`IS_NOPRINT
(
p
))

114 ()
	`´šÇme
(
p
, 
dp
->
s_šode
, dp->
s_block
);

115 ()
	`putch¬
('\n');

117 
	}
}

123 
	$´šŠame
(cÚ¡ *
Çme
)

125 ià(
f_où®
 || 
f_où®_esÿ³
)

126  
	`´n_où®
(
Çme
);

127 ià(
f_nÚ´št
)

128  
	`´n_´šbË
(
Çme
);

130  
	`´n_nÜm®
(
Çme
);

131 
	}
}

134 
	$´šÚg
(cÚ¡ 
DISPLAY
 *
dp
)

136 
¡©
 *
¥
;

137 
FTSENT
 *
p
;

138 
NAMES
 *
Å
;

139 
buf
[20];

140 #ifdeà
COLORLS


141 
cŞÜ_´š‹d
 = 0;

144 ià((
dp
->
li¡
 =ğ
NULL
 || dp->li¡->
ás_Ëv–
 !ğ
FTS_ROOTLEVEL
) &&

145 (
f_lÚgfÜm
 || 
f_size
)) {

146 ()
	`´štf
("tÙ® %lu\n", 
	`howmªy
(
dp
->
btÙ®
, 
blocksize
));

149 
p
 = 
dp
->
li¡
;…;… =…->
ás_lšk
) {

150 ià(
	`IS_NOPRINT
(
p
))

152 
¥
 = 
p
->
ás_¡©p
;

153 ià(
f_šode
)

154 ()
	`´štf
("%*lu ", 
dp
->
s_šode
, (
u_lÚg
)
¥
->
¡_šo
);

155 ià(
f_size
)

156 ()
	`´štf
("%*jd ",

157 
dp
->
s_block
, 
	`howmªy
(
¥
->
¡_blocks
, 
blocksize
));

158 
	`¡rmode
(
¥
->
¡_mode
, 
buf
);

159 
	`aşmode
(
buf
, 
p
);

160 
Å
 = 
p
->
ás_poš‹r
;

161 ()
	`´štf
("% %*u %-*  %-*  ", 
buf
, 
dp
->
s_Æšk
,

162 
¥
->
¡_Æšk
, 
dp
->
s_u£r
, 
Å
->
u£r
, dp->
s_group
,

163 
Å
->
group
);

164 ià(
f_æags
)

165 ()
	`´štf
("%-* ", 
dp
->
s_æags
, 
Å
->
æags
);

166 ià(
f_Ïb–
)

167 ()
	`´štf
("%-* ", 
dp
->
s_Ïb–
, 
Å
->
Ïb–
);

168 ià(
	`S_ISCHR
(
¥
->
¡_mode
è|| 
	`S_ISBLK
(sp->st_mode))

169 
	`´štdev
(
dp
->
s_size
, 
¥
->
¡_rdev
);

171 
	`´štsize
(
dp
->
s_size
, 
¥
->
¡_size
);

172 ià(
f_acûs¡ime
)

173 
	`´š‰ime
(
¥
->
¡_©ime
);

174 ià(
f_bœthtime
)

175 
	`´š‰ime
(
¥
->
¡_bœthtime
);

176 ià(
f_¡©u¡ime
)

177 
	`´š‰ime
(
¥
->
¡_ùime
);

179 
	`´š‰ime
(
¥
->
¡_mtime
);

180 #ifdeà
COLORLS


181 ià(
f_cŞÜ
)

182 
cŞÜ_´š‹d
 = 
	`cŞÜty³
(
¥
->
¡_mode
);

184 ()
	`´šŠame
(
p
->
ás_Çme
);

185 #ifdeà
COLORLS


186 ià(
f_cŞÜ
 && 
cŞÜ_´š‹d
)

187 
	`’dcŞÜ
(0);

189 ià(
f_ty³
)

190 ()
	`´š‰y³
(
¥
->
¡_mode
);

191 ià(
	`S_ISLNK
(
¥
->
¡_mode
))

192 
	`´ššk
(
p
);

193 ()
	`putch¬
('\n');

195 
	}
}

198 
	$´št¡»am
(cÚ¡ 
DISPLAY
 *
dp
)

200 
FTSENT
 *
p
;

201 
chút
;

203 
p
 = 
dp
->
li¡
, 
chút
 = 0;…;… =…->
ás_lšk
) {

204 ià(
p
->
ás_numb”
 =ğ
NO_PRINT
)

207 ià(
	`¡¾’
(
p
->
ás_Çme
è+ 
chút
 +

208 (
p
->
ás_lšk
 ? 2 : 0è>ğ()
‹rmwidth
) {

209 
	`putch¬
('\n');

210 
chút
 = 0;

212 
chút
 +ğ
	`´šÇme
(
p
, 
dp
->
s_šode
, dp->
s_block
);

213 ià(
p
->
ás_lšk
) {

214 
	`´štf
(", ");

215 
chút
 += 2;

218 ià(
chút
)

219 
	`putch¬
('\n');

220 
	}
}

223 
	$´štcŞ
(cÚ¡ 
DISPLAY
 *
dp
)

225 
FTSENT
 **
¬¿y
;

226 
Ï¡’Œ›s
 = -1;

227 
FTSENT
 *
p
;

228 
FTSENT
 **
Ç¼ay
;

229 
ba£
;

230 
chút
;

231 
út
;

232 
cŞ
;

233 
cŞwidth
;

234 
’dcŞ
;

235 
num
;

236 
numcŞs
;

237 
numrows
;

238 
row
;

239 
bwidth
;

241 ià(
f_nÙabs
)

242 
bwidth
 = 1;

244 
bwidth
 = 8;

250 ià(
dp
->
’Œ›s
 > 
Ï¡’Œ›s
) {

251 ià((
Ç¼ay
 =

252 
	`»®loc
(
¬¿y
, 
dp
->
’Œ›s
 * (
FTSENT
 *))è=ğ
NULL
) {

253 
	`w¬n
(
NULL
);

254 
	`´štscŞ
(
dp
);

257 
Ï¡’Œ›s
 = 
dp
->
’Œ›s
;

258 
¬¿y
 = 
Ç¼ay
;

260 
p
 = 
dp
->
li¡
, 
num
 = 0;…;… =…->
ás_lšk
)

261 ià(
p
->
ás_numb”
 !ğ
NO_PRINT
)

262 
¬¿y
[
num
++] = 
p
;

264 
cŞwidth
 = 
dp
->
maxËn
;

265 ià(
f_šode
)

266 
cŞwidth
 +ğ
dp
->
s_šode
 + 1;

267 ià(
f_size
)

268 
cŞwidth
 +ğ
dp
->
s_block
 + 1;

269 ià(
f_ty³
)

270 
cŞwidth
 += 1;

272 
cŞwidth
 = (cŞwidth + 
bwidth
) & ~(tabwidth - 1);

273 ià(
‹rmwidth
 < 2 * 
cŞwidth
) {

274 
	`´štscŞ
(
dp
);

277 
numcŞs
 = 
‹rmwidth
 / 
cŞwidth
;

278 
numrows
 = 
num
 / 
numcŞs
;

279 ià(
num
 % 
numcŞs
)

280 ++
numrows
;

282 ià((
dp
->
li¡
 =ğ
NULL
 || dp->li¡->
ás_Ëv–
 !ğ
FTS_ROOTLEVEL
) &&

283 (
f_lÚgfÜm
 || 
f_size
)) {

284 ()
	`´štf
("tÙ® %lu\n", 
	`howmªy
(
dp
->
btÙ®
, 
blocksize
));

287 
ba£
 = 0;

288 
row
 = 0;„ow < 
numrows
; ++row) {

289 
’dcŞ
 = 
cŞwidth
;

290 ià(!
f_sÜüoss
)

291 
ba£
 = 
row
;

292 
cŞ
 = 0, 
chút
 = 0; cŞ < 
numcŞs
; ++col) {

293 
chút
 +ğ
	`´šÇme
(
¬¿y
[
ba£
], 
dp
->
s_šode
,

294 
dp
->
s_block
);

295 ià(
f_sÜüoss
)

296 
ba£
++;

298 
ba£
 +ğ
numrows
;

299 ià(
ba£
 >ğ
num
)

301 (
út
 = ((
chút
 + 
bwidth
) & ~(tabwidth - 1)))

302 <ğ
’dcŞ
) {

303 ià(
f_sÜüoss
 && 
cŞ
 + 1 >ğ
numcŞs
)

305 ()
	`putch¬
(
f_nÙabs
 ? ' ' : '\t');

306 
chút
 = 
út
;

308 
’dcŞ
 +ğ
cŞwidth
;

310 ()
	`putch¬
('\n');

312 
	}
}

319 
	$´šÇme
(cÚ¡ 
FTSENT
 *
p
, 
u_lÚg
 
šodef›ld
, u_lÚg 
sizef›ld
)

321 
¡©
 *
¥
;

322 
chút
;

323 #ifdeà
COLORLS


324 
cŞÜ_´š‹d
 = 0;

327 
¥
 = 
p
->
ás_¡©p
;

328 
chút
 = 0;

329 ià(
f_šode
)

330 
chút
 +ğ
	`´štf
("%*lu ", ()
šodef›ld
, (
u_lÚg
)
¥
->
¡_šo
);

331 ià(
f_size
)

332 
chút
 +ğ
	`´štf
("%*jd ",

333 ()
sizef›ld
, 
	`howmªy
(
¥
->
¡_blocks
, 
blocksize
));

334 #ifdeà
COLORLS


335 ià(
f_cŞÜ
)

336 
cŞÜ_´š‹d
 = 
	`cŞÜty³
(
¥
->
¡_mode
);

338 
chút
 +ğ
	`´šŠame
(
p
->
ás_Çme
);

339 #ifdeà
COLORLS


340 ià(
f_cŞÜ
 && 
cŞÜ_´š‹d
)

341 
	`’dcŞÜ
(0);

343 ià(
f_ty³
)

344 
chút
 +ğ
	`´š‰y³
(
¥
->
¡_mode
);

345  (
chút
);

346 
	}
}

352 
	$´štdev
(
size_t
 
width
, 
dev_t
 
dev
)

354 
buf
[
DEVSTR_HEX_LEN
 + 1];

356 ià(
	`mšÜ
(
dev
) > 255 || minor(dev) < 0)

357 ()
	`¢´štf
(
buf
, (buf), "%3d, 0x%08x",

358 
	`majÜ
(
dev
), (
u_št
)
	`mšÜ
(dev));

360 ()
	`¢´štf
(
buf
, (buf), "%3d, %3d",

361 
	`majÜ
(
dev
), 
	`mšÜ
(dev));

363 ()
	`´štf
("%* ", (
u_št
)
width
, 
buf
);

364 
	}
}

367 
	$´š‰ime
(
time_t
 
áime
)

369 
lÚg¡ršg
[80];

370 
time_t
 
now
 = 0;

371 cÚ¡ *
fÜm©
;

372 
d_fœ¡
 = -1;

374 ià(
d_fœ¡
 < 0)

375 
d_fœ¡
 = (*
	`Æ_Ïngšfo
(
D_MD_ORDER
) == 'd');

376 ià(
now
 == 0)

377 
now
 = 
	`time
(
NULL
);

379 
	#SIXMONTHS
 ((365 / 2è* 86400)

	)

380 ià(
f_timefÜm©
)

381 
fÜm©
 = 
f_timefÜm©
;

382 ià(
f_£ùime
)

384 
fÜm©
 = 
d_fœ¡
 ? "%e %b %T %Y" : "%b %e %T %Y";

385 ià(
áime
 + 
SIXMONTHS
 > 
now
 && ftime <‚ow + SIXMONTHS)

387 
fÜm©
 = 
d_fœ¡
 ? "%e %b %R" : "%b %e %R";

390 
fÜm©
 = 
d_fœ¡
 ? "%e %b %Y" : "%b %e %Y";

391 
	`¡ráime
(
lÚg¡ršg
, ÖÚg¡ršg), 
fÜm©
, 
	`loÿÉime
(&
áime
));

392 
	`åuts
(
lÚg¡ršg
, 
¡dout
);

393 
	`åutc
(' ', 
¡dout
);

394 
	}
}

397 
	$´š‰y³
(
u_št
 
mode
)

400 ià(
f_¦ash
) {

401 ià((
mode
 & 
S_IFMT
è=ğ
S_IFDIR
) {

402 ()
	`putch¬
('/');

408 
mode
 & 
S_IFMT
) {

409 
S_IFDIR
:

410 ()
	`putch¬
('/');

412 
S_IFIFO
:

413 ()
	`putch¬
('|');

415 
S_IFLNK
:

416 ()
	`putch¬
('@');

418 
S_IFSOCK
:

419 ()
	`putch¬
('=');

421 
S_IFWHT
:

422 ()
	`putch¬
('%');

427 ià(
mode
 & (
S_IXUSR
 | 
S_IXGRP
 | 
S_IXOTH
)) {

428 ()
	`putch¬
('*');

432 
	}
}

434 #ifdeà
COLORLS


436 
	$putch
(
c
)

438 ()
	`putch¬
(
c
);

440 
	}
}

443 
	$wr™ech
(
c
)

445 
tmp
 = ()
c
;

447 ()
	`wr™e
(
STDOUT_FILENO
, &
tmp
, 1);

449 
	}
}

452 
	$´štcŞÜ
(
CŞÜs
 
c
)

454 *
ªsi£q
;

456 ià(
cŞÜs
[
c
].
bŞd
)

457 
	`uts
(
’‹r_bŞd
, 1, 
putch
);

459 ià(
cŞÜs
[
c
].
num
[0] != -1) {

460 
ªsi£q
 = 
	`tgÙo
(
ªsi_fgcŞ
, 0, 
cŞÜs
[
c
].
num
[0]);

461 ià(
ªsi£q
)

462 
	`uts
(
ªsi£q
, 1, 
putch
);

464 ià(
cŞÜs
[
c
].
num
[1] != -1) {

465 
ªsi£q
 = 
	`tgÙo
(
ªsi_bgcŞ
, 0, 
cŞÜs
[
c
].
num
[1]);

466 ià(
ªsi£q
)

467 
	`uts
(
ªsi£q
, 1, 
putch
);

469 
	}
}

472 
	$’dcŞÜ
(
sig
)

474 
	`uts
(
ªsi_cŞoff
, 1, 
sig
 ? 
wr™ech
 : 
putch
);

475 
	`uts
(
©Œs_off
, 1, 
sig
 ? 
wr™ech
 : 
putch
);

476 
	}
}

479 
	$cŞÜty³
(
mode_t
 
mode
)

481 
mode
 & 
S_IFMT
) {

482 
S_IFDIR
:

483 ià(
mode
 & 
S_IWOTH
)

484 ià(
mode
 & 
S_ISTXT
)

485 
	`´štcŞÜ
(
C_WSDIR
);

487 
	`´štcŞÜ
(
C_WDIR
);

489 
	`´štcŞÜ
(
C_DIR
);

491 
S_IFLNK
:

492 
	`´štcŞÜ
(
C_LNK
);

494 
S_IFSOCK
:

495 
	`´štcŞÜ
(
C_SOCK
);

497 
S_IFIFO
:

498 
	`´štcŞÜ
(
C_FIFO
);

500 
S_IFBLK
:

501 
	`´štcŞÜ
(
C_BLK
);

503 
S_IFCHR
:

504 
	`´štcŞÜ
(
C_CHR
);

508 ià(
mode
 & (
S_IXUSR
 | 
S_IXGRP
 | 
S_IXOTH
)) {

509 ià(
mode
 & 
S_ISUID
)

510 
	`´štcŞÜ
(
C_SUID
);

511 ià(
mode
 & 
S_ISGID
)

512 
	`´štcŞÜ
(
C_SGID
);

514 
	`´štcŞÜ
(
C_EXEC
);

518 
	}
}

521 
	$·r£cŞÜs
(cÚ¡ *
cs
)

523 
i
;

524 
j
;

525 
size_t
 
Ën
;

526 
c
[2];

527 
Ëgacy_w¬n
 = 0;

529 ià(
cs
 =ğ
NULL
)

530 
cs
 = "";

531 
Ën
 = 
	`¡¾’
(
cs
);

532 
i
 = 0; i < ()
C_NUMCOLORS
; i++) {

533 
cŞÜs
[
i
].
bŞd
 = 0;

535 ià(
Ën
 <ğ2 * (
size_t
)
i
) {

536 
c
[0] = 
defcŞÜs
[2 * 
i
];

537 
c
[1] = 
defcŞÜs
[2 * 
i
 + 1];

539 
c
[0] = 
cs
[2 * 
i
];

540 
c
[1] = 
cs
[2 * 
i
 + 1];

542 
j
 = 0; j < 2; j++) {

544 ià(
c
[
j
] >= '0' && c[j] <= '7') {

545 
cŞÜs
[
i
].
num
[
j
] = 
c
[j] - '0';

546 ià(!
Ëgacy_w¬n
) {

547 
	`w¬nx
("LSCOLORS should use "

551 
Ëgacy_w¬n
 = 1;

552 } ià(
c
[
j
] >= 'a' && c[j] <= 'h')

553 
cŞÜs
[
i
].
num
[
j
] = 
c
[j] - 'a';

554 ià(
c
[
j
] >= 'A' && c[j] <= 'H') {

555 
cŞÜs
[
i
].
num
[
j
] = 
c
[j] - 'A';

556 
cŞÜs
[
i
].
bŞd
 = 1;

557 } ià(
	`tŞow”
(()
c
[
j
]) == 'x')

558 
cŞÜs
[
i
].
num
[
j
] = -1;

560 
	`w¬nx
("invalid character '%c' in LSCOLORS"

561 "ƒnv v¬", 
c
[
j
]);

562 
cŞÜs
[
i
].
num
[
j
] = -1;

566 
	}
}

569 
	$cŞÜqu™
(
sig
)

571 
	`’dcŞÜ
(
sig
);

573 ()
	`sigÇl
(
sig
, 
SIG_DFL
);

574 ()
	`kl
(
	`g‘pid
(), 
sig
);

575 
	}
}

580 
	$´ššk
(cÚ¡ 
FTSENT
 *
p
)

582 
ÊkËn
;

583 
Çme
[
MAXPATHLEN
 + 1];

584 
·th
[
MAXPATHLEN
 + 1];

586 ià(
p
->
ás_Ëv–
 =ğ
FTS_ROOTLEVEL
)

587 ()
	`¢´štf
(
Çme
, Òame), "%s", 
p
->
ás_Çme
);

589 ()
	`¢´štf
(
Çme
, (name),

590 "%s/%s", 
p
->
ás_·»Á
->
ás_acı©h
,…->
ás_Çme
);

591 ià((
ÊkËn
 = 
	`»adlšk
(
Çme
, 
·th
, (path) - 1)) == -1) {

592 ()
	`årštf
(
¡d”r
, "\Æs: %s: %s\n", 
Çme
, 
	`¡»¼Ü
(
”ºo
));

595 
·th
[
ÊkËn
] = '\0';

596 ()
	`´štf
(" -> ");

597 ()
	`´šŠame
(
·th
);

598 
	}
}

601 
	$´štsize
(
size_t
 
width
, 
off_t
 
by‹s
)

604 ià(
f_humªv®
) {

609 
buf
[
HUMANVALSTR_LEN
 - 1 + 1];

611 
	`humªize_numb”
(
buf
, (buf), (
št64_t
)
by‹s
, "",

612 
HN_AUTOSCALE
, 
HN_B
 | 
HN_NOSPACE
 | 
HN_DECIMAL
);

613 ()
	`´štf
("%* ", (
u_št
)
width
, 
buf
);

615 ()
	`´štf
("%*jd ", (
u_št
)
width
, 
by‹s
);

616 
	}
}

623 
	$aşmode
(*
buf
, cÚ¡ 
FTSENT
 *
p
)

625 
Çme
[
MAXPATHLEN
 + 1];

626 
»t
, 
ŒivŸl
;

627 
dev_t
 
´evious_dev
 = 
NODEV
;

628 
suµÜts_aşs
 = -1;

629 
ty³
 = 
ACL_TYPE_ACCESS
;

630 
aş_t
 
çş
;

636 ià(
	`S_ISCHR
(
p
->
ás_¡©p
->
¡_mode
è|| 
	`S_ISBLK
(p->fts_statp->st_mode) ||

637 
	`S_ISWHT
(
p
->
ás_¡©p
->
¡_mode
))

640 ià(
´evious_dev
 =ğ
p
->
ás_¡©p
->
¡_dev
 && 
suµÜts_aşs
 == 0)

643 ià(
p
->
ás_Ëv–
 =ğ
FTS_ROOTLEVEL
)

644 
	`¢´štf
(
Çme
, Òame), "%s", 
p
->
ás_Çme
);

646 
	`¢´štf
(
Çme
, (name), "%s/%s",

647 
p
->
ás_·»Á
->
ás_acı©h
,…->
ás_Çme
);

649 ià(
´evious_dev
 !ğ
p
->
ás_¡©p
->
¡_dev
) {

650 
´evious_dev
 = 
p
->
ás_¡©p
->
¡_dev
;

651 
suµÜts_aşs
 = 0;

653 
»t
 = 
	`Í©hcÚf
(
Çme
, 
_PC_ACL_NFS4
);

654 ià(
»t
 > 0) {

655 
ty³
 = 
ACL_TYPE_NFS4
;

656 
suµÜts_aşs
 = 1;

657 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

658 
	`w¬n
("%s", 
Çme
);

661 ià(
suµÜts_aşs
 == 0) {

662 
»t
 = 
	`Í©hcÚf
(
Çme
, 
_PC_ACL_EXTENDED
);

663 ià(
»t
 > 0) {

664 
ty³
 = 
ACL_TYPE_ACCESS
;

665 
suµÜts_aşs
 = 1;

666 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

667 
	`w¬n
("%s", 
Çme
);

672 ià(
suµÜts_aşs
 == 0)

674 
çş
 = 
	`aş_g‘_lšk_Å
(
Çme
, 
ty³
);

675 ià(
çş
 =ğ
NULL
) {

676 
	`w¬n
("%s", 
Çme
);

679 ià(
	`aş_is_ŒivŸl_Å
(
çş
, &
ŒivŸl
)) {

680 
	`aş_ä“
(
çş
);

681 
	`w¬n
("%s", 
Çme
);

684 ià(!
ŒivŸl
)

685 
buf
[10] = '+';

686 
	`aş_ä“
(
çş
);

687 
	}
}

	@ls/util.c

34 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)util.c 8.3 (Berkeley) 4/2/94";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/ls/util.c,v 1.41.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/ty³s.h
>

42 
	~<sys/¡©.h
>

44 
	~<ùy³.h
>

45 
	~<”r.h
>

46 
	~<ás.h
>

47 
	~<lim™s.h
>

48 
	~<¡dio.h
>

49 
	~<¡dlib.h
>

50 
	~<¡ršg.h
>

51 
	~<wch¬.h
>

52 
	~<wùy³.h
>

54 
	~"ls.h
"

55 
	~"ex‹º.h
"

58 
	$´n_nÜm®
(cÚ¡ *
s
)

60 
mb¡©e_t
 
mbs
;

61 
wch¬_t
 
wc
;

62 
i
, 
n
;

63 
size_t
 
ş’
;

65 
	`mem£t
(&
mbs
, 0, (mbs));

66 
n
 = 0;

67 (
ş’
 = 
	`mb¹owc
(&
wc
, 
s
, 
MB_LEN_MAX
, &
mbs
)) != 0) {

68 ià(
ş’
 =ğ(
size_t
)-2) {

69 
n
 +ğ
	`´štf
("%s", 
s
);

72 ià(
ş’
 =ğ(
size_t
)-1) {

73 
	`mem£t
(&
mbs
, 0, (mbs));

74 
	`putch¬
(()*
s
);

75 
s
++;

76 
n
++;

79 
i
 = 0; i < ()
ş’
; i++)

80 
	`putch¬
(()
s
[
i
]);

81 
s
 +ğ
ş’
;

82 ià(
	`isw´št
(
wc
))

83 
n
 +ğ
	`wcwidth
(
wc
);

85  (
n
);

86 
	}
}

89 
	$´n_´šbË
(cÚ¡ *
s
)

91 
mb¡©e_t
 
mbs
;

92 
wch¬_t
 
wc
;

93 
i
, 
n
;

94 
size_t
 
ş’
;

96 
	`mem£t
(&
mbs
, 0, (mbs));

97 
n
 = 0;

98 (
ş’
 = 
	`mb¹owc
(&
wc
, 
s
, 
MB_LEN_MAX
, &
mbs
)) != 0) {

99 ià(
ş’
 =ğ(
size_t
)-1) {

100 
	`putch¬
('?');

101 
s
++;

102 
n
++;

103 
	`mem£t
(&
mbs
, 0, (mbs));

106 ià(
ş’
 =ğ(
size_t
)-2) {

107 
	`putch¬
('?');

108 
n
++;

111 ià(!
	`isw´št
(
wc
)) {

112 
	`putch¬
('?');

113 
s
 +ğ
ş’
;

114 
n
++;

117 
i
 = 0; i < ()
ş’
; i++)

118 
	`putch¬
(()
s
[
i
]);

119 
s
 +ğ
ş’
;

120 
n
 +ğ
	`wcwidth
(
wc
);

122  (
n
);

123 
	}
}

138 
size_t


139 
	$Ën_où®
(cÚ¡ *
s
, 
Ën
)

141 
mb¡©e_t
 
mbs
;

142 
wch¬_t
 
wc
;

143 
size_t
 
ş’
, 
r
;

145 
	`mem£t
(&
mbs
, 0, (mbs));

146 
r
 = 0;

147 
Ën
 !ğ0 && (
ş’
 = 
	`mb¹owc
(&
wc
, 
s
,†’, &
mbs
)) != 0) {

148 ià(
ş’
 =ğ(
size_t
)-1) {

149 
r
 += 4;

150 
s
++;

151 
Ën
--;

152 
	`mem£t
(&
mbs
, 0, (mbs));

155 ià(
ş’
 =ğ(
size_t
)-2) {

156 
r
 +ğ4 * 
Ën
;

159 ià(
	`isw´št
(
wc
))

160 
r
++;

162 
r
 +ğ4 * 
ş’
;

163 
s
 +ğ
ş’
;

165  (
r
);

166 
	}
}

169 
	$´n_où®
(cÚ¡ *
s
)

171 cÚ¡ 
esc
[] = "\\\\\"\"\aa\bb\ff\nn\rr\tt\vv";

172 cÚ¡ *
p
;

173 
mb¡©e_t
 
mbs
;

174 
wch¬_t
 
wc
;

175 
size_t
 
ş’
;

176 
ch
;

177 
goodch¬
, 
i
, 
Ën
, 
´’
;

179 
	`mem£t
(&
mbs
, 0, (mbs));

180 
Ën
 = 0;

181 (
ş’
 = 
	`mb¹owc
(&
wc
, 
s
, 
MB_LEN_MAX
, &
mbs
)) != 0) {

182 
goodch¬
 = 
ş’
 !ğ(
size_t
)-1 && clen != (size_t)-2;

183 ià(
goodch¬
 && 
	`isw´št
(
wc
è&& wø!ğ
L
'\"' && wc != L'\\') {

184 
i
 = 0; i < ()
ş’
; i++)

185 
	`putch¬
(()
s
[
i
]);

186 
Ën
 +ğ
	`wcwidth
(
wc
);

187 } ià(
goodch¬
 && 
f_où®_esÿ³
 && 
wc
 >= 0 &&

188 
wc
 <ğ(
wch¬_t
)
UCHAR_MAX
 &&

189 (
p
 = 
	`¡rchr
(
esc
, ()
wc
)è!ğ
NULL
) {

190 
	`putch¬
('\\');

191 
	`putch¬
(
p
[1]);

192 
Ën
 += 2;

194 ià(
goodch¬
)

195 
´’
 = 
ş’
;

196 ià(
ş’
 =ğ(
size_t
)-1)

197 
´’
 = 1;

199 
´’
 = 
	`¡¾’
(
s
);

200 
i
 = 0; i < 
´’
; i++) {

201 
ch
 = ()
s
[
i
];

202 
	`putch¬
('\\');

203 
	`putch¬
('0' + (
ch
 >> 6));

204 
	`putch¬
('0' + ((
ch
 >> 3) & 7));

205 
	`putch¬
('0' + (
ch
 & 7));

206 
Ën
 += 4;

209 ià(
ş’
 =ğ(
size_t
)-2)

211 ià(
ş’
 =ğ(
size_t
)-1) {

212 
	`mem£t
(&
mbs
, 0, (mbs));

213 
s
++;

215 
s
 +ğ
ş’
;

217  (
Ën
);

218 
	}
}

221 
	$u§ge
()

223 ()
	`årštf
(
¡d”r
,

224 #ifdeà
COLORLS


230 
	`ex™
(1);

231 
	}
}

	@mkdir/mkdir.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)mkdir.c 8.2 (Berkeley) 1/25/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/mkdir/mkdir.c,v 1.33.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/ty³s.h
>

45 
	~<sys/¡©.h
>

47 
	~<”r.h
>

48 
	~<”ºo.h
>

49 
	~<libg’.h
>

50 
	~<¡dio.h
>

51 
	~<¡dlib.h
>

52 
	~<¡ršg.h
>

53 
	~<sy£x™s.h
>

54 
	~<uni¡d.h
>

56 
bud
(*, 
mode_t
);

57 
u§ge
();

59 
	gvæag
;

62 
	$maš
(
¬gc
, *
¬gv
[])

64 
ch
, 
ex™v®
, 
sucûss
, 
pæag
;

65 
mode_t
 
omode
;

66 *
£t
 = 
NULL
;

67 *
mode
;

69 
omode
 = 
pæag
 = 0;

70 
mode
 = 
NULL
;

71 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "m:pv")) != -1)

72 
ch
) {

74 
mode
 = 
İrg
;

77 
pæag
 = 1;

80 
væag
 = 1;

84 
	`u§ge
();

87 
¬gc
 -ğ
İtšd
;

88 
¬gv
 +ğ
İtšd
;

89 ià(
¬gv
[0] =ğ
NULL
)

90 
	`u§ge
();

92 ià(
mode
 =ğ
NULL
) {

93 
omode
 = 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
;

95 ià((
£t
 = 
	`£tmode
(
mode
)è=ğ
NULL
)

96 
	`”rx
(1, "šv®id fmode: %s", 
mode
);

97 
omode
 = 
	`g‘mode
(
£t
, 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
);

98 
	`ä“
(
£t
);

101 
ex™v®
 = 0; *
¬gv
 !ğ
NULL
; ++argv) {

102 ià(
pæag
) {

103 
sucûss
 = 
	`bud
(*
¬gv
, 
omode
);

104 } ià(
	`mkdœ
(*
¬gv
, 
omode
) < 0) {

105 ià(
”ºo
 =ğ
ENOTDIR
 ||ƒ¼nØ=ğ
ENOENT
)

106 
	`w¬n
("%s", 
	`dœÇme
(*
¬gv
));

108 
	`w¬n
("%s", *
¬gv
);

109 
sucûss
 = 0;

111 
sucûss
 = 1;

112 ià(
væag
)

113 ()
	`´štf
("%s\n", *
¬gv
);

115 ià(!
sucûss
)

116 
ex™v®
 = 1;

125 ià(
sucûss
 =ğ1 && 
mode
 !ğ
NULL
 && 
	`chmod
(*
¬gv
, 
omode
) == -1) {

126 
	`w¬n
("%s", *
¬gv
);

127 
ex™v®
 = 1;

130 
	`ex™
(
ex™v®
);

131 
	}
}

139 
	$bud
(*
·th
, 
mode_t
 
omode
)

141 
¡©
 
sb
;

142 
mode_t
 
numask
, 
oumask
;

143 
fœ¡
, 
Ï¡
, 
»tv®
;

144 *
p
;

146 
p
 = 
·th
;

147 
oumask
 = 0;

148 
»tv®
 = 1;

149 ià(
p
[0] == '/')

150 ++
p
;

151 
fœ¡
 = 1, 
Ï¡
 = 0; !Ï¡ ; ++
p
) {

152 ià(
p
[0] == '\0')

153 
Ï¡
 = 1;

154 ià(
p
[0] != '/')

156 *
p
 = '\0';

157 ià(!
Ï¡
 && 
p
[1] == '\0')

158 
Ï¡
 = 1;

159 ià(
fœ¡
) {

172 
oumask
 = 
	`umask
(0);

173 
numask
 = 
oumask
 & ~(
S_IWUSR
 | 
S_IXUSR
);

174 ()
	`umask
(
numask
);

175 
fœ¡
 = 0;

177 ià(
Ï¡
)

178 ()
	`umask
(
oumask
);

179 ià(
	`mkdœ
(
·th
, 
Ï¡
 ? 
omode
 : 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
) < 0) {

180 ià(
”ºo
 =ğ
EEXIST
 ||ƒ¼nØ=ğ
EISDIR
) {

181 ià(
	`¡©
(
·th
, &
sb
) < 0) {

182 
	`w¬n
("%s", 
·th
);

183 
»tv®
 = 0;

185 } ià(!
	`S_ISDIR
(
sb
.
¡_mode
)) {

186 ià(
Ï¡
)

187 
”ºo
 = 
EEXIST
;

189 
”ºo
 = 
ENOTDIR
;

190 
	`w¬n
("%s", 
·th
);

191 
»tv®
 = 0;

194 ià(
Ï¡
)

195 
»tv®
 = 2;

197 
	`w¬n
("%s", 
·th
);

198 
»tv®
 = 0;

201 } ià(
væag
)

202 
	`´štf
("%s\n", 
·th
);

203 ià(!
Ï¡
)

204 *
p
 = '/';

206 ià(!
fœ¡
 && !
Ï¡
)

207 ()
	`umask
(
oumask
);

208  (
»tv®
);

209 
	}
}

212 
	$u§ge
()

215 ()
	`årštf
(
¡d”r
,

217 
	`ex™
 (
EX_USAGE
);

218 
	}
}

	@mv/mv.c

34 #iâdeà
lšt


35 cÚ¡ 
	gcİyright
[] =

40 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)mv.c 8.2 (Berkeley) 4/2/94";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/mv/mv.c,v 1.51.2.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

47 
	~<sys/ty³s.h
>

48 
	~<sys/aş.h
>

49 
	~<sys/·¿m.h
>

50 
	~<sys/time.h
>

51 
	~<sys/wa™.h
>

52 
	~<sys/¡©.h
>

53 
	~<sys/mouÁ.h
>

55 
	~<”r.h
>

56 
	~<”ºo.h
>

57 
	~<fú.h
>

58 
	~<g½.h
>

59 
	~<lim™s.h
>

60 
	~<·ths.h
>

61 
	~<pwd.h
>

62 
	~<¡dio.h
>

63 
	~<¡dlib.h
>

64 
	~<¡ršg.h
>

65 
	~<sy£x™s.h
>

66 
	~<uni¡d.h
>

69 
	#EXEC_FAILED
 127

	)

71 
	gfæg
, 
	giæg
, 
	gnæg
, 
	gvæg
;

73 
cİy
(const *, const *);

74 
do_move
(const *, const *);

75 
ç¡cİy
(cÚ¡ *, cÚ¡ *, 
¡©
 *);

76 
u§ge
();

77 
´e£rve_fd_aşs
(
sourû_fd
, 
de¡_fd
, cÚ¡ *
sourû_·th
,

78 cÚ¡ *
de¡_·th
);

81 
	$maš
(
¬gc
, *
¬gv
[])

83 
size_t
 
ba£Ën
, 
Ën
;

84 
rv®
;

85 *
p
, *
’dp
;

86 
¡©
 
sb
;

87 
ch
;

88 
·th
[
PATH_MAX
];

90 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "finv")) != -1)

91 
ch
) {

93 
iæg
 = 1;

94 
fæg
 = 
næg
 = 0;

97 
fæg
 = 1;

98 
iæg
 = 
næg
 = 0;

101 
næg
 = 1;

102 
fæg
 = 
iæg
 = 0;

105 
væg
 = 1;

108 
	`u§ge
();

110 
¬gc
 -ğ
İtšd
;

111 
¬gv
 +ğ
İtšd
;

113 ià(
¬gc
 < 2)

114 
	`u§ge
();

120 ià(
	`¡©
(
¬gv
[
¬gc
 - 1], &
sb
è|| !
	`S_ISDIR
(sb.
¡_mode
)) {

121 ià(
¬gc
 > 2)

122 
	`u§ge
();

123 
	`ex™
(
	`do_move
(
¬gv
[0],‡rgv[1]));

127 ià(
	`¡¾’
(
¬gv
[
¬gc
 - 1]è> (
·th
) - 1)

128 
	`”rx
(1, "%s: de¡š©iÚ…©hÇmtoØlÚg", *
¬gv
);

129 ()
	`¡rıy
(
·th
, 
¬gv
[
¬gc
 - 1]);

130 
ba£Ën
 = 
	`¡¾’
(
·th
);

131 
’dp
 = &
·th
[
ba£Ën
];

132 ià(!
ba£Ën
 || *(
’dp
 - 1) != '/') {

133 *
’dp
++ = '/';

134 ++
ba£Ën
;

136 
rv®
 = 0; --
¬gc
; ++
¬gv
) {

141 
p
 = *
¬gv
 + 
	`¡¾’
(*argv);

142 
p
 !ğ*
¬gv
 &&…[-1] == '/')

143 --
p
;

144 
p
 !ğ*
¬gv
 &&…[-1] != '/')

145 --
p
;

147 ià((
ba£Ën
 + (
Ën
 = 
	`¡¾’
(
p
))è>ğ
PATH_MAX
) {

148 
	`w¬nx
("%s: de¡š©iÚ…©hÇmtoØlÚg", *
¬gv
);

149 
rv®
 = 1;

151 
	`memmove
(
’dp
, 
p
, (
size_t
)
Ën
 + 1);

152 ià(
	`do_move
(*
¬gv
, 
·th
))

153 
rv®
 = 1;

156 
	`ex™
(
rv®
);

157 
	}
}

160 
	$do_move
(cÚ¡ *
äom
, cÚ¡ *
to
)

162 
¡©
 
sb
;

163 
ask
, 
ch
, 
fœ¡
;

164 
mod•
[15];

171 ià(!
fæg
 && !
	`acûss
(
to
, 
F_OK
)) {

174 ià(
	`l¡©
(
äom
, &
sb
) == -1) {

175 
	`w¬n
("%s", 
äom
);

179 
	#YESNO
 "(y/À[n]è"

	)

180 
ask
 = 0;

181 ià(
næg
) {

182 ià(
væg
)

183 
	`´štf
("% nÙ ov”wr™‹n\n", 
to
);

185 } ià(
iæg
) {

186 ()
	`årštf
(
¡d”r
, "ov”wr™%s? %s", 
to
, 
YESNO
);

187 
ask
 = 1;

188 } ià(
	`acûss
(
to
, 
W_OK
è&& !
	`¡©
Ño, &
sb
)) {

189 
	`¡rmode
(
sb
.
¡_mode
, 
mod•
);

190 ()
	`årštf
(
¡d”r
, "override %s%s%s/%s for %s? %s",

191 
mod•
 + 1, modep[9] == ' ' ? "" : " ",

192 
	`u£r_äom_uid
(()
sb
.
¡_uid
, 0),

193 
	`group_äom_gid
(()
sb
.
¡_gid
, 0), 
to
, 
YESNO
);

194 
ask
 = 1;

196 ià(
ask
) {

197 
fœ¡
 = 
ch
 = 
	`g‘ch¬
();

198 
ch
 !ğ'\n' && ch !ğ
EOF
)

199 
ch
 = 
	`g‘ch¬
();

200 ià(
fœ¡
 != 'y' && first != 'Y') {

201 ()
	`årštf
(
¡d”r
, "not overwritten\n");

211 ià(!
	`»Çme
(
äom
, 
to
)) {

212 ià(
væg
)

213 
	`´štf
("% -> %s\n", 
äom
, 
to
);

217 ià(
”ºo
 =ğ
EXDEV
) {

218 
¡©fs
 
sfs
;

219 
·th
[
PATH_MAX
];

225 ià(
	`l¡©
(
äom
, &
sb
) == -1) {

226 
	`w¬n
("%s", 
äom
);

229 ià(!
	`S_ISLNK
(
sb
.
¡_mode
)) {

231 ià(
	`»®·th
(
äom
, 
·th
è=ğ
NULL
) {

232 
	`w¬n
("ÿÂÙ„esŞv%s: %s", 
äom
, 
·th
);

235 ià(!
	`¡©fs
(
·th
, &
sfs
) &&

236 !
	`¡rcmp
(
·th
, 
sfs
.
f_mÁÚÇme
)) {

237 
	`w¬nx
("cannot„ename‡ mount…oint");

242 
	`w¬n
("»Çm% tØ%s", 
äom
, 
to
);

251 ià(
	`l¡©
(
äom
, &
sb
)) {

252 
	`w¬n
("%s", 
äom
);

255  (
	`S_ISREG
(
sb
.
¡_mode
) ?

256 
	`ç¡cİy
(
äom
, 
to
, &
sb
è: 
	`cİy
(from,o));

257 
	}
}

260 
	$ç¡cİy
(cÚ¡ *
äom
, cÚ¡ *
to
, 
¡©
 *
sbp
)

262 
timev®
 
tv®
[2];

263 
u_št
 
bËn
;

264 *
bp
;

265 
mode_t
 
Şdmode
;

266 
Ä—d
, 
äom_fd
, 
to_fd
;

268 ià((
äom_fd
 = 
	`İ’
(
äom
, 
O_RDONLY
, 0)) < 0) {

269 
	`w¬n
("%s", 
äom
);

272 ià(
bËn
 < 
sbp
->
¡_blksize
) {

273 ià(
bp
 !ğ
NULL
)

274 
	`ä“
(
bp
);

275 ià((
bp
 = 
	`m®loc
((
size_t
)
sbp
->
¡_blksize
)è=ğ
NULL
) {

276 
bËn
 = 0;

277 
	`w¬nx
("malloc failed");

280 
bËn
 = 
sbp
->
¡_blksize
;

282 (
to_fd
 =

283 
	`İ’
(
to
, 
O_CREAT
 | 
O_EXCL
 | 
O_TRUNC
 | 
O_WRONLY
, 0)) < 0) {

284 ià(
”ºo
 =ğ
EEXIST
 && 
	`uÆšk
(
to
) == 0)

286 
	`w¬n
("%s", 
to
);

287 ()
	`şo£
(
äom_fd
);

290 (
Ä—d
 = 
	`»ad
(
äom_fd
, 
bp
, (
size_t
)
bËn
)) > 0)

291 ià(
	`wr™e
(
to_fd
, 
bp
, (
size_t
)
Ä—d
) !=‚read) {

292 
	`w¬n
("%s", 
to
);

293 
”r
;

295 ià(
Ä—d
 < 0) {

296 
	`w¬n
("%s", 
äom
);

297 
”r
: ià(
	`uÆšk
(
to
))

298 
	`w¬n
("%s:„emove", 
to
);

299 ()
	`şo£
(
äom_fd
);

300 ()
	`şo£
(
to_fd
);

304 
Şdmode
 = 
sbp
->
¡_mode
 & 
ALLPERMS
;

305 ià(
	`fchown
(
to_fd
, 
sbp
->
¡_uid
, sbp->
¡_gid
)) {

306 
	`w¬n
("%s: s‘ owÃr/grou°(was: %lu/%lu)", 
to
,

307 (
u_lÚg
)
sbp
->
¡_uid
, (u_lÚg)sbp->
¡_gid
);

308 ià(
Şdmode
 & (
S_ISUID
 | 
S_ISGID
)) {

309 
	`w¬nx
(

311 
to
, 
Şdmode
);

312 
sbp
->
¡_mode
 &ğ~(
S_ISUID
 | 
S_ISGID
);

315 ià(
	`fchmod
(
to_fd
, 
sbp
->
¡_mode
))

316 
	`w¬n
("%s: s‘ mod(was: 0%03o)", 
to
, 
Şdmode
);

322 
	`´e£rve_fd_aşs
(
äom_fd
, 
to_fd
, 
äom
, 
to
);

323 ()
	`şo£
(
äom_fd
);

331 
”ºo
 = 0;

332 ià(
	`fchæags
(
to_fd
, (
u_lÚg
)
sbp
->
¡_æags
))

333 ià(
”ºo
 !ğ
EOPNOTSUPP
 || 
sbp
->
¡_æags
 != 0)

334 
	`w¬n
("%s: s‘ fÏg (was: 0%07o)", 
to
, 
sbp
->
¡_æags
);

336 
tv®
[0].
tv_£c
 = 
sbp
->
¡_©ime
;

337 
tv®
[1].
tv_£c
 = 
sbp
->
¡_mtime
;

338 
tv®
[0].
tv_u£c
 =val[1].tv_usec = 0;

339 ià(
	`utimes
(
to
, 
tv®
))

340 
	`w¬n
("%s: s‘imes", 
to
);

342 ià(
	`şo£
(
to_fd
)) {

343 
	`w¬n
("%s", 
to
);

347 ià(
	`uÆšk
(
äom
)) {

348 
	`w¬n
("%s:„emove", 
äom
);

351 ià(
væg
)

352 
	`´štf
("% -> %s\n", 
äom
, 
to
);

354 
	}
}

357 
	$cİy
(cÚ¡ *
äom
, cÚ¡ *
to
)

359 
¡©
 
sb
;

360 
pid
, 
¡©us
;

362 ià(
	`l¡©
(
to
, &
sb
) == 0) {

364 ià(
	`S_ISDIR
(
sb
.
¡_mode
)) {

365 ià(
	`rmdœ
(
to
) != 0) {

366 
	`w¬n
("rmdœ %s", 
to
);

370 ià(
	`uÆšk
(
to
) != 0) {

371 
	`w¬n
("uÆšk %s", 
to
);

375 } ià(
”ºo
 !ğ
ENOENT
) {

376 
	`w¬n
("%s", 
to
);

381 ià(!(
pid
 = 
	`vfÜk
())) {

382 
	`exeş
(
_PATH_CP
, "mv", 
væg
 ? "-PRpv" : "-PRp", "--", 
äom
, 
to
,

383 (*)
NULL
);

384 
	`_ex™
(
EXEC_FAILED
);

386 ià(
	`wa™pid
(
pid
, &
¡©us
, 0) == -1) {

387 
	`w¬n
("% % %s: wa™pid", 
_PATH_CP
, 
äom
, 
to
);

390 ià(!
	`WIFEXITED
(
¡©us
)) {

391 
	`w¬nx
("%s %s %s: did‚oterminate‚ormally",

392 
_PATH_CP
, 
äom
, 
to
);

395 
	`WEXITSTATUS
(
¡©us
)) {

398 
EXEC_FAILED
:

399 
	`w¬nx
("% % %s:ƒxeøçed", 
_PATH_CP
, 
äom
, 
to
);

402 
	`w¬nx
("%s %s %s:erminated with %d (non-zero) status",

403 
_PATH_CP
, 
äom
, 
to
, 
	`WEXITSTATUS
(
¡©us
));

408 ià(!(
pid
 = 
	`vfÜk
())) {

409 
	`exeş
(
_PATH_RM
, "mv", "-rf", "--", 
äom
, (*)
NULL
);

410 
	`_ex™
(
EXEC_FAILED
);

412 ià(
	`wa™pid
(
pid
, &
¡©us
, 0) == -1) {

413 
	`w¬n
("% %s: wa™pid", 
_PATH_RM
, 
äom
);

416 ià(!
	`WIFEXITED
(
¡©us
)) {

417 
	`w¬nx
("% %s: did‚Ù”mš©nÜm®ly", 
_PATH_RM
, 
äom
);

420 
	`WEXITSTATUS
(
¡©us
)) {

423 
EXEC_FAILED
:

424 
	`w¬nx
("% %s:ƒxeøçed", 
_PATH_RM
, 
äom
);

427 
	`w¬nx
("%s %s:erminated with %d (non-zero) status",

428 
_PATH_RM
, 
äom
, 
	`WEXITSTATUS
(
¡©us
));

432 
	}
}

435 
	$´e£rve_fd_aşs
(
sourû_fd
, 
de¡_fd
, cÚ¡ *
sourû_·th
,

436 cÚ¡ *
de¡_·th
)

438 
aş_t
 
aş
;

439 
aş_ty³_t
 
aş_ty³
;

440 
aş_suµÜ‹d
 = 0, 
»t
, 
ŒivŸl
;

442 
»t
 = 
	`å©hcÚf
(
sourû_fd
, 
_PC_ACL_NFS4
);

443 ià(
»t
 > 0 ) {

444 
aş_suµÜ‹d
 = 1;

445 
aş_ty³
 = 
ACL_TYPE_NFS4
;

446 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

447 
	`w¬n
("fpathconf(..., _PC_ACL_NFS4) failed for %s",

448 
sourû_·th
);

451 ià(
aş_suµÜ‹d
 == 0) {

452 
»t
 = 
	`å©hcÚf
(
sourû_fd
, 
_PC_ACL_EXTENDED
);

453 ià(
»t
 > 0 ) {

454 
aş_suµÜ‹d
 = 1;

455 
aş_ty³
 = 
ACL_TYPE_ACCESS
;

456 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

457 
	`w¬n
("fpathconf(..., _PC_ACL_EXTENDED) failed for %s",

458 
sourû_·th
);

462 ià(
aş_suµÜ‹d
 == 0)

465 
aş
 = 
	`aş_g‘_fd_Å
(
sourû_fd
, 
aş_ty³
);

466 ià(
aş
 =ğ
NULL
) {

467 
	`w¬n
("çedØg‘‡şƒÁr› fÜ %s", 
sourû_·th
);

470 ià(
	`aş_is_ŒivŸl_Å
(
aş
, &
ŒivŸl
)) {

471 
	`w¬n
("aş_is_ŒivŸl(èçed fÜ %s", 
sourû_·th
);

472 
	`aş_ä“
(
aş
);

475 ià(
ŒivŸl
) {

476 
	`aş_ä“
(
aş
);

479 ià(
	`aş_£t_fd_Å
(
de¡_fd
, 
aş
, 
aş_ty³
) < 0) {

480 
	`w¬n
("çedØ£ˆaşƒÁr› fÜ %s", 
de¡_·th
);

481 
	`aş_ä“
(
aş
);

484 
	`aş_ä“
(
aş
);

485 
	}
}

488 
	$u§ge
()

491 ()
	`årštf
(
¡d”r
, "%s\n%s\n",

494 
	`ex™
(
EX_USAGE
);

495 
	}
}

	@pax/ar_io.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)ar_io.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/ar_io.c,v 1.28.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/ioùl.h
>

44 
	~<sys/mtio.h
>

45 
	~<sys/¡©.h
>

46 
	~<sys/wa™.h
>

47 
	~<”r.h
>

48 
	~<”ºo.h
>

49 
	~<fú.h
>

50 
	~<sigÇl.h
>

51 
	~<¡dšt.h
>

52 
	~<¡dio.h
>

53 
	~<¡ršg.h
>

54 
	~<¡dlib.h
>

55 
	~<uni¡d.h
>

56 
	~"·x.h
"

57 
	~"İtiÚs.h
"

58 
	~"ex‹º.h
"

64 
	#DMOD
 0666

	)

65 
	#EXT_MODE
 
O_RDONLY


	)

66 
	#AR_MODE
 (
O_WRONLY
 | 
O_CREAT
 | 
O_TRUNC
è

	)

67 
	#APP_MODE
 
O_RDWR


	)

69 
	gnÚe
[] = "<NONE>";

70 
	g¡do
[] = "<STDOUT>";

71 
	g¡dn
[] = "<STDIN>";

72 
	g¬fd
 = -1;

73 
	g¬typ
 = 
ISREG
;

74 
	g¬vŞ
 = 1;

75 
	gl¡rv®
 = -1;

76 
	gio_ok
;

77 
	gdid_io
;

78 
	gdÚe
;

79 
¡©
 
	g¬sb
;

80 
	gšvld_»c
;

81 
	gwr_Œa
 = 1;

82 
	gÿn_uÆnk
 = 0;

83 cÚ¡ *
	g¬úame
;

84 cÚ¡ *
	ggz_´og¿m
;

85 
pid_t
 
	gzpid
 = -1;

87 
g‘_phys
();

88 
sig£t_t
 
s_mask
;

89 
¬_¡¬t_gz
(, const *, );

101 
	$¬_İ’
(cÚ¡ *
Çme
)

103 
mtg‘
 
mb
;

105 ià(
¬fd
 != -1)

106 ()
	`şo£
(
¬fd
);

107 
¬fd
 = -1;

108 
ÿn_uÆnk
 = 
did_io
 = 
io_ok
 = 
švld_»c
 = 0;

109 
¬typ
 = 
ISREG
;

110 
æút
 = 0;

115 
aù
) {

116 
LIST
:

117 
EXTRACT
:

118 ià(
Çme
 =ğ
NULL
) {

119 
¬fd
 = 
STDIN_FILENO
;

120 
¬úame
 = 
¡dn
;

121 } ià((
¬fd
 = 
	`İ’
(
Çme
, 
EXT_MODE
, 
DMOD
)) < 0)

122 
	`sysw¬n
(0, 
”ºo
, "Faed o³ÀtØ»ad oÀ%s", 
Çme
);

123 ià(
¬fd
 !ğ-1 && 
gz_´og¿m
 !ğ
NULL
)

124 
	`¬_¡¬t_gz
(
¬fd
, 
gz_´og¿m
, 0);

126 
ARCHIVE
:

127 ià(
Çme
 =ğ
NULL
) {

128 
¬fd
 = 
STDOUT_FILENO
;

129 
¬úame
 = 
¡do
;

130 } ià((
¬fd
 = 
	`İ’
(
Çme
, 
AR_MODE
, 
DMOD
)) < 0)

131 
	`sysw¬n
(0, 
”ºo
, "Faed o³ÀtØwr™Ú %s", 
Çme
);

133 
ÿn_uÆnk
 = 1;

134 ià(
¬fd
 !ğ-1 && 
gz_´og¿m
 !ğ
NULL
)

135 
	`¬_¡¬t_gz
(
¬fd
, 
gz_´og¿m
, 1);

137 
APPND
:

138 ià(
Çme
 =ğ
NULL
) {

139 
¬fd
 = 
STDOUT_FILENO
;

140 
¬úame
 = 
¡do
;

141 } ià((
¬fd
 = 
	`İ’
(
Çme
, 
APP_MODE
, 
DMOD
)) < 0)

142 
	`sysw¬n
(0, 
”ºo
, "Failed openo„ead/write on %s",

143 
Çme
);

145 
COPY
:

149 
¬úame
 = 
nÚe
;

150 
l¡rv®
 = 1;

153 ià(
¬fd
 < 0)

156 ià(
chdÇme
 !ğ
NULL
)

157 ià(
	`chdœ
(
chdÇme
) != 0) {

158 
	`sysw¬n
(1, 
”ºo
, "Faed chdœØ%s", 
chdÇme
);

164 ià(
	`f¡©
(
¬fd
, &
¬sb
) < 0) {

165 
	`sysw¬n
(0, 
”ºo
, "Faed sˆÚ %s", 
¬úame
);

166 ()
	`şo£
(
¬fd
);

167 
¬fd
 = -1;

168 
ÿn_uÆnk
 = 0;

171 ià(
	`S_ISDIR
(
¬sb
.
¡_mode
)) {

172 
	`·xw¬n
(0, "Cannot write‡n‡rchive onop of‡ directory %s",

173 
¬úame
);

174 ()
	`şo£
(
¬fd
);

175 
¬fd
 = -1;

176 
ÿn_uÆnk
 = 0;

180 ià(
	`S_ISCHR
(
¬sb
.
¡_mode
))

181 
¬typ
 = 
	`ioùl
(
¬fd
, 
MTIOCGET
, &
mb
è? 
ISCHR
 : 
ISTAPE
;

182 ià(
	`S_ISBLK
(
¬sb
.
¡_mode
))

183 
¬typ
 = 
ISBLK
;

184 ià((
	`l£ek
(
¬fd
, (
off_t
)0L, 
SEEK_CUR
è=ğ-1è&& (
”ºo
 =ğ
ESPIPE
))

185 
¬typ
 = 
ISPIPE
;

187 
¬typ
 = 
ISREG
;

193 ià(
¬typ
 !ğ
ISREG
)

194 
ÿn_uÆnk
 = 0;

198 ià(
aù
 =ğ
ARCHIVE
) {

199 
blksz
 = 
rdblksz
 = 
wrblksz
;

200 
l¡rv®
 = 1;

211 
¬typ
) {

212 
ISTAPE
:

227 
blksz
 = 
rdblksz
 = 
MAXBLK
;

229 
ISPIPE
:

230 
ISBLK
:

231 
ISCHR
:

240 ià((
aù
 =ğ
APPND
è&& 
wrblksz
) {

241 
blksz
 = 
rdblksz
 = 
wrblksz
;

245 ià((
¬sb
.
¡_blksize
 > 0è&& (¬sb.¡_blksiz< 
MAXBLK
) &&

246 ((
¬sb
.
¡_blksize
 % 
BLKMULT
) == 0))

247 
rdblksz
 = 
¬sb
.
¡_blksize
;

249 
rdblksz
 = 
DEVBLK
;

253 ià((
aù
 =ğ
APPND
è|| (
¬typ
 =ğ
ISCHR
))

254 
blksz
 = 
rdblksz
;

256 
blksz
 = 
MAXBLK
;

258 
ISREG
:

263 ià((
aù
 =ğ
APPND
è&& 
wrblksz
 && ((
¬sb
.
¡_size
%wrblksz)==0)){

264 
blksz
 = 
rdblksz
 = 
wrblksz
;

270 
rdblksz
 = 
MAXBLK
;„dblksz > 0;„dblksz -ğ
BLKMULT
)

271 ià((
¬sb
.
¡_size
 % 
rdblksz
) == 0)

276 ià(
rdblksz
 <= 0)

277 
rdblksz
 = 
FILEBLK
;

281 ià(
aù
 =ğ
APPND
)

282 
blksz
 = 
rdblksz
;

284 
blksz
 = 
MAXBLK
;

290 
blksz
 = 
rdblksz
 = 
BLKMULT
;

293 
l¡rv®
 = 1;

295 
	}
}

302 
	$¬_şo£
()

304 
¡©us
;

306 ià(
¬fd
 < 0) {

307 
did_io
 = 
io_ok
 = 
æút
 = 0;

317 ià(
væag
 && (
¬typ
 =ğ
ISTAPE
)) {

318 ià(
vå¬t
)

319 ()
	`putc
('\n', 
li¡f
);

320 ()
	`årštf
(
li¡f
,

322 
¬gv0
);

323 ()
	`fæush
(
li¡f
);

330 ià(
ÿn_uÆnk
 && (
	`f¡©
(
¬fd
, &
¬sb
è=ğ0è&& (
	`S_ISREG
×rsb.
¡_mode
)) &&

331 (
¬sb
.
¡_size
 == 0)) {

332 ()
	`uÆšk
(
¬úame
);

333 
ÿn_uÆnk
 = 0;

340 ià((
aù
 =ğ
LIST
 ||‡ù =ğ
EXTRACT
è&& 
næag
 && 
zpid
 > 0)

341 
	`kl
(
zpid
, 
SIGINT
);

343 ()
	`şo£
(
¬fd
);

346 ià(
zpid
 > 0)

347 
	`wa™pid
(
zpid
, &
¡©us
, 0);

349 ià(
væag
 && (
¬typ
 =ğ
ISTAPE
)) {

350 ()
	`åuts
("dÚe.\n", 
li¡f
);

351 
vå¬t
 = 0;

352 ()
	`fæush
(
li¡f
);

354 
¬fd
 = -1;

356 ià(!
io_ok
 && !
did_io
) {

357 
æút
 = 0;

360 
did_io
 = 
io_ok
 = 0;

366 ià(
ämt
 !ğ
NULL
)

367 ++
¬vŞ
;

369 ià(!
væag
) {

370 
æút
 = 0;

377 ià(
vå¬t
) {

378 ()
	`putc
('\n', 
li¡f
);

379 
vå¬t
 = 0;

387 ià(
ämt
 =ğ
NULL
) {

388 #ifdeà
NET2_STAT


389 ()
	`årštf
(
li¡f
, "%s: unknown format, %lu bytes skipped.\n",

390 
¬gv0
, 
rdút
);

392 ()
	`årštf
(
li¡f
, "%s: unknown format, %ju bytes skipped.\n",

393 
¬gv0
, (
uštmax_t
)
rdút
);

395 ()
	`fæush
(
li¡f
);

396 
æút
 = 0;

400 ià(
	`¡rcmp
(
NM_CPIO
, 
¬gv0
) == 0)

401 ()
	`årštf
(
li¡f
, "%llu blocks\n",

402 ()((
rdút
 ?„dúˆ: 
wrút
) / 5120));

403 ià(
	`¡rcmp
(
NM_TAR
, 
¬gv0
) != 0)

404 ()
	`årštf
(
li¡f
,

405 #ifdeà
NET2_STAT


407 
¬gv0
, 
ämt
->
Çme
, 
¬vŞ
-1, 
æút
, 
rdút
, 
wrút
);

410 
¬gv0
, 
ämt
->
Çme
, 
¬vŞ
-1, (
uštmax_t
)
æút
,

411 (
uštmax_t
)
rdút
, (uštmax_t)
wrút
);

413 ()
	`fæush
(
li¡f
);

414 
æút
 = 0;

415 
	}
}

425 
	$¬_d¿š
()

427 
»s
;

428 
drbuf
[
MAXBLK
];

435 ià((
¬typ
 !ğ
ISPIPE
è|| (
l¡rv®
 <= 0))

441 (
»s
 = 
	`»ad
(
¬fd
, 
drbuf
, (drbuf))) > 0)

443 
l¡rv®
 = 
»s
;

444 
	}
}

457 
	$¬_£t_wr
()

459 
off_t
 
ıos
;

465 
wr_Œa
 = 0;

470 ià(
¬typ
 !ğ
ISREG
)

477 ià(((
ıos
 = 
	`l£ek
(
¬fd
, (
off_t
)0L, 
SEEK_CUR
)) < 0) ||

478 (
	`árunÿ‹
(
¬fd
, 
ıos
) < 0)) {

479 
	`sysw¬n
(1, 
”ºo
, "Unableoruncate‡rchive file");

483 
	}
}

495 
	$¬_­p_ok
()

497 ià(
¬typ
 =ğ
ISPIPE
) {

498 
	`·xw¬n
(1, "Cannot‡ppendo‡n‡rchive obtained from‡…ipe.");

502 ià(!
švld_»c
)

504 
	`·xw¬n
(1,"Cannot‡ppend, device„ecord size %d does‚ot support %s spec",

505 
rdblksz
, 
¬gv0
);

507 
	}
}

519 
	$¬_»ad
(*
buf
, 
út
)

521 
»s
 = 0;

526 ià(
l¡rv®
 <= 0)

527 (
l¡rv®
);

532 
¬typ
) {

533 
ISTAPE
:

534 ià((
»s
 = 
	`»ad
(
¬fd
, 
buf
, 
út
)) > 0) {

542 
io_ok
 = 1;

543 ià(
»s
 !ğ
rdblksz
) {

553 
rdblksz
 = 
»s
;

554 ià(
rdblksz
 % 
BLKMULT
)

555 
švld_»c
 = 1;

557 (
»s
);

560 
ISREG
:

561 
ISBLK
:

562 
ISCHR
:

563 
ISPIPE
:

572 ià((
»s
 = 
	`»ad
(
¬fd
, 
buf
, 
út
)) > 0) {

573 
io_ok
 = 1;

574 (
»s
);

582 
l¡rv®
 = 
»s
;

583 ià(
»s
 < 0)

584 
	`sysw¬n
(1, 
”ºo
, "Faed„—d oÀ¬chivvŞum%d", 
¬vŞ
);

586 
	`·xw¬n
(0, "End oà¬chivvŞum%d„—ched", 
¬vŞ
);

587 (
»s
);

588 
	}
}

602 
	$¬_wr™e
(*
buf
, 
bsz
)

604 
»s
;

605 
off_t
 
ıos
;

611 ià(
l¡rv®
 <= 0)

612 (
l¡rv®
);

614 ià((
»s
 = 
	`wr™e
(
¬fd
, 
buf
, 
bsz
)) == bsz) {

615 
wr_Œa
 = 1;

616 
io_ok
 = 1;

617 (
bsz
);

623 ià(
»s
 < 0)

624 
l¡rv®
 = 
»s
;

626 
l¡rv®
 = 0;

628 
¬typ
) {

629 
ISREG
:

630 ià((
»s
 > 0è&& (» % 
BLKMULT
)) {

636 ià((
ıos
 = 
	`l£ek
(
¬fd
, (
off_t
)0L, 
SEEK_CUR
)) < 0)

638 
ıos
 -ğ(
off_t
)
»s
;

639 ià(
	`árunÿ‹
(
¬fd
, 
ıos
) < 0)

641 
»s
 = 
l¡rv®
 = 0;

644 ià(
»s
 >= 0)

649 ià((
”ºo
 =ğ
ENOSPC
è|| (”ºØ=ğ
EFBIG
è|| (”ºØ=ğ
EDQUOT
))

650 
»s
 = 
l¡rv®
 = 0;

652 
ISTAPE
:

653 
ISCHR
:

654 
ISBLK
:

655 ià(
»s
 >= 0)

657 ià(
”ºo
 =ğ
EACCES
) {

658 
	`·xw¬n
(0, "Write failed,‡rchive is write…rotected.");

659 
»s
 = 
l¡rv®
 = 0;

666 ià((
”ºo
 =ğ
ENOSPC
è|| (”ºØ=ğ
EIO
è|| (”ºØ=ğ
ENXIO
))

667 
»s
 = 
l¡rv®
 = 0;

669 
ISPIPE
:

685 ià(
»s
 >= 0) {

686 ià(
»s
 > 0)

687 
wr_Œa
 = 1;

688 
io_ok
 = 1;

695 ià(!
wr_Œa
 && (
»s
 <= 0)) {

696 
	`·xw¬n
(1,"Unableo‡ppend,railer„e-write failed. Quitting.");

697 (
»s
);

700 ià(
»s
 == 0)

701 
	`·xw¬n
(0, "End oà¬chivvŞum%d„—ched", 
¬vŞ
);

702 ià(
»s
 < 0)

703 
	`sysw¬n
(1, 
”ºo
, "Faed wr™tØ¬chivvŞume: %d", 
¬vŞ
);

704 ià(!
ämt
->
blk®gn
 || ((
»s
 % frmt->blkalgn) == 0))

705 
	`·xw¬n
(0,"WARNING:…artial‡rchive write. Archive MAY BE FLAWED");

707 
	`·xw¬n
(1,"WARNING:…artial‡rchive write. Archive IS FLAWED");

708 (
»s
);

709 
	}
}

720 
	$¬_rdsync
()

722 
fsbz
;

723 
off_t
 
ıos
;

724 
off_t
 
mpos
;

725 
mtİ
 
mb
;

732 ià((
dÚe
 > 0è|| (
l¡rv®
 == 0))

735 ià((
aù
 =ğ
APPND
è|| (aù =ğ
ARCHIVE
)) {

736 
	`·xw¬n
(1, "Cannot‡llow updateso‡n‡rchive with flaws.");

739 ià(
io_ok
)

740 
did_io
 = 1;

742 
¬typ
) {

743 
ISTAPE
:

752 ià(
io_ok
) {

753 
io_ok
 = 0;

754 
l¡rv®
 = 1;

757 
mb
.
mt_İ
 = 
MTFSR
;

758 
mb
.
mt_couÁ
 = 1;

759 ià(
	`ioùl
(
¬fd
, 
MTIOCTOP
, &
mb
) < 0)

761 
l¡rv®
 = 1;

763 
ISREG
:

764 
ISCHR
:

765 
ISBLK
:

769 
io_ok
 = 0;

770 ià(((
fsbz
 = 
¬sb
.
¡_blksize
è<ğ0è|| (
¬typ
 !ğ
ISREG
))

771 
fsbz
 = 
BLKMULT
;

772 ià((
ıos
 = 
	`l£ek
(
¬fd
, (
off_t
)0L, 
SEEK_CUR
)) < 0)

774 
mpos
 = 
fsbz
 - (
ıos
 % (
off_t
)fsbz);

775 ià(
	`l£ek
(
¬fd
, 
mpos
, 
SEEK_CUR
) < 0)

777 
l¡rv®
 = 1;

779 
ISPIPE
:

784 
io_ok
 = 0;

787 ià(
l¡rv®
 <= 0) {

788 
	`·xw¬n
(1, "Unableo„ecover from‡n‡rchive„ead failure.");

791 
	`·xw¬n
(0, "Attemptingo„ecover from‡n‡rchive„ead failure.");

793 
	}
}

806 
	$¬_fow
(
off_t
 
sksz
, off_ˆ*
sk³d
)

808 
off_t
 
ıos
;

809 
off_t
 
mpos
;

811 *
sk³d
 = 0;

812 ià(
sksz
 <= 0)

818 ià(
l¡rv®
 <= 0)

819 (
l¡rv®
);

827 ià(
¬typ
 !ğ
ISREG
)

833 ià((
ıos
 = 
	`l£ek
(
¬fd
, (
off_t
)0L, 
SEEK_CUR
)) >= 0) {

840 ià((
mpos
 = 
ıos
 + 
sksz
è> 
¬sb
.
¡_size
) {

841 *
sk³d
 = 
¬sb
.
¡_size
 - 
ıos
;

842 
mpos
 = 
¬sb
.
¡_size
;

844 *
sk³d
 = 
sksz
;

845 ià(
	`l£ek
(
¬fd
, 
mpos
, 
SEEK_SET
) >= 0)

848 
	`sysw¬n
(1, 
”ºo
, "Forward…ositioning operation on‡rchive failed");

849 
l¡rv®
 = -1;

851 
	}
}

865 
	$¬_»v
(
off_t
 
sksz
)

867 
off_t
 
ıos
;

868 
mtİ
 
mb
;

869 
phyblk
;

874 ià(
l¡rv®
 < 0)

875 (
l¡rv®
);

877 
¬typ
) {

878 
ISPIPE
:

879 ià(
sksz
 <= 0)

884 
	`·xw¬n
(1, "Reverse…ositioning on…ipes is‚ot supported.");

885 
l¡rv®
 = -1;

887 
ISREG
:

888 
ISBLK
:

889 
ISCHR
:

891 ià(
sksz
 <= 0)

901 ià((
ıos
 = 
	`l£ek
(
¬fd
, (
off_t
)0L, 
SEEK_CUR
)) < 0) {

902 
	`sysw¬n
(1, 
”ºo
,

904 
l¡rv®
 = -1;

915 ià((
ıos
 -ğ
sksz
è< (
off_t
)0L) {

916 ià(
¬vŞ
 > 1) {

920 
	`·xw¬n
(1,"Reverse…osition on…revious volume.");

921 
l¡rv®
 = -1;

924 
ıos
 = (
off_t
)0L;

926 ià(
	`l£ek
(
¬fd
, 
ıos
, 
SEEK_SET
) < 0) {

927 
	`sysw¬n
(1, 
”ºo
, "Unableo seek‡rchive backwards");

928 
l¡rv®
 = -1;

932 
ISTAPE
:

940 ià((
phyblk
 = 
	`g‘_phys
()) <= 0) {

941 
l¡rv®
 = -1;

949 
rdblksz
 = 
phyblk
;

955 ià(
sksz
 <= 0)

961 ià(
sksz
 % 
phyblk
) {

962 
	`·xw¬n
(1,

964 
l¡rv®
 = -1;

971 
mb
.
mt_İ
 = 
MTBSR
;

972 
mb
.
mt_couÁ
 = 
sksz
/
phyblk
;

973 ià(
	`ioùl
(
¬fd
, 
MTIOCTOP
, &
mb
) < 0) {

974 
	`sysw¬n
(1,
”ºo
, "Unableo backspaceape %d blocks.",

975 
mb
.
mt_couÁ
);

976 
l¡rv®
 = -1;

981 
l¡rv®
 = 1;

983 
	}
}

997 
	$g‘_phys
()

999 
·dsz
 = 0;

1000 
»s
;

1001 
phyblk
;

1002 
mtİ
 
mb
;

1003 
scbuf
[
MAXBLK
];

1009 ià(
l¡rv®
 == 1) {

1014 (
»s
 = 
	`»ad
(
¬fd
, 
scbuf
, (scbuf))) > 0)

1015 
·dsz
 +ğ
»s
;

1016 ià(
»s
 < 0) {

1017 
	`sysw¬n
(1, 
”ºo
, "Unableo†ocateape filemark.");

1026 
mb
.
mt_İ
 = 
MTBSF
;

1027 
mb
.
mt_couÁ
 = 1;

1028 ià(
	`ioùl
(
¬fd
, 
MTIOCTOP
, &
mb
) < 0) {

1029 
	`sysw¬n
(1, 
”ºo
, "Unableo backspace overape filemark.");

1037 
mb
.
mt_İ
 = 
MTBSR
;

1038 
mb
.
mt_couÁ
 = 1;

1039 ià(
	`ioùl
(
¬fd
, 
MTIOCTOP
, &
mb
) < 0) {

1040 
	`sysw¬n
(1, 
”ºo
, "Unableo backspace over†astape block.");

1043 ià((
phyblk
 = 
	`»ad
(
¬fd
, 
scbuf
, (scbuf))) <= 0) {

1044 
	`sysw¬n
(1, 
”ºo
, "Cannot determine‡rchiveape blocksize.");

1052 (
»s
 = 
	`»ad
(
¬fd
, 
scbuf
, (scbuf))) > 0)

1054 ià(
»s
 < 0) {

1055 
	`sysw¬n
(1, 
”ºo
, "Unableo†ocateape filemark.");

1058 
mb
.
mt_İ
 = 
MTBSF
;

1059 
mb
.
mt_couÁ
 = 1;

1060 ià(
	`ioùl
(
¬fd
, 
MTIOCTOP
, &
mb
) < 0) {

1061 
	`sysw¬n
(1, 
”ºo
, "Unableo backspace overape filemark.");

1068 
l¡rv®
 = 1;

1073 ià(
·dsz
 == 0)

1074 (
phyblk
);

1080 ià(
·dsz
 % 
phyblk
) {

1081 
	`·xw¬n
(1, "Tape drive unableo backspace„equested‡mount");

1089 
mb
.
mt_İ
 = 
MTBSR
;

1090 
mb
.
mt_couÁ
 = 
·dsz
/
phyblk
;

1091 ià(
	`ioùl
(
¬fd
, 
MTIOCTOP
, &
mb
) < 0) {

1092 
	`sysw¬n
(1,
”ºo
,"Unableo backspaceape over %d…ad blocks",

1093 
mb
.
mt_couÁ
);

1096 (
phyblk
);

1097 
	}
}

1110 
	$¬_Ãxt
()

1112 *
¬cbuf
;

1113 
buf
[
PAXPATHLEN
+2];

1114 
sig£t_t
 
o_mask
;

1121 ià(
	`sig´ocmask
(
SIG_BLOCK
, &
s_mask
, &
o_mask
) < 0)

1122 
	`sysw¬n
(0, 
”ºo
, "Unableo set signal mask");

1123 
	`¬_şo£
();

1124 ià(
	`sig´ocmask
(
SIG_SETMASK
, &
o_mask
, 
NULL
) < 0)

1125 
	`sysw¬n
(0, 
”ºo
, "Unableo„estore signal mask");

1127 ià(
dÚe
 || !
wr_Œa
 || 
	`¡rcmp
(
NM_TAR
, 
¬gv0
) == 0)

1130 
	`‰y_´Á
("\nATTENTION! % ¬chivvŞumchªg»quœed.\n", 
¬gv0
);

1136 ià(
	`¡rcmp
(
¬úame
, 
¡do
è&& sŒcmp×rúame, 
¡dn
è&& (
¬typ
 !ğ
ISREG
)

1137 && (
¬typ
 !ğ
ISPIPE
)) {

1138 ià(
¬typ
 =ğ
ISTAPE
) {

1139 
	`‰y_´Á
("%s„eady for‡rchiveape volume: %d\n",

1140 
¬úame
, 
¬vŞ
);

1141 
	`‰y_´Á
("Loadhe NEXT TAPE onheape drive");

1143 
	`‰y_´Á
("%s„eady for‡rchive volume: %d\n",

1144 
¬úame
, 
¬vŞ
);

1145 
	`‰y_´Á
("Loadhe NEXT STORAGE MEDIA (if„equired)");

1148 ià((
aù
 =ğ
ARCHIVE
è|| (aù =ğ
APPND
))

1149 
	`‰y_´Á
("‡nd make sure it is WRITE ENABLED.\n");

1151 
	`‰y_´Á
("\n");

1154 
	`‰y_´Á
("Type \"y\"o continue, \".\"o quit %s,",

1155 
¬gv0
);

1156 
	`‰y_´Á
(" or \"s\"o switcho‚ew device.\nIf you");

1157 
	`‰y_´Á
(" cannot change storage media,ype \"s\"\n");

1158 
	`‰y_´Á
("Ishe device„eady‡nd online? > ");

1160 ià((
	`‰y_»ad
(
buf
,(buf))<0è|| !
	`¡rcmp
(buf,".")){

1161 
dÚe
 = 1;

1162 
l¡rv®
 = -1;

1163 
	`‰y_´Á
("Qu™tšg %s!\n", 
¬gv0
);

1164 
vå¬t
 = 0;

1168 ià((
buf
[0] == '\0') || (buf[1] != '\0')) {

1169 
	`‰y_´Á
("% unknowÀcommªd,ry‡gaš\n",
buf
);

1173 
buf
[0]) {

1179 ià(
	`¬_İ’
(
¬úame
) >= 0)

1181 
	`‰y_´Á
("Cannot„e-open %s,ry‡gain\n",

1182 
¬úame
);

1189 
	`‰y_´Á
("Switchingo‡ different‡rchive\n");

1192 
	`‰y_´Á
("% unknowÀcommªd,ry‡gaš\n",
buf
);

1198 
	`‰y_´Á
("R—dy fÜ‡rchivvŞume: %d\n", 
¬vŞ
);

1204 
	`‰y_´Á
("IÅuˆ¬chivÇmÜ \".\"Øqu™ %s.\n", 
¬gv0
);

1205 
	`‰y_´Á
("Archive‚ame > ");

1207 ià((
	`‰y_»ad
(
buf
, (buf)è< 0è|| !
	`¡rcmp
(buf, ".")) {

1208 
dÚe
 = 1;

1209 
l¡rv®
 = -1;

1210 
	`‰y_´Á
("Qu™tšg %s!\n", 
¬gv0
);

1211 
vå¬t
 = 0;

1214 ià(
buf
[0] == '\0') {

1215 
	`‰y_´Á
("Empty file‚ame,ry‡gain\n");

1218 ià(!
	`¡rcmp
(
buf
, "..")) {

1219 
	`‰y_´Á
("Illegal file‚ame: ..ry‡gain\n");

1222 ià(
	`¡¾’
(
buf
è> 
PAXPATHLEN
) {

1223 
	`‰y_´Á
("File‚ameoo†ong,ry‡gain\n");

1230 ià(
	`¬_İ’
(
buf
) >= 0) {

1231 
	`ä“
(
¬cbuf
);

1232 ià((
¬cbuf
 = 
	`¡rdup
(
buf
)è=ğ
NULL
) {

1233 
dÚe
 = 1;

1234 
l¡rv®
 = -1;

1235 
	`·xw¬n
(0, "Cannot save‡rchive‚ame.");

1238 
¬úame
 = 
¬cbuf
;

1241 
	`‰y_´Á
("CªnÙ o³À%s,ry‡gaš\n", 
buf
);

1245 
	}
}

1253 
	$¬_¡¬t_gz
(
fd
, cÚ¡ *
gz_´og
, 
wr
)

1255 
fds
[2];

1256 cÚ¡ *
gz_æags
;

1258 ià(
	`pe
(
fds
) < 0)

1259 
	`”r
(1, "could‚ot…ipe");

1260 
zpid
 = 
	`fÜk
();

1261 ià(
zpid
 < 0)

1262 
	`”r
(1, "could‚ot fork");

1265 ià(
zpid
) {

1266 ià(
wr
)

1267 
	`dup2
(
fds
[1], 
fd
);

1269 
	`dup2
(
fds
[0], 
fd
);

1270 
	`şo£
(
fds
[0]);

1271 
	`şo£
(
fds
[1]);

1273 ià(
wr
) {

1274 
	`dup2
(
fds
[0], 
STDIN_FILENO
);

1275 
	`dup2
(
fd
, 
STDOUT_FILENO
);

1276 
gz_æags
 = "-c";

1278 
	`dup2
(
fds
[1], 
STDOUT_FILENO
);

1279 
	`dup2
(
fd
, 
STDIN_FILENO
);

1280 
gz_æags
 = "-dc";

1282 
	`şo£
(
fds
[0]);

1283 
	`şo£
(
fds
[1]);

1284 ià(
	`exeşp
(
gz_´og
, gz_´og, 
gz_æags
,

1285 (*)
NULL
) < 0)

1286 
	`”r
(1, "could‚otƒxec");

1289 
	}
}

	@pax/ar_subs.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)ar_subs.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/ar_subs.c,v 1.24.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<sigÇl.h
>

46 
	~<¡ršg.h
>

47 
	~<¡dio.h
>

48 
	~<fú.h
>

49 
	~<”ºo.h
>

50 
	~<uni¡d.h
>

51 
	~<¡dlib.h
>

52 
	~"·x.h
"

53 
	~"ex‹º.h
"

55 
wr_¬chive
(
ARCHD
 *, 
is_­p
);

56 
g‘_¬c
();

57 
Ãxt_h—d
(
ARCHD
 *);

58 
sig£t_t
 
s_mask
;

65 
	ghdbuf
[
BLKMULT
];

66 
u_lÚg
 
	gæút
;

75 
	$li¡
()

77 
ARCHD
 *
¬ú
;

78 
»s
;

79 
ARCHD
 
¬chd
;

80 
time_t
 
now
;

82 
¬ú
 = &
¬chd
;

90 ià((
	`g‘_¬c
(è< 0è|| ((*
ämt
->
İtiÚs
)() < 0) ||

91 ((*
ämt
->
¡_rd
)() < 0))

94 ià(
væag
 && ((
	`uidtb_¡¬t
(è< 0è|| (
	`gidtb_¡¬t
() < 0)))

97 
now
 = 
	`time
(
NULL
);

102 
	`Ãxt_h—d
(
¬ú
) == 0) {

107 ià((
»s
 = 
	`·t_m©ch
(
¬ú
)) < 0)

110 ià((
»s
 =ğ0è&& (
	`£l_chk
(
¬ú
) == 0)) {

114 ià(
	`·t_£l
(
¬ú
) < 0)

121 ià((
»s
 = 
	`mod_Çme
(
¬ú
)) < 0)

123 ià(
»s
 == 0)

124 
	`ls_li¡
(
¬ú
, 
now
, 
¡dout
);

131 ià(
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
) == 1)

139 ()(*
ämt
->
’d_rd
)();

140 ()
	`sig´ocmask
(
SIG_BLOCK
, &
s_mask
, 
NULL
);

141 
	`¬_şo£
();

142 
	`·t_chk
();

143 
	}
}

152 
	$exŒaù
()

154 
ARCHD
 *
¬ú
;

155 
»s
;

156 
off_t
 
út
;

157 
ARCHD
 
¬chd
;

158 
¡©
 
sb
;

159 
fd
;

160 
time_t
 
now
;

162 
¬ú
 = &
¬chd
;

168 ià((
	`g‘_¬c
(è< 0è|| ((*
ämt
->
İtiÚs
)() < 0) ||

169 ((*
ämt
->
¡_rd
)(è< 0è|| (
	`dœ_¡¬t
() < 0))

176 ià(
iæag
 && (
	`Çme_¡¬t
() < 0))

179 
now
 = 
	`time
(
NULL
);

185 
	`Ãxt_h—d
(
¬ú
) == 0) {

191 ià((
»s
 = 
	`·t_m©ch
(
¬ú
)) < 0)

194 ià((
»s
 > 0è|| (
	`£l_chk
(
¬ú
) != 0)) {

199 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

213 ià((
uæag
 || 
Dæag
è&& ((
	`l¡©
(
¬ú
->
Çme
, &
sb
) == 0))) {

214 ià(
uæag
 && 
Dæag
) {

215 ià((
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime) &&

216 (
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime)) {

217 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

220 } ià(
Dæag
) {

221 ià(
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime) {

222 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

225 } ià(
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime) {

226 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

234 ià((
	`·t_£l
(
¬ú
è< 0è|| ((
»s
 = 
	`mod_Çme
(arcn)) < 0))

236 ià(
»s
 > 0) {

240 
	`purg_Êk
(
¬ú
);

241 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

249 ià((
Yæag
 || 
Zæag
è&& ((
	`l¡©
(
¬ú
->
Çme
, &
sb
) == 0))) {

250 ià(
Yæag
 && 
Zæag
) {

251 ià((
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime) &&

252 (
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime)) {

253 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

256 } ià(
Yæag
) {

257 ià(
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime) {

258 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

261 } ià(
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime) {

262 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

267 ià(
væag
) {

268 ià(
væag
 > 1)

269 
	`ls_li¡
(
¬ú
, 
now
, 
li¡f
);

271 ()
	`åuts
(
¬ú
->
Çme
, 
li¡f
);

272 
vå¬t
 = 1;

279 ià((
¬ú
->
·t
 !ğ
NULL
è&& (¬ú->·t->
chdÇme
 != NULL))

280 ià(
	`chdœ
(
¬ú
->
·t
->
chdÇme
) != 0)

281 
	`sysw¬n
(1, 
”ºo
, "Cannot chdiro %s",

282 
¬ú
->
·t
->
chdÇme
);

287 ià((
¬ú
->
ty³
 !ğ
PAX_REG
è&& (¬ú->ty³ !ğ
PAX_CTG
)) {

293 ià((
¬ú
->
ty³
 =ğ
PAX_HLK
è|| (¬ú->ty³ =ğ
PAX_HRG
))

294 
»s
 = 
	`Êk_ü—t
(
¬ú
);

296 
»s
 = 
	`node_ü—t
(
¬ú
);

298 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

299 ià(
»s
 < 0)

300 
	`purg_Êk
(
¬ú
);

302 ià(
væag
 && 
vå¬t
) {

303 ()
	`putc
('\n', 
li¡f
);

304 
vå¬t
 = 0;

312 ià((
fd
 = 
	`fe_ü—t
(
¬ú
)) < 0) {

313 ()
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
);

314 
	`purg_Êk
(
¬ú
);

321 
»s
 = (*
ämt
->
rd_d©a
)(
¬ú
, 
fd
, &
út
);

322 
	`fe_şo£
(
¬ú
, 
fd
);

323 ià(
væag
 && 
vå¬t
) {

324 ()
	`putc
('\n', 
li¡f
);

325 
vå¬t
 = 0;

327 ià(!
»s
)

328 ()
	`rd_sk
(
út
 + 
¬ú
->
·d
);

333 ià((
¬ú
->
·t
 !ğ
NULL
è&& (¬ú->·t->
chdÇme
 != NULL))

334 ià(
	`fchdœ
(
cwdfd
) != 0)

335 
	`sysw¬n
(1, 
”ºo
,

344 ()(*
ämt
->
’d_rd
)();

345 ()
	`sig´ocmask
(
SIG_BLOCK
, &
s_mask
, 
NULL
);

346 
	`¬_şo£
();

347 
	`´oc_dœ
();

348 
	`·t_chk
();

349 
	}
}

358 
	$wr_¬chive
(
ARCHD
 *
¬ú
, 
is_­p
)

360 
»s
;

361 
hlk
;

362 
wr_Úe
;

363 
off_t
 
út
;

364 (*
wrf
)(
ARCHD
 *);

365 
fd
 = -1;

366 
time_t
 
now
;

372 ià(((
hlk
 = 
ämt
->hlkè=ğ1è&& (
	`Êk_¡¬t
() < 0))

378 ià((
	`á»e_¡¬t
(è< 0è|| ((*
ämt
->
¡_wr
)() < 0))

380 
wrf
 = 
ämt
->
wr
;

386 ià(
iæag
 && (
	`Çme_¡¬t
() < 0))

392 
wr_Úe
 = 
is_­p
;

394 
now
 = 
	`time
(
NULL
);

399 
	`Ãxt_fe
(
¬ú
) == 0) {

403 ià(
	`£l_chk
(
¬ú
) != 0) {

404 
	`á»e_nÙ£l
();

407 
fd
 = -1;

408 ià(
uæag
) {

413 ià((
»s
 = 
	`chk_áime
(
¬ú
)) < 0)

415 ià(
»s
 > 0)

423 
	`á»e_£l
(
¬ú
);

424 ià(
hlk
 && (
	`chk_Êk
(
¬ú
) < 0))

427 ià((
¬ú
->
ty³
 =ğ
PAX_REG
è|| (¬ú->ty³ =ğ
PAX_HRG
) ||

428 (
¬ú
->
ty³
 =ğ
PAX_CTG
)) {

435 ià((
fd
 = 
	`İ’
(
¬ú
->
Üg_Çme
, 
O_RDONLY
, 0)) < 0) {

436 
	`sysw¬n
(1,
”ºo
, "Unableo open %so„ead",

437 
¬ú
->
Üg_Çme
);

438 
	`purg_Êk
(
¬ú
);

446 ià((
»s
 = 
	`mod_Çme
(
¬ú
)) < 0) {

451 
	`rdfe_şo£
(
¬ú
, &
fd
);

452 
	`purg_Êk
(
¬ú
);

456 ià((
»s
 > 0è|| (
doüc
 && (
	`£t_üc
(
¬ú
, 
fd
) < 0))) {

461 
	`rdfe_şo£
(
¬ú
, &
fd
);

462 
	`purg_Êk
(
¬ú
);

466 ià(
væag
) {

467 ià(
væag
 > 1)

468 
	`ls_li¡
(
¬ú
, 
now
, 
li¡f
);

470 ()
	`åuts
(
¬ú
->
Çme
, 
li¡f
);

471 
vå¬t
 = 1;

474 ++
æút
;

480 ià((
»s
 = (*
wrf
)(
¬ú
)) < 0) {

481 
	`rdfe_şo£
(
¬ú
, &
fd
);

484 
wr_Úe
 = 1;

485 ià(
»s
 > 0) {

490 ià(
væag
 && 
vå¬t
) {

491 ()
	`putc
('\n', 
li¡f
);

492 
vå¬t
 = 0;

494 
	`rdfe_şo£
(
¬ú
, &
fd
);

506 
»s
 = (*
ämt
->
wr_d©a
)(
¬ú
, 
fd
, &
út
);

507 
	`rdfe_şo£
(
¬ú
, &
fd
);

508 ià(
væag
 && 
vå¬t
) {

509 ()
	`putc
('\n', 
li¡f
);

510 
vå¬t
 = 0;

512 ià(
»s
 < 0)

518 ià(((
út
 > 0è&& (
	`wr_sk
(cnt) < 0)) ||

519 ((
¬ú
->
·d
 > 0è&& (
	`wr_sk
(arcn->pad) < 0)))

529 ià(
wr_Úe
) {

530 (*
ämt
->
’d_wr
)();

531 
	`wr_fš
();

533 ()
	`sig´ocmask
(
SIG_BLOCK
, &
s_mask
, 
NULL
);

534 
	`¬_şo£
();

535 ià(
tæag
)

536 
	`´oc_dœ
();

537 
	`á»e_chk
();

538 
	}
}

563 
	$­³nd
()

565 
ARCHD
 *
¬ú
;

566 
»s
;

567 
ARCHD
 
¬chd
;

568 
FSUB
 *
Ügämt
;

569 
udev
;

570 
off_t
 
’
;

572 
¬ú
 = &
¬chd
;

573 
Ügämt
 = 
ämt
;

579 ià(
	`g‘_¬c
() < 0)

581 ià((
Ügämt
 !ğ
NULL
è&& (Ügämˆ!ğ
ämt
)) {

582 
	`·xw¬n
(1, "Cannot mix current‡rchive format %s with %s",

583 
ämt
->
Çme
, 
Ügämt
->name);

590 ià(((*
ämt
->
İtiÚs
)(è< 0è|| ((*ämt->
¡_rd
)() < 0))

597 ià(
uæag
 && (
	`áime_¡¬t
() < 0))

614 ià((
udev
 = 
ämt
->udevè&& (
	`dev_¡¬t
() < 0))

620 ià(
væag
) {

621 ()
	`årštf
(
li¡f
,

622 "%s: R—dšg‡rchivtØpos™iÚ‡ˆth’d...", 
¬gv0
);

623 
vå¬t
 = 1;

629 
	`Ãxt_h—d
(
¬ú
) == 0) {

633 ià(
	`£l_chk
(
¬ú
) != 0) {

634 ià(
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
) == 1)

639 ià(
uæag
) {

644 ià((
»s
 = 
	`chk_áime
(
¬ú
)) < 0)

646 ià(
»s
 > 0) {

647 ià(
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
) == 1)

659 ià((
udev
 && (
	`add_dev
(
¬ú
) < 0)) ||

660 (
	`rd_sk
(
¬ú
->
sk
 +‡rú->
·d
) == 1))

669 
’
 = (*
ämt
->
’d_rd
)();

670 
	`Êk_’d
();

676 ià(
	`­²d_¡¬t
(
’
) < 0)

682 ià(
væag
 && 
vå¬t
) {

683 ()
	`åuts
("dÚe.\n", 
li¡f
);

684 
vå¬t
 = 0;

690 
	`wr_¬chive
(
¬ú
, 1);

691 
	}
}

699 
	$¬chive
()

701 
ARCHD
 
¬chd
;

708 ià((
uæag
 && (
	`áime_¡¬t
(è< 0)è|| (
	`wr_¡¬t
() < 0))

710 ià((*
ämt
->
İtiÚs
)() < 0)

713 
	`wr_¬chive
(&
¬chd
, 0);

714 
	}
}

725 
	$cİy
()

727 
ARCHD
 *
¬ú
;

728 
»s
;

729 
fdde¡
;

730 *
de¡_±
;

731 
dËn
;

732 
d»m
;

733 
fd¤c
 = -1;

734 
¡©
 
sb
;

735 
ARCHD
 
¬chd
;

736 
dœbuf
[
PAXPATHLEN
+1];

738 
¬ú
 = &
¬chd
;

743 
dËn
 = 
	`l_¡ºıy
(
dœbuf
, 
dœ±r
, (dirbuf) - 1);

744 
de¡_±
 = 
dœbuf
 + 
dËn
;

745 ià(*(
de¡_±
-1) != '/') {

746 *
de¡_±
++ = '/';

747 ++
dËn
;

749 *
de¡_±
 = '\0';

750 
d»m
 = 
PAXPATHLEN
 - 
dËn
;

752 ià(
	`¡©
(
dœ±r
, &
sb
) < 0) {

753 
	`sysw¬n
(1, 
”ºo
, "Cannot‡ccess destination directory %s",

754 
dœ±r
);

757 ià(!
	`S_ISDIR
(
sb
.
¡_mode
)) {

758 
	`·xw¬n
(1, "De¡š©iÚ i nÙ‡ dœeùÜy %s", 
dœ±r
);

766 ià((
	`Êk_¡¬t
(è< 0è|| (
	`á»e_¡¬t
(è< 0è|| (
	`dœ_¡¬t
() < 0))

773 ià(
iæag
 && (
	`Çme_¡¬t
() < 0))

779 
	`ı_¡¬t
();

784 
	`Ãxt_fe
(
¬ú
) == 0) {

785 
fd¤c
 = -1;

790 ià(
	`£l_chk
(
¬ú
) != 0) {

791 
	`á»e_nÙ£l
();

805 ià(
uæag
 || 
Dæag
) {

809 ià(*(
¬ú
->
Çme
) == '/')

810 
»s
 = 1;

812 
»s
 = 0;

813 ià((
¬ú
->
Æ’
 - 
»s
è> 
d»m
) {

814 
	`·xw¬n
(1, "Destination…athnameoo†ong %s",

815 
¬ú
->
Çme
);

818 ()
	`¡ºıy
(
de¡_±
, 
¬ú
->
Çme
 + 
»s
, 
d»m
);

819 
dœbuf
[
PAXPATHLEN
] = '\0';

824 
»s
 = 
	`l¡©
(
dœbuf
, &
sb
);

825 *
de¡_±
 = '\0';

827 ià(
»s
 == 0) {

828 ià(
uæag
 && 
Dæag
) {

829 ià((
¬ú
->
sb
.
¡_mtime
<=sb.st_mtime) &&

830 (
¬ú
->
sb
.
¡_ùime
<=sb.st_ctime))

832 } ià(
Dæag
) {

833 ià(
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime)

835 } ià(
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime)

845 
	`á»e_£l
(
¬ú
);

846 ià((
	`chk_Êk
(
¬ú
è< 0è|| ((
»s
 = 
	`mod_Çme
(arcn)) < 0))

848 ià((
»s
 > 0è|| (
	`£t_de¡
(
¬ú
, 
dœbuf
, 
dËn
) < 0)) {

852 
	`purg_Êk
(
¬ú
);

860 ià((
Yæag
 || 
Zæag
è&& ((
	`l¡©
(
¬ú
->
Çme
, &
sb
) == 0))) {

861 ià(
Yæag
 && 
Zæag
) {

862 ià((
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime) &&

863 (
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime))

865 } ià(
Yæag
) {

866 ià(
¬ú
->
sb
.
¡_ùime
 <= sb.st_ctime)

868 } ià(
¬ú
->
sb
.
¡_mtime
 <= sb.st_mtime)

872 ià(
væag
) {

873 ()
	`åuts
(
¬ú
->
Çme
, 
li¡f
);

874 
vå¬t
 = 1;

876 ++
æút
;

882 ià(
læag
)

883 
»s
 = 
	`üoss_Êk
(
¬ú
);

885 
»s
 = 
	`chk_§me
(
¬ú
);

886 ià(
»s
 <= 0) {

887 ià(
væag
 && 
vå¬t
) {

888 ()
	`putc
('\n', 
li¡f
);

889 
vå¬t
 = 0;

897 ià((
¬ú
->
ty³
 !ğ
PAX_REG
è&& (¬ú->ty³ !ğ
PAX_CTG
)) {

901 ià((
¬ú
->
ty³
 =ğ
PAX_HLK
è|| (¬ú->ty³ =ğ
PAX_HRG
))

902 
»s
 = 
	`Êk_ü—t
(
¬ú
);

904 
»s
 = 
	`node_ü—t
(
¬ú
);

905 ià(
»s
 < 0)

906 
	`purg_Êk
(
¬ú
);

907 ià(
væag
 && 
vå¬t
) {

908 ()
	`putc
('\n', 
li¡f
);

909 
vå¬t
 = 0;

918 ià((
fd¤c
 = 
	`İ’
(
¬ú
->
Üg_Çme
, 
O_RDONLY
, 0)) < 0) {

919 
	`sysw¬n
(1, 
”ºo
, "Unableo open %so„ead",

920 
¬ú
->
Üg_Çme
);

921 
	`purg_Êk
(
¬ú
);

924 ià((
fdde¡
 = 
	`fe_ü—t
(
¬ú
)) < 0) {

925 
	`rdfe_şo£
(
¬ú
, &
fd¤c
);

926 
	`purg_Êk
(
¬ú
);

933 
	`ı_fe
(
¬ú
, 
fd¤c
, 
fdde¡
);

934 
	`fe_şo£
(
¬ú
, 
fdde¡
);

935 
	`rdfe_şo£
(
¬ú
, &
fd¤c
);

937 ià(
væag
 && 
vå¬t
) {

938 ()
	`putc
('\n', 
li¡f
);

939 
vå¬t
 = 0;

948 ()
	`sig´ocmask
(
SIG_BLOCK
, &
s_mask
, 
NULL
);

949 
	`¬_şo£
();

950 
	`´oc_dœ
();

951 
	`á»e_chk
();

952 
	}
}

974 
	$Ãxt_h—d
(
ARCHD
 *
¬ú
)

976 
»t
;

977 *
hd’d
;

978 
»s
;

979 
shász
;

980 
hsz
;

981 
š_»sync
 = 0;

982 
út
 = 0;

983 
fœ¡
 = 1;

989 
»s
 = 
hsz
 = 
ämt
->hsz;

990 
hd’d
 = 
hdbuf
;

991 
shász
 = 
hsz
 - 1;

998 ià((
»t
 = 
	`rd_wrbuf
(
hd’d
, 
»s
)) ==„es)

1008 ià(
fœ¡
 && 
»t
 == 0)

1010 
fœ¡
 = 0;

1016 ià((
»t
 =ğ0è|| (
	`rd_sync
() < 0)) {

1017 
	`·xw¬n
(1,"Prematureƒnd of file on‡rchive„ead");

1020 ià(!
š_»sync
) {

1021 ià(
aù
 =ğ
APPND
) {

1022 
	`·xw¬n
(1,

1026 
	`·xw¬n
(1,"Archive I/Oƒrror. Tryingo„ecover.");

1027 ++
š_»sync
;

1033 
»s
 = 
hsz
;

1034 
hd’d
 = 
hdbuf
;

1049 ià((*
ämt
->
rd
)(
¬ú
, 
hdbuf
) == 0)

1052 ià(!
ämt
->
šh—d
) {

1056 ià((
»t
 = (*
ämt
->
Œa_r
)(
hdbuf
,
š_»sync
,&
út
)) == 0){

1060 
	`¬_d¿š
();

1064 ià(
»t
 == 1) {

1071 
»s
 = 
hsz
;

1072 
hd’d
 = 
hdbuf
;

1085 ià(!
š_»sync
) {

1086 ià(
aù
 =ğ
APPND
) {

1087 
	`·xw¬n
(1,"Unableo‡ppend,‡rchive header flaw");

1090 
	`·xw¬n
(1,"Invalid header, starting valid header search.");

1091 ++
š_»sync
;

1093 
	`memmove
(
hdbuf
, hdbuf+1, 
shász
);

1094 
»s
 = 1;

1095 
hd’d
 = 
hdbuf
 + 
shász
;

1102 ià(
ämt
->
šh—d
 && ((*ämt->
Œa_ıio
)(
¬ú
) == 0)) {

1106 
	`¬_d¿š
();

1110 ++
æút
;

1112 
	}
}

1125 
	$g‘_¬c
()

1127 
i
;

1128 
hdsz
 = 0;

1129 
»s
;

1130 
mšhd
 = 
BLKMULT
;

1131 *
hd’d
;

1132 
nÙiû
 = 0;

1138 
i
 = 0; 
fÜd
[i] >= 0; ++i) {

1139 ià(
fsub
[
fÜd
[
i
]].
hsz
 < 
mšhd
)

1140 
mšhd
 = 
fsub
[
fÜd
[
i
]].
hsz
;

1142 ià(
	`rd_¡¬t
() < 0)

1144 
»s
 = 
BLKMULT
;

1145 
hdsz
 = 0;

1146 
hd’d
 = 
hdbuf
;

1152 
i
 = 
	`rd_wrbuf
(
hd’d
, 
»s
);

1153 ià(
i
 > 0)

1154 
hdsz
 +ğ
i
;

1155 ià(
hdsz
 >ğ
mšhd
)

1161 ià((
i
 =ğ0è|| (
	`rd_sync
() < 0))

1162 
out
;

1170 
»s
 = 
BLKMULT
;

1171 
hdsz
 = 0;

1172 
hd’d
 = 
hdbuf
;

1173 ià(!
nÙiû
) {

1174 ià(
aù
 =ğ
APPND
)

1176 
	`·xw¬n
(1,"Cannot identify format. Searching...");

1177 ++
nÙiû
;

1189 
i
 = 0; 
fÜd
[i] >= 0; ++i) {

1190 ià((*
fsub
[
fÜd
[
i
]].
id
)(
hdbuf
, 
hdsz
) < 0)

1192 
ämt
 = &(
fsub
[
fÜd
[
i
]]);

1200 
	`pback
(
hdbuf
, 
hdsz
);

1208 ià(!
nÙiû
) {

1209 ià(
aù
 =ğ
APPND
)

1211 
	`·xw¬n
(1, "Cannot identify format. Searching...");

1212 ++
nÙiû
;

1221 ià(--
hdsz
 > 0) {

1222 
	`memmove
(
hdbuf
, hdbuf+1, 
hdsz
);

1223 
»s
 = 
BLKMULT
 - 
hdsz
;

1224 
hd’d
 = 
hdbuf
 + 
hdsz
;

1226 
»s
 = 
BLKMULT
;

1227 
hd’d
 = 
hdbuf
;

1228 
hdsz
 = 0;

1232 
out
:

1236 
	`·xw¬n
(1, "Sorry, unableo determine‡rchive format.");

1238 
	}
}

	@pax/buf_subs.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)buf_subs.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/buf_subs.c,v 1.23.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/¡©.h
>

44 
	~<”ºo.h
>

45 
	~<uni¡d.h
>

46 
	~<¡dio.h
>

47 
	~<¡dlib.h
>

48 
	~<¡ršg.h
>

49 
	~"·x.h
"

50 
	~"ex‹º.h
"

56 
	#MINFBSZ
 512

	)

57 
	#MAXFLT
 10

	)

64 
	gbufmem
[
MAXBLK
+
BLKMULT
];

65 *
	gbuf
;

66 *
	gbuãnd
;

67 *
	gbuåt
;

68 
	gblksz
 = 
MAXBLK
;

69 
	gwrblksz
;

70 
	gmaxæt
 = 
MAXFLT
;

71 
	grdblksz
;

72 
off_t
 
	gw¾im™
;

73 
off_t
 
	gwrút
;

74 
off_t
 
	grdút
;

84 
	$wr_¡¬t
()

86 
buf
 = &(
bufmem
[
BLKMULT
]);

94 ià(!
wrblksz
)

95 
wrblksz
 = 
ämt
->
bsz
;

96 ià(
wrblksz
 > 
MAXBLK
) {

97 
	`·xw¬n
(1, "Write block size of %doo†arge, maximum is: %d",

98 
wrblksz
, 
MAXBLK
);

101 ià(
wrblksz
 % 
BLKMULT
) {

102 
	`·xw¬n
(1, "Write block size of %d is‚ot‡ %d byte multiple",

103 
wrblksz
, 
BLKMULT
);

106 ià(
wrblksz
 > 
MAXBLK_POSIX
) {

107 
	`·xw¬n
(0, "Write block size of %d†argerhan POSIX max %d,‡rchive may‚ot be…ortable",

108 
wrblksz
, 
MAXBLK_POSIX
);

115 
blksz
 = 
rdblksz
 = 
wrblksz
;

116 ià((
	`¬_İ’
(
¬úame
è< 0è&& (
	`¬_Ãxt
() < 0))

118 
wrút
 = 0;

119 
buãnd
 = 
buf
 + 
wrblksz
;

120 
buåt
 = 
buf
;

122 
	}
}

132 
	$rd_¡¬t
()

139 
buf
 = &(
bufmem
[
BLKMULT
]);

140 ià((
aù
 =ğ
APPND
è&& 
wrblksz
) {

141 ià(
wrblksz
 > 
MAXBLK
) {

142 
	`·xw¬n
(1,"Write block size %doo†arge, maximum is: %d",

143 
wrblksz
, 
MAXBLK
);

146 ià(
wrblksz
 % 
BLKMULT
) {

147 
	`·xw¬n
(1, "Write block size %d is‚ot‡ %d byte multiple",

148 
wrblksz
, 
BLKMULT
);

156 ià((
	`¬_İ’
(
¬úame
è< 0è&& (
	`¬_Ãxt
() < 0))

158 
buãnd
 = 
buf
 + 
rdblksz
;

159 
buåt
 = 
buãnd
;

160 
rdút
 = 0;

162 
	}
}

170 
	$ı_¡¬t
()

172 
buf
 = &(
bufmem
[
BLKMULT
]);

173 
rdblksz
 = 
blksz
 = 
MAXBLK
;

174 
	}
}

209 
	$­²d_¡¬t
(
off_t
 
skút
)

211 
»s
;

212 
off_t
 
út
;

214 ià(
ex™_v®
 != 0) {

215 
	`·xw¬n
(0, "Cannot‡ppendo‡n‡rchivehat may have flaws.");

223 ià(!
wrblksz
)

224 
wrblksz
 = 
blksz
 = 
rdblksz
;

226 
blksz
 = 
rdblksz
;

231 ià(
	`¬_­p_ok
() < 0)

240 
skút
 +ğ
buãnd
 - 
buåt
;

241 ià((
út
 = (
skút
/
blksz
) * blksz) < skcnt)

242 
út
 +ğ
blksz
;

243 ià(
	`¬_»v
((
off_t
)
út
) < 0)

244 
out
;

251 ià((
út
 -ğ
skút
) > 0) {

258 
buåt
 = 
buf
;

259 
buãnd
 = 
buf
 + 
blksz
;

260 
buåt
 < 
buãnd
) {

261 ià((
»s
 = 
	`¬_»ad
(
buåt
, 
rdblksz
)) <= 0)

262 
out
;

263 
buåt
 +ğ
»s
;

265 ià(
	`¬_»v
((
off_t
)(
buåt
 - 
buf
)) < 0)

266 
out
;

267 
buåt
 = 
buf
 + 
út
;

268 
buãnd
 = 
buf
 + 
blksz
;

273 
buãnd
 = 
buf
 + 
blksz
;

274 
buåt
 = 
buf
;

276 
rdblksz
 = 
blksz
;

277 
rdút
 -ğ
skút
;

278 
wrút
 = 0;

286 ià(
	`¬_£t_wr
() < 0)

288 
aù
 = 
ARCHIVE
;

291 
out
:

292 
	`·xw¬n
(1, "Unableo„ewrite‡rchiverailer, cannot‡ppend.");

294 
	}
}

308 
	$rd_sync
()

310 
”rút
 = 0;

311 
»s
;

316 ià(
maxæt
 == 0)

318 ià(
aù
 =ğ
APPND
) {

319 
	`·xw¬n
(1, "Unableo‡ppend whenhere‡re‡rchive„eadƒrrors.");

326 ià(
	`¬_rdsync
() < 0) {

327 ià(
	`¬_Ãxt
() < 0)

330 
rdút
 = 0;

334 ià((
»s
 = 
	`¬_»ad
(
buf
, 
blksz
)) > 0) {

338 
buåt
 = 
buf
;

339 
buãnd
 = 
buf
 + 
»s
;

340 
rdút
 +ğ
»s
;

352 ià((
maxæt
 > 0è&& (++
”rút
 > maxflt))

353 
	`·xw¬n
(0,"Archiv»adƒ¼Ü†im™ (%dè»ached",
maxæt
);

354 ià(
	`¬_rdsync
() == 0)

356 ià(
	`¬_Ãxt
() < 0)

358 
rdút
 = 0;

359 
”rút
 = 0;

362 
	}
}

376 
	$pback
(*
±
, 
út
)

378 
buåt
 -ğ
út
;

379 
	`memıy
(
buåt
, 
±
, 
út
);

381 
	}
}

392 
	$rd_sk
(
off_t
 
skút
)

394 
off_t
 
»s
;

395 
off_t
 
út
;

396 
off_t
 
sk³d
 = 0;

404 ià(
skút
 == 0)

406 
»s
 = 
	`MIN
((
buãnd
 - 
buåt
), 
skút
);

407 
buåt
 +ğ
»s
;

408 
skút
 -ğ
»s
;

413 ià(
skút
 == 0)

420 
»s
 = 
skút
%
rdblksz
;

421 
út
 = (
skút
/
rdblksz
) *„dblksz;

427 ià(
	`¬_fow
(
út
, &
sk³d
) < 0)

429 
»s
 +ğ
út
 - 
sk³d
;

430 
rdút
 +ğ
sk³d
;

436 
»s
 > 0L) {

437 
út
 = 
buãnd
 - 
buåt
;

441 ià((
út
 <ğ0è&& ((úˆğ
	`buf_fl
()) < 0))

443 ià(
út
 == 0)

445 
út
 = 
	`MIN
(út, 
»s
);

446 
buåt
 +ğ
út
;

447 
»s
 -ğ
út
;

450 
	}
}

461 
	$wr_fš
()

463 ià(
buåt
 > 
buf
) {

464 
	`mem£t
(
buåt
, 0, 
buãnd
 - bufpt);

465 
buåt
 = 
buãnd
;

466 ()
	`buf_æush
(
blksz
);

468 
	}
}

482 
	$wr_rdbuf
(*
out
, 
outút
)

484 
út
;

490 
outút
 > 0) {

491 
út
 = 
buãnd
 - 
buåt
;

492 ià((
út
 <ğ0è&& ((úˆğ
	`buf_æush
(
blksz
)) < 0))

497 
út
 = 
	`MIN
(út, 
outút
);

498 
	`memıy
(
buåt
, 
out
, 
út
);

499 
buåt
 +ğ
út
;

500 
out
 +ğ
út
;

501 
outút
 -ğ
út
;

504 
	}
}

518 
	$rd_wrbuf
(*
š
, 
ıút
)

520 
»s
;

521 
út
;

522 
šút
 = 
ıút
;

527 
šút
 > 0) {

528 
út
 = 
buãnd
 - 
buåt
;

529 ià((
út
 <ğ0è&& ((úˆğ
	`buf_fl
()) <= 0)) {

536 ià((
»s
 = 
ıút
 - 
šút
) > 0)

537 (
»s
);

538 (
út
);

545 
út
 = 
	`MIN
(út, 
šút
);

546 
	`memıy
(
š
, 
buåt
, 
út
);

547 
buåt
 +ğ
út
;

548 
šút
 -ğ
út
;

549 
š
 +ğ
út
;

551 (
ıút
);

552 
	}
}

566 
	$wr_sk
(
off_t
 
skút
)

568 
út
;

573 
skút
 > 0L) {

574 
út
 = 
buãnd
 - 
buåt
;

575 ià((
út
 <ğ0è&& ((úˆğ
	`buf_æush
(
blksz
)) < 0))

577 
út
 = 
	`MIN
(út, 
skút
);

578 
	`mem£t
(
buåt
, 0, 
út
);

579 
buåt
 +ğ
út
;

580 
skút
 -ğ
út
;

583 
	}
}

604 
	$wr_rdfe
(
ARCHD
 *
¬ú
, 
ifd
, 
off_t
 *
Ëá
)

606 
út
;

607 
»s
 = 0;

608 
off_t
 
size
 = 
¬ú
->
sb
.
¡_size
;

609 
¡©
 
sb
;

614 
size
 > 0L) {

615 
út
 = 
buãnd
 - 
buåt
;

616 ià((
út
 <ğ0è&& ((úˆğ
	`buf_æush
(
blksz
)) < 0)) {

617 *
Ëá
 = 
size
;

620 
út
 = 
	`MIN
(út, 
size
);

621 ià((
»s
 = 
	`»ad
(
ifd
, 
buåt
, 
út
)) <= 0)

623 
size
 -ğ
»s
;

624 
buåt
 +ğ
»s
;

631 ià(
»s
 < 0)

632 
	`sysw¬n
(1, 
”ºo
, "R—d fauÉ oÀ%s", 
¬ú
->
Üg_Çme
);

633 ià(
size
 != 0L)

634 
	`·xw¬n
(1, "Fchªged sizduršg„—d %s", 
¬ú
->
Üg_Çme
);

635 ià(
	`f¡©
(
ifd
, &
sb
) < 0)

636 
	`sysw¬n
(1, 
”ºo
, "Faed sˆÚ %s", 
¬ú
->
Üg_Çme
);

637 ià(
¬ú
->
sb
.
¡_mtime
 != sb.st_mtime)

638 
	`·xw¬n
(1, "File %s was modified during copyo‡rchive",

639 
¬ú
->
Üg_Çme
);

640 *
Ëá
 = 
size
;

642 
	}
}

665 
	$rd_wrfe
(
ARCHD
 *
¬ú
, 
ofd
, 
off_t
 *
Ëá
)

667 
út
 = 0;

668 
off_t
 
size
 = 
¬ú
->
sb
.
¡_size
;

669 
»s
 = 0;

670 *
âm
 = 
¬ú
->
Çme
;

671 
i£m
 = 1;

672 
»m
;

673 
sz
 = 
MINFBSZ
;

674 
¡©
 
sb
;

675 
u_lÚg
 
üc
 = 0L;

681 ià(
	`f¡©
(
ofd
, &
sb
) == 0) {

682 ià(
sb
.
¡_blksize
 > 0)

683 
sz
 = ()
sb
.
¡_blksize
;

685 
	`sysw¬n
(0,
”ºo
,"UÇbËØobš block sizfÜ f%s",
âm
);

686 
»m
 = 
sz
;

687 *
Ëá
 = 0L;

694 
size
 > 0L) {

695 
út
 = 
buãnd
 - 
buåt
;

701 ià((
út
 <ğ0è&& ((úˆğ
	`buf_fl
()) <= 0))

703 
út
 = 
	`MIN
(út, 
size
);

704 ià((
»s
 = 
	`fe_wr™e
(
ofd
,
buåt
,
út
,&
»m
,&
i£m
,
sz
,
âm
)) <= 0) {

705 *
Ëá
 = 
size
;

709 ià(
doüc
) {

713 
út
 = 
»s
;

714 --
út
 >= 0)

715 
üc
 +ğ*
buåt
++ & 0xff;

717 
buåt
 +ğ
»s
;

718 
size
 -ğ
»s
;

727 ià(
i£m
 && (
¬ú
->
sb
.
¡_size
 > 0L))

728 
	`fe_æush
(
ofd
, 
âm
, 
i£m
);

733 ià((
size
 > 0Lè&& (*
Ëá
 == 0L))

740 ià(
doüc
 && (
size
 =ğ0Lè&& (
¬ú
->
üc
 != crc))

741 
	`·xw¬n
(1,"Aùu® crødÛ nÙ m©chƒx³ùed crø%s",
¬ú
->
Çme
);

743 
	}
}

753 
	$ı_fe
(
ARCHD
 *
¬ú
, 
fd1
, 
fd2
)

755 
út
;

756 
off_t
 
ıút
 = 0L;

757 
»s
 = 0;

758 *
âm
 = 
¬ú
->
Çme
;

759 
no_hŞe
 = 0;

760 
i£m
 = 1;

761 
»m
;

762 
sz
 = 
MINFBSZ
;

763 
¡©
 
sb
;

769 ià(((
off_t
)(
¬ú
->
sb
.
¡_blocks
 * 
BLKMULT
)è>ğ¬ú->sb.
¡_size
)

770 ++
no_hŞe
;

776 ià(
	`f¡©
(
fd2
, &
sb
) == 0) {

777 ià(
sb
.
¡_blksize
 > 0)

778 
sz
 = 
sb
.
¡_blksize
;

780 
	`sysw¬n
(0,
”ºo
,"UÇbËØobš block sizfÜ f%s",
âm
);

781 
»m
 = 
sz
;

787 ià((
út
 = 
	`»ad
(
fd1
, 
buf
, 
blksz
)) <= 0)

789 ià(
no_hŞe
)

790 
»s
 = 
	`wr™e
(
fd2
, 
buf
, 
út
);

792 
»s
 = 
	`fe_wr™e
(
fd2
, 
buf
, 
út
, &
»m
, &
i£m
, 
sz
, 
âm
);

793 ià(
»s
 !ğ
út
)

795 
ıút
 +ğ
út
;

801 ià(
»s
 < 0)

802 
	`sysw¬n
(1, 
”ºo
, "Failed write during copy of %so %s",

803 
¬ú
->
Üg_Çme
,‡rú->
Çme
);

804 ià(
ıút
 !ğ
¬ú
->
sb
.
¡_size
)

805 
	`·xw¬n
(1, "File %s changed size during copyo %s",

806 
¬ú
->
Üg_Çme
,‡rú->
Çme
);

807 ià(
	`f¡©
(
fd1
, &
sb
) < 0)

808 
	`sysw¬n
(1, 
”ºo
, "Faed sˆoà%s", 
¬ú
->
Üg_Çme
);

809 ià(
¬ú
->
sb
.
¡_mtime
 != sb.st_mtime)

810 
	`·xw¬n
(1, "File %s was modified during copyo %s",

811 
¬ú
->
Üg_Çme
,‡rú->
Çme
);

819 ià(!
no_hŞe
 && 
i£m
 && (
¬ú
->
sb
.
¡_size
 > 0L))

820 
	`fe_æush
(
fd2
, 
âm
, 
i£m
);

822 
	}
}

834 
	$buf_fl
()

836 
út
;

837 
fši
 = 0;

839 ià(
fši
)

847 ià((
út
 = 
	`¬_»ad
(
buf
, 
blksz
)) > 0) {

848 
buåt
 = 
buf
;

849 
buãnd
 = 
buf
 + 
út
;

850 
rdút
 +ğ
út
;

851 (
út
);

857 ià(
út
 < 0)

859 ià(
	`¬_Ãxt
() < 0) {

860 
fši
 = 1;

863 
rdút
 = 0;

865 
ex™_v®
 = 1;

867 
	}
}

879 
	$buf_æush
(
bufút
)

881 
út
;

882 
push
 = 0;

883 
tÙút
 = 0;

891 ià((
w¾im™
 > 0è&& (
wrút
 > wrlimit)) {

892 
	`·xw¬n
(0, "User specified‡rchive volume byte†imit„eached.");

893 ià(
	`¬_Ãxt
() < 0) {

894 
wrút
 = 0;

895 
ex™_v®
 = 1;

898 
wrút
 = 0;

909 
buãnd
 = 
buf
 + 
blksz
;

910 ià(
blksz
 > 
bufút
)

912 ià(
blksz
 < 
bufút
)

913 
push
 = 
bufút
 - 
blksz
;

923 
út
 = 
	`¬_wr™e
(
buf
, 
blksz
);

924 ià(
út
 =ğ
blksz
) {

928 
wrút
 +ğ
út
;

929 
tÙút
 +ğ
út
;

930 ià(
push
 > 0) {

935 
	`memıy
(
buf
, 
buãnd
, 
push
);

936 
buåt
 = 
buf
 + 
push
;

937 ià(
push
 >ğ
blksz
) {

938 
push
 -ğ
blksz
;

942 
buåt
 = 
buf
;

943 (
tÙút
);

944 } ià(
út
 > 0) {

951 
tÙút
 +ğ
út
;

952 
wrút
 +ğ
út
;

953 
buåt
 = 
buf
 + 
út
;

954 
út
 = 
bufút
 - cnt;

955 
	`memıy
(
buf
, 
buåt
, 
út
);

956 
buåt
 = 
buf
 + 
út
;

957 ià(!
ämt
->
blk®gn
 || ((
út
 % frmt->blkalgn) == 0))

958 (
tÙút
);

965 
wrút
 = 0;

966 ià(
	`¬_Ãxt
() < 0)

974 
buãnd
 = 
buf
 + 
blksz
;

975 ià(
blksz
 > 
bufút
)

977 ià(
blksz
 < 
bufút
)

978 
push
 = 
bufút
 - 
blksz
;

984 
ex™_v®
 = 1;

986 
	}
}

	@pax/cache.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)cache.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/cache.c,v 1.21.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/¡©.h
>

44 
	~<¡ršg.h
>

45 
	~<¡dio.h
>

46 
	~<pwd.h
>

47 
	~<g½.h
>

48 
	~<uni¡d.h
>

49 
	~<¡dlib.h
>

50 
	~"·x.h
"

51 
	~"ÿche.h
"

52 
	~"ex‹º.h
"

61 
	gpwİn
 = 0;

62 
	ggrİn
 = 0;

63 
UIDC
 **
	guidtb
 = 
NULL
;

64 
GIDC
 **
	ggidtb
 = 
NULL
;

65 
UIDC
 **
	gu¤tb
 = 
NULL
;

66 
GIDC
 **
	gg½tb
 = 
NULL
;

76 
	$uidtb_¡¬t
()

78 
ç
 = 0;

80 ià(
uidtb
 !ğ
NULL
)

82 ià(
ç
)

84 ià((
uidtb
 = (
UIDC
 **)
	`ÿÎoc
(
UID_SZ
, (UIDC *))è=ğ
NULL
) {

85 ++
ç
;

86 
	`·xw¬n
(1, "Unableo‡llocate memory for user id cacheable");

90 
	}
}

100 
	$gidtb_¡¬t
()

102 
ç
 = 0;

104 ià(
gidtb
 !ğ
NULL
)

106 ià(
ç
)

108 ià((
gidtb
 = (
GIDC
 **)
	`ÿÎoc
(
GID_SZ
, (GIDC *))è=ğ
NULL
) {

109 ++
ç
;

110 
	`·xw¬n
(1, "Unableo‡llocate memory for group id cacheable");

114 
	}
}

124 
	$u¤tb_¡¬t
()

126 
ç
 = 0;

128 ià(
u¤tb
 !ğ
NULL
)

130 ià(
ç
)

132 ià((
u¤tb
 = (
UIDC
 **)
	`ÿÎoc
(
UNM_SZ
, (UIDC *))è=ğ
NULL
) {

133 ++
ç
;

134 
	`·xw¬n
(1, "Unableo‡llocate memory for user‚ame cacheable");

138 
	}
}

148 
	$g½tb_¡¬t
()

150 
ç
 = 0;

152 ià(
g½tb
 !ğ
NULL
)

154 ià(
ç
)

156 ià((
g½tb
 = (
GIDC
 **)
	`ÿÎoc
(
GNM_SZ
, (GIDC *))è=ğ
NULL
) {

157 ++
ç
;

158 
	`·xw¬n
(1,"Unableo‡llocate memory for group‚ame cacheable");

162 
	}
}

173 
	$Çme_uid
(
uid_t
 
uid
, 
äc
)

175 
·sswd
 *
pw
;

176 
UIDC
 *
±r
;

178 ià((
uidtb
 =ğ
NULL
è&& (
	`uidtb_¡¬t
() < 0))

184 
±r
 = 
uidtb
[
uid
 % 
UID_SZ
];

185 ià((
±r
 !ğ
NULL
è&& (±r->
v®id
 > 0è&& (±r->
uid
 == uid)) {

189 ià(
äc
 || (
±r
->
v®id
 =ğ
VALID
))

190 (
±r
->
Çme
);

197 ià(!
pwİn
) {

198 
	`£as£Á
(1);

199 ++
pwİn
;

201 ià(
±r
 =ğ
NULL
)

202 
±r
 = 
uidtb
[
uid
 % 
UID_SZ
] = (
UIDC
 *)
	`m®loc
((UIDC));

204 ià((
pw
 = 
	`g‘pwuid
(
uid
)è=ğ
NULL
) {

209 ià(
±r
 =ğ
NULL
)

211 
±r
->
uid
 = uid;

212 
±r
->
v®id
 = 
INVALID
;

213 #ifdeà
NET2_STAT


214 ()
	`¢´štf
(
±r
->
Çme
, ÕŒ->Çme), "%u", 
uid
);

216 ()
	`¢´štf
(
±r
->
Çme
, (ptr->name), "%lu",

217 ()
uid
);

219 ià(
äc
 == 0)

225 ià(
±r
 =ğ
NULL
)

226 (
pw
->
pw_Çme
);

227 
±r
->
uid
 = uid;

228 ()
	`¡ºıy
(
±r
->
Çme
, 
pw
->
pw_Çme
, 
UNMLEN
 - 1);

229 
±r
->
Çme
[
UNMLEN
-1] = '\0';

230 
±r
->
v®id
 = 
VALID
;

232 (
±r
->
Çme
);

233 
	}
}

244 
	$Çme_gid
(
gid_t
 
gid
, 
äc
)

246 
group
 *
gr
;

247 
GIDC
 *
±r
;

249 ià((
gidtb
 =ğ
NULL
è&& (
	`gidtb_¡¬t
() < 0))

255 
±r
 = 
gidtb
[
gid
 % 
GID_SZ
];

256 ià((
±r
 !ğ
NULL
è&& (±r->
v®id
 > 0è&& (±r->
gid
 == gid)) {

260 ià(
äc
 || (
±r
->
v®id
 =ğ
VALID
))

261 (
±r
->
Çme
);

268 ià(!
grİn
) {

269 
	`£tgrou³Á
(1);

270 ++
grİn
;

272 ià(
±r
 =ğ
NULL
)

273 
±r
 = 
gidtb
[
gid
 % 
GID_SZ
] = (
GIDC
 *)
	`m®loc
((GIDC));

275 ià((
gr
 = 
	`g‘grgid
(
gid
)è=ğ
NULL
) {

280 ià(
±r
 =ğ
NULL
)

282 
±r
->
gid
 = gid;

283 
±r
->
v®id
 = 
INVALID
;

284 #ifdeà
NET2_STAT


285 ()
	`¢´štf
(
±r
->
Çme
, ÕŒ->Çme), "%u", 
gid
);

287 ()
	`¢´štf
(
±r
->
Çme
, (ptr->name), "%lu",

288 ()
gid
);

290 ià(
äc
 == 0)

296 ià(
±r
 =ğ
NULL
)

297 (
gr
->
gr_Çme
);

298 
±r
->
gid
 = gid;

299 ()
	`¡ºıy
(
±r
->
Çme
, 
gr
->
gr_Çme
, 
GNMLEN
 - 1);

300 
±r
->
Çme
[
GNMLEN
-1] = '\0';

301 
±r
->
v®id
 = 
VALID
;

303 (
±r
->
Çme
);

304 
	}
}

314 
	$uid_Çme
(*
Çme
, 
uid_t
 *
uid
)

316 
·sswd
 *
pw
;

317 
UIDC
 *
±r
;

318 
Çm–’
;

323 ià(((
Çm–’
 = 
	`¡¾’
(
Çme
)) == 0) || (name[0] == '\0'))

325 ià((
u¤tb
 =ğ
NULL
è&& (
	`u¤tb_¡¬t
() < 0))

332 
±r
 = 
u¤tb
[
	`¡_hash
(
Çme
, 
Çm–’
, 
UNM_SZ
)];

333 ià((
±r
 !ğ
NULL
è&& (±r->
v®id
 > 0è&& !
	`¡rcmp
(
Çme
,…tr->name)) {

334 ià(
±r
->
v®id
 =ğ
INVALID
)

336 *
uid
 = 
±r
->uid;

340 ià(!
pwİn
) {

341 
	`£as£Á
(1);

342 ++
pwİn
;

345 ià(
±r
 =ğ
NULL
)

346 
±r
 = 
u¤tb
[
	`¡_hash
(
Çme
, 
Çm–’
, 
UNM_SZ
)] =

347 (
UIDC
 *)
	`m®loc
((UIDC));

353 ià(
±r
 =ğ
NULL
) {

354 ià((
pw
 = 
	`g‘pwÇm
(
Çme
)è=ğ
NULL
)

356 *
uid
 = 
pw
->
pw_uid
;

359 ()
	`¡ºıy
(
±r
->
Çme
,‚ame, 
UNMLEN
 - 1);

360 
±r
->
Çme
[
UNMLEN
-1] = '\0';

361 ià((
pw
 = 
	`g‘pwÇm
(
Çme
)è=ğ
NULL
) {

362 
±r
->
v®id
 = 
INVALID
;

365 
±r
->
v®id
 = 
VALID
;

366 *
uid
 = 
±r
->uid = 
pw
->
pw_uid
;

368 
	}
}

378 
	$gid_Çme
(*
Çme
, 
gid_t
 *
gid
)

380 
group
 *
gr
;

381 
GIDC
 *
±r
;

382 
Çm–’
;

387 ià(((
Çm–’
 = 
	`¡¾’
(
Çme
)) == 0) || (name[0] == '\0'))

389 ià((
g½tb
 =ğ
NULL
è&& (
	`g½tb_¡¬t
() < 0))

396 
±r
 = 
g½tb
[
	`¡_hash
(
Çme
, 
Çm–’
, 
GID_SZ
)];

397 ià((
±r
 !ğ
NULL
è&& (±r->
v®id
 > 0è&& !
	`¡rcmp
(
Çme
,…tr->name)) {

398 ià(
±r
->
v®id
 =ğ
INVALID
)

400 *
gid
 = 
±r
->gid;

404 ià(!
grİn
) {

405 
	`£tgrou³Á
(1);

406 ++
grİn
;

408 ià(
±r
 =ğ
NULL
)

409 
±r
 = 
g½tb
[
	`¡_hash
(
Çme
, 
Çm–’
, 
GID_SZ
)] =

410 (
GIDC
 *)
	`m®loc
((GIDC));

416 ià(
±r
 =ğ
NULL
) {

417 ià((
gr
 = 
	`g‘gºam
(
Çme
)è=ğ
NULL
)

419 *
gid
 = 
gr
->
gr_gid
;

423 ()
	`¡ºıy
(
±r
->
Çme
,‚ame, 
GNMLEN
 - 1);

424 
±r
->
Çme
[
GNMLEN
-1] = '\0';

425 ià((
gr
 = 
	`g‘gºam
(
Çme
)è=ğ
NULL
) {

426 
±r
->
v®id
 = 
INVALID
;

429 
±r
->
v®id
 = 
VALID
;

430 *
gid
 = 
±r
->gid = 
gr
->
gr_gid
;

432 
	}
}

	@pax/cache.h

48 
	#UNMLEN
 32

	)

49 
	#GNMLEN
 32

	)

50 
	#UID_SZ
 317

	)

51 
	#UNM_SZ
 317

	)

52 
	#GID_SZ
 251

	)

53 
	#GNM_SZ
 317

	)

54 
	#VALID
 1

	)

55 
	#INVALID
 2

	)

61 
	suidc
 {

62 
	mv®id
;

63 
	mÇme
[
UNMLEN
];

64 
uid_t
 
	muid
;

65 } 
	tUIDC
;

67 
	sgidc
 {

68 
	mv®id
;

69 
	mÇme
[
GNMLEN
];

70 
gid_t
 
	mgid
;

71 } 
	tGIDC
;

	@pax/cpio.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)cpio.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/cpio.c,v 1.24.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<¡ršg.h
>

46 
	~<¡dšt.h
>

47 
	~<¡dio.h
>

48 
	~<uni¡d.h
>

49 
	~<¡dlib.h
>

50 
	~"·x.h
"

51 
	~"ıio.h
"

52 
	~"ex‹º.h
"

54 
rd_nm
(
ARCHD
 *, );

55 
rd_Ê_nm
(
ARCHD
 *);

56 
com_rd
(
ARCHD
 *);

62 
	gswp_h—d
;

76 
	$ıio_¡rd
()

78 (
	`Êk_¡¬t
());

79 
	}
}

92 
	$ıio_Œa
(
ARCHD
 *
¬ú
)

97 ià((
	`¡rcmp
(
¬ú
->
Çme
, 
TRAILER
è=ğ0è&& (¬ú->
sb
.
¡_size
 == 0))

100 
	}
}

110 
	$com_rd
(
ARCHD
 *
¬ú
)

112 
¬ú
->
sk
 = 0;

113 
¬ú
->
·t
 = 
NULL
;

114 
¬ú
->
Üg_Çme
 =‡rú->
Çme
;

115 
¬ú
->
sb
.
¡_mode
 & 
C_IFMT
) {

116 
C_ISFIFO
:

117 
¬ú
->
ty³
 = 
PAX_FIF
;

119 
C_ISDIR
:

120 
¬ú
->
ty³
 = 
PAX_DIR
;

122 
C_ISBLK
:

123 
¬ú
->
ty³
 = 
PAX_BLK
;

125 
C_ISCHR
:

126 
¬ú
->
ty³
 = 
PAX_CHR
;

128 
C_ISLNK
:

129 
¬ú
->
ty³
 = 
PAX_SLK
;

131 
C_ISOCK
:

132 
¬ú
->
ty³
 = 
PAX_SCK
;

134 
C_ISCTG
:

135 
C_ISREG
:

141 
¬ú
->
sb
.
¡_mode
 = (¬ú->sb.¡_mod& 0xfffè| 
C_ISREG
;

142 
¬ú
->
ty³
 = 
PAX_REG
;

143 
¬ú
->
sk
 =‡rú->
sb
.
¡_size
;

146 ià(
	`chk_Êk
(
¬ú
) < 0)

149 
	}
}

159 
	$ıio_’dwr
()

161 
ARCHD
 
Ï¡
;

166 
	`mem£t
(&
Ï¡
, 0, (last));

167 
Ï¡
.
Æ’
 = (
TRAILER
) - 1;

168 
Ï¡
.
ty³
 = 
PAX_REG
;

169 
Ï¡
.
sb
.
¡_Æšk
 = 1;

170 ()
	`¡rıy
(
Ï¡
.
Çme
, 
TRAILER
);

171 ((*
ämt
->
wr
)(&
Ï¡
));

172 
	}
}

182 
	$rd_nm
(
ARCHD
 *
¬ú
, 
nsz
)

187 ià((
nsz
 =ğ0è|| (nsz > ()(
¬ú
->
Çme
))) {

188 
	`·xw¬n
(1, "CpiØfÇmËngth %d i ouˆoà¿nge", 
nsz
);

195 ià((
	`rd_wrbuf
(
¬ú
->
Çme
,
nsz
) !=‚sz) || (arcn->name[nsz-1] != '\0') ||

196 (
¬ú
->
Çme
[0] == '\0')) {

197 
	`·xw¬n
(1, "Cpio file‚ame in header is corrupted");

201 
	}
}

212 
	$rd_Ê_nm
(
ARCHD
 *
¬ú
)

217 ià((
¬ú
->
sb
.
¡_size
 == 0) ||

218 ((
size_t
)
¬ú
->
sb
.
¡_size
 >ğ×rú->
Ê_Çme
))) {

219 #ifdeà
NET2_STAT


220 
	`·xw¬n
(1, "Cpio†ink‚ame†ength is invalid: %lu",

221 
¬ú
->
sb
.
¡_size
);

223 
	`·xw¬n
(1, "Cpio†ink‚ame†ength is invalid: %ju",

224 (
uštmax_t
)
¬ú
->
sb
.
¡_size
);

232 ià(
	`rd_wrbuf
(
¬ú
->
Ê_Çme
, (ïrú->
sb
.
¡_size
) !=

233 ()
¬ú
->
sb
.
¡_size
) {

234 
	`·xw¬n
(1, "Cpio†ink‚ame„eadƒrror");

237 
¬ú
->
Ê_Æ’
 =‡rú->
sb
.
¡_size
;

238 
¬ú
->
Ê_Çme
[¬ú->
Ê_Æ’
] = '\0';

243 ià(
¬ú
->
Ê_Çme
[0] == '\0') {

244 
	`·xw¬n
(1, "Cpio†ink‚ame is corrupt");

248 
	}
}

263 
	$ıio_id
(*
blk
, 
size
)

265 ià((
size
 < ()(
HD_CPIO
)) ||

266 (
	`¡ºcmp
(
blk
, 
AMAGIC
, (AMAGIC) - 1) != 0))

269 
	}
}

280 
	$ıio_rd
(
ARCHD
 *
¬ú
, *
buf
)

282 
nsz
;

283 
HD_CPIO
 *
hd
;

288 ià(
	`ıio_id
(
buf
, (
HD_CPIO
)) < 0)

290 
hd
 = (
HD_CPIO
 *)
buf
;

296 
¬ú
->
·d
 = 0L;

297 
¬ú
->
sb
.
¡_dev
 = (
dev_t
)
	`asc_ul
(
hd
->
c_dev
, (hd->c_dev), 
OCT
);

298 
¬ú
->
sb
.
¡_šo
 = (
šo_t
)
	`asc_ul
(
hd
->
c_šo
, (hd->c_šo), 
OCT
);

299 
¬ú
->
sb
.
¡_mode
 = (
mode_t
)
	`asc_ul
(
hd
->
c_mode
, (hd->c_mode), 
OCT
);

300 
¬ú
->
sb
.
¡_uid
 = (
uid_t
)
	`asc_ul
(
hd
->
c_uid
, (hd->c_uid), 
OCT
);

301 
¬ú
->
sb
.
¡_gid
 = (
gid_t
)
	`asc_ul
(
hd
->
c_gid
, (hd->c_gid), 
OCT
);

302 
¬ú
->
sb
.
¡_Æšk
 = (
Æšk_t
)
	`asc_ul
(
hd
->
c_Æšk
, (hd->c_nlink),

303 
OCT
);

304 
¬ú
->
sb
.
¡_rdev
 = (
dev_t
)
	`asc_ul
(
hd
->
c_rdev
, (hd->c_rdev), 
OCT
);

305 #ifdeà
NET2_STAT


306 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_ul
(
hd
->
c_mtime
, (hd->c_mtime),

307 
OCT
);

309 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_uqd
(
hd
->
c_mtime
, (hd->c_mtime),

310 
OCT
);

312 
¬ú
->
sb
.
¡_ùime
 =‡rú->sb.
¡_©ime
 =‡rú->sb.
¡_mtime
;

313 #ifdeà
NET2_STAT


314 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_ul
(
hd
->
c_fesize
,(hd->c_filesize),

315 
OCT
);

317 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_uqd
(
hd
->
c_fesize
,(hd->c_filesize),

318 
OCT
);

325 ià((
nsz
 = ()
	`asc_ul
(
hd
->
c_Çmesize
,(hd->c_Çmesize),
OCT
)) < 2)

327 
¬ú
->
Æ’
 = 
nsz
 - 1;

328 ià(
	`rd_nm
(
¬ú
, 
nsz
) < 0)

331 ià(((
¬ú
->
sb
.
¡_mode
&
C_IFMT
è!ğ
C_ISLNK
)||×rú->sb.
¡_size
 == 0)) {

335 
¬ú
->
Ê_Æ’
 = 0;

336 
¬ú
->
Ê_Çme
[0] = '\0';

337 (
	`com_rd
(
¬ú
));

344 ià(
	`rd_Ê_nm
(
¬ú
) < 0)

350 (
	`com_rd
(
¬ú
));

351 
	}
}

360 
off_t


361 
	$ıio_’drd
()

363 ((
off_t
)((
HD_CPIO
è+ (
TRAILER
)));

364 
	}
}

374 
	$ıio_¡wr
()

376 (
	`dev_¡¬t
());

377 
	}
}

389 
	$ıio_wr
(
ARCHD
 *
¬ú
)

391 
HD_CPIO
 *
hd
;

392 
nsz
;

393 
HD_CPIO
 
hdblk
;

398 ià(
	`m­_dev
(
¬ú
, (
u_lÚg
)
CPIO_MASK
, (u_long)CPIO_MASK) < 0)

401 
¬ú
->
·d
 = 0L;

402 
nsz
 = 
¬ú
->
Æ’
 + 1;

403 
hd
 = &
hdblk
;

404 ià((
¬ú
->
ty³
 !ğ
PAX_BLK
è&& (¬ú->ty³ !ğ
PAX_CHR
))

405 
¬ú
->
sb
.
¡_rdev
 = 0;

407 
¬ú
->
ty³
) {

408 
PAX_CTG
:

409 
PAX_REG
:

410 
PAX_HRG
:

414 #ifdeà
NET2_STAT


415 ià(
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_size
, 
hd
->
c_fesize
,

416 (
hd
->
c_fesize
), 
OCT
)) {

418 ià(
	`uqd_asc
((
u_quad_t
)
¬ú
->
sb
.
¡_size
, 
hd
->
c_fesize
,

419 (
hd
->
c_fesize
), 
OCT
)) {

421 
	`·xw¬n
(1,"File isoo†arge for cpio format %s",

422 
¬ú
->
Üg_Çme
);

426 
PAX_SLK
:

430 ià(
	`ul_asc
((
u_lÚg
)
¬ú
->
Ê_Æ’
, 
hd
->
c_fesize
,

431 (
hd
->
c_fesize
), 
OCT
))

432 
out
;

438 ià(
	`ul_asc
((
u_lÚg
)0, 
hd
->
c_fesize
, (hd->c_filesize),

439 
OCT
))

440 
out
;

447 ià(
	`ul_asc
((
u_lÚg
)
MAGIC
, 
hd
->
c_magic
, (hd->c_magic), 
OCT
) ||

448 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_dev
, 
hd
->
c_dev
, (hd->c_dev),

449 
OCT
) ||

450 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_šo
, 
hd
->
c_šo
, (hd->c_ino),

451 
OCT
) ||

452 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_mode
, 
hd
->
c_mode
, (hd->c_mode),

453 
OCT
) ||

454 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_uid
, 
hd
->
c_uid
, (hd->c_uid),

455 
OCT
) ||

456 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_gid
, 
hd
->
c_gid
, (hd->c_gid),

457 
OCT
) ||

458 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_Æšk
, 
hd
->
c_Æšk
, (hd->c_nlink),

459 
OCT
) ||

460 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_rdev
, 
hd
->
c_rdev
, (hd->c_rdev),

461 
OCT
) ||

462 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_mtime
,
hd
->
c_mtime
,(hd->c_mtime),

463 
OCT
) ||

464 
	`ul_asc
((
u_lÚg
)
nsz
, 
hd
->
c_Çmesize
, (hd->c_Çmesize), 
OCT
))

465 
out
;

470 ià((
	`wr_rdbuf
((*)&
hdblk
, ()(
HD_CPIO
)) < 0) ||

471 (
	`wr_rdbuf
(
¬ú
->
Çme
, 
nsz
) < 0)) {

472 
	`·xw¬n
(1, "UÇbËØwr™ıiØh—d” fÜ %s", 
¬ú
->
Üg_Çme
);

480 ià((
¬ú
->
ty³
 =ğ
PAX_CTG
è|| (¬ú->ty³ =ğ
PAX_REG
) ||

481 (
¬ú
->
ty³
 =ğ
PAX_HRG
))

483 ià(
¬ú
->
ty³
 !ğ
PAX_SLK
)

490 ià(
	`wr_rdbuf
(
¬ú
->
Ê_Çme
,‡rú->
Ê_Æ’
) < 0) {

491 
	`·xw¬n
(1,"UÇbËØwr™ıiØlšk‚amfÜ %s",
¬ú
->
Üg_Çme
);

496 
out
:

500 
	`·xw¬n
(1, "Cpio header field isoo smallo store file %s",

501 
¬ú
->
Üg_Çme
);

503 
	}
}

519 
	$vıio_id
(*
blk
, 
size
)

521 ià((
size
 < ()(
HD_VCPIO
)) ||

522 (
	`¡ºcmp
(
blk
, 
AVMAGIC
, (AVMAGIC) - 1) != 0))

525 
	}
}

536 
	$üc_id
(*
blk
, 
size
)

538 ià((
size
 < ()(
HD_VCPIO
)) ||

539 (
	`¡ºcmp
(
blk
, 
AVCMAGIC
, ()(AVCMAGIC) - 1) != 0))

542 
	}
}

552 
	$üc_¡rd
()

554 
doüc
 = 1;

555 (
	`Êk_¡¬t
());

556 
	}
}

567 
	$vıio_rd
(
ARCHD
 *
¬ú
, *
buf
)

569 
HD_VCPIO
 *
hd
;

570 
dev_t
 
devmšÜ
;

571 
dev_t
 
devmajÜ
;

572 
nsz
;

578 ià(
doüc
) {

579 ià(
	`üc_id
(
buf
, (
HD_VCPIO
)) < 0)

582 ià(
	`vıio_id
(
buf
, (
HD_VCPIO
)) < 0)

586 
hd
 = (
HD_VCPIO
 *)
buf
;

587 
¬ú
->
·d
 = 0L;

592 
¬ú
->
sb
.
¡_šo
 = (
šo_t
)
	`asc_ul
(
hd
->
c_šo
, (hd->c_šo), 
HEX
);

593 
¬ú
->
sb
.
¡_mode
 = (
mode_t
)
	`asc_ul
(
hd
->
c_mode
, (hd->c_mode), 
HEX
);

594 
¬ú
->
sb
.
¡_uid
 = (
uid_t
)
	`asc_ul
(
hd
->
c_uid
, (hd->c_uid), 
HEX
);

595 
¬ú
->
sb
.
¡_gid
 = (
gid_t
)
	`asc_ul
(
hd
->
c_gid
, (hd->c_gid), 
HEX
);

596 #ifdeà
NET2_STAT


597 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_ul
(
hd
->
c_mtime
,(hd->c_mtime),
HEX
);

599 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_uqd
(
hd
->
c_mtime
,(hd->c_mtime),
HEX
);

601 
¬ú
->
sb
.
¡_ùime
 =‡rú->sb.
¡_©ime
 =‡rú->sb.
¡_mtime
;

602 #ifdeà
NET2_STAT


603 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_ul
(
hd
->
c_fesize
,

604 (
hd
->
c_fesize
), 
HEX
);

606 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_uqd
(
hd
->
c_fesize
,

607 (
hd
->
c_fesize
), 
HEX
);

609 
¬ú
->
sb
.
¡_Æšk
 = (
Æšk_t
)
	`asc_ul
(
hd
->
c_Æšk
, (hd->c_nlink),

610 
HEX
);

611 
devmajÜ
 = (
dev_t
)
	`asc_ul
(
hd
->
c_maj
, (hd->c_maj), 
HEX
);

612 
devmšÜ
 = (
dev_t
)
	`asc_ul
(
hd
->
c_mš
, (hd->c_mš), 
HEX
);

613 
¬ú
->
sb
.
¡_dev
 = 
	`TODEV
(
devmajÜ
, 
devmšÜ
);

614 
devmajÜ
 = (
dev_t
)
	`asc_ul
(
hd
->
c_rmaj
, (hd->
c_maj
), 
HEX
);

615 
devmšÜ
 = (
dev_t
)
	`asc_ul
(
hd
->
c_rmš
, (hd->
c_mš
), 
HEX
);

616 
¬ú
->
sb
.
¡_rdev
 = 
	`TODEV
(
devmajÜ
, 
devmšÜ
);

617 
¬ú
->
üc
 = 
	`asc_ul
(
hd
->
c_chksum
, (hd->c_chksum), 
HEX
);

623 ià((
nsz
 = ()
	`asc_ul
(
hd
->
c_Çmesize
,(hd->c_Çmesize),
HEX
)) < 2)

625 
¬ú
->
Æ’
 = 
nsz
 - 1;

626 ià(
	`rd_nm
(
¬ú
, 
nsz
) < 0)

632 ià(
	`rd_sk
((
off_t
)(
	`VCPIO_PAD
((
HD_VCPIO
è+ 
nsz
))) < 0)

639 ià(((
¬ú
->
sb
.
¡_mode
&
C_IFMT
è!ğ
C_ISLNK
)||×rú->sb.
¡_size
 == 0)) {

643 
¬ú
->
Ê_Æ’
 = 0;

644 
¬ú
->
Ê_Çme
[0] = '\0';

645 
¬ú
->
·d
 = 
	`VCPIO_PAD
×rú->
sb
.
¡_size
);

646 (
	`com_rd
(
¬ú
));

652 ià((
	`rd_Ê_nm
(
¬ú
) < 0) ||

653 (
	`rd_sk
((
off_t
)(
	`VCPIO_PAD
(
¬ú
->
sb
.
¡_size
))) < 0))

659 (
	`com_rd
(
¬ú
));

660 
	}
}

669 
off_t


670 
	$vıio_’drd
()

672 ((
off_t
)((
HD_VCPIO
è+ (
TRAILER
) +

673 (
	`VCPIO_PAD
((
HD_VCPIO
è+ (
TRAILER
)))));

674 
	}
}

684 
	$üc_¡wr
()

686 
doüc
 = 1;

687 (
	`dev_¡¬t
());

688 
	}
}

700 
	$vıio_wr
(
ARCHD
 *
¬ú
)

702 
HD_VCPIO
 *
hd
;

703 
nsz
;

704 
HD_VCPIO
 
hdblk
;

710 ià(
	`m­_dev
(
¬ú
, (
u_lÚg
)
VCPIO_MASK
, (u_long)VCPIO_MASK) < 0)

712 
nsz
 = 
¬ú
->
Æ’
 + 1;

713 
hd
 = &
hdblk
;

714 ià((
¬ú
->
ty³
 !ğ
PAX_BLK
è&& (¬ú->ty³ !ğ
PAX_CHR
))

715 
¬ú
->
sb
.
¡_rdev
 = 0;

721 ià(
doüc
) {

722 ià(
	`ul_asc
((
u_lÚg
)
VCMAGIC
, 
hd
->
c_magic
, (hd->c_magic),

723 
OCT
) ||

724 
	`ul_asc
((
u_lÚg
)
¬ú
->
üc
,
hd
->
c_chksum
,(hd->c_chksum),

725 
HEX
))

726 
out
;

728 ià(
	`ul_asc
((
u_lÚg
)
VMAGIC
, 
hd
->
c_magic
, (hd->c_magic),

729 
OCT
) ||

730 
	`ul_asc
((
u_lÚg
)0L, 
hd
->
c_chksum
, (hd->c_chksum),
HEX
))

731 
out
;

734 
¬ú
->
ty³
) {

735 
PAX_CTG
:

736 
PAX_REG
:

737 
PAX_HRG
:

742 
¬ú
->
·d
 = 
	`VCPIO_PAD
×rú->
sb
.
¡_size
);

743 #ifdeà
NET2_STAT


744 ià(
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_size
, 
hd
->
c_fesize
,

745 (
hd
->
c_fesize
), 
HEX
)) {

747 ià(
	`uqd_asc
((
u_quad_t
)
¬ú
->
sb
.
¡_size
, 
hd
->
c_fesize
,

748 (
hd
->
c_fesize
), 
HEX
)) {

750 
	`·xw¬n
(1,"File isoo†arge for sv4cpio format %s",

751 
¬ú
->
Üg_Çme
);

755 
PAX_SLK
:

760 
¬ú
->
·d
 = 0L;

761 ià(
	`ul_asc
((
u_lÚg
)
¬ú
->
Ê_Æ’
, 
hd
->
c_fesize
,

762 (
hd
->
c_fesize
), 
HEX
))

763 
out
;

769 
¬ú
->
·d
 = 0L;

770 ià(
	`ul_asc
((
u_lÚg
)0L, 
hd
->
c_fesize
, (hd->c_filesize),

771 
HEX
))

772 
out
;

779 ià(
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_šo
, 
hd
->
c_šo
, (hd->c_ino),

780 
HEX
) ||

781 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_mode
, 
hd
->
c_mode
, (hd->c_mode),

782 
HEX
) ||

783 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_uid
, 
hd
->
c_uid
, (hd->c_uid),

784 
HEX
) ||

785 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_gid
, 
hd
->
c_gid
, (hd->c_gid),

786 
HEX
) ||

787 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_mtime
, 
hd
->
c_mtime
, (hd->c_mtime),

788 
HEX
) ||

789 
	`ul_asc
((
u_lÚg
)
¬ú
->
sb
.
¡_Æšk
, 
hd
->
c_Æšk
, (hd->c_nlink),

790 
HEX
) ||

791 
	`ul_asc
((
u_lÚg
)
	`MAJOR
(
¬ú
->
sb
.
¡_dev
),
hd
->
c_maj
, (hd->c_maj),

792 
HEX
) ||

793 
	`ul_asc
((
u_lÚg
)
	`MINOR
(
¬ú
->
sb
.
¡_dev
),
hd
->
c_mš
, (hd->c_min),

794 
HEX
) ||

795 
	`ul_asc
((
u_lÚg
)
	`MAJOR
(
¬ú
->
sb
.
¡_rdev
),
hd
->
c_rmaj
,(hd->
c_maj
),

796 
HEX
) ||

797 
	`ul_asc
((
u_lÚg
)
	`MINOR
(
¬ú
->
sb
.
¡_rdev
),
hd
->
c_rmš
,(hd->
c_mš
),

798 
HEX
) ||

799 
	`ul_asc
((
u_lÚg
)
nsz
, 
hd
->
c_Çmesize
, (hd->c_Çmesize), 
HEX
))

800 
out
;

805 ià((
	`wr_rdbuf
((*)&
hdblk
, ()(
HD_VCPIO
)) < 0) ||

806 (
	`wr_rdbuf
(
¬ú
->
Çme
, ()
nsz
) < 0) ||

807 (
	`wr_sk
((
off_t
)(
	`VCPIO_PAD
((
HD_VCPIO
è+ 
nsz
))) < 0)) {

808 
	`·xw¬n
(1,"Could‚Ù wr™sv4ıiØh—d” fÜ %s",
¬ú
->
Üg_Çme
);

815 ià((
¬ú
->
ty³
 =ğ
PAX_CTG
è|| (¬ú->ty³ =ğ
PAX_REG
) ||

816 (
¬ú
->
ty³
 =ğ
PAX_HRG
))

822 ià(
¬ú
->
ty³
 !ğ
PAX_SLK
)

828 ià((
	`wr_rdbuf
(
¬ú
->
Ê_Çme
,‡rú->
Ê_Æ’
) < 0) ||

829 (
	`wr_sk
((
off_t
)(
	`VCPIO_PAD
(
¬ú
->
Ê_Æ’
))) < 0)) {

830 
	`·xw¬n
(1,"Could‚ot write sv4cpio†ink‚ame for %s",

831 
¬ú
->
Üg_Çme
);

836 
out
:

840 
	`·xw¬n
(1,"Sv4ıiØh—d” f›ld i toØsm®ÈfÜ f%s",
¬ú
->
Üg_Çme
);

842 
	}
}

857 
	$bıio_id
(*
blk
, 
size
)

859 ià(
size
 < ()(
HD_BCPIO
))

865 ià(((
u_shÜt
)
	`SHRT_EXT
(
blk
)è=ğ
MAGIC
)

867 ià(((
u_shÜt
)
	`RSHRT_EXT
(
blk
)è=ğ
MAGIC
) {

868 ià(!
swp_h—d
)

869 ++
swp_h—d
;

873 
	}
}

885 
	$bıio_rd
(
ARCHD
 *
¬ú
, *
buf
)

887 
HD_BCPIO
 *
hd
;

888 
nsz
;

893 ià(
	`bıio_id
(
buf
, (
HD_BCPIO
)) < 0)

896 
¬ú
->
·d
 = 0L;

897 
hd
 = (
HD_BCPIO
 *)
buf
;

898 ià(
swp_h—d
) {

902 
¬ú
->
sb
.
¡_dev
 = (
dev_t
)(
	`RSHRT_EXT
(
hd
->
h_dev
));

903 
¬ú
->
sb
.
¡_šo
 = (
šo_t
)(
	`RSHRT_EXT
(
hd
->
h_šo
));

904 
¬ú
->
sb
.
¡_mode
 = (
mode_t
)(
	`RSHRT_EXT
(
hd
->
h_mode
));

905 
¬ú
->
sb
.
¡_uid
 = (
uid_t
)(
	`RSHRT_EXT
(
hd
->
h_uid
));

906 
¬ú
->
sb
.
¡_gid
 = (
gid_t
)(
	`RSHRT_EXT
(
hd
->
h_gid
));

907 
¬ú
->
sb
.
¡_Æšk
 = (
Æšk_t
)(
	`RSHRT_EXT
(
hd
->
h_Æšk
));

908 
¬ú
->
sb
.
¡_rdev
 = (
dev_t
)(
	`RSHRT_EXT
(
hd
->
h_rdev
));

909 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)(
	`RSHRT_EXT
(
hd
->
h_mtime_1
));

910 
¬ú
->
sb
.
¡_mtime
 = (arcn->sb.st_mtime << 16) |

911 ((
time_t
)(
	`RSHRT_EXT
(
hd
->
h_mtime_2
)));

912 
¬ú
->
sb
.
¡_size
 = (
off_t
)(
	`RSHRT_EXT
(
hd
->
h_fesize_1
));

913 
¬ú
->
sb
.
¡_size
 = (arcn->sb.st_size << 16) |

914 ((
off_t
)(
	`RSHRT_EXT
(
hd
->
h_fesize_2
)));

915 
nsz
 = ()(
	`RSHRT_EXT
(
hd
->
h_Çmesize
));

917 
¬ú
->
sb
.
¡_dev
 = (
dev_t
)(
	`SHRT_EXT
(
hd
->
h_dev
));

918 
¬ú
->
sb
.
¡_šo
 = (
šo_t
)(
	`SHRT_EXT
(
hd
->
h_šo
));

919 
¬ú
->
sb
.
¡_mode
 = (
mode_t
)(
	`SHRT_EXT
(
hd
->
h_mode
));

920 
¬ú
->
sb
.
¡_uid
 = (
uid_t
)(
	`SHRT_EXT
(
hd
->
h_uid
));

921 
¬ú
->
sb
.
¡_gid
 = (
gid_t
)(
	`SHRT_EXT
(
hd
->
h_gid
));

922 
¬ú
->
sb
.
¡_Æšk
 = (
Æšk_t
)(
	`SHRT_EXT
(
hd
->
h_Æšk
));

923 
¬ú
->
sb
.
¡_rdev
 = (
dev_t
)(
	`SHRT_EXT
(
hd
->
h_rdev
));

924 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)(
	`SHRT_EXT
(
hd
->
h_mtime_1
));

925 
¬ú
->
sb
.
¡_mtime
 = (arcn->sb.st_mtime << 16) |

926 ((
time_t
)(
	`SHRT_EXT
(
hd
->
h_mtime_2
)));

927 
¬ú
->
sb
.
¡_size
 = (
off_t
)(
	`SHRT_EXT
(
hd
->
h_fesize_1
));

928 
¬ú
->
sb
.
¡_size
 = (arcn->sb.st_size << 16) |

929 ((
off_t
)(
	`SHRT_EXT
(
hd
->
h_fesize_2
)));

930 
nsz
 = ()(
	`SHRT_EXT
(
hd
->
h_Çmesize
));

932 
¬ú
->
sb
.
¡_ùime
 =‡rú->sb.
¡_©ime
 =‡rú->sb.
¡_mtime
;

938 ià(
nsz
 < 2)

940 
¬ú
->
Æ’
 = 
nsz
 - 1;

941 ià(
	`rd_nm
(
¬ú
, 
nsz
) < 0)

947 ià(
	`rd_sk
((
off_t
)(
	`BCPIO_PAD
((
HD_BCPIO
è+ 
nsz
))) < 0)

954 ià(((
¬ú
->
sb
.
¡_mode
 & 
C_IFMT
è!ğ
C_ISLNK
)||×rú->sb.
¡_size
 == 0)){

958 
¬ú
->
Ê_Æ’
 = 0;

959 
¬ú
->
Ê_Çme
[0] = '\0';

960 
¬ú
->
·d
 = 
	`BCPIO_PAD
×rú->
sb
.
¡_size
);

961 (
	`com_rd
(
¬ú
));

964 ià((
	`rd_Ê_nm
(
¬ú
) < 0) ||

965 (
	`rd_sk
((
off_t
)(
	`BCPIO_PAD
(
¬ú
->
sb
.
¡_size
))) < 0))

971 (
	`com_rd
(
¬ú
));

972 
	}
}

981 
off_t


982 
	$bıio_’drd
()

984 ((
off_t
)((
HD_BCPIO
è+ (
TRAILER
) +

985 (
	`BCPIO_PAD
((
HD_BCPIO
è+ (
TRAILER
)))));

986 
	}
}

1000 
	$bıio_wr
(
ARCHD
 *
¬ú
)

1002 
HD_BCPIO
 *
hd
;

1003 
nsz
;

1004 
HD_BCPIO
 
hdblk
;

1005 
off_t
 
t_ofá
;

1006 
t_št
;

1007 
time_t
 
t_tim‘
;

1013 ià(
	`m­_dev
(
¬ú
, (
u_lÚg
)
BCPIO_MASK
, (u_long)BCPIO_MASK) < 0)

1016 ià((
¬ú
->
ty³
 !ğ
PAX_BLK
è&& (¬ú->ty³ !ğ
PAX_CHR
))

1017 
¬ú
->
sb
.
¡_rdev
 = 0;

1018 
hd
 = &
hdblk
;

1020 
¬ú
->
ty³
) {

1021 
PAX_CTG
:

1022 
PAX_REG
:

1023 
PAX_HRG
:

1028 
¬ú
->
·d
 = 
	`BCPIO_PAD
×rú->
sb
.
¡_size
);

1029 
hd
->
h_fesize_1
[0] = 
	`CHR_WR_0
(
¬ú
->
sb
.
¡_size
);

1030 
hd
->
h_fesize_1
[1] = 
	`CHR_WR_1
(
¬ú
->
sb
.
¡_size
);

1031 
hd
->
h_fesize_2
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_size
);

1032 
hd
->
h_fesize_2
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_size
);

1033 
t_ofá
 = (
off_t
)(
	`SHRT_EXT
(
hd
->
h_fesize_1
));

1034 
t_ofá
 = (t_ofá<<16è| ((
off_t
)(
	`SHRT_EXT
(
hd
->
h_fesize_2
)));

1035 ià(
¬ú
->
sb
.
¡_size
 !ğ
t_ofá
) {

1036 
	`·xw¬n
(1,"File isoo†arge for bcpio format %s",

1037 
¬ú
->
Üg_Çme
);

1041 
PAX_SLK
:

1046 
¬ú
->
·d
 = 0L;

1047 
hd
->
h_fesize_1
[0] = 
	`CHR_WR_0
(
¬ú
->
Ê_Æ’
);

1048 
hd
->
h_fesize_1
[1] = 
	`CHR_WR_1
(
¬ú
->
Ê_Æ’
);

1049 
hd
->
h_fesize_2
[0] = 
	`CHR_WR_2
(
¬ú
->
Ê_Æ’
);

1050 
hd
->
h_fesize_2
[1] = 
	`CHR_WR_3
(
¬ú
->
Ê_Æ’
);

1051 
t_št
 = ()(
	`SHRT_EXT
(
hd
->
h_fesize_1
));

1052 
t_št
 = (t_šˆ<< 16è| (()(
	`SHRT_EXT
(
hd
->
h_fesize_2
)));

1053 ià(
¬ú
->
Ê_Æ’
 !ğ
t_št
)

1054 
out
;

1060 
¬ú
->
·d
 = 0L;

1061 
hd
->
h_fesize_1
[0] = ()0;

1062 
hd
->
h_fesize_1
[1] = ()0;

1063 
hd
->
h_fesize_2
[0] = ()0;

1064 
hd
->
h_fesize_2
[1] = ()0;

1071 
hd
->
h_magic
[0] = 
	`CHR_WR_2
(
MAGIC
);

1072 
hd
->
h_magic
[1] = 
	`CHR_WR_3
(
MAGIC
);

1073 
hd
->
h_dev
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_dev
);

1074 
hd
->
h_dev
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_dev
);

1075 ià(
¬ú
->
sb
.
¡_dev
 !ğ(
dev_t
)(
	`SHRT_EXT
(
hd
->
h_dev
)))

1076 
out
;

1077 
hd
->
h_šo
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_šo
);

1078 
hd
->
h_šo
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_šo
);

1079 ià(
¬ú
->
sb
.
¡_šo
 !ğ(
šo_t
)(
	`SHRT_EXT
(
hd
->
h_šo
)))

1080 
out
;

1081 
hd
->
h_mode
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_mode
);

1082 
hd
->
h_mode
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_mode
);

1083 ià(
¬ú
->
sb
.
¡_mode
 !ğ(
mode_t
)(
	`SHRT_EXT
(
hd
->
h_mode
)))

1084 
out
;

1085 
hd
->
h_uid
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_uid
);

1086 
hd
->
h_uid
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_uid
);

1087 ià(
¬ú
->
sb
.
¡_uid
 !ğ(
uid_t
)(
	`SHRT_EXT
(
hd
->
h_uid
)))

1088 
out
;

1089 
hd
->
h_gid
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_gid
);

1090 
hd
->
h_gid
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_gid
);

1091 ià(
¬ú
->
sb
.
¡_gid
 !ğ(
gid_t
)(
	`SHRT_EXT
(
hd
->
h_gid
)))

1092 
out
;

1093 
hd
->
h_Æšk
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_Æšk
);

1094 
hd
->
h_Æšk
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_Æšk
);

1095 ià(
¬ú
->
sb
.
¡_Æšk
 !ğ(
Æšk_t
)(
	`SHRT_EXT
(
hd
->
h_Æšk
)))

1096 
out
;

1097 
hd
->
h_rdev
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_rdev
);

1098 
hd
->
h_rdev
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_rdev
);

1099 ià(
¬ú
->
sb
.
¡_rdev
 !ğ(
dev_t
)(
	`SHRT_EXT
(
hd
->
h_rdev
)))

1100 
out
;

1101 
hd
->
h_mtime_1
[0] = 
	`CHR_WR_0
(
¬ú
->
sb
.
¡_mtime
);

1102 
hd
->
h_mtime_1
[1] = 
	`CHR_WR_1
(
¬ú
->
sb
.
¡_mtime
);

1103 
hd
->
h_mtime_2
[0] = 
	`CHR_WR_2
(
¬ú
->
sb
.
¡_mtime
);

1104 
hd
->
h_mtime_2
[1] = 
	`CHR_WR_3
(
¬ú
->
sb
.
¡_mtime
);

1105 
t_tim‘
 = (
time_t
)(
	`SHRT_EXT
(
hd
->
h_mtime_1
));

1106 
t_tim‘
 = (t_tim‘ << 16è| ((
time_t
)(
	`SHRT_EXT
(
hd
->
h_mtime_2
)));

1107 ià(
¬ú
->
sb
.
¡_mtime
 !ğ
t_tim‘
)

1108 
out
;

1109 
nsz
 = 
¬ú
->
Æ’
 + 1;

1110 
hd
->
h_Çmesize
[0] = 
	`CHR_WR_2
(
nsz
);

1111 
hd
->
h_Çmesize
[1] = 
	`CHR_WR_3
(
nsz
);

1112 ià(
nsz
 !ğ()(
	`SHRT_EXT
(
hd
->
h_Çmesize
)))

1113 
out
;

1118 ià((
	`wr_rdbuf
((*)&
hdblk
, ()(
HD_BCPIO
)) < 0) ||

1119 (
	`wr_rdbuf
(
¬ú
->
Çme
, 
nsz
) < 0) ||

1120 (
	`wr_sk
((
off_t
)(
	`BCPIO_PAD
((
HD_BCPIO
è+ 
nsz
))) < 0)) {

1121 
	`·xw¬n
(1, "Could‚Ù wr™bıiØh—d” fÜ %s", 
¬ú
->
Üg_Çme
);

1128 ià((
¬ú
->
ty³
 =ğ
PAX_CTG
è|| (¬ú->ty³ =ğ
PAX_REG
) ||

1129 (
¬ú
->
ty³
 =ğ
PAX_HRG
))

1135 ià(
¬ú
->
ty³
 !ğ
PAX_SLK
)

1141 ià((
	`wr_rdbuf
(
¬ú
->
Ê_Çme
,‡rú->
Ê_Æ’
) < 0) ||

1142 (
	`wr_sk
((
off_t
)(
	`BCPIO_PAD
(
¬ú
->
Ê_Æ’
))) < 0)) {

1143 
	`·xw¬n
(1,"Could‚Ù wr™bıiØlšk‚amfÜ %s",
¬ú
->
Üg_Çme
);

1148 
out
:

1152 
	`·xw¬n
(1,"BıiØh—d” f›ld i toØsm®ÈfÜ f%s", 
¬ú
->
Üg_Çme
);

1154 
	}
}

	@pax/cpio.h

40 
	#TRAILER
 "TRAILER!!!"

	)

45 
	#C_ISDIR
 040000

	)

46 
	#C_ISFIFO
 010000

	)

47 
	#C_ISREG
 0100000

	)

48 
	#C_ISBLK
 060000

	)

49 
	#C_ISCHR
 020000

	)

50 
	#C_ISCTG
 0110000

	)

51 
	#C_ISLNK
 0120000

	)

52 
	#C_ISOCK
 0140000

	)

53 
	#C_IFMT
 0170000

	)

59 
	mc_magic
[6];

60 
	mc_dev
[6];

61 
	mc_šo
[6];

62 
	mc_mode
[6];

63 
	mc_uid
[6];

64 
	mc_gid
[6];

65 
	mc_Æšk
[6];

66 
	mc_rdev
[6];

67 
	mc_mtime
[11];

68 
	mc_Çmesize
[6];

69 
	mc_fesize
[11];

70 } 
	tHD_CPIO
;

72 
	#MAGIC
 070707

	)

74 #ifdeà
_PAX_


75 
	#AMAGIC
 "070707"

	)

76 
	#CPIO_MASK
 0x3fffà

	)

88 
u_ch¬
 
	mh_magic
[2];

89 
u_ch¬
 
	mh_dev
[2];

90 
u_ch¬
 
	mh_šo
[2];

91 
u_ch¬
 
	mh_mode
[2];

92 
u_ch¬
 
	mh_uid
[2];

93 
u_ch¬
 
	mh_gid
[2];

94 
u_ch¬
 
	mh_Æšk
[2];

95 
u_ch¬
 
	mh_rdev
[2];

96 
u_ch¬
 
	mh_mtime_1
[2];

97 
u_ch¬
 
	mh_mtime_2
[2];

98 
u_ch¬
 
	mh_Çmesize
[2];

99 
u_ch¬
 
	mh_fesize_1
[2];

100 
u_ch¬
 
	mh_fesize_2
[2];

101 } 
	tHD_BCPIO
;

103 #ifdeà
_PAX_


107 
	#SHRT_EXT
(
ch
è(((()(ch)[0])<<8è| ((()(ch)[1])&0xff))

	)

108 
	#RSHRT_EXT
(
ch
è(((()(ch)[1])<<8è| ((()(ch)[0])&0xff))

	)

109 
	#CHR_WR_0
(
v®
è(()(((v®è>> 24è& 0xff))

	)

110 
	#CHR_WR_1
(
v®
è(()(((v®è>> 16è& 0xff))

	)

111 
	#CHR_WR_2
(
v®
è(()(((v®è>> 8è& 0xff))

	)

112 
	#CHR_WR_3
(
v®
è(()((v®è& 0xff))

	)

117 
	#BCPIO_PAD
(
x
è((2 - ((xè& 1)è& 1è

	)

118 
	#BCPIO_MASK
 0xfffà

	)

125 
	mc_magic
[6];

126 
	mc_šo
[8];

127 
	mc_mode
[8];

128 
	mc_uid
[8];

129 
	mc_gid
[8];

130 
	mc_Æšk
[8];

131 
	mc_mtime
[8];

132 
	mc_fesize
[8];

133 
	mc_maj
[8];

134 
	mc_mš
[8];

135 
	mc_rmaj
[8];

136 
	mc_rmš
[8];

137 
	mc_Çmesize
[8];

138 
	mc_chksum
[8];

139 } 
	tHD_VCPIO
;

141 
	#VMAGIC
 070701

	)

142 
	#VCMAGIC
 070702

	)

143 #ifdeà
_PAX_


144 
	#AVMAGIC
 "070701"

	)

145 
	#AVCMAGIC
 "070702"

	)

146 
	#VCPIO_PAD
(
x
è((4 - ((xè& 3)è& 3è

	)

147 
	#VCPIO_MASK
 0xfffffffà

	)

	@pax/extern.h

41 
	~<sys/cdefs.h
>

46 cÚ¡ *
¬úame
;

47 cÚ¡ *
gz_´og¿m
;

48 
¬_İ’
(const *);

49 
¬_şo£
();

50 
¬_d¿š
();

51 
¬_£t_wr
();

52 
¬_­p_ok
();

53 
¬_»ad
(*, );

54 
¬_wr™e
(*, );

55 
¬_rdsync
();

56 
¬_fow
(
off_t
, off_t *);

57 
¬_»v
(
off_t
 );

58 
¬_Ãxt
();

63 
u_lÚg
 
æút
;

64 
li¡
();

65 
exŒaù
();

66 
­³nd
();

67 
¬chive
();

68 
cİy
();

73 
blksz
;

74 
wrblksz
;

75 
maxæt
;

76 
rdblksz
;

77 
off_t
 
w¾im™
;

78 
off_t
 
rdút
;

79 
off_t
 
wrút
;

80 
wr_¡¬t
();

81 
rd_¡¬t
();

82 
ı_¡¬t
();

83 
­²d_¡¬t
(
off_t
);

84 
rd_sync
();

85 
pback
(*, );

86 
rd_sk
(
off_t
);

87 
wr_fš
();

88 
wr_rdbuf
(*, );

89 
rd_wrbuf
(*, );

90 
wr_sk
(
off_t
);

91 
wr_rdfe
(
ARCHD
 *, , 
off_t
 *);

92 
rd_wrfe
(
ARCHD
 *, , 
off_t
 *);

93 
ı_fe
(
ARCHD
 *, , );

94 
buf_fl
();

95 
buf_æush
();

100 
uidtb_¡¬t
();

101 
gidtb_¡¬t
();

102 
u¤tb_¡¬t
();

103 
g½tb_¡¬t
();

104 cÚ¡ * 
Çme_uid
(
uid_t
, );

105 cÚ¡ * 
Çme_gid
(
gid_t
, );

106 
uid_Çme
(*, 
uid_t
 *);

107 
gid_Çme
(*, 
gid_t
 *);

112 
ıio_¡rd
();

113 
ıio_Œa
(
ARCHD
 *);

114 
ıio_’dwr
();

115 
ıio_id
(*, );

116 
ıio_rd
(
ARCHD
 *, *);

117 
off_t
 
ıio_’drd
();

118 
ıio_¡wr
();

119 
ıio_wr
(
ARCHD
 *);

120 
vıio_id
(*, );

121 
üc_id
(*, );

122 
üc_¡rd
();

123 
vıio_rd
(
ARCHD
 *, *);

124 
off_t
 
vıio_’drd
();

125 
üc_¡wr
();

126 
vıio_wr
(
ARCHD
 *);

127 
bıio_id
(*, );

128 
bıio_rd
(
ARCHD
 *, *);

129 
off_t
 
bıio_’drd
();

130 
bıio_wr
(
ARCHD
 *);

135 
fe_ü—t
(
ARCHD
 *);

136 
fe_şo£
(
ARCHD
 *, );

137 
Êk_ü—t
(
ARCHD
 *);

138 
üoss_Êk
(
ARCHD
 *);

139 
chk_§me
(
ARCHD
 *);

140 
node_ü—t
(
ARCHD
 *);

141 
uÆnk_exi¡
(*, );

142 
chk_·th
(*, 
uid_t
, 
gid_t
);

143 
£t_áime
(*
âm
, 
time_t
 
mtime
,ime_ˆ
©ime
, 
äc
);

144 
£t_ids
(*, 
uid_t
, 
gid_t
);

145 
£t_lids
(*, 
uid_t
, 
gid_t
);

146 
£t_pmode
(*, 
mode_t
);

147 
fe_wr™e
(, *, , *, *, , *);

148 
fe_æush
(, *, );

149 
rdfe_şo£
(
ARCHD
 *, *);

150 
£t_üc
(
ARCHD
 *, );

155 
á»e_¡¬t
();

156 
á»e_add
(*, );

157 
á»e_£l
(
ARCHD
 *);

158 
á»e_nÙ£l
();

159 
á»e_chk
();

160 
Ãxt_fe
(
ARCHD
 *);

165 
ls_li¡
(
ARCHD
 *, 
time_t
, 
FILE
 *);

166 
ls_‰y
(
ARCHD
 *);

167 
l_¡ºıy
(*, const *, );

168 
u_lÚg
 
asc_ul
(*, , );

169 
ul_asc
(
u_lÚg
, *, , );

170 #iâdeà
NET2_STAT


171 
u_quad_t
 
asc_uqd
(*, , );

172 
uqd_asc
(
u_quad_t
, *, , );

178 
g‘Şdİt
(, **, const *);

183 
FSUB
 
fsub
[];

184 
fÜd
[];

185 
İtiÚs
(, **);

186 
OPLIST
 * 
İt_Ãxt
();

187 
İt_add
(const *);

188 
bad_İt
();

189 *
	gchdÇme
;

194 
»p_add
(*);

195 
·t_add
(*, *);

196 
·t_chk
();

197 
·t_£l
(
ARCHD
 *);

198 
·t_m©ch
(
ARCHD
 *);

199 
mod_Çme
(
ARCHD
 *);

200 
£t_de¡
(
ARCHD
 *, *, );

205 
aù
;

206 
FSUB
 *
ämt
;

207 
cæag
;

208 
cwdfd
;

209 
dæag
;

210 
iæag
;

211 
kæag
;

212 
læag
;

213 
næag
;

214 
tæag
;

215 
uæag
;

216 
væag
;

217 
Dæag
;

218 
Hæag
;

219 
Læag
;

220 
Xæag
;

221 
Yæag
;

222 
Zæag
;

223 
vå¬t
;

224 
·time
;

225 
pmtime
;

226 
nodœs
;

227 
pmode
;

228 
pids
;

229 
rmËad¦ash
;

230 
ex™_v®
;

231 
doüc
;

232 *
dœ±r
;

233 cÚ¡ *
¬gv0
;

234 
FILE
 *
li¡f
;

235 *
‹mpfe
;

236 *
‹mpba£
;

238 
sig_ş—nup
();

243 
£l_chk
(
ARCHD
 *);

244 
g½_add
(*);

245 
u¤_add
(*);

246 
Œng_add
(*);

251 
Êk_¡¬t
();

252 
chk_Êk
(
ARCHD
 *);

253 
purg_Êk
(
ARCHD
 *);

254 
Êk_’d
();

255 
áime_¡¬t
();

256 
chk_áime
(
ARCHD
 *);

257 
Çme_¡¬t
();

258 
add_Çme
(*, , *);

259 
sub_Çme
(*, *, 
size_t
);

260 
dev_¡¬t
();

261 
add_dev
(
ARCHD
 *);

262 
m­_dev
(
ARCHD
 *, 
u_lÚg
, u_long);

263 
©dœ_¡¬t
();

264 
©dœ_’d
();

265 
add_©dœ
(*, 
dev_t
, 
šo_t
, 
time_t
,ime_t);

266 
g‘_©dœ
(
dev_t
, 
šo_t
, 
time_t
 *,ime_t *);

267 
dœ_¡¬t
();

268 
add_dœ
(*, , 
¡©
 *, );

269 
´oc_dœ
();

270 
u_št
 
¡_hash
(*, , );

275 
r_’dwr
();

276 
off_t
 
r_’drd
();

277 
r_Œa
(*, , *);

278 
r_id
(*, );

279 
r_İt
();

280 
r_rd
(
ARCHD
 *, *);

281 
r_wr
(
ARCHD
 *);

282 
u¡¬_¡rd
();

283 
u¡¬_¡wr
();

284 
u¡¬_id
(*, );

285 
u¡¬_rd
(
ARCHD
 *, *);

286 
u¡¬_wr
(
ARCHD
 *);

291 
‰y_š™
();

292 
	$‰y_´Á
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

293 
	`‰y_»ad
(*, );

294 
	$·xw¬n
(, cÚ¡ *, ...è
	`__´štæike
(2, 3);

295 
	$sysw¬n
(, , cÚ¡ *, ...è
	`__´štæike
(3, 4);

	@pax/file_subs.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)file_subs.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/file_subs.c,v 1.23.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<uni¡d.h
>

46 
	~<fú.h
>

47 
	~<¡ršg.h
>

48 
	~<¡dio.h
>

49 
	~<”ºo.h
>

50 
	~<sys/uio.h
>

51 
	~<¡dlib.h
>

52 
	~"·x.h
"

53 
	~"İtiÚs.h
"

54 
	~"ex‹º.h
"

57 
mk_lšk
(*,
¡©
 *,*, );

64 
	#FILEBITS
 (
S_ISVTX
 | 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
)

	)

65 
	#SETBITS
 (
S_ISUID
 | 
S_ISGID
)

	)

66 
	#ABITS
 (
FILEBITS
 | 
SETBITS
)

	)

76 
	$fe_ü—t
(
ARCHD
 *
¬ú
)

78 
fd
 = -1;

79 
mode_t
 
fe_mode
;

80 
Û¼no
;

93 
fe_mode
 = 
¬ú
->
sb
.
¡_mode
 & 
FILEBITS
;

94 ià((
fd
 = 
	`İ’
(
¬ú
->
Çme
, 
O_WRONLY
 | 
O_CREAT
 | 
O_TRUNC
 | 
O_EXCL
,

95 
fe_mode
)) >= 0)

96 (
fd
);

103 ià(
	`uÆnk_exi¡
(
¬ú
->
Çme
,‡rú->
ty³
) != 0)

112 ià((
fd
 = 
	`İ’
(
¬ú
->
Çme
, 
O_WRONLY
 | 
O_CREAT
 | 
O_TRUNC
,

113 
fe_mode
)) >= 0)

115 
Û¼no
 = 
”ºo
;

116 ià(
nodœs
 || 
	`chk_·th
(
¬ú
->
Çme
,¬ú->
sb
.
¡_uid
,¬ú->sb.
¡_gid
) < 0) {

117 
	`sysw¬n
(1, 
Û¼no
, "UÇbËØü—‹ %s", 
¬ú
->
Çme
);

121 (
fd
);

122 
	}
}

133 
	$fe_şo£
(
ARCHD
 *
¬ú
, 
fd
)

135 
»s
 = 0;

137 ià(
fd
 < 0)

139 ià(
	`şo£
(
fd
) < 0)

140 
	`sysw¬n
(0, 
”ºo
, "Unableo close file descriptor on %s",

141 
¬ú
->
Çme
);

148 ià(
pids
)

149 
»s
 = 
	`£t_ids
(
¬ú
->
Çme
,‡rú->
sb
.
¡_uid
,‡rú->sb.
¡_gid
);

156 ià(!
pmode
 || 
»s
)

157 
¬ú
->
sb
.
¡_mode
 &ğ~(
SETBITS
);

158 ià(
pmode
)

159 
	`£t_pmode
(
¬ú
->
Çme
,‡rú->
sb
.
¡_mode
);

160 ià(
·time
 || 
pmtime
)

161 
	`£t_áime
(
¬ú
->
Çme
,‡rú->
sb
.
¡_mtime
,‡rú->sb.
¡_©ime
, 0);

162 
	}
}

173 
	$Êk_ü—t
(
ARCHD
 *
¬ú
)

175 
¡©
 
sb
;

181 ià(
	`l¡©
(
¬ú
->
Ê_Çme
, &
sb
) < 0) {

182 
	`sysw¬n
(1,
”ºo
,"UÇbËØlškØ% äom %s", 
¬ú
->
Ê_Çme
,

183 
¬ú
->
Çme
);

187 ià(
	`S_ISDIR
(
sb
.
¡_mode
)) {

188 
	`·xw¬n
(1, "A hard†inkohe directory %s is‚ot‡llowed",

189 
¬ú
->
Ê_Çme
);

193 (
	`mk_lšk
(
¬ú
->
Ê_Çme
, &
sb
,‡rú->
Çme
, 0));

194 
	}
}

207 
	$üoss_Êk
(
ARCHD
 *
¬ú
)

214 ià(
¬ú
->
ty³
 =ğ
PAX_DIR
)

216 (
	`mk_lšk
(
¬ú
->
Üg_Çme
, &×rú->
sb
),‡rú->
Çme
, 1));

217 
	}
}

231 
	$chk_§me
(
ARCHD
 *
¬ú
)

233 
¡©
 
sb
;

239 ià(
	`l¡©
(
¬ú
->
Çme
, &
sb
) < 0)

241 ià(
kæag
)

247 ià((
¬ú
->
sb
.
¡_dev
 =ğsb.¡_devè&& (¬ú->sb.
¡_šo
 == sb.st_ino)) {

248 
	`·xw¬n
(1, "Unableo copy %s, file would overwrite itself",

249 
¬ú
->
Çme
);

253 
	}
}

268 
	$mk_lšk
(*
to
, 
¡©
 *
to_sb
, *
äom
,

269 
ign
)

271 
¡©
 
sb
;

272 
Û¼no
;

278 ià(
	`l¡©
(
äom
, &
sb
) == 0) {

279 ià(
kæag
)

285 ià((
to_sb
->
¡_dev
==
sb
.¡_dev)&&Ño_sb->
¡_šo
 == sb.st_ino)) {

286 
	`·xw¬n
(1, "UÇbËØlšk f% tØ™£lf", 
to
);

293 ià(
	`S_ISDIR
(
sb
.
¡_mode
)) {

294 ià(
	`rmdœ
(
äom
) < 0) {

295 
	`sysw¬n
(1, 
”ºo
, "UÇbËØ»mov%s", 
äom
);

298 } ià(
	`uÆšk
(
äom
) < 0) {

299 ià(!
ign
) {

300 
	`sysw¬n
(1, 
”ºo
, "UÇbËØ»mov%s", 
äom
);

313 ià(
	`lšk
(
to
, 
äom
) == 0)

315 
Û¼no
 = 
”ºo
;

316 ià(!
nodœs
 && 
	`chk_·th
(
äom
, 
to_sb
->
¡_uid
,o_sb->
¡_gid
) == 0)

318 ià(!
ign
) {

319 
	`sysw¬n
(1, 
Û¼no
, "Could‚Ù†škØ% äom %s", 
to
,

320 
äom
);

330 
	}
}

341 
	$node_ü—t
(
ARCHD
 *
¬ú
)

343 
»s
;

344 
ign
 = 0;

345 
Û¼no
;

346 
·ss
 = 0;

347 
mode_t
 
fe_mode
;

348 
¡©
 
sb
;

356 
fe_mode
 = 
¬ú
->
sb
.
¡_mode
 & 
FILEBITS
;

359 
¬ú
->
ty³
) {

360 
PAX_DIR
:

361 
»s
 = 
	`mkdœ
(
¬ú
->
Çme
, 
fe_mode
);

362 ià(
ign
)

363 
»s
 = 0;

365 
PAX_CHR
:

366 
fe_mode
 |ğ
S_IFCHR
;

367 
»s
 = 
	`mknod
(
¬ú
->
Çme
, 
fe_mode
,‡rú->
sb
.
¡_rdev
);

369 
PAX_BLK
:

370 
fe_mode
 |ğ
S_IFBLK
;

371 
»s
 = 
	`mknod
(
¬ú
->
Çme
, 
fe_mode
,‡rú->
sb
.
¡_rdev
);

373 
PAX_FIF
:

374 
»s
 = 
	`mkfifo
(
¬ú
->
Çme
, 
fe_mode
);

376 
PAX_SCK
:

380 
	`·xw¬n
(0,

382 
¬ú
->
Çme
);

384 
PAX_SLK
:

385 
»s
 = 
	`symlšk
(
¬ú
->
Ê_Çme
,‡rú->
Çme
);

387 
PAX_CTG
:

388 
PAX_HLK
:

389 
PAX_HRG
:

390 
PAX_REG
:

395 
	`·xw¬n
(0, "%s has‡n unknown fileype, skipping",

396 
¬ú
->
Çme
);

405 ià(
»s
 == 0)

411 
Û¼no
 = 
”ºo
;

412 ià((
ign
 = 
	`uÆnk_exi¡
(
¬ú
->
Çme
,‡rú->
ty³
)) < 0)

415 ià(++
·ss
 <= 1)

418 ià(
nodœs
 || 
	`chk_·th
(
¬ú
->
Çme
,¬ú->
sb
.
¡_uid
,¬ú->sb.
¡_gid
) < 0) {

419 
	`sysw¬n
(1, 
Û¼no
, "Could‚Ù c»©e: %s", 
¬ú
->
Çme
);

427 ià(
pids
)

428 
»s
 = 
	`£t_ids
(
¬ú
->
Çme
,‡rú->
sb
.
¡_uid
,‡rú->sb.
¡_gid
);

430 
»s
 = 0;

437 ià(!
pmode
 || 
»s
)

438 
¬ú
->
sb
.
¡_mode
 &ğ~(
SETBITS
);

439 ià(
pmode
)

440 
	`£t_pmode
(
¬ú
->
Çme
,‡rú->
sb
.
¡_mode
);

442 ià(
¬ú
->
ty³
 =ğ
PAX_DIR
 && 
	`¡rcmp
(
NM_CPIO
, 
¬gv0
) != 0) {

452 ià(
	`acûss
(
¬ú
->
Çme
, 
R_OK
 | 
W_OK
 | 
X_OK
) < 0) {

453 ià(
	`l¡©
(
¬ú
->
Çme
, &
sb
) < 0) {

454 
	`sysw¬n
(0, 
”ºo
,"Could‚ot‡ccess %s (stat)",

455 
¬ú
->
Çme
);

456 
	`£t_pmode
(
¬ú
->
Çme
,
fe_mode
 | 
S_IRWXU
);

464 
	`£t_pmode
(
¬ú
->
Çme
,

465 ((
sb
.
¡_mode
 & 
FILEBITS
è| 
S_IRWXU
));

466 ià(!
pmode
)

467 
¬ú
->
sb
.
¡_mode
 = sb.st_mode;

474 
	`add_dœ
(
¬ú
->
Çme
,‡rú->
Æ’
, &×rú->
sb
), 1);

475 } ià(
pmode
 || 
·time
 || 
pmtime
)

476 
	`add_dœ
(
¬ú
->
Çme
,‡rú->
Æ’
, &×rú->
sb
), 0);

479 ià(
·time
 || 
pmtime
)

480 
	`£t_áime
(
¬ú
->
Çme
,‡rú->
sb
.
¡_mtime
,‡rú->sb.
¡_©ime
, 0);

482 
	}
}

497 
	$uÆnk_exi¡
(*
Çme
, 
ty³
)

499 
¡©
 
sb
;

504 ià(
	`l¡©
(
Çme
, &
sb
) < 0)

506 ià(
kæag
)

509 ià(
	`S_ISDIR
(
sb
.
¡_mode
)) {

514 ià(
	`rmdœ
(
Çme
) < 0) {

515 ià(
ty³
 =ğ
PAX_DIR
)

517 
	`sysw¬n
(1,
”ºo
,"UÇbËØ»movdœeùÜy %s", 
Çme
);

526 ià(
	`uÆšk
(
Çme
) < 0) {

527 
	`sysw¬n
(1, 
”ºo
, "Could‚Ù uÆšk %s", 
Çme
);

531 
	}
}

548 
	$chk_·th
Ğ*
Çme
, 
uid_t
 
¡_uid
, 
gid_t
 
¡_gid
)

550 *
¥t
 = 
Çme
;

551 
¡©
 
sb
;

552 
»tv®
 = -1;

557 ià(*
¥t
 == '/')

558 ++
¥t
;

564 
¥t
 = 
	`¡rchr
(spt, '/');

565 ià(
¥t
 =ğ
NULL
)

567 *
¥t
 = '\0';

578 ià(
	`l¡©
(
Çme
, &
sb
) == 0) {

579 *(
¥t
++) = '/';

587 ià(
	`mkdœ
(
Çme
, 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
) < 0) {

588 *
¥t
 = '/';

589 
»tv®
 = -1;

598 
»tv®
 = 0;

599 ià(
pids
)

600 ()
	`£t_ids
(
Çme
, 
¡_uid
, 
¡_gid
);

608 ià((
	`acûss
(
Çme
, 
R_OK
 | 
W_OK
 | 
X_OK
) < 0) &&

609 (
	`l¡©
(
Çme
, &
sb
) == 0)) {

610 
	`£t_pmode
(
Çme
, ((
sb
.
¡_mode
 & 
FILEBITS
è| 
S_IRWXU
));

611 
	`add_dœ
(
Çme
, 
¥t
 -‚ame, &
sb
, 1);

613 *(
¥t
++) = '/';

616 (
»tv®
);

617 
	}
}

632 
	$£t_áime
(*
âm
, 
time_t
 
mtime
,ime_ˆ
©ime
, 
äc
)

634 
timev®
 
tv
[2] = {{0L, 0L}, {0L, 0L}};

635 
¡©
 
sb
;

637 
tv
[0].
tv_£c
 = 
©ime
;

638 
tv
[1].
tv_£c
 = 
mtime
;

639 ià(!
äc
 && (!
·time
 || !
pmtime
)) {

644 ià(
	`l¡©
(
âm
, &
sb
) == 0) {

645 ià(!
·time
)

646 
tv
[0].
tv_£c
 = 
sb
.
¡_©ime
;

647 ià(!
pmtime
)

648 
tv
[1].
tv_£c
 = 
sb
.
¡_mtime
;

650 
	`sysw¬n
(0,
”ºo
,"UÇbËØobš f¡© %s", 
âm
);

656 ià(
	`lutimes
(
âm
, 
tv
) < 0)

657 
	`sysw¬n
(1, 
”ºo
, "Access/modificationime set failed on: %s",

658 
âm
);

660 
	}
}

670 
	$£t_ids
(*
âm
, 
uid_t
 
uid
, 
gid_t
 
gid
)

672 ià(
	`lchown
(
âm
, 
uid
, 
gid
) < 0) {

677 ià(
	`¡rcmp
(
NM_PAX
, 
¬gv0
è=ğ0 || 
”ºo
 !ğ
EPERM
 || 
væag
 ||

678 
	`g‘euid
() == 0)

679 
	`sysw¬n
(1, 
”ºo
, "Unableo set file uid/gid of %s",

680 
âm
);

684 
	}
}

692 
	$£t_pmode
(*
âm
, 
mode_t
 
mode
)

694 
mode
 &ğ
ABITS
;

695 ià(
	`lchmod
(
âm
, 
mode
) < 0)

696 
	`sysw¬n
(1, 
”ºo
, "Could‚Ù s‘…”missiÚ Ú %s", 
âm
);

698 
	}
}

749 
	$fe_wr™e
(
fd
, *
¡r
, 
út
, *
»m
, *
i£m±
, 
sz
,

750 *
Çme
)

752 *
±
;

753 *
’d
;

754 
wút
;

755 *
¡
 = 
¡r
;

760 
út
) {

761 ià(!*
»m
) {

767 *
i£m±
 = 1;

768 *
»m
 = 
sz
;

775 
wút
 = 
	`MIN
(
út
, *
»m
);

776 
út
 -ğ
wút
;

777 *
»m
 -ğ
wút
;

778 ià(*
i£m±
) {

783 
±
 = 
¡
;

784 
’d
 = 
¡
 + 
wút
;

789 (
±
 < 
’d
) && (*pt == '\0'))

790 ++
±
;

792 ià(
±
 =ğ
’d
) {

796 ià(
	`l£ek
(
fd
, (
off_t
)
wút
, 
SEEK_CUR
) < 0) {

797 
	`sysw¬n
(1,
”ºo
,"File seek on %s",

798 
Çme
);

801 
¡
 = 
±
;

807 *
i£m±
 = 0;

813 ià(
	`wr™e
(
fd
, 
¡
, 
wút
) != wcnt) {

814 
	`sysw¬n
(1, 
”ºo
, "Faed wr™tØf%s", 
Çme
);

817 
¡
 +ğ
wút
;

819 (
¡
 - 
¡r
);

820 
	}
}

830 
	$fe_æush
(
fd
, *
âame
, 
i£m±
)

832 
bÊk
[] = "\0";

838 ià(!
i£m±
)

844 ià(
	`l£ek
(
fd
, (
off_t
)-1, 
SEEK_CUR
) < 0) {

845 
	`sysw¬n
(1, 
”ºo
, "Faed s“k oÀf%s", 
âame
);

849 ià(
	`wr™e
(
fd
, 
bÊk
, 1) < 0)

850 
	`sysw¬n
(1, 
”ºo
, "Faed wr™tØf%s", 
âame
);

852 
	}
}

861 
	$rdfe_şo£
(
ARCHD
 *
¬ú
, *
fd
)

866 ià(*
fd
 < 0)

869 ()
	`şo£
(*
fd
);

870 *
fd
 = -1;

871 ià(!
tæag
)

877 
	`£t_áime
(
¬ú
->
Üg_Çme
,‡rú->
sb
.
¡_mtime
,‡rú->sb.
¡_©ime
, 1);

879 
	}
}

891 
	$£t_üc
(
ARCHD
 *
¬ú
, 
fd
)

893 
i
;

894 
»s
;

895 
off_t
 
ıút
 = 0L;

896 
u_lÚg
 
size
;

897 
üc
 = 0L;

898 
tbuf
[
FILEBLK
];

899 
¡©
 
sb
;

901 ià(
fd
 < 0) {

905 
¬ú
->
üc
 = 0L;

909 ià((
size
 = (
u_lÚg
)
¬ú
->
sb
.
¡_blksize
è> (u_lÚg)(
tbuf
))

910 
size
 = (
u_lÚg
)(
tbuf
);

917 ià((
»s
 = 
	`»ad
(
fd
, 
tbuf
, 
size
)) <= 0)

919 
ıút
 +ğ
»s
;

920 
i
 = 0; i < 
»s
; ++i)

921 
üc
 +ğ(
tbuf
[
i
] & 0xff);

928 ià(
ıút
 !ğ
¬ú
->
sb
.
¡_size
)

929 
	`·xw¬n
(1, "Fchªged siz%s", 
¬ú
->
Üg_Çme
);

930 ià(
	`f¡©
(
fd
, &
sb
) < 0)

931 
	`sysw¬n
(1, 
”ºo
, "Faed sˆÚ %s", 
¬ú
->
Üg_Çme
);

932 ià(
¬ú
->
sb
.
¡_mtime
 != sb.st_mtime)

933 
	`·xw¬n
(1, "F% wa modif›d duršg„—d", 
¬ú
->
Üg_Çme
);

934 ià(
	`l£ek
(
fd
, (
off_t
)0L, 
SEEK_SET
) < 0)

935 
	`sysw¬n
(1, 
”ºo
, "F»wšd faed on: %s", 
¬ú
->
Üg_Çme
);

937 
¬ú
->
üc
 = crc;

941 
	}
}

	@pax/ftree.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)ftree.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/ftree.c,v 1.24.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<uni¡d.h
>

46 
	~<¡ršg.h
>

47 
	~<¡dio.h
>

48 
	~<”ºo.h
>

49 
	~<¡dlib.h
>

50 
	~<ás.h
>

51 
	~"·x.h
"

52 
	~"á»e.h
"

53 
	~"ex‹º.h
"

69 
FTS
 *
	gá¥
 = 
NULL
;

70 
	gásİts
;

71 *
	gç¼ay
[2];

72 
FTREE
 *
	gáh—d
 = 
NULL
;

73 
FTREE
 *
	gá
 = 
NULL
;

74 
FTREE
 *
	gácur
 = 
NULL
;

75 
FTSENT
 *
	gá’t
 = 
NULL
;

76 
	gá»e_sk
;

78 
á»e_¬g
();

91 
	$á»e_¡¬t
()

99 
ásİts
 = 
FTS_NOCHDIR
;

111 ià(
Læag
)

112 
ásİts
 |ğ
FTS_LOGICAL
;

114 
ásİts
 |ğ
FTS_PHYSICAL
;

115 ià(
Hæag
)

116 #ifdeà
NET2_FTS


117 
	`·xw¬n
(0, "The -H flag is‚ot supported onhis version");

119 
ásİts
 |ğ
FTS_COMFOLLOW
;

121 ià(
Xæag
)

122 
ásİts
 |ğ
FTS_XDEV
;

124 ià((
áh—d
 =ğ
NULL
è&& ((
ç¼ay
[0] = 
	`m®loc
(
PAXPATHLEN
+2)) == NULL)) {

125 
	`·xw¬n
(1, "Unableo‡llocate memory for file‚ame buffer");

129 ià(
	`á»e_¬g
() < 0)

131 ià(
tæag
 && (
	`©dœ_¡¬t
() < 0))

134 
	}
}

145 
	$á»e_add
(*
¡r
, 
chæg
)

147 
FTREE
 *
á
;

148 
Ën
;

153 ià((
¡r
 =ğ
NULL
) || (*str == '\0')) {

154 
	`·xw¬n
(0, "Invalid file‚ame‡rgument");

163 ià((
á
 = (
FTREE
 *)
	`m®loc
((FTREE))è=ğ
NULL
) {

164 
	`·xw¬n
(0, "Unableo‡llocate memory for filename");

168 ià(((
Ën
 = 
	`¡¾’
(
¡r
) - 1) > 0) && (str[len] == '/'))

169 
¡r
[
Ën
] = '\0';

170 
á
->
âame
 = 
¡r
;

171 
á
->
»fút
 = 0;

172 
á
->
chæg
 = chflg;

173 
á
->
fow
 = 
NULL
;

174 ià(
áh—d
 =ğ
NULL
) {

175 
á
 = 
áh—d
 = 
á
;

178 
á
->
fow
 = 
á
;

179 
á
 = 
á
;

181 
	}
}

190 
	$á»e_£l
(
ARCHD
 *
¬ú
)

197 ià(
ácur
 !ğ
NULL
)

198 
ácur
->
»fút
 = 1;

206 ià(
næag
)

207 
á»e_sk
 = 1;

209 ià(!
dæag
 || (
¬ú
->
ty³
 !ğ
PAX_DIR
))

212 ià(
á’t
 !ğ
NULL
)

213 ()
	`ás_£t
(
á¥
, 
á’t
, 
FTS_SKIP
);

214 
	}
}

222 
	$á»e_nÙ£l
()

224 ià(
á’t
 !ğ
NULL
)

225 ()
	`ás_£t
(
á¥
, 
á’t
, 
FTS_SKIP
);

226 
	}
}

235 
	$á»e_chk
()

237 
FTREE
 *
á
;

238 
wbª
 = 0;

243 ià(
tæag
)

244 
	`©dœ_’d
();

250 
á
 = 
áh—d
; fˆ!ğ
NULL
; fˆğá->
fow
) {

251 ià((
á
->
»fút
 > 0è|| ft->
chæg
)

253 ià(
wbª
 == 0) {

254 
	`·xw¬n
(1,"WARNING! These file‚ames were‚ot selected:");

255 ++
wbª
;

257 ()
	`årštf
(
¡d”r
, "%s\n", 
á
->
âame
);

259 
	}
}

272 
	$á»e_¬g
()

274 *
±
;

279 ià(
á¥
 !ğ
NULL
) {

280 ()
	`ás_şo£
(
á¥
);

281 
á¥
 = 
NULL
;

289 ià(
áh—d
 =ğ
NULL
) {

294 ià(
	`fg‘s
(
ç¼ay
[0], 
PAXPATHLEN
+1, 
¡dš
è=ğ
NULL
)

296 ià((
±
 = 
	`¡rchr
(
ç¼ay
[0], '\n')è!ğ
NULL
)

297 *
±
 = '\0';

302 ià(
ácur
 =ğ
NULL
)

303 
ácur
 = 
áh—d
;

304 ià((
ácur
 = ftcur->
fow
è=ğ
NULL
)

306 ià(
ácur
->
chæg
) {

308 ià(
	`fchdœ
(
cwdfd
) < 0) {

309 
	`sysw¬n
(1, 
”ºo
,

313 ià(
	`chdœ
(
ácur
->
âame
) < 0) {

314 
	`sysw¬n
(1, 
”ºo
, "Can't chdiro %s",

315 
ácur
->
âame
);

320 
ç¼ay
[0] = 
ácur
->
âame
;

332 ià((
á¥
 = 
	`ás_İ’
(
ç¼ay
, 
ásİts
, 
NULL
)) != NULL)

336 
	}
}

346 
	$Ãxt_fe
(
ARCHD
 *
¬ú
)

348 
út
;

349 
time_t
 
©ime
;

350 
time_t
 
mtime
;

358 ià(
á»e_sk
) {

362 
á»e_sk
 = 0;

363 ià(
	`á»e_¬g
() < 0)

371 ià((
á’t
 = 
	`ás_»ad
(
á¥
)è=ğ
NULL
) {

376 ià(
	`á»e_¬g
() < 0)

384 
á’t
->
ás_šfo
) {

385 
FTS_D
:

386 
FTS_DEFAULT
:

387 
FTS_F
:

388 
FTS_SL
:

389 
FTS_SLNONE
:

394 
FTS_DP
:

403 #ifdeà
NET2_FTS


404 ià(!
tæag
 || (
	`g‘_©dœ
(
á’t
->
ás_¡©b
.
¡_dev
,

405 
á’t
->
ás_¡©b
.
¡_šo
, &
mtime
, &
©ime
) < 0))

407 ià(!
tæag
 || (
	`g‘_©dœ
(
á’t
->
ás_¡©p
->
¡_dev
,

408 
á’t
->
ás_¡©p
->
¡_šo
, &
mtime
, &
©ime
) < 0))

411 
	`£t_áime
(
á’t
->
ás_·th
, 
mtime
, 
©ime
, 1);

413 
FTS_DC
:

417 
	`·xw¬n
(1,"Fsy¡em cyşfound‡ˆ%s",
á’t
->
ás_·th
);

419 
FTS_DNR
:

420 #ifdeà
NET2_FTS


421 
	`sysw¬n
(1, 
”ºo
,

423 
	`sysw¬n
(1, 
á’t
->
ás_”ºo
,

425 "UÇbËØ»ad dœeùÜy %s", 
á’t
->
ás_·th
);

427 
FTS_ERR
:

428 #ifdeà
NET2_FTS


429 
	`sysw¬n
(1, 
”ºo
,

431 
	`sysw¬n
(1, 
á’t
->
ás_”ºo
,

435 
FTS_NS
:

436 
FTS_NSOK
:

437 #ifdeà
NET2_FTS


438 
	`sysw¬n
(1, 
”ºo
,

440 
	`sysw¬n
(1, 
á’t
->
ás_”ºo
,

442 "UÇbËØacûs %s", 
á’t
->
ás_·th
);

450 
¬ú
->
sk
 = 0;

451 
¬ú
->
·d
 = 0;

452 
¬ú
->
Ê_Æ’
 = 0;

453 
¬ú
->
Ê_Çme
[0] = '\0';

454 #ifdeà
NET2_FTS


455 
¬ú
->
sb
 = 
á’t
->
ás_¡©b
;

457 
¬ú
->
sb
 = *(
á’t
->
ás_¡©p
);

470 
S_IFMT
 & 
¬ú
->
sb
.
¡_mode
) {

471 
S_IFDIR
:

472 
¬ú
->
ty³
 = 
PAX_DIR
;

473 ià(!
tæag
)

475 
	`add_©dœ
(
á’t
->
ás_·th
, 
¬ú
->
sb
.
¡_dev
,

476 
¬ú
->
sb
.
¡_šo
,‡rú->sb.
¡_mtime
,

477 
¬ú
->
sb
.
¡_©ime
);

479 
S_IFCHR
:

480 
¬ú
->
ty³
 = 
PAX_CHR
;

482 
S_IFBLK
:

483 
¬ú
->
ty³
 = 
PAX_BLK
;

485 
S_IFREG
:

492 
¬ú
->
ty³
 = 
PAX_REG
;

493 
¬ú
->
sk
 =‡rú->
sb
.
¡_size
;

495 
S_IFLNK
:

496 
¬ú
->
ty³
 = 
PAX_SLK
;

500 ià((
út
 = 
	`»adlšk
(
á’t
->
ás_·th
, 
¬ú
->
Ê_Çme
,

501 
PAXPATHLEN
 - 1)) < 0) {

502 
	`sysw¬n
(1, 
”ºo
, "Unableo„ead symlink %s",

503 
á’t
->
ás_·th
);

510 
¬ú
->
Ê_Çme
[
út
] = '\0';

511 
¬ú
->
Ê_Æ’
 = 
út
;

513 
S_IFSOCK
:

519 
¬ú
->
ty³
 = 
PAX_SCK
;

521 
S_IFIFO
:

522 
¬ú
->
ty³
 = 
PAX_FIF
;

531 
¬ú
->
Æ’
 = 
	`l_¡ºıy
×rú->
Çme
, 
á’t
->
ás_·th
, (arcn->name) - 1);

532 
¬ú
->
Çme
[¬ú->
Æ’
] = '\0';

533 
¬ú
->
Üg_Çme
 = 
á’t
->
ás_·th
;

535 
	}
}

	@pax/ftree.h

43 
	sá»e
 {

44 *
	mâame
;

45 
	m»fút
;

46 
	mchæg
;

47 
á»e
 *
	mfow
;

48 } 
	tFTREE
;

	@pax/gen_subs.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)gen_subs.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/gen_subs.c,v 1.23.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<Ïngšfo.h
>

46 
	~<¡dšt.h
>

47 
	~<¡dio.h
>

48 
	~<utmp.h
>

49 
	~<uni¡d.h
>

50 
	~<¡dlib.h
>

51 
	~<¡ršg.h
>

52 
	~"·x.h
"

53 
	~"ex‹º.h
"

62 
	#MODELEN
 20

	)

63 
	#DATELEN
 64

	)

64 
	#SIXMONTHS
 ((365 / 2è* 86400)

	)

65 
	#CURFRMTM
 "%b %%H:%M"

	)

66 
	#OLDFRMTM
 "%b % %Y"

	)

67 
	#CURFRMTD
 "%%b %H:%M"

	)

68 
	#OLDFRMTD
 "%%b %Y"

	)

69 #iâdeà
UT_NAMESIZE


70 
	#UT_NAMESIZE
 8

	)

72 
	#UT_GRPSIZE
 6

	)

74 
	gd_fœ¡
 = -1;

82 
	$ls_li¡
(
ARCHD
 *
¬ú
, 
time_t
 
now
, 
FILE
 *
å
)

84 
¡©
 *
sbp
;

85 
f_mode
[
MODELEN
];

86 
f_d©e
[
DATELEN
];

87 cÚ¡ *
timeämt
;

92 ià(!
væag
) {

93 ()
	`årštf
(
å
, "%s\n", 
¬ú
->
Çme
);

94 ()
	`fæush
(
å
);

98 ià(
d_fœ¡
 < 0)

99 
d_fœ¡
 = (*
	`Æ_Ïngšfo
(
D_MD_ORDER
) == 'd');

103 
sbp
 = &(
¬ú
->
sb
);

104 
	`¡rmode
(
sbp
->
¡_mode
, 
f_mode
);

109 ià((
sbp
->
¡_mtime
 + 
SIXMONTHS
è<ğ
now
)

110 
timeämt
 = 
d_fœ¡
 ? 
OLDFRMTD
 : 
OLDFRMTM
;

112 
timeämt
 = 
d_fœ¡
 ? 
CURFRMTD
 : 
CURFRMTM
;

117 ià(
	`¡ráime
(
f_d©e
,
DATELEN
,
timeämt
,
	`loÿÉime
(&(
sbp
->
¡_mtime
))) == 0)

118 
f_d©e
[0] = '\0';

119 ()
	`årštf
(
å
, "%s%2u %-* %-* ", 
f_mode
, 
sbp
->
¡_Æšk
,

120 
UT_NAMESIZE
, 
	`Çme_uid
(
sbp
->
¡_uid
, 1), 
UT_GRPSIZE
,

121 
	`Çme_gid
(
sbp
->
¡_gid
, 1));

126 ià((
¬ú
->
ty³
 =ğ
PAX_CHR
è|| (¬ú->ty³ =ğ
PAX_BLK
))

127 #ifdeà
NET2_STAT


128 ()
	`årštf
(
å
, "%4u,%4u ", 
	`MAJOR
(
sbp
->
¡_rdev
),

129 
	`MINOR
(
sbp
->
¡_rdev
));

131 ()
	`årštf
(
å
, "%4lu,%4lu ", ()
	`MAJOR
(
sbp
->
¡_rdev
),

132 ()
	`MINOR
(
sbp
->
¡_rdev
));

135 #ifdeà
NET2_STAT


136 ()
	`årštf
(
å
, "%9lu ", 
sbp
->
¡_size
);

138 ()
	`årštf
(
å
, "%9ju ", (
uštmax_t
)
sbp
->
¡_size
);

145 ()
	`årštf
(
å
, "% %s", 
f_d©e
, 
¬ú
->
Çme
);

146 ià((
¬ú
->
ty³
 =ğ
PAX_HLK
è|| (¬ú->ty³ =ğ
PAX_HRG
))

147 ()
	`årštf
(
å
, " =ğ%s\n", 
¬ú
->
Ê_Çme
);

148 ià(
¬ú
->
ty³
 =ğ
PAX_SLK
)

149 ()
	`årštf
(
å
, " => %s\n", 
¬ú
->
Ê_Çme
);

151 ()
	`putc
('\n', 
å
);

152 ()
	`fæush
(
å
);

154 
	}
}

162 
	$ls_‰y
(
ARCHD
 *
¬ú
)

164 
f_d©e
[
DATELEN
];

165 
f_mode
[
MODELEN
];

166 cÚ¡ *
timeämt
;

168 ià(
d_fœ¡
 < 0)

169 
d_fœ¡
 = (*
	`Æ_Ïngšfo
(
D_MD_ORDER
) == 'd');

171 ià((
¬ú
->
sb
.
¡_mtime
 + 
SIXMONTHS
è<ğ
	`time
(
NULL
))

172 
timeämt
 = 
d_fœ¡
 ? 
OLDFRMTD
 : 
OLDFRMTM
;

174 
timeämt
 = 
d_fœ¡
 ? 
CURFRMTD
 : 
CURFRMTM
;

179 ià(
	`¡ráime
(
f_d©e
, 
DATELEN
, 
timeämt
,

180 
	`loÿÉime
(&(
¬ú
->
sb
.
¡_mtime
))) == 0)

181 
f_d©e
[0] = '\0';

182 
	`¡rmode
(
¬ú
->
sb
.
¡_mode
, 
f_mode
);

183 
	`‰y_´Á
("%s% %s\n", 
f_mode
, 
f_d©e
, 
¬ú
->
Çme
);

185 
	}
}

197 
	$l_¡ºıy
(*
de¡
, cÚ¡ *
¤c
, 
Ën
)

199 *
¡İ
;

200 *
¡¬t
;

202 
¡İ
 = 
de¡
 + 
Ën
;

203 
¡¬t
 = 
de¡
;

204 (
de¡
 < 
¡İ
è&& (*
¤c
 != '\0'))

205 *
de¡
++ = *
¤c
++;

206 
Ën
 = 
de¡
 - 
¡¬t
;

207 
de¡
 < 
¡İ
)

208 *
de¡
++ = '\0';

209 (
Ën
);

210 
	}
}

222 
u_lÚg


223 
	$asc_ul
(*
¡r
, 
Ën
, 
ba£
)

225 *
¡İ
;

226 
u_lÚg
 
tv®
 = 0;

228 
¡İ
 = 
¡r
 + 
Ën
;

233 (
¡r
 < 
¡İ
) && ((*str == ' ') || (*str == '0')))

234 ++
¡r
;

240 ià(
ba£
 =ğ
HEX
) {

241 
¡r
 < 
¡İ
) {

242 ià((*
¡r
 >= '0') && (*str <= '9'))

243 
tv®
 = (tv® << 4è+ (*
¡r
++ - '0');

244 ià((*
¡r
 >= 'A') && (*str <= 'F'))

245 
tv®
 = (tv® << 4è+ 10 + (*
¡r
++ - 'A');

246 ià((*
¡r
 >= 'a') && (*str <= 'f'))

247 
tv®
 = (tv® << 4è+ 10 + (*
¡r
++ - 'a');

252 (
¡r
 < 
¡İ
) && (*str >= '0') && (*str <= '7'))

253 
tv®
 = (tv® << 3è+ (*
¡r
++ - '0');

255 (
tv®
);

256 
	}
}

266 
	$ul_asc
(
u_lÚg
 
v®
, *
¡r
, 
Ën
, 
ba£
)

268 *
±
;

269 
u_lÚg
 
dig™
;

274 
±
 = 
¡r
 + 
Ën
 - 1;

281 ià(
ba£
 =ğ
HEX
) {

282 
±
 >ğ
¡r
) {

283 ià((
dig™
 = (
v®
 & 0xf)) < 10)

284 *
±
-- = '0' + ()
dig™
;

286 *
±
-- = 'a' + ()(
dig™
 - 10);

287 ià((
v®
 = (v® >> 4)è=ğ(
u_lÚg
)0)

291 
±
 >ğ
¡r
) {

292 *
±
-- = '0' + ()(
v®
 & 0x7);

293 ià((
v®
 = (v® >> 3)è=ğ(
u_lÚg
)0)

301 
±
 >ğ
¡r
)

302 *
±
-- = '0';

303 ià(
v®
 !ğ(
u_lÚg
)0)

306 
	}
}

308 #iâdeà
NET2_STAT


319 
u_quad_t


320 
	$asc_uqd
(*
¡r
, 
Ën
, 
ba£
)

322 *
¡İ
;

323 
u_quad_t
 
tv®
 = 0;

325 
¡İ
 = 
¡r
 + 
Ën
;

330 (
¡r
 < 
¡İ
) && ((*str == ' ') || (*str == '0')))

331 ++
¡r
;

337 ià(
ba£
 =ğ
HEX
) {

338 
¡r
 < 
¡İ
) {

339 ià((*
¡r
 >= '0') && (*str <= '9'))

340 
tv®
 = (tv® << 4è+ (*
¡r
++ - '0');

341 ià((*
¡r
 >= 'A') && (*str <= 'F'))

342 
tv®
 = (tv® << 4è+ 10 + (*
¡r
++ - 'A');

343 ià((*
¡r
 >= 'a') && (*str <= 'f'))

344 
tv®
 = (tv® << 4è+ 10 + (*
¡r
++ - 'a');

349 (
¡r
 < 
¡İ
) && (*str >= '0') && (*str <= '7'))

350 
tv®
 = (tv® << 3è+ (*
¡r
++ - '0');

352 (
tv®
);

353 
	}
}

363 
	$uqd_asc
(
u_quad_t
 
v®
, *
¡r
, 
Ën
, 
ba£
)

365 *
±
;

366 
u_quad_t
 
dig™
;

371 
±
 = 
¡r
 + 
Ën
 - 1;

378 ià(
ba£
 =ğ
HEX
) {

379 
±
 >ğ
¡r
) {

380 ià((
dig™
 = (
v®
 & 0xf)) < 10)

381 *
±
-- = '0' + ()
dig™
;

383 *
±
-- = 'a' + ()(
dig™
 - 10);

384 ià((
v®
 = (v® >> 4)è=ğ(
u_quad_t
)0)

388 
±
 >ğ
¡r
) {

389 *
±
-- = '0' + ()(
v®
 & 0x7);

390 ià((
v®
 = (v® >> 3)è=ğ(
u_quad_t
)0)

398 
±
 >ğ
¡r
)

399 *
±
-- = '0';

400 ià(
v®
 !ğ(
u_quad_t
)0)

403 
	}
}

	@pax/getoldopt.c

13 
	~<sys/cdefs.h
>

14 
__FBSDID
("$FreeBSD: src/bin/pax/getoldopt.c,v 1.5.22.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

16 
	~<sys/ty³s.h
>

17 
	~<sys/¡©.h
>

18 
	~<¡dio.h
>

19 
	~<¡ršg.h
>

20 
	~<uni¡d.h
>

22 
	~"·x.h
"

23 
	~"ex‹º.h
"

26 
	$g‘Şdİt
(
¬gc
, **
¬gv
, cÚ¡ *
İt¡ršg
)

28 *
key
;

29 
u£_g‘İt
;

30 
c
;

31 *
¶aû
;

33 
İrg
 = 
NULL
;

35 ià(
key
 =ğ
NULL
) {

36 ià(
¬gc
 < 2)

38 
key
 = 
¬gv
[1];

39 ià(*
key
 == '-')

40 
u£_g‘İt
++;

42 
İtšd
 = 2;

45 ià(
u£_g‘İt
)

46  (
	`g‘İt
(
¬gc
, 
¬gv
, 
İt¡ršg
));

48 
c
 = *
key
++;

49 ià(
c
 == '\0') {

50 
key
--;

53 
¶aû
 = 
	`¡rchr
(
İt¡ršg
, 
c
);

55 ià(
¶aû
 =ğ
NULL
 || 
c
 == ':') {

56 
	`årštf
(
¡d”r
, "%s: unknowÀİtiÚ %c\n", 
¬gv
[0], 
c
);

60 
¶aû
++;

61 ià(*
¶aû
 == ':') {

62 ià(
İtšd
 < 
¬gc
) {

63 
İrg
 = 
¬gv
[
İtšd
];

64 
İtšd
++;

66 
	`årštf
(
¡d”r
, "%s: %c‡rgument missing\n",

67 
¬gv
[0], 
c
);

72  (
c
);

73 
	}
}

	@pax/options.c

35 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)options.c 8.2 (Berkeley) 4/18/94";

40 
	~<sys/cdefs.h
>

41 
__FBSDID
("$FreeBSD: src/bin/pax/options.c,v 1.31.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

43 
	~<sys/ty³s.h
>

44 
	~<sys/¡©.h
>

45 
	~<sys/mtio.h
>

46 
	~<¡dio.h
>

47 
	~<¡ršg.h
>

48 
	~<”ºo.h
>

49 
	~<uni¡d.h
>

50 
	~<¡dlib.h
>

51 
	~<lim™s.h
>

52 
	~<·ths.h
>

53 
	~"·x.h
"

54 
	~"İtiÚs.h
"

55 
	~"ıio.h
"

56 
	~"r.h
"

57 
	~"ex‹º.h
"

63 
	gægch
[] = 
FLGCH
;

64 
OPLIST
 *
	gİh—d
 = 
NULL
;

65 
OPLIST
 *
	gİ
 = 
NULL
;

67 
no_İ
();

68 
´štæg
();

69 
c_ämt
(const *, const *);

70 
off_t
 
¡r_ofá
(*);

71 *
g‘lše
(
FILE
 *
å
);

72 
·x_İtiÚs
(, **);

73 
·x_u§ge
();

74 
r_İtiÚs
(, **);

75 
r_u§ge
();

76 
ıio_İtiÚs
(, **);

77 
ıio_u§ge
();

80 
	#GETLINE_FILE_CORRUPT
 1

	)

81 
	#GETLINE_OUT_OF_MEM
 2

	)

82 
	gg‘lše_”rÜ
;

85 
	#GZIP_CMD
 "gz"

	)

86 
	#COMPRESS_CMD
 "com´ess"

	)

87 
	#BZIP2_CMD
 "bz2"

	)

98 
FSUB
 
	gfsub
[] = {

100 {"bıio", 5120, (
HD_BCPIO
), 1, 0, 0, 1, 
bıio_id
, 
ıio_¡rd
,

101 
bıio_rd
, 
bıio_’drd
, 
ıio_¡wr
, 
bıio_wr
, 
ıio_’dwr
, 
ıio_Œa
,

102 
NULL
, 
rd_wrfe
, 
wr_rdfe
, 
bad_İt
},

105 {"ıio", 5120, (
HD_CPIO
), 1, 0, 0, 1, 
ıio_id
, 
ıio_¡rd
,

106 
ıio_rd
, 
ıio_’drd
, 
ıio_¡wr
, 
ıio_wr
, 
ıio_’dwr
, 
ıio_Œa
,

107 
NULL
, 
rd_wrfe
, 
wr_rdfe
, 
bad_İt
},

110 {"sv4ıio", 5120, (
HD_VCPIO
), 1, 0, 0, 1, 
vıio_id
, 
ıio_¡rd
,

111 
vıio_rd
, 
vıio_’drd
, 
ıio_¡wr
, 
vıio_wr
, 
ıio_’dwr
, 
ıio_Œa
,

112 
NULL
, 
rd_wrfe
, 
wr_rdfe
, 
bad_İt
},

115 {"sv4üc", 5120, (
HD_VCPIO
), 1, 0, 0, 1, 
üc_id
, 
üc_¡rd
,

116 
vıio_rd
, 
vıio_’drd
, 
üc_¡wr
, 
vıio_wr
, 
ıio_’dwr
, 
ıio_Œa
,

117 
NULL
, 
rd_wrfe
, 
wr_rdfe
, 
bad_İt
},

120 {"r", 10240, 
BLKMULT
, 0, 1, BLKMULT, 0, 
r_id
, 
no_İ
,

121 
r_rd
, 
r_’drd
, 
no_İ
, 
r_wr
, 
r_’dwr
, 
NULL
, 
r_Œa
,

122 
rd_wrfe
, 
wr_rdfe
, 
r_İt
},

125 {"u¡¬", 10240, 
BLKMULT
, 0, 1, BLKMULT, 0, 
u¡¬_id
, 
u¡¬_¡rd
,

126 
u¡¬_rd
, 
r_’drd
, 
u¡¬_¡wr
, 
u¡¬_wr
, 
r_’dwr
, 
NULL
, 
r_Œa
,

127 
rd_wrfe
, 
wr_rdfe
, 
bad_İt
},

129 
	#F_OCPIO
 0

	)

130 
	#F_ACPIO
 1

	)

131 
	#F_CPIO
 3

	)

132 
	#F_OTAR
 4

	)

133 
	#F_TAR
 5

	)

134 
	#DEFLT
 5

	)

141 
	gfÜd
[] = {5, 4, 3, 2, 1, 0, -1 };

150 
	$İtiÚs
(
¬gc
, **
¬gv
)

156 ià((
¬gv0
 = 
	`¡¼chr
(
¬gv
[0], '/')è!ğ
NULL
)

157 
¬gv0
++;

159 
¬gv0
 = 
¬gv
[0];

161 ià(
	`¡rcmp
(
NM_TAR
, 
¬gv0
) == 0) {

162 
	`r_İtiÚs
(
¬gc
, 
¬gv
);

165 ià(
	`¡rcmp
(
NM_CPIO
, 
¬gv0
) == 0) {

166 
	`ıio_İtiÚs
(
¬gc
, 
¬gv
);

172 
¬gv0
 = 
NM_PAX
;

173 
	`·x_İtiÚs
(
¬gc
, 
¬gv
);

175 
	}
}

184 
	$·x_İtiÚs
(
¬gc
, **
¬gv
)

186 
c
;

187 
size_t
 
i
;

188 
æg
 = 0;

189 
bæg
 = 0;

190 *
±
;

191 
FSUB
 
tmp
;

196 (
c
=
	`g‘İt
(
¬gc
,
¬gv
,"ab:cdf:iklno:p:rs:tuvwx:zB:DE:G:HLPT:U:XYZ"))

198 
c
) {

203 
æg
 |ğ
AF
;

209 
æg
 |ğ
BF
;

210 ià((
wrblksz
 = ()
	`¡r_ofá
(
İrg
)) <= 0) {

211 
	`·xw¬n
(1, "Inv®id block siz%s", 
İrg
);

212 
	`·x_u§ge
();

219 
cæag
 = 1;

220 
æg
 |ğ
CF
;

226 
dæag
 = 1;

227 
æg
 |ğ
DF
;

233 
¬úame
 = 
İrg
;

234 
æg
 |ğ
FF
;

240 
iæag
 = 1;

241 
æg
 |ğ
IF
;

247 
kæag
 = 1;

248 
æg
 |ğ
KF
;

254 
læag
 = 1;

255 
æg
 |ğ
LF
;

261 
næag
 = 1;

262 
æg
 |ğ
NF
;

268 
æg
 |ğ
OF
;

269 ià(
	`İt_add
(
İrg
) < 0)

270 
	`·x_u§ge
();

276 
±
 = 
İrg
; *pt != '\0'; ++pt) {

277 *
±
) {

282 
·time
 = 0;

289 
pids
 = 1;

290 
pmode
 = 1;

291 
·time
 = 1;

292 
pmtime
 = 1;

298 
pmtime
 = 0;

304 
pids
 = 1;

310 
pmode
 = 1;

313 
	`·xw¬n
(1, "Inv®id -°¡ršg: %c", *
±
);

314 
	`·x_u§ge
();

318 
æg
 |ğ
PF
;

324 
æg
 |ğ
RF
;

330 ià(
	`»p_add
(
İrg
) < 0) {

331 
	`·x_u§ge
();

334 
æg
 |ğ
SF
;

340 
tæag
 = 1;

341 
æg
 |ğ
TF
;

347 
uæag
 = 1;

348 
æg
 |ğ
UF
;

354 
væag
 = 1;

355 
æg
 |ğ
VF
;

361 
æg
 |ğ
WF
;

367 
tmp
.
Çme
 = 
İrg
;

368 ià((
ämt
 = (
FSUB
 *)
	`b£¬ch
((*)&
tmp
, (*)
fsub
,

369 (
fsub
)/(
FSUB
), (FSUB), 
c_ämt
)è!ğ
NULL
) {

370 
æg
 |ğ
XF
;

373 
	`·xw¬n
(1, "UnknowÀ-x fÜm©: %s", 
İrg
);

374 ()
	`åuts
("·x: KnowÀ-x fÜm© ¬e:", 
¡d”r
);

375 
i
 = 0; i < ((
fsub
)/(
FSUB
)); ++i)

376 ()
	`årštf
(
¡d”r
, " %s", 
fsub
[
i
].
Çme
);

377 ()
	`åuts
("\n\n", 
¡d”r
);

378 
	`·x_u§ge
();

384 
gz_´og¿m
 = 
GZIP_CMD
;

391 ià((
w¾im™
 = 
	`¡r_ofá
(
İrg
)) <= 0) {

392 
	`·xw¬n
(1, "Inv®id wr™lim™ %s", 
İrg
);

393 
	`·x_u§ge
();

395 ià(
w¾im™
 % 
BLKMULT
) {

396 
	`·xw¬n
(1, "Write†imit is‚ot‡ %d byte multiple",

397 
BLKMULT
);

398 
	`·x_u§ge
();

400 
æg
 |ğ
CBF
;

407 
Dæag
 = 1;

408 
æg
 |ğ
CDF
;

416 
æg
 |ğ
CEF
;

417 ià(
	`¡rcmp
(
NONE
, 
İrg
) == 0)

418 
maxæt
 = -1;

419 ià((
maxæt
 = 
	`©oi
(
İrg
)) < 0) {

420 
	`·xw¬n
(1, "Error count value must be…ositive");

421 
	`·x_u§ge
();

429 ià(
	`g½_add
(
İrg
) < 0) {

430 
	`·x_u§ge
();

433 
æg
 |ğ
CGF
;

439 
Hæag
 = 1;

440 
æg
 |ğ
CHF
;

446 
Læag
 = 1;

447 
æg
 |ğ
CLF
;

453 
Læag
 = 0;

454 
æg
 |ğ
CPF
;

461 ià(
	`Œng_add
(
İrg
) < 0) {

462 
	`·x_u§ge
();

465 
æg
 |ğ
CTF
;

472 ià(
	`u¤_add
(
İrg
) < 0) {

473 
	`·x_u§ge
();

476 
æg
 |ğ
CUF
;

482 
Xæag
 = 1;

483 
æg
 |ğ
CXF
;

490 
Yæag
 = 1;

491 
æg
 |ğ
CYF
;

498 
Zæag
 = 1;

499 
æg
 |ğ
CZF
;

502 
	`·x_u§ge
();

512 ià(
	`ISLIST
(
æg
)) {

513 
aù
 = 
LIST
;

514 
li¡f
 = 
¡dout
;

515 
bæg
 = 
æg
 & 
BDLIST
;

516 } ià(
	`ISEXTRACT
(
æg
)) {

517 
aù
 = 
EXTRACT
;

518 
bæg
 = 
æg
 & 
BDEXTR
;

519 } ià(
	`ISARCHIVE
(
æg
)) {

520 
aù
 = 
ARCHIVE
;

521 
bæg
 = 
æg
 & 
BDARCH
;

522 } ià(
	`ISAPPND
(
æg
)) {

523 
aù
 = 
APPND
;

524 
bæg
 = 
æg
 & 
BDARCH
;

525 } ià(
	`ISCOPY
(
æg
)) {

526 
aù
 = 
COPY
;

527 
bæg
 = 
æg
 & 
BDCOPY
;

529 
	`·x_u§ge
();

530 ià(
bæg
) {

531 
	`´štæg
(
æg
);

532 
	`·x_u§ge
();

540 ià(!(
æg
 & 
XF
è&& (
aù
 =ğ
ARCHIVE
))

541 
ämt
 = &(
fsub
[
DEFLT
]);

546 
aù
) {

547 
LIST
:

548 
EXTRACT
:

549 ; 
İtšd
 < 
¬gc
; optind++)

550 ià(
	`·t_add
(
¬gv
[
İtšd
], 
NULL
) < 0)

551 
	`·x_u§ge
();

553 
COPY
:

554 ià(
İtšd
 >ğ
¬gc
) {

555 
	`·xw¬n
(0, "Destination directory was‚ot supplied");

556 
	`·x_u§ge
();

558 --
¬gc
;

559 
dœ±r
 = 
¬gv
[
¬gc
];

561 
ARCHIVE
:

562 
APPND
:

563 ; 
İtšd
 < 
¬gc
; optind++)

564 ià(
	`á»e_add
(
¬gv
[
İtšd
], 0) < 0)

565 
	`·x_u§ge
();

569 
maxæt
 = 0;

572 
	}
}

582 
	$r_İtiÚs
(
¬gc
, **
¬gv
)

584 
c
;

585 
f¡dš
 = 0;

586 
Oæag
 = 0;

587 
nšcfes
 = 0;

588 
šcfes_max
 = 0;

589 
	sšcfe
 {

590 *
fe
;

591 *
dœ
;

593 
šcfe
 *
šcfes
 = 
NULL
;

598 
rmËad¦ash
 = 1;

603 (
c
 = 
	`g‘Şdİt
(
¬gc
, 
¬gv
,

605 
c
) {

610 ià((
wrblksz
 = ()
	`¡r_ofá
(
İrg
)) <= 0) {

611 
	`·xw¬n
(1, "Inv®id block siz%s", 
İrg
);

612 
	`r_u§ge
();

614 
wrblksz
 *= 512;

620 
aù
 = 
ARCHIVE
;

626 
maxæt
 = 0;

632 ià((
İrg
[0] == '-') && (optarg[1]== '\0')) {

636 
f¡dš
 = 1;

637 
¬úame
 = 
NULL
;

640 
f¡dš
 = 0;

641 
¬úame
 = 
İrg
;

647 
Læag
 = 1;

654 
gz_´og¿m
 = 
BZIP2_CMD
;

660 
pmtime
 = 0;

663 ià(
	`İt_add
("write_opt=nodir") < 0)

664 
	`r_u§ge
();

666 
Oæag
 = 1;

672 
pmode
 = 1;

673 
pids
 = 1;

679 
næag
 = 1;

686 
aù
 = 
APPND
;

692 ià(
	`»p_add
(
İrg
) < 0) {

693 
	`r_u§ge
();

701 
aù
 = 
LIST
;

707 
væag
++;

713 
iæag
 = 1;

720 
aù
 = 
EXTRACT
;

721 
pmtime
 = 1;

727 
gz_´og¿m
 = 
GZIP_CMD
;

735 
chdÇme
 = 
İrg
;

741 
Hæag
 = 1;

744 ià(++
nšcfes
 > 
šcfes_max
) {

745 
šcfes_max
 = 
nšcfes
 + 3;

746 
šcfes
 = 
	`»®loc
(incfiles,

747 (*
šcfes
è* 
šcfes_max
);

748 ià(
šcfes
 =ğ
NULL
) {

749 
	`·xw¬n
(0, "Unableo‡llocate space "

751 
	`ex™
(1);

754 
šcfes
[
nšcfes
 - 1].
fe
 = 
İrg
;

755 
šcfes
[
nšcfes
 - 1].
dœ
 = 
chdÇme
;

761 
Læag
 = 1;

767 
rmËad¦ash
 = 0;

773 
Xæag
 = 1;

779 
gz_´og¿m
 = 
COMPRESS_CMD
;

782 
¬úame
 = 
DEV_0
;

785 
¬úame
 = 
DEV_1
;

788 
¬úame
 = 
DEV_4
;

791 
¬úame
 = 
DEV_5
;

794 
¬úame
 = 
DEV_7
;

797 
¬úame
 = 
DEV_8
;

800 
	`r_u§ge
();

804 
¬gc
 -ğ
İtšd
;

805 
¬gv
 +ğ
İtšd
;

808 ià(
f¡dš
 =ğ1 && 
aù
 =ğ
ARCHIVE
)

809 
li¡f
 = 
¡d”r
;

811 
li¡f
 = 
¡dout
;

814 ià((
aù
 =ğ
ARCHIVE
 ||‡ù =ğ
APPND
è&& 
¬gc
 =ğ0 && 
nšcfes
 == 0)

815 
	`ex™
(0);

821 ià(
aù
 =ğ
ARCHIVE
 ||‡ù =ğ
APPND
)

822 
ämt
 = &(
fsub
[
Oæag
 ? 
F_OTAR
 : 
F_TAR
]);

823 ià(
Oæag
) {

824 
	`·xw¬n
(1, "The -O/-o options‡re only valid when writing‡n‡rchive");

825 
	`r_u§ge
();

831 
aù
) {

832 
LIST
:

833 
EXTRACT
:

836 
§w·t
 = 0;

837 *
fe
, *
dœ
 = 
NULL
;

839 
nšcfes
 || *
¬gv
 !ğ
NULL
) {

847 ià(
nšcfes
) {

848 
fe
 = 
šcfes
->file;

849 
dœ
 = 
šcfes
->dir;

850 
šcfes
++;

851 
nšcfes
--;

852 } ià(
	`¡rcmp
(*
¬gv
, "-I") == 0) {

853 ià(*++
¬gv
 =ğ
NULL
)

855 
fe
 = *
¬gv
++;

856 
dœ
 = 
chdÇme
;

858 
fe
 = 
NULL
;

859 ià(
fe
 !ğ
NULL
) {

860 
FILE
 *
å
;

861 *
¡r
;

863 ià(
	`¡rcmp
(
fe
, "-") == 0)

864 
å
 = 
¡dš
;

865 ià((
å
 = 
	`fİ’
(
fe
, "r")è=ğ
NULL
) {

866 
	`·xw¬n
(1, "UÇbËØİ’ f'%s' fÜ„—d", 
fe
);

867 
	`r_u§ge
();

869 (
¡r
 = 
	`g‘lše
(
å
)è!ğ
NULL
) {

870 ià(
	`·t_add
(
¡r
, 
dœ
) < 0)

871 
	`r_u§ge
();

872 
§w·t
 = 1;

874 ià(
	`¡rcmp
(
fe
, "-") != 0)

875 
	`fşo£
(
å
);

876 ià(
g‘lše_”rÜ
) {

877 
	`·xw¬n
(1, "ProbËm w™h f'%s'", 
fe
);

878 
	`r_u§ge
();

880 } ià(
	`¡rcmp
(*
¬gv
, "-C") == 0) {

881 ià(*++
¬gv
 =ğ
NULL
)

883 
chdÇme
 = *
¬gv
++;

884 } ià(
	`·t_add
(*
¬gv
++, 
chdÇme
) < 0)

885 
	`r_u§ge
();

887 
§w·t
 = 1;

894 ià(
§w·t
 > 0)

895 
chdÇme
 = 
NULL
;

898 
ARCHIVE
:

899 
APPND
:

900 ià(
chdÇme
 !ğ
NULL
) {

901 ià(
	`á»e_add
(
chdÇme
, 1) < 0)

902 
	`r_u§ge
();

905 
nšcfes
 || *
¬gv
 !ğ
NULL
) {

906 *
fe
, *
dœ
 = 
NULL
;

914 ià(
nšcfes
) {

915 
fe
 = 
šcfes
->file;

916 
dœ
 = 
šcfes
->dir;

917 
šcfes
++;

918 
nšcfes
--;

919 } ià(
	`¡rcmp
(*
¬gv
, "-I") == 0) {

920 ià(*++
¬gv
 =ğ
NULL
)

922 
fe
 = *
¬gv
++;

923 
dœ
 = 
NULL
;

925 
fe
 = 
NULL
;

926 ià(
fe
 !ğ
NULL
) {

927 
FILE
 *
å
;

928 *
¡r
;

931 ià(
dœ
) {

932 ià(
	`á»e_add
(
dœ
, 1) < 0)

933 
	`r_u§ge
();

936 ià(
	`¡rcmp
(
fe
, "-") == 0)

937 
å
 = 
¡dš
;

938 ià((
å
 = 
	`fİ’
(
fe
, "r")è=ğ
NULL
) {

939 
	`·xw¬n
(1, "UÇbËØİ’ f'%s' fÜ„—d", 
fe
);

940 
	`r_u§ge
();

942 (
¡r
 = 
	`g‘lše
(
å
)è!ğ
NULL
) {

943 ià(
	`á»e_add
(
¡r
, 0) < 0)

944 
	`r_u§ge
();

946 ià(
	`¡rcmp
(
fe
, "-") != 0)

947 
	`fşo£
(
å
);

948 ià(
g‘lše_”rÜ
) {

949 
	`·xw¬n
(1, "Problem with file '%s'",

950 
fe
);

951 
	`r_u§ge
();

953 } ià(
	`¡rcmp
(*
¬gv
, "-C") == 0) {

954 ià(*++
¬gv
 =ğ
NULL
)

956 ià(
	`á»e_add
(*
¬gv
++, 1) < 0)

957 
	`r_u§ge
();

958 } ià(
	`á»e_add
(*
¬gv
++, 0) < 0)

959 
	`r_u§ge
();

964 
maxæt
 = 0;

967 ià(!
f¡dš
 && ((
¬úame
 =ğ
NULL
) || (*arcname == '\0'))) {

968 
¬úame
 = 
	`g‘’v
("TAPE");

969 ià((
¬úame
 =ğ
NULL
) || (*arcname == '\0'))

970 
¬úame
 = 
_PATH_DEFTAPE
;

972 
	}
}

975 
	$mk·th
(*
·th
)

977 
¡©
 
sb
;

978 *
¦ash
;

979 
dÚe
 = 0;

981 
¦ash
 = 
·th
;

983 !
dÚe
) {

984 
¦ash
 +ğ
	`¡r¥n
(slash, "/");

985 
¦ash
 +ğ
	`¡rc¥n
(slash, "/");

987 
dÚe
 = (*
¦ash
 == '\0');

988 *
¦ash
 = '\0';

990 ià(
	`¡©
(
·th
, &
sb
)) {

991 ià(
”ºo
 !ğ
ENOENT
 || 
	`mkdœ
(
·th
, 0777)) {

992 
	`·xw¬n
(1, "%s", 
·th
);

995 } ià(!
	`S_ISDIR
(
sb
.
¡_mode
)) {

996 
	`sysw¬n
(1, 
ENOTDIR
, "%s", 
·th
);

1000 ià(!
dÚe
)

1001 *
¦ash
 = '/';

1005 
	}
}

1013 
	$ıio_İtiÚs
(
¬gc
, **
¬gv
)

1015 
c
;

1016 
size_t
 
i
;

1017 *
¡r
;

1018 
FSUB
 
tmp
;

1019 
FILE
 *
å
;

1021 
kæag
 = 1;

1022 
pids
 = 1;

1023 
pmode
 = 1;

1024 
pmtime
 = 0;

1025 
¬úame
 = 
NULL
;

1026 
dæag
 = 1;

1027 
aù
 = -1;

1028 
nodœs
 = 1;

1029 (
c
=
	`g‘İt
(
¬gc
,
¬gv
,"abcdfiklmoprstuvzABC:E:F:H:I:LO:SZ6")) != -1)

1030 
c
) {

1035 
tæag
 = 1;

1046 
ämt
 = &(
fsub
[
F_ACPIO
]);

1052 
nodœs
 = 0;

1058 
cæag
 = 1;

1064 
aù
 = 
EXTRACT
;

1072 
læag
 = 1;

1078 
pmtime
 = 1;

1084 
aù
 = 
ARCHIVE
;

1085 
ämt
 = &(
fsub
[
F_CPIO
]);

1091 
aù
 = 
COPY
;

1097 
iæag
 = 1;

1108 
aù
 = 
LIST
;

1109 
li¡f
 = 
¡dout
;

1115 
kæag
 = 0;

1121 
væag
 = 1;

1127 
gz_´og¿m
 = 
GZIP_CMD
;

1133 
aù
 = 
APPND
;

1139 
wrblksz
 = 5120;

1145 
wrblksz
 = 
	`©oi
(
İrg
);

1151 ià((
å
 = 
	`fİ’
(
İrg
, "r")è=ğ
NULL
) {

1152 
	`·xw¬n
(1, "UÇbËØİ’ f'%s' fÜ„—d", 
İrg
);

1153 
	`ıio_u§ge
();

1155 (
¡r
 = 
	`g‘lše
(
å
)è!ğ
NULL
) {

1156 
	`·t_add
(
¡r
, 
NULL
);

1158 
	`fşo£
(
å
);

1159 ià(
g‘lše_”rÜ
) {

1160 
	`·xw¬n
(1, "ProbËm w™h f'%s'", 
İrg
);

1161 
	`ıio_u§ge
();

1170 ià((
İrg
[0] == '-') && (optarg[1]== '\0')) {

1174 
¬úame
 = 
NULL
;

1177 
¬úame
 = 
İrg
;

1183 
tmp
.
Çme
 = 
İrg
;

1184 ià((
ämt
 = (
FSUB
 *)
	`b£¬ch
((*)&
tmp
, (*)
fsub
,

1185 (
fsub
)/(
FSUB
), (FSUB), 
c_ämt
)è!ğ
NULL
)

1187 
	`·xw¬n
(1, "UnknowÀ-H fÜm©: %s", 
İrg
);

1188 ()
	`åuts
("ıio: KnowÀ-H fÜm© ¬e:", 
¡d”r
);

1189 
i
 = 0; i < ((
fsub
)/(
FSUB
)); ++i)

1190 ()
	`årštf
(
¡d”r
, " %s", 
fsub
[
i
].
Çme
);

1191 ()
	`åuts
("\n\n", 
¡d”r
);

1192 
	`ıio_u§ge
();

1198 
Læag
 = 1;

1209 
gz_´og¿m
 = 
COMPRESS_CMD
;

1215 
ämt
 = &(
fsub
[
F_OCPIO
]);

1219 
	`ıio_u§ge
();

1222 
¬gc
 -ğ
İtšd
;

1223 
¬gv
 +ğ
İtšd
;

1228 
aù
) {

1229 
LIST
:

1230 
EXTRACT
:

1231 *
¬gv
 !ğ
NULL
)

1232 ià(
	`·t_add
(*
¬gv
++, 
NULL
) < 0)

1233 
	`ıio_u§ge
();

1235 
COPY
:

1236 ià(*
¬gv
 =ğ
NULL
) {

1237 
	`·xw¬n
(0, "Destination directory was‚ot supplied");

1238 
	`ıio_u§ge
();

1240 
dœ±r
 = *
¬gv
;

1241 ià(
	`mk·th
(
dœ±r
) < 0)

1242 
	`ıio_u§ge
();

1243 --
¬gc
;

1244 ++
¬gv
;

1246 
ARCHIVE
:

1247 
APPND
:

1248 ià(*
¬gv
 !ğ
NULL
)

1249 
	`ıio_u§ge
();

1253 
maxæt
 = 0;

1254 (
¡r
 = 
	`g‘lše
(
¡dš
)è!ğ
NULL
) {

1255 
	`á»e_add
(
¡r
, 0);

1257 ià(
g‘lše_”rÜ
) {

1258 
	`·xw¬n
(1, "Problem while„eading stdin");

1259 
	`ıio_u§ge
();

1263 
	`ıio_u§ge
();

1266 
	}
}

1274 
	$´štæg
(
æg
)

1276 
nxt
;

1277 
pos
 = 0;

1279 ()
	`årštf
(
¡d”r
,"%s: Inv®id combš©iÚ oàİtiÚs:", 
¬gv0
);

1280 (
nxt
 = 
	`ffs
(
æg
)) != 0) {

1281 
æg
 = flg >> 
nxt
;

1282 
pos
 +ğ
nxt
;

1283 ()
	`årštf
(
¡d”r
, " -%c", 
ægch
[
pos
-1]);

1285 ()
	`putc
('\n', 
¡d”r
);

1286 
	}
}

1295 
	$c_ämt
(cÚ¡ *
a
, cÚ¡ *
b
)

1297 (
	`¡rcmp
(((cÚ¡ 
FSUB
 *)
a
)->
Çme
, ((cÚ¡ FSUB *)
b
)->name));

1298 
	}
}

1308 
OPLIST
 *

1309 
	$İt_Ãxt
()

1311 
OPLIST
 *
İt
;

1313 ià((
İt
 = 
İh—d
è!ğ
NULL
)

1314 
İh—d
 = oph—d->
fow
;

1315 (
İt
);

1316 
	}
}

1325 
	$bad_İt
()

1327 
OPLIST
 *
İt
;

1329 ià(
İh—d
 =ğ
NULL
)

1334 
	`·xw¬n
(1,"These format options‡re‚ot supported");

1335 (
İt
 = 
	`İt_Ãxt
()è!ğ
NULL
)

1336 ()
	`årštf
(
¡d”r
, "\t% ğ%s\n", 
İt
->
Çme
, o±->
v®ue
);

1337 
	`·x_u§ge
();

1339 
	}
}

1351 
	$İt_add
(cÚ¡ *
¡r
)

1353 
OPLIST
 *
İt
;

1354 *
ä±
;

1355 *
±
;

1356 *
’d±
;

1357 *
l¡r
;

1359 ià((
¡r
 =ğ
NULL
) || (*str == '\0')) {

1360 
	`·xw¬n
(0, "Invalid option‚ame");

1363 ià((
l¡r
 = 
	`¡rdup
(
¡r
)è=ğ
NULL
) {

1364 
	`·xw¬n
(0, "Unableo‡llocate space for option†ist");

1367 
ä±
 = 
’d±
 = 
l¡r
;

1374 (
ä±
 !ğ
NULL
) && (*frpt != '\0')) {

1375 ià((
’d±
 = 
	`¡rchr
(
ä±
, ',')è!ğ
NULL
)

1376 *
’d±
 = '\0';

1377 ià((
±
 = 
	`¡rchr
(
ä±
, '=')è=ğ
NULL
) {

1378 
	`·xw¬n
(0, "Invalid options format");

1379 
	`ä“
(
l¡r
);

1382 ià((
İt
 = (
OPLIST
 *)
	`m®loc
((OPLIST))è=ğ
NULL
) {

1383 
	`·xw¬n
(0, "Unableo‡llocate space for option†ist");

1384 
	`ä“
(
l¡r
);

1387 *
±
++ = '\0';

1388 
İt
->
Çme
 = 
ä±
;

1389 
İt
->
v®ue
 = 
±
;

1390 
İt
->
fow
 = 
NULL
;

1391 ià(
’d±
 !ğ
NULL
)

1392 
ä±
 = 
’d±
 + 1;

1394 
ä±
 = 
NULL
;

1395 ià(
İh—d
 =ğ
NULL
) {

1396 
İ
 = 
İh—d
 = 
İt
;

1399 
İ
->
fow
 = 
İt
;

1400 
İ
 = 
İt
;

1403 
	}
}

1420 
off_t


1421 
	$¡r_ofá
(*
v®
)

1423 *
ex´
;

1424 
off_t
 
num
, 
t
;

1426 #ifdeà
NET2_STAT


1427 
num
 = 
	`¡¹Ş
(
v®
, &
ex´
, 0);

1428 ià((
num
 =ğ
LONG_MAX
è|| (num <ğ0è|| (
ex´
 =ğ
v®
))

1430 
num
 = 
	`¡¹oq
(
v®
, &
ex´
, 0);

1431 ià((
num
 =ğ
QUAD_MAX
è|| (num <ğ0è|| (
ex´
 =ğ
v®
))

1435 *
ex´
) {

1437 
t
 = 
num
;

1438 
num
 *= 512;

1439 ià(
t
 > 
num
)

1441 ++
ex´
;

1444 
t
 = 
num
;

1445 
num
 *= 1024;

1446 ià(
t
 > 
num
)

1448 ++
ex´
;

1451 
t
 = 
num
;

1452 
num
 *= 1048576;

1453 ià(
t
 > 
num
)

1455 ++
ex´
;

1458 
t
 = 
num
;

1459 
num
 *= ();

1460 ià(
t
 > 
num
)

1462 ++
ex´
;

1466 *
ex´
) {

1471 
t
 = 
num
;

1472 
num
 *ğ
	`¡r_ofá
(
ex´
 + 1);

1473 ià(
t
 > 
num
)

1479 (
num
);

1480 
	}
}

1483 
	$g‘lše
(
FILE
 *
f
)

1485 *
Çme
, *
‹mp
;

1486 
size_t
 
Ën
;

1488 
Çme
 = 
	`fg‘Ê
(
f
, &
Ën
);

1489 ià(!
Çme
) {

1490 
g‘lše_”rÜ
 = 
	`ã¼Ü
(
f
è? 
GETLINE_FILE_CORRUPT
 : 0;

1493 ià(
Çme
[
Ën
-1] != '\n')

1494 
Ën
++;

1495 
‹mp
 = 
	`m®loc
(
Ën
);

1496 ià(!
‹mp
) {

1497 
g‘lše_”rÜ
 = 
GETLINE_OUT_OF_MEM
;

1500 
	`memıy
(
‹mp
, 
Çme
, 
Ën
-1);

1501 
‹mp
[
Ën
-1] = 0;

1502 (
‹mp
);

1503 
	}
}

1513 
	$no_İ
()

1516 
	}
}

1524 
	$·x_u§ge
()

1526 ()
	`åuts
("u§ge:…ax [-cdnvz] [-E†im™] [-à¬chive] ", 
¡d”r
);

1527 ()
	`åuts
("[- »¶¡r] ... [-U u£r] ...", 
¡d”r
);

1528 ()
	`åuts
("\n [-G group] ... ", 
¡d”r
);

1529 ()
	`åuts
("[-T [äom_d©e][,to_d©e]] ... ", 
¡d”r
);

1530 ()
	`åuts
("[·‰”À...]\n", 
¡d”r
);

1531 ()
	`åuts
("…ax -¸[-cdiknuvzDYZ] [-E†im™] ", 
¡d”r
);

1532 ()
	`åuts
("[-à¬chive] [-ØİtiÚs] ... \n", 
¡d”r
);

1533 ()
	`åuts
(" [-°¡ršg] ... [- »¶¡r] ... ", 
¡d”r
);

1534 ()
	`åuts
("[-U u£r] ... [-G group] ...\n ", 
¡d”r
);

1535 ()
	`åuts
("[-T [äom_d©e][,to_d©e]] ... ", 
¡d”r
);

1536 ()
	`åuts
(" [·‰”À...]\n", 
¡d”r
);

1537 ()
	`åuts
("…ax -w [-d™uvzHLPX] [-b blocksize] ", 
¡d”r
);

1538 ()
	`åuts
("[ [-a] [-à¬chive] ] [-x fÜm©] \n", 
¡d”r
);

1539 ()
	`åuts
(" [-B by‹s] [- »¶¡r] ... ", 
¡d”r
);

1540 ()
	`åuts
("[-ØİtiÚs] ... [-U u£r] ...", 
¡d”r
);

1541 ()
	`åuts
("\n [-G group] ... ", 
¡d”r
);

1542 ()
	`åuts
("[-T [äom_d©e][,to_d©e][/[c][m]]] ... ", 
¡d”r
);

1543 ()
	`åuts
("[f...]\n", 
¡d”r
);

1544 ()
	`åuts
("…ax -¸-w [-dikÊtuvDHLPXYZ] ", 
¡d”r
);

1545 ()
	`åuts
("[-°¡ršg] ... [- »¶¡r] ...", 
¡d”r
);

1546 ()
	`åuts
("\n [-U u£r] ... [-G group] ... ", 
¡d”r
);

1547 ()
	`åuts
("[-T [äom_d©e][,to_d©e][/[c][m]]] ... ", 
¡d”r
);

1548 ()
	`åuts
("\n [f...] dœeùÜy\n", 
¡d”r
);

1549 
	`ex™
(1);

1550 
	}
}

1558 
	$r_u§ge
()

1560 ()
	`åuts
("usage:ar [-]{crtux}[-befhjmopqsvwyzHLOPXZ014578] [blocksize] ",

1561 
¡d”r
);

1562 ()
	`åuts
("[archive] [replstr] [-C directory] [-I file] [file ...]\n",

1563 
¡d”r
);

1564 
	`ex™
(1);

1565 
	}
}

1573 
	$ıio_u§ge
()

1575 ()
	`åuts
("u§ge: cpiØ-Ø[-aABcLvVzZ] [-C by‹s] [-H fÜm©] [-O‡rchive]\n", 
¡d”r
);

1576 ()
	`åuts
(" [-F‡rchive] <‚ame-li¡ [>‡rchive]\n", 
¡d”r
);

1577 ()
	`åuts
(" cpiØ-˜[-bBcdfmÄsStuvVzZ6] [-C by‹s] [-E fe] [-H fÜm©]\n", 
¡d”r
);

1578 ()
	`åuts
(" [-I‡rchive] [-F‡rchive] [·‰”n...] [<‡rchive]\n", 
¡d”r
);

1579 ()
	`åuts
(" cpiØ-°[-adlLmuvV] de¡š©iÚ-dœeùÜy <‚ame-li¡\n", 
¡d”r
);

1580 
	`ex™
(1);

1581 
	}
}

	@pax/options.h

41 
	#NM_TAR
 "r"

	)

42 
	#NM_CPIO
 "ıio"

	)

43 
	#NM_PAX
 "·x"

	)

50 
	#NONE
 "nÚe"

	)

55 
	#AF
 0x00000001

	)

56 
	#BF
 0x00000002

	)

57 
	#CF
 0x00000004

	)

58 
	#DF
 0x00000008

	)

59 
	#FF
 0x00000010

	)

60 
	#IF
 0x00000020

	)

61 
	#KF
 0x00000040

	)

62 
	#LF
 0x00000080

	)

63 
	#NF
 0x00000100

	)

64 
	#OF
 0x00000200

	)

65 
	#PF
 0x00000400

	)

66 
	#RF
 0x00000800

	)

67 
	#SF
 0x00001000

	)

68 
	#TF
 0x00002000

	)

69 
	#UF
 0x00004000

	)

70 
	#VF
 0x00008000

	)

71 
	#WF
 0x00010000

	)

72 
	#XF
 0x00020000

	)

73 
	#CBF
 0x00040000

	)

74 
	#CDF
 0x00080000

	)

75 
	#CEF
 0x00100000

	)

76 
	#CGF
 0x00200000

	)

77 
	#CHF
 0x00400000

	)

78 
	#CLF
 0x00800000

	)

79 
	#CPF
 0x01000000

	)

80 
	#CTF
 0x02000000

	)

81 
	#CUF
 0x04000000

	)

82 
	#CXF
 0x08000000

	)

83 
	#CYF
 0x10000000

	)

84 
	#CZF
 0x20000000

	)

90 
	#FLGCH
 "abcdfikÊİr¡uvwxBDEGHLPTUXYZ"

	)

96 
	#ISLIST
(
x
è(((xè& (
RF
|
WF
)è=ğ0)

	)

97 
	#ISEXTRACT
(
x
è(((xè& (
RF
|
WF
)è=ğRF)

	)

98 
	#ISARCHIVE
(
x
è(((xè& (
AF
|
RF
|
WF
)è=ğWF)

	)

99 
	#ISAPPND
(
x
è(((xè& (
AF
|
RF
|
WF
)è=ğ(AF|WF))

	)

100 
	#ISCOPY
(
x
è(((xè& (
RF
|
WF
)è=ğ(RF|WF))

	)

101 
	#ISWRITE
(
x
è(((xè& (
RF
|
WF
)è=ğWF)

	)

107 
	#BDEXTR
 (
AF
|
BF
|
LF
|
TF
|
WF
|
XF
|
CBF
|
CHF
|
CLF
|
CPF
|
CXF
)

	)

108 
	#BDARCH
 (
CF
|
KF
|
LF
|
NF
|
PF
|
RF
|
CDF
|
CEF
|
CYF
|
CZF
)

	)

109 
	#BDCOPY
 (
AF
|
BF
|
FF
|
OF
|
XF
|
CBF
|
CEF
)

	)

110 
	#BDLIST
 (
AF
|
BF
|
IF
|
KF
|
LF
|
OF
|
PF
|
RF
|
TF
|
UF
|
WF
|
XF
|
CBF
|
CDF
|
CHF
|
CLF
|
CPF
|
CXF
|
CYF
|
CZF
)

	)

	@pax/pat_rep.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)pat_rep.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/pat_rep.c,v 1.27.10.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/¡©.h
>

44 
	~<¡dio.h
>

45 
	~<¡ršg.h
>

46 
	~<uni¡d.h
>

47 
	~<¡dlib.h
>

48 
	~<”ºo.h
>

49 #ifdeà
NET2_REGEX


50 
	~<»gexp.h
>

52 
	~<»gex.h
>

54 
	~"·x.h
"

55 
	~"·t_»p.h
"

56 
	~"ex‹º.h
"

65 
	#MAXSUBEXP
 10

	)

66 
PATTERN
 *
	g·th—d
 = 
NULL
;

67 
PATTERN
 *
	g·‰a
 = 
NULL
;

68 
REPLACE
 *
	g»ph—d
 = 
NULL
;

69 
REPLACE
 *
	g»±a
 = 
NULL
;

71 
»p_Çme
(*, *, );

72 
‰y_»Çme
(
ARCHD
 *);

73 
fix_·th
(*, *, *, );

74 
â_m©ch
(*, *, **);

75 * 
¿nge_m©ch
(*, );

76 #ifdeà
NET2_REGEX


77 
»sub
(
»gexp
 *, *, *, *);

79 
»sub
(
»gex_t
 *, 
»gm©ch_t
 *, *, *, *, *);

99 
	$»p_add
(*
¡r
)

101 *
±1
;

102 *
±2
;

103 
REPLACE
 *
»p
;

104 #iâdeà
NET2_REGEX


105 
»s
;

106 
»buf
[
BUFSIZ
];

112 ià((
¡r
 =ğ
NULL
) || (*str == '\0')) {

113 
	`·xw¬n
(1, "Empty„eplacement string");

121 ià((
±1
 = 
	`¡rchr
(
¡r
+1, *¡r)è=ğ
NULL
) {

122 
	`·xw¬n
(1, "Inv®id„•Ïûm’ˆ¡ršg %s", 
¡r
);

130 ià((
»p
 = (
REPLACE
 *)
	`m®loc
((REPLACE))è=ğ
NULL
) {

131 
	`·xw¬n
(1, "Unableo‡llocate memory for„eplacement string");

135 *
±1
 = '\0';

136 #ifdeà
NET2_REGEX


137 ià((
»p
->
rcmp
 = 
	`»gcomp
(
¡r
+1)è=ğ
NULL
) {

139 ià((
»s
 = 
	`»gcomp
(&(
»p
->
rcmp
), 
¡r
+1, 0)) != 0) {

140 
	`»g”rÜ
(
»s
, &(
»p
->
rcmp
), 
»buf
, (rebuf));

141 
	`·xw¬n
(1, "% whcompšg„eguÏ¸ex´essiÚ %s", 
»buf
, 
¡r
);

143 
	`ä“
(
»p
);

152 *
±1
++ = *
¡r
;

153 ià((
±2
 = 
	`¡rchr
(
±1
, *
¡r
)è=ğ
NULL
) {

154 #ifdeà
NET2_REGEX


155 
	`ä“
(
»p
->
rcmp
);

157 
	`»gä“
(&
»p
->
rcmp
);

159 
	`ä“
(
»p
);

160 
	`·xw¬n
(1, "Inv®id„•Ïûm’ˆ¡ršg %s", 
¡r
);

164 *
±2
 = '\0';

165 
»p
->
n¡r
 = 
±1
;

166 
±1
 = 
±2
++;

167 
»p
->
ægs
 = 0;

172 *
±2
 != '\0') {

173 *
±2
) {

176 
»p
->
ægs
 |ğ
GLOB
;

180 
»p
->
ægs
 |ğ
PRNT
;

183 #ifdeà
NET2_REGEX


184 
	`ä“
(
»p
->
rcmp
);

186 
	`»gä“
(&
»p
->
rcmp
);

188 
	`ä“
(
»p
);

189 *
±1
 = *
¡r
;

190 
	`·xw¬n
(1, "Inv®id„•Ïûm’ˆ¡ršg o±iÚ %s", 
¡r
);

193 ++
±2
;

199 
»p
->
fow
 = 
NULL
;

200 ià(
»ph—d
 =ğ
NULL
) {

201 
»±a
 = 
»ph—d
 = 
»p
;

204 
»±a
->
fow
 = 
»p
;

205 
»±a
 = 
»p
;

207 
	}
}

221 
	$·t_add
(*
¡r
, *
chdÇm
)

223 
PATTERN
 *
±
;

228 ià((
¡r
 =ğ
NULL
) || (*str == '\0')) {

229 
	`·xw¬n
(1, "Empty…attern string");

238 ià((
±
 = (
PATTERN
 *)
	`m®loc
((PATTERN))è=ğ
NULL
) {

239 
	`·xw¬n
(1, "Unableo‡llocate memory for…attern string");

243 
±
->
p¡r
 = 
¡r
;

244 
±
->
³nd
 = 
NULL
;

245 
±
->
¶’
 = 
	`¡¾’
(
¡r
);

246 
±
->
fow
 = 
NULL
;

247 
±
->
ægs
 = 0;

248 
±
->
chdÇme
 = 
chdÇm
;

250 ià(
·th—d
 =ğ
NULL
) {

251 
·‰a
 = 
·th—d
 = 
±
;

254 
·‰a
->
fow
 = 
±
;

255 
·‰a
 = 
±
;

257 
	}
}

266 
	$·t_chk
()

268 
PATTERN
 *
±
;

269 
wbª
 = 0;

275 
±
 = 
·th—d
;…ˆ!ğ
NULL
;…ˆğ±->
fow
) {

276 ià(
±
->
ægs
 & 
MTCH
)

278 ià(!
wbª
) {

279 
	`·xw¬n
(1, "WARNING! These…atterns were‚ot matched:");

280 ++
wbª
;

282 ()
	`årštf
(
¡d”r
, "%s\n", 
±
->
p¡r
);

284 
	}
}

303 
	$·t_£l
(
ARCHD
 *
¬ú
)

305 
PATTERN
 *
±
;

306 
PATTERN
 **
µt
;

307 
Ën
;

312 ià((
·th—d
 =ğ
NULL
è|| ((
±
 = 
¬ú
->
·t
) == NULL))

319 ià(!
næag
) {

320 
±
->
ægs
 |ğ
MTCH
;

331 ià(
±
->
ægs
 & 
DIR_MTCH
)

334 ià(!
dæag
 && ((
±
->
³nd
 !ğ
NULL
è|| (
¬ú
->
ty³
 =ğ
PAX_DIR
))) {

348 ià(
±
->
³nd
 !ğ
NULL
)

349 *
±
->
³nd
 = '\0';

351 ià((
±
->
p¡r
 = 
	`¡rdup
(
¬ú
->
Çme
)è=ğ
NULL
) {

352 
	`·xw¬n
(1, "Pattern select out of memory");

353 ià(
±
->
³nd
 !ğ
NULL
)

354 *
±
->
³nd
 = '/';

355 
±
->
³nd
 = 
NULL
;

362 ià(
±
->
³nd
 !ğ
NULL
) {

363 *
±
->
³nd
 = '/';

364 
±
->
³nd
 = 
NULL
;

366 
±
->
¶’
 = 
	`¡¾’
Õt->
p¡r
);

371 
Ën
 = 
±
->
¶’
 - 1;

372 ià(*(
±
->
p¡r
 + 
Ën
) == '/') {

373 *(
±
->
p¡r
 + 
Ën
) = '\0';

374 
±
->
¶’
 = 
Ën
;

376 
±
->
ægs
 = 
DIR_MTCH
 | 
MTCH
;

377 
¬ú
->
·t
 = 
±
;

389 
±
 = 
·th—d
;

390 
µt
 = &
·th—d
;

391 (
±
 !ğ
NULL
è&& (± !ğ
¬ú
->
·t
)) {

392 
µt
 = &(
±
->
fow
);

393 
±
 =…t->
fow
;

396 ià(
±
 =ğ
NULL
) {

400 
	`·xw¬n
(1, "Pattern†ist inconsistant");

403 *
µt
 = 
±
->
fow
;

404 
	`ä“
(
±
);

405 
¬ú
->
·t
 = 
NULL
;

407 
	}
}

422 
	$·t_m©ch
(
ARCHD
 *
¬ú
)

424 
PATTERN
 *
±
;

426 
¬ú
->
·t
 = 
NULL
;

432 ià(
·th—d
 =ğ
NULL
) {

433 ià(
næag
 && !
cæag
)

441 
±
 = 
·th—d
;

442 
±
 !ğ
NULL
) {

447 ià(
±
->
ægs
 & 
DIR_MTCH
) {

454 ià((
¬ú
->
Çme
[
±
->
¶’
] == '/') &&

455 (
	`¡ºcmp
(
±
->
p¡r
, 
¬ú
->
Çme
,…t->
¶’
) == 0))

457 } ià(
	`â_m©ch
(
±
->
p¡r
, 
¬ú
->
Çme
, &±->
³nd
) == 0)

459 
±
 =…t->
fow
;

466 ià(
±
 =ğ
NULL
)

467 (
cæag
 ? 0 : 1);

474 
¬ú
->
·t
 = 
±
;

475 ià(!
cæag
)

478 ià(
	`·t_£l
(
¬ú
) < 0)

480 
¬ú
->
·t
 = 
NULL
;

482 
	}
}

494 
	$â_m©ch
(*
·‰”n
, *
¡ršg
, **
³nd
)

496 
c
;

497 
‹¡
;

499 *
³nd
 = 
NULL
;

501 
c
 = *
·‰”n
++) {

506 ià(*
¡ršg
 == '\0')

512 ià((
dæag
 =ğ1è|| (*
¡ršg
 != '/'))

519 *
³nd
 = 
¡ršg
;

522 ià((
‹¡
 = *
¡ršg
++) == '\0')

526 
c
 = *
·‰”n
;

530 
c
 == '*')

531 
c
 = *++
·‰”n
;

536 ià(
c
 == '\0')

542 (
‹¡
 = *
¡ršg
) != '\0') {

543 ià(!
	`â_m©ch
(
·‰”n
, 
¡ršg
, 
³nd
))

545 ++
¡ršg
;

552 ià(((
‹¡
 = *
¡ršg
++) == '\0') ||

553 ((
·‰”n
 = 
	`¿nge_m©ch
Õ©‹º, 
‹¡
)è=ğ
NULL
))

558 ià(
c
 !ğ*
¡ršg
++)

564 
	}
}

567 
	$¿nge_m©ch
(*
·‰”n
, 
‹¡
)

569 
c
;

570 
c2
;

571 
Ãg©e
;

572 
ok
 = 0;

574 ià((
Ãg©e
 = (*
·‰”n
 == '!')) != 0)

575 ++
·‰”n
;

577 (
c
 = *
·‰”n
++) != ']') {

581 ià(
c
 == '\0')

582  (
NULL
);

584 ià((*
·‰”n
 =ğ'-'è&& ((
c2
 =…attern[1]) != '\0') &&

585 (
c2
 != ']')) {

586 ià((
c
 <ğ
‹¡
è&& (‹¡ <ğ
c2
))

587 
ok
 = 1;

588 
·‰”n
 += 2;

589 } ià(
c
 =ğ
‹¡
)

590 
ok
 = 1;

592  (
ok
 =ğ
Ãg©e
 ? 
NULL
 : 
·‰”n
);

593 
	}
}

610 
	$mod_Çme
(
ARCHD
 *
¬ú
)

612 
»s
 = 0;

618 ià(
rmËad¦ash
 && 
¬ú
->
Çme
[0] == '/') {

619 ià(
¬ú
->
Çme
[1] == '\0') {

620 
¬ú
->
Çme
[0] = '.';

622 ()
	`memmove
(
¬ú
->
Çme
, &arcn->name[1],

623 
	`¡¾’
(
¬ú
->
Çme
));

624 
¬ú
->
Æ’
--;

626 ià(
rmËad¦ash
 < 2) {

627 
rmËad¦ash
 = 2;

628 
	`·xw¬n
(0, "Removing†eading / from‡bsolute…ath‚ames inhe‡rchive");

631 ià(
rmËad¦ash
 && 
¬ú
->
Ê_Çme
[0] == '/' &&

632 (
¬ú
->
ty³
 =ğ
PAX_HLK
 ||‡rú->ty³ =ğ
PAX_HRG
)) {

633 ià(
¬ú
->
Ê_Çme
[1] == '\0') {

634 
¬ú
->
Ê_Çme
[0] = '.';

636 ()
	`memmove
(
¬ú
->
Ê_Çme
, &arcn->ln_name[1],

637 
	`¡¾’
(
¬ú
->
Ê_Çme
));

638 
¬ú
->
Ê_Æ’
--;

640 ià(
rmËad¦ash
 < 2) {

641 
rmËad¦ash
 = 2;

642 
	`·xw¬n
(0, "Removing†eading / from‡bsolute…ath‚ames inhe‡rchive");

665 ià(
»ph—d
 !ğ
NULL
) {

670 ià((
»s
 = 
	`»p_Çme
(
¬ú
->
Çme
, &×rú->
Æ’
), 1)) != 0)

671 (
»s
);

673 ià(((
¬ú
->
ty³
 =ğ
PAX_SLK
è|| (¬ú->ty³ =ğ
PAX_HLK
) ||

674 (
¬ú
->
ty³
 =ğ
PAX_HRG
)) &&

675 ((
»s
 = 
	`»p_Çme
(
¬ú
->
Ê_Çme
, &×rú->
Ê_Æ’
), 0)) != 0))

676 (
»s
);

679 ià(
iæag
) {

683 ià((
»s
 = 
	`‰y_»Çme
(
¬ú
)) != 0)

684 (
»s
);

685 ià((
¬ú
->
ty³
 =ğ
PAX_SLK
è|| (¬ú->ty³ =ğ
PAX_HLK
) ||

686 (
¬ú
->
ty³
 =ğ
PAX_HRG
))

687 
	`sub_Çme
(
¬ú
->
Ê_Çme
, &×rú->
Ê_Æ’
), (arcn->ln_name));

689 (
»s
);

690 
	}
}

703 
	$‰y_»Çme
(
ARCHD
 *
¬ú
)

705 
tm²ame
[
PAXPATHLEN
+2];

706 
»s
;

714 
	`‰y_´Á
("\nATTENTION: % š‹¿ùivf»Çmİ”©iÚ.\n", 
¬gv0
);

717 
	`ls_‰y
(
¬ú
);

718 
	`‰y_´Á
("Input‚ew‚ame, or‡ \".\"o keephe old‚ame, ");

719 
	`‰y_´Á
("or‡ \"return\"o skiphis file.\n");

720 
	`‰y_´Á
("Input > ");

721 ià(
	`‰y_»ad
(
tm²ame
, (tmpname)) < 0)

723 ià(
	`¡rcmp
(
tm²ame
, "..") == 0) {

724 
	`‰y_´Á
("Try‡gain, illegal file‚ame: ..\n");

727 ià(
	`¡¾’
(
tm²ame
è> 
PAXPATHLEN
) {

728 
	`‰y_´Á
("Try‡gain, file‚ameoo†ong\n");

737 ià(
tm²ame
[0] == '\0') {

738 
	`‰y_´Á
("Skipping file.\n");

741 ià((
tm²ame
[0] == '.') && (tmpname[1] == '\0')) {

742 
	`‰y_´Á
("Processing continues,‚ame unchanged.\n");

751 
	`‰y_´Á
("Proûssšg cÚtšues,‚amchªgedo: %s\n", 
tm²ame
);

752 
»s
 = 
	`add_Çme
(
¬ú
->
Çme
,‡rú->
Æ’
, 
tm²ame
);

753 
¬ú
->
Æ’
 = 
	`l_¡ºıy
×rú->
Çme
, 
tm²ame
, (arcn->name) - 1);

754 
¬ú
->
Çme
[¬ú->
Æ’
] = '\0';

755 ià(
»s
 < 0)

758 
	}
}

769 
	$£t_de¡
(
ARCHD
 *
¬ú
, *
de¡_dœ
, 
dœ_Ën
)

771 ià(
	`fix_·th
(
¬ú
->
Çme
, &×rú->
Æ’
), 
de¡_dœ
, 
dœ_Ën
) < 0)

779 ià((
¬ú
->
ty³
 !ğ
PAX_HLK
è&& (¬ú->ty³ !ğ
PAX_HRG
))

782 ià(
	`fix_·th
(
¬ú
->
Ê_Çme
, &×rú->
Ê_Æ’
), 
de¡_dœ
, 
dœ_Ën
) < 0)

785 
	}
}

796 
	$fix_·th
Ğ*
Ü_Çme
, *
Ü_Ën
, *
dœ_Çme
, 
dœ_Ën
)

798 *
¤c
;

799 *
de¡
;

800 *
¡¬t
;

801 
Ën
;

809 
¡¬t
 = 
Ü_Çme
;

810 
¤c
 = 
¡¬t
 + *
Ü_Ën
;

811 
de¡
 = 
¤c
 + 
dœ_Ën
;

812 ià(*
¡¬t
 == '/') {

813 ++
¡¬t
;

814 --
de¡
;

816 ià((
Ën
 = 
de¡
 - 
Ü_Çme
è> 
PAXPATHLEN
) {

817 
	`·xw¬n
(1, "FÇm%s/%s,oØlÚg", 
dœ_Çme
, 
¡¬t
);

820 *
Ü_Ën
 = 
Ën
;

825 
¤c
 >ğ
¡¬t
)

826 *
de¡
-- = *
¤c
--;

827 
¤c
 = 
dœ_Çme
 + 
dœ_Ën
 - 1;

832 
¤c
 >ğ
dœ_Çme
)

833 *
de¡
-- = *
¤c
--;

835 *(
Ü_Çme
 + 
Ën
) = '\0';

837 
	}
}

859 
	$»p_Çme
(*
Çme
, *
Æ’
, 
´Á
)

861 
REPLACE
 *
±
;

862 *
š±
;

863 *
out
;

864 *
’d±
;

865 *
½t
;

866 
found
 = 0;

867 
»s
;

868 #iâdeà
NET2_REGEX


869 
»gm©ch_t
 
pm
[
MAXSUBEXP
];

871 
Âame
[
PAXPATHLEN
+1];

872 
buf1
[
PAXPATHLEN
+1];

882 
±
 = 
»ph—d
;

883 ()
	`¡rıy
(
buf1
, 
Çme
);

884 
š±
 = 
buf1
;

885 
out
 = 
Âame
;

886 
’d±
 = 
out
 + 
PAXPATHLEN
;

891 
±
 !ğ
NULL
) {

897 #ifdeà
NET2_REGEX


898 ià(
	`»gexec
(
±
->
rcmp
, 
š±
) == 0)

900 ià(
	`»gexec
(&(
±
->
rcmp
), 
š±
, 
MAXSUBEXP
, 
pm
, 0) != 0)

911 
found
 = 1;

912 #ifdeà
NET2_REGEX


913 
½t
 = 
±
->
rcmp
->
¡¬
[0];

915 
½t
 = 
š±
 + 
pm
[0].
rm_so
;

918 (
š±
 < 
½t
è&& (
out
 < 
’d±
))

919 *
out
++ = *
š±
++;

920 ià(
out
 =ğ
’d±
)

929 #ifdeà
NET2_REGEX


930 ià((
»s
 = 
	`»sub
(
±
->
rcmp
,±->
n¡r
,
out
,
’d±
)) < 0) {

932 ià((
»s
 = 
	`»sub
(&(
±
->
rcmp
),
pm
,
š±
,±->
n¡r
,
out
,
’d±
))

935 ià(
´Á
)

936 
	`·xw¬n
(1, "Replacement‚ameƒrror %s",

937 
Çme
);

940 
out
 +ğ
»s
;

952 #ifdeà
NET2_REGEX


953 
š±
 = 
±
->
rcmp
->
’dp
[0];

955 
š±
 +ğ
pm
[0].
rm_eo
 -…m[0].
rm_so
;

958 ià((
out
 =ğ
’d±
è|| (*
š±
 == '\0'))

965 } 
±
->
ægs
 & 
GLOB
);

967 ià(
found
)

973 
±
 =…t->
fow
;

976 ià(
found
) {

981 (
out
 < 
’d±
è&& (*
š±
 != '\0'))

982 *
out
++ = *
š±
++;

984 *
out
 = '\0';

985 ià((
out
 =ğ
’d±
è&& (*
š±
 != '\0')) {

986 ià(
´Á
)

987 
	`·xw¬n
(1,"Replacement‚ameoo†ong %s >> %s",

988 
Çme
, 
Âame
);

995 ià(
´Á
 && (
±
->
ægs
 & 
PRNT
)) {

996 ià(*
Âame
 == '\0')

997 ()
	`årštf
(
¡d”r
,"%s >> <empty string>\n",

998 
Çme
);

1000 ()
	`årštf
(
¡d”r
,"% >> %s\n", 
Çme
, 
Âame
);

1007 ià(*
Âame
 == '\0')

1009 *
Æ’
 = 
	`l_¡ºıy
(
Çme
, 
Âame
, 
PAXPATHLEN
 + 1);

1010 
Çme
[
PAXPATHLEN
] = '\0';

1013 
	}
}

1015 #ifdeà
NET2_REGEX


1025 
	$»sub
(
»gexp
 *
´og
, *
¤c
, *
de¡
, *
de¡’d
)

1027 *
¥t
;

1028 *
d±
;

1029 
c
;

1030 
no
;

1031 
Ën
;

1033 
¥t
 = 
¤c
;

1034 
d±
 = 
de¡
;

1035 (
d±
 < 
de¡’d
è&& ((
c
 = *
¥t
++) != '\0')) {

1036 ià(
c
 == '&')

1037 
no
 = 0;

1038 ià((
c
 =ğ'\\'è&& (*
¥t
 >= '0') && (*spt <= '9'))

1039 
no
 = *
¥t
++ - '0';

1041 ià((
c
 =ğ'\\'è&& ((*
¥t
 == '\\') || (*spt == '&')))

1042 
c
 = *
¥t
++;

1043 *
d±
++ = 
c
;

1046 ià((
´og
->
¡¬
[
no
] =ğ
NULL
è|| (´og->
’dp
[no] == NULL) ||

1047 ((
Ën
 = 
´og
->
’dp
[
no
] -…rog->
¡¬
[no]) <= 0))

1054 ià(
Ën
 > (
de¡’d
 - 
d±
))

1055 
Ën
 = 
de¡’d
 - 
d±
;

1056 ià(
	`l_¡ºıy
(
d±
, 
´og
->
¡¬
[
no
], 
Ën
) !=†en)

1058 
d±
 +ğ
Ën
;

1060 (
d±
 - 
de¡
);

1061 
	}
}

1074 
	$»sub
(
»gex_t
 *
½
, 
»gm©ch_t
 *
pm
, *
Üig
, *
¤c
, *
de¡
,

1075 *
de¡’d
)

1077 *
¥t
;

1078 *
d±
;

1079 
c
;

1080 
»gm©ch_t
 *
pm±
;

1081 
Ën
;

1082 
subexút
;

1084 
¥t
 = 
¤c
;

1085 
d±
 = 
de¡
;

1086 
subexút
 = 
½
->
»_nsub
;

1087 (
d±
 < 
de¡’d
è&& ((
c
 = *
¥t
++) != '\0')) {

1092 ià(
c
 == '&') {

1093 
pm±
 = 
pm
;

1094 } ià((
c
 =ğ'\\'è&& (*
¥t
 >= '0') && (*spt <= '9')) {

1098 ià((
Ën
 = *
¥t
++ - '0'è> 
subexút
)

1100 
pm±
 = 
pm
 + 
Ën
;

1105 ià((
c
 =ğ'\\'è&& ((*
¥t
 == '\\') || (*spt == '&')))

1106 
c
 = *
¥t
++;

1107 *
d±
++ = 
c
;

1114 ià((
pm±
->
rm_so
 < 0è|| (pm±->
rm_eo
 < 0) ||

1115 ((
Ën
 = 
pm±
->
rm_eo
 -…m±->
rm_so
) <= 0))

1122 ià(
Ën
 > (
de¡’d
 - 
d±
))

1123 
Ën
 = 
de¡’d
 - 
d±
;

1124 ià(
	`l_¡ºıy
(
d±
, 
Üig
 + 
pm±
->
rm_so
, 
Ën
) !=†en)

1126 
d±
 +ğ
Ën
;

1128 (
d±
 - 
de¡
);

1129 
	}
}

	@pax/pat_rep.h

40 
	s»¶aû
 {

41 *
	mn¡r
;

42 #ifdeà
NET2_REGEX


43 
»gexp
 *
	mrcmp
;

45 
»gex_t
 
	mrcmp
;

47 
	mægs
;

48 
	#PRNT
 0x1

	)

49 
	#GLOB
 0x2

	)

50 
»¶aû
 *
	mfow
;

51 } 
	tREPLACE
;

	@pax/pax.c

35 #iâdeà
lšt


36 cÚ¡ 
	gcİyright
[] =

41 #iâdeà
lšt


42 
	gsccsid
[] = "@(#)pax.c 8.2 (Berkeley) 4/18/94";

45 
	~<sys/cdefs.h
>

46 
__FBSDID
("$FreeBSD: src/bin/pax/pax.c,v 1.28.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

48 
	~<sys/ty³s.h
>

49 
	~<sys/¡©.h
>

50 
	~<sys/time.h
>

51 
	~<sys/»sourû.h
>

52 
	~<”r.h
>

53 
	~<”ºo.h
>

54 
	~<fú.h
>

55 
	~<loÿË.h
>

56 
	~<·ths.h
>

57 
	~<sigÇl.h
>

58 
	~<¡dio.h
>

59 
	~<¡dlib.h
>

60 
	~<¡ršg.h
>

61 
	~<uni¡d.h
>

62 
	~"·x.h
"

63 
	~"ex‹º.h
"

64 
g’_š™
();

73 
	gaù
 = 
DEFOP
;

74 
FSUB
 *
	gämt
 = 
NULL
;

75 
	gcæag
;

76 
	gcwdfd
;

77 
	gdæag
;

78 
	giæag
;

79 
	gkæag
;

80 
	glæag
;

81 
	gnæag
;

82 
	gtæag
;

83 
	guæag
;

84 
	gvæag
;

85 
	gDæag
;

86 
	gHæag
;

87 
	gLæag
;

88 
	gXæag
;

89 
	gYæag
;

90 
	gZæag
;

91 
	gvå¬t
;

92 
	g·time
 = 1;

93 
	gpmtime
 = 1;

94 
	gnodœs
;

95 
	gpmode
;

96 
	gpids
;

97 
	grmËad¦ash
 = 0;

98 
	gex™_v®
;

99 
	gdoüc
;

100 *
	gdœ±r
;

101 cÚ¡ *
	g¬gv0
;

102 
sig£t_t
 
	gs_mask
;

103 
FILE
 *
	gli¡f
;

104 *
	g‹mpfe
;

105 *
	g‹mpba£
;

228 
	$maš
(
¬gc
, *
¬gv
[])

230 cÚ¡ *
tmpdœ
;

231 
size_t
 
tdËn
;

233 (è
	`£oÿË
(
LC_ALL
, "");

234 
li¡f
 = 
¡d”r
;

238 
cwdfd
 = 
	`İ’
(".", 
O_RDONLY
);

239 ià(
cwdfd
 < 0) {

240 
	`sysw¬n
(0, 
”ºo
, "Can't open current working directory.");

241 (
ex™_v®
);

247 ià((
tmpdœ
 = 
	`g‘’v
("TMPDIR")è=ğ
NULL
 || *tmpdir == '\0')

248 
tmpdœ
 = 
_PATH_TMP
;

249 
tdËn
 = 
	`¡¾’
(
tmpdœ
);

250 
tdËn
 > 0 && 
tmpdœ
[tdlen - 1] == '/')

251 
tdËn
--;

252 
‹mpfe
 = 
	`m®loc
(
tdËn
 + 1 + (
_TFILE_BASE
));

253 ià(
‹mpfe
 =ğ
NULL
) {

254 
	`·xw¬n
(1, "Cannot‡llocate memory foremp file‚ame.");

255 (
ex™_v®
);

257 ià(
tdËn
)

258 
	`memıy
(
‹mpfe
, 
tmpdœ
, 
tdËn
);

259 
‹mpba£
 = 
‹mpfe
 + 
tdËn
;

260 *
‹mpba£
++ = '/';

265 
	`İtiÚs
(
¬gc
, 
¬gv
);

266 ià((
	`g’_š™
(è< 0è|| (
	`‰y_š™
() < 0))

267 (
ex™_v®
);

272 
aù
) {

273 
EXTRACT
:

274 
	`exŒaù
();

276 
ARCHIVE
:

277 
	`¬chive
();

279 
APPND
:

280 ià(
gz_´og¿m
 !ğ
NULL
)

281 
	`”r
(1, "can‚ot gzip while‡ppending");

282 
	`­³nd
();

284 
COPY
:

285 
	`cİy
();

288 
LIST
:

289 
	`li¡
();

292 (
ex™_v®
);

293 
	}
}

305 
	$sig_ş—nup
(
which_sig
)

312 
væag
 = 
vå¬t
 = 1;

313 ià(
which_sig
 =ğ
SIGXCPU
)

314 
	`·xw¬n
(0, "Cpuime†imit„eached, cleaning up.");

316 
	`·xw¬n
(0, "Signal caught, cleaning up.");

318 
	`¬_şo£
();

319 
	`´oc_dœ
();

320 ià(
tæag
)

321 
	`©dœ_’d
();

322 
	`ex™
(1);

323 
	}
}

332 
	$g’_š™
()

334 
¾im™
 
»¦im™
;

335 
sigaùiÚ
 
n_hªd
;

336 
sigaùiÚ
 
o_hªd
;

342 ià(
	`g‘¾im™
(
RLIMIT_DATA
 , &
»¦im™
) == 0){

343 
»¦im™
.
¾im_cur
 =„e¦im™.
¾im_max
;

344 ()
	`£Œlim™
(
RLIMIT_DATA
 , &
»¦im™
);

351 ià(
	`g‘¾im™
(
RLIMIT_FSIZE
 , &
»¦im™
) == 0){

352 
»¦im™
.
¾im_cur
 =„e¦im™.
¾im_max
;

353 ()
	`£Œlim™
(
RLIMIT_FSIZE
 , &
»¦im™
);

359 ià(
	`g‘¾im™
(
RLIMIT_STACK
 , &
»¦im™
) == 0){

360 
»¦im™
.
¾im_cur
 =„e¦im™.
¾im_max
;

361 ()
	`£Œlim™
(
RLIMIT_STACK
 , &
»¦im™
);

367 ià(
	`g‘¾im™
(
RLIMIT_RSS
 , &
»¦im™
) == 0){

368 
»¦im™
.
¾im_cur
 =„e¦im™.
¾im_max
;

369 ()
	`£Œlim™
(
RLIMIT_RSS
 , &
»¦im™
);

378 ià((
	`sigem±y£t
(&
s_mask
è< 0è|| (
	`sigadd£t
(&s_mask, 
SIGTERM
) < 0) ||

379 (
	`sigadd£t
(&
s_mask
,
SIGINT
è< 0)||(sigadd£t(&s_mask,
SIGHUP
) < 0) ||

380 (
	`sigadd£t
(&
s_mask
,
SIGPIPE
è< 0)||(sigadd£t(&s_mask,
SIGQUIT
)<0) ||

381 (
	`sigadd£t
(&
s_mask
,
SIGXCPU
è< 0)||(sigadd£t(&s_mask,
SIGXFSZ
)<0)) {

382 
	`·xw¬n
(1, "Unableo set up signal mask");

385 
	`mem£t
(&
n_hªd
, 0, ‚_hand);

386 
n_hªd
.
§_mask
 = 
s_mask
;

387 
n_hªd
.
§_æags
 = 0;

388 
n_hªd
.
§_hªdËr
 = 
sig_ş—nup
;

390 ià((
	`sigaùiÚ
(
SIGHUP
, &
n_hªd
, &
o_hªd
) < 0) &&

391 (
o_hªd
.
§_hªdËr
 =ğ
SIG_IGN
) &&

392 (
	`sigaùiÚ
(
SIGHUP
, &
o_hªd
, &o_hand) < 0))

393 
out
;

395 ià((
	`sigaùiÚ
(
SIGTERM
, &
n_hªd
, &
o_hªd
) < 0) &&

396 (
o_hªd
.
§_hªdËr
 =ğ
SIG_IGN
) &&

397 (
	`sigaùiÚ
(
SIGTERM
, &
o_hªd
, &o_hand) < 0))

398 
out
;

400 ià((
	`sigaùiÚ
(
SIGINT
, &
n_hªd
, &
o_hªd
) < 0) &&

401 (
o_hªd
.
§_hªdËr
 =ğ
SIG_IGN
) &&

402 (
	`sigaùiÚ
(
SIGINT
, &
o_hªd
, &o_hand) < 0))

403 
out
;

405 ià((
	`sigaùiÚ
(
SIGQUIT
, &
n_hªd
, &
o_hªd
) < 0) &&

406 (
o_hªd
.
§_hªdËr
 =ğ
SIG_IGN
) &&

407 (
	`sigaùiÚ
(
SIGQUIT
, &
o_hªd
, &o_hand) < 0))

408 
out
;

410 ià((
	`sigaùiÚ
(
SIGXCPU
, &
n_hªd
, &
o_hªd
) < 0) &&

411 (
o_hªd
.
§_hªdËr
 =ğ
SIG_IGN
) &&

412 (
	`sigaùiÚ
(
SIGXCPU
, &
o_hªd
, &o_hand) < 0))

413 
out
;

415 
n_hªd
.
§_hªdËr
 = 
SIG_IGN
;

416 ià((
	`sigaùiÚ
(
SIGPIPE
, &
n_hªd
, &
o_hªd
) < 0) ||

417 (
	`sigaùiÚ
(
SIGXFSZ
, &
n_hªd
, &
o_hªd
) < 0))

418 
out
;

421 
out
:

422 
	`sysw¬n
(1, 
”ºo
, "Unableo set up signal handler");

424 
	}
}

	@pax/pax.h

41 
	#MAXBLK
 64512

	)

44 
	#MAXBLK_POSIX
 32256

	)

45 
	#BLKMULT
 512

	)

47 
	#DEVBLK
 8192

	)

48 
	#FILEBLK
 10240

	)

49 
	#PAXPATHLEN
 3072

	)

55 
	#LIST
 0

	)

56 
	#EXTRACT
 1

	)

57 
	#ARCHIVE
 2

	)

58 
	#APPND
 3

	)

59 
	#COPY
 4

	)

60 
	#DEFOP
 
LIST


	)

65 
	#ISREG
 0

	)

66 
	#ISCHR
 1

	)

67 
	#ISBLK
 2

	)

68 
	#ISTAPE
 3

	)

69 
	#ISPIPE
 4

	)

71 
¬chd
 
	tARCHD
;

72 
fsub
 
	tFSUB
;

73 
İli¡
 
	tOPLIST
;

74 
·‰”n
 
	tPATTERN
;

86 
	sfsub
 {

87 cÚ¡ *
	mÇme
;

89 
	mbsz
;

93 
	mhsz
;

98 
	mudev
;

105 
	mhlk
;

108 
	mblk®gn
;

109 
	mšh—d
;

112 (*
	mid
)(*, );

114 (*
	m¡_rd
)();

117 (*
	mrd
)(
	mARCHD
 *, *);

130 
off_t
 (*
’d_rd
)();

134 (*
	m¡_wr
)();

135 (*
	mwr
)(
	mARCHD
 *);

145 (*
	m’d_wr
)();

148 (*
	mŒa_ıio
)(
	mARCHD
 *);

149 (*
	mŒa_r
)(*, , *);

156 (*
	mrd_d©a
)(
	mARCHD
 *, , 
	moff_t
 *);

158 (*
	mwr_d©a
)(
	mARCHD
 *, , 
	moff_t
 *);

160 (*
	mİtiÚs
)();

168 
	s·‰”n
 {

169 *
	mp¡r
;

170 *
	m³nd
;

171 *
	mchdÇme
;

172 
	m¶’
;

173 
	mægs
;

174 
	#MTCH
 0x1

	)

175 
	#DIR_MTCH
 0x2

	)

176 
·‰”n
 *
	mfow
;

191 
	s¬chd
 {

192 
	mÆ’
;

193 
	mÇme
[
PAXPATHLEN
+1];

194 
	mÊ_Æ’
;

195 
	mÊ_Çme
[
PAXPATHLEN
+1];

196 *
	mÜg_Çme
;

197 
PATTERN
 *
	m·t
;

198 
¡©
 
	msb
;

199 
off_t
 
	m·d
;

200 
off_t
 
	msk
;

204 
u_lÚg
 
	müc
;

205 
	mty³
;

206 
	#PAX_DIR
 1

	)

207 
	#PAX_CHR
 2

	)

208 
	#PAX_BLK
 3

	)

209 
	#PAX_REG
 4

	)

210 
	#PAX_SLK
 5

	)

211 
	#PAX_SCK
 6

	)

212 
	#PAX_FIF
 7

	)

213 
	#PAX_HLK
 8

	)

214 
	#PAX_HRG
 9

	)

215 
	#PAX_CTG
 10

	)

223 
	sİli¡
 {

224 *
	mÇme
;

225 *
	mv®ue
;

226 
İli¡
 *
	mfow
;

232 #iâdeà
MIN


233 
	#MIN
(
a
,
b
è((×)<(b))?×):(b))

	)

235 
	#MAJOR
(
x
è
	`majÜ
(x)

	)

236 
	#MINOR
(
x
è
	`mšÜ
(x)

	)

237 
	#TODEV
(
x
, 
y
è
	`makedev
((x), (y))

	)

242 
	#HEX
 16

	)

243 
	#OCT
 8

	)

244 
	#_PAX_
 1

	)

245 
	#_TFILE_BASE
 "·xXXXXXXXXXX"

	)

	@pax/sel_subs.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)sel_subs.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/sel_subs.c,v 1.21.10.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<pwd.h
>

46 
	~<g½.h
>

47 
	~<¡dio.h
>

48 
	~<¡ršg.h
>

49 
	~<¡ršgs.h
>

50 
	~<uni¡d.h
>

51 
	~<¡dlib.h
>

52 
	~"·x.h
"

53 
	~"£l_subs.h
"

54 
	~"ex‹º.h
"

56 
¡r_£c
(*, 
time_t
 *);

57 
u¤_m©ch
(
ARCHD
 *);

58 
g½_m©ch
(
ARCHD
 *);

59 
Œng_m©ch
(
ARCHD
 *);

61 
TIME_RNG
 *
	gŒh—d
 = 
NULL
;

62 
TIME_RNG
 *
	gŒ
 = 
NULL
;

63 
USRT
 **
	gu¤tb
 = 
NULL
;

64 
GRPT
 **
	gg½tb
 = 
NULL
;

78 
	$£l_chk
(
ARCHD
 *
¬ú
)

80 ià(((
u¤tb
 !ğ
NULL
è&& 
	`u¤_m©ch
(
¬ú
)) ||

81 ((
g½tb
 !ğ
NULL
è&& 
	`g½_m©ch
(
¬ú
)) ||

82 ((
Œh—d
 !ğ
NULL
è&& 
	`Œng_m©ch
(
¬ú
)))

85 
	}
}

103 
	$u¤_add
(*
¡r
)

105 
u_št
 
šdx
;

106 
USRT
 *
±
;

107 
·sswd
 *
pw
;

108 
uid_t
 
uid
;

113 ià((
¡r
 =ğ
NULL
) || (*str == '\0'))

115 ià((
u¤tb
 =ğ
NULL
) &&

116 ((
u¤tb
 = (
USRT
 **)
	`ÿÎoc
(
USR_TB_SZ
, (USRT *))è=ğ
NULL
)) {

117 
	`·xw¬n
(1, "Unableo‡llocate memory for user selectionable");

124 ià(
¡r
[0] != '#') {

128 ià((
¡r
[0] == '\\') && (str[1] == '#'))

129 ++
¡r
;

130 ià((
pw
 = 
	`g‘pwÇm
(
¡r
)è=ğ
NULL
) {

131 
	`·xw¬n
(1, "UÇbËØfšd uid fÜ u£r: %s", 
¡r
);

134 
uid
 = (
uid_t
)
pw
->
pw_uid
;

136 #ifdeà
NET2_STAT


137 
uid
 = (
uid_t
)
	`©oi
(
¡r
+1);

139 
uid
 = (
uid_t
)
	`¡¹oul
(
¡r
+1, 
NULL
, 10);

141 
	`’dpw’t
();

146 
šdx
 = (()
uid
è% 
USR_TB_SZ
;

147 ià((
±
 = 
u¤tb
[
šdx
]è!ğ
NULL
) {

148 
±
 !ğ
NULL
) {

149 ià(
±
->
uid
 == uid)

151 
±
 =…t->
fow
;

158 ià((
±
 = (
USRT
 *)
	`m®loc
((USRT))è!ğ
NULL
) {

159 
±
->
uid
 = uid;

160 
±
->
fow
 = 
u¤tb
[
šdx
];

161 
u¤tb
[
šdx
] = 
±
;

164 
	`·xw¬n
(1, "User selectionable out of memory");

166 
	}
}

176 
	$u¤_m©ch
(
ARCHD
 *
¬ú
)

178 
USRT
 *
±
;

183 
±
 = 
u¤tb
[(()
¬ú
->
sb
.
¡_uid
è% 
USR_TB_SZ
];

184 
±
 !ğ
NULL
) {

185 ià(
±
->
uid
 =ğ
¬ú
->
sb
.
¡_uid
)

187 
±
 =…t->
fow
;

194 
	}
}

204 
	$g½_add
(*
¡r
)

206 
u_št
 
šdx
;

207 
GRPT
 *
±
;

208 
group
 *
gr
;

209 
gid_t
 
gid
;

214 ià((
¡r
 =ğ
NULL
) || (*str == '\0'))

216 ià((
g½tb
 =ğ
NULL
) &&

217 ((
g½tb
 = (
GRPT
 **)
	`ÿÎoc
(
GRP_TB_SZ
, (GRPT *))è=ğ
NULL
)) {

218 
	`·xw¬n
(1, "Unableo‡llocate memory fo group selectionable");

225 ià(
¡r
[0] != '#') {

229 ià((
¡r
[0] == '\\') && (str[1] == '#'))

230 ++
¡r
;

231 ià((
gr
 = 
	`g‘gºam
(
¡r
)è=ğ
NULL
) {

232 
	`·xw¬n
(1,"CªnÙ d‘”mšgid fÜ grou°Çme: %s", 
¡r
);

235 
gid
 = 
gr
->
gr_gid
;

237 #ifdeà
NET2_STAT


238 
gid
 = (
gid_t
)
	`©oi
(
¡r
+1);

240 
gid
 = (
gid_t
)
	`¡¹oul
(
¡r
+1, 
NULL
, 10);

242 
	`’dg»Á
();

247 
šdx
 = (()
gid
è% 
GRP_TB_SZ
;

248 ià((
±
 = 
g½tb
[
šdx
]è!ğ
NULL
) {

249 
±
 !ğ
NULL
) {

250 ià(
±
->
gid
 == gid)

252 
±
 =…t->
fow
;

259 ià((
±
 = (
GRPT
 *)
	`m®loc
((GRPT))è!ğ
NULL
) {

260 
±
->
gid
 = gid;

261 
±
->
fow
 = 
g½tb
[
šdx
];

262 
g½tb
[
šdx
] = 
±
;

265 
	`·xw¬n
(1, "Group selectionable out of memory");

267 
	}
}

277 
	$g½_m©ch
(
ARCHD
 *
¬ú
)

279 
GRPT
 *
±
;

284 
±
 = 
g½tb
[(()
¬ú
->
sb
.
¡_gid
è% 
GRP_TB_SZ
];

285 
±
 !ğ
NULL
) {

286 ià(
±
->
gid
 =ğ
¬ú
->
sb
.
¡_gid
)

288 
±
 =…t->
fow
;

295 
	}
}

327 
	$Œng_add
(*
¡r
)

329 
TIME_RNG
 *
±
;

330 *
up_±
 = 
NULL
;

331 *
¡±
;

332 *
æg±
;

333 
dÙ
 = 0;

338 ià((
¡r
 =ğ
NULL
) || (*str == '\0')) {

339 
	`·xw¬n
(1, "Emptyime„ange string");

346 ià((
æg±
 = 
	`¡¼chr
(
¡r
, '/')è!ğ
NULL
)

347 *
æg±
++ = '\0';

349 
¡±
 = 
¡r
; *stpt != '\0'; ++stpt) {

350 ià((*
¡±
 >= '0') && (*stpt <= '9'))

352 ià((*
¡±
 =ğ','è&& (
up_±
 =ğ
NULL
)) {

353 *
¡±
 = '\0';

354 
up_±
 = 
¡±
 + 1;

355 
dÙ
 = 0;

362 ià((*
¡±
 =ğ'.'è&& (!
dÙ
)) {

363 ++
dÙ
;

366 
	`·xw¬n
(1, "Im´İ”ly s³cif›dim¿nge: %s", 
¡r
);

367 
out
;

373 ià((
±
 = (
TIME_RNG
 *)
	`m®loc
((TIME_RNG))è=ğ
NULL
) {

374 
	`·xw¬n
(1, "Unableo‡llocate memory forime„ange");

382 ià((
æg±
 =ğ
NULL
) || (*flgpt == '\0'))

383 
±
->
ægs
 = 
CMPMTME
;

385 
±
->
ægs
 = 0;

386 *
æg±
 != '\0') {

387 *
æg±
) {

390 
±
->
ægs
 |ğ
CMPMTME
;

394 
±
->
ægs
 |ğ
CMPCTME
;

397 
	`·xw¬n
(1, "Bad option %c withime„ange %s",

398 *
æg±
, 
¡r
);

399 
	`ä“
(
±
);

400 
out
;

402 ++
æg±
;

409 
±
->
low_time
 =…t->
high_time
 = 
	`time
(
NULL
);

410 ià(*
¡r
 != '\0') {

414 ià(
	`¡r_£c
(
¡r
, &(
±
->
low_time
)) < 0) {

415 
	`·xw¬n
(1, "IÎeg®†ow”im¿ng%s", 
¡r
);

416 
	`ä“
(
±
);

417 
out
;

419 
±
->
ægs
 |ğ
HASLOW
;

422 ià((
up_±
 !ğ
NULL
) && (*up_pt != '\0')) {

426 ià(
	`¡r_£c
(
up_±
, &(
±
->
high_time
)) < 0) {

427 
	`·xw¬n
(1, "IÎeg® uµ”im¿ng%s", 
up_±
);

428 
	`ä“
(
±
);

429 
out
;

431 
±
->
ægs
 |ğ
HASHIGH
;

436 ià(
±
->
ægs
 & 
HASLOW
) {

437 ià(
±
->
low_time
 >…t->
high_time
) {

438 
	`·xw¬n
(1, "Upper %s‡nd†ower %sime overlap",

439 
up_±
, 
¡r
);

440 
	`ä“
(
±
);

446 
±
->
fow
 = 
NULL
;

447 ià(
Œh—d
 =ğ
NULL
) {

448 
Œ
 = 
Œh—d
 = 
±
;

451 
Œ
->
fow
 = 
±
;

452 
Œ
 = 
±
;

455 
out
:

456 
	`·xw¬n
(1, "Time„ange format is: [yy[mm[dd[hh]]]]mm[.ss][/[c][m]]");

458 
	}
}

468 
	$Œng_m©ch
(
ARCHD
 *
¬ú
)

470 
TIME_RNG
 *
±
;

476 
±
 = 
Œh—d
;

477 
±
 !ğ
NULL
) {

478 
±
->
ægs
 & 
CMPBOTH
) {

479 
CMPBOTH
:

484 ià(((
±
->
ægs
 & 
HASLOW
) &&

485 (
¬ú
->
sb
.
¡_mtime
 < 
±
->
low_time
) &&

486 (
¬ú
->
sb
.
¡_ùime
 < 
±
->
low_time
)) ||

487 ((
±
->
ægs
 & 
HASHIGH
) &&

488 (
¬ú
->
sb
.
¡_mtime
 > 
±
->
high_time
) &&

489 (
¬ú
->
sb
.
¡_ùime
 > 
±
->
high_time
))) {

490 
±
 =…t->
fow
;

494 
CMPCTME
:

498 ià(((
±
->
ægs
 & 
HASLOW
) &&

499 (
¬ú
->
sb
.
¡_ùime
 < 
±
->
low_time
)) ||

500 ((
±
->
ægs
 & 
HASHIGH
) &&

501 (
¬ú
->
sb
.
¡_ùime
 > 
±
->
high_time
))) {

502 
±
 =…t->
fow
;

506 
CMPMTME
:

511 ià(((
±
->
ægs
 & 
HASLOW
) &&

512 (
¬ú
->
sb
.
¡_mtime
 < 
±
->
low_time
)) ||

513 ((
±
->
ægs
 & 
HASHIGH
) &&

514 (
¬ú
->
sb
.
¡_mtime
 > 
±
->
high_time
))) {

515 
±
 =…t->
fow
;

523 ià(
±
 =ğ
NULL
)

526 
	}
}

537 
	$¡r_£c
(*
¡r
, 
time_t
 *
tv®
)

539 
tm
 *
É
;

540 *
dÙ
 = 
NULL
;

542 
É
 = 
	`loÿÉime
(
tv®
);

543 ià((
dÙ
 = 
	`¡rchr
(
¡r
, '.')è!ğ
NULL
) {

547 *
dÙ
++ = '\0';

548 ià(
	`¡¾’
(
dÙ
) != 2)

550 ià((
É
->
tm_£c
 = 
	`ATOI2
(
dÙ
)) > 61)

553 
É
->
tm_£c
 = 0;

555 
	`¡¾’
(
¡r
)) {

561 ià((
É
->
tm_y—r
 = 
	`ATOI2
(
¡r
)) < 69)

562 
É
->
tm_y—r
 += 100;

563 
¡r
 += 2;

570 ià((
É
->
tm_mÚ
 = 
	`ATOI2
(
¡r
)) > 12)

572 --
É
->
tm_mÚ
;

573 
¡r
 += 2;

579 ià((
É
->
tm_mday
 = 
	`ATOI2
(
¡r
)) > 31)

581 
¡r
 += 2;

587 ià((
É
->
tm_hour
 = 
	`ATOI2
(
¡r
)) > 23)

589 
¡r
 += 2;

595 ià((
É
->
tm_mš
 = 
	`ATOI2
(
¡r
)) > 59)

604 ià((*
tv®
 = 
	`mktime
(
É
)) == -1)

607 
	}
}

	@pax/sel_subs.h

41 
	#USR_TB_SZ
 317

	)

42 
	#GRP_TB_SZ
 317

	)

44 
	su¤t
 {

45 
uid_t
 
	muid
;

46 
u¤t
 *
	mfow
;

47 } 
	tUSRT
;

49 
	sg½t
 {

50 
gid_t
 
	mgid
;

51 
g½t
 *
	mfow
;

52 } 
	tGRPT
;

58 
	#ATOI2
(
s
è((((s)[0] - '0'è* 10è+ ((s)[1] - '0'))

	)

60 
	stime_ºg
 {

61 
time_t
 
	mlow_time
;

62 
time_t
 
	mhigh_time
;

63 
	mægs
;

64 
	#HASLOW
 0x01

	)

65 
	#HASHIGH
 0x02

	)

66 
	#CMPMTME
 0x04

	)

67 
	#CMPCTME
 0x08

	)

68 
	#CMPBOTH
 (
CMPMTME
|
CMPCTME
è

	)

69 
time_ºg
 *
	mfow
;

70 } 
	tTIME_RNG
;

	@pax/tables.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)tables.c 8.1 (Berkeley) 5/31/93";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/tables.c,v 1.24.10.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<sys/fú.h
>

46 
	~<”ºo.h
>

47 
	~<¡dio.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

50 
	~<uni¡d.h
>

51 
	~"·x.h
"

52 
	~"bËs.h
"

53 
	~"ex‹º.h
"

70 
HRDLNK
 **
	gÉab
 = 
NULL
;

71 
FTM
 **
	gáab
 = 
NULL
;

72 
NAMT
 **
	gÁab
 = 
NULL
;

73 
DEVT
 **
	gdb
 = 
NULL
;

74 
ATDIR
 **
	g©ab
 = 
NULL
;

75 
	gdœfd
 = -1;

76 
u_lÚg
 
	gdœút
;

77 
	gffd
 = -1;

79 
DEVT
 *
chk_dev
(
dev_t
, );

105 
	$Êk_¡¬t
()

107 ià(
Éab
 !ğ
NULL
)

109 ià((
Éab
 = (
HRDLNK
 **)
	`ÿÎoc
(
L_TAB_SZ
, (HRDLNK *))è=ğ
NULL
) {

110 
	`·xw¬n
(1, "Cannot‡llocate memory for hard†inkable");

114 
	}
}

129 
	$chk_Êk
(
ARCHD
 *
¬ú
)

131 
HRDLNK
 *
±
;

132 
HRDLNK
 **
µt
;

133 
u_št
 
šdx
;

135 ià(
Éab
 =ğ
NULL
)

140 ià((
¬ú
->
ty³
 =ğ
PAX_DIR
è|| (¬ú->
sb
.
¡_Æšk
 <= 1))

146 
šdx
 = (()
¬ú
->
sb
.
¡_šo
è% 
L_TAB_SZ
;

147 ià((
±
 = 
Éab
[
šdx
]è!ğ
NULL
) {

151 
µt
 = &(
Éab
[
šdx
]);

152 
±
 !ğ
NULL
) {

153 ià((
±
->
šo
 =ğ
¬ú
->
sb
.
¡_šo
) &&

154 (
±
->
dev
 =ğ
¬ú
->
sb
.
¡_dev
))

156 
µt
 = &(
±
->
fow
);

157 
±
 =…t->
fow
;

160 ià(
±
 !ğ
NULL
) {

167 
¬ú
->
Ê_Æ’
 = 
	`l_¡ºıy
×rú->
Ê_Çme
, 
±
->
Çme
,

168 (
¬ú
->
Ê_Çme
) - 1);

169 
¬ú
->
Ê_Çme
[¬ú->
Ê_Æ’
] = '\0';

170 ià(
¬ú
->
ty³
 =ğ
PAX_REG
)

171 
¬ú
->
ty³
 = 
PAX_HRG
;

173 
¬ú
->
ty³
 = 
PAX_HLK
;

179 ià(--
±
->
Æšk
 <= 1) {

180 *
µt
 = 
±
->
fow
;

181 
	`ä“
(
±
->
Çme
);

182 
	`ä“
(
±
);

192 ià((
±
 = (
HRDLNK
 *)
	`m®loc
((HRDLNK))è!ğ
NULL
) {

193 ià((
±
->
Çme
 = 
	`¡rdup
(
¬ú
->Çme)è!ğ
NULL
) {

194 
±
->
dev
 = 
¬ú
->
sb
.
¡_dev
;

195 
±
->
šo
 = 
¬ú
->
sb
.
¡_šo
;

196 
±
->
Æšk
 = 
¬ú
->
sb
.
¡_Æšk
;

197 
±
->
fow
 = 
Éab
[
šdx
];

198 
Éab
[
šdx
] = 
±
;

201 
	`ä“
(
±
);

204 
	`·xw¬n
(1, "Hard†inkable out of memory");

206 
	}
}

216 
	$purg_Êk
(
ARCHD
 *
¬ú
)

218 
HRDLNK
 *
±
;

219 
HRDLNK
 **
µt
;

220 
u_št
 
šdx
;

222 ià(
Éab
 =ğ
NULL
)

227 ià((
¬ú
->
sb
.
¡_Æšk
 <ğ1è|| (¬ú->
ty³
 =ğ
PAX_DIR
) ||

228 (
¬ú
->
ty³
 =ğ
PAX_HLK
è|| (¬ú->ty³ =ğ
PAX_HRG
))

234 
šdx
 = (()
¬ú
->
sb
.
¡_šo
è% 
L_TAB_SZ
;

235 ià((
±
 = 
Éab
[
šdx
]è=ğ
NULL
)

242 
µt
 = &(
Éab
[
šdx
]);

243 
±
 !ğ
NULL
) {

244 ià((
±
->
šo
 =ğ
¬ú
->
sb
.
¡_šo
) &&

245 (
±
->
dev
 =ğ
¬ú
->
sb
.
¡_dev
))

247 
µt
 = &(
±
->
fow
);

248 
±
 =…t->
fow
;

250 ià(
±
 =ğ
NULL
)

256 *
µt
 = 
±
->
fow
;

257 
	`ä“
(
±
->
Çme
);

258 
	`ä“
(
±
);

259 
	}
}

270 
	$Êk_’d
()

272 
i
;

273 
HRDLNK
 *
±
;

274 
HRDLNK
 *
µt
;

276 ià(
Éab
 =ğ
NULL
)

279 
i
 = 0; i < 
L_TAB_SZ
; ++i) {

280 ià(
Éab
[
i
] =ğ
NULL
)

282 
±
 = 
Éab
[
i
];

283 
Éab
[
i
] = 
NULL
;

288 
±
 !ğ
NULL
) {

289 
µt
 = 
±
;

290 
±
 = 
µt
->
fow
;

291 
	`ä“
(
µt
->
Çme
);

292 
	`ä“
(
µt
);

296 
	}
}

330 
	$áime_¡¬t
()

333 ià(
áab
 !ğ
NULL
)

335 ià((
áab
 = (
FTM
 **)
	`ÿÎoc
(
F_TAB_SZ
, (FTM *))è=ğ
NULL
) {

336 
	`·xw¬n
(1, "Cannot‡llocate memory for fileimeable");

344 
	`memıy
(
‹mpba£
, 
_TFILE_BASE
, (_TFILE_BASE));

345 ià((
ffd
 = 
	`mk¡emp
(
‹mpfe
)) < 0) {

346 
	`sysw¬n
(1, 
”ºo
, "Unableo createemporary file: %s",

347 
‹mpfe
);

350 ()
	`uÆšk
(
‹mpfe
);

353 
	}
}

368 
	$chk_áime
(
ARCHD
 *
¬ú
)

370 
FTM
 *
±
;

371 
Çm–’
;

372 
u_št
 
šdx
;

373 
ckÇme
[
PAXPATHLEN
+1];

378 ià(
áab
 =ğ
NULL
)

384 
Çm–’
 = 
¬ú
->
Æ’
;

385 
šdx
 = 
	`¡_hash
(
¬ú
->
Çme
, 
Çm–’
, 
F_TAB_SZ
);

386 ià((
±
 = 
áab
[
šdx
]è!ğ
NULL
) {

392 
±
 !ğ
NULL
) {

393 ià(
±
->
Çm–’
 ==‚amelen) {

398 ià(
	`l£ek
(
ffd
,
±
->
£ek
,
SEEK_SET
) !=…t->seek) {

399 
	`sysw¬n
(1, 
”ºo
,

403 ià(
	`»ad
(
ffd
, 
ckÇme
, 
Çm–’
) !=‚amelen) {

404 
	`sysw¬n
(1, 
”ºo
,

412 ià(!
	`¡ºcmp
(
ckÇme
, 
¬ú
->
Çme
, 
Çm–’
))

419 
±
 =…t->
fow
;

422 ià(
±
 !ğ
NULL
) {

426 ià(
¬ú
->
sb
.
¡_mtime
 > 
±
->
mtime
) {

430 
±
->
mtime
 = 
¬ú
->
sb
.
¡_mtime
;

443 ià((
±
 = (
FTM
 *)
	`m®loc
((FTM))è!ğ
NULL
) {

448 ià((
±
->
£ek
 = 
	`l£ek
(
ffd
, (
off_t
)0, 
SEEK_END
)) >= 0) {

449 ià(
	`wr™e
(
ffd
, 
¬ú
->
Çme
, 
Çm–’
) ==‚amelen) {

450 
±
->
mtime
 = 
¬ú
->
sb
.
¡_mtime
;

451 
±
->
Çm–’
 =‚amelen;

452 
±
->
fow
 = 
áab
[
šdx
];

453 
áab
[
šdx
] = 
±
;

456 
	`sysw¬n
(1, 
”ºo
, "Failed writeo fileimeable");

458 
	`sysw¬n
(1, 
”ºo
, "Failed seek on fileimeable");

460 
	`·xw¬n
(1, "Fileimeable„an out of memory");

462 ià(
±
 !ğ
NULL
)

463 
	`ä“
(
±
);

465 
	}
}

487 
	$Çme_¡¬t
()

489 ià(
Áab
 !ğ
NULL
)

491 ià((
Áab
 = (
NAMT
 **)
	`ÿÎoc
(
N_TAB_SZ
, (NAMT *))è=ğ
NULL
) {

492 
	`·xw¬n
(1, "Cannot‡llocate memory for interactive„enameable");

496 
	}
}

508 
	$add_Çme
(*
Úame
, 
Úam–’
, *
Âame
)

510 
NAMT
 *
±
;

511 
u_št
 
šdx
;

513 ià(
Áab
 =ğ
NULL
) {

517 
	`·xw¬n
(0, "No interactive„enameable,†inks may fail\n");

525 
šdx
 = 
	`¡_hash
(
Úame
, 
Úam–’
, 
N_TAB_SZ
);

526 ià((
±
 = 
Áab
[
šdx
]è!ğ
NULL
) {

530 (
±
 !ğ
NULL
è&& (
	`¡rcmp
(
Úame
,…t->oname) != 0))

531 
±
 =…t->
fow
;

533 ià(
±
 !ğ
NULL
) {

538 ià(
	`¡rcmp
(
Âame
, 
±
->nname) == 0)

541 
	`ä“
(
±
->
Âame
);

542 ià((
±
->
Âame
 = 
	`¡rdup
ÒÇme)è=ğ
NULL
) {

543 
	`·xw¬n
(1, "Cannot update„enameable");

553 ià((
±
 = (
NAMT
 *)
	`m®loc
((NAMT))è!ğ
NULL
) {

554 ià((
±
->
Úame
 = 
	`¡rdup
(Úame)è!ğ
NULL
) {

555 ià((
±
->
Âame
 = 
	`¡rdup
ÒÇme)è!ğ
NULL
) {

556 
±
->
fow
 = 
Áab
[
šdx
];

557 
Áab
[
šdx
] = 
±
;

560 
	`ä“
(
±
->
Úame
);

562 
	`ä“
(
±
);

564 
	`·xw¬n
(1, "Interactive„enameable out of memory");

566 
	}
}

576 
	$sub_Çme
(*
Úame
, *
Úam–’
, 
size_t
 
Úamesize
)

578 
NAMT
 *
±
;

579 
u_št
 
šdx
;

581 ià(
Áab
 =ğ
NULL
)

586 
šdx
 = 
	`¡_hash
(
Úame
, *
Úam–’
, 
N_TAB_SZ
);

587 ià((
±
 = 
Áab
[
šdx
]è=ğ
NULL
)

590 
±
 !ğ
NULL
) {

594 ià(
	`¡rcmp
(
Úame
, 
±
->oname) == 0) {

599 *
Úam–’
 = 
	`l_¡ºıy
(
Úame
, 
±
->
Âame
, 
Úamesize
 - 1);

600 
Úame
[*
Úam–’
] = '\0';

603 
±
 =…t->
fow
;

610 
	}
}

660 
	$dev_¡¬t
()

662 ià(
db
 !ğ
NULL
)

664 ià((
db
 = (
DEVT
 **)
	`ÿÎoc
(
D_TAB_SZ
, (DEVT *))è=ğ
NULL
) {

665 
	`·xw¬n
(1, "Cannot‡llocate memory for device mappingable");

669 
	}
}

682 
	$add_dev
(
ARCHD
 *
¬ú
)

684 ià(
	`chk_dev
(
¬ú
->
sb
.
¡_dev
, 1è=ğ
NULL
)

687 
	}
}

702 
DEVT
 *

703 
	$chk_dev
(
dev_t
 
dev
, 
add
)

705 
DEVT
 *
±
;

706 
u_št
 
šdx
;

708 ià(
db
 =ğ
NULL
)

709 (
NULL
);

713 
šdx
 = (()
dev
è% 
D_TAB_SZ
;

714 ià((
±
 = 
db
[
šdx
]è!ğ
NULL
) {

715 (
±
 !ğ
NULL
è&& (±->
dev
 != dev))

716 
±
 =…t->
fow
;

721 ià(
±
 !ğ
NULL
)

722 (
±
);

729 ià(
add
 == 0)

730 (
NULL
);

737 ià((
±
 = (
DEVT
 *)
	`m®loc
((DEVT))è=ğ
NULL
) {

738 
	`·xw¬n
(1, "Device mapable out of memory");

739 (
NULL
);

741 
±
->
dev
 = dev;

742 
±
->
li¡
 = 
NULL
;

743 
±
->
fow
 = 
db
[
šdx
];

744 
db
[
šdx
] = 
±
;

745 (
±
);

746 
	}
}

761 
	$m­_dev
(
ARCHD
 *
¬ú
, 
u_lÚg
 
dev_mask
, u_lÚg 
šo_mask
)

763 
DEVT
 *
±
;

764 
DLIST
 *
d±
;

765 
dev_t
 
Ï¡dev
 = 0;

766 
Œc_šo
 = 0;

767 
Œc_dev
 = 0;

768 
šo_t
 
Œunc_b™s
 = 0;

769 
šo_t
 
nšo
;

771 ià(
db
 =ğ
NULL
)

777 ià((
¬ú
->
sb
.
¡_dev
 & (
dev_t
)
dev_mask
) !=‡rcn->sb.st_dev)

778 ++
Œc_dev
;

779 ià((
nšo
 = 
¬ú
->
sb
.
¡_šo
 & (
šo_t
)
šo_mask
) !=‡rcn->sb.st_ino) {

780 ++
Œc_šo
;

781 
Œunc_b™s
 = 
¬ú
->
sb
.
¡_šo
 & (
šo_t
)(~
šo_mask
);

788 ià((
±
 = 
	`chk_dev
(
¬ú
->
sb
.
¡_dev
, 0)è!ğ
NULL
) {

792 
d±
 = 
±
->
li¡
; d± !ğ
NULL
; d± = d±->
fow
)

793 ià(
d±
->
Œunc_b™s
 ==runc_bits)

796 ià(
d±
 !ğ
NULL
) {

801 
¬ú
->
sb
.
¡_dev
 = 
d±
->
dev
;

802 
¬ú
->
sb
.
¡_šo
 = 
nšo
;

810 ià(!
Œc_šo
 && !
Œc_dev
)

816 ià((
±
 = 
	`chk_dev
(
¬ú
->
sb
.
¡_dev
, 1)è=ğ
NULL
)

817 
bad
;

828 ià(!
Œc_dev
 && (
Œunc_b™s
 != 0)) {

829 ià((
d±
 = (
DLIST
 *)
	`m®loc
((DLIST))è=ğ
NULL
)

830 
bad
;

831 
d±
->
Œunc_b™s
 = 0;

832 
d±
->
dev
 = 
¬ú
->
sb
.
¡_dev
;

833 
d±
->
fow
 = 
±
->
li¡
;

834 
±
->
li¡
 = 
d±
;

842 ++
Ï¡dev
 > 0) {

843 ià(
	`chk_dev
(
Ï¡dev
, 0è!ğ
NULL
)

850 ià(((
Ï¡dev
 & ((
dev_t
)
dev_mask
)) !=†astdev) ||

851 (
	`chk_dev
(
Ï¡dev
, 1è=ğ
NULL
))

852 
bad
;

856 ià((
Ï¡dev
 <ğ0è|| ((
d±
 = (
DLIST
 *)
	`m®loc
((DLIST))è=ğ
NULL
))

857 
bad
;

863 
d±
->
Œunc_b™s
 =runc_bits;

864 
d±
->
dev
 = 
Ï¡dev
;

865 
d±
->
fow
 = 
±
->
li¡
;

866 
±
->
li¡
 = 
d±
;

867 
¬ú
->
sb
.
¡_dev
 = 
Ï¡dev
;

868 
¬ú
->
sb
.
¡_šo
 = 
nšo
;

871 
bad
:

872 
	`·xw¬n
(1, "Unableo fixruncated inode/device field when storing %s",

873 
¬ú
->
Çme
);

874 
	`·xw¬n
(0, "Archive may create improper hard†inks whenƒxtracted");

876 
	}
}

903 
	$©dœ_¡¬t
()

905 ià(
©ab
 !ğ
NULL
)

907 ià((
©ab
 = (
ATDIR
 **)
	`ÿÎoc
(
A_TAB_SZ
, (ATDIR *))è=ğ
NULL
) {

908 
	`·xw¬n
(1,"Cannot‡llocate space for directory‡ccessimeable");

912 
	}
}

923 
	$©dœ_’d
()

925 
ATDIR
 *
±
;

926 
i
;

928 ià(
©ab
 =ğ
NULL
)

934 
i
 = 0; i < 
A_TAB_SZ
; ++i) {

935 ià((
±
 = 
©ab
[
i
]è=ğ
NULL
)

942 ; 
±
 !ğ
NULL
;…ˆğ±->
fow
)

943 
	`£t_áime
(
±
->
Çme
,…t->
mtime
,…t->
©ime
, 1);

945 
	}
}

954 
	$add_©dœ
(*
âame
, 
dev_t
 
dev
, 
šo_t
 
šo
, 
time_t
 
mtime
,ime_ˆ
©ime
)

956 
ATDIR
 *
±
;

957 
u_št
 
šdx
;

959 ià(
©ab
 =ğ
NULL
)

969 
šdx
 = (()
šo
è% 
A_TAB_SZ
;

970 ià((
±
 = 
©ab
[
šdx
]è!ğ
NULL
) {

971 
±
 !ğ
NULL
) {

972 ià((
±
->
šo
 =ğšoè&& (±->
dev
 == dev))

974 
±
 =…t->
fow
;

980 ià(
±
 !ğ
NULL
)

987 ià((
±
 = (
ATDIR
 *)
	`m®loc
((ATDIR))è!ğ
NULL
) {

988 ià((
±
->
Çme
 = 
	`¡rdup
(
âame
)è!ğ
NULL
) {

989 
±
->
dev
 = dev;

990 
±
->
šo
 = ino;

991 
±
->
mtime
 = mtime;

992 
±
->
©ime
 =‡time;

993 
±
->
fow
 = 
©ab
[
šdx
];

994 
©ab
[
šdx
] = 
±
;

997 
	`ä“
(
±
);

1000 
	`·xw¬n
(1, "Directory‡ccessime„esetable„an out of memory");

1002 
	}
}

1016 
	$g‘_©dœ
(
dev_t
 
dev
, 
šo_t
 
šo
, 
time_t
 *
mtime
,ime_ˆ*
©ime
)

1018 
ATDIR
 *
±
;

1019 
ATDIR
 **
µt
;

1020 
u_št
 
šdx
;

1022 ià(
©ab
 =ğ
NULL
)

1027 
šdx
 = (()
šo
è% 
A_TAB_SZ
;

1028 ià((
±
 = 
©ab
[
šdx
]è=ğ
NULL
)

1031 
µt
 = &(
©ab
[
šdx
]);

1032 
±
 !ğ
NULL
) {

1033 ià((
±
->
šo
 =ğšoè&& (±->
dev
 == dev))

1038 
µt
 = &(
±
->
fow
);

1039 
±
 =…t->
fow
;

1045 ià(
±
 =ğ
NULL
)

1051 *
µt
 = 
±
->
fow
;

1052 *
mtime
 = 
±
->mtime;

1053 *
©ime
 = 
±
->atime;

1054 
	`ä“
(
±
->
Çme
);

1055 
	`ä“
(
±
);

1057 
	}
}

1091 
	$dœ_¡¬t
()

1094 ià(
dœfd
 != -1)

1100 
	`memıy
(
‹mpba£
, 
_TFILE_BASE
, (_TFILE_BASE));

1101 ià((
dœfd
 = 
	`mk¡emp
(
‹mpfe
)) >= 0) {

1102 ()
	`uÆšk
(
‹mpfe
);

1105 
	`·xw¬n
(1, "Unableo createemporary file for directoryimes: %s",

1106 
‹mpfe
);

1108 
	}
}

1124 
	$add_dœ
(*
Çme
, 
Æ’
, 
¡©
 *
psb
, 
äc_mode
)

1126 
DIRDATA
 
dblk
;

1128 ià(
dœfd
 < 0)

1135 ià((
dblk
.
Åos
 = 
	`l£ek
(
dœfd
, 0L, 
SEEK_CUR
)) < 0) {

1136 
	`·xw¬n
(1,"UÇbËØ¡Ümodªdime fÜ dœeùÜy: %s",
Çme
);

1143 
dblk
.
Æ’
 =‚len + 1;

1144 
dblk
.
mode
 = 
psb
->
¡_mode
 & 0xffff;

1145 
dblk
.
mtime
 = 
psb
->
¡_mtime
;

1146 
dblk
.
©ime
 = 
psb
->
¡_©ime
;

1147 
dblk
.
äc_mode
 = frc_mode;

1148 ià((
	`wr™e
(
dœfd
, 
Çme
, 
dblk
.
Æ’
) == dblk.nlen) &&

1149 (
	`wr™e
(
dœfd
, (*)&
dblk
, (dblk)) == (dblk))) {

1150 ++
dœút
;

1154 
	`·xw¬n
(1,"UÇbËØ¡Ümodªdime fÜ c»©ed dœeùÜy: %s",
Çme
);

1156 
	}
}

1165 
	$´oc_dœ
()

1167 
Çme
[
PAXPATHLEN
+1];

1168 
DIRDATA
 
dblk
;

1169 
u_lÚg
 
út
;

1171 ià(
dœfd
 < 0)

1176 
út
 = 0; cÁ < 
dœút
; ++cnt) {

1181 ià(
	`l£ek
(
dœfd
, -((
off_t
)(
dblk
)), 
SEEK_CUR
) < 0)

1183 ià(
	`»ad
(
dœfd
,(*)&
dblk
, (dblk)) != (dblk))

1185 ià(
	`l£ek
(
dœfd
, 
dblk
.
Åos
, 
SEEK_SET
) < 0)

1187 ià(
	`»ad
(
dœfd
, 
Çme
, 
dblk
.
Æ’
) != dblk.nlen)

1189 ià(
	`l£ek
(
dœfd
, 
dblk
.
Åos
, 
SEEK_SET
) < 0)

1196 ià(
pmode
 || 
dblk
.
äc_mode
)

1197 
	`£t_pmode
(
Çme
, 
dblk
.
mode
);

1198 ià(
·time
 || 
pmtime
)

1199 
	`£t_áime
(
Çme
, 
dblk
.
mtime
, dblk.
©ime
, 0);

1202 ()
	`şo£
(
dœfd
);

1203 
dœfd
 = -1;

1204 ià(
út
 !ğ
dœút
)

1205 
	`·xw¬n
(1,"Unableo set mode‡ndimes for created directories");

1207 
	}
}

1227 
u_št


1228 
	$¡_hash
(*
Çme
, 
Ën
, 
bsz
)

1230 *
±
;

1231 *
de¡
;

1232 *
’d
;

1233 
i
;

1234 
u_št
 
key
 = 0;

1235 
¡•s
;

1236 
»s
;

1237 
u_št
 
v®
;

1244 ià(
Ën
 > 
MAXKEYLEN
) {

1245 
±
 = &(
Çme
[
Ën
 - 
MAXKEYLEN
]);

1246 
Ën
 = 
MAXKEYLEN
;

1248 
±
 = 
Çme
;

1254 
¡•s
 = 
Ën
/(
u_št
);

1255 
»s
 = 
Ën
 % (
u_št
);

1262 
i
 = 0; i < 
¡•s
; ++i) {

1263 
’d
 = 
±
 + (
u_št
);

1264 
de¡
 = (*)&
v®
;

1265 
±
 < 
’d
)

1266 *
de¡
++ = *
±
++;

1267 
key
 +ğ
v®
;

1273 ià(
»s
) {

1274 
v®
 = 0;

1275 
’d
 = 
±
 + 
»s
;

1276 
de¡
 = (*)&
v®
;

1277 
±
 < 
’d
)

1278 *
de¡
++ = *
±
++;

1279 
key
 +ğ
v®
;

1285 (
key
 % 
bsz
);

1286 
	}
}

	@pax/tables.h

46 
	#L_TAB_SZ
 2503

	)

47 
	#F_TAB_SZ
 50503

	)

48 
	#N_TAB_SZ
 541

	)

49 
	#D_TAB_SZ
 317

	)

50 
	#A_TAB_SZ
 317

	)

51 
	#MAXKEYLEN
 64

	)

57 
	shrdÊk
 {

58 *
	mÇme
;

59 
dev_t
 
	mdev
;

60 
šo_t
 
	mšo
;

61 
u_lÚg
 
	mÆšk
;

62 
hrdÊk
 *
	mfow
;

63 } 
	tHRDLNK
;

76 
	sám
 {

77 
	mÇm–’
;

78 
time_t
 
	mmtime
;

79 
off_t
 
	m£ek
;

80 
ám
 *
	mfow
;

81 } 
	tFTM
;

90 
	sÇmt
 {

91 *
	mÚame
;

92 *
	mÂame
;

93 
Çmt
 *
	mfow
;

94 } 
	tNAMT
;

122 
	sdevt
 {

123 
dev_t
 
	mdev
;

124 
devt
 *
	mfow
;

125 
dli¡
 *
	mli¡
;

126 } 
	tDEVT
;

128 
	sdli¡
 {

129 
šo_t
 
	mŒunc_b™s
;

130 
dev_t
 
	mdev
;

131 
dli¡
 *
	mfow
;

132 } 
	tDLIST
;

142 
	s©dœ
 {

143 *
	mÇme
;

144 
dev_t
 
	mdev
;

145 
šo_t
 
	mšo
;

146 
time_t
 
	mmtime
;

147 
time_t
 
	m©ime
;

148 
©dœ
 *
	mfow
;

149 } 
	tATDIR
;

162 
	sdœd©a
 {

163 
	mÆ’
;

164 
off_t
 
	mÅos
;

165 
mode_t
 
	mmode
;

166 
time_t
 
	mmtime
;

167 
time_t
 
	m©ime
;

168 
	mäc_mode
;

169 } 
	tDIRDATA
;

	@pax/tar.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)tar.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/tar.c,v 1.25.10.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/time.h
>

44 
	~<sys/¡©.h
>

45 
	~<¡ršg.h
>

46 
	~<¡dio.h
>

47 
	~<uni¡d.h
>

48 
	~<¡dlib.h
>

49 
	~"·x.h
"

50 
	~"ex‹º.h
"

51 
	~"r.h
"

57 
u_lÚg
 
r_chksm
(*, );

58 *
Çme_¥l™
(*, );

59 
ul_où
(
u_lÚg
, *, , );

60 #iâdeà
NET2_STAT


61 
uqd_où
(
u_quad_t
, *, , );

68 
	gr_nodœ
;

78 
	$r_’dwr
()

80 (
	`wr_sk
((
off_t
)(
NULLCNT
*
BLKMULT
)));

81 
	}
}

90 
off_t


91 
	$r_’drd
()

93 ((
off_t
)(
NULLCNT
*
BLKMULT
));

94 
	}
}

108 
	$r_Œa
(*
buf
, 
š_»sync
, *
út
)

110 
i
;

115 
i
 = 0; i < 
BLKMULT
; ++i) {

116 ià(
buf
[
i
] != '\0')

123 ià(
i
 !ğ
BLKMULT
)

134 ià(!
š_»sync
 && (++*
út
 >ğ
NULLCNT
))

137 
	}
}

151 
	$ul_où
(
u_lÚg
 
v®
, *
¡r
, 
Ën
, 
‹rm
)

153 *
±
;

158 
±
 = 
¡r
 + 
Ën
 - 1;

159 
‹rm
) {

161 *
±
-- = '\0';

164 *
±
-- = ' ';

165 *
±
-- = '\0';

168 *
±
-- = ' ';

172 *
±
-- = '\0';

173 *
±
-- = ' ';

180 
±
 >ğ
¡r
) {

181 *
±
-- = '0' + ()(
v®
 & 0x7);

182 ià((
v®
 = v® >> 3è=ğ(
u_lÚg
)0)

186 
±
 >ğ
¡r
)

187 *
±
-- = '0';

188 ià(
v®
 !ğ(
u_lÚg
)0)

191 
	}
}

193 #iâdeà
NET2_STAT


206 
	$uqd_où
(
u_quad_t
 
v®
, *
¡r
, 
Ën
, 
‹rm
)

208 *
±
;

213 
±
 = 
¡r
 + 
Ën
 - 1;

214 
‹rm
) {

216 *
±
-- = '\0';

219 *
±
-- = ' ';

220 *
±
-- = '\0';

223 *
±
-- = ' ';

227 *
±
-- = '\0';

228 *
±
-- = ' ';

235 
±
 >ğ
¡r
) {

236 *
±
-- = '0' + ()(
v®
 & 0x7);

237 ià((
v®
 = val >> 3) == 0)

241 
±
 >ğ
¡r
)

242 *
±
-- = '0';

243 ià(
v®
 !ğ(
u_quad_t
)0)

246 
	}
}

259 
u_lÚg


260 
	$r_chksm
(*
blk
, 
Ën
)

262 *
¡İ
;

263 *
±
;

264 
u_lÚg
 
chksm
 = 
BLNKSUM
;

269 
±
 = 
blk
;

270 
¡İ
 = 
blk
 + 
CHK_OFFSET
;

271 
±
 < 
¡İ
)

272 
chksm
 +ğ(
u_lÚg
)(*
±
++ & 0xff);

280 
±
 +ğ
CHK_LEN
;

281 
¡İ
 = 
blk
 + 
Ën
;

282 
±
 < 
¡İ
)

283 
chksm
 +ğ(
u_lÚg
)(*
±
++ & 0xff);

284 (
chksm
);

285 
	}
}

301 
	$r_id
(*
blk
, 
size
)

303 
HD_TAR
 *
hd
;

304 
HD_USTAR
 *
uhd
;

306 ià(
size
 < 
BLKMULT
)

308 
hd
 = (
HD_TAR
 *)
blk
;

309 
uhd
 = (
HD_USTAR
 *)
blk
;

318 ià(
hd
->
Çme
[0] == '\0')

320 ià(
	`¡ºcmp
(
uhd
->
magic
, 
TMAGIC
, 
TMAGLEN
 - 1) == 0)

322 ià(
	`asc_ul
(
hd
->
chksum
,(hd->chksum),
OCT
è!ğ
	`r_chksm
(
blk
,
BLKMULT
))

325 
	}
}

335 
	$r_İt
()

337 
OPLIST
 *
İt
;

339 (
İt
 = 
	`İt_Ãxt
()è!ğ
NULL
) {

340 ià(
	`¡rcmp
(
İt
->
Çme
, 
TAR_OPTION
) ||

341 
	`¡rcmp
(
İt
->
v®ue
, 
TAR_NODIR
)) {

342 
	`·xw¬n
(1, "Unknownar format -o option/value…air %s=%s",

343 
İt
->
Çme
, o±->
v®ue
);

344 
	`·xw¬n
(1,"%s=%s ishe only supportedar format option",

345 
TAR_OPTION
, 
TAR_NODIR
);

352 ià((
aù
 !ğ
APPND
è&& (aù !ğ
ARCHIVE
)) {

353 
	`·xw¬n
(1, "%s=%s is only supported when writing.",

354 
İt
->
Çme
, o±->
v®ue
);

357 
r_nodœ
 = 1;

360 
	}
}

372 
	$r_rd
(
ARCHD
 *
¬ú
, *
buf
)

374 
HD_TAR
 *
hd
;

375 *
±
;

380 ià(
	`r_id
(
buf
, 
BLKMULT
) < 0)

382 
¬ú
->
Üg_Çme
 =‡rú->
Çme
;

383 
¬ú
->
sb
.
¡_Æšk
 = 1;

384 
¬ú
->
·t
 = 
NULL
;

389 
hd
 = (
HD_TAR
 *)
buf
;

395 
¬ú
->
Æ’
 = 
	`l_¡ºıy
×rú->
Çme
, 
hd
->name,

396 
	`MIN
((
hd
->
Çme
), (
¬ú
->name)) - 1);

397 
¬ú
->
Çme
[¬ú->
Æ’
] = '\0';

398 
¬ú
->
sb
.
¡_mode
 = (
mode_t
)(
	`asc_ul
(
hd
->
mode
,(hd->mode),
OCT
) &

400 
¬ú
->
sb
.
¡_uid
 = (
uid_t
)
	`asc_ul
(
hd
->
uid
, (hd->uid), 
OCT
);

401 
¬ú
->
sb
.
¡_gid
 = (
gid_t
)
	`asc_ul
(
hd
->
gid
, (hd->gid), 
OCT
);

402 #ifdeà
NET2_STAT


403 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_ul
(
hd
->
size
, (hd->size), 
OCT
);

404 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_ul
(
hd
->
mtime
, (hd->mtime), 
OCT
);

406 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_uqd
(
hd
->
size
, (hd->size), 
OCT
);

407 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_uqd
(
hd
->
mtime
, (hd->mtime), 
OCT
);

409 
¬ú
->
sb
.
¡_ùime
 =‡rú->sb.
¡_©ime
 =‡rú->sb.
¡_mtime
;

415 
±
 = &(
¬ú
->
Çme
[¬ú->
Æ’
 - 1]);

416 
¬ú
->
·d
 = 0;

417 
¬ú
->
sk
 = 0;

418 
hd
->
lškæag
) {

419 
SYMTYPE
:

424 
¬ú
->
ty³
 = 
PAX_SLK
;

425 
¬ú
->
Ê_Æ’
 = 
	`l_¡ºıy
×rú->
Ê_Çme
, 
hd
->
lškÇme
,

426 
	`MIN
((
hd
->
lškÇme
), (
¬ú
->
Ê_Çme
)) - 1);

427 
¬ú
->
Ê_Çme
[¬ú->
Ê_Æ’
] = '\0';

428 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFLNK
;

430 
LNKTYPE
:

435 
¬ú
->
ty³
 = 
PAX_HLK
;

436 
¬ú
->
sb
.
¡_Æšk
 = 2;

437 
¬ú
->
Ê_Æ’
 = 
	`l_¡ºıy
×rú->
Ê_Çme
, 
hd
->
lškÇme
,

438 
	`MIN
((
hd
->
lškÇme
), (
¬ú
->
Ê_Çme
)) - 1);

439 
¬ú
->
Ê_Çme
[¬ú->
Ê_Æ’
] = '\0';

445 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFREG
;

447 
DIRTYPE
:

451 
¬ú
->
ty³
 = 
PAX_DIR
;

452 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFDIR
;

453 
¬ú
->
sb
.
¡_Æšk
 = 2;

454 
¬ú
->
Ê_Çme
[0] = '\0';

455 
¬ú
->
Ê_Æ’
 = 0;

457 
AREGTYPE
:

458 
REGTYPE
:

463 
¬ú
->
Ê_Çme
[0] = '\0';

464 
¬ú
->
Ê_Æ’
 = 0;

465 ià(*
±
 == '/') {

469 
¬ú
->
ty³
 = 
PAX_DIR
;

470 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFDIR
;

471 
¬ú
->
sb
.
¡_Æšk
 = 2;

478 
¬ú
->
ty³
 = 
PAX_REG
;

479 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFREG
;

480 
¬ú
->
·d
 = 
	`TAR_PAD
×rú->
sb
.
¡_size
);

481 
¬ú
->
sk
 =‡rú->
sb
.
¡_size
;

489 ià(*
±
 == '/') {

490 *
±
 = '\0';

491 --
¬ú
->
Æ’
;

494 
	}
}

509 
	$r_wr
(
ARCHD
 *
¬ú
)

511 
HD_TAR
 *
hd
;

512 
Ën
;

513 
HD_TAR
 
hdblk
;

518 
¬ú
->
ty³
) {

519 
PAX_DIR
:

523 ià(
r_nodœ
)

526 
PAX_CHR
:

527 
	`·xw¬n
(1, "Tar cannot‡rchive‡ character device %s",

528 
¬ú
->
Üg_Çme
);

530 
PAX_BLK
:

531 
	`·xw¬n
(1, "T¬ cªnÙ‡rchiv¨block deviû %s", 
¬ú
->
Üg_Çme
);

533 
PAX_SCK
:

534 
	`·xw¬n
(1, "T¬ cªnÙ‡rchiv¨sock‘ %s", 
¬ú
->
Üg_Çme
);

536 
PAX_FIF
:

537 
	`·xw¬n
(1, "T¬ cªnÙ‡rchiv¨fifØ%s", 
¬ú
->
Üg_Çme
);

539 
PAX_SLK
:

540 
PAX_HLK
:

541 
PAX_HRG
:

542 ià(
¬ú
->
Ê_Æ’
 >ğ()(
hd
->
lškÇme
)) {

543 
	`·xw¬n
(1,"Lšk‚amtoØlÚg fÜ¬ %s", 
¬ú
->
Ê_Çme
);

547 
PAX_REG
:

548 
PAX_CTG
:

556 
Ën
 = 
¬ú
->
Æ’
;

557 ià(
¬ú
->
ty³
 =ğ
PAX_DIR
)

558 ++
Ën
;

559 ià(
Ën
 >ğ()(
hd
->
Çme
)) {

560 
	`·xw¬n
(1, "FÇmtoØlÚg fÜ¬ %s", 
¬ú
->
Çme
);

572 
hd
 = &
hdblk
;

573 
	`l_¡ºıy
(
hd
->
Çme
, 
¬ú
->name, (hd->name) - 1);

574 
hd
->
Çme
[(hd->name) - 1] = '\0';

575 
¬ú
->
·d
 = 0;

577 ià(
¬ú
->
ty³
 =ğ
PAX_DIR
) {

583 
hd
->
lškæag
 = 
AREGTYPE
;

584 
	`mem£t
(
hd
->
lškÇme
, 0, (hd->linkname));

585 
hd
->
Çme
[
Ën
-1] = '/';

586 ià(
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 1))

587 
out
;

588 } ià(
¬ú
->
ty³
 =ğ
PAX_SLK
) {

592 
hd
->
lškæag
 = 
SYMTYPE
;

593 
	`l_¡ºıy
(
hd
->
lškÇme
,
¬ú
->
Ê_Çme
, (hd->linkname) - 1);

594 
hd
->
lškÇme
[(hd->linkname) - 1] = '\0';

595 ià(
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 1))

596 
out
;

597 } ià((
¬ú
->
ty³
 =ğ
PAX_HLK
è|| (¬ú->ty³ =ğ
PAX_HRG
)) {

601 
hd
->
lškæag
 = 
LNKTYPE
;

602 
	`l_¡ºıy
(
hd
->
lškÇme
,
¬ú
->
Ê_Çme
, (hd->linkname) - 1);

603 
hd
->
lškÇme
[(hd->linkname) - 1] = '\0';

604 ià(
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 1))

605 
out
;

610 
hd
->
lškæag
 = 
AREGTYPE
;

611 
	`mem£t
(
hd
->
lškÇme
, 0, (hd->linkname));

612 #ifdeà
NET2_STAT


613 ià(
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_size
, 
hd
->
size
,

614 (
hd
->
size
), 1)) {

616 ià(
	`uqd_où
((
u_quad_t
)
¬ú
->
sb
.
¡_size
, 
hd
->
size
,

617 (
hd
->
size
), 1)) {

619 
	`·xw¬n
(1,"Fi toØÏrgfÜ¬ %s", 
¬ú
->
Üg_Çme
);

622 
¬ú
->
·d
 = 
	`TAR_PAD
×rú->
sb
.
¡_size
);

628 ià(
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_mode
, 
hd
->
mode
, (hd->mode), 0) ||

629 
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_uid
, 
hd
->
uid
, (hd->uid), 0) ||

630 
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_gid
, 
hd
->
gid
, (hd->gid), 0) ||

631 
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_mtime
, 
hd
->
mtime
, (hd->mtime), 1))

632 
out
;

639 ià(
	`ul_où
(
	`r_chksm
((*)&
hdblk
, (
HD_TAR
)), 
hd
->
chksum
,

640 (
hd
->
chksum
), 3))

641 
out
;

642 ià(
	`wr_rdbuf
((*)&
hdblk
, (
HD_TAR
)) < 0)

644 ià(
	`wr_sk
((
off_t
)(
BLKMULT
 - (
HD_TAR
))) < 0)

646 ià((
¬ú
->
ty³
 =ğ
PAX_CTG
è|| (¬ú->ty³ =ğ
PAX_REG
))

650 
out
:

654 
	`·xw¬n
(1, "T¬ h—d” f›ld i toØsm®ÈfÜ %s", 
¬ú
->
Üg_Çme
);

656 
	}
}

670 
	$u¡¬_¡rd
()

672 ià((
	`u¤tb_¡¬t
(è< 0è|| (
	`g½tb_¡¬t
() < 0))

675 
	}
}

685 
	$u¡¬_¡wr
()

687 ià((
	`uidtb_¡¬t
(è< 0è|| (
	`gidtb_¡¬t
() < 0))

690 
	}
}

701 
	$u¡¬_id
(*
blk
, 
size
)

703 
HD_USTAR
 *
hd
;

705 ià(
size
 < 
BLKMULT
)

707 
hd
 = (
HD_USTAR
 *)
blk
;

715 ià(
hd
->
Çme
[0] == '\0')

717 ià(
	`¡ºcmp
(
hd
->
magic
, 
TMAGIC
, 
TMAGLEN
 - 1) != 0)

719 ià(
	`asc_ul
(
hd
->
chksum
,(hd->chksum),
OCT
è!ğ
	`r_chksm
(
blk
,
BLKMULT
))

722 
	}
}

733 
	$u¡¬_rd
(
ARCHD
 *
¬ú
, *
buf
)

735 
HD_USTAR
 *
hd
;

736 *
de¡
;

737 
út
 = 0;

738 
dev_t
 
devmajÜ
;

739 
dev_t
 
devmšÜ
;

744 ià(
	`u¡¬_id
(
buf
, 
BLKMULT
) < 0)

746 
¬ú
->
Üg_Çme
 =‡rú->
Çme
;

747 
¬ú
->
sb
.
¡_Æšk
 = 1;

748 
¬ú
->
·t
 = 
NULL
;

749 
¬ú
->
Æ’
 = 0;

750 
hd
 = (
HD_USTAR
 *)
buf
;

756 
de¡
 = 
¬ú
->
Çme
;

757 ià(*(
hd
->
´efix
) != '\0') {

758 
út
 = 
	`l_¡ºıy
(
de¡
, 
hd
->
´efix
,

759 
	`MIN
((
hd
->
´efix
), (
¬ú
->
Çme
) - 2));

760 
de¡
 +ğ
út
;

761 *
de¡
++ = '/';

762 
út
++;

769 
¬ú
->
Æ’
 = 
út
 + 
	`l_¡ºıy
(
de¡
, 
hd
->
Çme
,

770 
	`MIN
((
hd
->
Çme
), (
¬ú
->Çmeè- 
út
 - 1));

771 
¬ú
->
Çme
[¬ú->
Æ’
] = '\0';

777 
¬ú
->
sb
.
¡_mode
 = (
mode_t
)(
	`asc_ul
(
hd
->
mode
, (hd->mode), 
OCT
) &

779 #ifdeà
NET2_STAT


780 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_ul
(
hd
->
size
, (hd->size), 
OCT
);

781 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_ul
(
hd
->
mtime
, (hd->mtime), 
OCT
);

783 
¬ú
->
sb
.
¡_size
 = (
off_t
)
	`asc_uqd
(
hd
->
size
, (hd->size), 
OCT
);

784 
¬ú
->
sb
.
¡_mtime
 = (
time_t
)
	`asc_uqd
(
hd
->
mtime
, (hd->mtime), 
OCT
);

786 
¬ú
->
sb
.
¡_ùime
 =‡rú->sb.
¡_©ime
 =‡rú->sb.
¡_mtime
;

794 
hd
->
gÇme
[(hd->gname) - 1] = '\0';

795 ià(
	`gid_Çme
(
hd
->
gÇme
, &(
¬ú
->
sb
.
¡_gid
)) < 0)

796 
¬ú
->
sb
.
¡_gid
 = (
gid_t
)
	`asc_ul
(
hd
->
gid
, (hd->gid), 
OCT
);

797 
hd
->
uÇme
[(hd->uname) - 1] = '\0';

798 ià(
	`uid_Çme
(
hd
->
uÇme
, &(
¬ú
->
sb
.
¡_uid
)) < 0)

799 
¬ú
->
sb
.
¡_uid
 = (
uid_t
)
	`asc_ul
(
hd
->
uid
, (hd->uid), 
OCT
);

804 
¬ú
->
Ê_Çme
[0] = '\0';

805 
¬ú
->
Ê_Æ’
 = 0;

806 
¬ú
->
·d
 = 0;

807 
¬ú
->
sk
 = 0;

808 
¬ú
->
sb
.
¡_rdev
 = (
dev_t
)0;

813 
hd
->
ty³æag
) {

814 
FIFOTYPE
:

815 
¬ú
->
ty³
 = 
PAX_FIF
;

816 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFIFO
;

818 
DIRTYPE
:

819 
¬ú
->
ty³
 = 
PAX_DIR
;

820 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFDIR
;

821 
¬ú
->
sb
.
¡_Æšk
 = 2;

828 ià(
¬ú
->
Çme
[¬ú->
Æ’
 - 1] == '/')

829 
¬ú
->
Çme
[--¬ú->
Æ’
] = '\0';

831 
BLKTYPE
:

832 
CHRTYPE
:

836 ià(
hd
->
ty³æag
 =ğ
BLKTYPE
) {

837 
¬ú
->
ty³
 = 
PAX_BLK
;

838 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFBLK
;

840 
¬ú
->
ty³
 = 
PAX_CHR
;

841 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFCHR
;

843 
devmajÜ
 = (
dev_t
)
	`asc_ul
(
hd
->devmajÜ,(hd->devmajÜ),
OCT
);

844 
devmšÜ
 = (
dev_t
)
	`asc_ul
(
hd
->devmšÜ,(hd->devmšÜ),
OCT
);

845 
¬ú
->
sb
.
¡_rdev
 = 
	`TODEV
(
devmajÜ
, 
devmšÜ
);

847 
SYMTYPE
:

848 
LNKTYPE
:

849 ià(
hd
->
ty³æag
 =ğ
SYMTYPE
) {

850 
¬ú
->
ty³
 = 
PAX_SLK
;

851 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFLNK
;

853 
¬ú
->
ty³
 = 
PAX_HLK
;

857 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFREG
;

858 
¬ú
->
sb
.
¡_Æšk
 = 2;

863 
¬ú
->
Ê_Æ’
 = 
	`l_¡ºıy
×rú->
Ê_Çme
, 
hd
->
lškÇme
,

864 
	`MIN
((
hd
->
lškÇme
), (
¬ú
->
Ê_Çme
) - 1));

865 
¬ú
->
Ê_Çme
[¬ú->
Ê_Æ’
] = '\0';

867 
CONTTYPE
:

868 
AREGTYPE
:

869 
REGTYPE
:

875 
¬ú
->
ty³
 = 
PAX_REG
;

876 
¬ú
->
·d
 = 
	`TAR_PAD
×rú->
sb
.
¡_size
);

877 
¬ú
->
sk
 =‡rú->
sb
.
¡_size
;

878 
¬ú
->
sb
.
¡_mode
 |ğ
S_IFREG
;

882 
	}
}

897 
	$u¡¬_wr
(
ARCHD
 *
¬ú
)

899 
HD_USTAR
 *
hd
;

900 *
±
;

901 
HD_USTAR
 
hdblk
;

906 ià(
¬ú
->
ty³
 =ğ
PAX_SCK
) {

907 
	`·xw¬n
(1, "U¡¬ cªnÙ‡rchiv¨sock‘ %s", 
¬ú
->
Üg_Çme
);

914 ià(((
¬ú
->
ty³
 =ğ
PAX_SLK
è|| (¬ú->ty³ =ğ
PAX_HLK
) ||

915 (
¬ú
->
ty³
 =ğ
PAX_HRG
)) &&

916 (
¬ú
->
Ê_Æ’
 > ()(
hd
->
lškÇme
))) {

917 
	`·xw¬n
(1, "Lšk‚amtoØlÚg fÜ u¡¬ %s", 
¬ú
->
Ê_Çme
);

925 ià((
±
 = 
	`Çme_¥l™
(
¬ú
->
Çme
,‡rú->
Æ’
)è=ğ
NULL
) {

926 
	`·xw¬n
(1, "FÇmtoØlÚg fÜ u¡¬ %s", 
¬ú
->
Çme
);

929 
hd
 = &
hdblk
;

930 
¬ú
->
·d
 = 0L;

935 ià(
±
 !ğ
¬ú
->
Çme
) {

940 *
±
 = '\0';

941 
	`l_¡ºıy
(
hd
->
´efix
, 
¬ú
->
Çme
, (hd->prefix));

942 *
±
++ = '/';

944 
	`mem£t
(
hd
->
´efix
, 0, (hd->prefix));

950 
	`l_¡ºıy
(
hd
->
Çme
, 
±
, (hd->name));

955 
¬ú
->
ty³
) {

956 
PAX_DIR
:

957 
hd
->
ty³æag
 = 
DIRTYPE
;

958 
	`mem£t
(
hd
->
lškÇme
, 0, (hd->linkname));

959 
	`mem£t
(
hd
->
devmajÜ
, 0, (hd->devmajor));

960 
	`mem£t
(
hd
->
devmšÜ
, 0, (hd->devminor));

961 ià(
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 3))

962 
out
;

964 
PAX_CHR
:

965 
PAX_BLK
:

966 ià(
¬ú
->
ty³
 =ğ
PAX_CHR
)

967 
hd
->
ty³æag
 = 
CHRTYPE
;

969 
hd
->
ty³æag
 = 
BLKTYPE
;

970 
	`mem£t
(
hd
->
lškÇme
, 0, (hd->linkname));

971 ià(
	`ul_où
((
u_lÚg
)
	`MAJOR
(
¬ú
->
sb
.
¡_rdev
), 
hd
->
devmajÜ
,

972 (
hd
->
devmajÜ
), 3) ||

973 
	`ul_où
((
u_lÚg
)
	`MINOR
(
¬ú
->
sb
.
¡_rdev
), 
hd
->
devmšÜ
,

974 (
hd
->
devmšÜ
), 3) ||

975 
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 3))

976 
out
;

978 
PAX_FIF
:

979 
hd
->
ty³æag
 = 
FIFOTYPE
;

980 
	`mem£t
(
hd
->
lškÇme
, 0, (hd->linkname));

981 
	`mem£t
(
hd
->
devmajÜ
, 0, (hd->devmajor));

982 
	`mem£t
(
hd
->
devmšÜ
, 0, (hd->devminor));

983 ià(
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 3))

984 
out
;

986 
PAX_SLK
:

987 
PAX_HLK
:

988 
PAX_HRG
:

989 ià(
¬ú
->
ty³
 =ğ
PAX_SLK
)

990 
hd
->
ty³æag
 = 
SYMTYPE
;

992 
hd
->
ty³æag
 = 
LNKTYPE
;

994 
	`l_¡ºıy
(
hd
->
lškÇme
,
¬ú
->
Ê_Çme
, (hd->linkname));

995 
	`mem£t
(
hd
->
devmajÜ
, 0, (hd->devmajor));

996 
	`mem£t
(
hd
->
devmšÜ
, 0, (hd->devminor));

997 ià(
	`ul_où
((
u_lÚg
)0L, 
hd
->
size
, (hd->size), 3))

998 
out
;

1000 
PAX_REG
:

1001 
PAX_CTG
:

1006 ià(
¬ú
->
ty³
 =ğ
PAX_CTG
)

1007 
hd
->
ty³æag
 = 
CONTTYPE
;

1009 
hd
->
ty³æag
 = 
REGTYPE
;

1010 
	`mem£t
(
hd
->
lškÇme
, 0, (hd->linkname));

1011 
	`mem£t
(
hd
->
devmajÜ
, 0, (hd->devmajor));

1012 
	`mem£t
(
hd
->
devmšÜ
, 0, (hd->devminor));

1013 
¬ú
->
·d
 = 
	`TAR_PAD
×rú->
sb
.
¡_size
);

1014 #ifdeà
NET2_STAT


1015 ià(
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_size
, 
hd
->
size
,

1016 (
hd
->
size
), 3)) {

1018 ià(
	`uqd_où
((
u_quad_t
)
¬ú
->
sb
.
¡_size
, 
hd
->
size
,

1019 (
hd
->
size
), 3)) {

1021 
	`·xw¬n
(1,"Fi toØlÚg fÜ u¡¬ %s",
¬ú
->
Üg_Çme
);

1027 
	`l_¡ºıy
(
hd
->
magic
, 
TMAGIC
, 
TMAGLEN
);

1028 
	`l_¡ºıy
(
hd
->
v”siÚ
, 
TVERSION
, 
TVERSLEN
);

1034 ià(
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_mode
, 
hd
->
mode
, (hd->mode), 3) ||

1035 
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_uid
, 
hd
->
uid
, (hd->uid), 3) ||

1036 
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_gid
, 
hd
->
gid
, (hd->gid), 3) ||

1037 
	`ul_où
((
u_lÚg
)
¬ú
->
sb
.
¡_mtime
,
hd
->
mtime
,(hd->mtime),3))

1038 
out
;

1039 
	`l_¡ºıy
(
hd
->
uÇme
,
	`Çme_uid
(
¬ú
->
sb
.
¡_uid
, 0),(hd->uname));

1040 
	`l_¡ºıy
(
hd
->
gÇme
,
	`Çme_gid
(
¬ú
->
sb
.
¡_gid
, 0),(hd->gname));

1047 ià(
	`ul_où
(
	`r_chksm
((*)&
hdblk
, (
HD_USTAR
)), 
hd
->
chksum
,

1048 (
hd
->
chksum
), 3))

1049 
out
;

1050 ià(
	`wr_rdbuf
((*)&
hdblk
, (
HD_USTAR
)) < 0)

1052 ià(
	`wr_sk
((
off_t
)(
BLKMULT
 - (
HD_USTAR
))) < 0)

1054 ià((
¬ú
->
ty³
 =ğ
PAX_CTG
è|| (¬ú->ty³ =ğ
PAX_REG
))

1058 
out
:

1062 
	`·xw¬n
(1, "U¡¬ h—d” f›ld i toØsm®ÈfÜ %s", 
¬ú
->
Üg_Çme
);

1064 
	}
}

1079 
	$Çme_¥l™
(*
Çme
, 
Ën
)

1081 *
¡¬t
;

1087 ià(
Ën
 <ğ
TNMSZ
)

1088 (
Çme
);

1089 ià(
Ën
 > 
TPFSZ
 + 
TNMSZ
)

1090 (
NULL
);

1098 
¡¬t
 = 
Çme
 + 
Ën
 - 
TNMSZ
;

1099 (*
¡¬t
 != '\0') && (*start != '/'))

1100 ++
¡¬t
;

1106 ià(*
¡¬t
 == '\0')

1107 (
NULL
);

1108 
Ën
 = 
¡¬t
 - 
Çme
;

1116 ià((
Ën
 > 
TPFSZ
) || (len == 0))

1117 (
NULL
);

1122 (
¡¬t
);

1123 
	}
}

	@pax/tar.h

40 
	#CHK_LEN
 8

	)

41 
	#TNMSZ
 100

	)

42 #ifdeà
_PAX_


43 
	#NULLCNT
 2

	)

44 
	#CHK_OFFSET
 148

	)

45 
	#BLNKSUM
 256L

	)

52 
	#REGTYPE
 '0'

	)

53 
	#AREGTYPE
 '\0'

	)

54 
	#LNKTYPE
 '1'

	)

55 
	#SYMTYPE
 '2'

	)

56 
	#CHRTYPE
 '3'

	)

57 
	#BLKTYPE
 '4'

	)

58 
	#DIRTYPE
 '5'

	)

59 
	#FIFOTYPE
 '6'

	)

60 
	#CONTTYPE
 '7'

	)

65 
	#TSUID
 04000

	)

66 
	#TSGID
 02000

	)

67 
	#TSVTX
 01000

	)

68 
	#TUREAD
 00400

	)

69 
	#TUWRITE
 00200

	)

70 
	#TUEXEC
 00100

	)

71 
	#TGREAD
 00040

	)

72 
	#TGWRITE
 00020

	)

73 
	#TGEXEC
 00010

	)

74 
	#TOREAD
 00004

	)

75 
	#TOWRITE
 00002

	)

76 
	#TOEXEC
 00001

	)

78 #ifdeà
_PAX_


83 
	#TAR_PAD
(
x
è((512 - ((xè& 511)è& 511)

	)

90 
	mÇme
[
TNMSZ
];

91 
	mmode
[8];

92 
	muid
[8];

93 
	mgid
[8];

94 
	msize
[12];

95 
	mmtime
[12];

96 
	mchksum
[
CHK_LEN
];

97 
	mlškæag
;

98 
	mlškÇme
[
TNMSZ
];

99 } 
	tHD_TAR
;

101 #ifdeà
_PAX_


105 
	#TAR_NODIR
 "nodœ"

	)

106 
	#TAR_OPTION
 "wr™e_İt"

	)

111 
	#DEV_0
 "/dev/rmt0"

	)

112 
	#DEV_1
 "/dev/rmt1"

	)

113 
	#DEV_4
 "/dev/rmt4"

	)

114 
	#DEV_5
 "/dev/rmt5"

	)

115 
	#DEV_7
 "/dev/rmt7"

	)

116 
	#DEV_8
 "/dev/rmt8"

	)

122 
	#TPFSZ
 155

	)

123 
	#TMAGIC
 "u¡¬"

	)

124 
	#TMAGLEN
 6

	)

125 
	#TVERSION
 "00"

	)

126 
	#TVERSLEN
 2

	)

129 
	mÇme
[
TNMSZ
];

130 
	mmode
[8];

131 
	muid
[8];

132 
	mgid
[8];

133 
	msize
[12];

134 
	mmtime
[12];

135 
	mchksum
[
CHK_LEN
];

136 
	mty³æag
;

137 
	mlškÇme
[
TNMSZ
];

138 
	mmagic
[
TMAGLEN
];

139 
	mv”siÚ
[
TVERSLEN
];

140 
	muÇme
[32];

141 
	mgÇme
[32];

142 
	mdevmajÜ
[8];

143 
	mdevmšÜ
[8];

144 
	m´efix
[
TPFSZ
];

145 } 
	tHD_USTAR
;

	@pax/tty_subs.c

34 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)tty_subs.c 8.2 (Berkeley) 4/18/94";

39 
	~<sys/cdefs.h
>

40 
__FBSDID
("$FreeBSD: src/bin/pax/tty_subs.c,v 1.20.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	~<sys/ty³s.h
>

43 
	~<sys/¡©.h
>

44 
	~<fú.h
>

45 
	~<¡dio.h
>

46 
	~<uni¡d.h
>

47 
	~<¡dlib.h
>

48 
	~<¡ršg.h
>

49 
	~"·x.h
"

50 
	~"ex‹º.h
"

51 
	~<¡d¬g.h
>

57 
	#DEVTTY
 "/dev/‰y"

	)

58 
FILE
 *
	g‰youtf
 = 
NULL
;

59 
FILE
 *
	g‰yšf
 = 
NULL
;

68 
	$‰y_š™
()

70 
‰yfd
;

72 ià((
‰yfd
 = 
	`İ’
(
DEVTTY
, 
O_RDWR
)) >= 0) {

73 ià((
‰youtf
 = 
	`fdİ’
(
‰yfd
, "w")è!ğ
NULL
) {

74 ià((
‰yšf
 = 
	`fdİ’
(
‰yfd
, "r")è!ğ
NULL
)

76 ()
	`fşo£
(
‰youtf
);

78 ()
	`şo£
(
‰yfd
);

81 ià(
iæag
) {

82 
	`·xw¬n
(1, "F©®ƒ¼Ü, cªnÙ o³À%s", 
DEVTTY
);

86 
	}
}

95 
	$‰y_´Á
(cÚ¡ *
fmt
, ...)

97 
va_li¡
 
­
;

98 ià(
‰youtf
 =ğ
NULL
)

100 
	`va_¡¬t
(
­
, 
fmt
);

101 ()
	`vårštf
(
‰youtf
, 
fmt
, 
­
);

102 
	`va_’d
(
­
);

103 ()
	`fæush
(
‰youtf
);

104 
	}
}

115 
	$‰y_»ad
(*
¡r
, 
Ën
)

117 *
±
;

119 ià((--
Ën
 <ğ0è|| (
‰yšf
 =ğ
NULL
è|| (
	`fg‘s
(
¡r
,len,ttyinf) == NULL))

121 *(
¡r
 + 
Ën
) = '\0';

126 ià((
±
 = 
	`¡rchr
(
¡r
, '\n')è!ğ
NULL
)

127 *
±
 = '\0';

129 
	}
}

138 
	$·xw¬n
(
£t
, cÚ¡ *
fmt
, ...)

140 
va_li¡
 
­
;

141 
	`va_¡¬t
(
­
, 
fmt
);

142 ià(
£t
)

143 
ex™_v®
 = 1;

148 ià(
væag
 && 
vå¬t
) {

149 ()
	`fæush
(
li¡f
);

150 ()
	`åutc
('\n', 
¡d”r
);

151 
vå¬t
 = 0;

153 ()
	`årštf
(
¡d”r
, "%s: ", 
¬gv0
);

154 ()
	`vårštf
(
¡d”r
, 
fmt
, 
­
);

155 
	`va_’d
(
­
);

156 ()
	`åutc
('\n', 
¡d”r
);

157 
	}
}

166 
	$sysw¬n
(
£t
, 
”ºum
, cÚ¡ *
fmt
, ...)

168 
va_li¡
 
­
;

169 
	`va_¡¬t
(
­
, 
fmt
);

170 ià(
£t
)

171 
ex™_v®
 = 1;

176 ià(
væag
 && 
vå¬t
) {

177 ()
	`fæush
(
li¡f
);

178 ()
	`åutc
('\n', 
¡d”r
);

179 
vå¬t
 = 0;

181 ()
	`årštf
(
¡d”r
, "%s: ", 
¬gv0
);

182 ()
	`vårštf
(
¡d”r
, 
fmt
, 
­
);

183 
	`va_’d
(
­
);

188 ià(
”ºum
 > 0)

189 ()
	`årštf
(
¡d”r
, " <%s>", 
	`¡»¼Ü
(
”ºum
));

190 ()
	`åutc
('\n', 
¡d”r
);

191 
	}
}

	@pkill/pkill.c

40 
	~<sys/cdefs.h
>

41 
__FBSDID
("$FreeBSD: src/bin/pkill/pkill.c,v 1.4.2.5.2.1 2012/03/03 06:15:13 kensmith Exp $");

43 
	~<sys/ty³s.h
>

44 
	~<sys/·¿m.h
>

45 
	~<sys/sysùl.h
>

46 
	~<sys/´oc.h
>

47 
	~<sys/queue.h
>

48 
	~<sys/¡©.h
>

49 
	~<sys/time.h
>

50 
	~<sys/u£r.h
>

52 
	~<as£¹.h
>

53 
	~<¡dio.h
>

54 
	~<¡dlib.h
>

55 
	~<lim™s.h
>

56 
	~<·ths.h
>

57 
	~<¡ršg.h
>

58 
	~<uni¡d.h
>

59 
	~<sigÇl.h
>

60 
	~<»gex.h
>

61 
	~<ùy³.h
>

62 
	~<fú.h
>

63 
	~<kvm.h
>

64 
	~<”r.h
>

65 
	~<pwd.h
>

66 
	~<g½.h
>

67 
	~<”ºo.h
>

68 
	~<loÿË.h
>

70 
	#STATUS_MATCH
 0

	)

71 
	#STATUS_NOMATCH
 1

	)

72 
	#STATUS_BADUSAGE
 2

	)

73 
	#STATUS_ERROR
 3

	)

75 
	#MIN_PID
 5

	)

76 
	#MAX_PID
 99999

	)

79 
	#PSKIP
(
kp
è((kp)->
ki_pid
 =ğ
mypid
 || \

80 (!
kth»ads
 && ((
kp
)->
ki_æag
 & 
P_KTHREAD
è!ğ0))

	)

82 
	eli¡ty³
 {

83 
	mLT_GENERIC
,

84 
	mLT_USER
,

85 
	mLT_GROUP
,

86 
	mLT_TTY
,

87 
	mLT_PGRP
,

88 
	mLT_JID
,

89 
	mLT_SID


92 
	sli¡
 {

93 
SLIST_ENTRY
(
li¡
è
	mli_chaš
;

94 
	mli_numb”
;

97 
SLIST_HEAD
(
li¡h—d
, 
li¡
);

99 
kšfo_´oc
 *
	g¶i¡
;

100 *
	g£Ëùed
;

101 cÚ¡ *
	gd–im
 = "\n";

102 
	gÅroc
;

103 
	gpg»p
;

104 
	gsignum
 = 
SIGTERM
;

105 
	gÃwe¡
;

106 
	gŞde¡
;

107 
	gš‹¿ùive
;

108 
	gšv”£
;

109 
	glÚgfmt
;

110 
	gm©ch¬gs
;

111 
	gfuÎm©ch
;

112 
	gkth»ads
;

113 
	gcæags
 = 
REG_EXTENDED
;

114 
	gqu›t
;

115 
kvm_t
 *
	gkd
;

116 
pid_t
 
	gmypid
;

118 
li¡h—d
 
	geuidli¡
 = 
SLIST_HEAD_INITIALIZER
(
euidli¡
);

119 
li¡h—d
 
	gruidli¡
 = 
SLIST_HEAD_INITIALIZER
(
ruidli¡
);

120 
li¡h—d
 
	grgidli¡
 = 
SLIST_HEAD_INITIALIZER
(
rgidli¡
);

121 
li¡h—d
 
	gpg½li¡
 = 
SLIST_HEAD_INITIALIZER
(
pg½li¡
);

122 
li¡h—d
 
	gµidli¡
 = 
SLIST_HEAD_INITIALIZER
(
µidli¡
);

123 
li¡h—d
 
	gtdevli¡
 = 
SLIST_HEAD_INITIALIZER
(
tdevli¡
);

124 
li¡h—d
 
	gsidli¡
 = 
SLIST_HEAD_INITIALIZER
(
sidli¡
);

125 
li¡h—d
 
	gjidli¡
 = 
SLIST_HEAD_INITIALIZER
(
jidli¡
);

127 
	$u§ge
(è
	`__©Œibu‹__
((
__nÜ‘uº__
));

128 
	`kÏù
(cÚ¡ 
kšfo_´oc
 *);

129 
	`g»·ù
(cÚ¡ 
kšfo_´oc
 *);

130 
	`mak–i¡
(
li¡h—d
 *, 
li¡ty³
, *);

131 
	`k•id
(const *, );

134 
	$maš
(
¬gc
, **
¬gv
)

136 
buf
[
_POSIX2_LINE_MAX
], *
m¡r
, **
·rgv
, *
p
, *
q
, *
pidfe
;

137 cÚ¡ *
execf
, *
cÜef
;

138 
ªû¡Üs
, 
debug_İt
, 
did_aùiÚ
;

139 
i
, 
ch
, 
be¡idx
, 
rv
, 
ü™”Ÿ
, 
pidäomfe
, 
pidf–ock
;

140 
size_t
 
jsz
;

141 (*
aùiÚ
)(cÚ¡ 
kšfo_´oc
 *);

142 
kšfo_´oc
 *
kp
;

143 
li¡
 *
li
;

144 
timev®
 
be¡_tv®
;

145 
»gex_t
 
»g
;

146 
»gm©ch_t
 
»gm©ch
;

147 
pid_t
 
pid
;

149 
	`£oÿË
(
LC_ALL
, "");

151 ià(
	`¡rcmp
(
	`g‘´ogÇme
(), "pgrep") == 0) {

152 
aùiÚ
 = 
g»·ù
;

153 
pg»p
 = 1;

155 
aùiÚ
 = 
kÏù
;

156 
p
 = 
¬gv
[1];

158 ià(
¬gc
 > 1 && 
p
[0] == '-') {

159 
p
++;

160 
i
 = ()
	`¡¹Ş
(
p
, &
q
, 10);

161 ià(*
q
 == '\0') {

162 
signum
 = 
i
;

163 
¬gv
++;

164 
¬gc
--;

166 ià(
	`¡ºÿ£cmp
(
p
, "sig", 3) == 0)

167 
p
 += 3;

168 
i
 = 1; i < 
NSIG
; i++)

169 ià(
	`¡rÿ£cmp
(
sys_sigÇme
[
i
], 
p
) == 0)

171 ià(
i
 !ğ
NSIG
) {

172 
signum
 = 
i
;

173 
¬gv
++;

174 
¬gc
--;

180 
ªû¡Üs
 = 0;

181 
ü™”Ÿ
 = 0;

182 
debug_İt
 = 0;

183 
pidfe
 = 
NULL
;

184 
pidf–ock
 = 0;

185 
qu›t
 = 0;

186 
execf
 = 
NULL
;

187 
cÜef
 = 
_PATH_DEVNULL
;

189 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "DF:G:ILM:N:P:SU:ad:fg:ij:lnoqs:t:u:vx")) != -1)

190 
ch
) {

192 
debug_İt
++;

195 
pidfe
 = 
İrg
;

196 
ü™”Ÿ
 = 1;

199 
	`mak–i¡
(&
rgidli¡
, 
LT_GROUP
, 
İrg
);

200 
ü™”Ÿ
 = 1;

203 ià(
pg»p
)

204 
	`u§ge
();

205 
š‹¿ùive
 = 1;

208 
pidf–ock
 = 1;

211 
cÜef
 = 
İrg
;

214 
execf
 = 
İrg
;

217 
	`mak–i¡
(&
µidli¡
, 
LT_GENERIC
, 
İrg
);

218 
ü™”Ÿ
 = 1;

221 ià(!
pg»p
)

222 
	`u§ge
();

223 
kth»ads
 = 1;

226 
	`mak–i¡
(&
ruidli¡
, 
LT_USER
, 
İrg
);

227 
ü™”Ÿ
 = 1;

230 
ªû¡Üs
++;

233 ià(!
pg»p
)

234 
	`u§ge
();

235 
d–im
 = 
İrg
;

238 
m©ch¬gs
 = 1;

241 
	`mak–i¡
(&
pg½li¡
, 
LT_PGRP
, 
İrg
);

242 
ü™”Ÿ
 = 1;

245 
cæags
 |ğ
REG_ICASE
;

248 
	`mak–i¡
(&
jidli¡
, 
LT_JID
, 
İrg
);

249 
ü™”Ÿ
 = 1;

252 
lÚgfmt
 = 1;

255 
Ãwe¡
 = 1;

256 
ü™”Ÿ
 = 1;

259 
Şde¡
 = 1;

260 
ü™”Ÿ
 = 1;

263 ià(!
pg»p
)

264 
	`u§ge
();

265 
qu›t
 = 1;

268 
	`mak–i¡
(&
sidli¡
, 
LT_SID
, 
İrg
);

269 
ü™”Ÿ
 = 1;

272 
	`mak–i¡
(&
tdevli¡
, 
LT_TTY
, 
İrg
);

273 
ü™”Ÿ
 = 1;

276 
	`mak–i¡
(&
euidli¡
, 
LT_USER
, 
İrg
);

277 
ü™”Ÿ
 = 1;

280 
šv”£
 = 1;

283 
fuÎm©ch
 = 1;

286 
	`u§ge
();

290 
¬gc
 -ğ
İtšd
;

291 
¬gv
 +ğ
İtšd
;

292 ià(
¬gc
 != 0)

293 
ü™”Ÿ
 = 1;

294 ià(!
ü™”Ÿ
)

295 
	`u§ge
();

296 ià(
Ãwe¡
 && 
Şde¡
)

297 
	`”rx
(
STATUS_ERROR
, "Options -n‡nd -o‡re mutuallyƒxclusive");

298 ià(
pidfe
 !ğ
NULL
)

299 
pidäomfe
 = 
	`k•id
(
pidfe
, 
pidf–ock
);

301 ià(
pidf–ock
) {

302 
	`”rx
(
STATUS_ERROR
,

305 
pidäomfe
 = -1;

308 
mypid
 = 
	`g‘pid
();

313 
kd
 = 
	`kvm_İ’fes
(
execf
, 
cÜef
, 
NULL
, 
O_RDONLY
, 
buf
);

314 ià(
kd
 =ğ
NULL
)

315 
	`”rx
(
STATUS_ERROR
, "CªnÙ o³Àk”ÃÈfe (%s)", 
buf
);

321 
¶i¡
 = 
	`kvm_g‘´ocs
(
kd
, 
KERN_PROC_PROC
, 0, &
Åroc
);

322 ià(
¶i¡
 =ğ
NULL
) {

323 
	`”rx
(
STATUS_ERROR
, "Cannot get…rocess†ist (%s)",

324 
	`kvm_g‘”r
(
kd
));

331 ià((
£Ëùed
 = 
	`m®loc
(
Åroc
)è=ğ
NULL
) {

332 
	`”r
(
STATUS_ERROR
, "Cannot‡llocate memory for %d…rocesses",

333 
Åroc
);

335 
	`mem£t
(
£Ëùed
, 0, 
Åroc
);

340 ; *
¬gv
 !ğ
NULL
;‡rgv++) {

341 ià((
rv
 = 
	`»gcomp
(&
»g
, *
¬gv
, 
cæags
)) != 0) {

342 
	`»g”rÜ
(
rv
, &
»g
, 
buf
, (buf));

343 
	`”rx
(
STATUS_BADUSAGE
,

345 *
¬gv
, 
buf
);

348 
i
 = 0, 
kp
 = 
¶i¡
; i < 
Åroc
; i++, kp++) {

349 ià(
	`PSKIP
(
kp
)) {

350 ià(
debug_İt
 > 0)

351 
	`årštf
(
¡d”r
, "* Skipped %5d %3d %s\n",

352 
kp
->
ki_pid
, kp->
ki_uid
, kp->
ki_comm
);

356 ià(
m©ch¬gs
 &&

357 (
·rgv
 = 
	`kvm_g‘¬gv
(
kd
, 
kp
, 0)è!ğ
NULL
) {

358 
jsz
 = 0;

359 
jsz
 < (
buf
è&& *
·rgv
 !ğ
NULL
) {

360 
jsz
 +ğ
	`¢´štf
(
buf
 + jsz,

361 (
buf
è- 
jsz
,

362 
·rgv
[1] !ğ
NULL
 ? "%s " : "%s",

363 
·rgv
[0]);

364 
·rgv
++;

366 
m¡r
 = 
buf
;

368 
m¡r
 = 
kp
->
ki_comm
;

370 
rv
 = 
	`»gexec
(&
»g
, 
m¡r
, 1, &
»gm©ch
, 0);

371 ià(
rv
 == 0) {

372 ià(
fuÎm©ch
) {

373 ià(
»gm©ch
.
rm_so
 == 0 &&

374 
»gm©ch
.
rm_eo
 ==

375 (
off_t
)
	`¡¾’
(
m¡r
))

376 
£Ëùed
[
i
] = 1;

378 
£Ëùed
[
i
] = 1;

379 } ià(
rv
 !ğ
REG_NOMATCH
) {

380 
	`»g”rÜ
(
rv
, &
»g
, 
buf
, (buf));

381 
	`”rx
(
STATUS_ERROR
,

383 
buf
);

385 ià(
debug_İt
 > 1) {

386 cÚ¡ *
rv_»s
 = "NoMatch";

387 ià(
£Ëùed
[
i
])

388 
rv_»s
 = "Matched";

389 
	`årštf
(
¡d”r
, "* % %5d %3d %s\n", 
rv_»s
,

390 
kp
->
ki_pid
, kp->
ki_uid
, 
m¡r
);

394 
	`»gä“
(&
»g
);

397 
i
 = 0, 
kp
 = 
¶i¡
; i < 
Åroc
; i++, kp++) {

398 ià(
	`PSKIP
(
kp
))

401 ià(
pidäomfe
 >ğ0 && 
kp
->
ki_pid
 !=…idfromfile) {

402 
£Ëùed
[
i
] = 0;

406 
	`SLIST_FOREACH
(
li
, &
ruidli¡
, 
li_chaš
)

407 ià(
kp
->
ki_ruid
 =ğ(
uid_t
)
li
->
li_numb”
)

409 ià(
	`SLIST_FIRST
(&
ruidli¡
è!ğ
NULL
 && 
li
 == NULL) {

410 
£Ëùed
[
i
] = 0;

414 
	`SLIST_FOREACH
(
li
, &
rgidli¡
, 
li_chaš
)

415 ià(
kp
->
ki_rgid
 =ğ(
gid_t
)
li
->
li_numb”
)

417 ià(
	`SLIST_FIRST
(&
rgidli¡
è!ğ
NULL
 && 
li
 == NULL) {

418 
£Ëùed
[
i
] = 0;

422 
	`SLIST_FOREACH
(
li
, &
euidli¡
, 
li_chaš
)

423 ià(
kp
->
ki_uid
 =ğ(
uid_t
)
li
->
li_numb”
)

425 ià(
	`SLIST_FIRST
(&
euidli¡
è!ğ
NULL
 && 
li
 == NULL) {

426 
£Ëùed
[
i
] = 0;

430 
	`SLIST_FOREACH
(
li
, &
µidli¡
, 
li_chaš
)

431 ià(
kp
->
ki_µid
 =ğ(
pid_t
)
li
->
li_numb”
)

433 ià(
	`SLIST_FIRST
(&
µidli¡
è!ğ
NULL
 && 
li
 == NULL) {

434 
£Ëùed
[
i
] = 0;

438 
	`SLIST_FOREACH
(
li
, &
pg½li¡
, 
li_chaš
)

439 ià(
kp
->
ki_pgid
 =ğ(
pid_t
)
li
->
li_numb”
)

441 ià(
	`SLIST_FIRST
(&
pg½li¡
è!ğ
NULL
 && 
li
 == NULL) {

442 
£Ëùed
[
i
] = 0;

446 
	`SLIST_FOREACH
(
li
, &
tdevli¡
, 
li_chaš
) {

447 ià(
li
->
li_numb”
 == -1 &&

448 (
kp
->
ki_æag
 & 
P_CONTROLT
) == 0)

450 ià(
kp
->
ki_tdev
 =ğ(
dev_t
)
li
->
li_numb”
)

453 ià(
	`SLIST_FIRST
(&
tdevli¡
è!ğ
NULL
 && 
li
 == NULL) {

454 
£Ëùed
[
i
] = 0;

458 
	`SLIST_FOREACH
(
li
, &
sidli¡
, 
li_chaš
)

459 ià(
kp
->
ki_sid
 =ğ(
pid_t
)
li
->
li_numb”
)

461 ià(
	`SLIST_FIRST
(&
sidli¡
è!ğ
NULL
 && 
li
 == NULL) {

462 
£Ëùed
[
i
] = 0;

466 
	`SLIST_FOREACH
(
li
, &
jidli¡
, 
li_chaš
) {

468 ià(
kp
->
ki_jid
 =ğ()
li
->
li_numb”
)

471 ià(
kp
->
ki_jid
 > 0 && 
li
->
li_numb”
 == -1)

474 ià(
	`SLIST_FIRST
(&
jidli¡
è!ğ
NULL
 && 
li
 == NULL) {

475 
£Ëùed
[
i
] = 0;

479 ià(
¬gc
 == 0)

480 
£Ëùed
[
i
] = 1;

483 ià(!
ªû¡Üs
) {

484 
pid
 = 
mypid
;

485 
pid
) {

486 
i
 = 0, 
kp
 = 
¶i¡
; i < 
Åroc
; i++, kp++) {

487 ià(
	`PSKIP
(
kp
))

489 ià(
kp
->
ki_pid
 =ğ
pid
) {

490 
£Ëùed
[
i
] = 0;

491 
pid
 = 
kp
->
ki_µid
;

495 ià(
i
 =ğ
Åroc
) {

496 ià(
pid
 =ğ
mypid
)

497 
pid
 = 
	`g‘µid
();

504 ià(
Ãwe¡
 || 
Şde¡
) {

505 
be¡_tv®
.
tv_£c
 = 0;

506 
be¡_tv®
.
tv_u£c
 = 0;

507 
be¡idx
 = -1;

509 
i
 = 0, 
kp
 = 
¶i¡
; i < 
Åroc
; i++, kp++) {

510 ià(!
£Ëùed
[
i
])

512 ià(
be¡idx
 == -1) {

515 } ià(
	`tim”cmp
(&
kp
->
ki_¡¬t
, &
be¡_tv®
, >)) {

517 ià(
Şde¡
)

521 ià(
Ãwe¡
)

525 
be¡_tv®
.
tv_£c
 = 
kp
->
ki_¡¬t
.tv_sec;

526 
be¡_tv®
.
tv_u£c
 = 
kp
->
ki_¡¬t
.tv_usec;

527 
be¡idx
 = 
i
;

530 
	`mem£t
(
£Ëùed
, 0, 
Åroc
);

531 ià(
be¡idx
 != -1)

532 
£Ëùed
[
be¡idx
] = 1;

538 
did_aùiÚ
 = 0;

539 
i
 = 0, 
rv
 = 0, 
kp
 = 
¶i¡
; i < 
Åroc
; i++, kp++) {

540 ià(
	`PSKIP
(
kp
))

542 ià(
£Ëùed
[
i
]) {

543 ià(
lÚgfmt
 && !
pg»p
) {

544 
did_aùiÚ
 = 1;

545 
	`´štf
("kÈ-%d %d\n", 
signum
, 
kp
->
ki_pid
);

547 ià(
šv”£
)

549 } ià(!
šv”£
)

551 
rv
 |ğ(*
aùiÚ
)(
kp
);

553 ià(!
did_aùiÚ
 && !
pg»p
 && 
lÚgfmt
)

554 
	`årštf
(
¡d”r
,

557 
	`ex™
(
rv
 ? 
STATUS_MATCH
 : 
STATUS_NOMATCH
);

558 
	}
}

561 
	$u§ge
()

563 cÚ¡ *
u¡r
;

565 ià(
pg»p
)

566 
u¡r
 = "[-LSfilnoqvx] [-d delim]";

568 
u¡r
 = "[-signal] [-ILfilnovx]";

570 
	`årštf
(
¡d”r
,

573 " [-ˆ‰y] [-uƒuid]…©‹º ...\n", 
	`g‘´ogÇme
(),

574 
u¡r
);

576 
	`ex™
(
STATUS_BADUSAGE
);

577 
	}
}

580 
	$show_´oûss
(cÚ¡ 
kšfo_´oc
 *
kp
)

582 **
¬gv
;

584 ià(
qu›t
) {

585 
	`as£¹
(
pg»p
);

588 ià((
lÚgfmt
 || !
pg»p
è&& 
m©ch¬gs
 &&

589 (
¬gv
 = 
	`kvm_g‘¬gv
(
kd
, 
kp
, 0)è!ğ
NULL
) {

590 
	`´štf
("%d ", ()
kp
->
ki_pid
);

591 ; *
¬gv
 !ğ
NULL
;‡rgv++) {

592 
	`´štf
("%s", *
¬gv
);

593 ià(
¬gv
[1] !ğ
NULL
)

594 
	`putch¬
(' ');

596 } ià(
lÚgfmt
 || !
pg»p
)

597 
	`´štf
("%d %s", ()
kp
->
ki_pid
, kp->
ki_comm
);

599 
	`´štf
("%d", ()
kp
->
ki_pid
);

600 
	}
}

603 
	$kÏù
(cÚ¡ 
kšfo_´oc
 *
kp
)

605 
ch
, 
fœ¡
;

607 ià(
š‹¿ùive
) {

611 
	`´štf
("kill ");

612 
	`show_´oûss
(
kp
);

613 
	`´štf
("? ");

614 
	`fæush
(
¡dout
);

615 
fœ¡
 = 
ch
 = 
	`g‘ch¬
();

616 
ch
 !ğ'\n' && ch !ğ
EOF
)

617 
ch
 = 
	`g‘ch¬
();

618 ià(
fœ¡
 != 'y' && first != 'Y')

621 ià(
	`kl
(
kp
->
ki_pid
, 
signum
) == -1) {

627 ià(
”ºo
 !ğ
ESRCH
)

628 
	`w¬n
("sigÇÎšg…id %d", ()
kp
->
ki_pid
);

637 
	}
}

640 
	$g»·ù
(cÚ¡ 
kšfo_´oc
 *
kp
)

643 
	`show_´oûss
(
kp
);

644 ià(!
qu›t
)

645 
	`´štf
("%s", 
d–im
);

647 
	}
}

650 
	$mak–i¡
(
li¡h—d
 *
h—d
, 
li¡ty³
 
ty³
, *
¤c
)

652 
li¡
 *
li
;

653 
·sswd
 *
pw
;

654 
group
 *
gr
;

655 
¡©
 
¡
;

656 cÚ¡ *
ı
;

657 *
¥
, *
•
, 
buf
[
MAXPATHLEN
];

658 
em±y
;

660 
em±y
 = 1;

662 (
¥
 = 
	`¡r£p
(&
¤c
, ",")è!ğ
NULL
) {

663 ià(*
¥
 == '\0')

664 
	`u§ge
();

666 ià((
li
 = 
	`m®loc
((*li))è=ğ
NULL
) {

667 
	`”r
(
STATUS_ERROR
, "Cannot‡llocate %zu bytes",

668 (*
li
));

671 
	`SLIST_INSERT_HEAD
(
h—d
, 
li
, 
li_chaš
);

672 
em±y
 = 0;

674 
li
->
li_numb”
 = (
uid_t
)
	`¡¹Ş
(
¥
, &
•
, 0);

675 ià(*
•
 == '\0') {

676 
ty³
) {

677 
LT_PGRP
:

678 ià(
li
->
li_numb”
 == 0)

679 
li
->
li_numb”
 = 
	`g‘pg½
();

681 
LT_SID
:

682 ià(
li
->
li_numb”
 == 0)

683 
li
->
li_numb”
 = 
	`g‘sid
(
mypid
);

685 
LT_JID
:

686 ià(
li
->
li_numb”
 < 0)

687 
	`”rx
(
STATUS_BADUSAGE
,

688 "Neg©ivja ID `%s'", 
¥
);

690 ià(
li
->
li_numb”
 == 0)

691 
li
->
li_numb”
 = -1;

693 
LT_TTY
:

694 
	`u§ge
();

702 
ty³
) {

703 
LT_USER
:

704 ià((
pw
 = 
	`g‘pwÇm
(
¥
)è=ğ
NULL
)

705 
	`”rx
(
STATUS_BADUSAGE
, "UnknowÀu£¸`%s'", 
¥
);

706 
li
->
li_numb”
 = 
pw
->
pw_uid
;

708 
LT_GROUP
:

709 ià((
gr
 = 
	`g‘gºam
(
¥
)è=ğ
NULL
)

710 
	`”rx
(
STATUS_BADUSAGE
, "UnknowÀgrou°`%s'", 
¥
);

711 
li
->
li_numb”
 = 
gr
->
gr_gid
;

713 
LT_TTY
:

714 ià(
	`¡rcmp
(
¥
, "-") == 0) {

715 
li
->
li_numb”
 = -1;

717 } ià(
	`¡rcmp
(
¥
, "co") == 0) {

718 
ı
 = "console";

720 
ı
 = 
¥
;

723 
	`¢´štf
(
buf
, (buf), 
_PATH_DEV
 "%s", 
ı
);

724 ià(
	`¡©
(
buf
, &
¡
) != -1)

725 
found‰y
;

727 
	`¢´štf
(
buf
, (buf), 
_PATH_DEV
 "‰y%s", 
ı
);

728 ià(
	`¡©
(
buf
, &
¡
) != -1)

729 
found‰y
;

731 ià(
”ºo
 =ğ
ENOENT
)

732 
	`”rx
(
STATUS_BADUSAGE
, "NØsuchty: `%s'", 
¥
);

733 
	`”r
(
STATUS_ERROR
, "CªnÙ‡cûs `%s'", 
¥
);

735 
found‰y
: ià((
¡
.
¡_mode
 & 
S_IFCHR
) == 0)

736 
	`”rx
(
STATUS_BADUSAGE
, "NÙ‡ty: `%s'", 
¥
);

738 
li
->
li_numb”
 = 
¡
.
¡_rdev
;

740 
LT_JID
:

741 ià(
	`¡rcmp
(
¥
, "none") == 0)

742 
li
->
li_numb”
 = 0;

743 ià(
	`¡rcmp
(
¥
, "any") == 0)

744 
li
->
li_numb”
 = -1;

745 ià(*
•
 != '\0')

746 
	`”rx
(
STATUS_BADUSAGE
,

747 "Inv®id ja ID `%s'", 
¥
);

750 
	`u§ge
();

754 ià(
em±y
)

755 
	`u§ge
();

756 
	}
}

759 
	$k•id
(cÚ¡ *
pidfe
, 
pidf–ock
)

761 *
’dp
, 
lše
[
BUFSIZ
];

762 
FILE
 *
fh
;

763 
rv®
;

765 
fh
 = 
	`fİ’
(
pidfe
, "r");

766 ià(
fh
 =ğ
NULL
)

767 
	`”r
(
STATUS_ERROR
, "CªnÙ o³Àpidf`%s'", 
pidfe
);

769 ià(
pidf–ock
) {

774 ià(
	`æock
(
	`f’o
(
fh
), 
LOCK_EX
 | 
LOCK_NB
) == 0) {

775 ()
	`fşo£
(
fh
);

776 
	`”rx
(
STATUS_ERROR
, "F'%s' cª blocked", 
pidfe
);

778 ià(
”ºo
 !ğ
EWOULDBLOCK
) {

779 
	`”rx
(
STATUS_ERROR
,

780 "E¼Ü whlockšg f'%s'", 
pidfe
);

785 ià(
	`fg‘s
(
lše
, Öše), 
fh
è=ğ
NULL
) {

786 ià(
	`ãof
(
fh
)) {

787 ()
	`fşo£
(
fh
);

788 
	`”rx
(
STATUS_ERROR
, "Pidf`%s' i em±y", 
pidfe
);

790 ()
	`fşo£
(
fh
);

791 
	`”r
(
STATUS_ERROR
, "CªnÙ„—d from…id f`%s'", 
pidfe
);

793 ()
	`fşo£
(
fh
);

795 
rv®
 = 
	`¡¹Ş
(
lše
, &
’dp
, 10);

796 ià(*
’dp
 !ğ'\0' && !
	`is¥aû
(()*endp))

797 
	`”rx
(
STATUS_ERROR
, "Inv®id…id iÀf`%s'", 
pidfe
);

798 ià(
rv®
 < 
MIN_PID
 ||„v® > 
MAX_PID
)

799 
	`”rx
(
STATUS_ERROR
, "Inv®id…id iÀf`%s'", 
pidfe
);

800  (
rv®
);

801 
	}
}

	@ps/extern.h

33 
	gkšfo
;

34 
	gÆi¡
;

35 
	gv¬
;

36 
	gv¬’t
;

38 
fix±_t
 
cıu
;

39 
cæag
, 
ev®
, 
fsÿË
, 
Æi¡»ad
, 
¿wıu
;

40 
mem·ges
;

41 
time_t
 
now
;

42 
showth»ads
, 
sumru§ge
, 
‹rmwidth
, 
tÙwidth
;

43 
	$STAILQ_HEAD
(
v–i¡h—d
, 
v¬’t
è
v¬li¡
;

45 
__BEGIN_DECLS


46 
	`¬gum’ts
(
KINFO
 *, 
VARENT
 *);

47 
	`commªd
(
KINFO
 *, 
VARENT
 *);

48 
	`ıutime
(
KINFO
 *, 
VARENT
 *);

49 
	`dÚli¡
();

50 
	`–­£d
(
KINFO
 *, 
VARENT
 *);

51 
	`emuÊame
(
KINFO
 *, 
VARENT
 *);

52 
VARENT
 *
	`fšd_v¬’Œy
(
VAR
 *);

53 cÚ¡ *
	`fmt_¬gv
(**, *, 
size_t
);

54 
	`g‘pıu
(cÚ¡ 
KINFO
 *);

55 
	`kv¬
(
KINFO
 *, 
VARENT
 *);

56 
	`Ïb–
(
KINFO
 *, 
VARENT
 *);

57 
	`logÇme
(
KINFO
 *, 
VARENT
 *);

58 
	`lÚgŠame
(
KINFO
 *, 
VARENT
 *);

59 
	`l¡¬‹d
(
KINFO
 *, 
VARENT
 *);

60 
	`maxrss
(
KINFO
 *, 
VARENT
 *);

61 
	`lockÇme
(
KINFO
 *, 
VARENT
 *);

62 
	`mwchª
(
KINFO
 *, 
VARENT
 *);

63 
	`nwchª
(
KINFO
 *, 
VARENT
 *);

64 
	`·geš
(
KINFO
 *, 
VARENT
 *);

65 
	`·r£fmt
(const *, );

66 
	`pıu
(
KINFO
 *, 
VARENT
 *);

67 
	`pmem
(
KINFO
 *, 
VARENT
 *);

68 
	`´i
(
KINFO
 *, 
VARENT
 *);

69 
	`´šth—d”
();

70 
	`´iÜ™yr
(
KINFO
 *, 
VARENT
 *);

71 
	`rgrou²ame
(
KINFO
 *, 
VARENT
 *);

72 
	`ruÇme
(
KINFO
 *, 
VARENT
 *);

73 
	`rv¬
(
KINFO
 *, 
VARENT
 *);

74 
	`s_comm
(
KINFO
 *);

75 
	`s_Ïb–
(
KINFO
 *);

76 
	`s_rgrou²ame
(
KINFO
 *);

77 
	`s_ruÇme
(
KINFO
 *);

78 
	`s_uÇme
(
KINFO
 *);

79 
	`showkey
();

80 
	`¡¬‹d
(
KINFO
 *, 
VARENT
 *);

81 
	`¡©e
(
KINFO
 *, 
VARENT
 *);

82 
	`sy¡ime
(
KINFO
 *, 
VARENT
 *);

83 
	`tdev
(
KINFO
 *, 
VARENT
 *);

84 
	`tdÇm
(
KINFO
 *, 
VARENT
 *);

85 
	`Šame
(
KINFO
 *, 
VARENT
 *);

86 
	`ucomm
(
KINFO
 *, 
VARENT
 *);

87 
	`uÇme
(
KINFO
 *, 
VARENT
 *);

88 
	`u´
(
KINFO
 *, 
VARENT
 *);

89 
	`u£¹ime
(
KINFO
 *, 
VARENT
 *);

90 
	`vsize
(
KINFO
 *, 
VARENT
 *);

91 
	`wchª
(
KINFO
 *, 
VARENT
 *);

92 
__END_DECLS


	@ps/fmt.c

31 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)fmt.c 8.4 (Berkeley) 4/15/94";

36 
	~<sys/cdefs.h
>

37 
__FBSDID
("$FreeBSD: src/bin/ps/fmt.c,v 1.34.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

39 
	~<sys/ty³s.h
>

40 
	~<sys/time.h
>

41 
	~<sys/»sourû.h
>

43 
	~<”r.h
>

44 
	~<lim™s.h
>

45 
	~<¡dio.h
>

46 
	~<¡dšt.h
>

47 
	~<¡dlib.h
>

48 
	~<¡ršg.h
>

49 
	~<uni¡d.h
>

50 
	~<vis.h
>

52 
	~"ps.h
"

54 *
cmd·¹
(*);

55 *
shquÙe
(**);

58 
	$shquÙe
(**
¬gv
)

60 
¬g_max
;

61 
size_t
 
buf_size
;

62 
size_t
 
Ën
;

63 **
p
, *
d¡
, *
¤c
;

64 *
buf
 = 
NULL
;

66 ià(
buf
 =ğ
NULL
) {

67 ià((
¬g_max
 = 
	`syscÚf
(
_SC_ARG_MAX
)) == -1)

68 
	`”rx
(1, "sysconf _SC_ARG_MAX failed");

69 ià(
¬g_max
 >ğ
LONG_MAX
 / 4 ||‡rg_max >ğ()(
SIZE_MAX
 / 4))

70 
	`”rx
(1, "sysconf _SC_ARG_MAX…reposterously†arge");

71 
buf_size
 = 4 * 
¬g_max
 + 1;

72 ià((
buf
 = 
	`m®loc
(
buf_size
)è=ğ
NULL
)

73 
	`”rx
(1, "malloc failed");

76 ià(*
¬gv
 =ğ
NULL
) {

77 
buf
[0] = '\0';

78  (
buf
);

80 
d¡
 = 
buf
;

81 
p
 = 
¬gv
; (
¤c
 = *p++è!ğ
NULL
; ) {

82 ià(*
¤c
 == '\0')

84 
Ën
 = (
buf_size
 - 1 - (
d¡
 - 
buf
)) / 4;

85 
	`¡rvisx
(
d¡
, 
¤c
, 
	`¡¾’
(¤cè< 
Ën
 ? strlen(src) :†en,

86 
VIS_NL
 | 
VIS_CSTYLE
);

87 *
d¡
 != '\0')

88 
d¡
++;

89 ià((
buf_size
 - 1 - (
d¡
 - 
buf
)) / 4 > 0)

90 *
d¡
++ = ' ';

93 ià(
d¡
 !ğ
buf
 && dst[-1] == ' ')

94 
d¡
--;

95 *
d¡
 = '\0';

96  (
buf
);

97 
	}
}

100 
	$cmd·¹
(*
¬g0
)

102 *
ı
;

104  ((
ı
 = 
	`¡¼chr
(
¬g0
, '/')è!ğ
NULL
 ? cp + 1 :‡rg0);

105 
	}
}

108 
	$fmt_¬gv
(**
¬gv
, *
cmd
, 
size_t
 
maxËn
)

110 
size_t
 
Ën
;

111 *
­
, *
ı
;

113 ià(
¬gv
 =ğ
NULL
 ||‡rgv[0] == NULL) {

114 ià(
cmd
 =ğ
NULL
)

116 
­
 = 
NULL
;

117 
Ën
 = 
maxËn
 + 3;

119 
­
 = 
	`shquÙe
(
¬gv
);

120 
Ën
 = 
	`¡¾’
(
­
è+ 
maxËn
 + 4;

122 
ı
 = 
	`m®loc
(
Ën
);

123 ià(
ı
 =ğ
NULL
)

124 
	`”rx
(1, "malloc failed");

125 ià(
­
 =ğ
NULL
)

126 
	`¥rštf
(
ı
, "[%.*s]", ()
maxËn
, 
cmd
);

127 ià(
	`¡ºcmp
(
	`cmd·¹
(
¬gv
[0]), 
cmd
, 
maxËn
) != 0)

128 
	`¥rštf
(
ı
, "% (%.*s)", 
­
, ()
maxËn
, 
cmd
);

130 
	`¡rıy
(
ı
, 
­
);

131  (
ı
);

132 
	}
}

	@ps/keyword.c

31 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)keyword.c 8.5 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/ps/keyword.c,v 1.79.2.5.2.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/·¿m.h
>

39 
	~<sys/time.h
>

40 
	~<sys/»sourû.h
>

41 
	~<sys/´oc.h
>

42 
	~<sys/sysùl.h
>

43 
	~<sys/u£r.h
>

45 
	~<”r.h
>

46 
	~<¡ddef.h
>

47 
	~<¡dio.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

51 
	~"ps.h
"

53 
VAR
 *
fšdv¬
(*, , **
h—d”
);

54 
vcmp
(const *, const *);

57 
	#KOFF
(
x
è
	`off£tof
(
kšfo_´oc
, x)

	)

58 
	#ROFF
(
x
è
	`off£tof
(
ru§ge
, x)

	)

60 
	#EMULLEN
 13

	)

61 
	#LWPFMT
 "d"

	)

62 
	#LWPLEN
 6

	)

63 
	#NLWPFMT
 "d"

	)

64 
	#NLWPLEN
 4

	)

65 
	#UIDFMT
 "u"

	)

66 
	#UIDLEN
 5

	)

67 
	#PIDFMT
 "d"

	)

68 
	#PIDLEN
 5

	)

69 
	#USERLEN
 (
MAXLOGNAME
 - 1)

	)

72 
VAR
 
	gv¬
[] = {

73 {"%ıu", "%CPU", 
NULL
, 0, 
pıu
, NULL, 4, 0, 
CHAR
, NULL, 0},

74 {"%mem", "%MEM", 
NULL
, 0, 
pmem
, NULL, 4, 0, 
CHAR
, NULL, 0},

75 {"acæag", "ACFLG", 
NULL
, 0, 
kv¬
, NULL, 3, 
KOFF
(
ki_acæag
), 
USHORT
,

77 {"acæg", "", "acæag", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

78 {"¬gs", "COMMAND", 
NULL
, 
COMM
|
LJUST
|
USER
, 
¬gum’ts
, NULL, 16, 0,

79 
CHAR
, 
NULL
, 0},

80 {"blocked", "", "sigmask", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

81 {"ÿught", "", "sigÿtch", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

82 {"comm", "COMMAND", 
NULL
, 
LJUST
|
DSIZ
, 
ucomm
, 
s_comm
,

83 
COMMLEN
 + 
OCOMMLEN
 + 1, 0, 
CHAR
, 
NULL
, 0},

84 {"commªd", "COMMAND", 
NULL
, 
COMM
|
LJUST
|
USER
, 
commªd
, NULL, 16, 0,

85 
CHAR
, 
NULL
, 0},

86 {"ıu", "CPU", 
NULL
, 0, 
kv¬
, NULL, 3, 
KOFF
(
ki_e¡ıu
), 
UINT
, "d",

88 {"ıutime", "", "time", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

89 {"emul", "EMUL", 
NULL
, 
LJUST
, 
emuÊame
, NULL, 
EMULLEN
, 0, 
CHAR
,

90 
NULL
, 0},

91 {"‘ime", "ELAPSED", 
NULL
, 
USER
, 
–­£d
, NULL, 12, 0, 
CHAR
, NULL, 0},

92 {"f", "F", 
NULL
, 0, 
kv¬
, NULL, 8, 
KOFF
(
ki_æag
), 
INT
, "x", 0},

93 {"æags", "", "f", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

94 {"ignÜed", "", "sigignÜe", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

95 {"šblk", "INBLK", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_šblock
), 
LONG
,

97 {"šblock", "", "šblk", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

98 {"jid", "JID", 
NULL
, 0, 
kv¬
, NULL, 6, 
KOFF
(
ki_jid
), 
INT
, "d", 0},

99 {"jobc", "JOBC", 
NULL
, 0, 
kv¬
, NULL, 4, 
KOFF
(
ki_jobc
), 
SHORT
, "d",

101 {"kŒaû", "KTRACE", 
NULL
, 0, 
kv¬
, NULL, 8, 
KOFF
(
ki_Œaûæag
), 
INT
,

103 {"Ïb–", "LABEL", 
NULL
, 
LJUST
|
DSIZ
, 
Ïb–
, 
s_Ïb–
, 
SHRT_MAX
, 0, 
CHAR
,

104 
NULL
, 0},

105 {"lim", "LIM", 
NULL
, 0, 
maxrss
, NULL, 5, 0, 
CHAR
, NULL, 0},

106 {"lockÇme", "LOCK", 
NULL
, 
LJUST
, 
lockÇme
, NULL, 6, 0, 
CHAR
, NULL,

108 {"logš", "LOGIN", 
NULL
, 
LJUST
, 
logÇme
, NULL, 
MAXLOGNAME
-1, 0, 
CHAR
,

109 
NULL
, 0},

110 {"logÇme", "", "logš", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

111 {"l¡¬t", "STARTED", 
NULL
, 
LJUST
|
USER
, 
l¡¬‹d
, NULL, 28, 0, 
CHAR
,

112 
NULL
, 0},

113 {"lwp", "LWP", 
NULL
, 0, 
kv¬
, NULL, 
LWPLEN
, 
KOFF
(
ki_tid
), 
UINT
,

114 
LWPFMT
, 0},

115 {"majæt", "MAJFLT", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_majæt
),

116 
LONG
, "ld", 0},

117 {"mšæt", "MINFLT", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_mšæt
),

118 
LONG
, "ld", 0},

119 {"msgrcv", "MSGRCV", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_msgrcv
),

120 
LONG
, "ld", 0},

121 {"msg¢d", "MSGSND", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_msg¢d
),

122 
LONG
, "ld", 0},

123 {"mwchª", "MWCHAN", 
NULL
, 
LJUST
, 
mwchª
, NULL, 6, 0, 
CHAR
, NULL, 0},

124 {"ni", "", "niû", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

125 {"niû", "NI", 
NULL
, 0, 
kv¬
, NULL, 2, 
KOFF
(
ki_niû
), 
CHAR
, "d",

127 {"nivcsw", "NIVCSW", 
NULL
, 
USER
, 
rv¬
, NULL, 5, 
ROFF
(
ru_nivcsw
),

128 
LONG
, "ld", 0},

129 {"Æwp", "NLWP", 
NULL
, 0, 
kv¬
, NULL, 
NLWPLEN
, 
KOFF
(
ki_numth»ads
),

130 
UINT
, 
NLWPFMT
, 0},

131 {"nsigÇls", "", "nsigs", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

132 {"nsigs", "NSIGS", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_nsigÇls
),

133 
LONG
, "ld", 0},

134 {"nsw­", "NSWAP", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_nsw­
),

135 
LONG
, "ld", 0},

136 {"nvcsw", "NVCSW", 
NULL
, 
USER
, 
rv¬
, NULL, 5, 
ROFF
(
ru_nvcsw
),

137 
LONG
, "ld", 0},

138 {"nwchª", "NWCHAN", 
NULL
, 
LJUST
, 
nwchª
, NULL, (*) * 2, 0,

139 
CHAR
, 
NULL
, 0},

140 {"oublk", "OUBLK", 
NULL
, 
USER
, 
rv¬
, NULL, 4, 
ROFF
(
ru_oublock
),

141 
LONG
, "ld", 0},

142 {"oublock", "", "oublk", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

143 {"·ddr", "PADDR", 
NULL
, 0, 
kv¬
, NULL, (*) * 2,

144 
KOFF
(
ki_·ddr
), 
KPTR
, "lx", 0},

145 {"·geš", "PAGEIN", 
NULL
, 
USER
, 
·geš
, NULL, 6, 0, 
CHAR
, NULL, 0},

146 {"pıu", "", "%ıu", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

147 {"³ndšg", "", "sig", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

148 {"pgid", "PGID", 
NULL
, 0, 
kv¬
, NULL, 
PIDLEN
, 
KOFF
(
ki_pgid
), 
UINT
,

149 
PIDFMT
, 0},

150 {"pid", "PID", 
NULL
, 0, 
kv¬
, NULL, 
PIDLEN
, 
KOFF
(
ki_pid
), 
UINT
,

151 
PIDFMT
, 0},

152 {"pmem", "", "%mem", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

153 {"µid", "PPID", 
NULL
, 0, 
kv¬
, NULL, 
PIDLEN
, 
KOFF
(
ki_µid
), 
UINT
,

154 
PIDFMT
, 0},

155 {"´i", "PRI", 
NULL
, 0, 
´i
, NULL, 3, 0, 
CHAR
, NULL, 0},

156 {"»", "RE", 
NULL
, 
INF127
, 
kv¬
, NULL, 3, 
KOFF
(
ki_swtime
), 
UINT
, "d",

158 {"rgid", "RGID", 
NULL
, 0, 
kv¬
, NULL, 
UIDLEN
, 
KOFF
(
ki_rgid
),

159 
UINT
, 
UIDFMT
, 0},

160 {"rgroup", "RGROUP", 
NULL
, 
LJUST
|
DSIZ
, 
rgrou²ame
, 
s_rgrou²ame
,

161 
USERLEN
, 0, 
CHAR
, 
NULL
, 0},

162 {"rss", "RSS", 
NULL
, 0, 
kv¬
, NULL, 5, 
KOFF
(
ki_rssize
), 
PGTOK
, "ld", 0},

163 {"¹´io", "RTPRIO", 
NULL
, 0, 
´iÜ™yr
, NULL, 7, 
KOFF
(
ki_´i
), 
CHAR
,

164 
NULL
, 0},

165 {"ruid", "RUID", 
NULL
, 0, 
kv¬
, NULL, 
UIDLEN
, 
KOFF
(
ki_ruid
),

166 
UINT
, 
UIDFMT
, 0},

167 {"ru£r", "RUSER", 
NULL
, 
LJUST
|
DSIZ
, 
ruÇme
, 
s_ruÇme
, 
USERLEN
,

168 0, 
CHAR
, 
NULL
, 0},

169 {"sid", "SID", 
NULL
, 0, 
kv¬
, NULL, 
PIDLEN
, 
KOFF
(
ki_sid
), 
UINT
,

170 
PIDFMT
, 0},

171 {"sig", "PENDING", 
NULL
, 0, 
kv¬
, NULL, 8, 
KOFF
(
ki_sigli¡
), 
INT
,

173 {"sigÿtch", "CAUGHT", 
NULL
, 0, 
kv¬
, NULL, 8, 
KOFF
(
ki_sigÿtch
),

174 
UINT
, "x", 0},

175 {"sigignÜe", "IGNORED", 
NULL
, 0, 
kv¬
, NULL, 8, 
KOFF
(
ki_sigignÜe
),

176 
UINT
, "x", 0},

177 {"sigmask", "BLOCKED", 
NULL
, 0, 
kv¬
, NULL, 8, 
KOFF
(
ki_sigmask
),

178 
UINT
, "x", 0},

179 {"¦", "SL", 
NULL
, 
INF127
, 
kv¬
, NULL, 3, 
KOFF
(
ki_¦±ime
), 
UINT
, "d",

181 {"¡¬t", "STARTED", 
NULL
, 
LJUST
|
USER
, 
¡¬‹d
, NULL, 7, 0, 
CHAR
, NULL,

183 {"¡©", "", "¡©e", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

184 {"¡©e", "STAT", 
NULL
, 0, 
¡©e
, NULL, 4, 0, 
CHAR
, NULL, 0},

185 {"svgid", "SVGID", 
NULL
, 0, 
kv¬
, NULL, 
UIDLEN
, 
KOFF
(
ki_svgid
),

186 
UINT
, 
UIDFMT
, 0},

187 {"svuid", "SVUID", 
NULL
, 0, 
kv¬
, NULL, 
UIDLEN
, 
KOFF
(
ki_svuid
),

188 
UINT
, 
UIDFMT
, 0},

189 {"sy¡ime", "SYSTIME", 
NULL
, 
USER
, 
sy¡ime
, NULL, 9, 0, 
CHAR
, NULL, 0},

190 {"tdaddr", "TDADDR", 
NULL
, 0, 
kv¬
, NULL, (*) * 2,

191 
KOFF
(
ki_tdaddr
), 
KPTR
, "lx", 0},

192 {"tdev", "TDEV", 
NULL
, 0, 
tdev
, NULL, 5, 0, 
CHAR
, NULL, 0},

193 {"tdÇm", "TDNAM", 
NULL
, 
LJUST
, 
tdÇm
, NULL, 
COMMLEN
, 0, 
CHAR
, NULL, 0},

194 {"time", "TIME", 
NULL
, 
USER
, 
ıutime
, NULL, 9, 0, 
CHAR
, NULL, 0},

195 {"gid", "TPGID", 
NULL
, 0, 
kv¬
, NULL, 4, 
KOFF
(
ki_gid
), 
UINT
,

196 
PIDFMT
, 0},

197 {"tsid", "TSID", 
NULL
, 0, 
kv¬
, NULL, 
PIDLEN
, 
KOFF
(
ki_tsid
), 
UINT
,

198 
PIDFMT
, 0},

199 {"tsiz", "TSIZ", 
NULL
, 0, 
kv¬
, NULL, 4, 
KOFF
(
ki_tsize
), 
PGTOK
, "ld", 0},

200 {"‰", "TT ", 
NULL
, 0, 
Šame
, NULL, 4, 0, 
CHAR
, NULL, 0},

201 {"‰y", "TTY", 
NULL
, 
LJUST
, 
lÚgŠame
, NULL, 8, 0, 
CHAR
, NULL, 0},

202 {"ucomm", "UCOMM", 
NULL
, 
LJUST
|
DSIZ
, 
ucomm
, 
s_comm
,

203 
COMMLEN
 + 
OCOMMLEN
 + 1, 0, 
CHAR
, 
NULL
, 0},

204 {"uid", "UID", 
NULL
, 0, 
kv¬
, NULL, 
UIDLEN
, 
KOFF
(
ki_uid
), 
UINT
,

205 
UIDFMT
, 0},

206 {"u´", "UPR", 
NULL
, 0, 
u´
, NULL, 3, 0, 
CHAR
, NULL, 0},

207 {"u´oı", "UPROCP", 
NULL
, 0, 
kv¬
, NULL, (*) * 2,

208 
KOFF
(
ki_·ddr
), 
KPTR
, "lx", 0},

209 {"u£r", "USER", 
NULL
, 
LJUST
|
DSIZ
, 
uÇme
, 
s_uÇme
, 
USERLEN
, 0, 
CHAR
,

210 
NULL
, 0},

211 {"u£¹ime", "USERTIME", 
NULL
, 
USER
, 
u£¹ime
, NULL, 9, 0, 
CHAR
, NULL,

213 {"u¤´i", "", "u´", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

214 {"vsize", "", "vsz", 0, 
NULL
, NULL, 0, 0, 
CHAR
, NULL, 0},

215 {"vsz", "VSZ", 
NULL
, 0, 
vsize
, NULL, 5, 0, 
CHAR
, NULL, 0},

216 {"wchª", "WCHAN", 
NULL
, 
LJUST
, 
wchª
, NULL, 6, 0, 
CHAR
, NULL, 0},

217 {"x¡©", "XSTAT", 
NULL
, 0, 
kv¬
, NULL, 4, 
KOFF
(
ki_x¡©
), 
USHORT
,

219 {"", 
NULL
, NULL, 0, NULL, NULL, 0, 0, 
CHAR
, NULL, 0},

223 
	$showkey
()

225 
VAR
 *
v
;

226 
i
;

227 cÚ¡ *
p
, *
£p
;

229 
i
 = 0;

230 
£p
 = "";

231 
v
 = 
v¬
; *(
p
 = v->
Çme
); ++v) {

232 
Ën
 = 
	`¡¾’
(
p
);

233 ià(
‹rmwidth
 && (
i
 +ğ
Ën
 + 1) >ermwidth) {

234 
i
 = 
Ën
;

235 
£p
 = "\n";

237 (è
	`´štf
("%s%s", 
£p
, 
p
);

238 
£p
 = " ";

240 (è
	`´štf
("\n");

241 
	}
}

244 
	$·r£fmt
(cÚ¡ *
p
, 
u£r
)

246 *
‹mp¡r
, *
‹mp¡r1
;

248 
	#FMTSEP
 " \t,\n"

	)

249 
‹mp¡r1
 = 
‹mp¡r
 = 
	`¡rdup
(
p
);

250 
‹mp¡r
 && *tempstr) {

251 *
ı
, *
hp
;

252 
VAR
 *
v
;

253 
v¬’t
 *
v’t
;

260 ià(
‹mp¡r
[
	`¡rc¥n
Ñemp¡r, "="
FMTSEP
)] != '=')

261 (
ı
 = 
	`¡r£p
(&
‹mp¡r
, 
FMTSEP
)è!ğ
NULL
 &&

262 *
ı
 == '\0')

265 
ı
 = 
‹mp¡r
;

266 
‹mp¡r
 = 
NULL
;

268 ià(
ı
 =ğ
NULL
 || !(
v
 = 
	`fšdv¬
(ı, 
u£r
, &
hp
)))

270 ià(!
u£r
) {

276 
v’t
 = 
	`fšd_v¬’Œy
(
v
);

277 ià(
v’t
 !ğ
NULL
)

280 ià((
v’t
 = 
	`m®loc
((
v¬’t
))è=ğ
NULL
)

281 
	`”rx
(1, "malloc failed");

282 
v’t
->
h—d”
 = 
v
->header;

283 ià(
hp
) {

284 
hp
 = 
	`¡rdup
(hp);

285 ià(
hp
)

286 
v’t
->
h—d”
 = 
hp
;

288 
v’t
->
v¬
 = 
	`m®loc
((*vent->var));

289 ià(
v’t
->
v¬
 =ğ
NULL
)

290 
	`”rx
(1, "malloc failed");

291 
	`memıy
(
v’t
->
v¬
, 
v
, (*vent->var));

292 
	`STAILQ_INSERT_TAIL
(&
v¬li¡
, 
v’t
, 
Ãxt_ve
);

294 
	`ä“
(
‹mp¡r1
);

295 ià(
	`STAILQ_EMPTY
(&
v¬li¡
)) {

296 
	`w¬nx
("no valid keywords; valid keywords:");

297 
	`showkey
();

298 
	`ex™
(1);

300 
	}
}

302 
VAR
 *

303 
	$fšdv¬
(*
p
, 
u£r
, **
h—d”
)

305 
size_t
 
ræ’
;

306 
VAR
 *
v
, 
key
;

307 *
hp
, *
»®fmt
;

309 
hp
 = 
	`¡rchr
(
p
, '=');

310 ià(
hp
)

311 *
hp
++ = '\0';

313 
key
.
Çme
 = 
p
;

314 
v
 = 
	`b£¬ch
(&
key
, 
v¬
, (v¬)/(
VAR
è- 1, (VAR), 
vcmp
);

316 ià(
v
 && v->
®Ÿs
) {

323 ià(
hp
 =ğ
NULL
)

324 
	`·r£fmt
(
v
->
®Ÿs
, 
u£r
);

332 
ræ’
 = 
	`¡¾’
(
v
->
®Ÿs
è+ sŒËn(
hp
) + 2;

333 
»®fmt
 = 
	`m®loc
(
ræ’
);

334 ià(
»®fmt
 =ğ
NULL
)

335 
	`”rx
(1, "malloc failed");

336 
	`¢´štf
(
»®fmt
, 
ræ’
, "%s=%s", 
v
->
®Ÿs
, 
hp
);

337 
	`·r£fmt
(
»®fmt
, 
u£r
);

338 
	`ä“
(
»®fmt
);

340  ((
VAR
 *)
NULL
);

342 ià(!
v
) {

343 
	`w¬nx
("%s: keywÜd‚Ù found", 
p
);

344 
ev®
 = 1;

346 ià(
h—d”
)

347 *
h—d”
 = 
hp
;

348  (
v
);

349 
	}
}

352 
	$vcmp
(cÚ¡ *
a
, cÚ¡ *
b
)

354  (
	`¡rcmp
(((cÚ¡ 
VAR
 *)
a
)->
Çme
, ((cÚ¡ VAR *)
b
)->name));

355 
	}
}

	@ps/nlist.c

31 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)nlist.c 8.4 (Berkeley) 4/2/94";

36 
	~<sys/cdefs.h
>

37 
__FBSDID
("$FreeBSD: src/bin/ps/nlist.c,v 1.21.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

39 
	~<sys/ty³s.h
>

40 
	~<sys/sysùl.h
>

42 
	~<¡ddef.h
>

44 
	~"ps.h
"

46 
fix±_t
 
	gcıu
;

47 
	gÆi¡»ad
;

48 
	gmem·ges
;

49 
	gfsÿË
;

52 
	$dÚli¡
()

54 
size_t
 
ŞdËn
;

56 
ŞdËn
 = (
cıu
);

57 ià(
	`sysùlbyÇme
("k”n.cıu", &
cıu
, &
ŞdËn
, 
NULL
, 0) == -1)

59 
ŞdËn
 = (
fsÿË
);

60 ià(
	`sysùlbyÇme
("k”n.fsÿË", &
fsÿË
, &
ŞdËn
, 
NULL
, 0) == -1)

62 
ŞdËn
 = (
mem·ges
);

63 ià(
	`sysùlbyÇme
("hw.ava·ges", &
mem·ges
, &
ŞdËn
, 
NULL
, 0) == -1)

65 
Æi¡»ad
 = 1;

67 
	}
}

	@ps/print.c

31 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)print.c 8.6 (Berkeley) 4/16/94";

36 
	~<sys/cdefs.h
>

37 
__FBSDID
("$FreeBSD: src/bin/ps/print.c,v 1.100.2.2.2.1 2012/03/03 06:15:13 kensmith Exp $");

39 
	~<sys/·¿m.h
>

40 
	~<sys/time.h
>

41 
	~<sys/»sourû.h
>

42 
	~<sys/´oc.h
>

43 
	~<sys/¡©.h
>

45 
	~<sys/mac.h
>

46 
	~<sys/u£r.h
>

47 
	~<sys/sysùl.h
>

49 
	~<”r.h
>

50 
	~<g½.h
>

51 
	~<Ïngšfo.h
>

52 
	~<loÿË.h
>

53 
	~<m©h.h
>

54 
	~<Æi¡.h
>

55 
	~<pwd.h
>

56 
	~<¡ddef.h
>

57 
	~<¡dio.h
>

58 
	~<¡dlib.h
>

59 
	~<¡ršg.h
>

60 
	~<uni¡d.h
>

61 
	~<vis.h
>

63 
	~"ps.h
"

65 
	#ps_pgtok
(
a
è((×è* 
	`g‘·gesize
()è/ 1024)

	)

68 
	$´šth—d”
()

70 
VAR
 *
v
;

71 
v¬’t
 *
v’t
;

73 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
)

74 ià(*
v’t
->
h—d”
 != '\0')

76 ià(!
v’t
)

79 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
) {

80 
v
 = 
v’t
->
v¬
;

81 ià(
v
->
æag
 & 
LJUST
) {

82 ià(
	`STAILQ_NEXT
(
v’t
, 
Ãxt_ve
è=ğ
NULL
)

83 ()
	`´štf
("%s", 
v’t
->
h—d”
);

85 ()
	`´štf
("%-*s", 
v
->
width
, 
v’t
->
h—d”
);

87 ()
	`´štf
("%*s", 
v
->
width
, 
v’t
->
h—d”
);

88 ià(
	`STAILQ_NEXT
(
v’t
, 
Ãxt_ve
è!ğ
NULL
)

89 ()
	`putch¬
(' ');

91 ()
	`putch¬
('\n');

92 
	}
}

95 
	$¬gum’ts
(
KINFO
 *
k
, 
VARENT
 *
ve
)

97 
VAR
 *
v
;

98 
Ëá
;

99 *
ı
, *
vis_¬gs
;

101 
v
 = 
ve
->
v¬
;

102 ià((
vis_¬gs
 = 
	`m®loc
(
	`¡¾’
(
k
->
ki_¬gs
è* 4 + 1)è=ğ
NULL
)

103 
	`”rx
(1, "malloc failed");

104 
	`¡rvis
(
vis_¬gs
, 
k
->
ki_¬gs
, 
VIS_TAB
 | 
VIS_NL
 | 
VIS_NOSLASH
);

105 ià(
	`STAILQ_NEXT
(
ve
, 
Ãxt_ve
è=ğ
NULL
) {

107 ià(
‹rmwidth
 =ğ
UNLIMITED
) {

108 ()
	`´štf
("%s", 
vis_¬gs
);

110 
Ëá
 = 
‹rmwidth
 - (
tÙwidth
 - 
v
->
width
);

111 ià(
Ëá
 < 1)

112 
Ëá
 = 
v
->
width
;

113 
ı
 = 
vis_¬gs
; --
Ëá
 >= 0 && *cp != '\0';)

114 ()
	`putch¬
(*
ı
++);

117 ()
	`´štf
("%-*.*s", 
v
->
width
, v->width, 
vis_¬gs
);

119 
	`ä“
(
vis_¬gs
);

120 
	}
}

123 
	$commªd
(
KINFO
 *
k
, 
VARENT
 *
ve
)

125 
VAR
 *
v
;

126 
Ëá
;

127 *
ı
, *
vis_’v
, *
vis_¬gs
;

129 
v
 = 
ve
->
v¬
;

130 ià(
cæag
) {

132 ià(
	`STAILQ_NEXT
(
ve
, 
Ãxt_ve
è=ğ
NULL
) {

133 ià(
k
->
ki_d
.
´efix
)

134 ()
	`´štf
("%s", 
k
->
ki_d
.
´efix
);

135 ()
	`´štf
("%s", 
k
->
ki_p
->
ki_comm
);

136 ià(
showth»ads
 && 
k
->
ki_p
->
ki_numth»ads
 > 1)

137 ()
	`´štf
("/%s", 
k
->
ki_p
->
ki_ocomm
);

139 ()
	`´štf
("%-*s", 
v
->
width
, 
k
->
ki_p
->
ki_comm
);

142 ià((
vis_¬gs
 = 
	`m®loc
(
	`¡¾’
(
k
->
ki_¬gs
è* 4 + 1)è=ğ
NULL
)

143 
	`”rx
(1, "malloc failed");

144 
	`¡rvis
(
vis_¬gs
, 
k
->
ki_¬gs
, 
VIS_TAB
 | 
VIS_NL
 | 
VIS_NOSLASH
);

146 ià(
	`STAILQ_NEXT
(
ve
, 
Ãxt_ve
è=ğ
NULL
) {

149 ià(
k
->
ki_’v
) {

150 ià((
vis_’v
 = 
	`m®loc
(
	`¡¾’
(
k
->
ki_’v
) * 4 + 1))

151 =ğ
NULL
)

152 
	`”rx
(1, "malloc failed");

153 
	`¡rvis
(
vis_’v
, 
k
->
ki_’v
,

154 
VIS_TAB
 | 
VIS_NL
 | 
VIS_NOSLASH
);

156 
vis_’v
 = 
NULL
;

158 ià(
‹rmwidth
 =ğ
UNLIMITED
) {

159 ià(
k
->
ki_d
.
´efix
)

160 ()
	`´štf
("%s", 
k
->
ki_d
.
´efix
);

161 ià(
vis_’v
)

162 ()
	`´štf
("% ", 
vis_’v
);

163 ()
	`´štf
("%s", 
vis_¬gs
);

165 
Ëá
 = 
‹rmwidth
 - (
tÙwidth
 - 
v
->
width
);

166 ià(
Ëá
 < 1)

167 
Ëá
 = 
v
->
width
;

168 ià((
ı
 = 
k
->
ki_d
.
´efix
è!ğ
NULL
)

169 --
Ëá
 >ğ0 && *
ı
)

170 ()
	`putch¬
(*
ı
++);

171 ià((
ı
 = 
vis_’v
è!ğ
NULL
) {

172 --
Ëá
 >ğ0 && *
ı
)

173 ()
	`putch¬
(*
ı
++);

174 ià(--
Ëá
 >= 0)

175 
	`putch¬
(' ');

177 
ı
 = 
vis_¬gs
; --
Ëá
 >= 0 && *cp != '\0';)

178 ()
	`putch¬
(*
ı
++);

180 ià(
vis_’v
 !ğ
NULL
)

181 
	`ä“
(
vis_’v
);

184 ()
	`´štf
("%-*.*s", 
v
->
width
, v->width, 
vis_¬gs
);

185 
	`ä“
(
vis_¬gs
);

186 
	}
}

189 
	$ucomm
(
KINFO
 *
k
, 
VARENT
 *
ve
)

191 
tmpbuff
[
COMMLEN
 + 
OCOMMLEN
 + 2];

192 
VAR
 *
v
;

194 
v
 = 
ve
->
v¬
;

195 ià(
	`STAILQ_NEXT
(
ve
, 
Ãxt_ve
è=ğ
NULL
) {

196 ià(
k
->
ki_d
.
´efix
)

197 ()
	`´štf
("%s", 
k
->
ki_d
.
´efix
);

198 ()
	`´štf
("%s", 
k
->
ki_p
->
ki_comm
);

199 ià(
showth»ads
 && 
k
->
ki_p
->
ki_numth»ads
 > 1)

200 
	`´štf
("/%s", 
k
->
ki_p
->
ki_ocomm
);

202 
	`bz”o
(
tmpbuff
, (tmpbuff));

203 ià(
showth»ads
 && 
k
->
ki_p
->
ki_numth»ads
 > 1)

204 
	`¥rštf
(
tmpbuff
, "%s/%s", 
k
->
ki_p
->
ki_comm
,

205 
k
->
ki_p
->
ki_ocomm
);

207 
	`¥rštf
(
tmpbuff
, "%s", 
k
->
ki_p
->
ki_comm
);

208 ()
	`´štf
("%-*s", 
v
->
width
, 
tmpbuff
);

210 
	}
}

213 
	$tdÇm
(
KINFO
 *
k
, 
VARENT
 *
ve
)

215 
VAR
 *
v
;

217 
v
 = 
ve
->
v¬
;

218 ià(
showth»ads
 && 
k
->
ki_p
->
ki_numth»ads
 > 1)

219 ()
	`´štf
("%-*s", 
v
->
width
, 
k
->
ki_p
->
ki_ocomm
);

221 ()
	`´štf
("%-*s", 
v
->
width
, " ");

222 
	}
}

225 
	$logÇme
(
KINFO
 *
k
, 
VARENT
 *
ve
)

227 
VAR
 *
v
;

228 *
s
;

230 
v
 = 
ve
->
v¬
;

231 ()
	`´štf
("%-*s", 
v
->
width
, (
s
 = 
k
->
ki_p
->
ki_logš
, *s) ? s : "-");

232 
	}
}

235 
	$¡©e
(
KINFO
 *
k
, 
VARENT
 *
ve
)

237 
æag
, 
tdæags
;

238 *
ı
;

239 
VAR
 *
v
;

240 
buf
[16];

242 
v
 = 
ve
->
v¬
;

243 
æag
 = 
k
->
ki_p
->
ki_æag
;

244 
tdæags
 = 
k
->
ki_p
->
ki_tdæags
;

245 
ı
 = 
buf
;

247 
k
->
ki_p
->
ki_¡©
) {

249 
SSTOP
:

250 *
ı
 = 'T';

253 
SSLEEP
:

254 ià(
tdæags
 & 
TDF_SINTR
)

255 *
ı
 = 
k
->
ki_p
->
ki_¦±ime
 >ğ
MAXSLP
 ? 'I' : 'S';

257 *
ı
 = 'D';

260 
SRUN
:

261 
SIDL
:

262 *
ı
 = 'R';

265 
SWAIT
:

266 *
ı
 = 'W';

269 
SLOCK
:

270 *
ı
 = 'L';

273 
SZOMB
:

274 *
ı
 = 'Z';

278 *
ı
 = '?';

280 
ı
++;

281 ià(!(
æag
 & 
P_INMEM
))

282 *
ı
++ = 'W';

283 ià(
k
->
ki_p
->
ki_niû
 < 
NZERO
)

284 *
ı
++ = '<';

285 ià(
k
->
ki_p
->
ki_niû
 > 
NZERO
)

286 *
ı
++ = 'N';

287 ià(
æag
 & 
P_TRACED
)

288 *
ı
++ = 'X';

289 ià(
æag
 & 
P_WEXIT
 && 
k
->
ki_p
->
ki_¡©
 !ğ
SZOMB
)

290 *
ı
++ = 'E';

291 ià(
æag
 & 
P_PPWAIT
)

292 *
ı
++ = 'V';

293 ià((
æag
 & 
P_SYSTEM
è|| 
k
->
ki_p
->
ki_lock
 > 0)

294 *
ı
++ = 'L';

295 ià(
k
->
ki_p
->
ki_kiæag
 & 
KI_SLEADER
)

296 *
ı
++ = 's';

297 ià((
æag
 & 
P_CONTROLT
è&& 
k
->
ki_p
->
ki_pgid
 =ğk->ki_p->
ki_gid
)

298 *
ı
++ = '+';

299 ià(
æag
 & 
P_JAILED
)

300 *
ı
++ = 'J';

301 *
ı
 = '\0';

302 ()
	`´štf
("%-*s", 
v
->
width
, 
buf
);

303 
	}
}

305 
	#sÿË´i
(
x
è((xè- 
PZERO
)

	)

308 
	$´i
(
KINFO
 *
k
, 
VARENT
 *
ve
)

310 
VAR
 *
v
;

312 
v
 = 
ve
->
v¬
;

313 ()
	`´štf
("%*d", 
v
->
width
, 
	`sÿË´i
(
k
->
ki_p
->
ki_´i
.
´i_Ëv–
));

314 
	}
}

317 
	$u´
(
KINFO
 *
k
, 
VARENT
 *
ve
)

319 
VAR
 *
v
;

321 
v
 = 
ve
->
v¬
;

322 ()
	`´štf
("%*d", 
v
->
width
, 
	`sÿË´i
(
k
->
ki_p
->
ki_´i
.
´i_u£r
));

323 
	}
}

324 #undeà
sÿË´i


327 
	$uÇme
(
KINFO
 *
k
, 
VARENT
 *
ve
)

329 
VAR
 *
v
;

331 
v
 = 
ve
->
v¬
;

332 ()
	`´štf
("%-*s", 
v
->
width
, 
	`u£r_äom_uid
(
k
->
ki_p
->
ki_uid
, 0));

333 
	}
}

336 
	$s_uÇme
(
KINFO
 *
k
)

338  (
	`¡¾’
(
	`u£r_äom_uid
(
k
->
ki_p
->
ki_uid
, 0)));

339 
	}
}

342 
	$rgrou²ame
(
KINFO
 *
k
, 
VARENT
 *
ve
)

344 
VAR
 *
v
;

346 
v
 = 
ve
->
v¬
;

347 ()
	`´štf
("%-*s", 
v
->
width
, 
	`group_äom_gid
(
k
->
ki_p
->
ki_rgid
, 0));

348 
	}
}

351 
	$s_rgrou²ame
(
KINFO
 *
k
)

353  (
	`¡¾’
(
	`group_äom_gid
(
k
->
ki_p
->
ki_rgid
, 0)));

354 
	}
}

357 
	$ruÇme
(
KINFO
 *
k
, 
VARENT
 *
ve
)

359 
VAR
 *
v
;

361 
v
 = 
ve
->
v¬
;

362 ()
	`´štf
("%-*s", 
v
->
width
, 
	`u£r_äom_uid
(
k
->
ki_p
->
ki_ruid
, 0));

363 
	}
}

366 
	$s_ruÇme
(
KINFO
 *
k
)

368  (
	`¡¾’
(
	`u£r_äom_uid
(
k
->
ki_p
->
ki_ruid
, 0)));

369 
	}
}

373 
	$tdev
(
KINFO
 *
k
, 
VARENT
 *
ve
)

375 
VAR
 *
v
;

376 
dev_t
 
dev
;

377 
buff
[16];

379 
v
 = 
ve
->
v¬
;

380 
dev
 = 
k
->
ki_p
->
ki_tdev
;

381 ià(
dev
 =ğ
NODEV
)

382 ()
	`´štf
("%*s", 
v
->
width
, "??");

384 ()
	`¢´štf
(
buff
, (buff),

385 "%d/%d", 
	`majÜ
(
dev
), 
	`mšÜ
(dev));

386 ()
	`´štf
("%*s", 
v
->
width
, 
buff
);

388 
	}
}

391 
	$Šame
(
KINFO
 *
k
, 
VARENT
 *
ve
)

393 
VAR
 *
v
;

394 
dev_t
 
dev
;

395 *
‰Çme
;

397 
v
 = 
ve
->
v¬
;

398 
dev
 = 
k
->
ki_p
->
ki_tdev
;

399 ià(
dev
 =ğ
NODEV
 || (
‰Çme
 = 
	`devÇme
(dev, 
S_IFCHR
)è=ğ
NULL
)

400 ()
	`´štf
("%* ", 
v
->
width
 - 1, "??");

402 ià(
	`¡ºcmp
(
‰Çme
, "tty", 3) == 0 ||

403 
	`¡ºcmp
(
‰Çme
, "cua", 3) == 0)

404 
‰Çme
 += 3;

405 ià(
	`¡ºcmp
(
‰Çme
, "pts/", 4) == 0)

406 
‰Çme
 += 4;

407 ()
	`´štf
("%*.*s%c", 
v
->
width
 - 1, v->width - 1, 
‰Çme
,

408 
k
->
ki_p
->
ki_kiæag
 & 
KI_CTTY
 ? ' ' : '-');

410 
	}
}

413 
	$lÚgŠame
(
KINFO
 *
k
, 
VARENT
 *
ve
)

415 
VAR
 *
v
;

416 
dev_t
 
dev
;

417 *
‰Çme
;

419 
v
 = 
ve
->
v¬
;

420 
dev
 = 
k
->
ki_p
->
ki_tdev
;

421 ià(
dev
 =ğ
NODEV
 || (
‰Çme
 = 
	`devÇme
(dev, 
S_IFCHR
)è=ğ
NULL
)

422 ()
	`´štf
("%-*s", 
v
->
width
, "??");

424 ()
	`´štf
("%-*s", 
v
->
width
, 
‰Çme
);

425 
	}
}

428 
	$¡¬‹d
(
KINFO
 *
k
, 
VARENT
 *
ve
)

430 
VAR
 *
v
;

431 
time_t
 
th’
;

432 
tm
 *

;

433 
u£_ampm
 = -1;

434 
buf
[100];

436 
v
 = 
ve
->
v¬
;

437 ià(!
k
->
ki_v®id
) {

438 ()
	`´štf
("%-*s", 
v
->
width
, "-");

441 ià(
u£_ampm
 < 0)

442 
u£_ampm
 = (*
	`Æ_Ïngšfo
(
T_FMT_AMPM
) != '\0');

443 
th’
 = 
k
->
ki_p
->
ki_¡¬t
.
tv_£c
;

444 

 = 
	`loÿÉime
(&
th’
);

445 ià(
now
 - 
k
->
ki_p
->
ki_¡¬t
.
tv_£c
 < 24 * 3600) {

446 ()
	`¡ráime
(
buf
, (buf),

447 
u£_ampm
 ? "%l:%M%p" : "%k:%M ", 

);

448 } ià(
now
 - 
k
->
ki_p
->
ki_¡¬t
.
tv_£c
 < 7 * 86400) {

449 ()
	`¡ráime
(
buf
, (buf),

450 
u£_ampm
 ? "%a%I%p" : "%a%H ", 

);

452 ()
	`¡ráime
(
buf
, (buf), "%e%b%y", 

);

453 ()
	`´štf
("%-*s", 
v
->
width
, 
buf
);

454 
	}
}

457 
	$l¡¬‹d
(
KINFO
 *
k
, 
VARENT
 *
ve
)

459 
VAR
 *
v
;

460 
time_t
 
th’
;

461 
buf
[100];

463 
v
 = 
ve
->
v¬
;

464 ià(!
k
->
ki_v®id
) {

465 ()
	`´štf
("%-*s", 
v
->
width
, "-");

468 
th’
 = 
k
->
ki_p
->
ki_¡¬t
.
tv_£c
;

469 ()
	`¡ráime
(
buf
, (buf), "%c", 
	`loÿÉime
(&
th’
));

470 ()
	`´štf
("%-*s", 
v
->
width
, 
buf
);

471 
	}
}

474 
	$lockÇme
(
KINFO
 *
k
, 
VARENT
 *
ve
)

476 
VAR
 *
v
;

478 
v
 = 
ve
->
v¬
;

479 ià(
k
->
ki_p
->
ki_kiæag
 & 
KI_LOCKBLOCK
) {

480 ià(
k
->
ki_p
->
ki_lockÇme
[0] != 0)

481 ()
	`´štf
("%-*.*s", 
v
->
width
, v->width,

482 
k
->
ki_p
->
ki_lockÇme
);

484 ()
	`´štf
("%-*s", 
v
->
width
, "???");

486 ()
	`´štf
("%-*s", 
v
->
width
, "-");

487 
	}
}

490 
	$wchª
(
KINFO
 *
k
, 
VARENT
 *
ve
)

492 
VAR
 *
v
;

494 
v
 = 
ve
->
v¬
;

495 ià(
k
->
ki_p
->
ki_wchª
) {

496 ià(
k
->
ki_p
->
ki_wmesg
[0] != 0)

497 ()
	`´štf
("%-*.*s", 
v
->
width
, v->width,

498 
k
->
ki_p
->
ki_wmesg
);

500 ()
	`´štf
("%-*lx", 
v
->
width
,

501 ()
k
->
ki_p
->
ki_wchª
);

503 ()
	`´štf
("%-*s", 
v
->
width
, "-");

504 
	}
}

507 
	$nwchª
(
KINFO
 *
k
, 
VARENT
 *
ve
)

509 
VAR
 *
v
;

511 
v
 = 
ve
->
v¬
;

512 ià(
k
->
ki_p
->
ki_wchª
) {

513 ()
	`´štf
("%0*lx", 
v
->
width
,

514 ()
k
->
ki_p
->
ki_wchª
);

516 ()
	`´štf
("%-*s", 
v
->
width
, "-");

517 
	}
}

520 
	$mwchª
(
KINFO
 *
k
, 
VARENT
 *
ve
)

522 
VAR
 *
v
;

524 
v
 = 
ve
->
v¬
;

525 ià(
k
->
ki_p
->
ki_wchª
) {

526 ià(
k
->
ki_p
->
ki_wmesg
[0] != 0)

527 ()
	`´štf
("%-*.*s", 
v
->
width
, v->width,

528 
k
->
ki_p
->
ki_wmesg
);

530 ()
	`´štf
("%-*lx", 
v
->
width
,

531 ()
k
->
ki_p
->
ki_wchª
);

532 } ià(
k
->
ki_p
->
ki_kiæag
 & 
KI_LOCKBLOCK
) {

533 ià(
k
->
ki_p
->
ki_lockÇme
[0]) {

534 ()
	`´štf
("%-*.*s", 
v
->
width
, v->width,

535 
k
->
ki_p
->
ki_lockÇme
);

537 ()
	`´štf
("%-*s", 
v
->
width
, "???");

539 ()
	`´štf
("%-*s", 
v
->
width
, "-");

540 
	}
}

543 
	$vsize
(
KINFO
 *
k
, 
VARENT
 *
ve
)

545 
VAR
 *
v
;

547 
v
 = 
ve
->
v¬
;

548 ()
	`´štf
("%*lu", 
v
->
width
, (
u_lÚg
)(
k
->
ki_p
->
ki_size
 / 1024));

549 
	}
}

552 
	$´š‰ime
(
KINFO
 *
k
, 
VARENT
 *
ve
, 
£cs
, 
p£cs
)

555 
VAR
 *
v
;

556 
obuff
[128];

557 
decim®_pošt
;

559 ià(
decim®_pošt
 == '\0')

560 
decim®_pošt
 = 
	`loÿËcÚv
()->decimal_point[0];

561 
v
 = 
ve
->
v¬
;

562 ià(!
k
->
ki_v®id
) {

563 
£cs
 = 0;

564 
p£cs
 = 0;

567 
p£cs
 = (psecs + 5000) / 10000;

568 
£cs
 +ğ
p£cs
 / 100;

569 
p£cs
 =…secs % 100;

571 ()
	`¢´štf
(
obuff
, (obuff), "%3ld:%02ld%c%02ld",

572 
£cs
 / 60, sec % 60, 
decim®_pošt
, 
p£cs
);

573 ()
	`´štf
("%*s", 
v
->
width
, 
obuff
);

574 
	}
}

577 
	$ıutime
(
KINFO
 *
k
, 
VARENT
 *
ve
)

579 
£cs
, 
p£cs
;

586 
£cs
 = 
k
->
ki_p
->
ki_ruÁime
 / 1000000;

587 
p£cs
 = 
k
->
ki_p
->
ki_ruÁime
 % 1000000;

588 ià(
sumru§ge
) {

589 
£cs
 +ğ
k
->
ki_p
->
ki_chdtime
.
tv_£c
;

590 
p£cs
 +ğ
k
->
ki_p
->
ki_chdtime
.
tv_u£c
;

592 
	`´š‰ime
(
k
, 
ve
, 
£cs
, 
p£cs
);

593 
	}
}

596 
	$sy¡ime
(
KINFO
 *
k
, 
VARENT
 *
ve
)

598 
£cs
, 
p£cs
;

600 
£cs
 = 
k
->
ki_p
->
ki_ru§ge
.
ru_¡ime
.
tv_£c
;

601 
p£cs
 = 
k
->
ki_p
->
ki_ru§ge
.
ru_¡ime
.
tv_u£c
;

602 ià(
sumru§ge
) {

603 
£cs
 +ğ
k
->
ki_p
->
ki_chd¡ime
.
tv_£c
;

604 
p£cs
 +ğ
k
->
ki_p
->
ki_chd¡ime
.
tv_u£c
;

606 
	`´š‰ime
(
k
, 
ve
, 
£cs
, 
p£cs
);

607 
	}
}

610 
	$u£¹ime
(
KINFO
 *
k
, 
VARENT
 *
ve
)

612 
£cs
, 
p£cs
;

614 
£cs
 = 
k
->
ki_p
->
ki_ru§ge
.
ru_utime
.
tv_£c
;

615 
p£cs
 = 
k
->
ki_p
->
ki_ru§ge
.
ru_utime
.
tv_u£c
;

616 ià(
sumru§ge
) {

617 
£cs
 +ğ
k
->
ki_p
->
ki_chdutime
.
tv_£c
;

618 
p£cs
 +ğ
k
->
ki_p
->
ki_chdutime
.
tv_u£c
;

620 
	`´š‰ime
(
k
, 
ve
, 
£cs
, 
p£cs
);

621 
	}
}

624 
	$–­£d
(
KINFO
 *
k
, 
VARENT
 *
ve
)

626 
VAR
 *
v
;

627 
time_t
 
v®
;

628 
days
, 
hours
, 
mšs
, 
£cs
;

629 
obuff
[128];

631 
v
 = 
ve
->
v¬
;

632 ià(!
k
->
ki_v®id
) {

633 ()
	`´štf
("%-*s", 
v
->
width
, "-");

636 
v®
 = 
now
 - 
k
->
ki_p
->
ki_¡¬t
.
tv_£c
;

637 
days
 = 
v®
 / (24 * 60 * 60);

638 
v®
 %= 24 * 60 * 60;

639 
hours
 = 
v®
 / (60 * 60);

640 
v®
 %= 60 * 60;

641 
mšs
 = 
v®
 / 60;

642 
£cs
 = 
v®
 % 60;

643 ià(
days
 != 0)

644 ()
	`¢´štf
(
obuff
, (obuff), "%3d-%02d:%02d:%02d",

645 
days
, 
hours
, 
mšs
, 
£cs
);

646 ià(
hours
 != 0)

647 ()
	`¢´štf
(
obuff
, (obuff), "%02d:%02d:%02d",

648 
hours
, 
mšs
, 
£cs
);

650 ()
	`¢´štf
(
obuff
, (obuff), "%02d:%02d", 
mšs
, 
£cs
);

651 ()
	`´štf
("%*s", 
v
->
width
, 
obuff
);

652 
	}
}

655 
	$g‘pıu
(cÚ¡ 
KINFO
 *
k
)

657 
çu»
;

659 ià(!
Æi¡»ad
)

660 
çu»
 = 
	`dÚli¡
();

661 ià(
çu»
)

664 
	#fxtoæ
(
fix±
è(()(fix±è/ 
fsÿË
)

	)

667 ià(
k
->
ki_p
->
ki_swtime
 =ğ0 || (k->ki_p->
ki_æag
 & 
P_INMEM
) == 0)

669 ià(
¿wıu
)

670  (100.0 * 
	`fxtoæ
(
k
->
ki_p
->
ki_pùıu
));

671  (100.0 * 
	`fxtoæ
(
k
->
ki_p
->
ki_pùıu
) /

672 (1.0 - 
	`exp
(
k
->
ki_p
->
ki_swtime
 * 
	`log
(
	`fxtoæ
(
cıu
)))));

673 
	}
}

676 
	$pıu
(
KINFO
 *
k
, 
VARENT
 *
ve
)

678 
VAR
 *
v
;

680 
v
 = 
ve
->
v¬
;

681 ()
	`´štf
("%*.1f", 
v
->
width
, 
	`g‘pıu
(
k
));

682 
	}
}

685 
	$g‘pmem
(
KINFO
 *
k
)

687 
çu»
;

688 
äacmem
;

690 ià(!
Æi¡»ad
)

691 
çu»
 = 
	`dÚli¡
();

692 ià(
çu»
)

695 ià((
k
->
ki_p
->
ki_æag
 & 
P_INMEM
) == 0)

699 
äacmem
 = (()
k
->
ki_p
->
ki_rssize
è/ 
mem·ges
;

700  (100.0 * 
äacmem
);

701 
	}
}

704 
	$pmem
(
KINFO
 *
k
, 
VARENT
 *
ve
)

706 
VAR
 *
v
;

708 
v
 = 
ve
->
v¬
;

709 ()
	`´štf
("%*.1f", 
v
->
width
, 
	`g‘pmem
(
k
));

710 
	}
}

713 
	$·geš
(
KINFO
 *
k
, 
VARENT
 *
ve
)

715 
VAR
 *
v
;

717 
v
 = 
ve
->
v¬
;

718 ()
	`´štf
("%*ld", 
v
->
width
,

719 
k
->
ki_v®id
 ? k->
ki_p
->
ki_ru§ge
.
ru_majæt
 : 0);

720 
	}
}

724 
	$maxrss
(
KINFO
 *
k
 
__unu£d
, 
VARENT
 *
ve
)

726 
VAR
 *
v
;

728 
v
 = 
ve
->
v¬
;

730 ()
	`´štf
("%*s", 
v
->
width
, "-");

731 
	}
}

734 
	$´iÜ™yr
(
KINFO
 *
k
, 
VARENT
 *
ve
)

736 
VAR
 *
v
;

737 
´iÜ™y
 *
Íri
;

738 
¡r
[8];

739 
şass
, 
Ëv–
;

741 
v
 = 
ve
->
v¬
;

742 
Íri
 = &
k
->
ki_p
->
ki_´i
;

743 
şass
 = 
Íri
->
´i_şass
;

744 
Ëv–
 = 
Íri
->
´i_Ëv–
;

745 
şass
) {

746 
PRI_ITHD
:

747 
	`¢´štf
(
¡r
, (¡r), "šŒ:%u", 
Ëv–
);

749 
PRI_REALTIME
:

750 
	`¢´štf
(
¡r
, (¡r), "»®:%u", 
Ëv–
);

752 
PRI_TIMESHARE
:

753 
	`¡ºıy
(
¡r
, "normal", (str));

755 
PRI_IDLE
:

756 
	`¢´štf
(
¡r
, (¡r), "idË:%u", 
Ëv–
);

759 
	`¢´štf
(
¡r
, (¡r), "%u:%u", 
şass
, 
Ëv–
);

762 
¡r
[(str) - 1] = '\0';

763 ()
	`´štf
("%*s", 
v
->
width
, 
¡r
);

764 
	}
}

771 
	$´štv®
(*
bp
, 
VAR
 *
v
)

773 
ofmt
[32] = "%";

774 cÚ¡ *
fı
;

775 *
ı
;

777 
ı
 = 
ofmt
 + 1;

778 
fı
 = 
v
->
fmt
;

779 ià(
v
->
æag
 & 
LJUST
)

780 *
ı
++ = '-';

781 *
ı
++ = '*';

782 (*
ı
++ = *
fı
++));

784 
	#CHKINF127
(
n
è((Òè> 127è&& (
v
->
æag
 & 
INF127
è? 127 : (n))

	)

786 
v
->
ty³
) {

787 
CHAR
:

788 ()
	`´štf
(
ofmt
, 
v
->
width
, *(*)
bp
);

790 
UCHAR
:

791 ()
	`´štf
(
ofmt
, 
v
->
width
, *(
u_ch¬
 *)
bp
);

793 
SHORT
:

794 ()
	`´štf
(
ofmt
, 
v
->
width
, *(*)
bp
);

796 
USHORT
:

797 ()
	`´štf
(
ofmt
, 
v
->
width
, *(
u_shÜt
 *)
bp
);

799 
INT
:

800 ()
	`´štf
(
ofmt
, 
v
->
width
, *(*)
bp
);

802 
UINT
:

803 ()
	`´štf
(
ofmt
, 
v
->
width
, 
	`CHKINF127
(*(
u_št
 *)
bp
));

805 
LONG
:

806 ()
	`´štf
(
ofmt
, 
v
->
width
, *(*)
bp
);

808 
ULONG
:

809 ()
	`´štf
(
ofmt
, 
v
->
width
, *(
u_lÚg
 *)
bp
);

811 
KPTR
:

812 ()
	`´štf
(
ofmt
, 
v
->
width
, *(
u_lÚg
 *)
bp
);

814 
PGTOK
:

815 ()
	`´štf
(
ofmt
, 
v
->
width
, 
	`ps_pgtok
(*(
u_lÚg
 *)
bp
));

818 
	`”rx
(1, "unknowÀty³ %d", 
v
->
ty³
);

820 
	}
}

823 
	$kv¬
(
KINFO
 *
k
, 
VARENT
 *
ve
)

825 
VAR
 *
v
;

827 
v
 = 
ve
->
v¬
;

828 
	`´štv®
((*)((*)
k
->
ki_p
 + 
v
->
off
), v);

829 
	}
}

832 
	$rv¬
(
KINFO
 *
k
, 
VARENT
 *
ve
)

834 
VAR
 *
v
;

836 
v
 = 
ve
->
v¬
;

837 ià(
k
->
ki_v®id
)

838 
	`´štv®
((*)((*)(&
k
->
ki_p
->
ki_ru§ge
è+ 
v
->
off
), v);

840 ()
	`´štf
("%*s", 
v
->
width
, "-");

841 
	}
}

844 
	$emuÊame
(
KINFO
 *
k
, 
VARENT
 *
ve
)

846 
VAR
 *
v
;

848 
v
 = 
ve
->
v¬
;

849 
	`´štf
("%-*s", 
v
->
width
, *
k
->
ki_p
->
ki_emul
 ? k->ki_p->ki_emul : "-");

850 
	}
}

853 
	$Ïb–
(
KINFO
 *
k
, 
VARENT
 *
ve
)

855 *
¡ršg
;

856 
VAR
 *
v
;

857 
mac_t
 
´oşab–
;

858 
”rÜ
;

860 
v
 = 
ve
->
v¬
;

861 
¡ršg
 = 
NULL
;

862 ià(
	`mac_´•¬e_´oûss_Ïb–
(&
´oşab–
) == -1) {

863 
	`w¬n
("mac_prepare_process_label");

864 
out
;

866 
”rÜ
 = 
	`mac_g‘_pid
(
k
->
ki_p
->
ki_pid
, 
´oşab–
);

867 ià(
”rÜ
 == 0) {

868 ià(
	`mac_to_‹xt
(
´oşab–
, &
¡ršg
) == -1)

869 
¡ršg
 = 
NULL
;

871 
	`mac_ä“
(
´oşab–
);

872 
out
:

873 ià(
¡ršg
 !ğ
NULL
) {

874 ()
	`´štf
("%-*s", 
v
->
width
, 
¡ršg
);

875 
	`ä“
(
¡ršg
);

877 ()
	`´štf
("%-*s", 
v
->
width
, " -");

879 
	}
}

882 
	$s_comm
(
KINFO
 *
k
)

884 
tmpbuff
[
COMMLEN
 + 
OCOMMLEN
 + 2];

886 
	`bz”o
(
tmpbuff
, (tmpbuff));

887 ià(
showth»ads
 && 
k
->
ki_p
->
ki_numth»ads
 > 1)

888 
	`¥rštf
(
tmpbuff
, "%s/%s", 
k
->
ki_p
->
ki_comm
,

889 
k
->
ki_p
->
ki_ocomm
);

891 
	`¥rštf
(
tmpbuff
, "%s", 
k
->
ki_p
->
ki_comm
);

892  (
	`¡¾’
(
tmpbuff
));

893 
	}
}

896 
	$s_Ïb–
(
KINFO
 *
k
)

898 *
¡ršg
 = 
NULL
;

899 
mac_t
 
´oşab–
;

900 
”rÜ
, 
size
 = 0;

902 ià(
	`mac_´•¬e_´oûss_Ïb–
(&
´oşab–
) == -1) {

903 
	`w¬n
("mac_prepare_process_label");

906 
”rÜ
 = 
	`mac_g‘_pid
(
k
->
ki_p
->
ki_pid
, 
´oşab–
);

907 ià(
”rÜ
 =ğ0 && 
	`mac_to_‹xt
(
´oşab–
, &
¡ršg
) == 0) {

908 
size
 = 
	`¡¾’
(
¡ršg
);

909 
	`ä“
(
¡ršg
);

911 
	`mac_ä“
(
´oşab–
);

912  (
size
);

913 
	}
}

	@ps/ps.c

37 #iâdeà
lšt


38 cÚ¡ 
	gcİyright
[] =

44 #iâdeà
lšt


45 
	gsccsid
[] = "@(#)ps.c 8.4 (Berkeley) 4/2/94";

49 
	~<sys/cdefs.h
>

50 
__FBSDID
("$FreeBSD: src/bin/ps/ps.c,v 1.117.2.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

52 
	~<sys/·¿m.h
>

53 
	~<sys/´oc.h
>

54 
	~<sys/u£r.h
>

55 
	~<sys/¡©.h
>

56 
	~<sys/ioùl.h
>

57 
	~<sys/sysùl.h
>

58 
	~<sys/mouÁ.h
>

60 
	~<ùy³.h
>

61 
	~<”r.h
>

62 
	~<”ºo.h
>

63 
	~<fú.h
>

64 
	~<g½.h
>

65 
	~<kvm.h
>

66 
	~<lim™s.h
>

67 
	~<loÿË.h
>

68 
	~<·ths.h
>

69 
	~<pwd.h
>

70 
	~<¡dio.h
>

71 
	~<¡dlib.h
>

72 
	~<¡ršg.h
>

73 
	~<uni¡d.h
>

75 
	~"ps.h
"

77 
	#_PATH_PTS
 "/dev/±s/"

	)

79 
	#W_SEP
 " \t"

	)

80 
	#T_SEP
 ","

	)

82 #ifdeà
LAZY_PS


83 
	#DEF_UREAD
 0

	)

84 
	#OPT_LAZY_f
 "f"

	)

86 
	#DEF_UREAD
 1

	)

87 
	#OPT_LAZY_f


	)

94 
	#isdig™ch
(
Anych¬
è
	`isdig™
((
u_ch¬
)(Anych¬))

	)

96 
	gcæag
;

97 
	gev®
;

98 
time_t
 
	gnow
;

99 
	g¿wıu
;

100 
	gsumru§ge
;

101 
	g‹rmwidth
;

102 
	gtÙwidth
;

103 
	gshowth»ads
;

105 
v–i¡h—d
 
	gv¬li¡
 = 
STAILQ_HEAD_INITIALIZER
(
v¬li¡
);

107 
	gfÜûu»ad
 = 
DEF_UREAD
;

108 
kvm_t
 *
	gkd
;

109 
KINFO
 *
	gkšfo
;

110 
	gÃedcomm
;

111 
	gÃed’v
;

112 
	gÃedu£r
;

113 
	gİtçl
;

115 
	esÜt
 { 
	mDEFAULT
, 
	mSORTMEM
, 
	mSORTCPU
 } 
	gsÜtby
 = 
DEFAULT
;

117 
	gli¡šfo
;

118 
	tadd–em_¹n
(
	tli¡šfo
 *
	t_šf
, cÚ¡ *
	t_–em
);

120 
	sli¡šfo
 {

121 
	mcouÁ
;

122 
	mmaxcouÁ
;

123 
	m–emsize
;

124 
add–em_¹n
 *
	madd–em
;

125 cÚ¡ *
	mÊame
;

127 
gid_t
 *
	mgids
;

128 
pid_t
 *
	mpids
;

129 
dev_t
 *
	m‰ys
;

130 
uid_t
 *
	muids
;

131 *
	m±r
;

132 } 
	ml
;

135 
check_´ocfs
();

136 
add–em_gid
(
li¡šfo
 *, const *);

137 
add–em_pid
(
li¡šfo
 *, const *);

138 
add–em_‰y
(
li¡šfo
 *, const *);

139 
add–em_uid
(
li¡šfo
 *, const *);

140 
add_li¡
(
li¡šfo
 *, const *);

141 
desûndªt_sÜt
(
KINFO
 *, );

142 
dynsizev¬s
(
KINFO
 *);

143 *
ex·nd_li¡
(
li¡šfo
 *);

145 
fmt
(**(*)(
kvm_t
 *, cÚ¡ 
kšfo_´oc
 *, ),

146 
KINFO
 *, *, );

147 
ä“_li¡
(
li¡šfo
 *);

148 
š™_li¡
(
li¡šfo
 *, 
add–em_¹n
, , const *);

149 *
kludge_Şdps_İtiÚs
(const *, *, const *);

150 
pscomp
(const *, const *);

151 
§veu£r
(
KINFO
 *);

152 
sÿnv¬s
();

153 
sizev¬s
();

154 
u§ge
();

156 
	gdfmt
[] = "pid,tt,state,time,command";

157 
	gjfmt
[] = "user,pid,ppid,pgid,sid,jobc,state,tt,time,command";

158 
	glfmt
[] = "uid,pid,ppid,cpu,pri,nice,vsz,rss,mwchan,state,"

160 
	go1
[] = "pid";

161 
	go2
[] = "tt,state,time,command";

162 
	gufmt
[] = "user,pid,%cpu,%mem,vsz,rss,tt,state,start,time,command";

163 
	gvfmt
[] = "pid,state,time,sl,re,pagein,vsz,rss,lim,tsiz,"

165 
	gZfmt
[] = "label";

167 
	#PS_ARGS
 "AaCcde" 
OPT_LAZY_f
 "G:gHhjLlM:mN:O:o:p:rSTt:U:uvwXxZ"

	)

170 
	$maš
(
¬gc
, *
¬gv
[])

172 
li¡šfo
 
gidli¡
, 
pg½li¡
, 
pidli¡
;

173 
li¡šfo
 
ruidli¡
, 
£s¦i¡
, 
‰yli¡
, 
uidli¡
;

174 
kšfo_´oc
 *
kp
;

175 
KINFO
 *
Ãxt_KINFO
;

176 
v¬’t
 *
v’t
;

177 
wšsize
 
ws
;

178 cÚ¡ *
Æi¡f
, *
memf
;

179 *
cŞs
;

180 
®l
, 
ch
, 
–em
, 
æag
, 
_fmt
, 
i
, 
lš’o
;

181 
desûndªcy
, 
ÃÁr›s
, 
nk•t
, 
n£ËùÜs
;

182 
´th—d”
, 
wæag
, 
wh©
, 
xk“p
, 
xk“p_im¶›d
;

183 
”rbuf
[
_POSIX2_LINE_MAX
];

185 (è
	`£oÿË
(
LC_ALL
, "");

186 
	`time
(&
now
);

188 ià((
cŞs
 = 
	`g‘’v
("COLUMNS")è!ğ
NULL
 && *cols != '\0')

189 
‹rmwidth
 = 
	`©oi
(
cŞs
);

190 ià((
	`ioùl
(
STDOUT_FILENO
, 
TIOCGWINSZ
, (*)&
ws
) == -1 &&

191 
	`ioùl
(
STDERR_FILENO
, 
TIOCGWINSZ
, (*)&
ws
) == -1 &&

192 
	`ioùl
(
STDIN_FILENO
, 
TIOCGWINSZ
, (*)&
ws
) == -1) ||

193 
ws
.
ws_cŞ
 == 0)

194 
‹rmwidth
 = 79;

196 
‹rmwidth
 = 
ws
.
ws_cŞ
 - 1;

202 ià(
¬gc
 > 1)

203 
¬gv
[1] = 
	`kludge_Şdps_İtiÚs
(
PS_ARGS
,‡rgv[1],‡rgv[2]);

205 
®l
 = 
desûndªcy
 = 
_fmt
 = 
n£ËùÜs
 = 
İtçl
 = 0;

206 
´th—d”
 = 
showth»ads
 = 
wæag
 = 
xk“p_im¶›d
 = 0;

207 
xk“p
 = -1;

208 
	`š™_li¡
(&
gidli¡
, 
add–em_gid
, (
gid_t
), "group");

209 
	`š™_li¡
(&
pg½li¡
, 
add–em_pid
, (
pid_t
), "process group");

210 
	`š™_li¡
(&
pidli¡
, 
add–em_pid
, (
pid_t
), "process id");

211 
	`š™_li¡
(&
ruidli¡
, 
add–em_uid
, (
uid_t
), "ruser");

212 
	`š™_li¡
(&
£s¦i¡
, 
add–em_pid
, (
pid_t
), "session id");

213 
	`š™_li¡
(&
‰yli¡
, 
add–em_‰y
, (
dev_t
), "tty");

214 
	`š™_li¡
(&
uidli¡
, 
add–em_uid
, (
uid_t
), "user");

215 
memf
 = 
_PATH_DEVNULL
;

216 
Æi¡f
 = 
NULL
;

217 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, 
PS_ARGS
)) != -1)

218 
ch
) {

225 
n£ËùÜs
++;

226 
®l
 = 
xk“p
 = 1;

229 
n£ËùÜs
++;

230 
®l
 = 1;

233 
¿wıu
 = 1;

236 
cæag
 = 1;

239 
desûndªcy
 = 1;

242 
Ãed’v
 = 1;

244 #ifdeà
LAZY_PS


246 ià(
	`g‘uid
(è=ğ0 || 
	`g‘gid
() == 0)

247 
fÜûu»ad
 = 1;

251 
	`add_li¡
(&
gidli¡
, 
İrg
);

252 
xk“p_im¶›d
 = 1;

253 
n£ËùÜs
++;

262 
	`add_li¡
(&
pg½li¡
, 
İrg
);

263 
xk“p_im¶›d
 = 1;

264 
n£ËùÜs
++;

271 
showth»ads
 = 
KERN_PROC_INC_THREAD
;

274 
´th—d”
 = 
ws
.
ws_row
 > 5 ? ws.ws_row : 22;

277 
	`·r£fmt
(
jfmt
, 0);

278 
_fmt
 = 1;

279 
jfmt
[0] = '\0';

282 
	`showkey
();

283 
	`ex™
(0);

285 
	`·r£fmt
(
lfmt
, 0);

286 
_fmt
 = 1;

287 
lfmt
[0] = '\0';

290 
memf
 = 
İrg
;

293 
sÜtby
 = 
SORTMEM
;

296 
Æi¡f
 = 
İrg
;

299 
	`·r£fmt
(
o1
, 1);

300 
	`·r£fmt
(
İrg
, 1);

301 
	`·r£fmt
(
o2
, 1);

302 
o1
[0] = 
o2
[0] = '\0';

303 
_fmt
 = 1;

306 
	`·r£fmt
(
İrg
, 1);

307 
_fmt
 = 1;

310 
	`add_li¡
(&
pidli¡
, 
İrg
);

317 
n£ËùÜs
++;

328 
	`add_li¡
(&
ruidli¡
, 
İrg
);

329 
xk“p_im¶›d
 = 1;

330 
n£ËùÜs
++;

334 
sÜtby
 = 
SORTCPU
;

337 
sumru§ge
 = 1;

347 
	`add_li¡
(&
£s¦i¡
, 
İrg
);

348 
xk“p_im¶›d
 = 1;

349 
n£ËùÜs
++;

353 ià((
İrg
 = 
	`‰yÇme
(
STDIN_FILENO
)è=ğ
NULL
)

354 
	`”rx
(1, "stdin:‚ot‡erminal");

357 
	`add_li¡
(&
‰yli¡
, 
İrg
);

358 
xk“p_im¶›d
 = 1;

359 
n£ËùÜs
++;

363 
	`add_li¡
(&
uidli¡
, 
İrg
);

364 
xk“p_im¶›d
 = 1;

365 
n£ËùÜs
++;

368 
	`·r£fmt
(
ufmt
, 0);

369 
sÜtby
 = 
SORTCPU
;

370 
_fmt
 = 1;

371 
ufmt
[0] = '\0';

374 
	`·r£fmt
(
vfmt
, 0);

375 
sÜtby
 = 
SORTMEM
;

376 
_fmt
 = 1;

377 
vfmt
[0] = '\0';

380 ià(
wæag
)

381 
‹rmwidth
 = 
UNLIMITED
;

382 ià(
‹rmwidth
 < 131)

383 
‹rmwidth
 = 131;

384 
wæag
++;

398 
xk“p
 = 0;

401 
xk“p
 = 1;

404 
	`·r£fmt
(
Zfmt
, 0);

405 
Zfmt
[0] = '\0';

409 
	`u§ge
();

411 
¬gc
 -ğ
İtšd
;

412 
¬gv
 +ğ
İtšd
;

420 ià(
Ãed’v
 =ğ1 && 
	`check_´ocfs
() == 0)

421 
	`w¬nx
("Processƒnvironment„equires…rocfs(5)");

426 *
¬gv
) {

427 ià(!
	`isdig™ch
(**
¬gv
))

429 
	`add_li¡
(&
pidli¡
, *
¬gv
);

430 
¬gv
++;

432 ià(*
¬gv
) {

433 
	`årštf
(
¡d”r
, "%s: illegal‡rgument: %s\n",

434 
	`g‘´ogÇme
(), *
¬gv
);

435 
	`u§ge
();

437 ià(
İtçl
)

438 
	`ex™
(1);

439 ià(
xk“p
 < 0)

440 
xk“p
 = 
xk“p_im¶›d
;

442 
kd
 = 
	`kvm_İ’fes
(
Æi¡f
, 
memf
, 
NULL
, 
O_RDONLY
, 
”rbuf
);

443 ià(
kd
 == 0)

444 
	`”rx
(1, "%s", 
”rbuf
);

446 ià(!
_fmt
)

447 
	`·r£fmt
(
dfmt
, 0);

449 ià(
n£ËùÜs
 == 0) {

450 
uidli¡
.
l
.
±r
 = 
	`m®loc
((
uid_t
));

451 ià(
uidli¡
.
l
.
±r
 =ğ
NULL
)

452 
	`”rx
(1, "malloc failed");

453 
n£ËùÜs
 = 1;

454 
uidli¡
.
couÁ
 = uidli¡.
maxcouÁ
 = 1;

455 *
uidli¡
.
l
.
uids
 = 
	`g‘uid
();

462 
	`sÿnv¬s
();

471 
wh©
 = 
showth»ads
 !ğ0 ? 
KERN_PROC_ALL
 : 
KERN_PROC_PROC
;

472 
æag
 = 0;

473 ià(
n£ËùÜs
 == 1) {

474 ià(
gidli¡
.
couÁ
 == 1) {

475 
wh©
 = 
KERN_PROC_RGID
 | 
showth»ads
;

476 
æag
 = *
gidli¡
.
l
.
gids
;

477 
n£ËùÜs
 = 0;

478 } ià(
pg½li¡
.
couÁ
 == 1) {

479 
wh©
 = 
KERN_PROC_PGRP
 | 
showth»ads
;

480 
æag
 = *
pg½li¡
.
l
.
pids
;

481 
n£ËùÜs
 = 0;

482 } ià(
pidli¡
.
couÁ
 == 1) {

483 
wh©
 = 
KERN_PROC_PID
 | 
showth»ads
;

484 
æag
 = *
pidli¡
.
l
.
pids
;

485 
n£ËùÜs
 = 0;

486 } ià(
ruidli¡
.
couÁ
 == 1) {

487 
wh©
 = 
KERN_PROC_RUID
 | 
showth»ads
;

488 
æag
 = *
ruidli¡
.
l
.
uids
;

489 
n£ËùÜs
 = 0;

490 } ià(
£s¦i¡
.
couÁ
 == 1) {

491 
wh©
 = 
KERN_PROC_SESSION
 | 
showth»ads
;

492 
æag
 = *
£s¦i¡
.
l
.
pids
;

493 
n£ËùÜs
 = 0;

494 } ià(
‰yli¡
.
couÁ
 == 1) {

495 
wh©
 = 
KERN_PROC_TTY
 | 
showth»ads
;

496 
æag
 = *
‰yli¡
.
l
.
‰ys
;

497 
n£ËùÜs
 = 0;

498 } ià(
uidli¡
.
couÁ
 == 1) {

499 
wh©
 = 
KERN_PROC_UID
 | 
showth»ads
;

500 
æag
 = *
uidli¡
.
l
.
uids
;

501 
n£ËùÜs
 = 0;

502 } ià(
®l
) {

504 
n£ËùÜs
 = 0;

511 
ÃÁr›s
 = -1;

512 
kp
 = 
	`kvm_g‘´ocs
(
kd
, 
wh©
, 
æag
, &
ÃÁr›s
);

513 ià((
kp
 =ğ
NULL
 && 
ÃÁr›s
 > 0) || (kp != NULL &&‚entries < 0))

514 
	`”rx
(1, "%s", 
	`kvm_g‘”r
(
kd
));

515 
nk•t
 = 0;

516 ià(
ÃÁr›s
 > 0) {

517 ià((
kšfo
 = 
	`m®loc
(
ÃÁr›s
 * (*kšfo))è=ğ
NULL
)

518 
	`”rx
(1, "malloc failed");

519 
i
 = 
ÃÁr›s
; --˜>ğ0; ++
kp
) {

525 ià(
pidli¡
.
couÁ
 > 0) {

526 
–em
 = 0;ƒËm < 
pidli¡
.
couÁ
;ƒlem++)

527 ià(
kp
->
ki_pid
 =ğ
pidli¡
.
l
.
pids
[
–em
])

528 
k“p™
;

535 ià(
xk“p
 == 0) {

536 ià((
kp
->
ki_tdev
 =ğ
NODEV
 ||

537 (
kp
->
ki_æag
 & 
P_CONTROLT
) == 0))

540 ià(
n£ËùÜs
 == 0)

541 
k“p™
;

542 ià(
gidli¡
.
couÁ
 > 0) {

543 
–em
 = 0;ƒËm < 
gidli¡
.
couÁ
;ƒlem++)

544 ià(
kp
->
ki_rgid
 =ğ
gidli¡
.
l
.
gids
[
–em
])

545 
k“p™
;

547 ià(
pg½li¡
.
couÁ
 > 0) {

548 
–em
 = 0;ƒËm < 
pg½li¡
.
couÁ
;ƒlem++)

549 ià(
kp
->
ki_pgid
 ==

550 
pg½li¡
.
l
.
pids
[
–em
])

551 
k“p™
;

553 ià(
ruidli¡
.
couÁ
 > 0) {

554 
–em
 = 0;ƒËm < 
ruidli¡
.
couÁ
;ƒlem++)

555 ià(
kp
->
ki_ruid
 ==

556 
ruidli¡
.
l
.
uids
[
–em
])

557 
k“p™
;

559 ià(
£s¦i¡
.
couÁ
 > 0) {

560 
–em
 = 0;ƒËm < 
£s¦i¡
.
couÁ
;ƒlem++)

561 ià(
kp
->
ki_sid
 =ğ
£s¦i¡
.
l
.
pids
[
–em
])

562 
k“p™
;

564 ià(
‰yli¡
.
couÁ
 > 0) {

565 
–em
 = 0;ƒËm < 
‰yli¡
.
couÁ
;ƒlem++)

566 ià(
kp
->
ki_tdev
 =ğ
‰yli¡
.
l
.
‰ys
[
–em
])

567 
k“p™
;

569 ià(
uidli¡
.
couÁ
 > 0) {

570 
–em
 = 0;ƒËm < 
uidli¡
.
couÁ
;ƒlem++)

571 ià(
kp
->
ki_uid
 =ğ
uidli¡
.
l
.
uids
[
–em
])

572 
k“p™
;

580 
k“p™
:

581 
Ãxt_KINFO
 = &
kšfo
[
nk•t
];

582 
Ãxt_KINFO
->
ki_p
 = 
kp
;

583 
Ãxt_KINFO
->
ki_d
.
Ëv–
 = 0;

584 
Ãxt_KINFO
->
ki_d
.
´efix
 = 
NULL
;

585 
Ãxt_KINFO
->
ki_pıu
 = 
	`g‘pıu
(next_KINFO);

586 ià(
sÜtby
 =ğ
SORTMEM
)

587 
Ãxt_KINFO
->
ki_memsize
 = 
kp
->
ki_tsize
 +

588 
kp
->
ki_dsize
 + kp->
ki_ssize
;

589 ià(
Ãedu£r
)

590 
	`§veu£r
(
Ãxt_KINFO
);

591 
	`dynsizev¬s
(
Ãxt_KINFO
);

592 
nk•t
++;

596 
	`sizev¬s
();

601 
	`´šth—d”
();

602 ià(
nk•t
 == 0)

603 
	`ex™
(1);

608 
	`qsÜt
(
kšfo
, 
nk•t
, (
KINFO
), 
pscomp
);

613 ià(
desûndªcy
)

614 
	`desûndªt_sÜt
(
kšfo
, 
nk•t
);

619 
i
 = 
lš’o
 = 0; i < 
nk•t
; i++) {

620 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
) {

621 (
v’t
->
v¬
->
İroc
)(&
kšfo
[
i
], vent);

622 ià(
	`STAILQ_NEXT
(
v’t
, 
Ãxt_ve
è!ğ
NULL
)

623 ()
	`putch¬
(' ');

625 ()
	`putch¬
('\n');

626 ià(
´th—d”
 && 
lš’o
++ ==…rtheader - 4) {

627 ()
	`putch¬
('\n');

628 
	`´šth—d”
();

629 
lš’o
 = 0;

632 
	`ä“_li¡
(&
gidli¡
);

633 
	`ä“_li¡
(&
pidli¡
);

634 
	`ä“_li¡
(&
pg½li¡
);

635 
	`ä“_li¡
(&
ruidli¡
);

636 
	`ä“_li¡
(&
£s¦i¡
);

637 
	`ä“_li¡
(&
‰yli¡
);

638 
	`ä“_li¡
(&
uidli¡
);

639 
i
 = 0; i < 
nk•t
; i++)

640 
	`ä“
(
kšfo
[
i
].
ki_d
.
´efix
);

641 
	`ä“
(
kšfo
);

643 
	`ex™
(
ev®
);

644 
	}
}

647 
	$add–em_gid
(
li¡šfo
 *
šf
, cÚ¡ *
–em
)

649 
group
 *
g½
;

650 cÚ¡ *
ÇmeÜID
;

651 *
’dp
;

652 
u_lÚg
 
big‹mp
;

654 ià(*
–em
 =ğ'\0' || 
	`¡¾’
ÓËmè>ğ
MAXLOGNAME
) {

655 ià(*
–em
 == '\0')

656 
	`w¬nx
("Inv®id (z”o-Ëngthè% Çme", 
šf
->
Êame
);

658 
	`w¬nx
("% ÇmtoØlÚg: %s", 
šf
->
Êame
, 
–em
);

659 
İtçl
 = 1;

672 
g½
 = 
NULL
;

673 
ÇmeÜID
 = "named";

674 
”ºo
 = 0;

675 
big‹mp
 = 
	`¡¹oul
(
–em
, &
’dp
, 10);

676 ià(
”ºo
 =ğ0 && *
’dp
 =ğ'\0' && 
big‹mp
 <ğ
GID_MAX
) {

677 
ÇmeÜID
 = "name or ID matches";

678 
g½
 = 
	`g‘grgid
((
gid_t
)
big‹mp
);

680 ià(
g½
 =ğ
NULL
)

681 
g½
 = 
	`g‘gºam
(
–em
);

682 ià(
g½
 =ğ
NULL
) {

683 
	`w¬nx
("NØ% % '%s'", 
šf
->
Êame
, 
ÇmeÜID
, 
–em
);

684 
İtçl
 = 1;

687 ià(
šf
->
couÁ
 >ğšf->
maxcouÁ
)

688 
	`ex·nd_li¡
(
šf
);

689 
šf
->
l
.
gids
[(šf->
couÁ
)++] = 
g½
->
gr_gid
;

691 
	}
}

693 
	#BSD_PID_MAX
 99999

	)

695 
	$add–em_pid
(
li¡šfo
 *
šf
, cÚ¡ *
–em
)

697 *
’dp
;

698 
‹mpid
;

700 ià(*
–em
 == '\0') {

701 
	`w¬nx
("Invalid (zero-length)…rocess id");

702 
İtçl
 = 1;

706 
”ºo
 = 0;

707 
‹mpid
 = 
	`¡¹Ş
(
–em
, &
’dp
, 10);

708 ià(*
’dp
 !ğ'\0' || 
‹mpid
 < 0 || 
–em
 ==ƒndp) {

709 
	`w¬nx
("Inv®id %s: %s", 
šf
->
Êame
, 
–em
);

710 
”ºo
 = 
ERANGE
;

711 } ià(
”ºo
 !ğ0 || 
‹mpid
 > 
BSD_PID_MAX
) {

712 
	`w¬nx
("% toØÏrge: %s", 
šf
->
Êame
, 
–em
);

713 
”ºo
 = 
ERANGE
;

715 ià(
”ºo
 =ğ
ERANGE
) {

716 
İtçl
 = 1;

719 ià(
šf
->
couÁ
 >ğšf->
maxcouÁ
)

720 
	`ex·nd_li¡
(
šf
);

721 
šf
->
l
.
pids
[(šf->
couÁ
)++] = 
‹mpid
;

723 
	}
}

724 #undeà
BSD_PID_MAX


734 
	$add–em_‰y
(
li¡šfo
 *
šf
, cÚ¡ *
–em
)

736 cÚ¡ *
‰y·th
;

737 
¡©
 
sb
;

738 
·thbuf
[
PATH_MAX
], 
·thbuf2
[PATH_MAX], 
·thbuf3
[PATH_MAX];

740 
‰y·th
 = 
NULL
;

741 
·thbuf2
[0] = '\0';

742 
·thbuf3
[0] = '\0';

743 *
–em
) {

745 
‰y·th
 = 
–em
;

748 ià(
	`¡rcmp
(
–em
, "co") == 0) {

749 
‰y·th
 = 
_PATH_CONSOLE
;

754 
	`¡¾ıy
(
·thbuf
, 
_PATH_DEV
, (pathbuf));

755 
	`¡¾ÿt
(
·thbuf
, 
–em
, (pathbuf));

756 
‰y·th
 = 
·thbuf
;

757 ià(
	`¡ºcmp
(
·thbuf
, 
_PATH_TTY
, 
	`¡¾’
(_PATH_TTY)) == 0)

759 ià(
	`¡ºcmp
(
·thbuf
, 
_PATH_PTS
, 
	`¡¾’
(_PATH_PTS)) == 0)

761 ià(
	`¡rcmp
(
·thbuf
, 
_PATH_CONSOLE
) == 0)

764 
	`¡¾ıy
(
·thbuf2
, 
_PATH_TTY
, (pathbuf2));

765 
	`¡¾ÿt
(
·thbuf2
, 
–em
, (pathbuf2));

766 ià(
	`¡©
(
·thbuf2
, &
sb
è=ğ0 && 
	`S_ISCHR
(sb.
¡_mode
)) {

768 
‰y·th
 = 
NULL
;

772 
	`¡¾ıy
(
·thbuf3
, 
_PATH_PTS
, (pathbuf3));

773 
	`¡¾ÿt
(
·thbuf3
, 
–em
, (pathbuf3));

774 ià(
	`¡©
(
·thbuf3
, &
sb
è=ğ0 && 
	`S_ISCHR
(sb.
¡_mode
)) {

776 
‰y·th
 = 
NULL
;

781 ià(
‰y·th
) {

782 ià(
	`¡©
(
‰y·th
, &
sb
) == -1) {

783 ià(
·thbuf3
[0] != '\0')

784 
	`w¬n
("%s, %s,‡nd %s", 
·thbuf3
, 
·thbuf2
,

785 
‰y·th
);

787 
	`w¬n
("%s", 
‰y·th
);

788 
İtçl
 = 1;

791 ià(!
	`S_ISCHR
(
sb
.
¡_mode
)) {

792 ià(
·thbuf3
[0] != '\0')

793 
	`w¬nx
("%s, %s,‡nd %s: Not‡erminal",

794 
·thbuf3
, 
·thbuf2
, 
‰y·th
);

796 
	`w¬nx
("%s: NÙ‡”mš®", 
‰y·th
);

797 
İtçl
 = 1;

801 ià(
šf
->
couÁ
 >ğšf->
maxcouÁ
)

802 
	`ex·nd_li¡
(
šf
);

803 
šf
->
l
.
‰ys
[(šf->
couÁ
)++] = 
sb
.
¡_rdev
;

805 
	}
}

808 
	$add–em_uid
(
li¡šfo
 *
šf
, cÚ¡ *
–em
)

810 
·sswd
 *
pwd
;

811 *
’dp
;

812 
u_lÚg
 
big‹mp
;

814 ià(*
–em
 =ğ'\0' || 
	`¡¾’
ÓËmè>ğ
MAXLOGNAME
) {

815 ià(*
–em
 == '\0')

816 
	`w¬nx
("Inv®id (z”o-Ëngthè% Çme", 
šf
->
Êame
);

818 
	`w¬nx
("% ÇmtoØlÚg: %s", 
šf
->
Êame
, 
–em
);

819 
İtçl
 = 1;

823 
pwd
 = 
	`g‘pwÇm
(
–em
);

824 ià(
pwd
 =ğ
NULL
) {

825 
”ºo
 = 0;

826 
big‹mp
 = 
	`¡¹oul
(
–em
, &
’dp
, 10);

827 ià(
”ºo
 !ğ0 || *
’dp
 !ğ'\0' || 
big‹mp
 > 
UID_MAX
)

828 
	`w¬nx
("NØ% Çmed '%s'", 
šf
->
Êame
, 
–em
);

831 
pwd
 = 
	`g‘pwuid
((
uid_t
)
big‹mp
);

832 ià(
pwd
 =ğ
NULL
)

833 
	`w¬nx
("No %s‚ame or ID matches '%s'",

834 
šf
->
Êame
, 
–em
);

837 ià(
pwd
 =ğ
NULL
) {

843 
İtçl
 = 1;

846 ià(
šf
->
couÁ
 >ğšf->
maxcouÁ
)

847 
	`ex·nd_li¡
(
šf
);

848 
šf
->
l
.
uids
[(šf->
couÁ
)++] = 
pwd
->
pw_uid
;

850 
	}
}

853 
	$add_li¡
(
li¡šfo
 *
šf
, cÚ¡ *
¬gp
)

855 cÚ¡ *
§v•
;

856 *
ı
, *
’dp
;

857 
toŞÚg
;

858 
–emcİy
[
PATH_MAX
];

860 ià(*
¬gp
 == 0)

861 
šf
->
	`add–em
(šf, 
–emcİy
);

862 *
¬gp
 != '\0') {

863 *
¬gp
 !ğ'\0' && 
	`¡rchr
(
W_SEP
, *¬gpè!ğ
NULL
)

864 
¬gp
++;

865 
§v•
 = 
¬gp
;

866 
toŞÚg
 = 0;

867 
ı
 = 
–emcİy
;

868 ià(
	`¡rchr
(
T_SEP
, *
¬gp
è=ğ
NULL
) {

869 
’dp
 = 
–emcİy
 + (elemcopy) - 1;

870 *
¬gp
 !ğ'\0' && 
ı
 <ğ
’dp
 &&

871 
	`¡rchr
(
W_SEP
 
T_SEP
, *
¬gp
è=ğ
NULL
)

872 *
ı
++ = *
¬gp
++;

873 ià(
ı
 > 
’dp
)

874 
toŞÚg
 = 1;

876 ià(!
toŞÚg
) {

877 *
ı
 = '\0';

881 
šf
->
	`add–em
(šf, 
–emcİy
);

887 *
¬gp
 !ğ'\0' && 
	`¡rchr
(
W_SEP
 
T_SEP
,

888 *
¬gp
è=ğ
NULL
)

889 
¬gp
++;

890 
	`w¬nx
("V®utoØlÚg: %.*s", ()(
¬gp
 - 
§v•
),

891 
§v•
);

892 
İtçl
 = 1;

899 *
¬gp
 !ğ'\0' && 
	`¡rchr
(
W_SEP
, *¬gpè!ğ
NULL
)

900 
¬gp
++;

901 ià(*
¬gp
 !ğ'\0' && 
	`¡rchr
(
T_SEP
, *¬gpè!ğ
NULL
) {

902 
¬gp
++;

904 ià(*
¬gp
 == '\0')

905 
šf
->
	`add–em
(šf, 
¬gp
);

908 
	}
}

911 
	$desûndªt_sÜt
(
KINFO
 *
ki
, 
™ems
)

913 
d¡
, 
lvl
, 
maxlvl
, 
n
, 
nd¡
, 
n¤c
, 
siblšgs
, 
¤c
;

914 *
·th
;

915 
KINFO
 
kn
;

921 
¤c
 = 0;

922 
maxlvl
 = 0;

923 
¤c
 < 
™ems
) {

924 ià(
ki
[
¤c
].
ki_d
.
Ëv–
) {

925 
¤c
++;

928 
n¤c
 = 1; 
¤c
 +‚¤ø< 
™ems
;‚src++)

929 ià(!
ki
[
¤c
 + 
n¤c
].
ki_d
.
Ëv–
)

932 
d¡
 = 0; d¡ < 
™ems
; dst++) {

933 ià(
ki
[
d¡
].
ki_p
->
ki_pid
 =ğki[
¤c
].ki_p->ki_pid)

935 ià(
ki
[
d¡
].
ki_p
->
ki_pid
 =ğki[
¤c
].ki_p->
ki_µid
)

939 ià(
d¡
 =ğ
™ems
) {

940 
¤c
 +ğ
n¤c
;

944 
nd¡
 = 1; 
d¡
 +‚d¡ < 
™ems
;‚dst++)

945 ià(
ki
[
d¡
 + 
nd¡
].
ki_d
.
Ëv–
 <= ki[dst].ki_d.level)

948 
n
 = 
¤c
;‚ < srø+ 
n¤c
;‚++) {

949 
ki
[
n
].
ki_d
.
Ëv–
 +ğki[
d¡
].ki_d.level + 1;

950 ià(
maxlvl
 < 
ki
[
n
].
ki_d
.
Ëv–
)

951 
maxlvl
 = 
ki
[
n
].
ki_d
.
Ëv–
;

954 
n¤c
) {

955 ià(
¤c
 < 
d¡
) {

956 
kn
 = 
ki
[
¤c
];

957 
	`memmove
(
ki
 + 
¤c
, ki + src + 1,

958 (
d¡
 - 
¤c
 + 
nd¡
 - 1è*  *
ki
);

959 
ki
[
d¡
 + 
nd¡
 - 1] = 
kn
;

960 
n¤c
--;

961 
d¡
--;

962 
nd¡
++;

963 } ià(
¤c
 !ğ
d¡
 + 
nd¡
) {

964 
kn
 = 
ki
[
¤c
];

965 
	`memmove
(
ki
 + 
d¡
 + 
nd¡
 + 1, ki + dst +‚dst,

966 (
¤c
 - 
d¡
 - 
nd¡
è*  *
ki
);

967 
ki
[
d¡
 + 
nd¡
] = 
kn
;

968 
nd¡
++;

969 
n¤c
--;

970 
¤c
++;

972 
nd¡
 +ğ
n¤c
;

973 
¤c
 +ğ
n¤c
;

974 
n¤c
 = 0;

983 
·th
 = 
	`m®loc
((
maxlvl
 + 7) / 8);

984 
	`mem£t
(
·th
, '\0', (
maxlvl
 + 7) / 8);

985 
¤c
 = 0; srø< 
™ems
; src++) {

986 ià((
lvl
 = 
ki
[
¤c
].
ki_d
.
Ëv–
) == 0) {

987 
ki
[
¤c
].
ki_d
.
´efix
 = 
NULL
;

990 ià((
ki
[
¤c
].
ki_d
.
´efix
 = 
	`m®loc
(
lvl
 * 2 + 1)è=ğ
NULL
)

991 
	`”rx
(1, "malloc failed");

992 
n
 = 0;‚ < 
lvl
 - 2;‚++) {

993 
ki
[
¤c
].
ki_d
.
´efix
[
n
 * 2] =

994 
·th
[
n
 / 8] & 1 << (n % 8) ? '|' : ' ';

995 
ki
[
¤c
].
ki_d
.
´efix
[
n
 * 2 + 1] = ' ';

997 ià(
n
 =ğ
lvl
 - 2) {

999 
siblšgs
 = 0, 
d¡
 = 
¤c
 + 1; d¡ < 
™ems
; dst++) {

1000 ià(
ki
[
d¡
].
ki_d
.
Ëv–
 > 
lvl
)

1002 ià(
ki
[
d¡
].
ki_d
.
Ëv–
 =ğ
lvl
)

1003 
siblšgs
 = 1;

1006 ià(
siblšgs
)

1007 
·th
[
n
 / 8] |= 1 << (n % 8);

1009 
·th
[
n
 / 8] &= ~(1 << (n % 8));

1010 
ki
[
¤c
].
ki_d
.
´efix
[
n
 * 2] = 
siblšgs
 ? '|' : '`';

1011 
ki
[
¤c
].
ki_d
.
´efix
[
n
 * 2 + 1] = '-';

1012 
n
++;

1014 
	`¡rıy
(
ki
[
¤c
].
ki_d
.
´efix
 + 
n
 * 2, "- ");

1016 
	`ä“
(
·th
);

1017 
	}
}

1020 
	$ex·nd_li¡
(
li¡šfo
 *
šf
)

1022 *
Ãwli¡
;

1023 
Ãwmax
;

1025 
Ãwmax
 = (
šf
->
maxcouÁ
 + 1) << 1;

1026 
Ãwli¡
 = 
	`»®loc
(
šf
->
l
.
±r
, 
Ãwmax
 * inf->
–emsize
);

1027 ià(
Ãwli¡
 =ğ
NULL
) {

1028 
	`ä“
(
šf
->
l
.
±r
);

1029 
	`”rx
(1, "»®loøtØ%d %s çed", 
Ãwmax
, 
šf
->
Êame
);

1031 
šf
->
maxcouÁ
 = 
Ãwmax
;

1032 
šf
->
l
.
±r
 = 
Ãwli¡
;

1034  (
Ãwli¡
);

1035 
	}
}

1038 
	$ä“_li¡
(
li¡šfo
 *
šf
)

1041 
šf
->
couÁ
 = inf->
–emsize
 = inf->
maxcouÁ
 = 0;

1042 ià(
šf
->
l
.
±r
 !ğ
NULL
)

1043 
	`ä“
(
šf
->
l
.
±r
);

1044 
šf
->
add–em
 = 
NULL
;

1045 
šf
->
Êame
 = 
NULL
;

1046 
šf
->
l
.
±r
 = 
NULL
;

1047 
	}
}

1050 
	$š™_li¡
(
li¡šfo
 *
šf
, 
add–em_¹n
 
¬Š
, 
–emsize
,

1051 cÚ¡ *
Êame
)

1054 
šf
->
couÁ
 = inf->
maxcouÁ
 = 0;

1055 
šf
->
–emsize
 =ƒlemsize;

1056 
šf
->
add–em
 = 
¬Š
;

1057 
šf
->
Êame
 =†name;

1058 
šf
->
l
.
±r
 = 
NULL
;

1059 
	}
}

1061 
VARENT
 *

1062 
	$fšd_v¬’Œy
(
VAR
 *
v
)

1064 
v¬’t
 *
v’t
;

1066 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
) {

1067 ià(
	`¡rcmp
(
v’t
->
v¬
->
Çme
, 
v
->name) == 0)

1068  
v’t
;

1070  
NULL
;

1071 
	}
}

1074 
	$sÿnv¬s
()

1076 
v¬’t
 *
v’t
;

1077 
VAR
 *
v
;

1079 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
) {

1080 
v
 = 
v’t
->
v¬
;

1081 ià(
v
->
æag
 & 
DSIZ
) {

1082 
v
->
dwidth
 = v->
width
;

1083 
v
->
width
 = 0;

1085 ià(
v
->
æag
 & 
USER
)

1086 
Ãedu£r
 = 1;

1087 ià(
v
->
æag
 & 
COMM
)

1088 
Ãedcomm
 = 1;

1090 
	}
}

1093 
	$dynsizev¬s
(
KINFO
 *
ki
)

1095 
v¬’t
 *
v’t
;

1096 
VAR
 *
v
;

1097 
i
;

1099 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
) {

1100 
v
 = 
v’t
->
v¬
;

1101 ià(!(
v
->
æag
 & 
DSIZ
))

1103 
i
 = (
v
->
¥roc
)Ğ
ki
);

1104 ià(
v
->
width
 < 
i
)

1105 
v
->
width
 = 
i
;

1106 ià(
v
->
width
 > v->
dwidth
)

1107 
v
->
width
 = v->
dwidth
;

1109 
	}
}

1112 
	$sizev¬s
()

1114 
v¬’t
 *
v’t
;

1115 
VAR
 *
v
;

1116 
i
;

1118 
	`STAILQ_FOREACH
(
v’t
, &
v¬li¡
, 
Ãxt_ve
) {

1119 
v
 = 
v’t
->
v¬
;

1120 
i
 = 
	`¡¾’
(
v’t
->
h—d”
);

1121 ià(
v
->
width
 < 
i
)

1122 
v
->
width
 = 
i
;

1123 
tÙwidth
 +ğ
v
->
width
 + 1;

1125 
tÙwidth
--;

1126 
	}
}

1129 
fmt
(**(*
â
)(
kvm_t
 *, cÚ¡ 
kšfo_´oc
 *, ), 
KINFO
 *
ki
,

1130 *
comm
, 
maxËn
)

1132 cÚ¡ *
	gs
;

1134 
	gs
 = 
fmt_¬gv
((*
â
)(
kd
, 
ki
->
ki_p
, 
‹rmwidth
), 
comm
, 
maxËn
);

1135  (
	gs
);

1138 
	#UREADOK
(
ki
è(
fÜûu»ad
 || (ki->
ki_p
->
ki_æag
 & 
P_INMEM
))

	)

1141 
	$§veu£r
(
KINFO
 *
ki
)

1144 ià(
ki
->
ki_p
->
ki_æag
 & 
P_INMEM
) {

1151 
ki
->
ki_v®id
 = 1;

1153 
ki
->
ki_v®id
 = 0;

1157 ià(
Ãedcomm
) {

1158 ià(
ki
->
ki_p
->
ki_¡©
 =ğ
SZOMB
)

1159 
ki
->
ki_¬gs
 = 
	`¡rdup
("<defunct>");

1160 ià(
	`UREADOK
(
ki
è|| (ki->
ki_p
->
ki_¬gs
 !ğ
NULL
))

1161 
ki
->
ki_¬gs
 = 
	`¡rdup
(
	`fmt
(
kvm_g‘¬gv
, ki,

1162 
ki
->
ki_p
->
ki_comm
, 
MAXCOMLEN
));

1164 
	`a¥rštf
(&
ki
->
ki_¬gs
, "(%s)", ki->
ki_p
->
ki_comm
);

1165 ià(
ki
->
ki_¬gs
 =ğ
NULL
)

1166 
	`”rx
(1, "malloc failed");

1168 
ki
->
ki_¬gs
 = 
NULL
;

1170 ià(
Ãed’v
) {

1171 ià(
	`UREADOK
(
ki
))

1172 
ki
->
ki_’v
 = 
	`¡rdup
(
	`fmt
(
kvm_g‘’vv
, ki,

1173 (*)
NULL
, 0));

1175 
ki
->
ki_’v
 = 
	`¡rdup
("()");

1176 ià(
ki
->
ki_’v
 =ğ
NULL
)

1177 
	`”rx
(1, "malloc failed");

1179 
ki
->
ki_’v
 = 
NULL
;

1181 
	}
}

1184 
	#DIFF_RETURN
(
a
, 
b
, 
f›ld
) do { \

1185 ià((
a
)->
f›ld
 !ğ(
b
)->field) \

1186  (((
a
)->
f›ld
 < (
b
)->field) ? -1 : 1); \

1187 } 0)

	)

1190 
	$pscomp
(cÚ¡ *
a
, cÚ¡ *
b
)

1192 cÚ¡ 
KINFO
 *
ka
, *
kb
;

1194 
ka
 = 
a
;

1195 
kb
 = 
b
;

1197 ià(
sÜtby
 =ğ
SORTCPU
)

1198 
	`DIFF_RETURN
(
kb
, 
ka
, 
ki_pıu
);

1199 ià(
sÜtby
 =ğ
SORTMEM
)

1200 
	`DIFF_RETURN
(
kb
, 
ka
, 
ki_memsize
);

1205 ià(
ka
->
ki_p
->
ki_tdev
 !ğ
kb
->ki_p->ki_tdev) {

1206 ià(
ka
->
ki_p
->
ki_tdev
 =ğ
NODEV
)

1208 ià(
kb
->
ki_p
->
ki_tdev
 =ğ
NODEV
)

1210 
	`DIFF_RETURN
(
ka
, 
kb
, 
ki_p
->
ki_tdev
);

1214 
	`DIFF_RETURN
(
ka
, 
kb
, 
ki_p
->
ki_pid
);

1215 
	`DIFF_RETURN
(
ka
, 
kb
, 
ki_p
->
ki_tid
);

1217 
	}
}

1218 #undeà
DIFF_RETURN


1232 
	$kludge_Şdps_İtiÚs
(cÚ¡ *
İi¡
, *
Üigv®
, cÚ¡ *
Ãxrg
)

1234 
size_t
 
Ën
;

1235 *
¬gp
, *
ı
, *
Ãwİts
, *
ns
, *
İ
, *
pidp
;

1241 
¬gp
 = 
NULL
;

1242 ià(
İi¡
 !ğ
NULL
) {

1243 
ı
 = 
Üigv®
; *cp != '\0'; cp++) {

1244 
İ
 = 
	`¡rchr
(
İi¡
, *
ı
);

1245 ià((
İ
 !ğ
NULL
) && *(optp + 1) == ':') {

1246 
¬gp
 = 
ı
;

1251 ià(
¬gp
 !ğ
NULL
 && *
Üigv®
 == '-')

1252  (
Üigv®
);

1266 
Ën
 = 
	`¡¾’
(
Üigv®
);

1267 
ı
 = 
Üigv®
 + 
Ën
 - 1;

1268 
pidp
 = 
NULL
;

1269 ià(*
ı
 =ğ't' && *
Üigv®
 !ğ'-' && c°=ğ
¬gp
) {

1270 ià(
Ãxrg
 =ğ
NULL
 || *Ãxrg =ğ'-' || 
	`isdig™ch
(*nextarg))

1271 *
ı
 = 'T';

1272 } ià(
¬gp
 =ğ
NULL
) {

1279 ià(
	`isdig™ch
(*
ı
)) {

1280 
ı
 >ğ
Üigv®
 && (*ı =ğ',' || 
	`isdig™ch
(*cp)))

1281 --
ı
;

1282 
pidp
 = 
ı
 + 1;

1290 ià(*
Üigv®
 =ğ'-' && 
pidp
 =ğ
NULL
)

1291  (
Üigv®
);

1297 ià((
Ãwİts
 = 
ns
 = 
	`m®loc
(
Ën
 + 3)è=ğ
NULL
)

1298 
	`”rx
(1, "malloc failed");

1300 ià(*
Üigv®
 != '-')

1301 *
ns
++ = '-';

1303 ià(
pidp
 =ğ
NULL
)

1304 
	`¡rıy
(
ns
, 
Üigv®
);

1310 
Ën
 = 
pidp
 - 
Üigv®
;

1311 
	`memıy
(
ns
, 
Üigv®
, 
Ën
);

1312 
ns
 +ğ
Ën
;

1313 *
ns
++ = 'p';

1314 
	`¡rıy
(
ns
, 
pidp
);

1317  (
Ãwİts
);

1318 
	}
}

1321 
	$check_´ocfs
()

1323 
¡©fs
 
mÁ
;

1325 ià(
	`¡©fs
("/´oc", &
mÁ
) < 0)

1327 ià(
	`¡rcmp
(
mÁ
.
f_f¡y³Çme
, "procfs") != 0)

1330 
	}
}

1333 
	$u§ge
()

1335 
	#SINGLE_OPTS
 "[-aCcde" 
OPT_LAZY_f
 "HhjlmrSTuvwXxZ]"

	)

1337 ()
	`årštf
(
¡d”r
, "%s\n%s\n%s\n%s\n",

1338 "u§ge:… " 
SINGLE_OPTS
 " [-O fmt | -o fmt] [-G gid[,gid...]]",

1342 
	`ex™
(1);

1343 
	}
}

	@ps/ps.h

33 
	~<sys/queue.h
>

35 
	#UNLIMITED
 0

	)

36 
	ety³
 { 
	mCHAR
, 
	mUCHAR
, 
	mSHORT
, 
	mUSHORT
, 
	mINT
, 
	mUINT
, 
	mLONG
, 
	mULONG
, 
	mKPTR
, 
	mPGTOK
 };

38 
	skšfo
 {

39 
kšfo_´oc
 *
	mki_p
;

40 *
	mki_¬gs
;

41 *
	mki_’v
;

42 
	mki_v®id
;

43 
	mki_pıu
;

44 
£gsz_t
 
	mki_memsize
;

46 
	mËv–
;

47 *
	m´efix
;

48 } 
	mki_d
;

49 } 
	tKINFO
;

52 
	sv¬’t
 {

53 
STAILQ_ENTRY
(
v¬’t
è
	mÃxt_ve
;

54 cÚ¡ *
	mh—d”
;

55 
v¬
 *
	mv¬
;

56 } 
	tVARENT
;

58 
	sv¬
 {

59 cÚ¡ *
	mÇme
;

60 cÚ¡ *
	mh—d”
;

61 cÚ¡ *
	m®Ÿs
;

62 
	#COMM
 0x01

	)

63 
	#LJUST
 0x02

	)

64 
	#USER
 0x04

	)

65 
	#DSIZ
 0x08

	)

66 
	#INF127
 0x10

	)

67 
u_št
 
	mæag
;

69 (*
	mİroc
)(
	mkšfo
 *, 
	mv¬’t
 *);

71 (*
	m¥roc
)(
	mkšfo
 *);

72 
	mwidth
;

78 
size_t
 
	moff
;

79 
ty³
 
	mty³
;

80 cÚ¡ *
	mfmt
;

81 
	mdwidth
;

85 } 
	tVAR
;

87 
	~"ex‹º.h
"

	@pwait/pwait.c

34 
	~<sys/cdefs.h
>

35 
__FBSDID
("$FreeBSD: src/bin/pwait/pwait.c,v 1.1.2.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

37 
	~<sys/ty³s.h
>

38 
	~<sys/ev’t.h
>

39 
	~<sys/time.h
>

40 
	~<sys/wa™.h
>

42 
	~<”r.h
>

43 
	~<”ºo.h
>

44 
	~<fú.h
>

45 
	~<sigÇl.h
>

46 
	~<¡dio.h
>

47 
	~<¡dlib.h
>

48 
	~<¡ršg.h
>

49 
	~<sy£x™s.h
>

50 
	~<uni¡d.h
>

53 
	$u§ge
()

56 
	`årštf
(
¡d”r
, "usage:…wait [-v]…id ...\n");

57 
	`ex™
(
EX_USAGE
);

58 
	}
}

64 
	$maš
(
¬gc
, *
¬gv
[])

66 
kq
;

67 
kev’t
 *
e
;

68 
v”bo£
 = 0;

69 
İt
, 
Æeá
, 
n
, 
i
, 
du¶iÿ‹
, 
¡©us
;

70 
pid
;

71 *
s
, *
’d
;

73 (
İt
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "v")) != -1) {

74 
İt
) {

76 
v”bo£
 = 1;

79 
	`u§ge
();

84 
¬gc
 -ğ
İtšd
;

85 
¬gv
 +ğ
İtšd
;

87 ià(
¬gc
 == 0)

88 
	`u§ge
();

90 
kq
 = 
	`kqueue
();

91 ià(
kq
 == -1)

92 
	`”r
(1, "kqueue");

94 
e
 = 
	`m®loc
(
¬gc
 * (
kev’t
));

95 ià(
e
 =ğ
NULL
)

96 
	`”r
(1, "malloc");

97 
Æeá
 = 0;

98 
n
 = 0;‚ < 
¬gc
;‚++) {

99 
s
 = 
¬gv
[
n
];

100 ià(!
	`¡ºcmp
(
s
, "/proc/", 6))

101 
s
 += 6;

102 
”ºo
 = 0;

103 
pid
 = 
	`¡¹Ş
(
s
, &
’d
, 10);

104 ià(
pid
 < 0 || *
’d
 !ğ'\0' || 
”ºo
 != 0) {

105 
	`w¬nx
("%s: bad…roûs id", 
s
);

108 
du¶iÿ‹
 = 0;

109 
i
 = 0; i < 
Æeá
; i++)

110 ià(
e
[
i
].
id’t
 =ğ(
ušŒ_t
)
pid
)

111 
du¶iÿ‹
 = 1;

112 ià(!
du¶iÿ‹
) {

113 
	`EV_SET
(
e
 + 
Æeá
, 
pid
, 
EVFILT_PROC
, 
EV_ADD
, 
NOTE_EXIT
,

114 0, 
NULL
);

115 ià(
	`kev’t
(
kq
, 
e
 + 
Æeá
, 1, 
NULL
, 0, NULL) == -1)

116 
	`w¬n
("%ld", 
pid
);

118 
Æeá
++;

122 
Æeá
 > 0) {

123 
n
 = 
	`kev’t
(
kq
, 
NULL
, 0, 
e
, 
Æeá
, NULL);

124 ià(
n
 == -1)

125 
	`”r
(1, "kevent");

126 ià(
v”bo£
)

127 
i
 = 0; i < 
n
; i++) {

128 
¡©us
 = 
e
[
i
].
d©a
;

129 ià(
	`WIFEXITED
(
¡©us
))

130 
	`´štf
("%ld:ƒxited with status %d.\n",

131 ()
e
[
i
].
id’t
,

132 
	`WEXITSTATUS
(
¡©us
));

133 ià(
	`WIFSIGNALED
(
¡©us
))

134 
	`´štf
("%ld: killed by signal %d.\n",

135 ()
e
[
i
].
id’t
,

136 
	`WTERMSIG
(
¡©us
));

138 
	`´štf
("%ld:erminated.\n",

139 ()
e
[
i
].
id’t
);

141 
Æeá
 -ğ
n
;

145 
	}
}

	@pwd/pwd.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)pwd.c 8.3 (Berkeley) 4/1/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/pwd/pwd.c,v 1.25.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/·¿m.h
>

45 
	~<sys/¡©.h
>

46 
	~<sys/ty³s.h
>

48 
	~<”r.h
>

49 
	~<”ºo.h
>

50 
	~<¡dio.h
>

51 
	~<¡dlib.h
>

52 
	~<uni¡d.h
>

54 *
g‘cwd_logiÿl
();

55 
u§ge
();

58 
	$maš
(
¬gc
, *
¬gv
[])

60 
physiÿl
;

61 
ch
;

62 *
p
;

64 
physiÿl
 = 1;

65 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "LP")) != -1)

66 
ch
) {

68 
physiÿl
 = 0;

71 
physiÿl
 = 1;

75 
	`u§ge
();

77 
¬gc
 -ğ
İtšd
;

78 
¬gv
 +ğ
İtšd
;

80 ià(
¬gc
 != 0)

81 
	`u§ge
();

87 ià((!
physiÿl
 && (
p
 = 
	`g‘cwd_logiÿl
()è!ğ
NULL
) ||

88 (
p
 = 
	`g‘cwd
(
NULL
, 0)) != NULL)

89 
	`´štf
("%s\n", 
p
);

91 
	`”r
(1, ".");

93 
	`ex™
(0);

94 
	}
}

97 
	$u§ge
()

100 ()
	`årštf
(
¡d”r
, "usage:…wd [-L | -P]\n");

101 
	`ex™
(1);

102 
	}
}

105 
	$g‘cwd_logiÿl
()

107 
¡©
 
lg
, 
phy
;

108 *
pwd
;

114 ià((
pwd
 = 
	`g‘’v
("PWD")è!ğ
NULL
 && *pwd == '/') {

115 ià(
	`¡©
(
pwd
, &
lg
è=ğ-1 || st(".", &
phy
) == -1)

116  (
NULL
);

117 ià(
lg
.
¡_dev
 =ğ
phy
.¡_dev &&†g.
¡_šo
 ==…hy.st_ino)

118  (
pwd
);

121 
”ºo
 = 
ENOENT
;

122  (
NULL
);

123 
	}
}

	@rcp/extern.h

34 
size_t
 
	mút
;

35 *
	mbuf
;

36 } 
	tBUF
;

38 
Ÿm»mÙe
;

40 
BUF
 *
®locbuf
(BUF *, , );

41 *
cŞÚ
(*);

42 
lo¡cÚn
();

43 
no¥aû
();

44 
okÇme
(*);

45 
	$run_”r
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

46 
	`susy¡em
(*, );

47 
	`v”ifydœ
(*);

	@rcp/rcp.c

38 #iâdeà
lšt


39 cÚ¡ 
	gcİyright
[] =

44 #iâdeà
lšt


45 
	gsccsid
[] = "@(#)rcp.c 8.2 (Berkeley) 4/2/94";

48 
	~<sys/cdefs.h
>

49 
__FBSDID
("$FreeBSD: src/bin/rcp/rcp.c,v 1.47.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

51 
	~<sys/·¿m.h
>

52 
	~<sys/¡©.h
>

53 
	~<sys/time.h
>

54 
	~<sys/sock‘.h
>

55 
	~<Ãtš‘/š.h
>

56 
	~<Ãtš‘/š_sy¡m.h
>

57 
	~<Ãtš‘/.h
>

59 
	~<ùy³.h
>

60 
	~<dœ’t.h
>

61 
	~<”r.h
>

62 
	~<”ºo.h
>

63 
	~<fú.h
>

64 
	~<libut.h
>

65 
	~<lim™s.h
>

66 
	~<Ãtdb.h
>

67 
	~<·ths.h
>

68 
	~<pwd.h
>

69 
	~<sigÇl.h
>

70 
	~<¡dšt.h
>

71 
	~<¡dio.h
>

72 
	~<¡dlib.h
>

73 
	~<¡ršg.h
>

74 
	~<¡ršg.h
>

75 
	~<uni¡d.h
>

77 
	~"ex‹º.h
"

79 
	#OPTIONS
 "46då¹"

	)

81 
·sswd
 *
	gpwd
;

82 
u_shÜt
 
	gpÜt
;

83 
uid_t
 
	gu£rid
;

84 
	g”rs
, 
	g»m
;

85 
	gpæag
, 
	gŸm»mÙe
, 
	gŸm»cursive
, 
	grg‘shouldbedœeùÜy
;

86 
	gçmy
 = 
PF_UNSPEC
;

88 
	g¬gc_cİy
;

89 cÚ¡ **
	g¬gv_cİy
;

91 
	g³riod
[] = ".";

93 
	#CMDNEEDS
 64

	)

94 
	gcmd
[
CMDNEEDS
];

96 
»¥Ú£
();

97 
rsourû
(*, 
¡©
 *);

98 
sšk
(, *[]);

99 
sourû
(, *[]);

100 
tŞoÿl
(, *[]);

101 
tÜemÙe
(*, , *[]);

102 
u§ge
();

105 
	$maš
(
¬gc
, *
¬gv
[])

107 
£rv’t
 *
¥
;

108 
ch
, 
fæag
, 
i
, 
tæag
;

109 *
rg
;

114 
¬gc_cİy
 = 
¬gc
 + 1;

115 
¬gv_cİy
 = 
	`m®loc
((
¬gc_cİy
 + 1) * (*argv_copy));

116 ià(
¬gv_cİy
 =ğ
NULL
)

117 
	`”r
(1, "malloc");

118 
¬gv_cİy
[0] = 
¬gv
[0];

119 
¬gv_cİy
[1] = "-K";

120 
i
 = 1; i < 
¬gc
; ++i) {

121 
¬gv_cİy
[
i
 + 1] = 
	`¡rdup
(
¬gv
[i]);

122 ià(
¬gv_cİy
[
i
 + 1] =ğ
NULL
)

123 
	`”rx
(1, "strdup: out of memory");

125 
¬gv_cİy
[
¬gc
 + 1] = 
NULL
;

127 
fæag
 = 
tæag
 = 0;

128 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, 
OPTIONS
)) != -1)

129 
ch
) {

131 
çmy
 = 
PF_INET
;

135 
çmy
 = 
PF_INET6
;

139 
pæag
 = 1;

142 
Ÿm»cursive
 = 1;

146 
rg‘shouldbedœeùÜy
 = 1;

149 
Ÿm»mÙe
 = 1;

150 
fæag
 = 1;

153 
Ÿm»mÙe
 = 1;

154 
tæag
 = 1;

158 
	`u§ge
();

160 
¬gc
 -ğ
İtšd
;

161 
¬gv
 +ğ
İtšd
;

163 
¥
 = 
	`g‘£rvbyÇme
("shell", "tcp");

164 ià(
¥
 =ğ
NULL
)

165 
	`”rx
(1, "shell/tcp: unknown service");

166 
pÜt
 = 
¥
->
s_pÜt
;

168 ià((
pwd
 = 
	`g‘pwuid
(
u£rid
 = 
	`g‘uid
())è=ğ
NULL
)

169 
	`”rx
(1, "unknowÀu£¸%d", ()
u£rid
);

171 
»m
 = 
STDIN_FILENO
;

173 ià(
fæag
) {

174 ()
	`»¥Ú£
();

175 ()
	`£tuid
(
u£rid
);

176 
	`sourû
(
¬gc
, 
¬gv
);

177 
	`ex™
(
”rs
);

180 ià(
tæag
) {

181 ()
	`£tuid
(
u£rid
);

182 
	`sšk
(
¬gc
, 
¬gv
);

183 
	`ex™
(
”rs
);

186 ià(
¬gc
 < 2)

187 
	`u§ge
();

188 ià(
¬gc
 > 2)

189 
rg‘shouldbedœeùÜy
 = 1;

191 
»m
 = -1;

193 ()
	`¢´štf
(
cmd
, (cmd), "rcp%s%s%s",

194 
Ÿm»cursive
 ? " -r" : "", 
pæag
 ? " -p" : "",

195 
rg‘shouldbedœeùÜy
 ? " -d" : "");

197 ()
	`sigÇl
(
SIGPIPE
, 
lo¡cÚn
);

199 ià((
rg
 = 
	`cŞÚ
(
¬gv
[
¬gc
 - 1])))

200 
	`tÜemÙe
(
rg
, 
¬gc
, 
¬gv
);

202 
	`tŞoÿl
(
¬gc
, 
¬gv
);

203 ià(
rg‘shouldbedœeùÜy
)

204 
	`v”ifydœ
(
¬gv
[
¬gc
 - 1]);

206 
	`ex™
(
”rs
);

207 
	}
}

210 
	$tÜemÙe
(*
rg
, 
¬gc
, *
¬gv
[])

212 
i
, 
tos
;

213 *
bp
, *
ho¡
, *
¤c
, *
su£r
, *
tho¡
, *
tu£r
;

215 *
rg
++ = 0;

216 ià(*
rg
 == 0)

217 
rg
 = 
³riod
;

219 ià((
tho¡
 = 
	`¡rchr
(
¬gv
[
¬gc
 - 1], '@'))) {

221 *
tho¡
++ = 0;

222 
tu£r
 = 
¬gv
[
¬gc
 - 1];

223 ià(*
tu£r
 == '\0')

224 
tu£r
 = 
NULL
;

225 ià(!
	`okÇme
(
tu£r
))

226 
	`ex™
(1);

228 
tho¡
 = 
¬gv
[
¬gc
 - 1];

229 
tu£r
 = 
NULL
;

232 
i
 = 0; i < 
¬gc
 - 1; i++) {

233 
¤c
 = 
	`cŞÚ
(
¬gv
[
i
]);

234 ià(
¤c
) {

235 *
¤c
++ = 0;

236 ià(*
¤c
 == 0)

237 
¤c
 = 
³riod
;

238 
ho¡
 = 
	`¡rchr
(
¬gv
[
i
], '@');

239 ià(
ho¡
) {

240 *
ho¡
++ = 0;

241 
su£r
 = 
¬gv
[
i
];

242 ià(*
su£r
 == '\0')

243 
su£r
 = 
pwd
->
pw_Çme
;

244 ià(!
	`okÇme
(
su£r
)) {

245 ++
”rs
;

248 ià(
	`a¥rštf
(&
bp
,

250 
_PATH_RSH
, 
ho¡
, 
su£r
, 
cmd
, 
¤c
,

251 
tu£r
 ?user : "",user ? "@" : "",

252 
tho¡
, 
rg
) == -1)

253 
	`”r
(1, "asprintf");

255 ià(
	`a¥rštf
(&
bp
,

257 
_PATH_RSH
, 
¬gv
[
i
], 
cmd
, 
¤c
,

258 
tu£r
 ?user : "",user ? "@" : "",

259 
tho¡
, 
rg
) == -1)

260 
	`”r
(1, "asprintf");

261 ()
	`susy¡em
(
bp
, 
u£rid
);

262 ()
	`ä“
(
bp
);

264 ià(
»m
 == -1) {

265 ià(
	`a¥rštf
(&
bp
, "% -ˆ%s", 
cmd
, 
rg
)

267 
	`”r
(1, "asprintf");

268 
ho¡
 = 
tho¡
;

269 
»m
 = 
	`rcmd_af
(&
ho¡
, 
pÜt
,

270 
pwd
->
pw_Çme
,

271 
tu£r
 ?u£¸: 
pwd
->
pw_Çme
,

272 
bp
, 0, 
çmy
);

273 ià(
»m
 < 0)

274 
	`ex™
(1);

275 ià(
çmy
 =ğ
PF_INET
) {

276 
tos
 = 
IPTOS_THROUGHPUT
;

277 ià(
	`£tsockİt
(
»m
, 
IPPROTO_IP
, 
IP_TOS
,

278 &
tos
, ()) < 0)

279 
	`w¬n
("TOS (ignored)");

281 ià(
	`»¥Ú£
() < 0)

282 
	`ex™
(1);

283 ()
	`ä“
(
bp
);

284 ()
	`£tuid
(
u£rid
);

286 
	`sourû
(1, 
¬gv
+
i
);

289 
	}
}

292 
	$tŞoÿl
(
¬gc
, *
¬gv
[])

294 
i
, 
Ën
, 
tos
;

295 *
bp
, *
ho¡
, *
¤c
, *
su£r
;

297 
i
 = 0; i < 
¬gc
 - 1; i++) {

298 ià(!(
¤c
 = 
	`cŞÚ
(
¬gv
[
i
]))) {

299 
Ën
 = 
	`¡¾’
(
_PATH_CP
è+ sŒËn(
¬gv
[
i
]) +

300 
	`¡¾’
(
¬gv
[
¬gc
 - 1]) + 20;

301 ià(!(
bp
 = 
	`m®loc
(
Ën
)))

302 
	`”r
(1, "malloc");

303 ()
	`¢´štf
(
bp
, 
Ën
, "exeø%s%s% % %s", 
_PATH_CP
,

304 
Ÿm»cursive
 ? " -PR" : "", 
pæag
 ? " -p" : "",

305 
¬gv
[
i
],‡rgv[
¬gc
 - 1]);

306 ià(
	`susy¡em
(
bp
, 
u£rid
))

307 ++
”rs
;

308 ()
	`ä“
(
bp
);

311 *
¤c
++ = 0;

312 ià(*
¤c
 == 0)

313 
¤c
 = 
³riod
;

314 ià((
ho¡
 = 
	`¡rchr
(
¬gv
[
i
], '@')è=ğ
NULL
) {

315 
ho¡
 = 
¬gv
[
i
];

316 
su£r
 = 
pwd
->
pw_Çme
;

318 *
ho¡
++ = 0;

319 
su£r
 = 
¬gv
[
i
];

320 ià(*
su£r
 == '\0')

321 
su£r
 = 
pwd
->
pw_Çme
;

322 ià(!
	`okÇme
(
su£r
)) {

323 ++
”rs
;

327 
Ën
 = 
	`¡¾’
(
¤c
è+ 
CMDNEEDS
 + 20;

328 ià((
bp
 = 
	`m®loc
(
Ën
)è=ğ
NULL
)

329 
	`”r
(1, "malloc");

330 ()
	`¢´štf
(
bp
, 
Ën
, "% -à%s", 
cmd
, 
¤c
);

331 
»m
 = 
	`rcmd_af
(&
ho¡
, 
pÜt
, 
pwd
->
pw_Çme
, 
su£r
, 
bp
, 0,

332 
çmy
);

333 ()
	`ä“
(
bp
);

334 ià(
»m
 < 0) {

335 ++
”rs
;

338 ()
	`£‹uid
(
u£rid
);

339 ià(
çmy
 =ğ
PF_INET
) {

340 
tos
 = 
IPTOS_THROUGHPUT
;

341 ià(
	`£tsockİt
(
»m
, 
IPPROTO_IP
, 
IP_TOS
, &
tos
,

343 
	`w¬n
("TOS (ignored)");

345 
	`sšk
(1, 
¬gv
 + 
¬gc
 - 1);

346 ()
	`£‹uid
(0);

347 ()
	`şo£
(
»m
);

348 
»m
 = -1;

350 
	}
}

353 
	$sourû
(
¬gc
, *
¬gv
[])

355 
¡©
 
¡b
;

356 
BUF
 
bufãr
;

357 
BUF
 *
bp
;

358 
off_t
 
i
;

359 
amt
, 
fd
, 
had”r
, 
šdx
, 
»suÉ
;

360 *
Ï¡
, *
Çme
, 
buf
[
BUFSIZ
];

362 
šdx
 = 0; indx < 
¬gc
; ++indx) {

363 
Çme
 = 
¬gv
[
šdx
];

364 ià((
fd
 = 
	`İ’
(
Çme
, 
O_RDONLY
, 0)) < 0)

365 
sy£¼
;

366 ià(
	`f¡©
(
fd
, &
¡b
)) {

367 
sy£¼
: 
	`run_”r
("%s: %s", 
Çme
, 
	`¡»¼Ü
(
”ºo
));

368 
Ãxt
;

370 
¡b
.
¡_mode
 & 
S_IFMT
) {

371 
S_IFREG
:

373 
S_IFDIR
:

374 ià(
Ÿm»cursive
) {

375 
	`rsourû
(
Çme
, &
¡b
);

376 
Ãxt
;

380 
	`run_”r
("%s:‚Ù‡„eguÏ¸fe", 
Çme
);

381 
Ãxt
;

383 ià((
Ï¡
 = 
	`¡¼chr
(
Çme
, '/')è=ğ
NULL
)

384 
Ï¡
 = 
Çme
;

386 ++
Ï¡
;

387 ià(
pæag
) {

392 ()
	`¢´štf
(
buf
, (buf), "T%ld 0 %ld 0\n",

393 ()
¡b
.
¡_mtime¥ec
.
tv_£c
,

394 ()
¡b
.
¡_©ime¥ec
.
tv_£c
);

395 ()
	`wr™e
(
»m
, 
buf
, 
	`¡¾’
(buf));

396 ià(
	`»¥Ú£
() < 0)

397 
Ãxt
;

399 
	#MODEMASK
 (
S_ISUID
|
S_ISGID
|
S_ISTXT
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

400 ()
	`¢´štf
(
buf
, (buf), "C%04o %jd %s\n",

401 
¡b
.
¡_mode
 & 
MODEMASK
, (
štmax_t
)¡b.
¡_size
, 
Ï¡
);

402 ()
	`wr™e
(
»m
, 
buf
, 
	`¡¾’
(buf));

403 ià(
	`»¥Ú£
() < 0)

404 
Ãxt
;

405 ià((
bp
 = 
	`®locbuf
(&
bufãr
, 
fd
, 
BUFSIZ
)è=ğ
NULL
) {

406 
Ãxt
: ià(
fd
 >= 0)

407 ()
	`şo£
(
fd
);

412 
had”r
 = 
i
 = 0; i < 
¡b
.
¡_size
; i +ğ
bp
->
út
) {

413 
amt
 = 
bp
->
út
;

414 ià(
i
 + 
amt
 > 
¡b
.
¡_size
)

415 
amt
 = 
¡b
.
¡_size
 - 
i
;

416 ià(!
had”r
) {

417 
»suÉ
 = 
	`»ad
(
fd
, 
bp
->
buf
, 
amt
);

418 ià(
»suÉ
 !ğ
amt
)

419 
had”r
 = 
»suÉ
 >ğ0 ? 
EIO
 : 
”ºo
;

421 ià(
had”r
)

422 ()
	`wr™e
(
»m
, 
bp
->
buf
, 
amt
);

424 
»suÉ
 = 
	`wr™e
(
»m
, 
bp
->
buf
, 
amt
);

425 ià(
»suÉ
 !ğ
amt
)

426 
had”r
 = 
»suÉ
 >ğ0 ? 
EIO
 : 
”ºo
;

429 ià(
	`şo£
(
fd
è&& !
had”r
)

430 
had”r
 = 
”ºo
;

431 ià(!
had”r
)

432 ()
	`wr™e
(
»m
, "", 1);

434 
	`run_”r
("%s: %s", 
Çme
, 
	`¡»¼Ü
(
had”r
));

435 ()
	`»¥Ú£
();

437 
	}
}

440 
	$rsourû
(*
Çme
, 
¡©
 *
¡©p
)

442 
DIR
 *
dœp
;

443 
dœ’t
 *
dp
;

444 *
Ï¡
, *
veù
[1], 
·th
[
PATH_MAX
];

446 ià(!(
dœp
 = 
	`İ’dœ
(
Çme
))) {

447 
	`run_”r
("%s: %s", 
Çme
, 
	`¡»¼Ü
(
”ºo
));

450 
Ï¡
 = 
	`¡¼chr
(
Çme
, '/');

451 ià(
Ï¡
 == 0)

452 
Ï¡
 = 
Çme
;

454 
Ï¡
++;

455 ià(
pæag
) {

456 ()
	`¢´štf
(
·th
, (path), "T%ld 0 %ld 0\n",

457 ()
¡©p
->
¡_mtime¥ec
.
tv_£c
,

458 ()
¡©p
->
¡_©ime¥ec
.
tv_£c
);

459 ()
	`wr™e
(
»m
, 
·th
, 
	`¡¾’
(path));

460 ià(
	`»¥Ú£
() < 0) {

461 
	`şo£dœ
(
dœp
);

465 ()
	`¢´štf
(
·th
, (path),

466 "D%04Ø%d %s\n", 
¡©p
->
¡_mode
 & 
MODEMASK
, 0, 
Ï¡
);

467 ()
	`wr™e
(
»m
, 
·th
, 
	`¡¾’
(path));

468 ià(
	`»¥Ú£
() < 0) {

469 
	`şo£dœ
(
dœp
);

472 (
dp
 = 
	`»addœ
(
dœp
))) {

473 ià(
dp
->
d_šo
 == 0)

475 ià(!
	`¡rcmp
(
dp
->
d_Çme
, ".") || !strcmp(dp->d_name, ".."))

477 ià(
	`¡¾’
(
Çme
è+ 1 + sŒËn(
dp
->
d_Çme
è>ğ(
·th
)) {

478 
	`run_”r
("%s/%s:‚amtoØlÚg", 
Çme
, 
dp
->
d_Çme
);

481 ()
	`¢´štf
(
·th
, Õ©h), "%s/%s", 
Çme
, 
dp
->
d_Çme
);

482 
veù
[0] = 
·th
;

483 
	`sourû
(1, 
veù
);

485 ()
	`şo£dœ
(
dœp
);

486 ()
	`wr™e
(
»m
, "E\n", 2);

487 ()
	`»¥Ú£
();

488 
	}
}

491 
	$sšk
(
¬gc
, *
¬gv
[])

493 
BUF
 
bufãr
;

494 
¡©
 
¡b
;

495 
timev®
 
tv
[2];

496 ’um { 
YES
, 
NO
, 
DISPLAYED
 } 
w»¼
;

497 
BUF
 *
bp
;

498 
off_t
 
i
, 
j
, 
size
;

499 
amt
, 
exi¡s
, 
fœ¡
, 
mask
, 
mode
, 
ofd
, 
omode
;

500 
size_t
 
couÁ
;

501 
£times
, 
rgisdœ
, 
w»¼no
 = 0;

502 
ch
, *
ı
, *
Å
, *
rg
, *
veù
[1], 
buf
[
BUFSIZ
], 
·th
[
PATH_MAX
];

503 cÚ¡ *
why
;

505 
	#©ime
 
tv
[0]

	)

506 
	#mtime
 
tv
[1]

	)

507 
	#SCREWUP
(
¡r
è{ 
why
 = sŒ; 
süewup
; }

	)

509 
£times
 = 
rgisdœ
 = 0;

510 
mask
 = 
	`umask
(0);

511 ià(!
pæag
)

512 ()
	`umask
(
mask
);

513 ià(
¬gc
 != 1) {

514 
	`run_”r
("ambiguousarget");

515 
	`ex™
(1);

517 
rg
 = *
¬gv
;

518 ià(
rg‘shouldbedœeùÜy
)

519 
	`v”ifydœ
(
rg
);

520 ()
	`wr™e
(
»m
, "", 1);

521 ià(
	`¡©
(
rg
, &
¡b
è=ğ0 && 
	`S_ISDIR
(¡b.
¡_mode
))

522 
rgisdœ
 = 1;

523 
fœ¡
 = 1;; first = 0) {

524 
ı
 = 
buf
;

525 ià(
	`»ad
(
»m
, 
ı
, 1) <= 0)

527 ià(*
ı
++ == '\n')

528 
	`SCREWUP
("unexpected <newline>");

530 ià(
	`»ad
(
»m
, &
ch
, (ch)) != (ch))

531 
	`SCREWUP
("lost connection");

532 *
ı
++ = 
ch
;

533 } 
ı
 < &
buf
[
BUFSIZ
 - 1] && 
ch
 != '\n');

534 *
ı
 = 0;

536 ià(
buf
[0] == '\01' || buf[0] == '\02') {

537 ià(
Ÿm»mÙe
 == 0)

538 ()
	`wr™e
(
STDERR_FILENO
,

539 
buf
 + 1, 
	`¡¾’
(buf + 1));

540 ià(
buf
[0] == '\02')

541 
	`ex™
(1);

542 ++
”rs
;

545 ià(
buf
[0] == 'E') {

546 ()
	`wr™e
(
»m
, "", 1);

550 ià(
ch
 == '\n')

551 *--
ı
 = 0;

553 
ı
 = 
buf
;

554 ià(*
ı
 == 'T') {

555 
£times
++;

556 
ı
++;

557 
mtime
.
tv_£c
 = 
	`¡¹Ş
(
ı
, &cp, 10);

558 ià(!
ı
 || *cp++ != ' ')

559 
	`SCREWUP
("mtime.sec‚ot delimited");

560 
mtime
.
tv_u£c
 = 
	`¡¹Ş
(
ı
, &cp, 10);

561 ià(!
ı
 || *cp++ != ' ')

562 
	`SCREWUP
("mtime.usec‚ot delimited");

563 
©ime
.
tv_£c
 = 
	`¡¹Ş
(
ı
, &cp, 10);

564 ià(!
ı
 || *cp++ != ' ')

565 
	`SCREWUP
("atime.sec‚ot delimited");

566 
©ime
.
tv_u£c
 = 
	`¡¹Ş
(
ı
, &cp, 10);

567 ià(!
ı
 || *cp++ != '\0')

568 
	`SCREWUP
("atime.usec‚ot delimited");

569 ()
	`wr™e
(
»m
, "", 1);

572 ià(*
ı
 != 'C' && *cp != 'D') {

580 ià(
fœ¡
) {

581 
	`run_”r
("%s", 
ı
);

582 
	`ex™
(1);

584 
	`SCREWUP
("expected control„ecord");

586 
mode
 = 0;

587 ++
ı
; c°< 
buf
 + 5; cp++) {

588 ià(*
ı
 < '0' || *cp > '7')

589 
	`SCREWUP
("bad mode");

590 
mode
 = (mod<< 3è| (*
ı
 - '0');

592 ià(*
ı
++ != ' ')

593 
	`SCREWUP
("mode‚ot delimited");

595 
size
 = 0; 
	`isdig™
(*
ı
);)

596 
size
 = siz* 10 + (*
ı
++ - '0');

597 ià(*
ı
++ != ' ')

598 
	`SCREWUP
("size‚ot delimited");

599 ià(
rgisdœ
) {

600 ià(
	`¡¾’
(
rg
è+ (*rg ? 1 : 0è+ sŒËn(
ı
)

601 >ğ(
·th
)) {

602 
	`run_”r
("%s%s%s:‚amtoØlÚg", 
rg
,

603 *
rg
 ? "/" : "", 
ı
);

604 
	`ex™
(1);

606 ()
	`¢´štf
(
·th
, Õ©h), "%s%s%s", 
rg
,

607 *
rg
 ? "/" : "", 
ı
);

608 
Å
 = 
·th
;

610 
Å
 = 
rg
;

611 
exi¡s
 = 
	`¡©
(
Å
, &
¡b
) == 0;

612 ià(
buf
[0] == 'D') {

613 
mod_æag
 = 
pæag
;

614 ià(
exi¡s
) {

615 ià(!
	`S_ISDIR
(
¡b
.
¡_mode
)) {

616 
”ºo
 = 
ENOTDIR
;

617 
bad
;

619 ià(
pæag
)

620 ()
	`chmod
(
Å
, 
mode
);

623 
mod_æag
 = 1;

624 ià(
	`mkdœ
(
Å
, 
mode
 | 
S_IRWXU
) < 0)

625 
bad
;

627 
veù
[0] = 
Å
;

628 
	`sšk
(1, 
veù
);

629 ià(
£times
) {

630 
£times
 = 0;

631 ià(
	`utimes
(
Å
, 
tv
) < 0)

632 
	`run_”r
("%s: setimes: %s",

633 
Å
, 
	`¡»¼Ü
(
”ºo
));

635 ià(
mod_æag
)

636 ()
	`chmod
(
Å
, 
mode
);

639 
omode
 = 
mode
;

640 
mode
 |ğ
S_IWRITE
;

641 ià((
ofd
 = 
	`İ’
(
Å
, 
O_WRONLY
|
O_CREAT
, 
mode
)) < 0) {

642 
bad
: 
	`run_”r
("%s: %s", 
Å
, 
	`¡»¼Ü
(
”ºo
));

645 ()
	`wr™e
(
»m
, "", 1);

646 ià((
bp
 = 
	`®locbuf
(&
bufãr
, 
ofd
, 
BUFSIZ
)è=ğ
NULL
) {

647 ()
	`şo£
(
ofd
);

650 
ı
 = 
bp
->
buf
;

651 
w»¼
 = 
NO
;

652 
couÁ
 = 
i
 = 0; i < 
size
; i +ğ
BUFSIZ
) {

653 
amt
 = 
BUFSIZ
;

654 ià(
i
 + 
amt
 > 
size
)

655 
amt
 = 
size
 - 
i
;

656 
couÁ
 +ğ
amt
;

658 
j
 = 
	`»ad
(
»m
, 
ı
, 
amt
);

659 ià(
j
 <= 0) {

660 
	`run_”r
("%s", 
j
 ? 
	`¡»¼Ü
(
”ºo
) :

662 
	`ex™
(1);

664 
amt
 -ğ
j
;

665 
ı
 +ğ
j
;

666 } 
amt
 > 0);

667 ià(
couÁ
 =ğ
bp
->
út
) {

669 ià(
w»¼
 =ğ
NO
) {

670 
j
 = 
	`wr™e
(
ofd
, 
bp
->
buf
, 
couÁ
);

671 ià(
j
 !ğ(
off_t
)
couÁ
) {

672 
w»¼
 = 
YES
;

673 
w»¼no
 = 
j
 >ğ0 ? 
EIO
 : 
”ºo
;

676 
couÁ
 = 0;

677 
ı
 = 
bp
->
buf
;

680 ià(
couÁ
 !ğ0 && 
w»¼
 =ğ
NO
 &&

681 (
j
 = 
	`wr™e
(
ofd
, 
bp
->
buf
, 
couÁ
)è!ğ(
off_t
)count) {

682 
w»¼
 = 
YES
;

683 
w»¼no
 = 
j
 >ğ0 ? 
EIO
 : 
”ºo
;

685 ià(
	`árunÿ‹
(
ofd
, 
size
)) {

686 
	`run_”r
("%s:runÿ‹: %s", 
Å
, 
	`¡»¼Ü
(
”ºo
));

687 
w»¼
 = 
DISPLAYED
;

689 ià(
pæag
) {

690 ià(
exi¡s
 || 
omode
 !ğ
mode
)

691 ià(
	`fchmod
(
ofd
, 
omode
))

692 
	`run_”r
("%s: set mode: %s",

693 
Å
, 
	`¡»¼Ü
(
”ºo
));

695 ià(!
exi¡s
 && 
omode
 !ğ
mode
)

696 ià(
	`fchmod
(
ofd
, 
omode
 & ~
mask
))

697 
	`run_”r
("%s: set mode: %s",

698 
Å
, 
	`¡»¼Ü
(
”ºo
));

700 ()
	`şo£
(
ofd
);

701 ()
	`»¥Ú£
();

702 ià(
£times
 && 
w»¼
 =ğ
NO
) {

703 
£times
 = 0;

704 ià(
	`utimes
(
Å
, 
tv
) < 0) {

705 
	`run_”r
("%s: setimes: %s",

706 
Å
, 
	`¡»¼Ü
(
”ºo
));

707 
w»¼
 = 
DISPLAYED
;

710 
w»¼
) {

711 
YES
:

712 
	`run_”r
("%s: %s", 
Å
, 
	`¡»¼Ü
(
w»¼no
));

714 
NO
:

715 ()
	`wr™e
(
»m
, "", 1);

717 
DISPLAYED
:

721 
süewup
:

722 
	`run_”r
("´ÙocŞƒ¼Ü: %s", 
why
);

723 
	`ex™
(1);

724 
	}
}

727 
	$»¥Ú£
()

729 
ch
, *
ı
, 
»¥
, 
rbuf
[
BUFSIZ
];

731 ià(
	`»ad
(
»m
, &
»¥
, (resp)) != (resp))

732 
	`lo¡cÚn
(0);

734 
ı
 = 
rbuf
;

735 
»¥
) {

739 *
ı
++ = 
»¥
;

744 ià(
	`»ad
(
»m
, &
ch
, (ch)) != (ch))

745 
	`lo¡cÚn
(0);

746 *
ı
++ = 
ch
;

747 } 
ı
 < &
rbuf
[
BUFSIZ
] && 
ch
 != '\n');

749 ià(!
Ÿm»mÙe
)

750 ()
	`wr™e
(
STDERR_FILENO
, 
rbuf
, 
ı
 -„buf);

751 ++
”rs
;

752 ià(
»¥
 == 1)

754 
	`ex™
(1);

757 
	}
}

760 
	$u§ge
()

762 ()
	`årštf
(
¡d”r
, "%s\n%s\n",

765 
	`ex™
(1);

766 
	}
}

768 
	~<¡d¬g.h
>

771 
	$run_”r
(cÚ¡ *
fmt
, ...)

773 
FILE
 *
å
;

774 
va_li¡
 
­
;

776 ++
”rs
;

777 ià(
å
 =ğ
NULL
 && !(å = 
	`fdİ’
(
»m
, "w")))

779 ()
	`årštf
(
å
, "%c", 0x01);

780 ()
	`årštf
(
å
, "rcp: ");

781 
	`va_¡¬t
(
­
, 
fmt
);

782 ()
	`vårštf
(
å
, 
fmt
, 
­
);

783 
	`va_’d
(
­
);

784 ()
	`årštf
(
å
, "\n");

785 ()
	`fæush
(
å
);

787 ià(!
Ÿm»mÙe
) {

788 
	`va_¡¬t
(
­
, 
fmt
);

789 
	`vw¬nx
(
fmt
, 
­
);

790 
	`va_’d
(
­
);

792 
	}
}

	@rcp/util.c

30 #iâdeà
lšt


32 cÚ¡ 
	gsccsid
[] = "@(#)util.c 8.2 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/rcp/util.c,v 1.17.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/·¿m.h
>

39 
	~<sys/¡©.h
>

40 
	~<sys/wa™.h
>

42 
	~<ùy³.h
>

43 
	~<”r.h
>

44 
	~<”ºo.h
>

45 
	~<·ths.h
>

46 
	~<sigÇl.h
>

47 
	~<¡dio.h
>

48 
	~<¡dlib.h
>

49 
	~<¡ršg.h
>

50 
	~<uni¡d.h
>

52 
	~"ex‹º.h
"

55 
	$cŞÚ
(*
ı
)

57 ià(*
ı
 == ':')

60 ; *
ı
; ++cp) {

61 ià(*
ı
 == ':')

62  (
ı
);

63 ià(*
ı
 == '/')

67 
	}
}

70 
	$v”ifydœ
(*
ı
)

72 
¡©
 
¡b
;

74 ià(!
	`¡©
(
ı
, &
¡b
)) {

75 ià(
	`S_ISDIR
(
¡b
.
¡_mode
))

77 
”ºo
 = 
ENOTDIR
;

79 
	`run_”r
("%s: %s", 
ı
, 
	`¡»¼Ü
(
”ºo
));

80 
	`ex™
(1);

81 
	}
}

84 
	$okÇme
(*
ı0
)

86 
c
;

87 *
ı
;

89 
ı
 = 
ı0
;

91 
c
 = *
ı
;

92 ià(
c
 & 0200)

93 
bad
;

94 ià(!
	`i§Íha
(
c
è&& !
	`isdig™
(c) && c != '_' && c != '-' && c != '.')

95 
bad
;

96 } *++
ı
);

99 
bad
: 
	`w¬nx
("%s: inv®id u£¸Çme", 
ı0
);

101 
	}
}

104 
	$susy¡em
(*
s
, 
u£rid
)

106 
sig_t
 
i¡©
, 
q¡©
;

107 
¡©us
;

108 
pid_t
 
pid
;

110 
pid
 = 
	`vfÜk
();

111 
pid
) {

116 ()
	`£tuid
(
u£rid
);

117 
	`exeş
(
_PATH_BSHELL
, "sh", "-c", 
s
, (*)
NULL
);

118 
	`_ex™
(127);

120 
i¡©
 = 
	`sigÇl
(
SIGINT
, 
SIG_IGN
);

121 
q¡©
 = 
	`sigÇl
(
SIGQUIT
, 
SIG_IGN
);

122 ià(
	`wa™pid
(
pid
, &
¡©us
, 0) < 0)

123 
¡©us
 = -1;

124 ()
	`sigÇl
(
SIGINT
, 
i¡©
);

125 ()
	`sigÇl
(
SIGQUIT
, 
q¡©
);

126  (
¡©us
);

127 
	}
}

129 
BUF
 *

130 
	$®locbuf
(
BUF
 *
bp
, 
fd
, 
blksize
)

132 
¡©
 
¡b
;

133 
size_t
 
size
;

135 ià(
	`f¡©
(
fd
, &
¡b
) < 0) {

136 
	`run_”r
("f¡©: %s", 
	`¡»¼Ü
(
”ºo
));

139 
size
 = 
	`roundup
(
¡b
.
¡_blksize
, 
blksize
);

140 ià(
size
 == 0)

141 
size
 = 
blksize
;

142 ià(
bp
->
út
 >ğ
size
)

143  (
bp
);

144 ià((
bp
->
buf
 = 
	`»®loc
(bp->buf, 
size
)è=ğ
NULL
) {

145 
bp
->
út
 = 0;

146 
	`run_”r
("%s", 
	`¡»¼Ü
(
”ºo
));

149 
bp
->
út
 = 
size
;

150  (
bp
);

151 
	}
}

154 
	$lo¡cÚn
(
signo
 
__unu£d
)

156 ià(!
Ÿm»mÙe
)

157 
	`w¬nx
("lost connection");

158 
	`ex™
(1);

159 
	}
}

	@realpath/realpath.c

30 
	~<sys/cdefs.h
>

31 
__FBSDID
("$FreeBSD: src/bin/realpath/realpath.c,v 1.7.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

33 
	~<sys/·¿m.h
>

35 
	~<”r.h
>

36 
	~<¡dio.h
>

37 
	~<¡dlib.h
>

38 
	~<uni¡d.h
>

40 
	$u§ge
(è
__d—d2
;

43 
	$maš
(
¬gc
, *
¬gv
[])

45 
buf
[
PATH_MAX
];

46 *
p
;

47 
ch
, 
i
, 
qæag
, 
rv®
;

49 
qæag
 = 0;

50 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "q")) != -1) {

51 
ch
) {

53 
qæag
 = 1;

57 
	`u§ge
();

60 
¬gc
 -ğ
İtšd
;

61 
¬gv
 +ğ
İtšd
;

62 ià(
¬gc
 < 1)

63 
	`u§ge
();

64 
rv®
 = 0;

65 
i
 = 0; i < 
¬gc
; i++) {

66 ià((
p
 = 
	`»®·th
(
¬gv
[
i
], 
buf
)è=ğ
NULL
) {

67 ià(!
qæag
)

68 
	`w¬n
("%s", 
¬gv
[
i
]);

69 
rv®
 = 1;

71 ()
	`´štf
("%s\n", 
p
);

73 
	`ex™
(
rv®
);

74 
	}
}

77 
	$u§ge
()

80 ()
	`årštf
(
¡d”r
, "usage:„ealpath [-q]…ath [...]\n");

81 
	`ex™
(1);

82 
	}
}

	@rm/rm.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)rm.c 8.5 (Berkeley) 4/18/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/rm/rm.c,v 1.60.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/¡©.h
>

45 
	~<sys/·¿m.h
>

46 
	~<sys/mouÁ.h
>

48 
	~<”r.h
>

49 
	~<”ºo.h
>

50 
	~<fú.h
>

51 
	~<ás.h
>

52 
	~<g½.h
>

53 
	~<pwd.h
>

54 
	~<¡dio.h
>

55 
	~<¡dlib.h
>

56 
	~<¡ršg.h
>

57 
	~<sy£x™s.h
>

58 
	~<uni¡d.h
>

60 
	gdæag
, 
	gev®
, 
	gfæag
, 
	giæag
, 
	gPæag
, 
	gvæag
, 
	gWæag
, 
	g¡dš_ok
;

61 
	græag
, 
	gIæag
;

62 
uid_t
 
	guid
;

63 vŞ©
sig_©omic_t
 
	gšfo
;

65 
check
(*, *, 
¡©
 *);

66 
check2
(**);

67 
checkdÙ
(**);

68 
check¦ash
(**);

69 
rm_fe
(**);

70 
rm_ov”wr™e
(*, 
¡©
 *);

71 
rm_Œ“
(**);

72 
sigšfo
(
__unu£d
);

73 
u§ge
();

83 
	$maš
(
¬gc
, *
¬gv
[])

85 
ch
;

86 *
p
;

93 ià((
p
 = 
	`ršdex
(
¬gv
[0], '/')è=ğ
NULL
)

94 
p
 = 
¬gv
[0];

96 ++
p
;

97 ià(
	`¡rcmp
(
p
, "unlink") == 0) {

98 
	`g‘İt
(
¬gc
, 
¬gv
, "") != -1)

99 
	`u§ge
();

100 
¬gc
 -ğ
İtšd
;

101 
¬gv
 +ğ
İtšd
;

102 ià(
¬gc
 != 1)

103 
	`u§ge
();

104 
	`rm_fe
(&
¬gv
[0]);

105 
	`ex™
(
ev®
);

108 
Pæag
 = 
ræag
 = 0;

109 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "dfiIPRrvW")) != -1)

110 
ch
) {

112 
dæag
 = 1;

115 
fæag
 = 1;

116 
iæag
 = 0;

119 
fæag
 = 0;

120 
iæag
 = 1;

123 
Iæag
 = 1;

126 
Pæag
 = 1;

130 
ræag
 = 1;

133 
væag
 = 1;

136 
Wæag
 = 1;

139 
	`u§ge
();

141 
¬gc
 -ğ
İtšd
;

142 
¬gv
 +ğ
İtšd
;

144 ià(
¬gc
 < 1) {

145 ià(
fæag
)

147 
	`u§ge
();

150 
	`checkdÙ
(
¬gv
);

151 ià(
	`g‘’v
("POSIXLY_CORRECT"è=ğ
NULL
)

152 
	`check¦ash
(
¬gv
);

153 
uid
 = 
	`g‘euid
();

155 ()
	`sigÇl
(
SIGINFO
, 
sigšfo
);

156 ià(*
¬gv
) {

157 
¡dš_ok
 = 
	`i§‰y
(
STDIN_FILENO
);

159 ià(
Iæag
) {

160 ià(
	`check2
(
¬gv
) == 0)

161 
	`ex™
 (1);

163 ià(
ræag
)

164 
	`rm_Œ“
(
¬gv
);

166 
	`rm_fe
(
¬gv
);

169 
	`ex™
 (
ev®
);

170 
	}
}

173 
	$rm_Œ“
(**
¬gv
)

175 
FTS
 *
ás
;

176 
FTSENT
 *
p
;

177 
Ãed¡©
;

178 
æags
;

179 
rv®
;

185 
Ãed¡©
 = !
uid
 || (!
fæag
 && !
iæag
 && 
¡dš_ok
);

191 
	#SKIPPED
 1

	)

193 
æags
 = 
FTS_PHYSICAL
;

194 ià(!
Ãed¡©
)

195 
æags
 |ğ
FTS_NOSTAT
;

196 ià(
Wæag
)

197 
æags
 |ğ
FTS_WHITEOUT
;

198 ià(!(
ás
 = 
	`ás_İ’
(
¬gv
, 
æags
, 
NULL
))) {

199 ià(
fæag
 && 
”ºo
 =ğ
ENOENT
)

201 
	`”r
(1, "fts_open");

203 (
p
 = 
	`ás_»ad
(
ás
)è!ğ
NULL
) {

204 
p
->
ás_šfo
) {

205 
FTS_DNR
:

206 ià(!
fæag
 || 
p
->
ás_”ºo
 !ğ
ENOENT
) {

207 
	`w¬nx
("%s: %s",

208 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

209 
ev®
 = 1;

212 
FTS_ERR
:

213 
	`”rx
(1, "%s: %s", 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

214 
FTS_NS
:

219 ià(!
Ãed¡©
)

221 ià(!
fæag
 || 
p
->
ás_”ºo
 !ğ
ENOENT
) {

222 
	`w¬nx
("%s: %s",

223 
p
->
ás_·th
, 
	`¡»¼Ü
Õ->
ás_”ºo
));

224 
ev®
 = 1;

227 
FTS_D
:

229 ià(!
fæag
 && !
	`check
(
p
->
ás_·th
,…->
ás_acı©h
,

230 
p
->
ás_¡©p
)) {

231 ()
	`ás_£t
(
ás
, 
p
, 
FTS_SKIP
);

232 
p
->
ás_numb”
 = 
SKIPPED
;

234 ià(!
uid
 &&

235 (
p
->
ás_¡©p
->
¡_æags
 & (
UF_APPEND
|
UF_IMMUTABLE
)) &&

236 !(
p
->
ás_¡©p
->
¡_æags
 & (
SF_APPEND
|
SF_IMMUTABLE
)) &&

237 
	`lchæags
(
p
->
ás_acı©h
,

238 
p
->
ás_¡©p
->
¡_æags
 &ğ~(
UF_APPEND
|
UF_IMMUTABLE
)) < 0)

239 
”r
;

241 
FTS_DP
:

243 ià(
p
->
ás_numb”
 =ğ
SKIPPED
)

247 ià(!
fæag
 &&

248 !
	`check
(
p
->
ás_·th
,…->
ás_acı©h
,…->
ás_¡©p
))

252 
rv®
 = 0;

253 ià(!
uid
 &&

254 (
p
->
ás_¡©p
->
¡_æags
 & (
UF_APPEND
|
UF_IMMUTABLE
)) &&

255 !(
p
->
ás_¡©p
->
¡_æags
 & (
SF_APPEND
|
SF_IMMUTABLE
)))

256 
rv®
 = 
	`lchæags
(
p
->
ás_acı©h
,

257 
p
->
ás_¡©p
->
¡_æags
 &ğ~(
UF_APPEND
|
UF_IMMUTABLE
));

258 ià(
rv®
 == 0) {

264 
p
->
ás_šfo
) {

265 
FTS_DP
:

266 
FTS_DNR
:

267 
rv®
 = 
	`rmdœ
(
p
->
ás_acı©h
);

268 ià(
rv®
 =ğ0 || (
fæag
 && 
”ºo
 =ğ
ENOENT
)) {

269 ià(
rv®
 =ğ0 && 
væag
)

270 ()
	`´štf
("%s\n",

271 
p
->
ás_·th
);

272 ià(
rv®
 =ğ0 && 
šfo
) {

273 
šfo
 = 0;

274 ()
	`´štf
("%s\n",

275 
p
->
ás_·th
);

281 
FTS_W
:

282 
rv®
 = 
	`und–‘e
(
p
->
ás_acı©h
);

283 ià(
rv®
 =ğ0 && (
fæag
 && 
”ºo
 =ğ
ENOENT
)) {

284 ià(
væag
)

285 ()
	`´štf
("%s\n",

286 
p
->
ás_·th
);

287 ià(
šfo
) {

288 
šfo
 = 0;

289 ()
	`´štf
("%s\n",

290 
p
->
ás_·th
);

296 
FTS_NS
:

301 ià(
fæag
)

305 ià(
Pæag
)

306 ià(!
	`rm_ov”wr™e
(
p
->
ás_acı©h
, 
NULL
))

308 
rv®
 = 
	`uÆšk
(
p
->
ás_acı©h
);

309 ià(
rv®
 =ğ0 || (
fæag
 && 
”ºo
 =ğ
ENOENT
)) {

310 ià(
rv®
 =ğ0 && 
væag
)

311 ()
	`´štf
("%s\n",

312 
p
->
ás_·th
);

313 ià(
rv®
 =ğ0 && 
šfo
) {

314 
šfo
 = 0;

315 ()
	`´štf
("%s\n",

316 
p
->
ás_·th
);

322 
”r
:

323 
	`w¬n
("%s", 
p
->
ás_·th
);

324 
ev®
 = 1;

326 ià(
”ºo
)

327 
	`”r
(1, "fts_read");

328 
	`ás_şo£
(
ás
);

329 
	}
}

332 
	$rm_fe
(**
¬gv
)

334 
¡©
 
sb
;

335 
rv®
;

336 *
f
;

342 (
f
 = *
¬gv
++è!ğ
NULL
) {

344 ià(
	`l¡©
(
f
, &
sb
)) {

345 ià(
Wæag
) {

346 
sb
.
¡_mode
 = 
S_IFWHT
|
S_IWUSR
|
S_IRUSR
;

348 ià(!
fæag
 || 
”ºo
 !ğ
ENOENT
) {

349 
	`w¬n
("%s", 
f
);

350 
ev®
 = 1;

354 } ià(
Wæag
) {

355 
	`w¬nx
("%s: %s", 
f
, 
	`¡»¼Ü
(
EEXIST
));

356 
ev®
 = 1;

360 ià(
	`S_ISDIR
(
sb
.
¡_mode
è&& !
dæag
) {

361 
	`w¬nx
("%s: i ¨dœeùÜy", 
f
);

362 
ev®
 = 1;

365 ià(!
fæag
 && !
	`S_ISWHT
(
sb
.
¡_mode
è&& !
	`check
(
f
, f, &sb))

367 
rv®
 = 0;

368 ià(!
uid
 && !
	`S_ISWHT
(
sb
.
¡_mode
) &&

369 (
sb
.
¡_æags
 & (
UF_APPEND
|
UF_IMMUTABLE
)) &&

370 !(
sb
.
¡_æags
 & (
SF_APPEND
|
SF_IMMUTABLE
)))

371 
rv®
 = 
	`lchæags
(
f
, 
sb
.
¡_æags
 & ~(
UF_APPEND
|
UF_IMMUTABLE
));

372 ià(
rv®
 == 0) {

373 ià(
	`S_ISWHT
(
sb
.
¡_mode
))

374 
rv®
 = 
	`und–‘e
(
f
);

375 ià(
	`S_ISDIR
(
sb
.
¡_mode
))

376 
rv®
 = 
	`rmdœ
(
f
);

378 ià(
Pæag
)

379 ià(!
	`rm_ov”wr™e
(
f
, &
sb
))

381 
rv®
 = 
	`uÆšk
(
f
);

384 ià(
rv®
 && (!
fæag
 || 
”ºo
 !ğ
ENOENT
)) {

385 
	`w¬n
("%s", 
f
);

386 
ev®
 = 1;

388 ià(
væag
 && 
rv®
 == 0)

389 ()
	`´štf
("%s\n", 
f
);

390 ià(
šfo
 && 
rv®
 == 0) {

391 
šfo
 = 0;

392 ()
	`´štf
("%s\n", 
f
);

395 
	}
}

409 
	$rm_ov”wr™e
(*
fe
, 
¡©
 *
sbp
)

411 
¡©
 
sb
;

412 
¡©fs
 
fsb
;

413 
off_t
 
Ën
;

414 
bsize
, 
fd
, 
wËn
;

415 *
buf
 = 
NULL
;

417 
fd
 = -1;

418 ià(
sbp
 =ğ
NULL
) {

419 ià(
	`l¡©
(
fe
, &
sb
))

420 
”r
;

421 
sbp
 = &
sb
;

423 ià(!
	`S_ISREG
(
sbp
->
¡_mode
))

425 ià(
sbp
->
¡_Æšk
 > 1 && !
fæag
) {

426 
	`w¬nx
("%s (inode %u):‚ot overwritten dueo multiple†inks",

427 
fe
, 
sbp
->
¡_šo
);

430 ià((
fd
 = 
	`İ’
(
fe
, 
O_WRONLY
, 0)) == -1)

431 
”r
;

432 ià(
	`f¡©fs
(
fd
, &
fsb
) == -1)

433 
”r
;

434 
bsize
 = 
	`MAX
(
fsb
.
f_iosize
, 1024);

435 ià((
buf
 = 
	`m®loc
(
bsize
)è=ğ
NULL
)

436 
	`”r
(1, "%s: m®loc", 
fe
);

438 
	#PASS
(
by‹
) { \

439 
	`mem£t
(
buf
, 
by‹
, 
bsize
); \

440 
Ën
 = 
sbp
->
¡_size
;†’ > 0;†’ -ğ
wËn
) { \

441 
wËn
 = 
Ën
 < 
bsize
 ?†en : bsize; \

442 ià(
	`wr™e
(
fd
, 
buf
, 
wËn
) != wlen) \

443 
”r
; \

445 }

	)

446 
	`PASS
(0xff);

447 ià(
	`fsync
(
fd
è|| 
	`l£ek
(fd, (
off_t
)0, 
SEEK_SET
))

448 
”r
;

449 
	`PASS
(0x00);

450 ià(
	`fsync
(
fd
è|| 
	`l£ek
(fd, (
off_t
)0, 
SEEK_SET
))

451 
”r
;

452 
	`PASS
(0xff);

453 ià(!
	`fsync
(
fd
è&& !
	`şo£
(fd)) {

454 
	`ä“
(
buf
);

458 
”r
: 
ev®
 = 1;

459 ià(
buf
)

460 
	`ä“
(
buf
);

461 ià(
fd
 != -1)

462 
	`şo£
(
fd
);

463 
	`w¬n
("%s", 
fe
);

465 
	}
}

469 
	$check
(*
·th
, *
Çme
, 
¡©
 *
¥
)

471 
ch
, 
fœ¡
;

472 
mod•
[15], *
æag¥
;

475 ià(
iæag
)

476 ()
	`årštf
(
¡d”r
, "»mov%s? ", 
·th
);

484 ià(!
¡dš_ok
 || 
	`S_ISLNK
(
¥
->
¡_mode
) ||

485 (!
	`acûss
(
Çme
, 
W_OK
) &&

486 !(
¥
->
¡_æags
 & (
SF_APPEND
|
SF_IMMUTABLE
)) &&

487 (!(
¥
->
¡_æags
 & (
UF_APPEND
|
UF_IMMUTABLE
)è|| !
uid
)))

489 
	`¡rmode
(
¥
->
¡_mode
, 
mod•
);

490 ià((
æag¥
 = 
	`fæag¡o¡r
(
¥
->
¡_æags
)è=ğ
NULL
)

491 
	`”r
(1, "fflagstostr");

492 ià(
Pæag
)

493 
	`”rx
(1,

495 
·th
);

496 ()
	`årštf
(
¡d”r
, "override %s%s%s/%s %s%sfor %s? ",

497 
mod•
 + 1, modep[9] == ' ' ? "" : " ",

498 
	`u£r_äom_uid
(
¥
->
¡_uid
, 0),

499 
	`group_äom_gid
(
¥
->
¡_gid
, 0),

500 *
æag¥
 ? flagsp : "", *flagsp ? " " : "",

501 
·th
);

502 
	`ä“
(
æag¥
);

504 ()
	`fæush
(
¡d”r
);

506 
fœ¡
 = 
ch
 = 
	`g‘ch¬
();

507 
ch
 !ğ'\n' && ch !ğ
EOF
)

508 
ch
 = 
	`g‘ch¬
();

509  (
fœ¡
 == 'y' || first == 'Y');

510 
	}
}

512 
	#ISSLASH
(
a
è(×)[0] =ğ'/' && (a)[1] =ğ'\0')

	)

514 
	$check¦ash
(**
¬gv
)

516 **
t
, **
u
;

517 
com¶ašed
;

519 
com¶ašed
 = 0;

520 
t
 = 
¬gv
; *t;) {

521 ià(
	`ISSLASH
(*
t
)) {

522 ià(!
com¶ašed
++)

523 
	`w¬nx
("\"/\" may‚ot be„emoved");

524 
ev®
 = 1;

525 
u
 = 
t
; u[0] !ğ
NULL
; ++u)

526 
u
[0] = u[1];

528 ++
t
;

531 
	}
}

534 
	$check2
(**
¬gv
)

536 
¡©
 
¡
;

537 
fœ¡
;

538 
ch
;

539 
fcouÁ
 = 0;

540 
dcouÁ
 = 0;

541 
i
;

542 cÚ¡ *
dÇme
 = 
NULL
;

544 
i
 = 0; 
¬gv
[i]; ++i) {

545 ià(
	`l¡©
(
¬gv
[
i
], &
¡
) == 0) {

546 ià(
	`S_ISDIR
(
¡
.
¡_mode
)) {

547 ++
dcouÁ
;

548 
dÇme
 = 
¬gv
[
i
];

550 ++
fcouÁ
;

554 
fœ¡
 = 0;

555 
fœ¡
 != 'n' && first != 'N' && first != 'y' && first != 'Y') {

556 ià(
dcouÁ
 && 
ræag
) {

557 
	`årštf
(
¡d”r
, "recursively„emove");

558 ià(
dcouÁ
 == 1)

559 
	`årštf
(
¡d”r
, " %s", 
dÇme
);

561 
	`årštf
(
¡d”r
, " %d dœs", 
dcouÁ
);

562 ià(
fcouÁ
 == 1)

563 
	`årštf
(
¡d”r
, "‡nd 1 file");

564 ià(
fcouÁ
 > 1)

565 
	`årštf
(
¡d”r
, "‡nd %d fes", 
fcouÁ
);

566 } ià(
dcouÁ
 + 
fcouÁ
 > 3) {

567 
	`årštf
(
¡d”r
, "»mov%d fes", 
dcouÁ
 + 
fcouÁ
);

571 
	`årštf
(
¡d”r
, "? ");

572 
	`fæush
(
¡d”r
);

574 
fœ¡
 = 
ch
 = 
	`g‘ch¬
();

575 
ch
 !ğ'\n' && ch !ğ
EOF
)

576 
ch
 = 
	`g‘ch¬
();

577 ià(
ch
 =ğ
EOF
)

580  (
fœ¡
 == 'y' || first == 'Y');

581 
	}
}

583 
	#ISDOT
(
a
è(×)[0] =ğ'.' && (!×)[1] || (×)[1] =ğ'.' && !×)[2])))

	)

585 
	$checkdÙ
(**
¬gv
)

587 *
p
, **
§ve
, **
t
;

588 
com¶ašed
;

590 
com¶ašed
 = 0;

591 
t
 = 
¬gv
; *t;) {

592 ià((
p
 = 
	`¡¼chr
(*
t
, '/')è!ğ
NULL
)

593 ++
p
;

595 
p
 = *
t
;

596 ià(
	`ISDOT
(
p
)) {

597 ià(!
com¶ašed
++)

598 
	`w¬nx
("\".\"‡nd \"..\" may‚ot be„emoved");

599 
ev®
 = 1;

600 
§ve
 = 
t
; (t[0] =[1]è!ğ
NULL
; ++t)

602 
t
 = 
§ve
;

604 ++
t
;

606 
	}
}

609 
	$u§ge
()

612 ()
	`årštf
(
¡d”r
, "%s\n%s\n",

615 
	`ex™
(
EX_USAGE
);

616 
	}
}

619 
	$sigšfo
(
sig
 
__unu£d
)

622 
šfo
 = 1;

623 
	}
}

	@rmdir/rmdir.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)rmdir.c 8.3 (Berkeley) 4/2/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/rmdir/rmdir.c,v 1.20.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<”r.h
>

45 
	~<¡dio.h
>

46 
	~<¡dlib.h
>

47 
	~<¡ršg.h
>

48 
	~<uni¡d.h
>

50 
rm_·th
(*);

51 
u§ge
();

53 
	gpæag
;

54 
	gvæag
;

57 
	$maš
(
¬gc
, *
¬gv
[])

59 
ch
, 
”rÜs
;

61 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "pv")) != -1)

62 
ch
) {

64 
pæag
 = 1;

67 
væag
 = 1;

71 
	`u§ge
();

73 
¬gc
 -ğ
İtšd
;

74 
¬gv
 +ğ
İtšd
;

76 ià(
¬gc
 == 0)

77 
	`u§ge
();

79 
”rÜs
 = 0; *
¬gv
;‡rgv++) {

80 ià(
	`rmdœ
(*
¬gv
) < 0) {

81 
	`w¬n
("%s", *
¬gv
);

82 
”rÜs
 = 1;

84 ià(
væag
)

85 
	`´štf
("%s\n", *
¬gv
);

86 ià(
pæag
)

87 
”rÜs
 |ğ
	`rm_·th
(*
¬gv
);

91 
	`ex™
(
”rÜs
);

92 
	}
}

95 
	$rm_·th
(*
·th
)

97 *
p
;

99 
p
 = 
·th
 + 
	`¡¾’
(path);

100 --
p
 > 
·th
 && *p == '/')

102 *++
p
 = '\0';

103 (
p
 = 
	`¡¼chr
(
·th
, '/')è!ğ
NULL
) {

105 --
p
 >ğ
·th
 && *p == '/')

107 *++
p
 = '\0';

108 ià(
p
 =ğ
·th
)

111 ià(
	`rmdœ
(
·th
) < 0) {

112 
	`w¬n
("%s", 
·th
);

115 ià(
væag
)

116 
	`´štf
("%s\n", 
·th
);

120 
	}
}

123 
	$u§ge
()

126 ()
	`årštf
(
¡d”r
, "usage:„mdir [-pv] directory ...\n");

127 
	`ex™
(1);

128 
	}
}

	@setfacl/file.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/setfacl/file.c,v 1.5.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<sys/ty³s.h
>

31 
	~<sys/aş.h
>

33 
	~<”r.h
>

34 
	~<¡dio.h
>

35 
	~<¡ršg.h
>

37 
	~"£tçş.h
"

42 
aş_t


43 
	$g‘_aş_äom_fe
(cÚ¡ *
f’ame
)

45 
FILE
 *
fe
;

46 
buf
[
BUFSIZ
];

48 ià(
f’ame
 =ğ
NULL
)

49 
	`”r
(1, "(null) filename in get_acl_from_file()");

51 
	`bz”o
(&
buf
, (buf));

53 ià(
	`¡rcmp
(
f’ame
, "-") == 0) {

54 ià(
have_¡dš
 != 0)

55 
	`”r
(1, "cannot specify morehan one stdin");

56 
fe
 = 
¡dš
;

57 
have_¡dš
 = 1;

59 
fe
 = 
	`fİ’
(
f’ame
, "r");

60 ià(
fe
 =ğ
NULL
)

61 
	`”r
(1, "fİ’(è% çed", 
f’ame
);

64 
	`ä—d
(
buf
, (buf), (
size_t
)1, 
fe
);

65 ià(
	`ã¼Ü
(
fe
) != 0) {

66 
	`fşo£
(
fe
);

67 
	`”r
(1, "”rÜ„—dšg from %s", 
f’ame
);

68 } ià(
	`ãof
(
fe
) == 0) {

69 
	`fşo£
(
fe
);

70 
	`”rx
(1, "lštoØlÚg iÀ%s", 
f’ame
);

73 
	`fşo£
(
fe
);

75  (
	`aş_äom_‹xt
(
buf
));

76 
	}
}

	@setfacl/mask.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/setfacl/mask.c,v 1.8.22.2.6.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<sys/ty³s.h
>

31 
	~<sys/aş.h
>

32 
	~<sys/¡©.h
>

34 
	~<”r.h
>

35 
	~<”ºo.h
>

36 
	~<¡dio.h
>

37 
	~<¡dlib.h
>

39 
	~"£tçş.h
"

43 
	$£t_aş_mask
(
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
)

45 
aş_’Œy_t
 
’Œy
;

46 
aş_t
 
aş
;

47 
aş_g_t
 
g
;

48 
’Œy_id
;

50 
’Œy
 = 
NULL
;

57 ià(
have_mask
)

60 
aş
 = 
	`aş_dup
(*
´ev_aş
);

61 ià(
aş
 =ğ
NULL
)

62 
	`”r
(1, "%s:‡ş_dup(èçed", 
f’ame
);

64 ià(
n_æag
 == 0) {

72 ià(
	`aş_ÿlc_mask
(&
aş
)) {

73 
	`w¬n
("%s:‡ş_ÿlc_mask(èçed", 
f’ame
);

74 
	`aş_ä“
(
aş
);

84 
’Œy_id
 = 
ACL_FIRST_ENTRY
;

86 
	`aş_g‘_’Œy
(
aş
, 
’Œy_id
, &
’Œy
) == 1) {

87 
’Œy_id
 = 
ACL_NEXT_ENTRY
;

88 ià(
	`aş_g‘_g_ty³
(
’Œy
, &
g
) == -1)

89 
	`”r
(1, "%s:‡cl_get_tag_type() failed",

90 
f’ame
);

92 ià(
g
 =ğ
ACL_MASK
) {

93 
	`aş_ä“
(
aş
);

104 
	`w¬nx
("%s: w¬nšg:‚ØmaskƒÁry", 
f’ame
);

105 
	`aş_ä“
(
aş
);

109 
	`aş_ä“
(*
´ev_aş
);

110 *
´ev_aş
 = 
	`aş_dup
(
aş
);

111 
	`aş_ä“
(
aş
);

114 
	}
}

	@setfacl/merge.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/setfacl/merge.c,v 1.8.22.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<sys/ty³s.h
>

31 
	~<sys/aş.h
>

32 
	~<sys/¡©.h
>

34 
	~<”r.h
>

35 
	~<¡dio.h
>

37 
	~"£tçş.h
"

39 
m”ge_u£r_group
(
aş_’Œy_t
 *
’Œy
,‡ş_’Œy_ˆ*
’Œy_Ãw
,

40 
aş_b¿nd
);

43 
	$m”ge_u£r_group
(
aş_’Œy_t
 *
’Œy
,‡ş_’Œy_ˆ*
’Œy_Ãw
, 
aş_b¿nd
)

45 
aş_³rm£t_t
 
³rm£t
;

46 
aş_’Œy_ty³_t
 
’Œy_ty³
;

47 
aş_æag£t_t
 
æag£t
;

48 
have_’Œy
;

49 
uid_t
 *
id
, *
id_Ãw
;

51 
have_’Œy
 = 0;

53 
id
 = 
	`aş_g‘_qu®if›r
(*
’Œy
);

54 ià(
id
 =ğ
NULL
)

55 
	`”r
(1, "acl_get_qualifier() failed");

56 
id_Ãw
 = 
	`aş_g‘_qu®if›r
(*
’Œy_Ãw
);

57 ià(
id_Ãw
 =ğ
NULL
)

58 
	`”r
(1, "acl_get_qualifier() failed");

59 ià(*
id
 =ğ*
id_Ãw
) {

61 ià(
	`aş_g‘_³rm£t
(*
’Œy
, &
³rm£t
) == -1)

62 
	`”r
(1, "acl_get_permset() failed");

63 ià(
	`aş_£t_³rm£t
(*
’Œy_Ãw
, 
³rm£t
) == -1)

64 
	`”r
(1, "acl_set_permset() failed");

66 ià(
aş_b¿nd
 =ğ
ACL_BRAND_NFS4
) {

67 ià(
	`aş_g‘_’Œy_ty³_Å
(*
’Œy
, &
’Œy_ty³
))

68 
	`”r
(1, "acl_get_entry_type_np() failed");

69 ià(
	`aş_£t_’Œy_ty³_Å
(*
’Œy_Ãw
, 
’Œy_ty³
))

70 
	`”r
(1, "acl_set_entry_type_np() failed");

71 ià(
	`aş_g‘_æag£t_Å
(*
’Œy
, &
æag£t
))

72 
	`”r
(1, "acl_get_flagset_np() failed");

73 ià(
	`aş_£t_æag£t_Å
(*
’Œy_Ãw
, 
æag£t
))

74 
	`”r
(1, "acl_set_flagset_np() failed");

77 
have_’Œy
 = 1;

79 
	`aş_ä“
(
id
);

80 
	`aş_ä“
(
id_Ãw
);

82  (
have_’Œy
);

83 
	}
}

89 
	$m”ge_aş
(
aş_t
 
aş
,‡ş_ˆ*
´ev_aş
, cÚ¡ *
f’ame
)

91 
aş_’Œy_t
 
’Œy
, 
’Œy_Ãw
;

92 
aş_³rm£t_t
 
³rm£t
;

93 
aş_t
 
aş_Ãw
;

94 
aş_g_t
 
g
, 
g_Ãw
;

95 
aş_’Œy_ty³_t
 
’Œy_ty³
, 
’Œy_ty³_Ãw
;

96 
aş_æag£t_t
 
æag£t
;

97 
’Œy_id
, 
’Œy_id_Ãw
, 
have_’Œy
, 
’Œy_numb”
 = 0;

98 
aş_b¿nd
, 
´ev_aş_b¿nd
;

100 
	`aş_g‘_b¿nd_Å
(
aş
, &
aş_b¿nd
);

101 
	`aş_g‘_b¿nd_Å
(*
´ev_aş
, &
´ev_aş_b¿nd
);

103 ià(
	`b¿ndšg_mism©ch
(
aş_b¿nd
, 
´ev_aş_b¿nd
)) {

104 
	`w¬nx
("%s: branding mismatch;ƒxisting ACL is %s, "

105 "’ŒyØbm”ged i %s", 
f’ame
,

106 
	`b¿nd_Çme
(
´ev_aş_b¿nd
), b¿nd_Çme(
aş_b¿nd
));

110 
aş_Ãw
 = 
	`aş_dup
(*
´ev_aş
);

111 ià(
aş_Ãw
 =ğ
NULL
)

112 
	`”r
(1, "%s:‡ş_dup(èçed", 
f’ame
);

114 
’Œy_id
 = 
ACL_FIRST_ENTRY
;

116 
	`aş_g‘_’Œy
(
aş
, 
’Œy_id
, &
’Œy
) == 1) {

117 
’Œy_id
 = 
ACL_NEXT_ENTRY
;

118 
have_’Œy
 = 0;

121 ià(
	`aş_g‘_g_ty³
(
’Œy
, &
g
) == -1)

122 
	`”r
(1, "%s:‡cl_get_tag_type() failed - "

123 "šv®id ACLƒÁry", 
f’ame
);

124 ià(
g
 =ğ
ACL_MASK
)

125 
have_mask
 = 1;

128 
’Œy_id_Ãw
 = 
ACL_FIRST_ENTRY
;

129 
	`aş_g‘_’Œy
(
aş_Ãw
, 
’Œy_id_Ãw
, &
’Œy_Ãw
) == 1) {

130 
’Œy_id_Ãw
 = 
ACL_NEXT_ENTRY
;

132 ià(
	`aş_g‘_g_ty³
(
’Œy
, &
g
) == -1)

133 
	`”r
(1, "%s:‡cl_get_tag_type() failed",

134 
f’ame
);

135 ià(
	`aş_g‘_g_ty³
(
’Œy_Ãw
, &
g_Ãw
) == -1)

136 
	`”r
(1, "%s:‡cl_get_tag_type() failed",

137 
f’ame
);

138 ià(
g
 !ğ
g_Ãw
)

145 ià(
aş_b¿nd
 =ğ
ACL_BRAND_NFS4
) {

146 ià(
	`aş_g‘_’Œy_ty³_Å
(
’Œy
, &
’Œy_ty³
))

147 
	`”r
(1, "%s:‡cl_get_entry_type_np() "

148 "çed", 
f’ame
);

149 ià(
	`aş_g‘_’Œy_ty³_Å
(
’Œy_Ãw
, &
’Œy_ty³_Ãw
))

150 
	`”r
(1, "%s:‡cl_get_entry_type_np() "

151 "çed", 
f’ame
);

152 ià(
’Œy_ty³
 !ğ
’Œy_ty³_Ãw
)

156 
g
) {

157 
ACL_USER
:

158 
ACL_GROUP
:

159 
have_’Œy
 = 
	`m”ge_u£r_group
(&
’Œy
,

160 &
’Œy_Ãw
, 
aş_b¿nd
);

161 ià(
have_’Œy
 == 0)

164 
ACL_USER_OBJ
:

165 
ACL_GROUP_OBJ
:

166 
ACL_OTHER
:

167 
ACL_MASK
:

168 
ACL_EVERYONE
:

169 ià(
	`aş_g‘_³rm£t
(
’Œy
, &
³rm£t
) == -1)

170 
	`”r
(1, "%s:‡cl_get_permset() failed",

171 
f’ame
);

172 ià(
	`aş_£t_³rm£t
(
’Œy_Ãw
, 
³rm£t
) == -1)

173 
	`”r
(1, "%s:‡cl_set_permset() failed",

174 
f’ame
);

176 ià(
aş_b¿nd
 =ğ
ACL_BRAND_NFS4
) {

177 ià(
	`aş_g‘_’Œy_ty³_Å
(
’Œy
, &
’Œy_ty³
))

178 
	`”r
(1, "%s:‡cl_get_entry_type_np() failed",

179 
f’ame
);

180 ià(
	`aş_£t_’Œy_ty³_Å
(
’Œy_Ãw
, 
’Œy_ty³
))

181 
	`”r
(1, "%s:‡cl_set_entry_type_np() failed",

182 
f’ame
);

183 ià(
	`aş_g‘_æag£t_Å
(
’Œy
, &
æag£t
))

184 
	`”r
(1, "%s:‡cl_get_flagset_np() failed",

185 
f’ame
);

186 ià(
	`aş_£t_æag£t_Å
(
’Œy_Ãw
, 
æag£t
))

187 
	`”r
(1, "%s:‡cl_set_flagset_np() failed",

188 
f’ame
);

190 
have_’Œy
 = 1;

194 
	`”rx
(1, "%s: inv®idagy³: %i", 
f’ame
, 
g
);

200 ià(
have_’Œy
 == 0) {

207 ià(
aş_b¿nd
 =ğ
ACL_BRAND_NFS4
) {

208 ià(
	`aş_ü—‹_’Œy_Å
(&
aş_Ãw
, &
’Œy_Ãw
, 
’Œy_numb”
) == -1) {

209 
	`w¬n
("%s:‡ş_ü—‹_’Œy_Å(èçed", 
f’ame
);

210 
	`aş_ä“
(
aş_Ãw
);

219 
’Œy_numb”
++;

221 ià(
	`aş_ü—‹_’Œy
(&
aş_Ãw
, &
’Œy_Ãw
) == -1) {

222 
	`w¬n
("%s:‡ş_ü—‹_’Œy(èçed", 
f’ame
);

223 
	`aş_ä“
(
aş_Ãw
);

227 ià(
	`aş_cİy_’Œy
(
’Œy_Ãw
, 
’Œy
) == -1)

228 
	`”r
(1, "%s:‡ş_cİy_’Œy(èçed", 
f’ame
);

232 
	`aş_ä“
(*
´ev_aş
);

233 *
´ev_aş
 = 
aş_Ãw
;

236 
	}
}

239 
	$add_aş
(
aş_t
 
aş
, 
ušt
 
’Œy_numb”
,‡ş_ˆ*
´ev_aş
, cÚ¡ *
f’ame
)

241 
aş_’Œy_t
 
’Œy
, 
’Œy_Ãw
;

242 
aş_t
 
aş_Ãw
;

243 
’Œy_id
, 
aş_b¿nd
, 
´ev_aş_b¿nd
;

245 
	`aş_g‘_b¿nd_Å
(
aş
, &
aş_b¿nd
);

246 
	`aş_g‘_b¿nd_Å
(*
´ev_aş
, &
´ev_aş_b¿nd
);

248 ià(
´ev_aş_b¿nd
 !ğ
ACL_BRAND_NFS4
) {

249 
	`w¬nx
("%s:he '-a' option is only‡pplicableo NFSv4 ACLs",

250 
f’ame
);

254 ià(
	`b¿ndšg_mism©ch
(
aş_b¿nd
, 
ACL_BRAND_NFS4
)) {

255 
	`w¬nx
("%s: branding mismatch;ƒxisting ACL is NFSv4, "

256 "’ŒyØbadded i %s", 
f’ame
,

257 
	`b¿nd_Çme
(
aş_b¿nd
));

261 
aş_Ãw
 = 
	`aş_dup
(*
´ev_aş
);

262 ià(
aş_Ãw
 =ğ
NULL
)

263 
	`”r
(1, "%s:‡ş_dup(èçed", 
f’ame
);

265 
’Œy_id
 = 
ACL_FIRST_ENTRY
;

267 
	`aş_g‘_’Œy
(
aş
, 
’Œy_id
, &
’Œy
) == 1) {

268 
’Œy_id
 = 
ACL_NEXT_ENTRY
;

270 ià(
	`aş_ü—‹_’Œy_Å
(&
aş_Ãw
, &
’Œy_Ãw
, 
’Œy_numb”
) == -1) {

271 
	`w¬n
("%s:‡ş_ü—‹_’Œy_Å(èçed", 
f’ame
);

272 
	`aş_ä“
(
aş_Ãw
);

282 
’Œy_numb”
++;

284 ià(
	`aş_cİy_’Œy
(
’Œy_Ãw
, 
’Œy
) == -1)

285 
	`”r
(1, "%s:‡ş_cİy_’Œy(èçed", 
f’ame
);

288 
	`aş_ä“
(*
´ev_aş
);

289 *
´ev_aş
 = 
aş_Ãw
;

292 
	}
}

	@setfacl/remove.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/setfacl/remove.c,v 1.6.22.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<sys/ty³s.h
>

31 
	~<sys/aş.h
>

32 
	~<sys/¡©.h
>

34 
	~<”r.h
>

35 
	~<¡dio.h
>

36 
	~<¡ršg.h
>

38 
	~"£tçş.h
"

44 
	$»move_aş
(
aş_t
 
aş
,‡ş_ˆ*
´ev_aş
, cÚ¡ *
f’ame
)

46 
aş_’Œy_t
 
’Œy
;

47 
aş_t
 
aş_Ãw
;

48 
aş_g_t
 
g
;

49 
ÿ¼›d_”rÜ
, 
’Œy_id
, 
aş_b¿nd
, 
´ev_aş_b¿nd
;

51 
ÿ¼›d_”rÜ
 = 0;

53 
	`aş_g‘_b¿nd_Å
(
aş
, &
aş_b¿nd
);

54 
	`aş_g‘_b¿nd_Å
(*
´ev_aş
, &
´ev_aş_b¿nd
);

56 ià(
	`b¿ndšg_mism©ch
(
aş_b¿nd
, 
´ev_aş_b¿nd
)) {

57 
	`w¬nx
("%s: branding mismatch;ƒxisting ACL is %s, "

58 "’ŒyØb»moved i %s", 
f’ame
,

59 
	`b¿nd_Çme
(
´ev_aş_b¿nd
), b¿nd_Çme(
aş_b¿nd
));

63 
ÿ¼›d_”rÜ
 = 0;

65 
aş_Ãw
 = 
	`aş_dup
(*
´ev_aş
);

66 ià(
aş_Ãw
 =ğ
NULL
)

67 
	`”r
(1, "%s:‡ş_dup(èçed", 
f’ame
);

69 
g
 = 
ACL_UNDEFINED_TAG
;

72 
’Œy_id
 = 
ACL_FIRST_ENTRY
;

73 
	`aş_g‘_’Œy
(
aş
, 
’Œy_id
, &
’Œy
) == 1) {

74 
’Œy_id
 = 
ACL_NEXT_ENTRY
;

75 ià(
	`aş_g‘_g_ty³
(
’Œy
, &
g
) == -1)

76 
	`”r
(1, "%s:‡ş_g‘_g_ty³(èçed", 
f’ame
);

77 ià(
g
 =ğ
ACL_MASK
)

78 
have_mask
++;

79 ià(
	`aş_d–‘e_’Œy
(
aş_Ãw
, 
’Œy
) == -1) {

80 
ÿ¼›d_”rÜ
++;

81 
	`w¬nx
("%s: cannot„emove‚on-existent ACLƒntry",

82 
f’ame
);

86 
	`aş_ä“
(*
´ev_aş
);

87 *
´ev_aş
 = 
aş_Ãw
;

89 ià(
ÿ¼›d_”rÜ
)

93 
	}
}

96 
	$»move_by_numb”
(
ušt
 
’Œy_numb”
, 
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
)

98 
aş_’Œy_t
 
’Œy
;

99 
aş_t
 
aş_Ãw
;

100 
aş_g_t
 
g
;

101 
ÿ¼›d_”rÜ
, 
’Œy_id
;

102 
ušt
 
i
;

104 
ÿ¼›d_”rÜ
 = 0;

106 
aş_Ãw
 = 
	`aş_dup
(*
´ev_aş
);

107 ià(
aş_Ãw
 =ğ
NULL
)

108 
	`”r
(1, "%s:‡ş_dup(èçed", 
f’ame
);

110 
g
 = 
ACL_UNDEFINED_TAG
;

118 
’Œy_id
 = 
ACL_FIRST_ENTRY
;

119 
i
 = 0;

120 
	`aş_g‘_’Œy
(
aş_Ãw
, 
’Œy_id
, &
’Œy
) == 1) {

121 
’Œy_id
 = 
ACL_NEXT_ENTRY
;

122 ià(
i
 !ğ
’Œy_numb”
)

124 ià(
	`aş_g‘_g_ty³
(
’Œy
, &
g
) == -1)

125 
	`”r
(1, "%s:‡ş_g‘_g_ty³(èçed", 
f’ame
);

126 ià(
g
 =ğ
ACL_MASK
)

127 
have_mask
++;

130 ià(
	`aş_d–‘e_’Œy_Å
(
aş_Ãw
, 
’Œy_numb”
) == -1) {

131 
ÿ¼›d_”rÜ
++;

132 
	`w¬n
("%s:‡ş_d–‘e_’Œy_Å(èçed", 
f’ame
);

135 
	`aş_ä“
(*
´ev_aş
);

136 *
´ev_aş
 = 
aş_Ãw
;

138 ià(
ÿ¼›d_”rÜ
)

142 
	}
}

148 
	$»move_deçuÉ
(
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
)

151 
	`aş_ä“
(*
´ev_aş
);

152 *
´ev_aş
 = 
	`aş_š™
(
ACL_MAX_ENTRIES
);

153 ià(*
´ev_aş
 =ğ
NULL
)

154 
	`”r
(1, "%s:‡ş_š™(èçed", 
f’ame
);

157 
	}
}

163 
	$»move_ext
(
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
)

165 
aş_t
 
aş_Ãw
;

167 
aş_Ãw
 = 
	`aş_¡r_Å
(*
´ev_aş
, !
n_æag
);

168 ià(
aş_Ãw
 =ğ
NULL
)

169 
	`”r
(1, "%s:‡ş_¡r_Å(èçed", 
f’ame
);

171 
	`aş_ä“
(*
´ev_aş
);

172 *
´ev_aş
 = 
aş_Ãw
;

173 
	}
}

	@setfacl/setfacl.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/setfacl/setfacl.c,v 1.14.2.3.2.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<sys/ty³s.h
>

31 
	~<sys/·¿m.h
>

32 
	~<sys/¡©.h
>

33 
	~<sys/aş.h
>

34 
	~<sys/queue.h
>

36 
	~<”r.h
>

37 
	~<”ºo.h
>

38 
	~<¡dio.h
>

39 
	~<¡dlib.h
>

40 
	~<¡ršg.h
>

41 
	~<uni¡d.h
>

43 
	~"£tçş.h
"

45 
add_f’ame
(cÚ¡ *
f’ame
);

46 
u§ge
();

49 
	$add_f’ame
(cÚ¡ *
f’ame
)

51 
sf_fe
 *
fe
;

53 ià(
	`¡¾’
(
f’ame
è> 
PATH_MAX
 - 1) {

54 
	`w¬n
("illegal filename");

57 
fe
 = 
	`zm®loc
((
sf_fe
));

58 
fe
->
f’ame
 = filename;

59 
	`TAILQ_INSERT_TAIL
(&
f–i¡
, 
fe
, 
Ãxt
);

60 
	}
}

63 
	$u§ge
()

66 
	`årštf
(
¡d”r
, "usage: setfacl [-bdhkn] [-a…ositionƒntries] "

68 
	`ex™
(1);

69 
	}
}

72 
	$maš
(
¬gc
, *
¬gv
[])

74 
aş_t
 
aş
;

75 
aş_ty³_t
 
aş_ty³
;

76 
f’ame
[
PATH_MAX
];

77 
loÿl_”rÜ
, 
ÿ¼›d_”rÜ
, 
ch
, 
i
, 
’Œy_numb”
, 
»t
;

78 
h_æag
;

79 
sf_fe
 *
fe
;

80 
sf_’Œy
 *
’Œy
;

81 cÚ¡ *
â_dup
;

82 *
’d
;

83 
¡©
 
sb
;

85 
aş_ty³
 = 
ACL_TYPE_ACCESS
;

86 
ÿ¼›d_”rÜ
 = 
loÿl_”rÜ
 = 0;

87 
h_æag
 = 
have_mask
 = 
have_¡dš
 = 
n_æag
 = 
Ãed_mask
 = 0;

89 
	`TAILQ_INIT
(&
’Œyli¡
);

90 
	`TAILQ_INIT
(&
f–i¡
);

92 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "M:X:a:bdhkm:nx:")) != -1)

93 
ch
) {

95 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

96 
’Œy
->
aş
 = 
	`g‘_aş_äom_fe
(
İrg
);

97 ià(
’Œy
->
aş
 =ğ
NULL
)

98 
	`”r
(1, "%s: g‘_aş_äom_fe(èçed", 
İrg
);

99 
’Œy
->
İ
 = 
OP_MERGE_ACL
;

100 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

103 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

104 
’Œy
->
aş
 = 
	`g‘_aş_äom_fe
(
İrg
);

105 
’Œy
->
İ
 = 
OP_REMOVE_ACL
;

106 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

109 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

111 
’Œy_numb”
 = 
	`¡¹Ş
(
İrg
, &
’d
, 10);

112 ià(
’d
 - 
İrg
 !ğ()
	`¡¾’
(optarg))

113 
	`”rx
(1, "%s: inv®idƒÁry‚umb”", 
İrg
);

114 ià(
’Œy_numb”
 < 0)

115 
	`”rx
(1, "%s:ƒÁry‚umb” cªnÙ bËs thª z”o", 
İrg
);

116 
’Œy
->
’Œy_numb”
 =ƒntry_number;

118 ià(
¬gv
[
İtšd
] =ğ
NULL
)

119 
	`”rx
(1, "missing ACL");

120 
’Œy
->
aş
 = 
	`aş_äom_‹xt
(
¬gv
[
İtšd
]);

121 ià(
’Œy
->
aş
 =ğ
NULL
)

122 
	`”r
(1, "%s", 
¬gv
[
İtšd
]);

123 
İtšd
++;

124 
’Œy
->
İ
 = 
OP_ADD_ACL
;

125 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

128 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

129 
’Œy
->
İ
 = 
OP_REMOVE_EXT
;

130 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

133 
aş_ty³
 = 
ACL_TYPE_DEFAULT
;

136 
h_æag
 = 1;

139 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

140 
’Œy
->
İ
 = 
OP_REMOVE_DEF
;

141 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

144 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

145 
’Œy
->
aş
 = 
	`aş_äom_‹xt
(
İrg
);

146 ià(
’Œy
->
aş
 =ğ
NULL
)

147 
	`”r
(1, "%s", 
İrg
);

148 
’Œy
->
İ
 = 
OP_MERGE_ACL
;

149 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

152 
n_æag
++;

155 
’Œy
 = 
	`zm®loc
((
sf_’Œy
));

156 
’Œy_numb”
 = 
	`¡¹Ş
(
İrg
, &
’d
, 10);

157 ià(
’d
 - 
İrg
 =ğ()
	`¡¾’
(optarg)) {

158 ià(
’Œy_numb”
 < 0)

159 
	`”rx
(1, "%s:ƒÁry‚umb” cªnÙ bËs thª z”o", 
İrg
);

160 
’Œy
->
’Œy_numb”
 =ƒntry_number;

161 
’Œy
->
İ
 = 
OP_REMOVE_BY_NUMBER
;

163 
’Œy
->
aş
 = 
	`aş_äom_‹xt
(
İrg
);

164 ià(
’Œy
->
aş
 =ğ
NULL
)

165 
	`”r
(1, "%s", 
İrg
);

166 
’Œy
->
İ
 = 
OP_REMOVE_ACL
;

168 
	`TAILQ_INSERT_TAIL
(&
’Œyli¡
, 
’Œy
, 
Ãxt
);

171 
	`u§ge
();

174 
¬gc
 -ğ
İtšd
;

175 
¬gv
 +ğ
İtšd
;

177 ià(
n_æag
 =ğ0 && 
	`TAILQ_EMPTY
(&
’Œyli¡
))

178 
	`u§ge
();

181 ià(
¬gc
 =ğ0 || 
	`¡rcmp
(
¬gv
[0], "-") == 0) {

182 ià(
have_¡dš
)

183 
	`”r
(1, "cannot have morehan one stdin");

184 
have_¡dš
 = 1;

185 
	`bz”o
(&
f’ame
, (filename));

186 
	`fg‘s
(
f’ame
, ()(f’ame), 
¡dš
)) {

188 
f’ame
[
	`¡¾’
(filename) - 1] = '\0';

189 
â_dup
 = 
	`¡rdup
(
f’ame
);

190 ià(
â_dup
 =ğ
NULL
)

191 
	`”r
(1, "strdup() failed");

192 
	`add_f’ame
(
â_dup
);

195 
i
 = 0; i < 
¬gc
; i++)

196 
	`add_f’ame
(
¬gv
[
i
]);

199 
	`TAILQ_FOREACH
(
fe
, &
f–i¡
, 
Ãxt
) {

200 
loÿl_”rÜ
 = 0;

202 ià(
	`¡©
(
fe
->
f’ame
, &
sb
) == -1) {

203 
	`w¬n
("%s: st(èçed", 
fe
->
f’ame
);

204 
ÿ¼›d_”rÜ
++;

208 ià(
aş_ty³
 =ğ
ACL_TYPE_DEFAULT
 && 
	`S_ISDIR
(
sb
.
¡_mode
) == 0) {

209 
	`w¬nx
("%s: default ACL may only be set on‡ directory",

210 
fe
->
f’ame
);

211 
ÿ¼›d_”rÜ
++;

215 ià(
h_æag
)

216 
»t
 = 
	`Í©hcÚf
(
fe
->
f’ame
, 
_PC_ACL_NFS4
);

218 
»t
 = 
	`·thcÚf
(
fe
->
f’ame
, 
_PC_ACL_NFS4
);

219 ià(
»t
 > 0) {

220 ià(
aş_ty³
 =ğ
ACL_TYPE_DEFAULT
) {

221 
	`w¬nx
("%s:here‡re‚o defaultƒntries "

222 "š NFSv4 ACLs", 
fe
->
f’ame
);

223 
ÿ¼›d_”rÜ
++;

226 
aş_ty³
 = 
ACL_TYPE_NFS4
;

227 } ià(
»t
 == 0) {

228 ià(
aş_ty³
 =ğ
ACL_TYPE_NFS4
)

229 
aş_ty³
 = 
ACL_TYPE_ACCESS
;

230 } ià(
»t
 < 0 && 
”ºo
 !ğ
EINVAL
) {

231 
	`w¬n
("%s:…athconf(..., _PC_ACL_NFS4) failed",

232 
fe
->
f’ame
);

235 ià(
h_æag
)

236 
aş
 = 
	`aş_g‘_lšk_Å
(
fe
->
f’ame
, 
aş_ty³
);

238 
aş
 = 
	`aş_g‘_fe
(
fe
->
f’ame
, 
aş_ty³
);

239 ià(
aş
 =ğ
NULL
) {

240 ià(
h_æag
)

241 
	`w¬n
("%s:‡cl_get_link_np() failed",

242 
fe
->
f’ame
);

244 
	`w¬n
("%s:‡cl_get_file() failed",

245 
fe
->
f’ame
);

246 
ÿ¼›d_”rÜ
++;

251 
	`TAILQ_FOREACH
(
’Œy
, &
’Œyli¡
, 
Ãxt
) {

252 ià(
loÿl_”rÜ
)

255 
’Œy
->
İ
) {

256 
OP_ADD_ACL
:

257 
loÿl_”rÜ
 +ğ
	`add_aş
(
’Œy
->
aş
,

258 
’Œy
->
’Œy_numb”
, &
aş
, 
fe
->
f’ame
);

260 
OP_MERGE_ACL
:

261 
loÿl_”rÜ
 +ğ
	`m”ge_aş
(
’Œy
->
aş
, &acl,

262 
fe
->
f’ame
);

263 
Ãed_mask
 = 1;

265 
OP_REMOVE_EXT
:

266 
	`»move_ext
(&
aş
, 
fe
->
f’ame
);

267 
Ãed_mask
 = 0;

269 
OP_REMOVE_DEF
:

270 ià(
aş_ty³
 =ğ
ACL_TYPE_NFS4
) {

271 
	`w¬nx
("%s:here‡re‚o defaultƒntries in NFSv4 ACLs; "

272 "ÿÂÙ„emove", 
fe
->
f’ame
);

273 
loÿl_”rÜ
++;

276 ià(
	`aş_d–‘e_def_fe
(
fe
->
f’ame
) == -1) {

277 
	`w¬n
("%s:‡cl_delete_def_file() failed",

278 
fe
->
f’ame
);

279 
loÿl_”rÜ
++;

281 ià(
aş_ty³
 =ğ
ACL_TYPE_DEFAULT
)

282 
loÿl_”rÜ
 +ğ
	`»move_deçuÉ
(&
aş
,

283 
fe
->
f’ame
);

284 
Ãed_mask
 = 0;

286 
OP_REMOVE_ACL
:

287 
loÿl_”rÜ
 +ğ
	`»move_aş
(
’Œy
->
aş
, &acl,

288 
fe
->
f’ame
);

289 
Ãed_mask
 = 1;

291 
OP_REMOVE_BY_NUMBER
:

292 
loÿl_”rÜ
 +ğ
	`»move_by_numb”
(
’Œy
->
’Œy_numb”
,

293 &
aş
, 
fe
->
f’ame
);

294 
Ãed_mask
 = 1;

300 ià(
loÿl_”rÜ
) {

301 
ÿ¼›d_”rÜ
++;

305 ià(
aş_ty³
 !ğ
ACL_TYPE_NFS4
 && 
Ãed_mask
 &&

306 
	`£t_aş_mask
(&
aş
, 
fe
->
f’ame
) == -1) {

307 
	`w¬nx
("%s: faedØ£ˆACL mask", 
fe
->
f’ame
);

308 
ÿ¼›d_”rÜ
++;

309 } ià(
h_æag
) {

310 ià(
	`aş_£t_lšk_Å
(
fe
->
f’ame
, 
aş_ty³
,

311 
aş
) == -1) {

312 
ÿ¼›d_”rÜ
++;

313 
	`w¬n
("%s:‡cl_set_link_np() failed",

314 
fe
->
f’ame
);

317 ià(
	`aş_£t_fe
(
fe
->
f’ame
, 
aş_ty³
,

318 
aş
) == -1) {

319 
ÿ¼›d_”rÜ
++;

320 
	`w¬n
("%s:‡cl_set_file() failed",

321 
fe
->
f’ame
);

325 
	`aş_ä“
(
aş
);

328  (
ÿ¼›d_”rÜ
);

329 
	}
}

	@setfacl/setfacl.h

29 #iâdeà
_SETFACL_H


30 
	#_SETFACL_H


	)

32 
	~<sys/ty³s.h
>

33 
	~<sys/aş.h
>

34 
	~<sys/queue.h
>

37 
	#OP_MERGE_ACL
 0x00

	)

38 
	#OP_REMOVE_DEF
 0x01

	)

39 
	#OP_REMOVE_EXT
 0x02

	)

40 
	#OP_REMOVE_ACL
 0x03

	)

41 
	#OP_REMOVE_BY_NUMBER
 0x04

	)

42 
	#OP_ADD_ACL
 0x05

	)

45 
	ssf_’Œy
 {

46 
ušt
 
	mİ
;

47 
aş_t
 
	maş
;

48 
ušt
 
	m’Œy_numb”
;

49 
TAILQ_ENTRY
(
sf_’Œy
è
	mÃxt
;

51 
	$TAILQ_HEAD
(, 
sf_’Œy
è
’Œyli¡
;

54 
	ssf_fe
 {

55 cÚ¡ *
f’ame
;

56 
	`TAILQ_ENTRY
(
sf_fe
è
Ãxt
;

58 
	$TAILQ_HEAD
(, 
sf_fe
è
f–i¡
;

61 
aş_t
 
	`g‘_aş_äom_fe
(cÚ¡ *
f’ame
);

63 
	`m”ge_aş
(
aş_t
 
aş
,‡ş_ˆ*
´ev_aş
, cÚ¡ *
f’ame
);

64 
	`add_aş
(
aş_t
 
aş
, 
ušt
 
’Œy_numb”
,‡ş_ˆ*
´ev_aş
, cÚ¡ *
f’ame
);

66 
	`»move_aş
(
aş_t
 
aş
,‡ş_ˆ*
´ev_aş
, cÚ¡ *
f’ame
);

67 
	`»move_by_numb”
(
ušt
 
’Œy_numb”
, 
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
);

68 
	`»move_deçuÉ
(
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
);

69 
	`»move_ext
(
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
);

71 
	`£t_aş_mask
(
aş_t
 *
´ev_aş
, cÚ¡ *
f’ame
);

73 *
	`zm®loc
(
size_t
 
size
);

74 cÚ¡ *
	`b¿nd_Çme
(
b¿nd
);

75 
	`b¿ndšg_mism©ch
(
b¿nd1
, 
b¿nd2
);

77 
ušt
 
have_mask
;

78 
ušt
 
Ãed_mask
;

79 
ušt
 
have_¡dš
;

80 
ušt
 
n_æag
;

	@setfacl/util.c

27 
	~<sys/cdefs.h
>

28 
__FBSDID
("$FreeBSD: src/bin/setfacl/util.c,v 1.6.22.3.6.1 2012/03/03 06:15:13 kensmith Exp $");

30 
	~<”r.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~"£tçş.h
"

37 
	$zm®loc
(
size_t
 
size
)

39 *
±r
;

41 
±r
 = 
	`ÿÎoc
(1, 
size
);

42 ià(
±r
 =ğ
NULL
)

43 
	`”r
(1, "calloc() failed");

44  (
±r
);

45 
	}
}

48 
	$b¿nd_Çme
(
b¿nd
)

50 
b¿nd
) {

51 
ACL_BRAND_NFS4
:

53 
ACL_BRAND_POSIX
:

58 
	}
}

61 
	$b¿ndšg_mism©ch
(
b¿nd1
, 
b¿nd2
)

63 ià(
b¿nd1
 =ğ
ACL_BRAND_UNKNOWN
 || 
b¿nd2
 == ACL_BRAND_UNKNOWN)

65 ià(
b¿nd1
 !ğ
b¿nd2
)

68 
	}
}

	@sh/alias.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)alias.c 8.3 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/alias.c,v 1.25.2.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<¡dlib.h
>

42 
	~"sh–l.h
"

43 
	~"ouut.h
"

44 
	~"”rÜ.h
"

45 
	~"mem®loc.h
"

46 
	~"my¡ršg.h
"

47 
	~"®Ÿs.h
"

48 
	~"İtiÚs.h
"

50 
	#ATABSIZE
 39

	)

52 
®Ÿs
 *
	g©ab
[
ATABSIZE
];

53 
	g®Ÿ£s
;

55 
£lŸs
(const *, const *);

56 
uÇlŸs
(const *);

57 
®Ÿs
 **
hash®Ÿs
(const *);

61 
	$£lŸs
(cÚ¡ *
Çme
, cÚ¡ *
v®
)

63 
®Ÿs
 *
­
, **
­p
;

65 
­p
 = 
	`hash®Ÿs
(
Çme
);

66 
­
 = *
­p
;‡p;‡°ğ­->
Ãxt
) {

67 ià(
	`equ®
(
Çme
, 
­
->name)) {

68 
INTOFF
;

69 
	`ckä“
(
­
->
v®
);

70 
­
->
v®
 = 
	`§ve¡r
(val);

71 
INTON
;

76 
INTOFF
;

77 
­
 = 
	`ckm®loc
( (
®Ÿs
));

78 
­
->
Çme
 = 
	`§ve¡r
(name);

96 #ifdeà
nÙy‘


97 
­
->
v®
 = 
	`§ve¡r
(val);

100 
size_t
 
Ën
 = 
	`¡¾’
(
v®
);

101 
­
->
v®
 = 
	`ckm®loc
(
Ën
 + 2);

102 
	`memıy
(
­
->
v®
, v®, 
Ën
);

103 
­
->
v®
[
Ën
] = ' ';

104 
­
->
v®
[
Ën
+1] = '\0';

107 
­
->
æag
 = 0;

108 
­
->
Ãxt
 = *
­p
;

109 *
­p
 = 
­
;

110 
®Ÿ£s
++;

111 
INTON
;

112 
	}
}

115 
	$uÇlŸs
(cÚ¡ *
Çme
)

117 
®Ÿs
 *
­
, **
­p
;

119 
­p
 = 
	`hash®Ÿs
(
Çme
);

121 
­
 = *
­p
;‡p;‡µ = &×p->
Ãxt
),‡p =‡p->next) {

122 ià(
	`equ®
(
Çme
, 
­
->name)) {

130 ià(
­
->
æag
 & 
ALIASINUSE
)

131 *
­
->
Çme
 = '\0';

133 
INTOFF
;

134 *
­p
 = 
­
->
Ãxt
;

135 
	`ckä“
(
­
->
Çme
);

136 
	`ckä“
(
­
->
v®
);

137 
	`ckä“
(
­
);

138 
INTON
;

140 
®Ÿ£s
--;

146 
	}
}

148 #ifdeà
mkš™


149 
MKINIT
 
rm®Ÿ£s
();

151 
	gSHELLPROC
 {

152 
rm®Ÿ£s
();

157 
	$rm®Ÿ£s
()

159 
®Ÿs
 *
­
, *
tmp
;

160 
i
;

162 
INTOFF
;

163 
i
 = 0; i < 
ATABSIZE
; i++) {

164 
­
 = 
©ab
[
i
];

165 
©ab
[
i
] = 
NULL
;

166 
­
) {

167 
	`ckä“
(
­
->
Çme
);

168 
	`ckä“
(
­
->
v®
);

169 
tmp
 = 
­
;

170 
­
 =‡p->
Ãxt
;

171 
	`ckä“
(
tmp
);

174 
®Ÿ£s
 = 0;

175 
INTON
;

176 
	}
}

178 
®Ÿs
 *

179 
	$looku·lŸs
(cÚ¡ *
Çme
, 
check
)

181 
®Ÿs
 *
­
 = *
	`hash®Ÿs
(
Çme
);

183 ; 
­
;‡°ğ­->
Ãxt
) {

184 ià(
	`equ®
(
Çme
, 
­
->name)) {

185 ià(
check
 && (
­
->
æag
 & 
ALIASINUSE
))

186  (
NULL
);

187  (
­
);

191  (
NULL
);

192 
	}
}

195 
	$com·»®Ÿ£s
(cÚ¡ *
p1
, cÚ¡ *
p2
)

197 cÚ¡ 
®Ÿs
 *cÚ¡ *
a1
 = 
p1
;

198 cÚ¡ 
®Ÿs
 *cÚ¡ *
a2
 = 
p2
;

200  
	`¡rcmp
((*
a1
)->
Çme
, (*
a2
)->name);

201 
	}
}

204 
	$´šlŸs
(cÚ¡ 
®Ÿs
 *
a
)

206 *
p
;

208 
	`out1fmt
("%s=", 
a
->
Çme
);

210 
p
 = 
a
->
v®
 + 
	`¡¾’
(a->val) - 1;

211 *
p
 = '\0';

212 
	`out1q¡r
(
a
->
v®
);

213 *
p
 = ' ';

214 
	`out1c
('\n');

215 
	}
}

218 
	$´šlŸ£s
()

220 
i
, 
j
;

221 
®Ÿs
 **
sÜ‹d
, *
­
;

223 
sÜ‹d
 = 
	`ckm®loc
(
®Ÿ£s
 * (*sorted));

224 
j
 = 0;

225 
i
 = 0; i < 
ATABSIZE
; i++)

226 
­
 = 
©ab
[
i
];‡p;‡°ğ­->
Ãxt
)

227 ià(*
­
->
Çme
 != '\0')

228 
sÜ‹d
[
j
++] = 
­
;

229 
	`qsÜt
(
sÜ‹d
, 
®Ÿ£s
, (*sÜ‹d), 
com·»®Ÿ£s
);

230 
i
 = 0; i < 
®Ÿ£s
; i++)

231 
	`´šlŸs
(
sÜ‹d
[
i
]);

232 
	`ckä“
(
sÜ‹d
);

233 
	}
}

236 
	$®Ÿscmd
(
¬gc
, **
¬gv
)

238 *
n
, *
v
;

239 
»t
 = 0;

240 
®Ÿs
 *
­
;

242 ià(
¬gc
 == 1) {

243 
	`´šlŸ£s
();

246 (
n
 = *++
¬gv
è!ğ
NULL
) {

247 ià((
v
 = 
	`¡rchr
(
n
+1, '=')è=ğ
NULL
)

248 ià((
­
 = 
	`looku·lŸs
(
n
, 0)è=ğ
NULL
) {

249 
	`outfmt
(
out2
, "®Ÿs: % nÙ found\n", 
n
);

250 
»t
 = 1;

252 
	`´šlŸs
(
­
);

254 *
v
++ = '\0';

255 
	`£lŸs
(
n
, 
v
);

259  (
»t
);

260 
	}
}

263 
	$uÇlŸscmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

265 
i
;

267 (
i
 = 
	`Ãxtİt
("a")) != '\0') {

268 ià(
i
 == 'a') {

269 
	`rm®Ÿ£s
();

273 
i
 = 0; *
¬g±r
;‡rgptr++)

274 
i
 |ğ
	`uÇlŸs
(*
¬g±r
);

276  (
i
);

277 
	}
}

279 
®Ÿs
 **

280 
	$hash®Ÿs
(cÚ¡ *
p
)

282 
hashv®
;

284 
hashv®
 = *
p
 << 4;

285 *
p
)

286 
hashv®
+ğ*
p
++;

287  &
©ab
[
hashv®
 % 
ATABSIZE
];

288 
	}
}

	@sh/alias.h

36 
	#ALIASINUSE
 1

	)

38 
	s®Ÿs
 {

39 
®Ÿs
 *
	mÃxt
;

40 *
	mÇme
;

41 *
	mv®
;

42 
	mæag
;

45 
®Ÿs
 *
looku·lŸs
(const *, );

46 
®Ÿscmd
(, **);

47 
uÇlŸscmd
(, **);

48 
rm®Ÿ£s
();

	@sh/arith.h

33 
	~"sh–l.h
"

35 
	#DIGITS
(
v¬
è(3 + (2 + 
CHAR_BIT
 * ((v¬))è/ 3)

	)

37 cÚ¡ *
¬™h_buf
, *
¬™h_¡¬tbuf
;

39 
¬™h_t
 
¬™h
(const *);

40 
¬™h_Ëx_»£t
();

41 
expcmd
(, **);

	@sh/arith.y

35 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)arith.y 8.3 (Berkeley) 5/4/95";

40 
	~<sys/cdefs.h
>

41 
__FBSDID
("$FreeBSD: src/bin/sh/arith.y,v 1.22.2.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

43 
	~<lim™s.h
>

44 
	~<¡dio.h
>

46 
	~"¬™h.h
"

47 
	~"sh–l.h
"

48 
	~"v¬.h
"

51 
¬™h_t
 
l_v®ue
;

52 * 
s_v®ue
;

54 %
tok’
 <
l_v®ue
> 
ARITH_NUM
 
ARITH_LPAREN
 
ARITH_RPAREN


55 %
tok’
 <
s_v®ue
> 
ARITH_VAR


57 %
ty³
 <
l_v®ue
> 
ex´


58 %
right
 
ARITH_ASSIGN


59 %
right
 
ARITH_ADDASSIGN
 
ARITH_SUBASSIGN


60 %
right
 
ARITH_MULASSIGN
 
ARITH_DIVASSIGN
 
ARITH_REMASSIGN


61 %
right
 
ARITH_RSHASSIGN
 
ARITH_LSHASSIGN


62 %
right
 
ARITH_BANDASSIGN
 
ARITH_BXORASSIGN
 
ARITH_BORASSIGN


63 %
Ëá
 
ARITH_OR


64 %
Ëá
 
ARITH_AND


65 %
Ëá
 
ARITH_BOR


66 %
Ëá
 
ARITH_BXOR


67 %
Ëá
 
ARITH_BAND


68 %
Ëá
 
ARITH_EQ
 
ARITH_NE


69 %
Ëá
 
ARITH_LT
 
ARITH_GT
 
ARITH_GE
 
ARITH_LE


70 %
Ëá
 
ARITH_LSHIFT
 
ARITH_RSHIFT


71 %
Ëá
 
ARITH_ADD
 
ARITH_SUB


72 %
Ëá
 
ARITH_MUL
 
ARITH_DIV
 
ARITH_REM


73 %
Ëá
 
ARITH_UNARYMINUS
 
ARITH_UNARYPLUS
 
ARITH_NOT
 
ARITH_BNOT


74 %% /* 
	$yy·r£
 */ 
	`yyËx
()

76 
exp
:

77 
ex´


79 *
YYPARSE_PARAM
 = 
$1
;

84 
ex´
:

85 
ARITH_LPAREN
 
ex´
 
ARITH_RPAREN


86 { 
$$
 = 
$2
; } |

87 
ex´
 
ARITH_OR
ƒxpr

88 { 
$$
 = 
$1
 ? $1 : 
$3
 ? $3 : 0; } |

89 
ex´
 
ARITH_AND
ƒxpr

90 { 
$$
 = 
$1
 ? ( 
$3
 ? $3 : 0 ) : 0; } |

91 
ex´
 
ARITH_BOR
ƒxpr

92 { 
$$
 = 
$1
 | 
$3
; } |

93 
ex´
 
ARITH_BXOR
ƒxpr

94 { 
$$
 = 
$1
 ^ 
$3
; } |

95 
ex´
 
ARITH_BAND
ƒxpr

96 { 
$$
 = 
$1
 & 
$3
; } |

97 
ex´
 
ARITH_EQ
ƒxpr

98 { 
$$
 = 
$1
 =ğ
$3
; } |

99 
ex´
 
ARITH_GT
ƒxpr

100 { 
$$
 = 
$1
 > 
$3
; } |

101 
ex´
 
ARITH_GE
ƒxpr

102 { 
$$
 = 
$1
 >ğ
$3
; } |

103 
ex´
 
ARITH_LT
ƒxpr

104 { 
$$
 = 
$1
 < 
$3
; } |

105 
ex´
 
ARITH_LE
ƒxpr

106 { 
$$
 = 
$1
 <ğ
$3
; } |

107 
ex´
 
ARITH_NE
ƒxpr

108 { 
$$
 = 
$1
 !ğ
$3
; } |

109 
ex´
 
ARITH_LSHIFT
ƒxpr

110 { 
$$
 = 
$1
 << 
$3
; } |

111 
ex´
 
ARITH_RSHIFT
ƒxpr

112 { 
$$
 = 
$1
 >> 
$3
; } |

113 
ex´
 
ARITH_ADD
ƒxpr

114 { 
$$
 = 
$1
 + 
$3
; } |

115 
ex´
 
ARITH_SUB
ƒxpr

116 { 
$$
 = 
$1
 - 
$3
; } |

117 
ex´
 
ARITH_MUL
ƒxpr

118 { 
$$
 = 
$1
 * 
$3
; } |

119 
ex´
 
ARITH_DIV
ƒxpr

121 ià(
$3
 == 0)

122 
	`yy”rÜ
("division by zero");

123 
$$
 = 
$1
 / 
$3
;

125 
ex´
 
ARITH_REM
ƒxpr

127 ià(
$3
 == 0)

128 
	`yy”rÜ
("division by zero");

129 
$$
 = 
$1
 % 
$3
;

131 
ARITH_NOT
 
ex´


132 { 
$$
 = !(
$2
); } |

133 
ARITH_BNOT
 
ex´


134 { 
$$
 = ~(
$2
); } |

135 
ARITH_SUB
 
ex´
 %
´ec
 
ARITH_UNARYMINUS


136 { 
$$
 = -(
$2
); } |

137 
ARITH_ADD
 
ex´
 %
´ec
 
ARITH_UNARYPLUS


138 { 
$$
 = 
$2
; } |

139 
ARITH_NUM
 |

140 
ARITH_VAR


142 *
p
;

143 
¬™h_t
 
¬™h_v®
;

144 *
¡r_v®
;

146 ià(
	`lookupv¬
(
$1
è=ğ
NULL
)

147 
	`£tv¬§ã
(
$1
, "0", 0);

148 
¡r_v®
 = 
	`lookupv¬
(
$1
);

149 
¬™h_v®
 = 
	`¡¹ßr™h_t
(
¡r_v®
, &
p
, 0);

154 ià(*
p
 != '\0')

155 
	`yy”rÜ
("variable conversionƒrror");

156 
$$
 = 
¬™h_v®
;

158 
ARITH_VAR
 
ARITH_ASSIGN
 
ex´


160 ià(
	`¬™h_assign
(
$1
, 
$3
) != 0)

161 
	`yy”rÜ
("variable‡ssignmentƒrror");

162 
$$
 = 
$3
;

164 
ARITH_VAR
 
ARITH_ADDASSIGN
 
ex´


166 
¬™h_t
 
v®ue
;

168 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è+ 
$3
;

169 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

170 
	`yy”rÜ
("variable‡ssignmentƒrror");

171 
$$
 = 
v®ue
;

173 
ARITH_VAR
 
ARITH_SUBASSIGN
 
ex´


175 
¬™h_t
 
v®ue
;

177 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è- 
$3
;

178 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

179 
	`yy”rÜ
("variable‡ssignmentƒrror");

180 
$$
 = 
v®ue
;

182 
ARITH_VAR
 
ARITH_MULASSIGN
 
ex´


184 
¬™h_t
 
v®ue
;

186 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è* 
$3
;

187 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

188 
	`yy”rÜ
("variable‡ssignmentƒrror");

189 
$$
 = 
v®ue
;

191 
ARITH_VAR
 
ARITH_DIVASSIGN
 
ex´


193 
¬™h_t
 
v®ue
;

195 ià(
$3
 == 0)

196 
	`yy”rÜ
("division by zero");

198 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è/ 
$3
;

199 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

200 
	`yy”rÜ
("variable‡ssignmentƒrror");

201 
$$
 = 
v®ue
;

203 
ARITH_VAR
 
ARITH_REMASSIGN
 
ex´


205 
¬™h_t
 
v®ue
;

207 ià(
$3
 == 0)

208 
	`yy”rÜ
("division by zero");

210 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è% 
$3
;

211 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

212 
	`yy”rÜ
("variable‡ssignmentƒrror");

213 
$$
 = 
v®ue
;

215 
ARITH_VAR
 
ARITH_RSHASSIGN
 
ex´


217 
¬™h_t
 
v®ue
;

219 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è>> 
$3
;

220 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

221 
	`yy”rÜ
("variable‡ssignmentƒrror");

222 
$$
 = 
v®ue
;

224 
ARITH_VAR
 
ARITH_LSHASSIGN
 
ex´


226 
¬™h_t
 
v®ue
;

228 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è<< 
$3
;

229 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

230 
	`yy”rÜ
("variable‡ssignmentƒrror");

231 
$$
 = 
v®ue
;

233 
ARITH_VAR
 
ARITH_BANDASSIGN
 
ex´


235 
¬™h_t
 
v®ue
;

237 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è& 
$3
;

238 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

239 
	`yy”rÜ
("variable‡ssignmentƒrror");

240 
$$
 = 
v®ue
;

242 
ARITH_VAR
 
ARITH_BXORASSIGN
 
ex´


244 
¬™h_t
 
v®ue
;

246 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è^ 
$3
;

247 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

248 
	`yy”rÜ
("variable‡ssignmentƒrror");

249 
$$
 = 
v®ue
;

251 
ARITH_VAR
 
ARITH_BORASSIGN
 
ex´


253 
¬™h_t
 
v®ue
;

255 
v®ue
 = 
	`©ßr™h_t
(
	`lookupv¬
(
$1
)è| 
$3
;

256 ià(
	`¬™h_assign
(
$1
, 
v®ue
) != 0)

257 
	`yy”rÜ
("variable‡ssignmentƒrror");

258 
$$
 = 
v®ue
;

260 
	}
%%

261 
	~"”rÜ.h
"

262 
	~"ouut.h
"

263 
	~"mem®loc.h
"

265 
	#YYPARSE_PARAM_TYPE
 
¬™h_t
 *

	)

266 
	#YYPARSE_PARAM
 
»suÉ


	)

268 cÚ¡ *
	g¬™h_buf
, *
	g¬™h_¡¬tbuf
;

270 
yyËx
();

271 
yy·r£
(
YYPARSE_PARAM_TYPE
);

274 
	$¬™h_assign
(*
Çme
, 
¬™h_t
 
v®ue
)

276 *
¡r
;

277 
»t
;

279 
¡r
 = (*)
	`ckm®loc
(
	`DIGITS
(
v®ue
));

280 
	`¥rštf
(
¡r
, 
ARITH_FORMAT_STR
, 
v®ue
);

281 
»t
 = 
	`£tv¬§ã
(
Çme
, 
¡r
, 0);

282 
	`ä“
(
¡r
);

283  
»t
;

284 
	}
}

286 
¬™h_t


287 
	$¬™h
(cÚ¡ *
s
)

289 
¬™h_t
 
»suÉ
;

291 
¬™h_buf
 = 
¬™h_¡¬tbuf
 = 
s
;

293 
INTOFF
;

294 
	`yy·r£
(&
»suÉ
);

295 
	`¬™h_Ëx_»£t
();

296 
INTON
;

298  
»suÉ
;

299 
	}
}

302 
	$yy”rÜ
(cÚ¡ *
s
)

305 
yy”rok
;

306 
yyş—rš
;

307 
	`¬™h_Ëx_»£t
();

308 
	`”rÜ
("¬™hm‘iøex´essiÚ: %s: \"%s\"", 
s
, 
¬™h_¡¬tbuf
);

309 
	}
}

315 
	$expcmd
(
¬gc
, **
¬gv
)

317 cÚ¡ *
p
;

318 *
cÚÿt
;

319 **
­
;

320 
¬™h_t
 
i
;

322 ià(
¬gc
 > 1) {

323 
p
 = 
¬gv
[1];

324 ià(
¬gc
 > 2) {

328 
	`STARTSTACKSTR
(
cÚÿt
);

329 
­
 = 
¬gv
 + 2;

331 *
p
)

332 
	`STPUTC
(*
p
++, 
cÚÿt
);

333 ià((
p
 = *
­
++è=ğ
NULL
)

335 
	`STPUTC
(' ', 
cÚÿt
);

337 
	`STPUTC
('\0', 
cÚÿt
);

338 
p
 = 
	`g¿b¡ack¡r
(
cÚÿt
);

341 
p
 = "";

343 
i
 = 
	`¬™h
(
p
);

345 
	`out1fmt
(
ARITH_FORMAT_STR
 "\n", 
i
);

346  !
i
;

347 
	}
}

350 #ifdeà
TEST_ARITH


351 
	~<¡dio.h
>

352 
	$maš
(
¬gc
, *
¬gv
[])

354 
	`´štf
("%d\n", 
	`exp
(
¬gv
[1]));

355 
	}
}

357 
	$”rÜ
(cÚ¡ *
s
)

359 
	`årštf
(
¡d”r
, "exp: %s\n", 
s
);

360 
	`ex™
(1);

361 
	}
}

	@sh/arith_lex.l

35 #iâdeà
lšt


36 
	gsccsid
[] = "@(#)arith_lex.l 8.3 (Berkeley) 5/4/95";

40 
	~<sys/cdefs.h
>

41 
__FBSDID
("$FreeBSD: src/bin/sh/arith_lex.l,v 1.24.10.3.2.1 2012/03/03 06:15:13 kensmith Exp $");

43 
	~<¡ršg.h
>

45 
	~"¬™h.h
"

46 
	~"sh–l.h
"

47 
	~"y.b.h
"

48 
	~"”rÜ.h
"

49 
	~"mem®loc.h
"

50 
	~"v¬.h
"

52 
yyËx
();

54 
	sv¬Çme


56 
v¬Çme
 *
	mÃxt
;

57 
	mÇme
[1];

59 
v¬Çme
 *
	gv¬Çmes
;

61 #undeà
YY_INPUT


62 
	#YY_INPUT
(
buf
,
»suÉ
,
max
) \

64 
»suÉ
 = 
	`¡ºËn
(
¬™h_buf
, 
max
); \

65 ià(
»suÉ
 == 0) \

66 
»suÉ
 = 
YY_NULL
; \

68 
	`memıy
(
buf
, 
¬™h_buf
, 
»suÉ
); \

69 
¬™h_buf
 +ğ
»suÉ
; \

71 } 0);

	)

72 
	#YY_NO_UNPUT


	)

75 %% /* 
	$yyËx
 */

76 [ \
t
\
n
] { ; }

78 0x[
a
-
fA
-
F0
-9]+ {

79 
yylv®
.
l_v®ue
 = 
	`¡¹ßr™h_t
(
yy‹xt
, 
NULL
, 16);

80  
ARITH_NUM
;

84 
yylv®
.
l_v®ue
 = 
	`¡¹ßr™h_t
(
yy‹xt
, 
NULL
, 8);

85  
ARITH_NUM
;

89 
yylv®
.
l_v®ue
 = 
	`¡¹ßr™h_t
(
yy‹xt
, 
NULL
, 10);

90  
ARITH_NUM
;

93 [
A
-
Za
-
z
][A-Za-
z0
-9
_
]* {

98 
v¬Çme
 *
‹mp
;

99 ià(
	`lookupv¬
(
yy‹xt
è=ğ
NULL
)

100 
	`£tv¬§ã
(
yy‹xt
, "0", 0);

101 
‹mp
 = 
	`ckm®loc
((
v¬Çme
) +

102 
	`¡¾’
(
yy‹xt
));

103 
‹mp
->
Ãxt
 = 
v¬Çmes
;

104 
v¬Çmes
 = 
‹mp
;

105 
yylv®
.
s_v®ue
 = 
	`¡rıy
(
‹mp
->
Çme
, 
yy‹xt
);

107  
ARITH_VAR
;

110 "(" {  
ARITH_LPAREN
; }

111 ")" {  
ARITH_RPAREN
; }

112 "||" {  
ARITH_OR
; }

113 "&&" {  
ARITH_AND
; }

114 "|" {  
ARITH_BOR
; }

115 "^" {  
ARITH_BXOR
; }

116 "&" {  
ARITH_BAND
; }

117 "==" {  
ARITH_EQ
; }

118 "!=" {  
ARITH_NE
; }

119 ">" {  
ARITH_GT
; }

120 ">=" {  
ARITH_GE
; }

121 "<" {  
ARITH_LT
; }

122 "<=" {  
ARITH_LE
; }

123 "<<" {  
ARITH_LSHIFT
; }

124 ">>" {  
ARITH_RSHIFT
; }

125 "*" {  
ARITH_MUL
; }

126 "/" {  
ARITH_DIV
; }

127 "%" {  
ARITH_REM
; }

128 "+" {  
ARITH_ADD
; }

129 "-" {  
ARITH_SUB
; }

130 "~" {  
ARITH_BNOT
; }

131 "!" {  
ARITH_NOT
; }

132 "=" {  
ARITH_ASSIGN
; }

133 "+=" {  
ARITH_ADDASSIGN
; }

134 "-=" {  
ARITH_SUBASSIGN
; }

135 "*=" {  
ARITH_MULASSIGN
; }

136 "/=" {  
ARITH_DIVASSIGN
; }

137 "%=" {  
ARITH_REMASSIGN
; }

138 ">>=" {  
ARITH_RSHASSIGN
; }

139 "<<=" {  
ARITH_LSHASSIGN
; }

140 "&=" {  
ARITH_BANDASSIGN
; }

141 "^=" {  
ARITH_BXORASSIGN
; }

142 "|=" {  
ARITH_BORASSIGN
; }

144 
	`”rÜ
("¬™h: syÁaxƒ¼Ü: \"%s\"\n", 
¬™h_¡¬tbuf
);

146 
	}
%%

149 
	$¬™h_Ëx_»£t
()

151 
v¬Çme
 *
Çme
, *
Ãxt
;

153 
YY_NEW_FILE
;

155 
Çme
 = 
v¬Çmes
;

156 
Çme
 !ğ
NULL
) {

157 
Ãxt
 = 
Çme
->next;

158 
	`ckä“
(
Çme
);

159 
Çme
 = 
Ãxt
;

161 
v¬Çmes
 = 
NULL
;

162 
	}
}

	@sh/bltin/bltin.h

42 
	~"../sh–l.h
"

43 
	~"../my¡ršg.h
"

44 #ifdeà
SHELL


45 
	~"../ouut.h
"

46 #undeà
¡dout


47 
	#¡dout
 
out1


	)

48 #undeà
¡d”r


49 
	#¡d”r
 
out2


	)

50 
	#´štf
 
out1fmt


	)

51 #undeà
putc


52 
	#putc
(
c
, 
fe
è
	`outc
(c, fe)

	)

53 #undeà
putch¬


54 
	#putch¬
(
c
è
	`out1c
(c)

	)

55 
	#årštf
 
outfmt


	)

56 
	#åuts
 
out¡r


	)

57 
	#fæush
 
æushout


	)

58 
	#INITARGS
(
¬gv
)

	)

59 
	#w¬nx1
(
a
, 
b
, 
c
) { \

60 
buf
[64]; \

61 ()
	`¢´štf
(
buf
, (buf), 
a
); \

62 
	`”rÜ
("%s", 
buf
); \

63 }

	)

64 
	#w¬nx2
(
a
, 
b
, 
c
) { \

65 
buf
[64]; \

66 ()
	`¢´štf
(
buf
, (buf), 
a
, 
b
); \

67 
	`”rÜ
("%s", 
buf
); \

68 }

	)

69 
	#w¬nx3
(
a
, 
b
, 
c
) { \

70 
buf
[64]; \

71 ()
	`¢´štf
(
buf
, (buf), 
a
, 
b
, 
c
); \

72 
	`”rÜ
("%s", 
buf
); \

73 }

	)

76 #undeà
NULL


77 
	~<¡dio.h
>

78 #undeà
maš


79 
	#INITARGS
(
¬gv
èià((
commªdÇme
 =‡rgv[0]è=ğ
NULL
è{
	`åuts
("Argøi z”o\n", 
¡d”r
); 
	`ex™
(2);} 

	)

82 
poš‹r
 
¡®loc
();

83 
	$”rÜ
(cÚ¡ *, ...è
	`__´štf0like
(1, 2);

85 
	`echocmd
(, **);

86 
	`‹¡cmd
(, **);

88 *
commªdÇme
;

	@sh/bltin/echo.c

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/sh/bltin/echo.c,v 1.14.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

42 
	#maš
 
echocmd


	)

44 
	~"bÉš.h
"

49 
	$maš
(
¬gc
, *
¬gv
[])

51 **
­
;

52 *
p
;

53 
c
;

54 
couÁ
;

55 
næag
 = 0;

56 #iâdeà
eæag


57 
eæag
 = 0;

60 
­
 = 
¬gv
;

61 ià(
¬gc
)

62 
­
++;

63 ià((
p
 = *
­
è!ğ
NULL
) {

64 ià(
	`equ®
(
p
, "-n")) {

65 
næag
++;

66 
­
++;

67 } ià(
	`equ®
(
p
, "-e")) {

68 #iâdeà
eæag


69 
eæag
++;

71 
­
++;

74 (
p
 = *
­
++è!ğ
NULL
) {

75 (
c
 = *
p
++) != '\0') {

76 ià(
c
 =ğ'\\' && 
eæag
) {

77 *
p
++) {

78 'a': 
c
 = '\a'; ;

79 'b': 
c
 = '\b'; ;

81 'e': 
c
 = '\033'; ;

82 'f': 
c
 = '\f'; ;

83 'n': 
c
 = '\n'; ;

84 'r': 
c
 = '\r'; ;

85 't': 
c
 = '\t'; ;

86 'v': 
c
 = '\v'; ;

89 
c
 = 0;

90 
couÁ
 = 3;

91 --
couÁ
 >ğ0 && ()(*
p
 - '0') < 8)

92 
c
 = (ø<< 3è+ (*
p
++ - '0');

95 
p
--;

99 
	`putch¬
(
c
);

101 ià(*
­
)

102 
	`putch¬
(' ');

104 ià(! 
næag
)

105 
	`putch¬
('\n');

107 
	}
}

	@sh/cd.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)cd.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/cd.c,v 1.36.2.5.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/ty³s.h
>

42 
	~<sys/¡©.h
>

43 
	~<¡dlib.h
>

44 
	~<¡ršg.h
>

45 
	~<uni¡d.h
>

46 
	~<”ºo.h
>

47 
	~<lim™s.h
>

53 
	~"sh–l.h
"

54 
	~"v¬.h
"

55 
	~"nodes.h
"

56 
	~"jobs.h
"

57 
	~"İtiÚs.h
"

58 
	~"ouut.h
"

59 
	~"mem®loc.h
"

60 
	~"”rÜ.h
"

61 
	~"exec.h
"

62 
	~"»dœ.h
"

63 
	~"my¡ršg.h
"

64 
	~"show.h
"

65 
	~"cd.h
"

67 
cdlogiÿl
(*);

68 
cdphysiÿl
(*);

69 
docd
(*, , );

70 *
g‘compÚ’t
();

71 *
fšdcwd
(*);

72 
upd©•wd
(*);

73 *
g‘pwd2
();

75 *
	gcurdœ
 = 
NULL
;

76 *
	g´evdœ
;

77 *
	gcdcomµ©h
;

80 
	$cdcmd
(
¬gc
, **
¬gv
)

82 cÚ¡ *
de¡
;

83 cÚ¡ *
·th
;

84 *
p
;

85 
¡©
 
¡©b
;

86 
ch
, 
phys
, 
´št
 = 0;

88 
İŒe£t
 = 1; 
İtšd
 = 1; 
İ‹¼
 = 0;

89 
phys
 = 
Pæag
;

90 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "LP")) != -1) {

91 
ch
) {

93 
phys
 = 0;

96 
phys
 = 1;

99 
	`”rÜ
("unknowÀİtiÚ: -%c", 
İtİt
);

103 
¬gc
 -ğ
İtšd
;

104 
¬gv
 +ğ
İtšd
;

106 ià(
¬gc
 > 1)

107 
	`”rÜ
("too many‡rguments");

109 ià((
de¡
 = *
¬gv
è=ğ
NULL
 && (de¡ = 
	`bÉšlookup
("HOME", 1)) == NULL)

110 
	`”rÜ
("HOME‚ot set");

111 ià(*
de¡
 == '\0')

112 
de¡
 = ".";

113 ià(
de¡
[0] == '-' && dest[1] == '\0') {

114 
de¡
 = 
´evdœ
 ?…»vdœ : 
curdœ
;

115 ià(
de¡
)

116 
´št
 = 1;

118 
de¡
 = ".";

120 ià(*
de¡
 =ğ'/' || (
·th
 = 
	`bÉšlookup
("CDPATH", 1)è=ğ
NULL
)

121 
·th
 = 
nuÎ¡r
;

122 (
p
 = 
	`·dvªû
(&
·th
, 
de¡
)è!ğ
NULL
) {

123 ià(
	`¡©
(
p
, &
¡©b
è>ğ0 && 
	`S_ISDIR
(¡©b.
¡_mode
)) {

124 ià(!
´št
) {

128 ià(
p
[0] == '.' &&…[1] == '/' &&…[2] != '\0')

129 
´št
 = 
	`¡rcmp
(
p
 + 2, 
de¡
);

131 
´št
 = 
	`¡rcmp
(
p
, 
de¡
);

133 ià(
	`docd
(
p
, 
´št
, 
phys
) >= 0)

137 
	`”rÜ
("ÿn'ˆcdØ%s", 
de¡
);

140 
	}
}

148 
	$docd
(*
de¡
, 
´št
, 
phys
)

151 
	`TRACE
(("docd(\"%s\", %d, %dèÿÎed\n", 
de¡
, 
´št
, 
phys
));

154 ià((
phys
 || 
	`cdlogiÿl
(
de¡
è< 0è&& 
	`cdphysiÿl
(dest) < 0)

157 ià(
´št
 && 
iæag
 && 
curdœ
)

158 
	`out1fmt
("%s\n", 
curdœ
);

161 
	}
}

164 
	$cdlogiÿl
(*
de¡
)

166 *
p
;

167 *
q
;

168 *
compÚ’t
;

169 
¡©
 
¡©b
;

170 
fœ¡
;

171 
bad¡©
;

178 
bad¡©
 = 0;

179 
cdcomµ©h
 = 
	`¡®loc
(
	`¡¾’
(
de¡
) + 1);

180 
	`scİy
(
de¡
, 
cdcomµ©h
);

181 
	`STARTSTACKSTR
(
p
);

182 ià(*
de¡
 == '/') {

183 
	`STPUTC
('/', 
p
);

184 
cdcomµ©h
++;

186 
fœ¡
 = 1;

187 (
q
 = 
	`g‘compÚ’t
()è!ğ
NULL
) {

188 ià(
q
[0] == '\0' || (q[0] == '.' && q[1] == '\0'))

190 ià(! 
fœ¡
)

191 
	`STPUTC
('/', 
p
);

192 
fœ¡
 = 0;

193 
compÚ’t
 = 
q
;

194 *
q
)

195 
	`STPUTC
(*
q
++, 
p
);

196 ià(
	`equ®
(
compÚ’t
, ".."))

198 
	`STACKSTRNUL
(
p
);

199 ià(
	`l¡©
(
	`¡ackblock
(), &
¡©b
) < 0) {

200 
bad¡©
 = 1;

205 
INTOFF
;

206 ià((
p
 = 
	`fšdcwd
(
bad¡©
 ? 
NULL
 : 
de¡
)è=ğNULL || 
	`chdœ
(p) < 0) {

207 
INTON
;

210 
	`upd©•wd
(
p
);

211 
INTON
;

213 
	}
}

216 
	$cdphysiÿl
(*
de¡
)

218 *
p
;

220 
INTOFF
;

221 ià(
	`chdœ
(
de¡
è< 0 || (
p
 = 
	`fšdcwd
(
NULL
)) == NULL) {

222 
INTON
;

225 
	`upd©•wd
(
p
);

226 
INTON
;

228 
	}
}

235 
	$g‘compÚ’t
()

237 *
p
;

238 *
¡¬t
;

240 ià((
p
 = 
cdcomµ©h
è=ğ
NULL
)

241  
NULL
;

242 
¡¬t
 = 
cdcomµ©h
;

243 *
p
 != '/' && *p != '\0')

244 
p
++;

245 ià(*
p
 == '\0') {

246 
cdcomµ©h
 = 
NULL
;

248 *
p
++ = '\0';

249 
cdcomµ©h
 = 
p
;

251  
¡¬t
;

252 
	}
}

256 
	$fšdcwd
(*
dœ
)

258 *
Ãw
;

259 *
p
;

266 ià(
dœ
 =ğ
NULL
 || 
curdœ
 == NULL)

267  
	`g‘pwd2
();

268 
cdcomµ©h
 = 
	`¡®loc
(
	`¡¾’
(
dœ
) + 1);

269 
	`scİy
(
dœ
, 
cdcomµ©h
);

270 
	`STARTSTACKSTR
(
Ãw
);

271 ià(*
dœ
 != '/') {

272 
p
 = 
curdœ
;

273 *
p
)

274 
	`STPUTC
(*
p
++, 
Ãw
);

275 ià(
p
[-1] == '/')

276 
	`STUNPUTC
(
Ãw
);

278 (
p
 = 
	`g‘compÚ’t
()è!ğ
NULL
) {

279 ià(
	`equ®
(
p
, "..")) {

280 
Ãw
 > 
	`¡ackblock
(è&& (
	`STUNPUTC
(new), *new) != '/');

281 } ià(*
p
 !ğ'\0' && ! 
	`equ®
(p, ".")) {

282 
	`STPUTC
('/', 
Ãw
);

283 *
p
)

284 
	`STPUTC
(*
p
++, 
Ãw
);

287 ià(
Ãw
 =ğ
	`¡ackblock
())

288 
	`STPUTC
('/', 
Ãw
);

289 
	`STACKSTRNUL
(
Ãw
);

290  
	`¡ackblock
();

291 
	}
}

299 
	$upd©•wd
(*
dœ
)

301 
	`hashcd
();

303 ià(
´evdœ
)

304 
	`ckä“
(
´evdœ
);

305 
´evdœ
 = 
curdœ
;

306 
curdœ
 = 
	`§ve¡r
(
dœ
);

307 
	`£tv¬
("PWD", 
curdœ
, 
VEXPORT
);

308 
	`£tv¬
("OLDPWD", 
´evdœ
, 
VEXPORT
);

309 
	}
}

312 
	$pwdcmd
(
¬gc
, **
¬gv
)

314 *
p
;

315 
ch
, 
phys
;

317 
İŒe£t
 = 1; 
İtšd
 = 1; 
İ‹¼
 = 0;

318 
phys
 = 
Pæag
;

319 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "LP")) != -1) {

320 
ch
) {

322 
phys
 = 0;

325 
phys
 = 1;

328 
	`”rÜ
("unknowÀİtiÚ: -%c", 
İtİt
);

332 
¬gc
 -ğ
İtšd
;

333 
¬gv
 +ğ
İtšd
;

335 ià(
¬gc
 != 0)

336 
	`”rÜ
("too many‡rguments");

338 ià(!
phys
 && 
	`g‘pwd
()) {

339 
	`out1¡r
(
curdœ
);

340 
	`out1c
('\n');

342 ià((
p
 = 
	`g‘pwd2
()è=ğ
NULL
)

343 
	`”rÜ
(".: %s", 
	`¡»¼Ü
(
”ºo
));

344 
	`out1¡r
(
p
);

345 
	`out1c
('\n');

349 
	}
}

355 
	$g‘pwd
()

357 *
p
;

359 ià(
curdœ
)

360  
curdœ
;

362 
p
 = 
	`g‘pwd2
();

363 ià(
p
 !ğ
NULL
)

364 
curdœ
 = 
	`§ve¡r
(
p
);

366  
curdœ
;

367 
	}
}

369 
	#MAXPWD
 256

	)

375 
	$g‘pwd2
()

377 
¡©
 
¡dÙ
, 
¡pwd
;

378 *
pwd
;

379 
i
;

381 
i
 = 
MAXPWD
;; i *= 2) {

382 
pwd
 = 
	`¡®loc
(
i
);

383 ià(
	`g‘cwd
(
pwd
, 
i
è!ğ
NULL
)

384  
pwd
;

385 
	`¡uÇÎoc
(
pwd
);

386 ià(
”ºo
 !ğ
ERANGE
)

390 
pwd
 = 
	`g‘’v
("PWD");

391 ià(
pwd
 && *pwd =ğ'/' && 
	`¡©
(".", &
¡dÙ
) != -1 &&

392 
	`¡©
(
pwd
, &
¡pwd
) != -1 &&

393 
¡dÙ
.
¡_dev
 =ğ
¡pwd
.st_dev &&

394 
¡dÙ
.
¡_šo
 =ğ
¡pwd
.st_ino) {

395  
pwd
;

397  
NULL
;

398 
	}
}

	@sh/cd.h

32 *
g‘pwd
();

33 
cdcmd
 (, **);

34 
pwdcmd
(, **);

	@sh/error.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)error.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/error.c,v 1.26.10.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

45 
	~"sh–l.h
"

46 
	~"maš.h
"

47 
	~"İtiÚs.h
"

48 
	~"ouut.h
"

49 
	~"”rÜ.h
"

50 
	~"nodes.h
"

51 
	~"show.h
"

52 
	~"Œ­.h
"

53 
	~<sigÇl.h
>

54 
	~<¡dlib.h
>

55 
	~<uni¡d.h
>

56 
	~<”ºo.h
>

63 
jm¶oc
 *
	ghªdËr
;

64 vŞ©
sig_©omic_t
 
	gexû±iÚ
;

65 vŞ©
sig_©omic_t
 
	gsuµ»ssšt
;

66 vŞ©
sig_©omic_t
 
	gš’dšg
;

67 *
	gcommªdÇme
;

70 
	$exv”rÜ
(, cÚ¡ *, 
va_li¡
è
	$__´štf0like
(2, 0è
__d—d2
;

79 
	$ex¿i£
(
e
)

81 ià(
hªdËr
 =ğ
NULL
)

82 
	`abÜt
();

83 
exû±iÚ
 = 
e
;

84 
	`lÚgjmp
(
hªdËr
->
loc
, 1);

85 
	}
}

99 
	$Úšt
()

101 
sig£t_t
 
sigs
;

109 ià(
suµ»ssšt
 && !
š_dÙ¿p
) {

110 
š’dšg
++;

113 
š’dšg
 = 0;

114 
	`sigem±y£t
(&
sigs
);

115 
	`sig´ocmask
(
SIG_SETMASK
, &
sigs
, 
NULL
);

121 ià(
	`tcg‘pg½
(0è=ğ
	`g‘pid
())

122 
	`wr™e
(
STDERR_FILENO
, "\n", 1);

124 ià(
roÙsh–l
 && 
iæag
)

125 
	`ex¿i£
(
EXINT
);

127 
	`sigÇl
(
SIGINT
, 
SIG_DFL
);

128 
	`kl
(
	`g‘pid
(), 
SIGINT
);

130 
	}
}

139 
	$exv”rÜ
(
cÚd
, cÚ¡ *
msg
, 
va_li¡
 
­
)

141 
CLEAR_PENDING_INT
;

142 
INTOFF
;

144 #ifdeà
DEBUG


145 ià(
msg
)

146 
	`TRACE
(("exv”rÜ(%d, \"%s\"èpid=%d\n", 
cÚd
, 
msg
, 
	`g‘pid
()));

148 
	`TRACE
(("exv”rÜ(%d, NULLèpid=%d\n", 
cÚd
, 
	`g‘pid
()));

150 ià(
msg
) {

151 ià(
commªdÇme
)

152 
	`outfmt
(&
”rout
, "%s: ", 
commªdÇme
);

153 
	`dofÜm©
(&
”rout
, 
msg
, 
­
);

154 
	`out2c
('\n');

156 
	`æush®l
();

157 
	`ex¿i£
(
cÚd
);

158 
	}
}

162 
	$”rÜ
(cÚ¡ *
msg
, ...)

164 
va_li¡
 
­
;

165 
	`va_¡¬t
(
­
, 
msg
);

166 
	`exv”rÜ
(
EXERROR
, 
msg
, 
­
);

167 
	`va_’d
(
­
);

168 
	}
}

172 
	$ex”rÜ
(
cÚd
, cÚ¡ *
msg
, ...)

174 
va_li¡
 
­
;

175 
	`va_¡¬t
(
­
, 
msg
);

176 
	`exv”rÜ
(
cÚd
, 
msg
, 
­
);

177 
	`va_’d
(
­
);

178 
	}
}

	@sh/error.h

46 
	~<£tjmp.h
>

47 
	~<sigÇl.h
>

49 
	sjm¶oc
 {

50 
jmp_buf
 
	mloc
;

53 
jm¶oc
 *
hªdËr
;

54 vŞ©
sig_©omic_t
 
exû±iÚ
;

57 
	#EXINT
 0

	)

58 
	#EXERROR
 1

	)

59 
	#EXSHELLPROC
 2

	)

60 
	#EXEXEC
 3

	)

70 vŞ©
sig_©omic_t
 
suµ»ssšt
;

71 vŞ©
sig_©omic_t
 
š’dšg
;

73 
	#INTOFF
 
suµ»ssšt
++

	)

74 
	#INTON
 { ià(--
suµ»ssšt
 =ğ0 && 
š’dšg
è
	`Úšt
(); }

	)

75 
	#FORCEINTON
 {
suµ»ssšt
 = 0; ià(
š’dšg
è
	`Úšt
();}

	)

76 
	#CLEAR_PENDING_INT
 
š’dšg
 = 0

	)

77 
	#št_³ndšg
(è
š’dšg


	)

79 
	$ex¿i£
(è
__d—d2
;

80 
	`Úšt
();

81 
	$”rÜ
(cÚ¡ *, ...è
	$__´štf0like
(1, 2è
__d—d2
;

82 
	$ex”rÜ
(, cÚ¡ *, ...è
	$__´štf0like
(2, 3è
__d—d2
;

90 
	#£tjmp
(
jm¶oc
è
	`_£tjmp
(jm¶oc)

	)

91 
	#lÚgjmp
(
jm¶oc
, 
v®
è
	`_lÚgjmp
(jm¶oc, v®)

	)

	@sh/eval.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)eval.c 8.9 (Berkeley) 6/8/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/eval.c,v 1.64.2.7.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<·ths.h
>

42 
	~<sigÇl.h
>

43 
	~<¡dlib.h
>

44 
	~<uni¡d.h
>

45 
	~<sys/»sourû.h
>

46 
	~<sys/wa™.h
>

47 
	~<”ºo.h
>

53 
	~"sh–l.h
"

54 
	~"nodes.h
"

55 
	~"syÁax.h
"

56 
	~"ex·nd.h
"

57 
	~"·r£r.h
"

58 
	~"jobs.h
"

59 
	~"ev®.h
"

60 
	~"butšs.h
"

61 
	~"İtiÚs.h
"

62 
	~"exec.h
"

63 
	~"»dœ.h
"

64 
	~"šput.h
"

65 
	~"ouut.h
"

66 
	~"Œ­.h
"

67 
	~"v¬.h
"

68 
	~"mem®loc.h
"

69 
	~"”rÜ.h
"

70 
	~"show.h
"

71 
	~"my¡ršg.h
"

72 #iâdeà
NO_HISTORY


73 
	~"myhi¡ed™.h
"

77 
	gev®sk
;

78 
	gskcouÁ
;

79 
MKINIT
 
	gloİÃ¡
;

80 
	gfunúe¡
;

81 
	gbutš_æags
;

84 *
	gcommªdÇme
;

85 
¡¾i¡
 *
	gcmd’vœÚ
;

86 
	gex™¡©us
;

87 
	gÛx™¡©us
;

90 
ev®loİ
(
node
 *, );

91 
ev®fÜ
(
node
 *, );

92 
ev®ÿ£
(
node
 *, );

93 
ev®subsh–l
(
node
 *, );

94 
ex´edœ
(
node
 *);

95 
ev®pe
(
node
 *);

96 
ev®commªd
(
node
 *, , 
backcmd
 *);

97 
´ehash
(
node
 *);

104 #ifdeà
mkš™


105 
	gINCLUDE
 "eval.h"

107 
	gRESET
 {

108 
	gev®sk
 = 0;

109 
	gloİÃ¡
 = 0;

110 
	gfunúe¡
 = 0;

113 
	gSHELLPROC
 {

114 
	gex™¡©us
 = 0;

125 
	$ev®cmd
(
¬gc
, **
¬gv
)

127 *
p
;

128 *
cÚÿt
;

129 **
­
;

131 ià(
¬gc
 > 1) {

132 
p
 = 
¬gv
[1];

133 ià(
¬gc
 > 2) {

134 
	`STARTSTACKSTR
(
cÚÿt
);

135 
­
 = 
¬gv
 + 2;

137 *
p
)

138 
	`STPUTC
(*
p
++, 
cÚÿt
);

139 ià((
p
 = *
­
++è=ğ
NULL
)

141 
	`STPUTC
(' ', 
cÚÿt
);

143 
	`STPUTC
('\0', 
cÚÿt
);

144 
p
 = 
	`g¿b¡ack¡r
(
cÚÿt
);

146 
	`ev®¡ršg
(
p
, 
butš_æags
 & 
EV_TESTED
);

148  
ex™¡©us
;

149 
	}
}

157 
	$ev®¡ršg
(*
s
, 
æags
)

159 
node
 *
n
;

160 
¡ackm¬k
 
sm¬k
;

161 
æags_ex™
;

163 
æags_ex™
 = 
æags
 & 
EV_EXIT
;

164 
æags
 &ğ~
EV_EXIT
;

165 
	`£t¡ackm¬k
(&
sm¬k
);

166 
	`£tšput¡ršg
(
s
, 1);

167 (
n
 = 
	`·r£cmd
(0)è!ğ
NEOF
) {

168 ià(
n
 !ğ
NULL
) {

169 ià(
æags_ex™
 && 
	`´—d©eof
())

170 
	`ev®Œ“
(
n
, 
æags
 | 
EV_EXIT
);

172 
	`ev®Œ“
(
n
, 
æags
);

174 
	`pİ¡ackm¬k
(&
sm¬k
);

176 
	`pİfe
();

177 
	`pİ¡ackm¬k
(&
sm¬k
);

178 ià(
æags_ex™
)

179 
	`ex™sh–l
(
ex™¡©us
);

180 
	}
}

189 
	$ev®Œ“
(
node
 *
n
, 
æags
)

191 
do_‘e¡
;

193 
do_‘e¡
 = 0;

194 ià(
n
 =ğ
NULL
) {

195 
	`TRACE
(("evaltree(NULL) called\n"));

196 
ex™¡©us
 = 0;

197 
out
;

199 #iâdeà
NO_HISTORY


200 
di¥Ïyhi¡
 = 1;

202 
	`TRACE
(("ev®Œ“(%p: %dèÿÎed\n", (*)
n
,‚->
ty³
));

203 
n
->
ty³
) {

204 
NSEMI
:

205 
	`ev®Œ“
(
n
->
nbš¬y
.
ch1
, 
æags
 & ~
EV_EXIT
);

206 ià(
ev®sk
)

207 
out
;

208 
	`ev®Œ“
(
n
->
nbš¬y
.
ch2
, 
æags
);

210 
NAND
:

211 
	`ev®Œ“
(
n
->
nbš¬y
.
ch1
, 
EV_TESTED
);

212 ià(
ev®sk
 || 
ex™¡©us
 != 0) {

213 
out
;

215 
	`ev®Œ“
(
n
->
nbš¬y
.
ch2
, 
æags
);

217 
NOR
:

218 
	`ev®Œ“
(
n
->
nbš¬y
.
ch1
, 
EV_TESTED
);

219 ià(
ev®sk
 || 
ex™¡©us
 == 0)

220 
out
;

221 
	`ev®Œ“
(
n
->
nbš¬y
.
ch2
, 
æags
);

223 
NREDIR
:

224 
Ûx™¡©us
 = 
ex™¡©us
;

225 
	`ex´edœ
(
n
->
Äedœ
.
»dœeù
);

226 
	`»dœeù
(
n
->
Äedœ
.
»dœeù
, 
REDIR_PUSH
);

227 
	`ev®Œ“
(
n
->
Äedœ
.n, 
æags
);

228 
	`pİ»dœ
();

230 
NSUBSHELL
:

231 
	`ev®subsh–l
(
n
, 
æags
);

232 
do_‘e¡
 = !(
æags
 & 
EV_TESTED
);

234 
NBACKGND
:

235 
	`ev®subsh–l
(
n
, 
æags
);

237 
NIF
: {

238 
	`ev®Œ“
(
n
->
nif
.
‹¡
, 
EV_TESTED
);

239 ià(
ev®sk
)

240 
out
;

241 ià(
ex™¡©us
 == 0)

242 
	`ev®Œ“
(
n
->
nif
.
iå¬t
, 
æags
);

243 ià(
n
->
nif
.
–£·¹
)

244 
	`ev®Œ“
(
n
->
nif
.
–£·¹
, 
æags
);

246 
ex™¡©us
 = 0;

249 
NWHILE
:

250 
NUNTIL
:

251 
	`ev®loİ
(
n
, 
æags
 & ~
EV_EXIT
);

253 
NFOR
:

254 
	`ev®fÜ
(
n
, 
æags
 & ~
EV_EXIT
);

256 
NCASE
:

257 
	`ev®ÿ£
(
n
, 
æags
);

259 
NDEFUN
:

260 
	`defun
(
n
->
Çrg
.
‹xt
,‚->Çrg.
Ãxt
);

261 
ex™¡©us
 = 0;

263 
NNOT
:

264 
	`ev®Œ“
(
n
->
ÂÙ
.
com
, 
EV_TESTED
);

265 
ex™¡©us
 = !exitstatus;

268 
NPIPE
:

269 
	`ev®pe
(
n
);

270 
do_‘e¡
 = !(
æags
 & 
EV_TESTED
);

272 
NCMD
:

273 
	`ev®commªd
(
n
, 
æags
, (
backcmd
 *)
NULL
);

274 
do_‘e¡
 = !(
æags
 & 
EV_TESTED
);

277 
	`out1fmt
("Nodty³ = %d\n", 
n
->
ty³
);

278 
	`æushout
(&
ouut
);

281 
out
:

282 ià(
³ndšgsigs
)

283 
	`dÙ¿p
();

284 ià((
æags
 & 
EV_EXIT
è|| (
eæag
 && 
ex™¡©us
 !ğ0 && 
do_‘e¡
))

285 
	`ex™sh–l
(
ex™¡©us
);

286 
	}
}

290 
	$ev®loİ
(
node
 *
n
, 
æags
)

292 
¡©us
;

294 
loİÃ¡
++;

295 
¡©us
 = 0;

297 
	`ev®Œ“
(
n
->
nbš¬y
.
ch1
, 
EV_TESTED
);

298 ià(
ev®sk
) {

299 
skpšg
: ià(
ev®sk
 =ğ
SKIPCONT
 && --
skcouÁ
 <= 0) {

300 
ev®sk
 = 0;

303 ià(
ev®sk
 =ğ
SKIPBREAK
 && --
skcouÁ
 <= 0)

304 
ev®sk
 = 0;

307 ià(
n
->
ty³
 =ğ
NWHILE
) {

308 ià(
ex™¡©us
 != 0)

311 ià(
ex™¡©us
 == 0)

314 
	`ev®Œ“
(
n
->
nbš¬y
.
ch2
, 
æags
);

315 
¡©us
 = 
ex™¡©us
;

316 ià(
ev®sk
)

317 
skpšg
;

319 
loİÃ¡
--;

320 
ex™¡©us
 = 
¡©us
;

321 
	}
}

326 
	$ev®fÜ
(
node
 *
n
, 
æags
)

328 
¬gli¡
‡rglist;

329 
node
 *
¬gp
;

330 
¡¾i¡
 *
¥
;

331 
¡ackm¬k
 
sm¬k
;

333 
	`£t¡ackm¬k
(&
sm¬k
);

334 
¬gli¡
.
Ï¡p
 = &¬gli¡.
li¡
;

335 
¬gp
 = 
n
->
nfÜ
.
¬gs
 ;‡rg°;‡rg°ğ¬gp->
Çrg
.
Ãxt
) {

336 
Ûx™¡©us
 = 
ex™¡©us
;

337 
	`ex·nd¬g
(
¬gp
, &
¬gli¡
, 
EXP_FULL
 | 
EXP_TILDE
);

338 ià(
ev®sk
)

339 
out
;

341 *
¬gli¡
.
Ï¡p
 = 
NULL
;

343 
ex™¡©us
 = 0;

344 
loİÃ¡
++;

345 
¥
 = 
¬gli¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
) {

346 
	`£tv¬
(
n
->
nfÜ
.
v¬
, 
¥
->
‹xt
, 0);

347 
	`ev®Œ“
(
n
->
nfÜ
.
body
, 
æags
);

348 ià(
ev®sk
) {

349 ià(
ev®sk
 =ğ
SKIPCONT
 && --
skcouÁ
 <= 0) {

350 
ev®sk
 = 0;

353 ià(
ev®sk
 =ğ
SKIPBREAK
 && --
skcouÁ
 <= 0)

354 
ev®sk
 = 0;

358 
loİÃ¡
--;

359 
out
:

360 
	`pİ¡ackm¬k
(&
sm¬k
);

361 
	}
}

366 
	$ev®ÿ£
(
node
 *
n
, 
æags
)

368 
node
 *
ı
;

369 
node
 *
·
;

370 
¬gli¡
‡rglist;

371 
¡ackm¬k
 
sm¬k
;

373 
	`£t¡ackm¬k
(&
sm¬k
);

374 
¬gli¡
.
Ï¡p
 = &¬gli¡.
li¡
;

375 
Ûx™¡©us
 = 
ex™¡©us
;

376 
ex™¡©us
 = 0;

377 
	`ex·nd¬g
(
n
->
nÿ£
.
ex´
, &
¬gli¡
, 
EXP_TILDE
);

378 
ı
 = 
n
->
nÿ£
.
ÿ£s
 ; c°&& 
ev®sk
 =ğ0 ; c°ğı->
nşi¡
.
Ãxt
) {

379 
·
 = 
ı
->
nşi¡
.
·‰”n
 ;…©°;…©°ğ·->
Çrg
.
Ãxt
) {

380 ià(
	`ÿ£m©ch
(
·
, 
¬gli¡
.
li¡
->
‹xt
)) {

381 ià(
ev®sk
 == 0) {

382 
	`ev®Œ“
(
ı
->
nşi¡
.
body
, 
æags
);

384 
out
;

388 
out
:

389 
	`pİ¡ackm¬k
(&
sm¬k
);

390 
	}
}

399 
	$ev®subsh–l
(
node
 *
n
, 
æags
)

401 
job
 *
jp
;

402 
backgnd
 = (
n
->
ty³
 =ğ
NBACKGND
);

404 
Ûx™¡©us
 = 
ex™¡©us
;

405 
	`ex´edœ
(
n
->
Äedœ
.
»dœeù
);

406 ià((!
backgnd
 && 
æags
 & 
EV_EXIT
 && !
	`have_Œ­s
()) ||

407 
	`fÜksh–l
(
jp
 = 
	`makejob
(
n
, 1),‚, 
backgnd
) == 0) {

408 ià(
backgnd
)

409 
æags
 &=~ 
EV_TESTED
;

410 
	`»dœeù
(
n
->
Äedœ
.
»dœeù
, 0);

411 
	`ev®Œ“
(
n
->
Äedœ
.n, 
æags
 | 
EV_EXIT
);

412 } ià(! 
backgnd
) {

413 
INTOFF
;

414 
ex™¡©us
 = 
	`wa™fÜjob
(
jp
, (*)
NULL
);

415 
INTON
;

417 
	}
}

426 
	$ex´edœ
(
node
 *
n
)

428 
node
 *
»dœ
;

430 
»dœ
 = 
n
 ;„edœ ;„edœ =„edœ->
nfe
.
Ãxt
) {

431 
¬gli¡
 
â
;

432 
â
.
Ï¡p
 = &â.
li¡
;

433 
»dœ
->
ty³
) {

434 
NFROM
:

435 
NTO
:

436 
NFROMTO
:

437 
NAPPEND
:

438 
NCLOBBER
:

439 
	`ex·nd¬g
(
»dœ
->
nfe
.
âame
, &
â
, 
EXP_TILDE
 | 
EXP_REDIR
);

440 
»dœ
->
nfe
.
expâame
 = 
â
.
li¡
->
‹xt
;

442 
NFROMFD
:

443 
NTOFD
:

444 ià(
»dœ
->
ndup
.
vÇme
) {

445 
	`ex·nd¬g
(
»dœ
->
ndup
.
vÇme
, &
â
, 
EXP_TILDE
 | 
EXP_REDIR
);

446 
	`fix»dœ
(
»dœ
, 
â
.
li¡
->
‹xt
, 1);

451 
	}
}

463 
	$ev®pe
(
node
 *
n
)

465 
job
 *
jp
;

466 
nod–i¡
 *
Í
;

467 
p–’
;

468 
´evfd
;

469 
p
[2];

471 
	`TRACE
(("ev®pe(%pèÿÎed\n", (*)
n
));

472 
p–’
 = 0;

473 
Í
 = 
n
->
Åe
.
cmdli¡
 ;†°;†°ğÍ->
Ãxt
)

474 
p–’
++;

475 
INTOFF
;

476 
jp
 = 
	`makejob
(
n
, 
p–’
);

477 
´evfd
 = -1;

478 
Í
 = 
n
->
Åe
.
cmdli¡
 ;†°;†°ğÍ->
Ãxt
) {

479 
	`´ehash
(
Í
->
n
);

480 
p
[1] = -1;

481 ià(
Í
->
Ãxt
) {

482 ià(
	`pe
(
p
) < 0) {

483 
	`şo£
(
´evfd
);

484 
	`”rÜ
("PÿÎ faed: %s", 
	`¡»¼Ü
(
”ºo
));

487 ià(
	`fÜksh–l
(
jp
, 
Í
->
n
,‚->
Åe
.
backgnd
) == 0) {

488 
INTON
;

489 ià(
´evfd
 > 0) {

490 
	`dup2
(
´evfd
, 0);

491 
	`şo£
(
´evfd
);

493 ià(
p
[1] >= 0) {

494 ià(!(
´evfd
 >ğ0 && 
p
[0] == 0))

495 
	`şo£
(
p
[0]);

496 ià(
p
[1] != 1) {

497 
	`dup2
(
p
[1], 1);

498 
	`şo£
(
p
[1]);

501 
	`ev®Œ“
(
Í
->
n
, 
EV_EXIT
);

503 ià(
´evfd
 >= 0)

504 
	`şo£
(
´evfd
);

505 
´evfd
 = 
p
[0];

506 
	`şo£
(
p
[1]);

508 
INTON
;

509 ià(
n
->
Åe
.
backgnd
 == 0) {

510 
INTOFF
;

511 
ex™¡©us
 = 
	`wa™fÜjob
(
jp
, (*)
NULL
);

512 
	`TRACE
(("ev®pe: job dÚex™ stu %d\n", 
ex™¡©us
));

513 
INTON
;

515 
	}
}

527 
	$ev®backcmd
(
node
 *
n
, 
backcmd
 *
»suÉ
)

529 
p
[2];

530 
job
 *
jp
;

531 
¡ackm¬k
 
sm¬k
;

533 
	`£t¡ackm¬k
(&
sm¬k
);

534 
»suÉ
->
fd
 = -1;

535 
»suÉ
->
buf
 = 
NULL
;

536 
»suÉ
->
Æeá
 = 0;

537 
»suÉ
->
jp
 = 
NULL
;

538 ià(
n
 =ğ
NULL
) {

539 
ex™¡©us
 = 0;

540 
out
;

542 ià(
n
->
ty³
 =ğ
NCMD
) {

543 
ex™¡©us
 = 
Ûx™¡©us
;

544 
	`ev®commªd
(
n
, 
EV_BACKCMD
, 
»suÉ
);

546 
ex™¡©us
 = 0;

547 ià(
	`pe
(
p
) < 0)

548 
	`”rÜ
("PÿÎ faed: %s", 
	`¡»¼Ü
(
”ºo
));

549 
jp
 = 
	`makejob
(
n
, 1);

550 ià(
	`fÜksh–l
(
jp
, 
n
, 
FORK_NOJOB
) == 0) {

551 
FORCEINTON
;

552 
	`şo£
(
p
[0]);

553 ià(
p
[1] != 1) {

554 
	`dup2
(
p
[1], 1);

555 
	`şo£
(
p
[1]);

557 
	`ev®Œ“
(
n
, 
EV_EXIT
);

559 
	`şo£
(
p
[1]);

560 
»suÉ
->
fd
 = 
p
[0];

561 
»suÉ
->
jp
 = jp;

563 
out
:

564 
	`pİ¡ackm¬k
(&
sm¬k
);

565 
	`TRACE
(("evalbackcmd done: fd=%d buf=%p‚left=%d jp=%p\n",

566 
»suÉ
->
fd
,„esuÉ->
buf
,„esuÉ->
Æeá
,„esuÉ->
jp
));

567 
	}
}

576 
	$ev®commªd
(
node
 *
cmd
, 
æags
, 
backcmd
 *backcmd)

578 
¡ackm¬k
 
sm¬k
;

579 
node
 *
¬gp
;

580 
¬gli¡
‡rglist;

581 
¬gli¡
 
v¬li¡
;

582 **
¬gv
;

583 
¬gc
;

584 **
’vp
;

585 
v¬æag
;

586 
¡¾i¡
 *
¥
;

587 
mode
;

588 
p
[2];

589 
cmd’Œy
 cmdentry;

590 
job
 *
jp
;

591 
jm¶oc
 jmploc;

592 
jm¶oc
 *
§vehªdËr
;

593 *
§vecmdÇme
;

594 
sh·¿m
 
§v•¬am
;

595 
loÿlv¬
 *
§v–oÿlv¬s
;

596 vŞ©
e
;

597 *
Ï¡¬g
;

598 
»®¡©us
;

599 
do_ş—rcmd’Œy
;

602 
	`TRACE
(("ev®commªd(%p, %dèÿÎed\n", (*)
cmd
, 
æags
));

603 
	`£t¡ackm¬k
(&
sm¬k
);

604 
¬gli¡
.
Ï¡p
 = &¬gli¡.
li¡
;

605 
v¬li¡
.
Ï¡p
 = &v¬li¡.
li¡
;

606 
v¬æag
 = 1;

607 
do_ş—rcmd’Œy
 = 0;

608 
Ûx™¡©us
 = 
ex™¡©us
;

609 
ex™¡©us
 = 0;

610 
¬gp
 = 
cmd
->
ncmd
.
¬gs
 ;‡rg°;‡rg°ğ¬gp->
Çrg
.
Ãxt
) {

611 *
p
 = 
¬gp
->
Çrg
.
‹xt
;

612 ià(
v¬æag
 && 
	`is_Çme
(*
p
)) {

614 
p
++;

615 } 
	`is_š_Çme
(*
p
));

616 ià(*
p
 == '=') {

617 
	`ex·nd¬g
(
¬gp
, &
v¬li¡
, 
EXP_VARTILDE
);

621 
	`ex·nd¬g
(
¬gp
, &
¬gli¡
, 
EXP_FULL
 | 
EXP_TILDE
);

622 
v¬æag
 = 0;

624 *
¬gli¡
.
Ï¡p
 = 
NULL
;

625 *
v¬li¡
.
Ï¡p
 = 
NULL
;

626 
	`ex´edœ
(
cmd
->
ncmd
.
»dœeù
);

627 
¬gc
 = 0;

628 
¥
 = 
¬gli¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
)

629 
¬gc
++;

630 
¬gv
 = 
	`¡®loc
( (*è* (
¬gc
 + 1));

632 
¥
 = 
¬gli¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
) {

633 
	`TRACE
(("ev®commªd‡rg: %s\n", 
¥
->
‹xt
));

634 *
¬gv
++ = 
¥
->
‹xt
;

636 *
¬gv
 = 
NULL
;

637 
Ï¡¬g
 = 
NULL
;

638 ià(
iæag
 && 
funúe¡
 =ğ0 && 
¬gc
 > 0)

639 
Ï¡¬g
 = 
¬gv
[-1];

640 
¬gv
 -ğ
¬gc
;

643 ià(
xæag
) {

644 
£p
 = 0;

645 cÚ¡ *
p
;

646 
	`out2¡r
(
	`ps4v®
());

647 
¥
 = 
v¬li¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
) {

648 ià(
£p
 != 0)

649 
	`outc
(' ', &
”rout
);

650 
p
 = 
¥
->
‹xt
;

651 *
p
 != '=' && *p != '\0')

652 
	`out2c
(*
p
++);

653 ià(*
p
 != '\0') {

654 
	`out2c
(*
p
++);

655 
	`out2q¡r
(
p
);

657 
£p
 = ' ';

659 
¥
 = 
¬gli¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
) {

660 ià(
£p
 != 0)

661 
	`outc
(' ', &
”rout
);

663 ià(
¥
 =ğ
¬gli¡
.
li¡
 &&

664 
	`¡rchr
(
¥
->
‹xt
, '='è!ğ
NULL
 &&

665 
	`¡rchr
(
¥
->
‹xt
, '\''è=ğ
NULL
) {

666 
	`out2c
('\'');

667 
	`out2¡r
(
¥
->
‹xt
);

668 
	`out2c
('\'');

670 
	`out2q¡r
(
¥
->
‹xt
);

671 
£p
 = ' ';

673 
	`outc
('\n', &
”rout
);

674 
	`æushout
(&
”rout
);

678 ià(
¬gc
 == 0) {

680 
cmd’Œy
.
cmdty³
 = 
CMDBUILTIN
;

681 
cmd’Œy
.
u
.
šdex
 = 
BLTINCMD
;

682 
cmd’Œy
.
¥ecŸl
 = 1;

684 cÚ¡ 
PATH
[] = "PATH=";

685 *
·th
 = 
	`·thv®
();

691 
¥
 = 
v¬li¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
)

692 ià(
	`¡ºcmp
(
¥
->
‹xt
, 
PATH
, (PATH) - 1) == 0) {

693 
·th
 = 
¥
->
‹xt
 + (
PATH
) - 1;

712 
	`ş—rcmd’Œy
(0);

713 
do_ş—rcmd’Œy
 = 1;

716 
	`fšd_commªd
(
¬gv
[0], &
cmd’Œy
, 1, 
·th
);

717 ià(
cmd’Œy
.
cmdty³
 =ğ
CMDUNKNOWN
) {

718 
ex™¡©us
 = 127;

719 
	`æushout
(&
”rout
);

723 ià(
cmd’Œy
.
cmdty³
 =ğ
CMDBUILTIN
 && cmd’Œy.
u
.
šdex
 =ğ
BLTINCMD
) {

725 
¬gv
++;

726 ià(--
¬gc
 == 0)

728 ià((
cmd’Œy
.
u
.
šdex
 = 
	`fšd_butš
(*
¬gv
,

729 &
cmd’Œy
.
¥ecŸl
)) < 0) {

730 
	`outfmt
(&
”rout
, "%s:‚Ù found\n", *
¬gv
);

731 
ex™¡©us
 = 127;

732 
	`æushout
(&
”rout
);

735 ià(
cmd’Œy
.
u
.
šdex
 !ğ
BLTINCMD
)

742 ià(
cmd
->
ncmd
.
backgnd


743 || (
cmd’Œy
.
cmdty³
 =ğ
CMDNORMAL


744 && ((
æags
 & 
EV_EXIT
è=ğ0 || 
	`have_Œ­s
()))

745 || ((
æags
 & 
EV_BACKCMD
) != 0

746 && (
cmd’Œy
.
cmdty³
 !ğ
CMDBUILTIN


747 || 
cmd’Œy
.
u
.
šdex
 =ğ
CDCMD


748 || 
cmd’Œy
.
u
.
šdex
 =ğ
DOTCMD


749 || 
cmd’Œy
.
u
.
šdex
 =ğ
EVALCMD
))

750 || (
cmd’Œy
.
cmdty³
 =ğ
CMDBUILTIN
 &&

751 
cmd’Œy
.
u
.
šdex
 =ğ
COMMANDCMD
)) {

752 
jp
 = 
	`makejob
(
cmd
, 1);

753 
mode
 = 
cmd
->
ncmd
.
backgnd
;

754 ià(
æags
 & 
EV_BACKCMD
) {

755 
mode
 = 
FORK_NOJOB
;

756 ià(
	`pe
(
p
) < 0)

757 
	`”rÜ
("PÿÎ faed: %s", 
	`¡»¼Ü
(
”ºo
));

759 ià(
	`fÜksh–l
(
jp
, 
cmd
, 
mode
) != 0)

760 
·»Á
;

761 ià(
æags
 & 
EV_BACKCMD
) {

762 
FORCEINTON
;

763 
	`şo£
(
p
[0]);

764 ià(
p
[1] != 1) {

765 
	`dup2
(
p
[1], 1);

766 
	`şo£
(
p
[1]);

769 
æags
 |ğ
EV_EXIT
;

774 ià(
cmd’Œy
.
cmdty³
 =ğ
CMDFUNCTION
) {

775 #ifdeà
DEBUG


776 
	`Œputs
("Sh–ÈfunùiÚ: "); 
	`Œ¬gs
(
¬gv
);

778 
	`»dœeù
(
cmd
->
ncmd
.
»dœeù
, 
REDIR_PUSH
);

779 
§v•¬am
 = 
sh–Í¬am
;

780 
sh–Í¬am
.
m®loc
 = 0;

781 
sh–Í¬am
.
»£t
 = 1;

782 
sh–Í¬am
.
Å¬am
 = 
¬gc
 - 1;

783 
sh–Í¬am
.
p
 = 
¬gv
 + 1;

784 
sh–Í¬am
.
İŠext
 = 
NULL
;

785 
INTOFF
;

786 
§v–oÿlv¬s
 = 
loÿlv¬s
;

787 
loÿlv¬s
 = 
NULL
;

788 
	`»ffunc
(
cmd’Œy
.
u
.
func
);

789 
INTON
;

790 
§vehªdËr
 = 
hªdËr
;

791 ià(
	`£tjmp
(
jm¶oc
.
loc
)) {

792 ià(
exû±iÚ
 =ğ
EXSHELLPROC
)

793 
	`ä“·¿m
(&
§v•¬am
);

795 
	`ä“·¿m
(&
sh–Í¬am
);

796 
sh–Í¬am
 = 
§v•¬am
;

798 
	`uÄeffunc
(
cmd’Œy
.
u
.
func
);

799 
	`pİloÿlv¬s
();

800 
loÿlv¬s
 = 
§v–oÿlv¬s
;

801 
hªdËr
 = 
§vehªdËr
;

802 
	`lÚgjmp
(
hªdËr
->
loc
, 1);

804 
hªdËr
 = &
jm¶oc
;

805 
¥
 = 
v¬li¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
)

806 
	`mkloÿl
(
¥
->
‹xt
);

807 
funúe¡
++;

808 
ex™¡©us
 = 
Ûx™¡©us
;

809 ià(
æags
 & 
EV_TESTED
)

810 
	`ev®Œ“
(
	`g‘funúode
(
cmd’Œy
.
u
.
func
), 
EV_TESTED
);

812 
	`ev®Œ“
(
	`g‘funúode
(
cmd’Œy
.
u
.
func
), 0);

813 
funúe¡
--;

814 
INTOFF
;

815 
	`uÄeffunc
(
cmd’Œy
.
u
.
func
);

816 
	`pİloÿlv¬s
();

817 
loÿlv¬s
 = 
§v–oÿlv¬s
;

818 
	`ä“·¿m
(&
sh–Í¬am
);

819 
sh–Í¬am
 = 
§v•¬am
;

820 
hªdËr
 = 
§vehªdËr
;

821 
	`pİ»dœ
();

822 
INTON
;

823 ià(
ev®sk
 =ğ
SKIPFUNC
) {

824 
ev®sk
 = 0;

825 
skcouÁ
 = 0;

827 ià(
æags
 & 
EV_EXIT
)

828 
	`ex™sh–l
(
ex™¡©us
);

829 } ià(
cmd’Œy
.
cmdty³
 =ğ
CMDBUILTIN
) {

830 #ifdeà
DEBUG


831 
	`Œputs
("butš commªd: "); 
	`Œ¬gs
(
¬gv
);

833 
mode
 = (
cmd’Œy
.
u
.
šdex
 =ğ
EXECCMD
)? 0 : 
REDIR_PUSH
;

834 ià(
æags
 =ğ
EV_BACKCMD
) {

835 
memout
.
Æeá
 = 0;

836 
memout
.
Ãxtc
 = memout.
buf
;

837 
memout
.
bufsize
 = 64;

838 
mode
 |ğ
REDIR_BACKQ
;

840 
§vecmdÇme
 = 
commªdÇme
;

841 
cmd’vœÚ
 = 
v¬li¡
.
li¡
;

842 
e
 = -1;

843 
§vehªdËr
 = 
hªdËr
;

844 ià(
	`£tjmp
(
jm¶oc
.
loc
)) {

845 
e
 = 
exû±iÚ
;

846 
ex™¡©us
 = (
e
 =ğ
EXINT
)? 
SIGINT
+128 : 2;

847 
cmddÚe
;

849 
hªdËr
 = &
jm¶oc
;

850 
	`»dœeù
(
cmd
->
ncmd
.
»dœeù
, 
mode
);

851 ià(
cmd’Œy
.
¥ecŸl
)

852 
	`li¡£tv¬
(
cmd’vœÚ
);

853 
commªdÇme
 = 
¬gv
[0];

854 
¬g±r
 = 
¬gv
 + 1;

855 
Ãxtİt_İŒ
 = 
NULL
;

856 
butš_æags
 = 
æags
;

857 
ex™¡©us
 = (*
butšfunc
[
cmd’Œy
.
u
.
šdex
])(
¬gc
, 
¬gv
);

858 
	`æush®l
();

859 
cmddÚe
:

860 
cmd’vœÚ
 = 
NULL
;

861 
out1
 = &
ouut
;

862 
out2
 = &
”rout
;

863 
	`ä“¡dout
();

864 ià(
e
 !ğ
EXSHELLPROC
) {

865 
commªdÇme
 = 
§vecmdÇme
;

866 ià(
æags
 & 
EV_EXIT
) {

867 
	`ex™sh–l
(
ex™¡©us
);

870 
hªdËr
 = 
§vehªdËr
;

871 ià(
e
 != -1) {

872 ià((
e
 !ğ
EXERROR
 &&ƒ !ğ
EXEXEC
)

873 || 
cmd’Œy
.
¥ecŸl
)

874 
	`ex¿i£
(
e
);

875 
FORCEINTON
;

877 ià(
cmd’Œy
.
u
.
šdex
 !ğ
EXECCMD
)

878 
	`pİ»dœ
();

879 ià(
æags
 =ğ
EV_BACKCMD
) {

880 
backcmd
->
buf
 = 
memout
.buf;

881 
backcmd
->
Æeá
 = 
memout
.
Ãxtc
 - memout.
buf
;

882 
memout
.
buf
 = 
NULL
;

885 #ifdeà
DEBUG


886 
	`Œputs
("nÜm® commªd: "); 
	`Œ¬gs
(
¬gv
);

888 
	`ş—¼edœ
();

889 
	`»dœeù
(
cmd
->
ncmd
.
»dœeù
, 0);

890 
¥
 = 
v¬li¡
.
li¡
 ; s°; s°ğ¥->
Ãxt
)

891 
	`£tv¬eq
(
¥
->
‹xt
, 
VEXPORT
|
VSTACK
);

892 
’vp
 = 
	`’vœÚm’t
();

893 
	`sh–Ëxec
(
¬gv
, 
’vp
, 
	`·thv®
(), 
cmd’Œy
.
u
.
šdex
);

896 
out
;

898 
·»Á
:

899 ià(
mode
 =ğ
FORK_FG
) {

900 
INTOFF
;

901 
ex™¡©us
 = 
	`wa™fÜjob
(
jp
, &
»®¡©us
);

902 
INTON
;

903 ià(
iæag
 && 
loİÃ¡
 > 0 && 
	`WIFSIGNALED
(
»®¡©us
)) {

904 
ev®sk
 = 
SKIPBREAK
;

905 
skcouÁ
 = 
loİÃ¡
;

907 } ià(
mode
 =ğ
FORK_NOJOB
) {

908 
backcmd
->
fd
 = 
p
[0];

909 
	`şo£
(
p
[1]);

910 
backcmd
->
jp
 = jp;

913 
out
:

914 ià(
Ï¡¬g
)

915 
	`£tv¬
("_", 
Ï¡¬g
, 0);

916 ià(
do_ş—rcmd’Œy
)

917 
	`ş—rcmd’Œy
(0);

918 
	`pİ¡ackm¬k
(&
sm¬k
);

919 
	}
}

931 
	$´ehash
(
node
 *
n
)

933 
cmd’Œy
 
’Œy
;

935 ià(
n
 &&‚->
ty³
 =ğ
NCMD
 &&‚->
ncmd
.
¬gs
)

936 ià(
	`goodÇme
(
n
->
ncmd
.
¬gs
->
Çrg
.
‹xt
))

937 
	`fšd_commªd
(
n
->
ncmd
.
¬gs
->
Çrg
.
‹xt
, &
’Œy
, 0,

938 
	`·thv®
());

939 
	}
}

953 
	$bÉšcmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

959  
ex™¡©us
;

960 
	}
}

975 
	$b»akcmd
(
¬gc
, **
¬gv
)

977 
n
 = 
¬gc
 > 1 ? 
	`numb”
(
¬gv
[1]) : 1;

979 ià(
n
 > 
loİÃ¡
)

980 
n
 = 
loİÃ¡
;

981 ià(
n
 > 0) {

982 
ev®sk
 = (**
¬gv
 =ğ'c')? 
SKIPCONT
 : 
SKIPBREAK
;

983 
skcouÁ
 = 
n
;

986 
	}
}

992 
	$commªdcmd
(
¬gc
, **
¬gv
)

994 
¡d·th
[] = 
_PATH_STDPATH
;

995 
jm¶oc
 
loc
, *
Şd
;

996 
¡¾i¡
 *
¥
;

997 *
·th
;

998 
ch
;

999 
cmd
 = -1;

1001 
¥
 = 
cmd’vœÚ
; s°; s°ğ¥->
Ãxt
)

1002 
	`£tv¬eq
(
¥
->
‹xt
, 
VEXPORT
|
VSTACK
);

1003 
·th
 = 
	`·thv®
();

1005 
İtšd
 = 
İŒe£t
 = 1;

1006 
İ‹¼
 = 0;

1007 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "pvV")) != -1) {

1008 
ch
) {

1010 
·th
 = 
¡d·th
;

1013 
cmd
 = 
TYPECMD_SMALLV
;

1016 
cmd
 = 
TYPECMD_BIGV
;

1020 
	`”rÜ
("unknowÀİtiÚ: -%c", 
İtİt
);

1023 
¬gc
 -ğ
İtšd
;

1024 
¬gv
 +ğ
İtšd
;

1026 ià(
cmd
 != -1) {

1027 ià(
¬gc
 != 1)

1028 
	`”rÜ
("wrong‚umber of‡rguments");

1029  
	`ty³cmd_im¶
(2, 
¬gv
 - 1, 
cmd
);

1031 ià(
¬gc
 != 0) {

1032 
Şd
 = 
hªdËr
;

1033 
hªdËr
 = &
loc
;

1034 ià(
	`£tjmp
(
hªdËr
->
loc
) == 0)

1035 
	`sh–Ëxec
(
¬gv
, 
	`’vœÚm’t
(), 
·th
, 0);

1036 
hªdËr
 = 
Şd
;

1037 ià(
exû±iÚ
 =ğ
EXEXEC
)

1038 
	`ex™
(
ex”ºo
);

1039 
	`ex¿i£
(
exû±iÚ
);

1046 
	`ex™
(0);

1047 
	}
}

1055 
	$»tuºcmd
(
¬gc
, **
¬gv
)

1057 
»t
 = 
¬gc
 > 1 ? 
	`numb”
(
¬gv
[1]è: 
Ûx™¡©us
;

1059 ià(
funúe¡
) {

1060 
ev®sk
 = 
SKIPFUNC
;

1061 
skcouÁ
 = 1;

1064 
ev®sk
 = 
SKIPFILE
;

1065 
skcouÁ
 = 1;

1067  
»t
;

1068 
	}
}

1072 
	$çl£cmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

1075 
	}
}

1079 
	$Œuecmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

1082 
	}
}

1086 
	$execcmd
(
¬gc
, **
¬gv
)

1088 ià(
¬gc
 > 1) {

1089 
¡¾i¡
 *
¥
;

1091 
iæag
 = 0;

1092 
mæag
 = 0;

1093 
	`İtschªged
();

1094 
¥
 = 
cmd’vœÚ
; s°; s°ğ¥->
Ãxt
)

1095 
	`£tv¬eq
(
¥
->
‹xt
, 
VEXPORT
|
VSTACK
);

1096 
	`sh–Ëxec
(
¬gv
 + 1, 
	`’vœÚm’t
(), 
	`·thv®
(), 0);

1100 
	}
}

1104 
	$timescmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

1106 
ru§ge
 
ru
;

1107 
shumšs
, 
shsmšs
, 
chumšs
, 
chsmšs
;

1108 
shu£cs
, 
shs£cs
, 
chu£cs
, 
chs£cs
;

1110 ià(
	`g‘ru§ge
(
RUSAGE_SELF
, &
ru
) < 0)

1112 
shumšs
 = 
ru
.
ru_utime
.
tv_£c
 / 60;

1113 
shu£cs
 = 
ru
.
ru_utime
.
tv_£c
 % 60 +„u.ru_utime.
tv_u£c
 / 1000000.;

1114 
shsmšs
 = 
ru
.
ru_¡ime
.
tv_£c
 / 60;

1115 
shs£cs
 = 
ru
.
ru_¡ime
.
tv_£c
 % 60 +„u.ru_¡ime.
tv_u£c
 / 1000000.;

1116 ià(
	`g‘ru§ge
(
RUSAGE_CHILDREN
, &
ru
) < 0)

1118 
chumšs
 = 
ru
.
ru_utime
.
tv_£c
 / 60;

1119 
chu£cs
 = 
ru
.
ru_utime
.
tv_£c
 % 60 +„u.ru_utime.
tv_u£c
 / 1000000.;

1120 
chsmšs
 = 
ru
.
ru_¡ime
.
tv_£c
 / 60;

1121 
chs£cs
 = 
ru
.
ru_¡ime
.
tv_£c
 % 60 +„u.ru_¡ime.
tv_u£c
 / 1000000.;

1122 
	`out1fmt
("%ldm%.3f %ldm%.3fs\n%ldm%.3f %ldm%.3fs\n", 
shumšs
,

1123 
shu£cs
, 
shsmšs
, 
shs£cs
, 
chumšs
, 
chu£cs
, 
chsmšs
, 
chs£cs
);

1125 
	}
}

	@sh/eval.h

36 *
commªdÇme
;

37 
ex™¡©us
;

38 
Ûx™¡©us
;

39 
¡¾i¡
 *
cmd’vœÚ
;

42 
	sbackcmd
 {

43 
	mfd
;

44 *
	mbuf
;

45 
	mÆeá
;

46 
job
 *
	mjp
;

50 
	#EV_EXIT
 01

	)

51 
	#EV_TESTED
 02

	)

52 
	#EV_BACKCMD
 04

	)

54 
ev®cmd
(, **);

55 
ev®¡ršg
(*, );

56 
	gnode
;

57 
ev®Œ“
(
node
 *, );

58 
ev®backcmd
(
node
 *, 
backcmd
 *);

59 
bÉšcmd
(, **);

60 
b»akcmd
(, **);

61 
»tuºcmd
(, **);

62 
çl£cmd
(, **);

63 
Œuecmd
(, **);

64 
execcmd
(, **);

65 
timescmd
(, **);

66 
commªdcmd
(, **);

69 
	#š_funùiÚ
(è
funúe¡


	)

70 
funúe¡
;

71 
ev®sk
;

72 
skcouÁ
;

75 
	#SKIPBREAK
 1

	)

76 
	#SKIPCONT
 2

	)

77 
	#SKIPFUNC
 3

	)

78 
	#SKIPFILE
 4

	)

	@sh/exec.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)exec.c 8.4 (Berkeley) 6/8/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/exec.c,v 1.34.2.5.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/ty³s.h
>

42 
	~<sys/¡©.h
>

43 
	~<uni¡d.h
>

44 
	~<fú.h
>

45 
	~<”ºo.h
>

46 
	~<¡dlib.h
>

57 
	~"sh–l.h
"

58 
	~"maš.h
"

59 
	~"nodes.h
"

60 
	~"·r£r.h
"

61 
	~"»dœ.h
"

62 
	~"ev®.h
"

63 
	~"exec.h
"

64 
	~"butšs.h
"

65 
	~"v¬.h
"

66 
	~"İtiÚs.h
"

67 
	~"šput.h
"

68 
	~"ouut.h
"

69 
	~"syÁax.h
"

70 
	~"mem®loc.h
"

71 
	~"”rÜ.h
"

72 
	~"š™.h
"

73 
	~"my¡ršg.h
"

74 
	~"show.h
"

75 
	~"jobs.h
"

76 
	~"®Ÿs.h
"

79 
	#CMDTABLESIZE
 31

	)

80 
	#ARB
 1

	)

84 
	stbËÁry
 {

85 
tbËÁry
 *
	mÃxt
;

86 
·¿m
 
	m·¿m
;

87 
	m¥ecŸl
;

88 
	mcmdty³
;

89 
	m»hash
;

90 
	mcmdÇme
[
ARB
];

94 
tbËÁry
 *
	gcmdbË
[
CMDTABLESIZE
];

95 
	gbutšloc
 = -1;

96 
	gex”ºo
 = 0;

99 
Œyexec
(*, **, **);

100 
´š‹Áry
(
tbËÁry
 *, );

101 
tbËÁry
 *
cmdlookup
(const *, );

102 
d–‘e_cmd_’Œy
();

112 
	$sh–Ëxec
(**
¬gv
, **
’vp
, cÚ¡ *
·th
, 
idx
)

114 *
cmdÇme
;

115 
e
;

117 ià(
	`¡rchr
(
¬gv
[0], '/'è!ğ
NULL
) {

118 
	`Œyexec
(
¬gv
[0],‡rgv, 
’vp
);

119 
e
 = 
”ºo
;

121 
e
 = 
ENOENT
;

122 (
cmdÇme
 = 
	`·dvªû
(&
·th
, 
¬gv
[0])è!ğ
NULL
) {

123 ià(--
idx
 < 0 && 
·thİt
 =ğ
NULL
) {

124 
	`Œyexec
(
cmdÇme
, 
¬gv
, 
’vp
);

125 ià(
”ºo
 !ğ
ENOENT
 &&ƒ¼nØ!ğ
ENOTDIR
)

126 
e
 = 
”ºo
;

128 
	`¡uÇÎoc
(
cmdÇme
);

133 
e
) {

134 
EACCES
:

135 
ex”ºo
 = 126;

137 
ENOENT
:

138 
ex”ºo
 = 127;

141 
ex”ºo
 = 2;

144 ià(
e
 =ğ
ENOENT
 ||ƒ =ğ
ENOTDIR
)

145 
	`ex”rÜ
(
EXEXEC
, "%s:‚Ù found", 
¬gv
[0]);

146 
	`ex”rÜ
(
EXEXEC
, "%s: %s", 
¬gv
[0], 
	`¡»¼Ü
(
e
));

147 
	}
}

151 
	$Œyexec
(*
cmd
, **
¬gv
, **
’vp
)

153 
e
;

155 
	`execve
(
cmd
, 
¬gv
, 
’vp
);

156 
e
 = 
”ºo
;

157 ià(
e
 =ğ
ENOEXEC
) {

158 
	`š™sh–Íroc
();

159 
	`£tšputfe
(
cmd
, 0);

160 
commªdÇme
 = 
¬g0
 = 
	`§ve¡r
(
¬gv
[0]);

161 
	`£¬am
(
¬gv
 + 1);

162 
	`ex¿i£
(
EXSHELLPROC
);

165 
”ºo
 = 
e
;

166 
	}
}

178 cÚ¡ *
	g·thİt
;

181 
	$·dvªû
(cÚ¡ **
·th
, cÚ¡ *
Çme
)

183 cÚ¡ *
p
, *
¡¬t
;

184 *
q
;

185 
Ën
;

187 ià(*
·th
 =ğ
NULL
)

188  
NULL
;

189 
¡¬t
 = *
·th
;

190 
p
 = 
¡¬t
; *p && *p != ':' && *p != '%';…++)

192 
Ën
 = 
p
 - 
¡¬t
 + 
	`¡¾’
(
Çme
) + 2;

193 
	`¡ackblocksize
(è< 
Ën
)

194 
	`grow¡ackblock
();

195 
q
 = 
	`¡ackblock
();

196 ià(
p
 !ğ
¡¬t
) {

197 
	`memıy
(
q
, 
¡¬t
, 
p
 - start);

198 
q
 +ğ
p
 - 
¡¬t
;

199 *
q
++ = '/';

201 
	`¡rıy
(
q
, 
Çme
);

202 
·thİt
 = 
NULL
;

203 ià(*
p
 == '%') {

204 
·thİt
 = ++
p
;

205 *
p
 && *p != ':')…++;

207 ià(*
p
 == ':')

208 *
·th
 = 
p
 + 1;

210 *
·th
 = 
NULL
;

211  
	`¡®loc
(
Ën
);

212 
	}
}

220 
	$hashcmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

222 
tbËÁry
 **
µ
;

223 
tbËÁry
 *
cmdp
;

224 
c
;

225 
v”bo£
;

226 
cmd’Œy
 
’Œy
;

227 *
Çme
;

229 
v”bo£
 = 0;

230 (
c
 = 
	`Ãxtİt
("rv")) != '\0') {

231 ià(
c
 == 'r') {

232 
	`ş—rcmd’Œy
(0);

233 } ià(
c
 == 'v') {

234 
v”bo£
++;

237 ià(*
¬g±r
 =ğ
NULL
) {

238 
µ
 = 
cmdbË
 ;…°< &cmdbË[
CMDTABLESIZE
] ;…p++) {

239 
cmdp
 = *
µ
 ; cmd°; cmd°ğcmdp->
Ãxt
) {

240 ià(
cmdp
->
cmdty³
 =ğ
CMDNORMAL
)

241 
	`´š‹Áry
(
cmdp
, 
v”bo£
);

246 (
Çme
 = *
¬g±r
è!ğ
NULL
) {

247 ià((
cmdp
 = 
	`cmdlookup
(
Çme
, 0)è!ğ
NULL


248 && (
cmdp
->
cmdty³
 =ğ
CMDNORMAL


249 || (
cmdp
->
cmdty³
 =ğ
CMDBUILTIN
 && 
butšloc
 >= 0)))

250 
	`d–‘e_cmd_’Œy
();

251 
	`fšd_commªd
(
Çme
, &
’Œy
, 1, 
	`·thv®
());

252 ià(
v”bo£
) {

253 ià(
’Œy
.
cmdty³
 !ğ
CMDUNKNOWN
) {

254 
cmdp
 = 
	`cmdlookup
(
Çme
, 0);

255 ià(
cmdp
 !ğ
NULL
)

256 
	`´š‹Áry
(
cmdp
, 
v”bo£
);

258 
	`outfmt
(&
”rout
, "%s:‚Ù found\n", 
Çme
);

260 
	`æush®l
();

262 
¬g±r
++;

265 
	}
}

269 
	$´š‹Áry
(
tbËÁry
 *
cmdp
, 
v”bo£
)

271 
idx
;

272 cÚ¡ *
·th
;

273 *
Çme
;

275 ià(
cmdp
->
cmdty³
 =ğ
CMDNORMAL
) {

276 
idx
 = 
cmdp
->
·¿m
.
šdex
;

277 
·th
 = 
	`·thv®
();

279 
Çme
 = 
	`·dvªû
(&
·th
, 
cmdp
->
cmdÇme
);

280 
	`¡uÇÎoc
(
Çme
);

281 } --
idx
 >= 0);

282 
	`out1¡r
(
Çme
);

283 } ià(
cmdp
->
cmdty³
 =ğ
CMDBUILTIN
) {

284 
	`out1fmt
("butš %s", 
cmdp
->
cmdÇme
);

285 } ià(
cmdp
->
cmdty³
 =ğ
CMDFUNCTION
) {

286 
	`out1fmt
("funùiÚ %s", 
cmdp
->
cmdÇme
);

287 ià(
v”bo£
) {

288 
INTOFF
;

289 
Çme
 = 
	`commªd‹xt
(
	`g‘funúode
(
cmdp
->
·¿m
.
func
));

290 
	`out1c
(' ');

291 
	`out1¡r
(
Çme
);

292 
	`ckä“
(
Çme
);

293 
INTON
;

295 #ifdeà
DEBUG


297 
	`”rÜ
("š‹º®ƒ¼Ü: cmdty³ %d", 
cmdp
->
cmdty³
);

300 ià(
cmdp
->
»hash
)

301 
	`out1c
('*');

302 
	`out1c
('\n');

303 
	}
}

313 
	$fšd_commªd
(cÚ¡ *
Çme
, 
cmd’Œy
 *
’Œy
, 
´š‹¼
,

314 cÚ¡ *
·th
)

316 
tbËÁry
 *
cmdp
;

317 
idx
;

318 
´ev
;

319 *
fuÎÇme
;

320 
¡©
 
¡©b
;

321 
e
;

322 
i
;

323 
¥ec
;

326 ià(
	`¡rchr
(
Çme
, '/'è!ğ
NULL
) {

327 
’Œy
->
cmdty³
 = 
CMDNORMAL
;

328 
’Œy
->
u
.
šdex
 = 0;

333 ià((
cmdp
 = 
	`cmdlookup
(
Çme
, 0)è!ğ
NULL
 && cmdp->
»hash
 == 0)

334 
sucûss
;

337 ià(
butšloc
 < 0 && (
i
 = 
	`fšd_butš
(
Çme
, &
¥ec
)) >= 0) {

338 
INTOFF
;

339 
cmdp
 = 
	`cmdlookup
(
Çme
, 1);

340 
cmdp
->
cmdty³
 = 
CMDBUILTIN
;

341 
cmdp
->
·¿m
.
šdex
 = 
i
;

342 
cmdp
->
¥ecŸl
 = 
¥ec
;

343 
INTON
;

344 
sucûss
;

348 
´ev
 = -1;

349 ià(
cmdp
) {

350 ià(
cmdp
->
cmdty³
 =ğ
CMDBUILTIN
)

351 
´ev
 = 
butšloc
;

353 
´ev
 = 
cmdp
->
·¿m
.
šdex
;

356 
e
 = 
ENOENT
;

357 
idx
 = -1;

358 
loİ
:

359 (
fuÎÇme
 = 
	`·dvªû
(&
·th
, 
Çme
)è!ğ
NULL
) {

360 
	`¡uÇÎoc
(
fuÎÇme
);

361 
idx
++;

362 ià(
·thİt
) {

363 ià(
	`´efix
("butš", 
·thİt
)) {

364 ià((
i
 = 
	`fšd_butš
(
Çme
, &
¥ec
)) < 0)

365 
loİ
;

366 
INTOFF
;

367 
cmdp
 = 
	`cmdlookup
(
Çme
, 1);

368 
cmdp
->
cmdty³
 = 
CMDBUILTIN
;

369 
cmdp
->
·¿m
.
šdex
 = 
i
;

370 
cmdp
->
¥ecŸl
 = 
¥ec
;

371 
INTON
;

372 
sucûss
;

373 } ià(
	`´efix
("func", 
·thİt
)) {

376 
loİ
;

380 ià(
fuÎÇme
[0] =ğ'/' && 
idx
 <ğ
´ev
) {

381 ià(
idx
 < 
´ev
)

382 
loİ
;

383 
	`TRACE
(("£¬chexeø\"%s\":‚Øchªge\n", 
Çme
));

384 
sucûss
;

386 ià(
	`¡©
(
fuÎÇme
, &
¡©b
) < 0) {

387 ià(
”ºo
 !ğ
ENOENT
 &&ƒ¼nØ!ğ
ENOTDIR
)

388 
e
 = 
”ºo
;

389 
loİ
;

391 
e
 = 
EACCES
;

392 ià(!
	`S_ISREG
(
¡©b
.
¡_mode
))

393 
loİ
;

394 ià(
·thİt
) {

395 
	`¡®loc
(
	`¡¾’
(
fuÎÇme
) + 1);

396 
	`»adcmdfe
(
fuÎÇme
);

397 ià((
cmdp
 = 
	`cmdlookup
(
Çme
, 0)è=ğ
NULL
 || cmdp->
cmdty³
 !ğ
CMDFUNCTION
)

398 
	`”rÜ
("% nÙ defšed iÀ%s", 
Çme
, 
fuÎÇme
);

399 
	`¡uÇÎoc
(
fuÎÇme
);

400 
sucûss
;

402 #ifdeà
nÙdef


403 ià(
¡©b
.
¡_uid
 =ğ
	`g‘euid
()) {

404 ià((
¡©b
.
¡_mode
 & 0100) == 0)

405 
loİ
;

406 } ià(
¡©b
.
¡_gid
 =ğ
	`g‘egid
()) {

407 ià((
¡©b
.
¡_mode
 & 010) == 0)

408 
loİ
;

410 ià((
¡©b
.
¡_mode
 & 01) == 0)

411 
loİ
;

414 
	`TRACE
(("£¬chexeø\"%s\"„‘uº \"%s\"\n", 
Çme
, 
fuÎÇme
));

415 
INTOFF
;

416 
cmdp
 = 
	`cmdlookup
(
Çme
, 1);

417 
cmdp
->
cmdty³
 = 
CMDNORMAL
;

418 
cmdp
->
·¿m
.
šdex
 = 
idx
;

419 
INTON
;

420 
sucûss
;

424 ià(
cmdp
)

425 
	`d–‘e_cmd_’Œy
();

426 ià(
´š‹¼
) {

427 ià(
e
 =ğ
ENOENT
 ||ƒ =ğ
ENOTDIR
)

428 
	`outfmt
(
out2
, "%s:‚Ù found\n", 
Çme
);

430 
	`outfmt
(
out2
, "%s: %s\n", 
Çme
, 
	`¡»¼Ü
(
e
));

432 
’Œy
->
cmdty³
 = 
CMDUNKNOWN
;

435 
sucûss
:

436 
cmdp
->
»hash
 = 0;

437 
’Œy
->
cmdty³
 = 
cmdp
->cmdtype;

438 
’Œy
->
u
 = 
cmdp
->
·¿m
;

439 
’Œy
->
¥ecŸl
 = 
cmdp
->special;

440 
	}
}

449 
	$fšd_butš
(cÚ¡ *
Çme
, *
¥ecŸl
)

451 cÚ¡ 
butšcmd
 *
bp
;

453 
bp
 = 
butšcmd
 ; bp->
Çme
 ; bp++) {

454 ià(*
bp
->
Çme
 =ğ*Çm&& 
	`equ®
(bp->name,‚ame)) {

455 *
¥ecŸl
 = 
bp
->special;

456  
bp
->
code
;

460 
	}
}

470 
	$hashcd
()

472 
tbËÁry
 **
µ
;

473 
tbËÁry
 *
cmdp
;

475 
µ
 = 
cmdbË
 ;…°< &cmdbË[
CMDTABLESIZE
] ;…p++) {

476 
cmdp
 = *
µ
 ; cmd°; cmd°ğcmdp->
Ãxt
) {

477 ià(
cmdp
->
cmdty³
 =ğ
CMDNORMAL


478 || (
cmdp
->
cmdty³
 =ğ
CMDBUILTIN
 && 
butšloc
 >= 0))

479 
cmdp
->
»hash
 = 1;

482 
	}
}

493 
	$chªg•©h
(cÚ¡ *
Ãwv®
)

495 cÚ¡ *
Şd
, *
Ãw
;

496 
idx
;

497 
fœ¡chªge
;

498 
bÉš
;

500 
Şd
 = 
	`·thv®
();

501 
Ãw
 = 
Ãwv®
;

502 
fœ¡chªge
 = 9999;

503 
idx
 = 0;

504 
bÉš
 = -1;

506 ià(*
Şd
 !ğ*
Ãw
) {

507 
fœ¡chªge
 = 
idx
;

508 ià((*
Şd
 =ğ'\0' && *
Ãw
 == ':')

509 || (*
Şd
 =ğ':' && *
Ãw
 == '\0'))

510 
fœ¡chªge
++;

511 
Şd
 = 
Ãw
;

513 ià(*
Ãw
 == '\0')

515 ià(*
Ãw
 =ğ'%' && 
bÉš
 < 0 && 
	`´efix
("builtin",‚ew + 1))

516 
bÉš
 = 
idx
;

517 ià(*
Ãw
 == ':') {

518 
idx
++;

520 
Ãw
++, 
Şd
++;

522 ià(
butšloc
 < 0 && 
bÉš
 >= 0)

523 
butšloc
 = 
bÉš
;

524 ià(
butšloc
 >ğ0 && 
bÉš
 < 0)

525 
fœ¡chªge
 = 0;

526 
	`ş—rcmd’Œy
(
fœ¡chªge
);

527 
butšloc
 = 
bÉš
;

528 
	}
}

537 
	$ş—rcmd’Œy
(
fœ¡chªge
)

539 
tbËÁry
 **
tbÍ
;

540 
tbËÁry
 **
µ
;

541 
tbËÁry
 *
cmdp
;

543 
INTOFF
;

544 
tbÍ
 = 
cmdbË
 ;bÍ < &cmdbË[
CMDTABLESIZE
] ;blp++) {

545 
µ
 = 
tbÍ
;

546 (
cmdp
 = *
µ
è!ğ
NULL
) {

547 ià((
cmdp
->
cmdty³
 =ğ
CMDNORMAL
 &&

548 
cmdp
->
·¿m
.
šdex
 >ğ
fœ¡chªge
)

549 || (
cmdp
->
cmdty³
 =ğ
CMDBUILTIN
 &&

550 
butšloc
 >ğ
fœ¡chªge
)) {

551 *
µ
 = 
cmdp
->
Ãxt
;

552 
	`ckä“
(
cmdp
);

554 
µ
 = &
cmdp
->
Ãxt
;

558 
INTON
;

559 
	}
}

566 #ifdeà
mkš™


567 
MKINIT
 
d–‘efuncs
();

569 
	gSHELLPROC
 {

570 
d–‘efuncs
();

575 
	$d–‘efuncs
()

577 
tbËÁry
 **
tbÍ
;

578 
tbËÁry
 **
µ
;

579 
tbËÁry
 *
cmdp
;

581 
INTOFF
;

582 
tbÍ
 = 
cmdbË
 ;bÍ < &cmdbË[
CMDTABLESIZE
] ;blp++) {

583 
µ
 = 
tbÍ
;

584 (
cmdp
 = *
µ
è!ğ
NULL
) {

585 ià(
cmdp
->
cmdty³
 =ğ
CMDFUNCTION
) {

586 *
µ
 = 
cmdp
->
Ãxt
;

587 
	`uÄeffunc
(
cmdp
->
·¿m
.
func
);

588 
	`ckä“
(
cmdp
);

590 
µ
 = &
cmdp
->
Ãxt
;

594 
INTON
;

595 
	}
}

607 
tbËÁry
 **
	gÏ¡cmd’Œy
;

610 
tbËÁry
 *

611 
	$cmdlookup
(cÚ¡ *
Çme
, 
add
)

613 
hashv®
;

614 cÚ¡ *
p
;

615 
tbËÁry
 *
cmdp
;

616 
tbËÁry
 **
µ
;

618 
p
 = 
Çme
;

619 
hashv®
 = *
p
 << 4;

620 *
p
)

621 
hashv®
 +ğ*
p
++;

622 
hashv®
 &= 0x7FFF;

623 
µ
 = &
cmdbË
[
hashv®
 % 
CMDTABLESIZE
];

624 
cmdp
 = *
µ
 ; cmd°; cmd°ğcmdp->
Ãxt
) {

625 ià(
	`equ®
(
cmdp
->
cmdÇme
, 
Çme
))

627 
µ
 = &
cmdp
->
Ãxt
;

629 ià(
add
 && 
cmdp
 =ğ
NULL
) {

630 
INTOFF
;

631 
cmdp
 = *
µ
 = 
	`ckm®loc
( (
tbËÁry
è- 
ARB


632 + 
	`¡¾’
(
Çme
) + 1);

633 
cmdp
->
Ãxt
 = 
NULL
;

634 
cmdp
->
cmdty³
 = 
CMDUNKNOWN
;

635 
cmdp
->
»hash
 = 0;

636 
	`¡rıy
(
cmdp
->
cmdÇme
, 
Çme
);

637 
INTON
;

639 
Ï¡cmd’Œy
 = 
µ
;

640  
cmdp
;

641 
	}
}

648 
	$d–‘e_cmd_’Œy
()

650 
tbËÁry
 *
cmdp
;

652 
INTOFF
;

653 
cmdp
 = *
Ï¡cmd’Œy
;

654 *
Ï¡cmd’Œy
 = 
cmdp
->
Ãxt
;

655 
	`ckä“
(
cmdp
);

656 
INTON
;

657 
	}
}

667 
	$addcmd’Œy
(cÚ¡ *
Çme
, 
cmd’Œy
 *
’Œy
)

669 
tbËÁry
 *
cmdp
;

671 
INTOFF
;

672 
cmdp
 = 
	`cmdlookup
(
Çme
, 1);

673 ià(
cmdp
->
cmdty³
 =ğ
CMDFUNCTION
) {

674 
	`uÄeffunc
(
cmdp
->
·¿m
.
func
);

676 
cmdp
->
cmdty³
 = 
’Œy
->cmdtype;

677 
cmdp
->
·¿m
 = 
’Œy
->
u
;

678 
INTON
;

679 
	}
}

687 
	$defun
(cÚ¡ *
Çme
, 
node
 *
func
)

689 
cmd’Œy
 
’Œy
;

691 
INTOFF
;

692 
’Œy
.
cmdty³
 = 
CMDFUNCTION
;

693 
’Œy
.
u
.
func
 = 
	`cİyfunc
(func);

694 
	`addcmd’Œy
(
Çme
, &
’Œy
);

695 
INTON
;

696 
	}
}

704 
	$un£tfunc
(cÚ¡ *
Çme
)

706 
tbËÁry
 *
cmdp
;

708 ià((
cmdp
 = 
	`cmdlookup
(
Çme
, 0)è!ğ
NULL
 && cmdp->
cmdty³
 =ğ
CMDFUNCTION
) {

709 
	`uÄeffunc
(
cmdp
->
·¿m
.
func
);

710 
	`d–‘e_cmd_’Œy
();

714 
	}
}

722 
	$ty³cmd_im¶
(
¬gc
, **
¬gv
, 
cmd
)

724 
cmd’Œy
 
’Œy
;

725 
tbËÁry
 *
cmdp
;

726 cÚ¡ *cÚ¡ *
µ
;

727 
®Ÿs
 *
­
;

728 
i
;

729 
”rÜ1
 = 0;

731 
i
 = 1; i < 
¬gc
; i++) {

733 
µ
 = 
·r£kwd
; *pp;…p++)

734 ià(**
µ
 =ğ*
¬gv
[
i
] && 
	`equ®
(*pp,‡rgv[i]))

737 ià(*
µ
) {

738 ià(
cmd
 =ğ
TYPECMD_SMALLV
)

739 
	`out1fmt
("%s\n", 
¬gv
[
i
]);

741 
	`out1fmt
("% i ¨sh–ÈkeywÜd\n", 
¬gv
[
i
]);

746 ià((
­
 = 
	`looku·lŸs
(
¬gv
[
i
], 1)è!ğ
NULL
) {

747 ià(
cmd
 =ğ
TYPECMD_SMALLV
)

748 
	`out1fmt
("®Ÿ %s='%s'\n", 
¬gv
[
i
], 
­
->
v®
);

750 
	`out1fmt
("% i ª‡lŸ fÜ %s\n", 
¬gv
[
i
],

751 
­
->
v®
);

756 ià((
cmdp
 = 
	`cmdlookup
(
¬gv
[
i
], 0)è!ğ
NULL
) {

757 
’Œy
.
cmdty³
 = 
cmdp
->cmdtype;

758 
’Œy
.
u
 = 
cmdp
->
·¿m
;

759 
’Œy
.
¥ecŸl
 = 
cmdp
->special;

763 
	`fšd_commªd
(
¬gv
[
i
], &
’Œy
, 0, 
	`·thv®
());

766 
’Œy
.
cmdty³
) {

767 
CMDNORMAL
: {

768 ià(
	`¡rchr
(
¬gv
[
i
], '/'è=ğ
NULL
) {

769 cÚ¡ *
·th
 = 
	`·thv®
();

770 *
Çme
;

771 
j
 = 
’Œy
.
u
.
šdex
;

773 
Çme
 = 
	`·dvªû
(&
·th
, 
¬gv
[
i
]);

774 
	`¡uÇÎoc
(
Çme
);

775 } --
j
 >= 0);

776 ià(
cmd
 =ğ
TYPECMD_SMALLV
)

777 
	`out1fmt
("%s\n", 
Çme
);

779 
	`out1fmt
("% is% %s\n", 
¬gv
[
i
],

780 (
cmdp
 && 
cmd
 =ğ
TYPECMD_TYPE
) ?

782 
Çme
);

784 ià(
	`—cûss
(
¬gv
[
i
], 
X_OK
) == 0) {

785 ià(
cmd
 =ğ
TYPECMD_SMALLV
)

786 
	`out1fmt
("%s\n", 
¬gv
[
i
]);

788 
	`out1fmt
("% i %s\n", 
¬gv
[
i
],

789 
¬gv
[
i
]);

791 ià(
cmd
 !ğ
TYPECMD_SMALLV
)

792 
	`outfmt
(
out2
, "%s: %s\n",

793 
¬gv
[
i
], 
	`¡»¼Ü
(
”ºo
));

794 
”rÜ1
 |= 127;

799 
CMDFUNCTION
:

800 ià(
cmd
 =ğ
TYPECMD_SMALLV
)

801 
	`out1fmt
("%s\n", 
¬gv
[
i
]);

803 
	`out1fmt
("% i ¨sh–ÈfunùiÚ\n", 
¬gv
[
i
]);

806 
CMDBUILTIN
:

807 ià(
cmd
 =ğ
TYPECMD_SMALLV
)

808 
	`out1fmt
("%s\n", 
¬gv
[
i
]);

809 ià(
’Œy
.
¥ecŸl
)

810 
	`out1fmt
("%s is‡ special shell builtin\n",

811 
¬gv
[
i
]);

813 
	`out1fmt
("% i ¨sh–Èbutš\n", 
¬gv
[
i
]);

817 ià(
cmd
 !ğ
TYPECMD_SMALLV
)

818 
	`outfmt
(
out2
, "%s:‚Ù found\n", 
¬gv
[
i
]);

819 
”rÜ1
 |= 127;

823  
”rÜ1
;

824 
	}
}

831 
	$ty³cmd
(
¬gc
, **
¬gv
)

833  
	`ty³cmd_im¶
(
¬gc
, 
¬gv
, 
TYPECMD_TYPE
);

834 
	}
}

	@sh/exec.h

37 
	#CMDUNKNOWN
 -1

	)

38 
	#CMDNORMAL
 0

	)

39 
	#CMDBUILTIN
 1

	)

40 
	#CMDFUNCTION
 2

	)

44 
	mTYPECMD_SMALLV
,

45 
	mTYPECMD_BIGV
,

46 
	mTYPECMD_TYPE


49 
	gnode
;

50 
	scmd’Œy
 {

51 
	mcmdty³
;

52 
	u·¿m
 {

53 
	mšdex
;

54 
funcdef
 *
	mfunc
;

55 } 
	mu
;

56 
	m¥ecŸl
;

60 cÚ¡ *
·thİt
;

61 
ex”ºo
;

63 
	$sh–Ëxec
(**, **, cÚ¡ *, è
__d—d2
;

64 *
	`·dvªû
(const **, const *);

65 
	`hashcmd
(, **);

66 
	`fšd_commªd
(cÚ¡ *, 
cmd’Œy
 *, , const *);

67 
	`fšd_butš
(const *, *);

68 
	`hashcd
();

69 
	`chªg•©h
(const *);

70 
	`d–‘efuncs
();

71 
	`addcmd’Œy
(cÚ¡ *, 
cmd’Œy
 *);

72 
	`defun
(cÚ¡ *, 
node
 *);

73 
	`un£tfunc
(const *);

74 
	`ty³cmd_im¶
(, **, );

75 
	`ty³cmd
(, **);

76 
	`ş—rcmd’Œy
();

	@sh/expand.c

35 #iâdeà
lšt


37 
	gsccsid
[] = "@(#)expand.c 8.5 (Berkeley) 5/15/95";

40 
	~<sys/cdefs.h
>

41 
__FBSDID
("$FreeBSD: src/bin/sh/expand.c,v 1.55.2.12.2.1 2012/03/03 06:15:13 kensmith Exp $");

43 
	~<sys/ty³s.h
>

44 
	~<sys/time.h
>

45 
	~<sys/¡©.h
>

46 
	~<dœ’t.h
>

47 
	~<”ºo.h
>

48 
	~<š‰y³s.h
>

49 
	~<lim™s.h
>

50 
	~<pwd.h
>

51 
	~<¡dio.h
>

52 
	~<¡dlib.h
>

53 
	~<¡ršg.h
>

54 
	~<uni¡d.h
>

61 
	~"sh–l.h
"

62 
	~"maš.h
"

63 
	~"nodes.h
"

64 
	~"ev®.h
"

65 
	~"ex·nd.h
"

66 
	~"syÁax.h
"

67 
	~"·r£r.h
"

68 
	~"jobs.h
"

69 
	~"İtiÚs.h
"

70 
	~"v¬.h
"

71 
	~"šput.h
"

72 
	~"ouut.h
"

73 
	~"mem®loc.h
"

74 
	~"”rÜ.h
"

75 
	~"my¡ršg.h
"

76 
	~"¬™h.h
"

77 
	~"show.h
"

84 
	sif¤egiÚ
 {

85 
if¤egiÚ
 *
	mÃxt
;

86 
	mbegoff
;

87 
	m’doff
;

88 
	mšquÙes
;

92 *
	gexpde¡
;

93 
nod–i¡
 *
	g¬gbackq
;

94 
if¤egiÚ
 
	gifsfœ¡
;

95 
if¤egiÚ
 *
	gif¦a¡p
;

96 
¬gli¡
 
	gex·rg
;

98 
¬g¡r
(*, );

99 *
ex±de
(*, );

100 
expbackq
(
node
 *, , );

101 
subev®v¬
(*, *, , , , );

102 *
ev®v¬
(*, );

103 
v¬is£t
(*, );

104 
v¬v®ue
(*, , , );

105 
»cÜd»giÚ
(, , );

106 
»mov”ecÜd»giÚs
();

107 
ifsb»akup
(*, 
¬gli¡
 *);

108 
ex·ndm‘a
(
¡¾i¡
 *, );

109 
expm‘a
(*, *);

110 
addâame
(*);

111 
¡¾i¡
 *
expsÜt
(strlist *);

112 
¡¾i¡
 *
msÜt
(strlist *, );

113 
pm©ch
(const *, const *, );

114 *
cvŠum
(, *);

115 
cŞÏ‹_¿nge_cmp
(, );

118 
	$cŞÏ‹_¿nge_cmp
(
c1
, 
c2
)

120 
s1
[2], 
s2
[2];

122 
s1
[0] = 
c1
;

123 
s2
[0] = 
c2
;

124  (
	`¡rcŞl
(
s1
, 
s2
));

125 
	}
}

134 
	$ex·ndh”e
(
node
 *
¬g
, 
fd
)

136 
h”efd
 = 
fd
;

137 
	`ex·nd¬g
(
¬g
, (
¬gli¡
 *)
NULL
, 0);

138 
	`xwr™e
(
fd
, 
	`¡ackblock
(), 
expde¡
 - stackblock());

139 
	}
}

156 
	$ex·nd¬g
(
node
 *
¬g
, 
¬gli¡
 *¬gli¡, 
æag
)

158 
¡¾i¡
 *
¥
;

159 *
p
;

161 
¬gbackq
 = 
¬g
->
Çrg
.
backquÙe
;

162 
	`STARTSTACKSTR
(
expde¡
);

163 
ifsfœ¡
.
Ãxt
 = 
NULL
;

164 
if¦a¡p
 = 
NULL
;

165 
	`¬g¡r
(
¬g
->
Çrg
.
‹xt
, 
æag
);

166 ià(
¬gli¡
 =ğ
NULL
) {

169 
	`STPUTC
('\0', 
expde¡
);

170 
p
 = 
	`g¿b¡ack¡r
(
expde¡
);

171 
ex·rg
.
Ï¡p
 = &ex·rg.
li¡
;

175 ià(
æag
 & 
EXP_FULL
) {

176 
	`ifsb»akup
(
p
, &
ex·rg
);

177 *
ex·rg
.
Ï¡p
 = 
NULL
;

178 
ex·rg
.
Ï¡p
 = &ex·rg.
li¡
;

179 
	`ex·ndm‘a
(
ex·rg
.
li¡
, 
æag
);

181 ià(
æag
 & 
EXP_REDIR
)

182 
	`rmesÿ³s
(
p
);

183 
¥
 = (
¡¾i¡
 *)
	`¡®loc
( (strlist));

184 
¥
->
‹xt
 = 
p
;

185 *
ex·rg
.
Ï¡p
 = 
¥
;

186 
ex·rg
.
Ï¡p
 = &
¥
->
Ãxt
;

188 
ifsfœ¡
.
Ãxt
 !ğ
NULL
) {

189 
if¤egiÚ
 *
if¥
;

190 
INTOFF
;

191 
if¥
 = 
ifsfœ¡
.
Ãxt
->next;

192 
	`ckä“
(
ifsfœ¡
.
Ãxt
);

193 
ifsfœ¡
.
Ãxt
 = 
if¥
;

194 
INTON
;

196 *
ex·rg
.
Ï¡p
 = 
NULL
;

197 ià(
ex·rg
.
li¡
) {

198 *
¬gli¡
->
Ï¡p
 = 
ex·rg
.
li¡
;

199 
¬gli¡
->
Ï¡p
 = 
ex·rg
.lastp;

201 
	}
}

215 
	$¬g¡r
(*
p
, 
æag
)

217 
c
;

218 
quÙes
 = 
æag
 & (
EXP_FULL
 | 
EXP_CASE
 | 
EXP_REDIR
);

219 
fœ¡eq
 = 1;

221 ià(*
p
 =ğ'~' && (
æag
 & (
EXP_TILDE
 | 
EXP_VARTILDE
)))

222 
p
 = 
	`ex±de
Õ, 
æag
);

224 
c
 = *
p
++) {

226 
CTLENDVAR
:

227 
b»akloİ
;

228 
CTLQUOTEMARK
:

230 ià(
p
[0] =ğ
CTLVAR
 &&…[2] == '@' &&…[3] == '=')

232 ià((
æag
 & 
EXP_FULL
) != 0)

233 
	`STPUTC
(
c
, 
expde¡
);

235 
CTLESC
:

236 ià(
quÙes
)

237 
	`STPUTC
(
c
, 
expde¡
);

238 
c
 = *
p
++;

239 
	`STPUTC
(
c
, 
expde¡
);

241 
CTLVAR
:

242 
p
 = 
	`ev®v¬
Õ, 
æag
);

244 
CTLBACKQ
:

245 
CTLBACKQ
|
CTLQUOTE
:

246 
	`expbackq
(
¬gbackq
->
n
, 
c
 & 
CTLQUOTE
, 
æag
);

247 
¬gbackq
 =‡rgbackq->
Ãxt
;

249 
CTLENDARI
:

250 
	`ex·ri
(
æag
);

258 
	`STPUTC
(
c
, 
expde¡
);

259 ià(
æag
 & 
EXP_VARTILDE
 && *
p
 == '~') {

260 ià(
c
 == '=') {

261 ià(
fœ¡eq
)

262 
fœ¡eq
 = 0;

266 
p
 = 
	`ex±de
Õ, 
æag
);

270 
	`STPUTC
(
c
, 
expde¡
);

273 
b»akloİ
:;

274 
	}
}

281 
	$ex±de
(*
p
, 
æag
)

283 
c
, *
¡¬
 = 
p
;

284 
·sswd
 *
pw
;

285 *
home
;

286 
quÙes
 = 
æag
 & (
EXP_FULL
 | 
EXP_CASE
 | 
EXP_REDIR
);

288 (
c
 = *
p
) != '\0') {

289 
c
) {

290 
CTLESC
:

291  (
¡¬
);

292 
CTLQUOTEMARK
:

293  (
¡¬
);

295 ià(
æag
 & 
EXP_VARTILDE
)

296 
dÚe
;

299 
dÚe
;

301 
p
++;

303 
dÚe
:

304 *
p
 = '\0';

305 ià(*(
¡¬
+1) == '\0') {

306 ià((
home
 = 
	`lookupv¬
("HOME")è=ğ
NULL
)

307 
lo£
;

309 ià((
pw
 = 
	`g‘pwÇm
(
¡¬
+1)è=ğ
NULL
)

310 
lo£
;

311 
home
 = 
pw
->
pw_dœ
;

313 ià(*
home
 == '\0')

314 
lo£
;

315 *
p
 = 
c
;

316 (
c
 = *
home
++) != '\0') {

317 ià(
quÙes
 && 
SQSYNTAX
[()
c
] =ğ
CCTL
)

318 
	`STPUTC
(
CTLESC
, 
expde¡
);

319 
	`STPUTC
(
c
, 
expde¡
);

321  (
p
);

322 
lo£
:

323 *
p
 = 
c
;

324  (
¡¬
);

325 
	}
}

329 
	$»mov”ecÜd»giÚs
(
’doff
)

331 ià(
if¦a¡p
 =ğ
NULL
)

334 ià(
ifsfœ¡
.
’doff
 >ƒndoff) {

335 
ifsfœ¡
.
Ãxt
 !ğ
NULL
) {

336 
if¤egiÚ
 *
if¥
;

337 
INTOFF
;

338 
if¥
 = 
ifsfœ¡
.
Ãxt
->next;

339 
	`ckä“
(
ifsfœ¡
.
Ãxt
);

340 
ifsfœ¡
.
Ãxt
 = 
if¥
;

341 
INTON
;

343 ià(
ifsfœ¡
.
begoff
 > 
’doff
)

344 
if¦a¡p
 = 
NULL
;

346 
if¦a¡p
 = &
ifsfœ¡
;

347 
ifsfœ¡
.
’doff
 =ƒndoff;

352 
if¦a¡p
 = &
ifsfœ¡
;

353 
if¦a¡p
->
Ãxt
 && if¦a¡p->Ãxt->
begoff
 < 
’doff
)

354 
if¦a¡p
=if¦a¡p->
Ãxt
;

355 
if¦a¡p
->
Ãxt
 !ğ
NULL
) {

356 
if¤egiÚ
 *
if¥
;

357 
INTOFF
;

358 
if¥
 = 
if¦a¡p
->
Ãxt
->next;

359 
	`ckä“
(
if¦a¡p
->
Ãxt
);

360 
if¦a¡p
->
Ãxt
 = 
if¥
;

361 
INTON
;

363 ià(
if¦a¡p
->
’doff
 >ƒndoff)

364 
if¦a¡p
->
’doff
 =ƒndoff;

365 
	}
}

372 
	$ex·ri
(
æag
)

374 *
p
, *
¡¬t
;

375 
¬™h_t
 
»suÉ
;

376 
begoff
;

377 
quÙes
 = 
æag
 & (
EXP_FULL
 | 
EXP_CASE
 | 
EXP_REDIR
);

378 
quÙed
;

390 
	`CHECKSTRSPACE
(
	`DIGITS
(
»suÉ
è- 2, 
expde¡
);

391 
	`USTPUTC
('\0', 
expde¡
);

392 
¡¬t
 = 
	`¡ackblock
();

393 
p
 = 
expde¡
 - 2;

394 
p
 >ğ
¡¬t
 && *°!ğ
CTLARI
)

395 --
p
;

396 ià(
p
 < 
¡¬t
 || *°!ğ
CTLARI
)

397 
	`”rÜ
("missing CTLARI (shouldn't happen)");

398 ià(
p
 > 
¡¬t
 && *Õ - 1è=ğ
CTLESC
)

399 
p
 = 
¡¬t
; *°!ğ
CTLARI
;…++)

400 ià(*
p
 =ğ
CTLESC
)

401 
p
++;

403 ià(
p
[1] == '"')

404 
quÙed
=1;

406 
quÙed
=0;

407 
begoff
 = 
p
 - 
¡¬t
;

408 
	`»mov”ecÜd»giÚs
(
begoff
);

409 ià(
quÙes
)

410 
	`rmesÿ³s
(
p
+2);

411 
»suÉ
 = 
	`¬™h
(
p
+2);

412 
	`fmt¡r
(
p
, 
	`DIGITS
(
»suÉ
), 
ARITH_FORMAT_STR
,„esult);

413 *
p
++)

415 ià(
quÙed
 == 0)

416 
	`»cÜd»giÚ
(
begoff
, 
p
 - 1 - 
¡¬t
, 0);

417 
»suÉ
 = 
expde¡
 - 
p
 + 1;

418 
	`STADJUST
(-
»suÉ
, 
expde¡
);

419 
	}
}

426 
	$expbackq
(
node
 *
cmd
, 
quÙed
, 
æag
)

428 
backcmd
 
š
;

429 
i
;

430 
buf
[128];

431 *
p
;

432 *
de¡
 = 
expde¡
;

433 
if¤egiÚ
 
§veifs
, *
§v–a¡p
;

434 
nod–i¡
 *
§v—rgbackq
;

435 
Ï¡c
;

436 
¡¬oc
 = 
de¡
 - 
	`¡ackblock
();

437 cÚ¡ *
syÁax
 = 
quÙed
? 
DQSYNTAX
 : 
BASESYNTAX
;

438 
§veh”efd
;

439 
quÙes
 = 
æag
 & (
EXP_FULL
 | 
EXP_CASE
 | 
EXP_REDIR
);

440 
Âl
;

442 
INTOFF
;

443 
§veifs
 = 
ifsfœ¡
;

444 
§v–a¡p
 = 
if¦a¡p
;

445 
§v—rgbackq
 = 
¬gbackq
;

446 
§veh”efd
 = 
h”efd
;

447 
h”efd
 = -1;

448 
p
 = 
	`g¿b¡ack¡r
(
de¡
);

449 
	`ev®backcmd
(
cmd
, &
š
);

450 
	`ung¿b¡ack¡r
(
p
, 
de¡
);

451 
ifsfœ¡
 = 
§veifs
;

452 
if¦a¡p
 = 
§v–a¡p
;

453 
¬gbackq
 = 
§v—rgbackq
;

454 
h”efd
 = 
§veh”efd
;

456 
p
 = 
š
.
buf
;

457 
Ï¡c
 = '\0';

458 
Âl
 = 0;

461 ià(--
š
.
Æeá
 < 0) {

462 ià(
š
.
fd
 < 0)

464 (
i
 = 
	`»ad
(
š
.
fd
, 
buf
,  buf)è< 0 && 
”ºo
 =ğ
EINTR
);

465 
	`TRACE
(("expbackq:„—d„‘uº %d\n", 
i
));

466 ià(
i
 <= 0)

468 
p
 = 
buf
;

469 
š
.
Æeá
 = 
i
 - 1;

471 
Ï¡c
 = *
p
++;

472 ià(
Ï¡c
 != '\0') {

473 ià(
Ï¡c
 == '\n') {

474 
Âl
++;

476 
Âl
 > 0) {

477 
Âl
--;

478 
	`STPUTC
('\n', 
de¡
);

480 ià(
quÙes
 && 
syÁax
[()
Ï¡c
] =ğ
CCTL
)

481 
	`STPUTC
(
CTLESC
, 
de¡
);

482 
	`STPUTC
(
Ï¡c
, 
de¡
);

487 ià(
š
.
fd
 >= 0)

488 
	`şo£
(
š
.
fd
);

489 ià(
š
.
buf
)

490 
	`ckä“
(
š
.
buf
);

491 ià(
š
.
jp
)

492 
ex™¡©us
 = 
	`wa™fÜjob
(
š
.
jp
, (*)
NULL
);

493 ià(
quÙed
 == 0)

494 
	`»cÜd»giÚ
(
¡¬oc
, 
de¡
 - 
	`¡ackblock
(), 0);

495 
	`TRACE
(("expbackq: size=%td: \"%.*s\"\n",

496 ((
de¡
 - 
	`¡ackblock
()è- 
¡¬oc
),

497 ()((
de¡
 - 
	`¡ackblock
()è- 
¡¬oc
),

498 
	`¡ackblock
(è+ 
¡¬oc
));

499 
expde¡
 = 
de¡
;

500 
INTON
;

501 
	}
}

506 
	$subev®v¬
(*
p
, *
¡r
, 
¡¾oc
, 
subty³
, 
¡¬oc
,

507 
v¬æags
)

509 *
¡¬
;

510 *
loc
 = 
NULL
;

511 *
q
;

512 
c
 = 0;

513 
§veh”efd
 = 
h”efd
;

514 
nod–i¡
 *
§v—rgbackq
 = 
¬gbackq
;

515 
amouÁ
;

517 
h”efd
 = -1;

518 
	`¬g¡r
(
p
, 0);

519 
	`STACKSTRNUL
(
expde¡
);

520 
h”efd
 = 
§veh”efd
;

521 
¬gbackq
 = 
§v—rgbackq
;

522 
¡¬
 = 
	`¡ackblock
(è+ 
¡¬oc
;

523 ià(
¡r
 =ğ
NULL
)

524 
¡r
 = 
	`¡ackblock
(è+ 
¡¾oc
;

526 
subty³
) {

527 
VSASSIGN
:

528 
	`£tv¬
(
¡r
, 
¡¬
, 0);

529 
amouÁ
 = 
¡¬
 - 
expde¡
;

530 
	`STADJUST
(
amouÁ
, 
expde¡
);

531 
v¬æags
 &ğ~
VSNUL
;

532 ià(
c
 != 0)

533 *
loc
 = 
c
;

536 
VSQUESTION
:

537 ià(*
p
 !ğ
CTLENDVAR
) {

538 
	`outfmt
(&
”rout
, "%s\n", 
¡¬
);

539 
	`”rÜ
((*)
NULL
);

541 
	`”rÜ
("%.*s:…¬am‘” %¢Ù s‘", ()(
p
 - 
¡r
 - 1),

542 
¡r
, (
v¬æags
 & 
VSNUL
) ? "null or "

543 : 
nuÎ¡r
);

546 
VSTRIMLEFT
:

547 
loc
 = 
¡¬
;†oø< 
¡r
;†oc++) {

548 
c
 = *
loc
;

549 *
loc
 = '\0';

550 ià(
	`·tm©ch
(
¡r
, 
¡¬
, 
v¬æags
 & 
VSQUOTE
)) {

551 *
loc
 = 
c
;

552 
»cÜdËá
;

554 *
loc
 = 
c
;

555 ià((
v¬æags
 & 
VSQUOTE
è&& *
loc
 =ğ
CTLESC
)

556 
loc
++;

560 
VSTRIMLEFTMAX
:

561 
loc
 = 
¡r
 - 1;†oø>ğ
¡¬
;) {

562 
c
 = *
loc
;

563 *
loc
 = '\0';

564 ià(
	`·tm©ch
(
¡r
, 
¡¬
, 
v¬æags
 & 
VSQUOTE
)) {

565 *
loc
 = 
c
;

566 
»cÜdËá
;

568 *
loc
 = 
c
;

569 
loc
--;

570 ià((
v¬æags
 & 
VSQUOTE
è&& 
loc
 > 
¡¬
 &&

571 *(
loc
 - 1è=ğ
CTLESC
) {

572 
q
 = 
¡¬
; q < 
loc
; q++)

573 ià(*
q
 =ğ
CTLESC
)

574 
q
++;

575 ià(
q
 > 
loc
)

576 
loc
--;

581 
VSTRIMRIGHT
:

582 
loc
 = 
¡r
 - 1;†oø>ğ
¡¬
;) {

583 ià(
	`·tm©ch
(
¡r
, 
loc
, 
v¬æags
 & 
VSQUOTE
)) {

584 
amouÁ
 = 
loc
 - 
expde¡
;

585 
	`STADJUST
(
amouÁ
, 
expde¡
);

588 
loc
--;

589 ià((
v¬æags
 & 
VSQUOTE
è&& 
loc
 > 
¡¬
 &&

590 *(
loc
 - 1è=ğ
CTLESC
) {

591 
q
 = 
¡¬
; q < 
loc
; q++)

592 ià(*
q
 =ğ
CTLESC
)

593 
q
++;

594 ià(
q
 > 
loc
)

595 
loc
--;

600 
VSTRIMRIGHTMAX
:

601 
loc
 = 
¡¬
;†oø< 
¡r
 - 1;†oc++) {

602 ià(
	`·tm©ch
(
¡r
, 
loc
, 
v¬æags
 & 
VSQUOTE
)) {

603 
amouÁ
 = 
loc
 - 
expde¡
;

604 
	`STADJUST
(
amouÁ
, 
expde¡
);

607 ià((
v¬æags
 & 
VSQUOTE
è&& *
loc
 =ğ
CTLESC
)

608 
loc
++;

614 
	`abÜt
();

617 
»cÜdËá
:

618 
amouÁ
 = ((
¡r
 - 1è- (
loc
 - 
¡¬
)è- 
expde¡
;

619 
	`STADJUST
(
amouÁ
, 
expde¡
);

620 
loc
 !ğ
¡r
 - 1)

621 *
¡¬
++ = *
loc
++;

623 
	}
}

632 
	$ev®v¬
(*
p
, 
æag
)

634 
subty³
;

635 
v¬æags
;

636 *
v¬
;

637 *
v®
;

638 
·oc
;

639 
c
;

640 
£t
;

641 
¥ecŸl
;

642 
¡¬oc
;

643 
v¬Ën
;

644 
—sy
;

645 
quÙes
 = 
æag
 & (
EXP_FULL
 | 
EXP_CASE
 | 
EXP_REDIR
);

647 
v¬æags
 = ()*
p
++;

648 
subty³
 = 
v¬æags
 & 
VSTYPE
;

649 
v¬
 = 
p
;

650 
¥ecŸl
 = 0;

651 ià(! 
	`is_Çme
(*
p
))

652 
¥ecŸl
 = 1;

653 
p
 = 
	`¡rchr
(p, '=') + 1;

654 
agaš
:

655 ià(
v¬æags
 & 
VSLINENO
) {

656 
£t
 = 1;

657 
¥ecŸl
 = 0;

658 
v®
 = 
v¬
;

659 
p
[-1] = '\0';

661 } ià(
¥ecŸl
) {

662 
£t
 = 
	`v¬is£t
(
v¬
, 
v¬æags
 & 
VSNUL
);

663 
v®
 = 
NULL
;

665 
v®
 = 
	`bÉšlookup
(
v¬
, 1);

666 ià(
v®
 =ğ
NULL
 || ((
v¬æags
 & 
VSNUL
) && val[0] == '\0')) {

667 
v®
 = 
NULL
;

668 
£t
 = 0;

670 
£t
 = 1;

672 
v¬Ën
 = 0;

673 
¡¬oc
 = 
expde¡
 - 
	`¡ackblock
();

674 ià(!
£t
 && 
uæag
 && *
v¬
 != '@' && *var != '*') {

675 
subty³
) {

676 
VSNORMAL
:

677 
VSTRIMLEFT
:

678 
VSTRIMLEFTMAX
:

679 
VSTRIMRIGHT
:

680 
VSTRIMRIGHTMAX
:

681 
VSLENGTH
:

682 
	`”rÜ
("%.*s:…¬am‘”‚Ù s‘", ()(
p
 - 
v¬
 - 1),

683 
v¬
);

686 ià(
£t
 && 
subty³
 !ğ
VSPLUS
) {

688 ià(
¥ecŸl
) {

689 
	`v¬v®ue
(
v¬
, 
v¬æags
 & 
VSQUOTE
, 
subty³
, 
æag
);

690 ià(
subty³
 =ğ
VSLENGTH
) {

691 
v¬Ën
 = 
expde¡
 - 
	`¡ackblock
(è- 
¡¬oc
;

692 
	`STADJUST
(-
v¬Ën
, 
expde¡
);

695 cÚ¡ *
syÁax
 = (
v¬æags
 & 
VSQUOTE
è? 
DQSYNTAX


696 : 
BASESYNTAX
;

698 ià(
subty³
 =ğ
VSLENGTH
) {

699 ;*
v®
; val++)

700 
v¬Ën
++;

703 *
v®
) {

704 ià(
quÙes
 &&

705 
syÁax
[()*
v®
] =ğ
CCTL
)

706 
	`STPUTC
(
CTLESC
, 
expde¡
);

707 
	`STPUTC
(*
v®
++, 
expde¡
);

714 ià(
subty³
 =ğ
VSPLUS
)

715 
£t
 = ! set;

717 
—sy
 = ((
v¬æags
 & 
VSQUOTE
) == 0 ||

718 (*
v¬
 =ğ'@' && 
sh–Í¬am
.
Å¬am
 != 1));

721 
subty³
) {

722 
VSLENGTH
:

723 
expde¡
 = 
	`cvŠum
(
v¬Ën
,ƒxpdest);

724 
»cÜd
;

726 
VSNORMAL
:

727 ià(!
—sy
)

729 
»cÜd
:

730 
	`»cÜd»giÚ
(
¡¬oc
, 
expde¡
 - 
	`¡ackblock
(),

731 
v¬æags
 & 
VSQUOTE
);

734 
VSPLUS
:

735 
VSMINUS
:

736 ià(!
£t
) {

737 
	`¬g¡r
(
p
, 
æag
);

740 ià(
—sy
)

741 
»cÜd
;

744 
VSTRIMLEFT
:

745 
VSTRIMLEFTMAX
:

746 
VSTRIMRIGHT
:

747 
VSTRIMRIGHTMAX
:

748 ià(!
£t
)

754 
	`STPUTC
('\0', 
expde¡
);

755 
·oc
 = 
expde¡
 - 
	`¡ackblock
();

756 ià(
	`subev®v¬
(
p
, 
NULL
, 
·oc
, 
subty³
,

757 
¡¬oc
, 
v¬æags
) == 0) {

758 
amouÁ
 = (
expde¡
 - 
	`¡ackblock
(è- 
·oc
) + 1;

759 
	`STADJUST
(-
amouÁ
, 
expde¡
);

762 
	`»mov”ecÜd»giÚs
(
¡¬oc
);

763 
»cÜd
;

765 
VSASSIGN
:

766 
VSQUESTION
:

767 ià(!
£t
) {

768 ià(
	`subev®v¬
(
p
, 
v¬
, 0, 
subty³
, 
¡¬oc
, 
v¬æags
)) {

769 
v¬æags
 &ğ~
VSNUL
;

774 
	`»mov”ecÜd»giÚs
(
¡¬oc
);

775 
agaš
;

779 ià(
—sy
)

780 
»cÜd
;

783 
VSERROR
:

784 
c
 = 
p
 - 
v¬
 - 1;

785 
	`”rÜ
("${%.*s%s}: Bad sub¡™utiÚ", 
c
, 
v¬
,

786 (
c
 > 0 && *
p
 !ğ
CTLENDVAR
) ? "..." : "");

789 
	`abÜt
();

791 
p
[-1] = '=';

793 ià(
subty³
 !ğ
VSNORMAL
) {

794 
Ã¡šg
 = 1;

796 ià((
c
 = *
p
++è=ğ
CTLESC
)

797 
p
++;

798 ià(
c
 =ğ
CTLBACKQ
 || c =ğ(CTLBACKQ|
CTLQUOTE
)) {

799 ià(
£t
)

800 
¬gbackq
 =‡rgbackq->
Ãxt
;

801 } ià(
c
 =ğ
CTLVAR
) {

802 ià((*
p
++ & 
VSTYPE
è!ğ
VSNORMAL
)

803 
Ã¡šg
++;

804 } ià(
c
 =ğ
CTLENDVAR
) {

805 ià(--
Ã¡šg
 == 0)

810  
p
;

811 
	}
}

820 
	$v¬is£t
(*
Çme
, 
nulok
)

823 ià(*
Çme
 == '!')

824  
backgndpid
 != -1;

825 ià(*
Çme
 == '@' || *name == '*') {

826 ià(*
sh–Í¬am
.
p
 =ğ
NULL
)

829 ià(
nulok
) {

830 **
av
;

832 
av
 = 
sh–Í¬am
.
p
; *av;‡v++)

833 ià(**
av
 != '\0')

837 } ià(
	`is_dig™
(*
Çme
)) {

838 *
­
;

839 
num
 = 
	`©oi
(
Çme
);

841 ià(
num
 > 
sh–Í¬am
.
Å¬am
)

844 ià(
num
 == 0)

845 
­
 = 
¬g0
;

847 
­
 = 
sh–Í¬am
.
p
[
num
 - 1];

849 ià(
nulok
 && (
­
 =ğ
NULL
 || *ap == '\0'))

853 
	}
}

862 
	$v¬v®ue
(*
Çme
, 
quÙed
, 
subty³
, 
æag
)

864 
num
;

865 *
p
;

866 
i
;

867 
£p
;

868 **
­
;

869 cÚ¡ *
syÁax
;

871 
	#STRTODEST
(
p
) \

873 ià(
æag
 & (
EXP_FULL
 | 
EXP_CASE
è&& 
subty³
 !ğ
VSLENGTH
) { \

874 
syÁax
 = 
quÙed
? 
DQSYNTAX
 : 
BASESYNTAX
; \

875 *
p
) { \

876 ià(
syÁax
[()*
p
] =ğ
CCTL
) \

877 
	`STPUTC
(
CTLESC
, 
expde¡
); \

878 
	`STPUTC
(*
p
++, 
expde¡
); \

881 *
p
) \

882 
	`STPUTC
(*
p
++, 
expde¡
); \

883 } 0)

	)

886 *
Çme
) {

888 
num
 = 
roÙpid
;

889 
numv¬
;

891 
num
 = 
Ûx™¡©us
;

892 
numv¬
;

894 
num
 = 
sh–Í¬am
.
Å¬am
;

895 
numv¬
;

897 
num
 = 
backgndpid
;

898 
numv¬
:

899 
expde¡
 = 
	`cvŠum
(
num
,ƒxpdest);

902 
i
 = 0 ; i < 
NOPTS
 ; i++) {

903 ià(
İi¡
[
i
].
v®
)

904 
	`STPUTC
(
İi¡
[
i
].
Ë‰”
, 
expde¡
);

908 ià(
æag
 & 
EXP_FULL
 && 
quÙed
) {

909 
­
 = 
sh–Í¬am
.
p
 ; (°ğ*­++è!ğ
NULL
 ; ) {

910 
	`STRTODEST
(
p
);

911 ià(*
­
)

912 
	`STPUTC
('\0', 
expde¡
);

918 ià(
	`ifs£t
())

919 
£p
 = 
	`ifsv®
()[0];

921 
£p
 = ' ';

922 
­
 = 
sh–Í¬am
.
p
 ; (°ğ*­++è!ğ
NULL
 ; ) {

923 
	`STRTODEST
(
p
);

924 ià(*
­
 && 
£p
)

925 
	`STPUTC
(
£p
, 
expde¡
);

929 
p
 = 
¬g0
;

930 
	`STRTODEST
(
p
);

933 ià(
	`is_dig™
(*
Çme
)) {

934 
num
 = 
	`©oi
(
Çme
);

935 ià(
num
 > 0 &&‚um <ğ
sh–Í¬am
.
Å¬am
) {

936 
p
 = 
sh–Í¬am
.p[
num
 - 1];

937 
	`STRTODEST
(
p
);

942 
	}
}

952 
	$»cÜd»giÚ
(
¡¬t
, 
’d
, 
šquÙes
)

954 
if¤egiÚ
 *
if¥
;

956 ià(
if¦a¡p
 =ğ
NULL
) {

957 
if¥
 = &
ifsfœ¡
;

959 ià(
if¦a¡p
->
’doff
 =ğ
¡¬t


960 && 
if¦a¡p
->
šquÙes
 == inquotes) {

962 
if¦a¡p
->
’doff
 = 
’d
;

965 
if¥
 = (
if¤egiÚ
 *)
	`ckm®loc
( (ifsregion));

966 
if¦a¡p
->
Ãxt
 = 
if¥
;

968 
if¦a¡p
 = 
if¥
;

969 
if¦a¡p
->
Ãxt
 = 
NULL
;

970 
if¦a¡p
->
begoff
 = 
¡¬t
;

971 
if¦a¡p
->
’doff
 = 
’d
;

972 
if¦a¡p
->
šquÙes
 = inquotes;

973 
	}
}

989 
	$ifsb»akup
(*
¡ršg
, 
¬gli¡
 *arglist)

991 
if¤egiÚ
 *
if¥
;

992 
¡¾i¡
 *
¥
;

993 *
¡¬t
;

994 *
p
;

995 *
q
;

996 cÚ¡ *
ifs
;

997 cÚ¡ *
ifs¥c
;

998 
had_·¿m_ch
 = 0;

1000 
¡¬t
 = 
¡ršg
;

1002 ià(
if¦a¡p
 =ğ
NULL
) {

1004 
¥
 = (
¡¾i¡
 *)
	`¡®loc
( *sp);

1005 
¥
->
‹xt
 = 
¡¬t
;

1006 *
¬gli¡
->
Ï¡p
 = 
¥
;

1007 
¬gli¡
->
Ï¡p
 = &
¥
->
Ãxt
;

1011 
ifs
 = 
	`ifs£t
(è? 
	`ifsv®
() : " \t\n";

1013 
if¥
 = &
ifsfœ¡
; if¥ !ğ
NULL
; if¥ = if¥->
Ãxt
) {

1014 
p
 = 
¡ršg
 + 
if¥
->
begoff
;

1015 
p
 < 
¡ršg
 + 
if¥
->
’doff
) {

1016 
q
 = 
p
;

1017 ià(*
p
 =ğ
CTLESC
)

1018 
p
++;

1019 ià(
if¥
->
šquÙes
) {

1021 
had_·¿m_ch
 = 1;

1022 ià(*
p
 != 0) {

1023 
p
++;

1026 
ifs¥c
 = 
NULL
;

1028 ià(!
	`¡rchr
(
ifs
, *
p
)) {

1029 
had_·¿m_ch
 = 1;

1030 
p
++;

1033 
ifs¥c
 = 
	`¡rchr
(" \t\n", *
p
);

1036 ià(
q
 =ğ
¡¬t
 && 
ifs¥c
 !ğ
NULL
) {

1037 
p
++;

1038 
¡¬t
 = 
p
;

1041 
had_·¿m_ch
 = 0;

1045 *
q
 = '\0';

1046 
¥
 = (
¡¾i¡
 *)
	`¡®loc
( *sp);

1047 
¥
->
‹xt
 = 
¡¬t
;

1048 *
¬gli¡
->
Ï¡p
 = 
¥
;

1049 
¬gli¡
->
Ï¡p
 = &
¥
->
Ãxt
;

1050 
p
++;

1052 ià(
ifs¥c
 !ğ
NULL
) {

1054 ; 
p
 < 
¡ršg
 + 
if¥
->
’doff
;…++) {

1055 
q
 = 
p
;

1056 ià(*
p
 =ğ
CTLESC
)

1057 
p
++;

1058 ià(
	`¡rchr
(
ifs
, *
p
è=ğ
NULL
) {

1059 
p
 = 
q
;

1062 ià(
	`¡rchr
(" \t\n", *
p
è=ğ
NULL
) {

1063 
p
++;

1068 
¡¬t
 = 
p
;

1079 ià(
had_·¿m_ch
 || *
¡¬t
 != 0) {

1080 
¥
 = (
¡¾i¡
 *)
	`¡®loc
( *sp);

1081 
¥
->
‹xt
 = 
¡¬t
;

1082 *
¬gli¡
->
Ï¡p
 = 
¥
;

1083 
¬gli¡
->
Ï¡p
 = &
¥
->
Ãxt
;

1085 
	}
}

1088 
	gexpdœ
[
PATH_MAX
];

1089 
	#expdœ_’d
 (
expdœ
 + Óxpdœ))

	)

1097 
	$ex·ndm‘a
(
¡¾i¡
 *
¡r
, 
æag
 
__unu£d
)

1099 *
p
;

1100 
¡¾i¡
 **
§v–a¡p
;

1101 
¡¾i¡
 *
¥
;

1102 
c
;

1105 
¡r
) {

1106 ià(
fæag
)

1107 
nom‘a
;

1108 
p
 = 
¡r
->
‹xt
;

1110 ià((
c
 = *
p
++) == '\0')

1111 
nom‘a
;

1112 ià(
c
 == '*' || c == '?' || c == '[' || c == '!')

1115 
§v–a¡p
 = 
ex·rg
.
Ï¡p
;

1116 
INTOFF
;

1117 
	`expm‘a
(
expdœ
, 
¡r
->
‹xt
);

1118 
INTON
;

1119 ià(
ex·rg
.
Ï¡p
 =ğ
§v–a¡p
) {

1123 
nom‘a
:

1124 *
ex·rg
.
Ï¡p
 = 
¡r
;

1125 
	`rmesÿ³s
(
¡r
->
‹xt
);

1126 
ex·rg
.
Ï¡p
 = &
¡r
->
Ãxt
;

1128 *
ex·rg
.
Ï¡p
 = 
NULL
;

1129 *
§v–a¡p
 = 
¥
 = 
	`expsÜt
(*savelastp);

1130 
¥
->
Ãxt
 !ğ
NULL
)

1131 
¥
 = sp->
Ãxt
;

1132 
ex·rg
.
Ï¡p
 = &
¥
->
Ãxt
;

1134 
¡r
 = sŒ->
Ãxt
;

1136 
	}
}

1144 
	$expm‘a
(*
’ddœ
, *
Çme
)

1146 *
p
;

1147 *
q
;

1148 *
¡¬t
;

1149 *
’dÇme
;

1150 
m‘aæag
;

1151 
¡©
 
¡©b
;

1152 
DIR
 *
dœp
;

1153 
dœ’t
 *
dp
;

1154 
©’d
;

1155 
m©chdÙ
;

1156 
esc
;

1158 
m‘aæag
 = 0;

1159 
¡¬t
 = 
Çme
;

1160 
p
 = 
Çme
; 
esc
 = 0, *p;… +=ƒsc + 1) {

1161 ià(*
p
 == '*' || *p == '?')

1162 
m‘aæag
 = 1;

1163 ià(*
p
 == '[') {

1164 
q
 = 
p
 + 1;

1165 ià(*
q
 == '!' || *q == '^')

1166 
q
++;

1168 *
q
 =ğ
CTLQUOTEMARK
)

1169 
q
++;

1170 ià(*
q
 =ğ
CTLESC
)

1171 
q
++;

1172 ià(*
q
 == '/' || *q == '\0')

1174 ià(*++
q
 == ']') {

1175 
m‘aæag
 = 1;

1179 } ià(*
p
 =ğ'!' &&…[1] =ğ'!' && (°=ğ
Çme
 ||…[-1] == '/')) {

1180 
m‘aæag
 = 1;

1181 } ià(*
p
 == '\0')

1183 ià(*
p
 =ğ
CTLQUOTEMARK
)

1186 ià(*
p
 =ğ
CTLESC
)

1187 
esc
++;

1188 ià(
p
[
esc
] == '/') {

1189 ià(
m‘aæag
)

1191 
¡¬t
 = 
p
 + 
esc
 + 1;

1195 ià(
m‘aæag
 == 0) {

1196 ià(
’ddœ
 !ğ
expdœ
)

1197 
m‘aæag
++;

1198 
p
 = 
Çme
 ; ;…++) {

1199 ià(*
p
 =ğ
CTLQUOTEMARK
)

1201 ià(*
p
 =ğ
CTLESC
)

1202 
p
++;

1203 *
’ddœ
++ = *
p
;

1204 ià(*
p
 == '\0')

1206 ià(
’ddœ
 =ğ
expdœ_’d
)

1209 ià(
m‘aæag
 =ğ0 || 
	`l¡©
(
expdœ
, &
¡©b
) >= 0)

1210 
	`addâame
(
expdœ
);

1213 
’dÇme
 = 
p
;

1214 ià(
¡¬t
 !ğ
Çme
) {

1215 
p
 = 
Çme
;

1216 
p
 < 
¡¬t
) {

1217 *
p
 =ğ
CTLQUOTEMARK
)

1218 
p
++;

1219 ià(*
p
 =ğ
CTLESC
)

1220 
p
++;

1221 *
’ddœ
++ = *
p
++;

1222 ià(
’ddœ
 =ğ
expdœ_’d
)

1226 ià(
’ddœ
 =ğ
expdœ
) {

1227 
p
 = ".";

1228 } ià(
’ddœ
 =ğ
expdœ
 + 1 && *expdir == '/') {

1229 
p
 = "/";

1231 
p
 = 
expdœ
;

1232 
’ddœ
[-1] = '\0';

1234 ià((
dœp
 = 
	`İ’dœ
(
p
)è=ğ
NULL
)

1236 ià(
’ddœ
 !ğ
expdœ
)

1237 
’ddœ
[-1] = '/';

1238 ià(*
’dÇme
 == 0) {

1239 
©’d
 = 1;

1241 
©’d
 = 0;

1242 *
’dÇme
 = '\0';

1243 
’dÇme
 +ğ
esc
 + 1;

1245 
m©chdÙ
 = 0;

1246 
p
 = 
¡¬t
;

1247 *
p
 =ğ
CTLQUOTEMARK
)

1248 
p
++;

1249 ià(*
p
 =ğ
CTLESC
)

1250 
p
++;

1251 ià(*
p
 == '.')

1252 
m©chdÙ
++;

1253 ! 
	`št_³ndšg
(è&& (
dp
 = 
	`»addœ
(
dœp
)è!ğ
NULL
) {

1254 ià(
dp
->
d_Çme
[0] =ğ'.' && ! 
m©chdÙ
)

1256 ià(
	`·tm©ch
(
¡¬t
, 
dp
->
d_Çme
, 0)) {

1257 ià(
’ddœ
 + 
dp
->
d_ÇmËn
 + 1 > 
expdœ_’d
)

1259 
	`memıy
(
’ddœ
, 
dp
->
d_Çme
, dp->
d_ÇmËn
 + 1);

1260 ià(
©’d
)

1261 
	`addâame
(
expdœ
);

1263 ià(
’ddœ
 + 
dp
->
d_ÇmËn
 + 2 > 
expdœ_’d
)

1265 
’ddœ
[
dp
->
d_ÇmËn
] = '/';

1266 
’ddœ
[
dp
->
d_ÇmËn
 + 1] = '\0';

1267 
	`expm‘a
(
’ddœ
 + 
dp
->
d_ÇmËn
 + 1, 
’dÇme
);

1271 
	`şo£dœ
(
dœp
);

1272 ià(! 
©’d
)

1273 
’dÇme
[-
esc
 - 1] =ƒsø? 
CTLESC
 : '/';

1274 
	}
}

1282 
	$addâame
(*
Çme
)

1284 *
p
;

1285 
¡¾i¡
 *
¥
;

1287 
p
 = 
	`¡®loc
(
	`¡¾’
(
Çme
) + 1);

1288 
	`scİy
(
Çme
, 
p
);

1289 
¥
 = (
¡¾i¡
 *)
	`¡®loc
( *sp);

1290 
¥
->
‹xt
 = 
p
;

1291 *
ex·rg
.
Ï¡p
 = 
¥
;

1292 
ex·rg
.
Ï¡p
 = &
¥
->
Ãxt
;

1293 
	}
}

1302 
¡¾i¡
 *

1303 
	$expsÜt
(
¡¾i¡
 *
¡r
)

1305 
Ën
;

1306 
¡¾i¡
 *
¥
;

1308 
Ën
 = 0;

1309 
¥
 = 
¡r
 ; s°; s°ğ¥->
Ãxt
)

1310 
Ën
++;

1311  
	`msÜt
(
¡r
, 
Ën
);

1312 
	}
}

1315 
¡¾i¡
 *

1316 
	$msÜt
(
¡¾i¡
 *
li¡
, 
Ën
)

1318 
¡¾i¡
 *
p
, *
q
 = 
NULL
;

1319 
¡¾i¡
 **
Íp
;

1320 
h®f
;

1321 
n
;

1323 ià(
Ën
 <= 1)

1324  
li¡
;

1325 
h®f
 = 
Ën
 >> 1;

1326 
p
 = 
li¡
;

1327 
n
 = 
h®f
 ; --n >= 0 ; ) {

1328 
q
 = 
p
;

1329 
p
 =…->
Ãxt
;

1331 
q
->
Ãxt
 = 
NULL
;

1332 
q
 = 
	`msÜt
(
li¡
, 
h®f
);

1333 
p
 = 
	`msÜt
Õ, 
Ën
 - 
h®f
);

1334 
Íp
 = &
li¡
;

1336 ià(
	`¡rcmp
(
p
->
‹xt
, 
q
->text) < 0) {

1337 *
Íp
 = 
p
;

1338 
Íp
 = &
p
->
Ãxt
;

1339 ià((
p
 = *
Íp
è=ğ
NULL
) {

1340 *
Íp
 = 
q
;

1344 *
Íp
 = 
q
;

1345 
Íp
 = &
q
->
Ãxt
;

1346 ià((
q
 = *
Íp
è=ğ
NULL
) {

1347 *
Íp
 = 
p
;

1352  
li¡
;

1353 
	}
}

1362 
	$·tm©ch
(cÚ¡ *
·‰”n
, cÚ¡ *
¡ršg
, 
squÙed
)

1364 #ifdeà
nÙdef


1365 ià(
·‰”n
[0] == '!' &&…attern[1] == '!')

1366  1 - 
	`pm©ch
(
·‰”n
 + 2, 
¡ršg
);

1369  
	`pm©ch
(
·‰”n
, 
¡ršg
, 
squÙed
);

1370 
	}
}

1374 
	$pm©ch
(cÚ¡ *
·‰”n
, cÚ¡ *
¡ršg
, 
squÙed
)

1376 cÚ¡ *
p
, *
q
;

1377 
c
;

1379 
p
 = 
·‰”n
;

1380 
q
 = 
¡ršg
;

1382 
c
 = *
p
++) {

1384 
b»akloİ
;

1385 
CTLESC
:

1386 ià(
squÙed
 && *
q
 =ğ
CTLESC
)

1387 
q
++;

1388 ià(*
q
++ !ğ*
p
++)

1391 
CTLQUOTEMARK
:

1394 ià(
squÙed
 && *
q
 =ğ
CTLESC
)

1395 
q
++;

1396 ià(*
q
++ == '\0')

1400 
c
 = *
p
;

1401 
c
 =ğ
CTLQUOTEMARK
 || c == '*')

1402 
c
 = *++
p
;

1403 ià(
c
 !ğ
CTLESC
 && c !ğ
CTLQUOTEMARK
 &&

1404 
c
 != '?' && c != '*' && c != '[') {

1405 *
q
 !ğ
c
) {

1406 ià(
squÙed
 && *
q
 =ğ
CTLESC
 &&

1407 
q
[1] =ğ
c
)

1409 ià(*
q
 == '\0')

1411 ià(
squÙed
 && *
q
 =ğ
CTLESC
)

1412 
q
++;

1413 
q
++;

1417 ià(
	`pm©ch
(
p
, 
q
, 
squÙed
))

1419 ià(
squÙed
 && *
q
 =ğ
CTLESC
)

1420 
q
++;

1421 } *
q
++ != '\0');

1424 cÚ¡ *
’dp
;

1425 
šv”t
, 
found
;

1426 
chr
;

1428 
’dp
 = 
p
;

1429 ià(*
’dp
 == '!' || *endp == '^')

1430 
’dp
++;

1432 *
’dp
 =ğ
CTLQUOTEMARK
)

1433 
’dp
++;

1434 ià(*
’dp
 == '\0')

1435 
dá
;

1436 ià(*
’dp
 =ğ
CTLESC
)

1437 
’dp
++;

1438 ià(*++
’dp
 == ']')

1441 
šv”t
 = 0;

1442 ià(*
p
 == '!' || *p == '^') {

1443 
šv”t
++;

1444 
p
++;

1446 
found
 = 0;

1447 
chr
 = *
q
++;

1448 ià(
squÙed
 && 
chr
 =ğ
CTLESC
)

1449 
chr
 = *
q
++;

1450 ià(
chr
 == '\0')

1452 
c
 = *
p
++;

1454 ià(
c
 =ğ
CTLQUOTEMARK
)

1456 ià(
c
 =ğ
CTLESC
)

1457 
c
 = *
p
++;

1458 ià(*
p
 == '-' &&…[1] != ']') {

1459 
p
++;

1460 *
p
 =ğ
CTLQUOTEMARK
)

1461 
p
++;

1462 ià(*
p
 =ğ
CTLESC
)

1463 
p
++;

1464 iàĞ
	`cŞÏ‹_¿nge_cmp
(
chr
, 
c
) >= 0

1465 && 
	`cŞÏ‹_¿nge_cmp
(
chr
, *
p
) <= 0

1467 
found
 = 1;

1468 
p
++;

1470 ià(
chr
 =ğ
c
)

1471 
found
 = 1;

1473 } (
c
 = *
p
++) != ']');

1474 ià(
found
 =ğ
šv”t
)

1478 
dá
: :

1479 ià(
squÙed
 && *
q
 =ğ
CTLESC
)

1480 
q
++;

1481 ià(*
q
++ !ğ
c
)

1486 
b»akloİ
:

1487 ià(*
q
 != '\0')

1490 
	}
}

1499 
	$rmesÿ³s
(*
¡r
)

1501 *
p
, *
q
;

1503 
p
 = 
¡r
;

1504 *
p
 !ğ
CTLESC
 && *°!ğ
CTLQUOTEMARK
) {

1505 ià(*
p
++ == '\0')

1508 
q
 = 
p
;

1509 *
p
) {

1510 ià(*
p
 =ğ
CTLQUOTEMARK
) {

1511 
p
++;

1514 ià(*
p
 =ğ
CTLESC
)

1515 
p
++;

1516 *
q
++ = *
p
++;

1518 *
q
 = '\0';

1519 
	}
}

1528 
	$ÿ£m©ch
(
node
 *
·‰”n
, cÚ¡ *
v®
)

1530 
¡ackm¬k
 
sm¬k
;

1531 
»suÉ
;

1532 *
p
;

1534 
	`£t¡ackm¬k
(&
sm¬k
);

1535 
¬gbackq
 = 
·‰”n
->
Çrg
.
backquÙe
;

1536 
	`STARTSTACKSTR
(
expde¡
);

1537 
if¦a¡p
 = 
NULL
;

1538 
	`¬g¡r
(
·‰”n
->
Çrg
.
‹xt
, 
EXP_TILDE
 | 
EXP_CASE
);

1539 
	`STPUTC
('\0', 
expde¡
);

1540 
p
 = 
	`g¿b¡ack¡r
(
expde¡
);

1541 
»suÉ
 = 
	`·tm©ch
(
p
, 
v®
, 0);

1542 
	`pİ¡ackm¬k
(&
sm¬k
);

1543  
»suÉ
;

1544 
	}
}

1551 
	$cvŠum
(
num
, *
buf
)

1553 
‹mp
[32];

1554 
Ãg
 = 
num
 < 0;

1555 *
p
 = 
‹mp
 + 31;

1557 
‹mp
[31] = '\0';

1560 *--
p
 = 
num
 % 10 + '0';

1561 } (
num
 /= 10) != 0);

1563 ià(
Ãg
)

1564 *--
p
 = '-';

1566 *
p
)

1567 
	`STPUTC
(*
p
++, 
buf
);

1568  
buf
;

1569 
	}
}

1576 
	$wÜdexpcmd
(
¬gc
, **
¬gv
)

1578 
size_t
 
Ën
;

1579 
i
;

1581 
	`out1fmt
("%08x", 
¬gc
 - 1);

1582 
i
 = 1, 
Ën
 = 0; i < 
¬gc
; i++)

1583 
Ën
 +ğ
	`¡¾’
(
¬gv
[
i
]);

1584 
	`out1fmt
("%08x", ()
Ën
);

1585 
i
 = 1; i < 
¬gc
; i++) {

1586 
	`out1¡r
(
¬gv
[
i
]);

1587 
	`out1c
('\0');

1590 
	}
}

	@sh/expand.h

36 
	s¡¾i¡
 {

37 
¡¾i¡
 *
	mÃxt
;

38 *
	m‹xt
;

42 
	s¬gli¡
 {

43 
¡¾i¡
 *
	mli¡
;

44 
¡¾i¡
 **
	mÏ¡p
;

50 
	#EXP_FULL
 0x1

	)

51 
	#EXP_TILDE
 0x2

	)

52 
	#EXP_VARTILDE
 0x4

	)

53 
	#EXP_REDIR
 0x8

	)

54 
	#EXP_CASE
 0x10

	)

57 
	gnode
;

58 
ex·ndh”e
(
node
 *, );

59 
ex·nd¬g
(
node
 *, 
¬gli¡
 *, );

60 
ex·ri
();

61 
·tm©ch
(const *, const *, );

62 
rmesÿ³s
(*);

63 
ÿ£m©ch
(
node
 *, const *);

64 
wÜdexpcmd
(, **);

	@sh/histedit.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)histedit.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/histedit.c,v 1.31.2.7.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/·¿m.h
>

42 
	~<lim™s.h
>

43 
	~<·ths.h
>

44 
	~<¡dio.h
>

45 
	~<¡dlib.h
>

46 
	~<uni¡d.h
>

50 
	~"sh–l.h
"

51 
	~"·r£r.h
"

52 
	~"v¬.h
"

53 
	~"İtiÚs.h
"

54 
	~"maš.h
"

55 
	~"ouut.h
"

56 
	~"my¡ršg.h
"

57 #iâdeà
NO_HISTORY


58 
	~"myhi¡ed™.h
"

59 
	~"”rÜ.h
"

60 
	~"ev®.h
"

61 
	~"mem®loc.h
"

63 
	#MAXHISTLOOPS
 4

	)

64 
	#DEFEDITOR
 "ed"

	)

66 
Hi¡Üy
 *
	ghi¡
;

67 
Ed™Lše
 *
	g–
;

68 
	gdi¥Ïyhi¡
;

69 
FILE
 *
	g–_š
, *
	g–_out
, *
	g–_”r
;

71 *
fc_»¶aû
(const *, *, *);

78 
	$hi¡ed™
()

81 
	#ed™šg
 (
Eæag
 || 
Væag
)

	)

83 ià(
iæag
) {

84 ià(!
hi¡
) {

88 
INTOFF
;

89 
hi¡
 = 
	`hi¡Üy_š™
();

90 
INTON
;

92 ià(
hi¡
 !ğ
NULL
)

93 
	`£thi¡size
(
	`hi¡sizev®
());

95 
	`out2¡r
("sh: can't initialize history\n");

97 ià(
ed™šg
 && !
–
 && 
	`i§‰y
(0)) {

101 
INTOFF
;

102 ià(
–_š
 =ğ
NULL
)

103 
–_š
 = 
	`fdİ’
(0, "r");

104 ià(
–_”r
 =ğ
NULL
)

105 
–_”r
 = 
	`fdİ’
(1, "w");

106 ià(
–_out
 =ğ
NULL
)

107 
–_out
 = 
	`fdİ’
(2, "w");

108 ià(
–_š
 =ğ
NULL
 || 
–_”r
 =ğNULL || 
–_out
 == NULL)

109 
bad
;

110 
–
 = 
	`–_š™
(
¬g0
, 
–_š
, 
–_out
, 
–_”r
);

111 ià(
–
 !ğ
NULL
) {

112 ià(
hi¡
)

113 
	`–_£t
(
–
, 
EL_HIST
, 
hi¡Üy
, 
hi¡
);

114 
	`–_£t
(
–
, 
EL_PROMPT
, 
g‘´om±
);

116 
bad
:

117 
	`out2¡r
("sh: can't initializeƒditing\n");

119 
INTON
;

120 } ià(!
ed™šg
 && 
–
) {

121 
INTOFF
;

122 
	`–_’d
(
–
);

123 
–
 = 
NULL
;

124 
INTON
;

126 ià(
–
) {

127 ià(
Væag
)

128 
	`–_£t
(
–
, 
EL_EDITOR
, "vi");

129 ià(
Eæag
)

130 
	`–_£t
(
–
, 
EL_EDITOR
, "emacs");

131 
	`–_sourû
(
–
, 
NULL
);

134 
INTOFF
;

135 ià(
–
) {

136 
	`–_’d
(
–
);

137 
–
 = 
NULL
;

139 ià(
hi¡
) {

140 
	`hi¡Üy_’d
(
hi¡
);

141 
hi¡
 = 
NULL
;

143 
INTON
;

145 
	}
}

149 
	$£thi¡size
(
hs
)

150 cÚ¡ *
hs
;

152 
hi¡size
;

153 
Hi¡Ev’t
 
he
;

155 ià(
hi¡
 !ğ
NULL
) {

156 ià(
hs
 =ğ
NULL
 || *hs == '\0' ||

157 (
hi¡size
 = 
	`©oi
(
hs
)) < 0)

158 
hi¡size
 = 100;

159 
	`hi¡Üy
(
hi¡
, &
he
, 
H_SETSIZE
, 
hi¡size
);

160 
	`hi¡Üy
(
hi¡
, &
he
, 
H_SETUNIQUE
, 1);

162 
	}
}

165 
	$hi¡cmd
(
¬gc
, **
¬gv
)

167 
ch
;

168 cÚ¡ *
ed™Ü
 = 
NULL
;

169 
Hi¡Ev’t
 
he
;

170 
læg
 = 0, 
næg
 = 0, 
ræg
 = 0, 
sæg
 = 0;

171 
i
, 
»tv®
;

172 cÚ¡ *
fœ¡¡r
, *
Ï¡¡r
;

173 
fœ¡
, 
Ï¡
, 
dœeùiÚ
;

174 *
·t
 = 
NULL
, *
»¶
 = NULL;

175 
aùive
 = 0;

176 
jm¶oc
 jmploc;

177 
jm¶oc
 *
§vehªdËr
;

178 
ed™fe¡r
[
PATH_MAX
];

179 *vŞ©
ed™fe
;

180 
FILE
 *
eå
 = 
NULL
;

181 
Şdhi¡num
;

183 ià(
hi¡
 =ğ
NULL
)

184 
	`”rÜ
("history‚ot‡ctive");

186 ià(
¬gc
 == 1)

187 
	`”rÜ
("missing history‡rgument");

189 
İŒe£t
 = 1; 
İtšd
 = 1;

190 
İ‹¼
 = 0;

191 
	`nÙ_fúumb”
(
¬gv
[
İtšd
]) &&

192 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, ":e:lnrs")) != -1)

193 ()
ch
) {

195 
ed™Ü
 = 
İrg
;

198 
læg
 = 1;

201 
næg
 = 1;

204 
ræg
 = 1;

207 
sæg
 = 1;

210 
	`”rÜ
("İtiÚ -%øex³ù ¬gum’t", 
İtİt
);

213 
	`”rÜ
("unknowÀİtiÚ: -%c", 
İtİt
);

215 
¬gc
 -ğ
İtšd
, 
¬gv
 += optind;

217 
§vehªdËr
 = 
hªdËr
;

221 ià(
læg
 =ğ0 || 
ed™Ü
 || 
sæg
) {

222 
læg
 = 0;

223 
ed™fe
 = 
NULL
;

228 ià(
	`£tjmp
(
jm¶oc
.
loc
)) {

229 
aùive
 = 0;

230 ià(
ed™fe
)

231 
	`uÆšk
(
ed™fe
);

232 
hªdËr
 = 
§vehªdËr
;

233 
	`lÚgjmp
(
hªdËr
->
loc
, 1);

235 
hªdËr
 = &
jm¶oc
;

236 ià(++
aùive
 > 
MAXHISTLOOPS
) {

237 
aùive
 = 0;

238 
di¥Ïyhi¡
 = 0;

239 
	`”rÜ
("called„ecursivelyoo manyimes");

244 ià(
sæg
 == 0) {

245 ià(
ed™Ü
 =ğ
NULL
 &&

246 (
ed™Ü
 = 
	`bÉšlookup
("FCEDIT", 1)è=ğ
NULL
 &&

247 (
ed™Ü
 = 
	`bÉšlookup
("EDITOR", 1)è=ğ
NULL
)

248 
ed™Ü
 = 
DEFEDITOR
;

249 ià(
ed™Ü
[0] == '-' &&ƒditor[1] == '\0') {

250 
sæg
 = 1;

251 
ed™Ü
 = 
NULL
;

259 ià(
læg
 =ğ0 && 
¬gc
 > 0 &&

260 ((
»¶
 = 
	`¡rchr
(
¬gv
[0], '=')è!ğ
NULL
)) {

261 
·t
 = 
¬gv
[0];

262 *
»¶
++ = '\0';

263 
¬gc
--, 
¬gv
++;

268 
¬gc
) {

270 
fœ¡¡r
 = 
læg
 ? "-16" : "-1";

271 
Ï¡¡r
 = "-1";

274 
fœ¡¡r
 = 
¬gv
[0];

275 
Ï¡¡r
 = 
læg
 ? "-1" : 
¬gv
[0];

278 
fœ¡¡r
 = 
¬gv
[0];

279 
Ï¡¡r
 = 
¬gv
[1];

282 
	`”rÜ
("too many‡rgs");

287 
fœ¡
 = 
	`¡r_to_ev’t
(
fœ¡¡r
, 0);

288 
Ï¡
 = 
	`¡r_to_ev’t
(
Ï¡¡r
, 1);

290 ià(
ræg
) {

291 
i
 = 
Ï¡
;

292 
Ï¡
 = 
fœ¡
;

293 
fœ¡
 = 
i
;

300 
dœeùiÚ
 = 
fœ¡
 < 
Ï¡
 ? 
H_PREV
 : 
H_NEXT
;

305 ià(
ed™Ü
) {

306 
fd
;

307 
INTOFF
;

308 
	`¥rštf
(
ed™fe¡r
, "%s/_shXXXXXX", 
_PATH_TMP
);

309 ià((
fd
 = 
	`mk¡emp
(
ed™fe¡r
)) < 0)

310 
	`”rÜ
("ÿn'ˆü—‹empÜ¬y f%s", 
ed™fe
);

311 
ed™fe
 = 
ed™fe¡r
;

312 ià((
eå
 = 
	`fdİ’
(
fd
, "w")è=ğ
NULL
) {

313 
	`şo£
(
fd
);

314 
	`”rÜ
("can't‡llocate stdio buffer foremp");

326 
	`hi¡Üy
(
hi¡
, &
he
, 
H_FIRST
);

327 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
H_NEXT_EVENT
, 
fœ¡
);

328 ;
»tv®
 !ğ-1;„‘v® = 
	`hi¡Üy
(
hi¡
, &
he
, 
dœeùiÚ
)) {

329 ià(
læg
) {

330 ià(!
næg
)

331 
	`out1fmt
("%5d ", 
he
.
num
);

332 
	`out1¡r
(
he
.
¡r
);

334 *
s
 = 
·t
 ?

335 
	`fc_»¶aû
(
he
.
¡r
, 
·t
, 
»¶
) : (*)he.str;

337 ià(
sæg
) {

338 ià(
di¥Ïyhi¡
) {

339 
	`out2¡r
(
s
);

341 
	`ev®¡ršg
(
s
, 0);

342 ià(
di¥Ïyhi¡
 && 
hi¡
) {

347 
Şdhi¡num
 = 
he
.
num
;

348 
	`hi¡Üy
(
hi¡
, &
he
, 
H_ENTER
, 
s
);

354 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
,

355 
H_NEXT_EVENT
, 
Şdhi¡num
);

358 
	`åuts
(
s
, 
eå
);

364 ià(
he
.
num
 =ğ
Ï¡
)

367 ià(
ed™Ü
) {

368 *
ed™cmd
;

370 
	`fşo£
(
eå
);

371 
ed™cmd
 = 
	`¡®loc
(
	`¡¾’
(
ed™Ü
è+ sŒËn(
ed™fe
) + 2);

372 
	`¥rštf
(
ed™cmd
, "% %s", 
ed™Ü
, 
ed™fe
);

373 
	`ev®¡ršg
(
ed™cmd
, 0);

374 
INTON
;

375 
	`»adcmdfe
(
ed™fe
);

376 
	`uÆšk
(
ed™fe
);

379 ià(
læg
 =ğ0 && 
aùive
 > 0)

380 --
aùive
;

381 ià(
di¥Ïyhi¡
)

382 
di¥Ïyhi¡
 = 0;

383 
hªdËr
 = 
§vehªdËr
;

385 
	}
}

388 
	$fc_»¶aû
(cÚ¡ *
s
, *
p
, *
r
)

390 *
de¡
;

391 
¶’
 = 
	`¡¾’
(
p
);

393 
	`STARTSTACKSTR
(
de¡
);

394 *
s
) {

395 ià(*
s
 =ğ*
p
 && 
	`¡ºcmp
(s,…, 
¶’
) == 0) {

396 *
r
)

397 
	`STPUTC
(*
r
++, 
de¡
);

398 
s
 +ğ
¶’
;

399 *
p
 = '\0';

401 
	`STPUTC
(*
s
++, 
de¡
);

403 
	`STPUTC
('\0', 
de¡
);

404 
de¡
 = 
	`g¿b¡ack¡r
(dest);

406  (
de¡
);

407 
	}
}

410 
	$nÙ_fúumb”
(cÚ¡ *
s
)

412 ià(
s
 =ğ
NULL
)

414 ià(*
s
 == '-')

415 
s
++;

416  (!
	`is_numb”
(
s
));

417 
	}
}

420 
	$¡r_to_ev’t
(cÚ¡ *
¡r
, 
Ï¡
)

422 
Hi¡Ev’t
 
he
;

423 cÚ¡ *
s
 = 
¡r
;

424 
»Ïtive
 = 0;

425 
i
, 
»tv®
;

427 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
H_FIRST
);

428 *
s
) {

430 
»Ïtive
 = 1;

433 
s
++;

435 ià(
	`is_numb”
(
s
)) {

436 
i
 = 
	`©oi
(
s
);

437 ià(
»Ïtive
) {

438 
»tv®
 !ğ-1 && 
i
--) {

439 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
H_NEXT
);

441 ià(
»tv®
 == -1)

442 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
H_LAST
);

444 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
H_NEXT_EVENT
, 
i
);

445 ià(
»tv®
 == -1) {

450 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
Ï¡
 ? 
H_FIRST
 : 
H_LAST
);

453 ià(
»tv®
 == -1)

454 
	`”rÜ
("history‚umber %s‚ot found (internalƒrror)",

455 
¡r
);

460 
»tv®
 = 
	`hi¡Üy
(
hi¡
, &
he
, 
H_PREV_STR
, 
¡r
);

461 ià(
»tv®
 == -1)

462 
	`”rÜ
("hi¡Üy…©‹º‚Ù found: %s", 
¡r
);

464  (
he
.
num
);

465 
	}
}

468 
	$bšdcmd
(
¬gc
, **
¬gv
)

471 ià(
–
 =ğ
NULL
)

472 
	`”rÜ
("lineƒditing is disabled");

473  (
	`–_·r£
(
–
, 
¬gc
, (cÚ¡ **)
¬gv
));

474 
	}
}

477 
	~"”rÜ.h
"

480 
	$hi¡cmd
(
¬gc
, **
¬gv
)

483 
	`”rÜ
("not compiled with history support");

486 
	}
}

489 
	$bšdcmd
(
¬gc
, **
¬gv
)

492 
	`”rÜ
("not compiled with†ineƒditing support");

494 
	}
}

	@sh/init.h

36 
š™
();

37 
»£t
();

38 
š™sh–Íroc
();

	@sh/input.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)input.c 8.3 (Berkeley) 6/9/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/input.c,v 1.25.2.4.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<¡dio.h
>

42 
	~<fú.h
>

43 
	~<”ºo.h
>

44 
	~<uni¡d.h
>

45 
	~<¡dlib.h
>

46 
	~<¡ršg.h
>

52 
	~"sh–l.h
"

53 
	~"»dœ.h
"

54 
	~"syÁax.h
"

55 
	~"šput.h
"

56 
	~"ouut.h
"

57 
	~"İtiÚs.h
"

58 
	~"mem®loc.h
"

59 
	~"”rÜ.h
"

60 
	~"®Ÿs.h
"

61 
	~"·r£r.h
"

62 
	~"myhi¡ed™.h
"

63 
	~"Œ­.h
"

65 
	#EOF_NLEFT
 -99

	)

67 
MKINIT


68 
	s¡½ush
 {

69 
¡½ush
 *
	m´ev
;

70 *
	m´ev¡ršg
;

71 
	m´evÆeá
;

72 
	m´evÎeá
;

73 
®Ÿs
 *
	m­
;

81 
MKINIT


82 
	s·r£fe
 {

83 
·r£fe
 *
	m´ev
;

84 
	mlšno
;

85 
	mfd
;

86 
	mÆeá
;

87 
	mÎeá
;

88 *
	mÃxtc
;

89 *
	mbuf
;

90 
¡½ush
 *
	m¡½ush
;

91 
¡½ush
 
	mba£¡½ush
;

95 
	g¶šno
 = 1;

96 
	g·r£Æeá
;

97 
MKINIT
 
	g·r£Îeá
;

98 *
	g·r£Ãxtc
;

99 
MKINIT
 
·r£fe
 
	gba£pf
;

100 
	gba£buf
[
BUFSIZ
];

101 
·r£fe
 *
	g·r£fe
 = &
ba£pf
;

102 
	gš™_ed™lše
 = 0;

103 
	gwhich´om±
;

105 
Ed™Lše
 *
	g–
;

107 
pushfe
();

108 
´—dfd
();

110 #ifdeà
mkš™


111 
	gINCLUDE
 "input.h"

112 
	gINCLUDE
 "error.h"

114 
MKINIT
 
	gba£buf
[];

116 
	gINIT
 {

117 
	gba£pf
.
	gÃxtc
 = 
ba£pf
.
buf
 = 
ba£buf
;

120 
	gRESET
 {

121 
pİ®lfes
();

122 ià(
	gexû±iÚ
 !ğ
EXSHELLPROC
)

123 
·r£Îeá
 = 
·r£Æeá
 = 0;

126 
	gSHELLPROC
 {

127 
pİ®lfes
();

137 
	$pfg‘s
(*
lše
, 
Ën
)

139 *
p
 = 
lše
;

140 
Æeá
 = 
Ën
;

141 
c
;

143 --
Æeá
 > 0) {

144 
c
 = 
	`pg‘c_maüo
();

145 ià(
c
 =ğ
PEOF
) {

146 ià(
p
 =ğ
lše
)

147  
NULL
;

150 *
p
++ = 
c
;

151 ià(
c
 == '\n')

154 *
p
 = '\0';

155  
lše
;

156 
	}
}

166 
	$pg‘c
()

168  
	`pg‘c_maüo
();

169 
	}
}

173 
	$´—dfd
()

175 
Ä
;

176 
·r£Ãxtc
 = 
·r£fe
->
buf
;

178 #iâdeà
NO_HISTORY


179 ià(
–
 !ğ
NULL
 && 
gÙwšch
) {

180 
gÙwšch
 = 0;

181 
	`–_»size
(
–
);

184 
»Œy
:

185 #iâdeà
NO_HISTORY


186 ià(
·r£fe
->
fd
 =ğ0 && 
–
) {

187 cÚ¡ *
¾_ı
;

188 
–_Ën
;

190 ià(
¾_ı
 =ğ
NULL
)

191 
¾_ı
 = 
	`–_g‘s
(
–
, &
–_Ën
);

192 ià(
¾_ı
 =ğ
NULL
)

193 
Ä
 = 0;

195 
Ä
 = 
–_Ën
;

196 ià(
Ä
 > 
BUFSIZ
 - 1)

197 
Ä
 = 
BUFSIZ
 - 1;

198 
	`memıy
(
·r£Ãxtc
, 
¾_ı
, 
Ä
);

199 ià(
Ä
 !ğ
–_Ën
) {

200 
–_Ën
 -ğ
Ä
;

201 
¾_ı
 +ğ
Ä
;

203 
¾_ı
 = 
NULL
;

207 
Ä
 = 
	`»ad
(
·r£fe
->
fd
, 
·r£Ãxtc
, 
BUFSIZ
 - 1);

209 ià(
Ä
 <= 0) {

210 ià(
Ä
 < 0) {

211 ià(
”ºo
 =ğ
EINTR
)

212 
»Œy
;

213 ià(
·r£fe
->
fd
 =ğ0 && 
”ºo
 =ğ
EWOULDBLOCK
) {

214 
æags
 = 
	`fú
(0, 
F_GETFL
, 0);

215 ià(
æags
 >ğ0 && fÏg & 
O_NONBLOCK
) {

216 
æags
 &=~ 
O_NONBLOCK
;

217 ià(
	`fú
(0, 
F_SETFL
, 
æags
) >= 0) {

218 
	`out2¡r
("sh:urning off NDELAY mode\n");

219 
»Œy
;

224 
Ä
 = -1;

226  
Ä
;

227 
	}
}

240 
	$´—dbufãr
()

242 *
p
, *
q
;

243 
mÜe
;

244 
som‘hšg
;

245 
§vec
;

247 ià(
·r£fe
->
¡½ush
) {

248 
	`pİ¡ršg
();

249 ià(--
·r£Æeá
 >= 0)

250  (*
·r£Ãxtc
++);

252 ià(
·r£Æeá
 =ğ
EOF_NLEFT
 || 
·r£fe
->
buf
 =ğ
NULL
)

253  
PEOF
;

254 
	`æushout
(&
ouut
);

255 
	`æushout
(&
”rout
);

257 
agaš
:

258 ià(
·r£Îeá
 <= 0) {

259 ià((
·r£Îeá
 = 
	`´—dfd
()) == -1) {

260 
·r£Îeá
 = 
·r£Æeá
 = 
EOF_NLEFT
;

261  
PEOF
;

265 
q
 = 
p
 = 
·r£Ãxtc
;

268 
som‘hšg
 = 0;

269 
mÜe
 = 1; more;) {

270 *
p
) {

272 
p
++;

273 
check
;

280 
·r£Æeá
 = 
q
 - 
·r£Ãxtc
;

281 
mÜe
 = 0;

285 
som‘hšg
 = 1;

289 *
q
++ = *
p
++;

290 
check
:

291 ià(--
·r£Îeá
 <= 0) {

292 
·r£Æeá
 = 
q
 - 
·r£Ãxtc
 - 1;

293 ià(
·r£Æeá
 < 0)

294 
agaš
;

295 *
q
 = '\0';

296 
mÜe
 = 0;

300 
§vec
 = *
q
;

301 *
q
 = '\0';

303 #iâdeà
NO_HISTORY


304 ià(
·r£fe
->
fd
 =ğ0 && 
hi¡
 && 
som‘hšg
) {

305 
Hi¡Ev’t
 
he
;

306 
INTOFF
;

307 
	`hi¡Üy
(
hi¡
, &
he
, 
which´om±
 =ğ1 ? 
H_ENTER
 : 
H_ADD
,

308 
·r£Ãxtc
);

309 
INTON
;

313 ià(
væag
) {

314 
	`out2¡r
(
·r£Ãxtc
);

315 
	`æushout
(
out2
);

318 *
q
 = 
§vec
;

320  *
·r£Ãxtc
++;

321 
	}
}

329 
	$´—d©eof
()

331 ià(
·r£Æeá
 > 0)

333 ià(
·r£fe
->
¡½ush
)

335 ià(
·r£Æeá
 =ğ
EOF_NLEFT
 || 
·r£fe
->
buf
 =ğ
NULL
)

338 
	}
}

346 
	$pung‘c
()

348 
·r£Æeá
++;

349 
·r£Ãxtc
--;

350 
	}
}

357 
	$push¡ršg
(*
s
, 
Ën
, *
­
)

359 
¡½ush
 *
¥
;

361 
INTOFF
;

363 ià(
·r£fe
->
¡½ush
) {

364 
¥
 = 
	`ckm®loc
( (
¡½ush
));

365 
¥
->
´ev
 = 
·r£fe
->
¡½ush
;

366 
·r£fe
->
¡½ush
 = 
¥
;

368 
¥
 = 
·r£fe
->
¡½ush
 = &Õ¬£fe->
ba£¡½ush
);

369 
¥
->
´ev¡ršg
 = 
·r£Ãxtc
;

370 
¥
->
´evÆeá
 = 
·r£Æeá
;

371 
¥
->
´evÎeá
 = 
·r£Îeá
;

372 
¥
->
­
 = (
®Ÿs
 *)ap;

373 ià(
­
)

374 ((
®Ÿs
 *)
­
)->
æag
 |ğ
ALIASINUSE
;

375 
·r£Ãxtc
 = 
s
;

376 
·r£Æeá
 = 
Ën
;

377 
INTON
;

378 
	}
}

381 
	$pİ¡ršg
()

383 
¡½ush
 *
¥
 = 
·r£fe
->strpush;

385 
INTOFF
;

386 
·r£Ãxtc
 = 
¥
->
´ev¡ršg
;

387 
·r£Æeá
 = 
¥
->
´evÆeá
;

388 
·r£Îeá
 = 
¥
->
´evÎeá
;

390 ià(
¥
->
­
)

391 
¥
->
­
->
æag
 &ğ~
ALIASINUSE
;

392 
·r£fe
->
¡½ush
 = 
¥
->
´ev
;

393 ià(
¥
 !ğ&(
·r£fe
->
ba£¡½ush
))

394 
	`ckä“
(
¥
);

395 
INTON
;

396 
	}
}

404 
	$£tšputfe
(cÚ¡ *
âame
, 
push
)

406 
fd
;

407 
fd2
;

409 
INTOFF
;

410 ià((
fd
 = 
	`İ’
(
âame
, 
O_RDONLY
)) < 0)

411 
	`”rÜ
("Cª'ˆİ’ %s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

412 ià(
fd
 < 10) {

413 
fd2
 = 
	`fú
(
fd
, 
F_DUPFD
, 10);

414 
	`şo£
(
fd
);

415 ià(
fd2
 < 0)

416 
	`”rÜ
("Out of file descriptors");

417 
fd
 = 
fd2
;

419 
	`£tšputfd
(
fd
, 
push
);

420 
INTON
;

421 
	}
}

430 
	$£tšputfd
(
fd
, 
push
)

432 ()
	`fú
(
fd
, 
F_SETFD
, 
FD_CLOEXEC
);

433 ià(
push
) {

434 
	`pushfe
();

435 
·r£fe
->
buf
 = 
	`ckm®loc
(
BUFSIZ
);

437 ià(
·r£fe
->
fd
 > 0)

438 
	`şo£
(
·r£fe
->
fd
);

439 
·r£fe
->
fd
 = fd;

440 ià(
·r£fe
->
buf
 =ğ
NULL
)

441 
·r£fe
->
buf
 = 
	`ckm®loc
(
BUFSIZ
);

442 
·r£Îeá
 = 
·r£Æeá
 = 0;

443 
¶šno
 = 1;

444 
	}
}

452 
	$£tšput¡ršg
(*
¡ršg
, 
push
)

454 
INTOFF
;

455 ià(
push
)

456 
	`pushfe
();

457 
·r£Ãxtc
 = 
¡ršg
;

458 
·r£Îeá
 = 
·r£Æeá
 = 
	`¡¾’
(
¡ršg
);

459 
·r£fe
->
buf
 = 
NULL
;

460 
¶šno
 = 1;

461 
INTON
;

462 
	}
}

472 
	$pushfe
()

474 
·r£fe
 *
pf
;

476 
·r£fe
->
Æeá
 = 
·r£Æeá
;

477 
·r£fe
->
Îeá
 = 
·r£Îeá
;

478 
·r£fe
->
Ãxtc
 = 
·r£Ãxtc
;

479 
·r£fe
->
lšno
 = 
¶šno
;

480 
pf
 = (
·r£fe
 *)
	`ckm®loc
( (parsefile));

481 
pf
->
´ev
 = 
·r£fe
;

482 
pf
->
fd
 = -1;

483 
pf
->
¡½ush
 = 
NULL
;

484 
pf
->
ba£¡½ush
.
´ev
 = 
NULL
;

485 
·r£fe
 = 
pf
;

486 
	}
}

490 
	$pİfe
()

492 
·r£fe
 *
pf
 =…arsefile;

494 
INTOFF
;

495 ià(
pf
->
fd
 >= 0)

496 
	`şo£
(
pf
->
fd
);

497 ià(
pf
->
buf
)

498 
	`ckä“
(
pf
->
buf
);

499 
pf
->
¡½ush
)

500 
	`pİ¡ršg
();

501 
·r£fe
 = 
pf
->
´ev
;

502 
	`ckä“
(
pf
);

503 
·r£Æeá
 = 
·r£fe
->
Æeá
;

504 
·r£Îeá
 = 
·r£fe
->
Îeá
;

505 
·r£Ãxtc
 = 
·r£fe
->
Ãxtc
;

506 
¶šno
 = 
·r£fe
->
lšno
;

507 
INTON
;

508 
	}
}

516 
	$pİ®lfes
()

518 
·r£fe
 !ğ&
ba£pf
)

519 
	`pİfe
();

520 
	}
}

530 
	$şo£süt
()

532 
	`pİ®lfes
();

533 ià(
·r£fe
->
fd
 > 0) {

534 
	`şo£
(
·r£fe
->
fd
);

535 
·r£fe
->
fd
 = 0;

537 
	}
}

	@sh/input.h

43 
¶šno
;

44 
·r£Æeá
;

45 *
·r£Ãxtc
;

46 
š™_ed™lše
;

48 *
pfg‘s
(*, );

49 
pg‘c
();

50 
´—dbufãr
();

51 
´—d©eof
();

52 
pung‘c
();

53 
push¡ršg
(*, , *);

54 
pİ¡ršg
();

55 
£tšputfe
(const *, );

56 
£tšputfd
(, );

57 
£tšput¡ršg
(*, );

58 
pİfe
();

59 
pİ®lfes
();

60 
şo£süt
();

62 
	#pg‘c_maüo
(è(--
·r£Æeá
 >ğ0? *
·r£Ãxtc
++ : 
	`´—dbufãr
())

	)

	@sh/jobs.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)jobs.c 8.5 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/jobs.c,v 1.72.10.8.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/ioùl.h
>

42 
	~<sys/·¿m.h
>

43 
	~<sys/»sourû.h
>

44 
	~<sys/time.h
>

45 
	~<sys/wa™.h
>

46 
	~<”ºo.h
>

47 
	~<fú.h
>

48 
	~<·ths.h
>

49 
	~<sigÇl.h
>

50 
	~<¡ddef.h
>

51 
	~<¡dlib.h
>

52 
	~<uni¡d.h
>

54 
	~"sh–l.h
"

55 #ià
JOBS


56 
	~<‹rmios.h
>

57 #undeà
CEOF


59 
	~"»dœ.h
"

60 
	~"show.h
"

61 
	~"maš.h
"

62 
	~"·r£r.h
"

63 
	~"nodes.h
"

64 
	~"jobs.h
"

65 
	~"İtiÚs.h
"

66 
	~"Œ­.h
"

67 
	~"syÁax.h
"

68 
	~"šput.h
"

69 
	~"ouut.h
"

70 
	~"mem®loc.h
"

71 
	~"”rÜ.h
"

72 
	~"my¡ršg.h
"

75 
job
 *
	gjobb
;

76 
	gnjobs
;

77 
MKINIT
 
pid_t
 
	gbackgndpid
 = -1;

78 #ià
JOBS


79 
job
 *
	gjobmru
;

80 
pid_t
 
	gš™ŸÍg½
;

82 
	gš_wa™cmd
 = 0;

83 
	gš_dowa™
 = 0;

84 vŞ©
sig_©omic_t
 
	gb»akwa™cmd
 = 0;

85 
	g‰yfd
 = -1;

87 #ià
JOBS


88 
»¡¬tjob
(
job
 *);

90 
ä“job
(
job
 *);

91 
job
 *
g‘job
(*);

92 
pid_t
 
dowa™
(, 
job
 *);

93 
pid_t
 
wa™´oc
(, *);

94 
checkzomb›s
();

95 
cmdtxt
(
node
 *);

96 
cmdputs
(const *);

97 #ià
JOBS


98 
£tcurjob
(
job
 *);

99 
d–job
(
job
 *);

100 
job
 *
g‘curjob
(job *);

102 
showjob
(
job
 *, 
pid_t
, );

109 
MKINIT
 
	gjobùl
;

111 #ià
JOBS


113 
	$£tjobùl
(
Ú
)

115 
i
;

117 ià(
Ú
 =ğ
jobùl
 || 
roÙsh–l
 == 0)

119 ià(
Ú
) {

120 ià(
‰yfd
 != -1)

121 
	`şo£
(
‰yfd
);

122 ià((
‰yfd
 = 
	`İ’
(
_PATH_TTY
, 
O_RDWR
)) < 0) {

123 
i
 = 0;

124 
i
 <ğ2 && !
	`i§‰y
(i))

125 
i
++;

126 ià(
i
 > 2 || (
‰yfd
 = 
	`fú
(i, 
F_DUPFD
, 10)) < 0)

127 
out
;

129 ià(
‰yfd
 < 10) {

134 ià((
i
 = 
	`fú
(
‰yfd
, 
F_DUPFD
, 10)) < 0) {

135 
	`şo£
(
‰yfd
);

136 
‰yfd
 = -1;

137 
out
;

139 
	`şo£
(
‰yfd
);

140 
‰yfd
 = 
i
;

142 ià(
	`fú
(
‰yfd
, 
F_SETFD
, 
FD_CLOEXEC
) < 0) {

143 
	`şo£
(
‰yfd
);

144 
‰yfd
 = -1;

145 
out
;

148 
š™ŸÍg½
 = 
	`tcg‘pg½
(
‰yfd
);

149 ià(
š™ŸÍg½
 < 0) {

150 
out
: 
	`out2¡r
("sh: can't‡ccessty; job controlurned off\n");

151 
mæag
 = 0;

154 ià(
š™ŸÍg½
 == -1)

155 
š™ŸÍg½
 = 
	`g‘pg½
();

156 ià(
š™ŸÍg½
 !ğ
	`g‘pg½
()) {

157 
	`kÍg
(0, 
SIGTTIN
);

161 
	`£tsigÇl
(
SIGTSTP
);

162 
	`£tsigÇl
(
SIGTTOU
);

163 
	`£tsigÇl
(
SIGTTIN
);

164 
	`£gid
(0, 
roÙpid
);

165 
	`tc£g½
(
‰yfd
, 
roÙpid
);

167 
	`£gid
(0, 
š™ŸÍg½
);

168 
	`tc£g½
(
‰yfd
, 
š™ŸÍg½
);

169 
	`şo£
(
‰yfd
);

170 
‰yfd
 = -1;

171 
	`£tsigÇl
(
SIGTSTP
);

172 
	`£tsigÇl
(
SIGTTOU
);

173 
	`£tsigÇl
(
SIGTTIN
);

175 
jobùl
 = 
Ú
;

176 
	}
}

180 #ifdeà
mkš™


181 
	gINCLUDE
 <
	gsys
/
	gty³s
.
	gh
>

182 
	gINCLUDE
 <
	g¡dlib
.
	gh
>

184 
	gSHELLPROC
 {

185 
	gbackgndpid
 = -1;

186 #ià
JOBS


187 
	gjobùl
 = 0;

195 #ià
JOBS


197 
	$fgcmd
(
¬gc
 
__unu£d
, **
¬gv
)

199 
job
 *
jp
;

200 
pid_t
 
pg½
;

201 
¡©us
;

203 
jp
 = 
	`g‘job
(
¬gv
[1]);

204 ià(
jp
->
jobùl
 == 0)

205 
	`”rÜ
("job‚ot created under job control");

206 
	`out1¡r
(
jp
->
ps
[0].
cmd
);

207 
	`out1c
('\n');

208 
	`æushout
(&
ouut
);

209 
pg½
 = 
jp
->
ps
[0].
pid
;

210 
	`tc£g½
(
‰yfd
, 
pg½
);

211 
	`»¡¬tjob
(
jp
);

212 
jp
->
fÜeground
 = 1;

213 
INTOFF
;

214 
¡©us
 = 
	`wa™fÜjob
(
jp
, (*)
NULL
);

215 
INTON
;

216  
¡©us
;

217 
	}
}

221 
	$bgcmd
(
¬gc
, **
¬gv
)

223 
s
[64];

224 
job
 *
jp
;

227 
jp
 = 
	`g‘job
(*++
¬gv
);

228 ià(
jp
->
jobùl
 == 0)

229 
	`”rÜ
("job‚ot created under job control");

230 ià(
jp
->
¡©e
 =ğ
JOBDONE
)

232 
	`»¡¬tjob
(
jp
);

233 
jp
->
fÜeground
 = 0;

234 
	`fmt¡r
(
s
, 64, "[%td] ", 
jp
 - 
jobb
 + 1);

235 
	`out1¡r
(
s
);

236 
	`out1¡r
(
jp
->
ps
[0].
cmd
);

237 
	`out1c
('\n');

238 } --
¬gc
 > 1);

240 
	}
}

244 
	$»¡¬tjob
(
job
 *
jp
)

246 
´oc¡©
 *
ps
;

247 
i
;

249 ià(
jp
->
¡©e
 =ğ
JOBDONE
)

251 
	`£tcurjob
(
jp
);

252 
INTOFF
;

253 
	`kÍg
(
jp
->
ps
[0].
pid
, 
SIGCONT
);

254 
ps
 = 
jp
->ps, 
i
 = jp->
Årocs
 ; --i >= 0 ;…s++) {

255 ià(
	`WIFSTOPPED
(
ps
->
¡©us
)) {

256 
ps
->
¡©us
 = -1;

257 
jp
->
¡©e
 = 0;

260 
INTON
;

261 
	}
}

266 
	$jobscmd
(
¬gc
, *
¬gv
[])

268 *
id
;

269 
ch
, 
mode
;

271 
İtšd
 = 
İŒe£t
 = 1;

272 
İ‹¼
 = 0;

273 
mode
 = 
SHOWJOBS_DEFAULT
;

274 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "lps")) != -1) {

275 
ch
) {

277 
mode
 = 
SHOWJOBS_VERBOSE
;

280 
mode
 = 
SHOWJOBS_PGIDS
;

283 
mode
 = 
SHOWJOBS_PIDS
;

287 
	`”rÜ
("unknowÀİtiÚ: -%c", 
İtİt
);

290 
¬gc
 -ğ
İtšd
;

291 
¬gv
 +ğ
İtšd
;

293 ià(
¬gc
 == 0)

294 
	`showjobs
(0, 
mode
);

296 (
id
 = *
¬gv
++è!ğ
NULL
)

297 
	`showjob
(
	`g‘job
(
id
), 0, 
mode
);

300 
	}
}

303 
	$showjob
(
job
 *
jp
, 
pid_t
 
pid
, 
mode
)

305 
s
[64];

306 
´oc¡©
 *
ps
;

307 
job
 *
j
;

308 
cŞ
, 
cu¼
, 
i
, 
jobno
, 
´ev
, 
´oúo
;

309 
pid_t
 
µid
;

310 
c
;

312 
´oúo
 = (
mode
 =ğ
SHOWJOBS_PGIDS
è? 1 : 
jp
->
Årocs
;

313 
jobno
 = 
jp
 - 
jobb
 + 1;

314 
cu¼
 = 
´ev
 = 0;

315 #ià
JOBS


316 ià((
j
 = 
	`g‘curjob
(
NULL
)) != NULL) {

317 
cu¼
 = 
j
 - 
jobb
 + 1;

318 ià((
j
 = 
	`g‘curjob
(j)è!ğ
NULL
)

319 
´ev
 = 
j
 - 
jobb
 + 1;

322 
ps
 = 
jp
->ps ; ;…s++) {

323 ià(
mode
 =ğ
SHOWJOBS_PIDS
 || mod=ğ
SHOWJOBS_PGIDS
) {

324 
µid
 = (
mode
 =ğ
SHOWJOBS_PIDS
è? 
ps
->
pid
 :

325 
	`g‘pgid
(
ps
->
pid
);

326 
	`out1fmt
("%d\n", ()
µid
);

327 
sk
;

329 ià(
mode
 !ğ
SHOWJOBS_VERBOSE
 && 
ps
 !ğ
jp
->p && 
pid
 == 0)

330 
sk
;

331 ià(
pid
 !ğ0 &&…id !ğ
ps
->pid)

332 
sk
;

333 ià(
jobno
 =ğ
cu¼
 && 
ps
 =ğ
jp
->ps)

334 
c
 = '+';

335 ià(
jobno
 =ğ
´ev
 && 
ps
 =ğ
jp
->ps)

336 
c
 = '-';

338 
c
 = ' ';

339 ià(
ps
 =ğ
jp
->ps)

340 
	`fmt¡r
(
s
, 64, "[%d] %ø", 
jobno
, 
c
);

342 
	`fmt¡r
(
s
, 64, " %ø", 
c
);

343 
	`out1¡r
(
s
);

344 
cŞ
 = 
	`¡¾’
(
s
);

345 ià(
mode
 =ğ
SHOWJOBS_VERBOSE
) {

346 
	`fmt¡r
(
s
, 64, "%d ", ()
ps
->
pid
);

347 
	`out1¡r
(
s
);

348 
cŞ
 +ğ
	`¡¾’
(
s
);

350 
s
[0] = '\0';

351 ià(
ps
 !ğ
jp
->ps) {

352 *
s
 = '\0';

353 } ià(
ps
->
¡©us
 == -1) {

354 
	`¡rıy
(
s
, "Running");

355 } ià(
	`WIFEXITED
(
ps
->
¡©us
)) {

356 ià(
	`WEXITSTATUS
(
ps
->
¡©us
) == 0)

357 
	`¡rıy
(
s
, "Done");

359 
	`fmt¡r
(
s
, 64, "Done (%d)",

360 
	`WEXITSTATUS
(
ps
->
¡©us
));

362 #ià
JOBS


363 ià(
	`WIFSTOPPED
(
ps
->
¡©us
))

364 
i
 = 
	`WSTOPSIG
(
ps
->
¡©us
);

367 
i
 = 
	`WTERMSIG
(
ps
->
¡©us
);

368 ià((
i
 & 0x7Fè< 
sys_nsig
 && 
sys_sigli¡
[i & 0x7F])

369 
	`scİy
(
sys_sigli¡
[
i
 & 0x7F], 
s
);

371 
	`fmt¡r
(
s
, 64, "SigÇÈ%d", 
i
 & 0x7F);

372 ià(
	`WCOREDUMP
(
ps
->
¡©us
))

373 
	`¡rÿt
(
s
, " (core dumped)");

375 
	`out1¡r
(
s
);

376 
cŞ
 +ğ
	`¡¾’
(
s
);

378 
	`out1c
(' ');

379 
cŞ
++;

380 } 
cŞ
 < 30);

381 
	`out1¡r
(
ps
->
cmd
);

382 
	`out1c
('\n');

383 
sk
: ià(--
´oúo
 <= 0)

386 
	}
}

398 
	$showjobs
(
chªge
, 
mode
)

400 
jobno
;

401 
job
 *
jp
;

403 
	`TRACE
(("showjobs(%dèÿÎed\n", 
chªge
));

404 
	`checkzomb›s
();

405 
jobno
 = 1, 
jp
 = 
jobb
 ; jobnØ<ğ
njobs
 ; jobno++, jp++) {

406 ià(! 
jp
->
u£d
)

408 ià(
jp
->
Årocs
 == 0) {

409 
	`ä“job
(
jp
);

412 ià(
chªge
 && ! 
jp
->
chªged
)

414 
	`showjob
(
jp
, 0, 
mode
);

415 
jp
->
chªged
 = 0;

416 ià(
jp
->
¡©e
 =ğ
JOBDONE
) {

417 
	`ä“job
(
jp
);

420 
	}
}

428 
	$ä“job
(
job
 *
jp
)

430 
´oc¡©
 *
ps
;

431 
i
;

433 
INTOFF
;

434 
i
 = 
jp
->
Årocs
, 
ps
 = jp->ps ; --i >= 0 ;…s++) {

435 ià(
ps
->
cmd
 !ğ
nuÎ¡r
)

436 
	`ckä“
(
ps
->
cmd
);

438 ià(
jp
->
ps
 !ğ&jp->
ps0
)

439 
	`ckä“
(
jp
->
ps
);

440 
jp
->
u£d
 = 0;

441 #ià
JOBS


442 
	`d–job
(
jp
);

444 
INTON
;

445 
	}
}

450 
	$wa™cmd
(
¬gc
, **
¬gv
)

452 
job
 *job;

453 
¡©us
, 
»tv®
;

454 
job
 *
jp
;

456 ià(
¬gc
 > 1) {

457 
job
 = 
	`g‘job
(
¬gv
[1]);

459 
job
 = 
NULL
;

467 
š_wa™cmd
++;

469 ià(
job
 !ğ
NULL
) {

470 ià(
job
->
¡©e
) {

471 
¡©us
 = 
job
->
ps
[job->
Årocs
 - 1].status;

472 ià(
	`WIFEXITED
(
¡©us
))

473 
»tv®
 = 
	`WEXITSTATUS
(
¡©us
);

474 #ià
JOBS


475 ià(
	`WIFSTOPPED
(
¡©us
))

476 
»tv®
 = 
	`WSTOPSIG
(
¡©us
) + 128;

479 
»tv®
 = 
	`WTERMSIG
(
¡©us
) + 128;

480 ià(! 
iæag
)

481 
	`ä“job
(
job
);

482 
š_wa™cmd
--;

483  
»tv®
;

486 
jp
 = 
jobb
 ; ; jp++) {

487 ià(
jp
 >ğ
jobb
 + 
njobs
) {

488 
š_wa™cmd
--;

491 ià(
jp
->
u£d
 && jp->
¡©e
 == 0)

495 } 
	`dowa™
(1, (
job
 *)
NULL
) != -1);

496 
š_wa™cmd
--;

499 
	}
}

504 
	$jobidcmd
(
¬gc
 
__unu£d
, **
¬gv
)

506 
job
 *
jp
;

507 
i
;

509 
jp
 = 
	`g‘job
(
¬gv
[1]);

510 
i
 = 0 ; i < 
jp
->
Årocs
 ; ) {

511 
	`out1fmt
("%d", ()
jp
->
ps
[
i
].
pid
);

512 
	`out1c
(++
i
 < 
jp
->
Årocs
? ' ' : '\n');

515 
	}
}

523 
job
 *

524 
	$g‘job
(*
Çme
)

526 
jobno
;

527 
job
 *
found
, *
jp
;

528 
pid_t
 
pid
;

529 
i
;

531 ià(
Çme
 =ğ
NULL
) {

532 #ià
JOBS


533 
cu¼’tjob
: ià((
jp
 = 
	`g‘curjob
(
NULL
)) == NULL)

534 
	`”rÜ
("No current job");

535  (
jp
);

537 
	`”rÜ
("No current job");

539 } ià(
Çme
[0] == '%') {

540 ià(
	`is_dig™
(
Çme
[1])) {

541 
jobno
 = 
	`numb”
(
Çme
 + 1);

542 ià(
jobno
 > 0 && jobnØ<ğ
njobs


543 && 
jobb
[
jobno
 - 1].
u£d
 != 0)

544  &
jobb
[
jobno
 - 1];

545 #ià
JOBS


546 } ià(
Çme
[1] == '%' &&‚ame[2] == '\0') {

547 
cu¼’tjob
;

548 } ià(
Çme
[1] == '+' &&‚ame[2] == '\0') {

549 
cu¼’tjob
;

550 } ià(
Çme
[1] == '-' &&‚ame[2] == '\0') {

551 ià((
jp
 = 
	`g‘curjob
(
NULL
)) == NULL ||

552 (
jp
 = 
	`g‘curjob
(jp)è=ğ
NULL
)

553 
	`”rÜ
("No…revious job");

554  (
jp
);

556 } ià(
Çme
[1] == '?') {

557 
found
 = 
NULL
;

558 
jp
 = 
jobb
, 
i
 = 
njobs
 ; --i >= 0 ; jp++) {

559 ià(
jp
->
u£d
 && jp->
Årocs
 > 0

560 && 
	`¡r¡r
(
jp
->
ps
[0].
cmd
, 
Çme
 + 2è!ğ
NULL
) {

561 ià(
found
)

562 
	`”rÜ
("%s:‡mbiguous", 
Çme
);

563 
found
 = 
jp
;

566 ià(
found
 !ğ
NULL
)

567  (
found
);

569 
found
 = 
NULL
;

570 
jp
 = 
jobb
, 
i
 = 
njobs
 ; --i >= 0 ; jp++) {

571 ià(
jp
->
u£d
 && jp->
Årocs
 > 0

572 && 
	`´efix
(
Çme
 + 1, 
jp
->
ps
[0].
cmd
)) {

573 ià(
found
)

574 
	`”rÜ
("%s:‡mbiguous", 
Çme
);

575 
found
 = 
jp
;

578 ià(
found
)

579  
found
;

581 } ià(
	`is_numb”
(
Çme
)) {

582 
pid
 = (
pid_t
)
	`numb”
(
Çme
);

583 
jp
 = 
jobb
, 
i
 = 
njobs
 ; --i >= 0 ; jp++) {

584 ià(
jp
->
u£d
 && jp->
Årocs
 > 0

585 && 
jp
->
ps
[jp->
Årocs
 - 1].
pid
 ==…id)

586  
jp
;

589 
	`”rÜ
("NØsuch job: %s", 
Çme
);

591  
NULL
;

592 
	}
}

600 
job
 *

601 
	$makejob
(
node
 *nod
__unu£d
, 
Årocs
)

603 
i
;

604 
job
 *
jp
;

606 
i
 = 
njobs
, 
jp
 = 
jobb
 ; ; jp++) {

607 ià(--
i
 < 0) {

608 
INTOFF
;

609 ià(
njobs
 == 0) {

610 
jobb
 = 
	`ckm®loc
(4 *  jobtab[0]);

611 #ià
JOBS


612 
jobmru
 = 
NULL
;

615 
jp
 = 
	`ckm®loc
((
njobs
 + 4è*  
jobb
[0]);

616 
	`memıy
(
jp
, 
jobb
, 
njobs
 *  jp[0]);

617 #ià
JOBS


619 ià(
jobmru
 !ğ
NULL
)

620 
jobmru
 = &
jp
[jobmru - 
jobb
];

621 
i
 = 0; i < 
njobs
; i++)

622 ià(
jp
[
i
].
Ãxt
 !ğ
NULL
)

623 
jp
[
i
].
Ãxt
 = &jp[jp[i].next -

624 
jobb
];

627 
i
 = 0; i < 
njobs
; i++)

628 ià(
jp
[
i
].
ps
 =ğ&
jobb
[i].
ps0
)

629 
jp
[
i
].
ps
 = &jp[i].
ps0
;

630 
	`ckä“
(
jobb
);

631 
jobb
 = 
jp
;

633 
jp
 = 
jobb
 + 
njobs
;

634 
i
 = 4 ; --˜>ğ0 ; 
jobb
[
njobs
++].
u£d
 = 0);

635 
INTON
;

638 ià(
jp
->
u£d
 == 0)

641 
INTOFF
;

642 
jp
->
¡©e
 = 0;

643 
jp
->
u£d
 = 1;

644 
jp
->
chªged
 = 0;

645 
jp
->
Årocs
 = 0;

646 
jp
->
fÜeground
 = 0;

647 #ià
JOBS


648 
jp
->
jobùl
 = jobctl;

649 
jp
->
Ãxt
 = 
NULL
;

651 ià(
Årocs
 > 1) {

652 
jp
->
ps
 = 
	`ckm®loc
(
Årocs
 *  (
´oc¡©
));

654 
jp
->
ps
 = &jp->
ps0
;

656 
INTON
;

657 
	`TRACE
(("makejob(%p, %dè»tuº %%%td\n", (*)
node
, 
Årocs
,

658 
jp
 - 
jobb
 + 1));

659  
jp
;

660 
	}
}

662 #ià
JOBS


664 
	$£tcurjob
(
job
 *
cj
)

666 
job
 *
jp
, *
´ev
;

668 
´ev
 = 
NULL
, 
jp
 = 
jobmru
; j°!ğNULL;…»v = jp, j°ğjp->
Ãxt
) {

669 ià(
jp
 =ğ
cj
) {

670 ià(
´ev
 !ğ
NULL
)

671 
´ev
->
Ãxt
 = 
jp
->next;

673 
jobmru
 = 
jp
->
Ãxt
;

674 
jp
->
Ãxt
 = 
jobmru
;

675 
jobmru
 = 
cj
;

679 
cj
->
Ãxt
 = 
jobmru
;

680 
jobmru
 = 
cj
;

681 
	}
}

684 
	$d–job
(
job
 *
j
)

686 
job
 *
jp
, *
´ev
;

688 
´ev
 = 
NULL
, 
jp
 = 
jobmru
; j°!ğNULL;…»v = jp, j°ğjp->
Ãxt
) {

689 ià(
jp
 =ğ
j
) {

690 ià(
´ev
 !ğ
NULL
)

691 
´ev
->
Ãxt
 = 
jp
->next;

693 
jobmru
 = 
jp
->
Ãxt
;

697 
	}
}

703 
job
 *

704 
	$g‘curjob
(
job
 *
nj
)

706 
job
 *
jp
;

709 
jp
 = 
jobmru
; j°!ğ
NULL
; j°ğjp->
Ãxt
)

710 ià(
jp
->
u£d
 && j°!ğ
nj
 && jp->
¡©e
 =ğ
JOBSTOPPED
)

711  (
jp
);

713 
jp
 = 
jobmru
; j°!ğ
NULL
; j°ğjp->
Ãxt
)

714 ià(
jp
->
u£d
 && j°!ğ
nj
)

715  (
jp
);

717  (
NULL
);

718 
	}
}

737 
pid_t


738 
	$fÜksh–l
(
job
 *
jp
, 
node
 *
n
, 
mode
)

740 
pid_t
 
pid
;

741 
pid_t
 
pg½
;

743 
	`TRACE
(("fÜksh–l(%%%td, %p, %dèÿÎed\n", 
jp
 - 
jobb
, (*)
n
,

744 
mode
));

745 
INTOFF
;

746 ià(
mode
 =ğ
FORK_BG
 && (
jp
 =ğ
NULL
 || jp->
Årocs
 == 0))

747 
	`checkzomb›s
();

748 
	`æush®l
();

749 
pid
 = 
	`fÜk
();

750 ià(
pid
 == -1) {

751 
	`TRACE
(("FÜk faed,ƒ¼no=%d\n", 
”ºo
));

752 
INTON
;

753 
	`”rÜ
("CªnÙ fÜk: %s", 
	`¡»¼Ü
(
”ºo
));

755 ià(
pid
 == 0) {

756 
job
 *
p
;

757 
wa¤oÙ
;

758 
i
;

760 
	`TRACE
(("Chd sh–È%d\n", ()
	`g‘pid
()));

761 
wa¤oÙ
 = 
roÙsh–l
;

762 
roÙsh–l
 = 0;

763 
	`şo£süt
();

764 
INTON
;

765 
	`ş—r_Œ­s
();

766 #ià
JOBS


767 
jobùl
 = 0;

768 ià(
wa¤oÙ
 && 
mode
 !ğ
FORK_NOJOB
 && 
mæag
) {

769 ià(
jp
 =ğ
NULL
 || jp->
Årocs
 == 0)

770 
pg½
 = 
	`g‘pid
();

772 
pg½
 = 
jp
->
ps
[0].
pid
;

773 ià(
	`£gid
(0, 
pg½
è=ğ0 && 
mode
 =ğ
FORK_FG
) {

775 ià(
	`tc£g½
(
‰yfd
, 
pg½
) < 0)

776 
	`”rÜ
("tc£g½ faed,ƒ¼no=%d", 
”ºo
);

778 
	`£tsigÇl
(
SIGTSTP
);

779 
	`£tsigÇl
(
SIGTTOU
);

780 } ià(
mode
 =ğ
FORK_BG
) {

781 
	`ignÜesig
(
SIGINT
);

782 
	`ignÜesig
(
SIGQUIT
);

783 ià((
jp
 =ğ
NULL
 || jp->
Årocs
 == 0) &&

784 ! 
	`fd0_»dœeùed_p
 ()) {

785 
	`şo£
(0);

786 ià(
	`İ’
(
_PATH_DEVNULL
, 
O_RDONLY
) != 0)

787 
	`”rÜ
("Can't open %s: %s",

788 
_PATH_DEVNULL
, 
	`¡»¼Ü
(
”ºo
));

792 ià(
mode
 =ğ
FORK_BG
) {

793 
	`ignÜesig
(
SIGINT
);

794 
	`ignÜesig
(
SIGQUIT
);

795 ià((
jp
 =ğ
NULL
 || jp->
Årocs
 == 0) &&

796 ! 
	`fd0_»dœeùed_p
 ()) {

797 
	`şo£
(0);

798 ià(
	`İ’
(
_PATH_DEVNULL
, 
O_RDONLY
) != 0)

799 
	`”rÜ
("Can't open %s: %s",

800 
_PATH_DEVNULL
, 
	`¡»¼Ü
(
”ºo
));

804 
INTOFF
;

805 
i
 = 
njobs
, 
p
 = 
jobb
 ; --i >= 0 ;…++)

806 ià(
p
->
u£d
)

807 
	`ä“job
(
p
);

808 
INTON
;

809 ià(
wa¤oÙ
 && 
iæag
) {

810 
	`£tsigÇl
(
SIGINT
);

811 
	`£tsigÇl
(
SIGQUIT
);

812 
	`£tsigÇl
(
SIGTERM
);

814  
pid
;

816 ià(
roÙsh–l
 && 
mode
 !ğ
FORK_NOJOB
 && 
mæag
) {

817 ià(
jp
 =ğ
NULL
 || jp->
Årocs
 == 0)

818 
pg½
 = 
pid
;

820 
pg½
 = 
jp
->
ps
[0].
pid
;

821 
	`£gid
(
pid
, 
pg½
);

823 ià(
mode
 =ğ
FORK_BG
)

824 
backgndpid
 = 
pid
;

825 ià(
jp
) {

826 
´oc¡©
 *
ps
 = &
jp
->ps[jp->
Årocs
++];

827 
ps
->
pid
 =…id;

828 
ps
->
¡©us
 = -1;

829 
ps
->
cmd
 = 
nuÎ¡r
;

830 ià(
iæag
 && 
roÙsh–l
 && 
n
)

831 
ps
->
cmd
 = 
	`commªd‹xt
(
n
);

832 
jp
->
fÜeground
 = 
mode
 =ğ
FORK_FG
;

833 #ià
JOBS


834 
	`£tcurjob
(
jp
);

837 
INTON
;

838 
	`TRACE
(("IÀ·»Á sh–l: chd = %d\n", ()
pid
));

839  
pid
;

840 
	}
}

864 
	$wa™fÜjob
(
job
 *
jp
, *
Üig¡©us
)

866 #ià
JOBS


867 
pid_t
 
mypg½
 = 
	`g‘pg½
();

868 
´İag©e_št
 = 
jp
->
jobùl
 && jp->
fÜeground
;

870 
¡©us
;

871 
¡
;

873 
INTOFF
;

874 
	`TRACE
(("wa™fÜjob(%%%tdèÿÎed\n", 
jp
 - 
jobb
 + 1));

875 
jp
->
¡©e
 == 0)

876 ià(
	`dowa™
(1, 
jp
) == -1)

877 
	`dÙ¿p
();

878 #ià
JOBS


879 ià(
jp
->
jobùl
) {

880 ià(
	`tc£g½
(
‰yfd
, 
mypg½
) < 0)

881 
	`”rÜ
("tc£g½ faed,ƒ¼no=%d\n", 
”ºo
);

883 ià(
jp
->
¡©e
 =ğ
JOBSTOPPED
)

884 
	`£tcurjob
(
jp
);

886 
¡©us
 = 
jp
->
ps
[jp->
Årocs
 - 1].status;

887 ià(
Üig¡©us
 !ğ
NULL
)

888 *
Üig¡©us
 = 
¡©us
;

890 ià(
	`WIFEXITED
(
¡©us
))

891 
¡
 = 
	`WEXITSTATUS
(
¡©us
);

892 #ià
JOBS


893 ià(
	`WIFSTOPPED
(
¡©us
))

894 
¡
 = 
	`WSTOPSIG
(
¡©us
) + 128;

897 
¡
 = 
	`WTERMSIG
(
¡©us
) + 128;

898 ià(! 
JOBS
 || 
jp
->
¡©e
 =ğ
JOBDONE
)

899 
	`ä“job
(
jp
);

900 ià(
	`št_³ndšg
()) {

901 ià(
	`WIFSIGNALED
(
¡©us
è&& 
	`WTERMSIG
(¡©usè=ğ
SIGINT
)

902 
	`kl
(
	`g‘pid
(), 
SIGINT
);

904 
CLEAR_PENDING_INT
;

906 #ià
JOBS


907 ià(
roÙsh–l
 && 
iæag
 && 
´İag©e_št
 &&

908 
	`WIFSIGNALED
(
¡©us
è&& 
	`WTERMSIG
(¡©usè=ğ
SIGINT
)

909 
	`kl
(
	`g‘pid
(), 
SIGINT
);

911 
INTON
;

912  
¡
;

913 
	}
}

921 
pid_t


922 
	$dowa™
(
block
, 
job
 *job)

924 
pid_t
 
pid
;

925 
¡©us
;

926 
´oc¡©
 *
¥
;

927 
job
 *
jp
;

928 
job
 *
thisjob
;

929 
dÚe
;

930 
¡İ³d
;

931 
sig
;

932 
i
;

934 
š_dowa™
++;

935 
	`TRACE
(("dowa™(%dèÿÎed\n", 
block
));

937 
pid
 = 
	`wa™´oc
(
block
, &
¡©us
);

938 
	`TRACE
(("wa™„‘uº %d, stus=%d\n", ()
pid
, 
¡©us
));

939 } (
pid
 =ğ-1 && 
”ºo
 =ğ
EINTR
 && 
b»akwa™cmd
 == 0) ||

940 (
pid
 > 0 && 
	`WIFSTOPPED
(
¡©us
è&& !
iæag
));

941 
š_dowa™
--;

942 ià(
pid
 =ğ-1 && 
”ºo
 =ğ
ECHILD
 && 
job
 !ğ
NULL
)

943 
job
->
¡©e
 = 
JOBDONE
;

944 ià(
b»akwa™cmd
 != 0) {

945 
b»akwa™cmd
 = 0;

946 ià(
pid
 <= 0)

949 ià(
pid
 <= 0)

950  
pid
;

951 
INTOFF
;

952 
thisjob
 = 
NULL
;

953 
jp
 = 
jobb
 ; j°< jobb + 
njobs
 ; jp++) {

954 ià(
jp
->
u£d
 && jp->
Årocs
 > 0) {

955 
dÚe
 = 1;

956 
¡İ³d
 = 1;

957 
¥
 = 
jp
->
ps
 ; s°< jp->p + jp->
Årocs
 ; sp++) {

958 ià(
¥
->
pid
 == -1)

960 ià(
¥
->
pid
 ==…id) {

961 
	`TRACE
(("Changing status of…roc %d from 0x%xo 0x%x\n",

962 ()
pid
, 
¥
->
¡©us
,

963 
¡©us
));

964 
¥
->
¡©us
 = status;

965 
thisjob
 = 
jp
;

967 ià(
¥
->
¡©us
 == -1)

968 
¡İ³d
 = 0;

969 ià(
	`WIFSTOPPED
(
¥
->
¡©us
))

970 
dÚe
 = 0;

972 ià(
¡İ³d
) {

973 
¡©e
 = 
dÚe
? 
JOBDONE
 : 
JOBSTOPPED
;

974 ià(
jp
->
¡©e
 != state) {

975 
	`TRACE
(("Job %td: chªgšg s‹ from %dØ%d\n", 
jp
 - 
jobb
 + 1, jp->
¡©e
, state));

976 
jp
->
¡©e
 = state;

977 #ià
JOBS


978 ià(
dÚe
)

979 
	`d–job
(
jp
);

985 
INTON
;

986 ià(! 
roÙsh–l
 || ! 
iæag
 || (
job
 && 
thisjob
 == job)) {

987 #ià
JOBS


988 ià(
	`WIFSTOPPED
(
¡©us
))

989 
sig
 = 
	`WSTOPSIG
(
¡©us
);

993 ià(
	`WIFEXITED
(
¡©us
))

994 
sig
 = 0;

996 
sig
 = 
	`WTERMSIG
(
¡©us
);

998 ià(
sig
 !ğ0 && sig !ğ
SIGINT
 && sig !ğ
SIGPIPE
) {

999 ià(!
mæag
 ||

1000 (
thisjob
->
fÜeground
 && !
	`WIFSTOPPED
(
¡©us
))) {

1001 
i
 = 
	`WTERMSIG
(
¡©us
);

1002 ià((
i
 & 0x7Fè< 
sys_nsig
 && 
sys_sigli¡
[i & 0x7F])

1003 
	`out1¡r
(
sys_sigli¡
[
i
 & 0x7F]);

1005 
	`out1fmt
("SigÇÈ%d", 
i
 & 0x7F);

1006 ià(
	`WCOREDUMP
(
¡©us
))

1007 
	`out1¡r
(" (core dumped)");

1008 
	`out1c
('\n');

1010 
	`showjob
(
thisjob
, 
pid
, 
SHOWJOBS_DEFAULT
);

1011 
	`æushout
(
out1
);

1014 
	`TRACE
(("NÙ…rštšg stus,„oÙsh–l=%d, job=%p\n", 
roÙsh–l
, 
job
));

1015 ià(
thisjob
)

1016 
thisjob
->
chªged
 = 1;

1018  
pid
;

1019 
	}
}

1028 
pid_t


1029 
	$wa™´oc
(
block
, *
¡©us
)

1031 
æags
;

1033 #ià
JOBS


1034 
æags
 = 
WUNTRACED
;

1036 
æags
 = 0;

1038 ià(
block
 == 0)

1039 
æags
 |ğ
WNOHANG
;

1040  
	`wa™3
(
¡©us
, 
æags
, (
ru§ge
 *)
NULL
);

1041 
	}
}

1046 
	gjob_w¬nšg
 = 0;

1048 
	$¡İ³djobs
()

1050 
jobno
;

1051 
job
 *
jp
;

1053 ià(
job_w¬nšg
)

1055 
jobno
 = 1, 
jp
 = 
jobb
; jobnØ<ğ
njobs
; jobno++, jp++) {

1056 ià(
jp
->
u£d
 == 0)

1058 ià(
jp
->
¡©e
 =ğ
JOBSTOPPED
) {

1059 
	`out2¡r
("You have stopped jobs.\n");

1060 
job_w¬nšg
 = 2;

1066 
	}
}

1070 
	$checkzomb›s
()

1072 
njobs
 > 0 && 
	`dowa™
(0, 
NULL
) > 0)

1074 
	}
}

1082 *
	gcmdÃxtc
;

1083 
	gcmdÆeá
;

1084 
	#MAXCMDTEXT
 200

	)

1087 
	$commªd‹xt
(
node
 *
n
)

1089 *
Çme
;

1091 
cmdÃxtc
 = 
Çme
 = 
	`ckm®loc
(
MAXCMDTEXT
);

1092 
cmdÆeá
 = 
MAXCMDTEXT
 - 4;

1093 
	`cmdtxt
(
n
);

1094 *
cmdÃxtc
 = '\0';

1095  
Çme
;

1096 
	}
}

1100 
	$cmdtxt
(
node
 *
n
)

1102 
node
 *
Å
;

1103 
nod–i¡
 *
Í
;

1104 cÚ¡ *
p
;

1105 
i
;

1106 
s
[2];

1108 ià(
n
 =ğ
NULL
)

1110 
n
->
ty³
) {

1111 
NSEMI
:

1112 
	`cmdtxt
(
n
->
nbš¬y
.
ch1
);

1113 
	`cmdputs
("; ");

1114 
	`cmdtxt
(
n
->
nbš¬y
.
ch2
);

1116 
NAND
:

1117 
	`cmdtxt
(
n
->
nbš¬y
.
ch1
);

1118 
	`cmdputs
(" && ");

1119 
	`cmdtxt
(
n
->
nbš¬y
.
ch2
);

1121 
NOR
:

1122 
	`cmdtxt
(
n
->
nbš¬y
.
ch1
);

1123 
	`cmdputs
(" || ");

1124 
	`cmdtxt
(
n
->
nbš¬y
.
ch2
);

1126 
NPIPE
:

1127 
Í
 = 
n
->
Åe
.
cmdli¡
 ;†°;†°ğÍ->
Ãxt
) {

1128 
	`cmdtxt
(
Í
->
n
);

1129 ià(
Í
->
Ãxt
)

1130 
	`cmdputs
(" | ");

1133 
NSUBSHELL
:

1134 
	`cmdputs
("(");

1135 
	`cmdtxt
(
n
->
Äedœ
.n);

1136 
	`cmdputs
(")");

1138 
NREDIR
:

1139 
NBACKGND
:

1140 
	`cmdtxt
(
n
->
Äedœ
.n);

1142 
NIF
:

1143 
	`cmdputs
("if ");

1144 
	`cmdtxt
(
n
->
nif
.
‹¡
);

1145 
	`cmdputs
(";hen ");

1146 
	`cmdtxt
(
n
->
nif
.
iå¬t
);

1147 
	`cmdputs
("...");

1149 
NWHILE
:

1150 
	`cmdputs
("while ");

1151 
uÁ
;

1152 
NUNTIL
:

1153 
	`cmdputs
("until ");

1154 
uÁ
:

1155 
	`cmdtxt
(
n
->
nbš¬y
.
ch1
);

1156 
	`cmdputs
("; do ");

1157 
	`cmdtxt
(
n
->
nbš¬y
.
ch2
);

1158 
	`cmdputs
("; done");

1160 
NFOR
:

1161 
	`cmdputs
("for ");

1162 
	`cmdputs
(
n
->
nfÜ
.
v¬
);

1163 
	`cmdputs
(" in ...");

1165 
NCASE
:

1166 
	`cmdputs
("case ");

1167 
	`cmdputs
(
n
->
nÿ£
.
ex´
->
Çrg
.
‹xt
);

1168 
	`cmdputs
(" in ...");

1170 
NDEFUN
:

1171 
	`cmdputs
(
n
->
Çrg
.
‹xt
);

1172 
	`cmdputs
("() ...");

1174 
NCMD
:

1175 
Å
 = 
n
->
ncmd
.
¬gs
 ;‚°;‚°ğÅ->
Çrg
.
Ãxt
) {

1176 
	`cmdtxt
(
Å
);

1177 ià(
Å
->
Çrg
.
Ãxt
)

1178 
	`cmdputs
(" ");

1180 
Å
 = 
n
->
ncmd
.
»dœeù
 ;‚°;‚°ğÅ->
nfe
.
Ãxt
) {

1181 
	`cmdputs
(" ");

1182 
	`cmdtxt
(
Å
);

1185 
NARG
:

1186 
	`cmdputs
(
n
->
Çrg
.
‹xt
);

1188 
NTO
:

1189 
p
 = ">"; 
i
 = 1; 
»dœ
;

1190 
NAPPEND
:

1191 
p
 = ">>"; 
i
 = 1; 
»dœ
;

1192 
NTOFD
:

1193 
p
 = ">&"; 
i
 = 1; 
»dœ
;

1194 
NCLOBBER
:

1195 
p
 = ">|"; 
i
 = 1; 
»dœ
;

1196 
NFROM
:

1197 
p
 = "<"; 
i
 = 0; 
»dœ
;

1198 
NFROMTO
:

1199 
p
 = "<>"; 
i
 = 0; 
»dœ
;

1200 
NFROMFD
:

1201 
p
 = "<&"; 
i
 = 0; 
»dœ
;

1202 
»dœ
:

1203 ià(
n
->
nfe
.
fd
 !ğ
i
) {

1204 
s
[0] = 
n
->
nfe
.
fd
 + '0';

1205 
s
[1] = '\0';

1206 
	`cmdputs
(
s
);

1208 
	`cmdputs
(
p
);

1209 ià(
n
->
ty³
 =ğ
NTOFD
 ||‚->ty³ =ğ
NFROMFD
) {

1210 ià(
n
->
ndup
.
dupfd
 >= 0)

1211 
s
[0] = 
n
->
ndup
.
dupfd
 + '0';

1213 
s
[0] = '-';

1214 
s
[1] = '\0';

1215 
	`cmdputs
(
s
);

1217 
	`cmdtxt
(
n
->
nfe
.
âame
);

1220 
NHERE
:

1221 
NXHERE
:

1222 
	`cmdputs
("<<...");

1225 
	`cmdputs
("???");

1228 
	}
}

1233 
	$cmdputs
(cÚ¡ *
s
)

1235 cÚ¡ *
p
;

1236 *
q
;

1237 
c
;

1238 
subty³
 = 0;

1240 ià(
cmdÆeá
 <= 0)

1242 
p
 = 
s
;

1243 
q
 = 
cmdÃxtc
;

1244 (
c
 = *
p
++) != '\0') {

1245 ià(
c
 =ğ
CTLESC
)

1246 *
q
++ = *
p
++;

1247 ià(
c
 =ğ
CTLVAR
) {

1248 *
q
++ = '$';

1249 ià(--
cmdÆeá
 > 0)

1250 *
q
++ = '{';

1251 
subty³
 = *
p
++;

1252 } ià(
c
 =ğ'=' && 
subty³
 != 0) {

1253 *
q
++ = "}-+?="[(
subty³
 & 
VSTYPE
è- 
VSNORMAL
];

1254 
subty³
 = 0;

1255 } ià(
c
 =ğ
CTLENDVAR
) {

1256 *
q
++ = '}';

1257 } ià(
c
 =ğ
CTLBACKQ
 || c =ğCTLBACKQ+
CTLQUOTE
)

1258 
cmdÆeá
++;

1260 *
q
++ = 
c
;

1261 ià(--
cmdÆeá
 <= 0) {

1262 *
q
++ = '.';

1263 *
q
++ = '.';

1264 *
q
++ = '.';

1268 
cmdÃxtc
 = 
q
;

1269 
	}
}

	@sh/jobs.h

37 
	#FORK_FG
 0

	)

38 
	#FORK_BG
 1

	)

39 
	#FORK_NOJOB
 2

	)

41 
	~<sigÇl.h
>

50 
	s´oc¡©
 {

51 
pid_t
 
	mpid
;

52 
	m¡©us
;

53 *
	mcmd
;

58 
	#JOBSTOPPED
 1

	)

59 
	#JOBDONE
 2

	)

62 
	sjob
 {

63 
´oc¡©
 
	mps0
;

64 
´oc¡©
 *
	mps
;

65 
	mÅrocs
;

66 
pid_t
 
	mpg½
;

67 
	m¡©e
;

68 
	mu£d
;

69 
	mchªged
;

70 
	mfÜeground
;

71 #ià
JOBS


72 
	mjobùl
;

73 
job
 *
	mÃxt
;

78 
	mSHOWJOBS_DEFAULT
,

79 
	mSHOWJOBS_VERBOSE
,

80 
	mSHOWJOBS_PIDS
,

81 
	mSHOWJOBS_PGIDS


84 
pid_t
 
backgndpid
;

85 
job_w¬nšg
;

86 
š_wa™cmd
;

87 
š_dowa™
;

88 vŞ©
sig_©omic_t
 
b»akwa™cmd
;

90 
£tjobùl
();

91 
fgcmd
(, **);

92 
bgcmd
(, **);

93 
jobscmd
(, **);

94 
showjobs
(, );

95 
wa™cmd
(, **);

96 
jobidcmd
(, **);

97 
job
 *
makejob
(
node
 *, );

98 
pid_t
 
fÜksh–l
(
job
 *, 
node
 *, );

99 
wa™fÜjob
(
job
 *, *);

100 
¡İ³djobs
();

101 *
commªd‹xt
(
node
 *);

103 #ià! 
JOBS


104 
	#£tjobùl
(
Ú
è

	)

	@sh/mail.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)mail.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/mail.c,v 1.14.10.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

45 
	~"sh–l.h
"

46 
	~"exec.h
"

47 
	~"ma.h
"

48 
	~"v¬.h
"

49 
	~"ouut.h
"

50 
	~"mem®loc.h
"

51 
	~"”rÜ.h
"

52 
	~<sys/ty³s.h
>

53 
	~<sys/¡©.h
>

54 
	~<¡dlib.h
>

57 
	#MAXMBOXES
 10

	)

60 
	gnmboxes
;

61 
time_t
 
	gmatime
[
MAXMBOXES
];

72 
	$chkma
(
s’t
)

74 
i
;

75 cÚ¡ *
m·th
;

76 *
p
;

77 *
q
;

78 
¡ackm¬k
 
sm¬k
;

79 
¡©
 
¡©b
;

81 ià(
s’t
)

82 
nmboxes
 = 10;

83 ià(
nmboxes
 == 0)

85 
	`£t¡ackm¬k
(&
sm¬k
);

86 
m·th
 = 
	`m·th£t
()? 
	`m·thv®
(è: 
	`mav®
();

87 
i
 = 0 ; i < 
nmboxes
 ; i++) {

88 
p
 = 
	`·dvªû
(&
m·th
, 
nuÎ¡r
);

89 ià(
p
 =ğ
NULL
)

91 ià(*
p
 == '\0')

93 
q
 = 
p
 ; *q ; q++);

94 ià(
q
[-1] != '/')

95 
	`abÜt
();

96 
q
[-1] = '\0';

97 #ifdeà
nÙdef


98 ià(
	`¡©
(
p
, &
¡©b
) < 0)

99 
¡©b
.
¡_mtime
 = 0;

100 ià(
¡©b
.
¡_mtime
 > 
matime
[
i
] && ! 
s’t
) {

101 
	`out2¡r
(
·thİt
?…athopt : "you have mail");

102 
	`out2c
('\n');

104 
matime
[
i
] = 
¡©b
.
¡_mtime
;

106 ià(
	`¡©
(
p
, &
¡©b
) < 0)

107 
¡©b
.
¡_size
 = 0;

108 ià(
¡©b
.
¡_size
 > 
matime
[
i
] && ! 
s’t
) {

109 
	`out2¡r
(
·thİt
?…athopt : "you have mail");

110 
	`out2c
('\n');

112 
matime
[
i
] = 
¡©b
.
¡_size
;

115 
nmboxes
 = 
i
;

116 
	`pİ¡ackm¬k
(&
sm¬k
);

117 
	}
}

	@sh/mail.h

36 
chkma
();

	@sh/main.c

33 #iâdeà
lšt


34 cÚ¡ 
	gcİyright
[] =

39 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)main.c 8.6 (Berkeley) 5/28/95";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/sh/main.c,v 1.31.2.7.2.1 2012/03/03 06:15:13 kensmith Exp $");

47 
	~<¡dio.h
>

48 
	~<sigÇl.h
>

49 
	~<sys/¡©.h
>

50 
	~<uni¡d.h
>

51 
	~<fú.h
>

52 
	~<loÿË.h
>

53 
	~<”ºo.h
>

55 
	~"sh–l.h
"

56 
	~"maš.h
"

57 
	~"ma.h
"

58 
	~"İtiÚs.h
"

59 
	~"ouut.h
"

60 
	~"·r£r.h
"

61 
	~"nodes.h
"

62 
	~"ex·nd.h
"

63 
	~"ev®.h
"

64 
	~"jobs.h
"

65 
	~"šput.h
"

66 
	~"Œ­.h
"

67 
	~"v¬.h
"

68 
	~"show.h
"

69 
	~"mem®loc.h
"

70 
	~"”rÜ.h
"

71 
	~"š™.h
"

72 
	~"my¡ršg.h
"

73 
	~"exec.h
"

74 
	~"cd.h
"

76 
	groÙpid
;

77 
	groÙsh–l
;

79 
»ad_´ofe
(const *);

80 *
fšd_dÙ_fe
(*);

91 
	$maš
(
¬gc
, *
¬gv
[])

93 
jm¶oc
 jmploc;

94 
¡ackm¬k
 
sm¬k
;

95 vŞ©
¡©e
;

96 *
shš™
;

98 (è
	`£oÿË
(
LC_ALL
, "");

99 
¡©e
 = 0;

100 ià(
	`£tjmp
(
jm¶oc
.
loc
)) {

106 
exû±iÚ
) {

107 
EXSHELLPROC
:

108 
roÙpid
 = 
	`g‘pid
();

109 
roÙsh–l
 = 1;

110 
mšusc
 = 
NULL
;

111 
¡©e
 = 3;

114 
EXEXEC
:

115 
ex™¡©us
 = 
ex”ºo
;

118 
EXERROR
:

119 
ex™¡©us
 = 2;

126 ià(
exû±iÚ
 !ğ
EXSHELLPROC
) {

127 ià(
¡©e
 =ğ0 || 
iæag
 =ğ0 || ! 
roÙsh–l
)

128 
	`ex™sh–l
(
ex™¡©us
);

130 
	`»£t
();

131 ià(
exû±iÚ
 =ğ
EXINT
) {

132 
	`out2c
('\n');

133 
	`æushout
(&
”rout
);

135 
	`pİ¡ackm¬k
(&
sm¬k
);

136 
FORCEINTON
;

137 ià(
¡©e
 == 1)

138 
¡©e1
;

139 ià(
¡©e
 == 2)

140 
¡©e2
;

141 ià(
¡©e
 == 3)

142 
¡©e3
;

144 
¡©e4
;

146 
hªdËr
 = &
jm¶oc
;

147 #ifdeà
DEBUG


148 
	`İ’Œaû
();

149 
	`Œputs
("Sh–È¬gs: "); 
	`Œ¬gs
(
¬gv
);

151 
roÙpid
 = 
	`g‘pid
();

152 
roÙsh–l
 = 1;

153 
	`š™
();

154 
	`£t¡ackm¬k
(&
sm¬k
);

155 
	`´oÿrgs
(
¬gc
, 
¬gv
);

156 ià(
	`g‘pwd
(è=ğ
NULL
 && 
iæag
)

157 
	`out2¡r
("sh: cannot determine working directory\n");

158 ià(
	`g‘pwd
(è!ğ
NULL
)

159 
	`£tv¬
 ("PWD", 
	`g‘pwd
(), 
VEXPORT
);

160 ià(
iæag
)

161 
	`chkma
(1);

162 ià(
¬gv
[0] &&‡rgv[0][0] == '-') {

163 
¡©e
 = 1;

164 
	`»ad_´ofe
("/etc/profile");

165 
¡©e1
:

166 
¡©e
 = 2;

167 ià(
´iveged
 == 0)

168 
	`»ad_´ofe
(".profile");

170 
	`»ad_´ofe
("/etc/suid_profile");

172 
¡©e2
:

173 
¡©e
 = 3;

174 ià(!
´iveged
 && 
iæag
) {

175 ià((
shš™
 = 
	`lookupv¬
("ENV")è!ğ
NULL
 && *shinit != '\0') {

176 
¡©e
 = 3;

177 
	`»ad_´ofe
(
shš™
);

180 
¡©e3
:

181 
¡©e
 = 4;

182 ià(
mšusc
) {

183 
	`ev®¡ršg
(
mšusc
, 
sæag
 ? 0 : 
EV_EXIT
);

185 ià(
sæag
 || 
mšusc
 =ğ
NULL
) {

186 
¡©e4
:

187 
	`cmdloİ
(1);

189 
	`ex™sh–l
(
ex™¡©us
);

192 
	}
}

201 
	$cmdloİ
(
tİ
)

203 
node
 *
n
;

204 
¡ackm¬k
 
sm¬k
;

205 
š‹r
;

206 
numeof
 = 0;

208 
	`TRACE
(("cmdloİ(%dèÿÎed\n", 
tİ
));

209 
	`£t¡ackm¬k
(&
sm¬k
);

211 ià(
³ndšgsigs
)

212 
	`dÙ¿p
();

213 
š‹r
 = 0;

214 ià(
iæag
 && 
tİ
) {

215 
š‹r
++;

216 
	`showjobs
(1, 
SHOWJOBS_DEFAULT
);

217 
	`chkma
(0);

218 
	`æushout
(&
ouut
);

220 
n
 = 
	`·r£cmd
(
š‹r
);

222 ià(
n
 =ğ
NEOF
) {

223 ià(!
tİ
 || 
numeof
 >= 50)

225 ià(!
	`¡İ³djobs
()) {

226 ià(!
Iæag
)

228 
	`out2¡r
("\nUse \"exit\"o†eave shell.\n");

230 
numeof
++;

231 } ià(
n
 !ğ
NULL
 && 
næag
 == 0) {

232 
job_w¬nšg
 = (job_warning == 2) ? 1 : 0;

233 
numeof
 = 0;

234 
	`ev®Œ“
(
n
, 0);

236 
	`pİ¡ackm¬k
(&
sm¬k
);

237 
	`£t¡ackm¬k
(&
sm¬k
);

238 ià(
ev®sk
 =ğ
SKIPFILE
) {

239 
ev®sk
 = 0;

243 
	`pİ¡ackm¬k
(&
sm¬k
);

244 
	}
}

253 
	$»ad_´ofe
(cÚ¡ *
Çme
)

255 
fd
;

257 
INTOFF
;

258 ià((
fd
 = 
	`İ’
(
Çme
, 
O_RDONLY
)) >= 0)

259 
	`£tšputfd
(
fd
, 1);

260 
INTON
;

261 ià(
fd
 < 0)

263 
	`cmdloİ
(0);

264 
	`pİfe
();

265 
	}
}

274 
	$»adcmdfe
(cÚ¡ *
Çme
)

276 
fd
;

278 
INTOFF
;

279 ià((
fd
 = 
	`İ’
(
Çme
, 
O_RDONLY
)) >= 0)

280 
	`£tšputfd
(
fd
, 1);

282 
	`”rÜ
("Cª'ˆİ’ %s: %s", 
Çme
, 
	`¡»¼Ü
(
”ºo
));

283 
INTON
;

284 
	`cmdloİ
(0);

285 
	`pİfe
();

286 
	}
}

297 
	$fšd_dÙ_fe
(*
ba£Çme
)

299 *
fuÎÇme
;

300 cÚ¡ *
·th
 = 
	`·thv®
();

301 
¡©
 
¡©b
;

304 ifĞ
	`¡rchr
(
ba£Çme
, '/'))

305  
ba£Çme
;

307 (
fuÎÇme
 = 
	`·dvªû
(&
·th
, 
ba£Çme
)è!ğ
NULL
) {

308 ià((
	`¡©
(
fuÎÇme
, &
¡©b
è=ğ0è&& 
	`S_ISREG
(¡©b.
¡_mode
)) {

313  
fuÎÇme
;

315 
	`¡uÇÎoc
(
fuÎÇme
);

317  
ba£Çme
;

318 
	}
}

321 
	$dÙcmd
(
¬gc
, **
¬gv
)

323 *
fuÎÇme
;

325 ià(
¬gc
 < 2)

326 
	`”rÜ
("missing filename");

328 
ex™¡©us
 = 0;

330 
fuÎÇme
 = 
	`fšd_dÙ_fe
(
¬gv
[1]);

331 
	`£tšputfe
(
fuÎÇme
, 1);

332 
commªdÇme
 = 
fuÎÇme
;

333 
	`cmdloİ
(0);

334 
	`pİfe
();

335  
ex™¡©us
;

336 
	}
}

340 
	$ex™cmd
(
¬gc
, **
¬gv
)

342 ià(
	`¡İ³djobs
())

344 ià(
¬gc
 > 1)

345 
ex™¡©us
 = 
	`numb”
(
¬gv
[1]);

347 
ex™¡©us
 = 
Ûx™¡©us
;

348 
	`ex™sh–l
(
ex™¡©us
);

351 
	}
}

	@sh/main.h

36 
roÙpid
;

37 
roÙsh–l
;

39 
»adcmdfe
(const *);

40 
cmdloİ
();

41 
dÙcmd
(, **);

42 
ex™cmd
(, **);

	@sh/memalloc.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)memalloc.c 8.3 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/memalloc.c,v 1.28.2.4.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/·¿m.h
>

42 
	~"sh–l.h
"

43 
	~"ouut.h
"

44 
	~"mem®loc.h
"

45 
	~"”rÜ.h
"

46 
	~"my¡ršg.h
"

47 
	~"ex·nd.h
"

48 
	~<¡dlib.h
>

49 
	~<uni¡d.h
>

55 
poš‹r


56 
	$ckm®loc
(
size_t
 
nby‹s
)

58 
poš‹r
 
p
;

60 
INTOFF
;

61 
p
 = 
	`m®loc
(
nby‹s
);

62 
INTON
;

63 ià(
p
 =ğ
NULL
)

64 
	`”rÜ
("Out of space");

65  
p
;

66 
	}
}

73 
poš‹r


74 
	$ck»®loc
(
poš‹r
 
p
, 
nby‹s
)

76 
INTOFF
;

77 
p
 = 
	`»®loc
Õ, 
nby‹s
);

78 
INTON
;

79 ià(
p
 =ğ
NULL
)

80 
	`”rÜ
("Out of space");

81  
p
;

82 
	}
}

85 
	$ckä“
(
poš‹r
 
p
)

87 
INTOFF
;

88 
	`ä“
(
p
);

89 
INTON
;

90 
	}
}

98 
	$§ve¡r
(cÚ¡ *
s
)

100 *
p
;

102 
p
 = 
	`ckm®loc
(
	`¡¾’
(
s
) + 1);

103 
	`scİy
(
s
, 
p
);

104  
p
;

105 
	}
}

117 
	#MINSIZE
 496

	)

120 
	s¡ack_block
 {

121 
¡ack_block
 *
	m´ev
;

124 
	#SPACE
(
¥
è((*)(¥è+ 
	`ALIGN
((
¡ack_block
)))

	)

126 
¡ack_block
 *
	g¡ackp
;

127 
¡ackm¬k
 *
	gm¬kp
;

128 *
	g¡acknxt
;

129 
	g¡ackÆeá
;

130 
	gs¡ºËá
;

131 
	gh”efd
 = -1;

135 
	$¡Ãwblock
(
nby‹s
)

137 
¡ack_block
 *
¥
;

138 
®locsize
;

140 ià(
nby‹s
 < 
MINSIZE
)

141 
nby‹s
 = 
MINSIZE
;

143 
®locsize
 = 
	`ALIGN
((
¡ack_block
)è+ ALIGN(
nby‹s
);

145 
INTOFF
;

146 
¥
 = 
	`ckm®loc
(
®locsize
);

147 
¥
->
´ev
 = 
¡ackp
;

148 
¡acknxt
 = 
	`SPACE
(
¥
);

149 
¡ackÆeá
 = 
®locsize
 - (
¡acknxt
 - (*)
¥
);

150 
¡ackp
 = 
¥
;

151 
INTON
;

152 
	}
}

155 
poš‹r


156 
	$¡®loc
(
nby‹s
)

158 *
p
;

160 
nby‹s
 = 
	`ALIGN
(nbytes);

161 ià(
nby‹s
 > 
¡ackÆeá
)

162 
	`¡Ãwblock
(
nby‹s
);

163 
p
 = 
¡acknxt
;

164 
¡acknxt
 +ğ
nby‹s
;

165 
¡ackÆeá
 -ğ
nby‹s
;

166  
p
;

167 
	}
}

171 
	$¡uÇÎoc
(
poš‹r
 
p
)

173 ià(
p
 =ğ
NULL
) {

174 
	`wr™e
(
STDERR_FILENO
, "stunalloc\n", 10);

175 
	`abÜt
();

177 
¡ackÆeá
 +ğ
¡acknxt
 - (*)
p
;

178 
¡acknxt
 = 
p
;

179 
	}
}

184 
	$£t¡ackm¬k
(
¡ackm¬k
 *
m¬k
)

186 
m¬k
->
¡ackp
 = stackp;

187 
m¬k
->
¡acknxt
 = stacknxt;

188 
m¬k
->
¡ackÆeá
 = stacknleft;

189 
m¬k
->
m¬kÃxt
 = 
m¬kp
;

190 
m¬kp
 = 
m¬k
;

191 
	}
}

195 
	$pİ¡ackm¬k
(
¡ackm¬k
 *
m¬k
)

197 
¡ack_block
 *
¥
;

199 
INTOFF
;

200 
m¬kp
 = 
m¬k
->
m¬kÃxt
;

201 
¡ackp
 !ğ
m¬k
->stackp) {

202 
¥
 = 
¡ackp
;

203 
¡ackp
 = 
¥
->
´ev
;

204 
	`ckä“
(
¥
);

206 
¡acknxt
 = 
m¬k
->stacknxt;

207 
¡ackÆeá
 = 
m¬k
->stacknleft;

208 
INTON
;

209 
	}
}

223 
	$grow¡ackblock
()

225 *
p
;

226 
ÃwËn
;

227 *
Şd¥aû
;

228 
ŞdËn
;

229 
¡ack_block
 *
¥
;

230 
¡ack_block
 *
Şd¡ackp
;

231 
¡ackm¬k
 *
xm¬k
;

233 
ÃwËn
 = (
¡ackÆeá
 =ğ0è? 
MINSIZE
 : stacknleft * 2 + 100;

234 
ÃwËn
 = 
	`ALIGN
(newlen);

235 
Şd¥aû
 = 
¡acknxt
;

236 
ŞdËn
 = 
¡ackÆeá
;

238 ià(
¡ackp
 !ğ
NULL
 && 
¡acknxt
 =ğ
	`SPACE
(stackp)) {

239 
INTOFF
;

240 
Şd¡ackp
 = 
¡ackp
;

241 
¡ackp
 = 
Şd¡ackp
->
´ev
;

242 
¥
 = 
	`ck»®loc
((
poš‹r
)
Şd¡ackp
, 
ÃwËn
);

243 
¥
->
´ev
 = 
¡ackp
;

244 
¡ackp
 = 
¥
;

245 
¡acknxt
 = 
	`SPACE
(
¥
);

246 
¡ackÆeá
 = 
ÃwËn
 - (
¡acknxt
 - (*)
¥
);

252 
xm¬k
 = 
m¬kp
;

253 
xm¬k
 !ğ
NULL
 && xm¬k->
¡ackp
 =ğ
Şd¡ackp
) {

254 
xm¬k
->
¡ackp
 = stackp;

255 
xm¬k
->
¡acknxt
 = stacknxt;

256 
xm¬k
->
¡ackÆeá
 = stacknleft;

257 
xm¬k
 = xm¬k->
m¬kÃxt
;

259 
INTON
;

261 
p
 = 
	`¡®loc
(
ÃwËn
);

262 ià(
ŞdËn
 != 0)

263 
	`memıy
(
p
, 
Şd¥aû
, 
ŞdËn
);

264 
	`¡uÇÎoc
(
p
);

266 
	}
}

271 
	$g¿b¡ackblock
(
Ën
)

273 
Ën
 = 
	`ALIGN
(len);

274 
¡acknxt
 +ğ
Ën
;

275 
¡ackÆeá
 -ğ
Ën
;

276 
	}
}

299 
	$grow¡r¡ackblock
(
n
)

301 
	`grow¡ackblock
();

302 
s¡ºËá
 = 
	`¡ackblocksize
(è- 
n
;

303  
	`¡ackblock
(è+ 
n
;

304 
	}
}

307 
	$grow¡ack¡r
()

309 
Ën
;

311 
Ën
 = 
	`¡ackblocksize
();

312 ià(
h”efd
 >ğ0 && 
Ën
 >= 1024) {

313 
	`xwr™e
(
h”efd
, 
	`¡ackblock
(), 
Ën
);

314 
s¡ºËá
 = 
Ën
;

315  
	`¡ackblock
();

317  
	`grow¡r¡ackblock
(
Ën
);

318 
	}
}

326 
	$make¡r¥aû
()

328 
Ën
;

330 
Ën
 = 
	`¡ackblocksize
(è- 
s¡ºËá
;

331  
	`grow¡r¡ackblock
(
Ën
);

332 
	}
}

337 
	$ung¿b¡ack¡r
(*
s
, *
p
)

339 
¡ackÆeá
 +ğ
¡acknxt
 - 
s
;

340 
¡acknxt
 = 
s
;

341 
s¡ºËá
 = 
¡ackÆeá
 - (
p
 - 
s
);

342 
	}
}

	@sh/memalloc.h

36 
	~<¡ršg.h
>

38 
	s¡ackm¬k
 {

39 
¡ack_block
 *
	m¡ackp
;

40 *
	m¡acknxt
;

41 
	m¡ackÆeá
;

42 
¡ackm¬k
 *
	mm¬kÃxt
;

46 *
¡acknxt
;

47 
¡ackÆeá
;

48 
s¡ºËá
;

49 
h”efd
;

51 
poš‹r
 
ckm®loc
(
size_t
);

52 
poš‹r
 
ck»®loc
(pointer, );

53 
ckä“
(
poš‹r
);

54 *
§ve¡r
(const *);

55 
poš‹r
 
¡®loc
();

56 
¡uÇÎoc
(
poš‹r
);

57 
£t¡ackm¬k
(
¡ackm¬k
 *);

58 
pİ¡ackm¬k
(
¡ackm¬k
 *);

59 
grow¡ackblock
();

60 
g¿b¡ackblock
();

61 *
grow¡ack¡r
();

62 *
make¡r¥aû
();

63 
ung¿b¡ack¡r
(*, *);

67 
	#¡ackblock
(è
¡acknxt


	)

68 
	#¡ackblocksize
(è
¡ackÆeá


	)

69 
	#STARTSTACKSTR
(
p
è°ğ
	`¡ackblock
(), 
s¡ºËá
 = 
	`¡ackblocksize
()

	)

70 
	#STPUTC
(
c
, 
p
è(--
s¡ºËá
 >ğ0? (*p++ = (c)è: (°ğ
	`grow¡ack¡r
(), --s¡ºËá, *p++ = (c)))

	)

71 
	#CHECKSTRSPACE
(
n
, 
p
è{ ià(
s¡ºËá
 <‚è°ğ
	`make¡r¥aû
(); }

	)

72 
	#USTPUTC
(
c
, 
p
è(--
s¡ºËá
, *p++ = (c))

	)

80 
	#STACKSTRNUL
(
p
è(
s¡ºËá
 =ğ0? (°ğ
	`grow¡ack¡r
(), *°ğ'\0'è: (*°ğ'\0'))

	)

81 
	#STUNPUTC
(
p
è(++
s¡ºËá
, --p)

	)

82 
	#STTOPC
(
p
èp[-1]

	)

83 
	#STADJUST
(
amouÁ
, 
p
èÕ +ğ×mouÁ), 
s¡ºËá
 -ğ×mouÁ))

	)

84 
	#g¿b¡ack¡r
(
p
è
	`¡®loc
(
	`¡ackblocksize
(è- 
s¡ºËá
)

	)

	@sh/miscbltin.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)miscbltin.c 8.4 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/miscbltin.c,v 1.41.2.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

45 
	~<sys/ty³s.h
>

46 
	~<sys/¡©.h
>

47 
	~<sys/time.h
>

48 
	~<sys/»sourû.h
>

49 
	~<uni¡d.h
>

50 
	~<ùy³.h
>

51 
	~<”ºo.h
>

52 
	~<¡dšt.h
>

53 
	~<¡dio.h
>

54 
	~<¡dlib.h
>

55 
	~<‹rmios.h
>

57 
	~"sh–l.h
"

58 
	~"İtiÚs.h
"

59 
	~"v¬.h
"

60 
	~"ouut.h
"

61 
	~"mem®loc.h
"

62 
	~"”rÜ.h
"

63 
	~"my¡ršg.h
"

65 #undeà
eæag


67 
»adcmd
(, **);

68 
umaskcmd
(, **);

69 
ulim™cmd
(, **);

89 
	$»adcmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

91 **
­
;

92 
back¦ash
;

93 
c
;

94 
ræag
;

95 *
´om±
;

96 cÚ¡ *
ifs
;

97 *
p
;

98 
¡¬twÜd
;

99 
¡©us
;

100 
i
;

101 
is_ifs
;

102 
§v—Î
 = 0;

103 
timev®
 
tv
;

104 *
tv±r
;

105 
fd_£t
 
ifds
;

107 
ræag
 = 0;

108 
´om±
 = 
NULL
;

109 
tv
.
tv_£c
 = -1;

110 
tv
.
tv_u£c
 = 0;

111 (
i
 = 
	`Ãxtİt
("erp:t:")) != '\0') {

112 
i
) {

114 
´om±
 = 
shİrg
;

119 
ræag
 = 1;

122 
tv
.
tv_£c
 = 
	`¡¹Ş
(
shİrg
, &
tv±r
, 0);

123 ià(
tv±r
 =ğ
shİrg
)

124 
	`”rÜ
("timeout value");

125 *
tv±r
) {

130 
tv
.
tv_£c
 *= 60;

133 
tv
.
tv_£c
 *= 60;

136 
	`”rÜ
("timeout unit");

141 ià(
´om±
 && 
	`i§‰y
(0)) {

142 
	`out2¡r
(
´om±
);

143 
	`æush®l
();

145 ià(*(
­
 = 
¬g±r
è=ğ
NULL
)

146 
	`”rÜ
("arg count");

147 ià((
ifs
 = 
	`bÉšlookup
("IFS", 1)è=ğ
NULL
)

148 
ifs
 = " \t\n";

150 ià(
tv
.
tv_£c
 >= 0) {

154 
	`FD_ZERO
(&
ifds
);

155 
	`FD_SET
(0, &
ifds
);

156 
¡©us
 = 
	`£Ëù
(1, &
ifds
, 
NULL
, NULL, &
tv
);

160 ià(
¡©us
 <= 0)

164 
¡©us
 = 0;

165 
¡¬twÜd
 = 2;

166 
back¦ash
 = 0;

167 
	`STARTSTACKSTR
(
p
);

169 ià(
	`»ad
(
STDIN_FILENO
, &
c
, 1) != 1) {

170 
¡©us
 = 1;

173 ià(
c
 == '\0')

175 ià(
back¦ash
) {

176 
back¦ash
 = 0;

177 
¡¬twÜd
 = 0;

178 ià(
c
 != '\n')

179 
	`STPUTC
(
c
, 
p
);

182 ià(!
ræag
 && 
c
 == '\\') {

183 
back¦ash
++;

186 ià(
c
 == '\n')

188 ià(
	`¡rchr
(
ifs
, 
c
))

189 
is_ifs
 = 
	`¡rchr
(" \t\n", 
c
) ? 1 : 2;

191 
is_ifs
 = 0;

193 ià(
¡¬twÜd
 != 0) {

194 ià(
is_ifs
 == 1) {

196 ià(
§v—Î
)

197 
	`STPUTC
(
c
, 
p
);

200 ià(
is_ifs
 =ğ2 && 
¡¬twÜd
 == 1) {

202 
¡¬twÜd
 = 2;

203 ià(
§v—Î
)

204 
	`STPUTC
(
c
, 
p
);

209 ià(
is_ifs
 == 0) {

211 
¡¬twÜd
 = 0;

212 ià(
§v—Î
)

214 
§v—Î
++;

215 
	`STPUTC
(
c
, 
p
);

220 
¡¬twÜd
 = 
is_ifs
;

222 ià(
­
[1] =ğ
NULL
) {

224 
§v—Î
++;

225 
	`STPUTC
(
c
, 
p
);

229 
	`STACKSTRNUL
(
p
);

230 
	`£tv¬
(*
­
, 
	`¡ackblock
(), 0);

231 
­
++;

232 
	`STARTSTACKSTR
(
p
);

234 
	`STACKSTRNUL
(
p
);

237 ; 
	`¡ackblock
(è<ğ--
p
; *p = 0) {

238 ià(!
	`¡rchr
(
ifs
, *
p
))

240 ià(
	`¡rchr
(" \t\n", *
p
))

243 ià(
§v—Î
 > 1)

247 
	`£tv¬
(*
­
, 
	`¡ackblock
(), 0);

250 *++
­
 !ğ
NULL
)

251 
	`£tv¬
(*
­
, 
nuÎ¡r
, 0);

252  
¡©us
;

253 
	}
}

258 
	$umaskcmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

260 *
­
;

261 
mask
;

262 
i
;

263 
symbŞic_mode
 = 0;

265 (
i
 = 
	`Ãxtİt
("S")) != '\0') {

266 
symbŞic_mode
 = 1;

269 
INTOFF
;

270 
mask
 = 
	`umask
(0);

271 
	`umask
(
mask
);

272 
INTON
;

274 ià((
­
 = *
¬g±r
è=ğ
NULL
) {

275 ià(
symbŞic_mode
) {

276 
u
[4], 
g
[4], 
o
[4];

278 
i
 = 0;

279 ià((
mask
 & 
S_IRUSR
) == 0)

280 
u
[
i
++] = 'r';

281 ià((
mask
 & 
S_IWUSR
) == 0)

282 
u
[
i
++] = 'w';

283 ià((
mask
 & 
S_IXUSR
) == 0)

284 
u
[
i
++] = 'x';

285 
u
[
i
] = '\0';

287 
i
 = 0;

288 ià((
mask
 & 
S_IRGRP
) == 0)

289 
g
[
i
++] = 'r';

290 ià((
mask
 & 
S_IWGRP
) == 0)

291 
g
[
i
++] = 'w';

292 ià((
mask
 & 
S_IXGRP
) == 0)

293 
g
[
i
++] = 'x';

294 
g
[
i
] = '\0';

296 
i
 = 0;

297 ià((
mask
 & 
S_IROTH
) == 0)

298 
o
[
i
++] = 'r';

299 ià((
mask
 & 
S_IWOTH
) == 0)

300 
o
[
i
++] = 'w';

301 ià((
mask
 & 
S_IXOTH
) == 0)

302 
o
[
i
++] = 'x';

303 
o
[
i
] = '\0';

305 
	`out1fmt
("u=%s,g=%s,o=%s\n", 
u
, 
g
, 
o
);

307 
	`out1fmt
("%.4o\n", 
mask
);

310 ià(
	`isdig™
(*
­
)) {

311 
mask
 = 0;

313 ià(*
­
 >= '8' || *ap < '0')

314 
	`”rÜ
("IÎeg®‚umb”: %s", *
¬g±r
);

315 
mask
 = (mask << 3è+ (*
­
 - '0');

316 } *++
­
 != '\0');

317 
	`umask
(
mask
);

319 *
£t
;

320 
INTOFF
;

321 ià((
£t
 = 
	`£tmode
 (
­
)) == 0)

322 
	`”rÜ
("IÎeg®‚umb”: %s", 
­
);

324 
mask
 = 
	`g‘mode
 (
£t
, ~mask & 0777);

325 
	`umask
(~
mask
 & 0777);

326 
	`ä“
(
£t
);

327 
INTON
;

331 
	}
}

343 
	slim™s
 {

344 cÚ¡ *
	mÇme
;

345 cÚ¡ *
	mun™s
;

346 
	mcmd
;

347 
	mçùÜ
;

348 
	mİtiÚ
;

351 cÚ¡ 
lim™s
 
	glim™s
[] = {

352 #ifdeà
RLIMIT_CPU


353 { "ıuime", "£cÚds", 
RLIMIT_CPU
, 1, 't' },

355 #ifdeà
RLIMIT_FSIZE


356 { "fsize", "512-blocks", 
RLIMIT_FSIZE
, 512, 'f' },

358 #ifdeà
RLIMIT_DATA


359 { "d©¨£g size", "kby‹s", 
RLIMIT_DATA
, 1024, 'd' },

361 #ifdeà
RLIMIT_STACK


362 { "¡ack size", "kby‹s", 
RLIMIT_STACK
, 1024, 's' },

364 #ifdeà 
RLIMIT_CORE


365 { "cÜfsize", "512-blocks", 
RLIMIT_CORE
, 512, 'c' },

367 #ifdeà
RLIMIT_RSS


368 { "max memÜy size", "kby‹s", 
RLIMIT_RSS
, 1024, 'm' },

370 #ifdeà
RLIMIT_MEMLOCK


371 { "locked memÜy", "kby‹s", 
RLIMIT_MEMLOCK
, 1024, 'l' },

373 #ifdeà
RLIMIT_NPROC


374 { "max u£¸´oûs£s", (*)0, 
RLIMIT_NPROC
, 1, 'u' },

376 #ifdeà
RLIMIT_NOFILE


377 { "İ’ fes", (*)0, 
RLIMIT_NOFILE
, 1, 'n' },

379 #ifdeà
RLIMIT_VMEM


380 { "vœtu® mem size", "kby‹s", 
RLIMIT_VMEM
, 1024, 'v' },

382 #ifdeà
RLIMIT_SWAP


383 { "sw­†im™", "kby‹s", 
RLIMIT_SWAP
, 1024, 'w' },

385 #ifdeà
RLIMIT_SBSIZE


386 { "sbsize", "by‹s", 
RLIMIT_SBSIZE
, 1, 'b' },

388 #ifdeà
RLIMIT_NPTS


389 { "p£udo-‹rmš®s", (*)0, 
RLIMIT_NPTS
, 1, 'p' },

395 
	$ulim™cmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

397 
c
;

398 
¾im_t
 
v®
 = 0;

399 ’um { 
SOFT
 = 0x1, 
HARD
 = 0x2 }

400 
how
 = 
SOFT
 | 
HARD
;

401 cÚ¡ 
lim™s
 *
l
;

402 
£t
, 
®l
 = 0;

403 
İtc
, 
wh©
;

404 
¾im™
 
lim™
;

406 
wh©
 = 'f';

407 (
İtc
 = 
	`Ãxtİt
("HSatfdsmcnuvlbpw")) != '\0')

408 
İtc
) {

410 
how
 = 
HARD
;

413 
how
 = 
SOFT
;

416 
®l
 = 1;

419 
wh©
 = 
İtc
;

422 
l
 = 
lim™s
;†->
Çme
 &&†->
İtiÚ
 !ğ
wh©
;†++)

424 ià(!
l
->
Çme
)

425 
	`”rÜ
("š‹º®ƒ¼Ü (%c)", 
wh©
);

427 
£t
 = *
¬g±r
 ? 1 : 0;

428 ià(
£t
) {

429 *
p
 = *
¬g±r
;

431 ià(
®l
 || 
¬g±r
[1])

432 
	`”rÜ
("too many‡rguments");

433 ià(
	`¡rcmp
(
p
, "unlimited") == 0)

434 
v®
 = 
RLIM_INFINITY
;

436 
v®
 = 0;

438 (
c
 = *
p
++) >= '0' && c <= '9')

440 
v®
 = (v® * 10è+ ()(
c
 - '0');

441 ià(
v®
 < 0)

444 ià(
c
)

445 
	`”rÜ
("bad‚umber");

446 
v®
 *ğ
l
->
çùÜ
;

449 ià(
®l
) {

450 
l
 = 
lim™s
;†->
Çme
;†++) {

451 
İtbuf
[40];

452 ià(
	`g‘¾im™
(
l
->
cmd
, &
lim™
) < 0)

453 
	`”rÜ
("ÿn'ˆg‘†im™: %s", 
	`¡»¼Ü
(
”ºo
));

454 ià(
how
 & 
SOFT
)

455 
v®
 = 
lim™
.
¾im_cur
;

456 ià(
how
 & 
HARD
)

457 
v®
 = 
lim™
.
¾im_max
;

459 ià(
l
->
un™s
)

460 
	`¢´štf
(
İtbuf
, (optbuf),

461 "(%s, -%cè", 
l
->
un™s
,†->
İtiÚ
);

463 
	`¢´štf
(
İtbuf
, (optbuf),

464 "(-%cè", 
l
->
İtiÚ
);

465 
	`out1fmt
("%-18 %18 ", 
l
->
Çme
, 
İtbuf
);

466 ià(
v®
 =ğ
RLIM_INFINITY
)

467 
	`out1fmt
("unlimited\n");

470 
v®
 /ğ
l
->
çùÜ
;

471 
	`out1fmt
("%jd\n", (
štmax_t
)
v®
);

477 ià(
	`g‘¾im™
(
l
->
cmd
, &
lim™
) < 0)

478 
	`”rÜ
("ÿn'ˆg‘†im™: %s", 
	`¡»¼Ü
(
”ºo
));

479 ià(
£t
) {

480 ià(
how
 & 
SOFT
)

481 
lim™
.
¾im_cur
 = 
v®
;

482 ià(
how
 & 
HARD
)

483 
lim™
.
¾im_max
 = 
v®
;

484 ià(
	`£Œlim™
(
l
->
cmd
, &
lim™
) < 0)

485 
	`”rÜ
("bad†im™: %s", 
	`¡»¼Ü
(
”ºo
));

487 ià(
how
 & 
SOFT
)

488 
v®
 = 
lim™
.
¾im_cur
;

489 ià(
how
 & 
HARD
)

490 
v®
 = 
lim™
.
¾im_max
;

492 ià(
v®
 =ğ
RLIM_INFINITY
)

493 
	`out1fmt
("unlimited\n");

496 
v®
 /ğ
l
->
çùÜ
;

497 
	`out1fmt
("%jd\n", (
štmax_t
)
v®
);

501 
	}
}

	@sh/mkinit.c

33 #iâdeà
lšt


34 cÚ¡ 
	gcİyright
[] =

39 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)mkinit.c 8.2 (Berkeley) 5/4/95";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/sh/mkinit.c,v 1.19.2.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

58 
	~<sys/cdefs.h
>

59 
	~<sys/ty³s.h
>

60 
	~<¡dio.h
>

61 
	~<¡dlib.h
>

62 
	~<¡ršg.h
>

63 
	~<fú.h
>

64 
	~<uni¡d.h
>

65 
	~<”ºo.h
>

73 
	#OUTFILE
 "š™.c"

	)

74 
	#OUTTEMP
 "š™.c.Ãw"

	)

85 
	#BLOCKSIZE
 512

	)

87 
	s‹xt
 {

88 *
	mÃxtc
;

89 
	mÆeá
;

90 
block
 *
	m¡¬t
;

91 
block
 *
	mÏ¡
;

94 
	sblock
 {

95 
block
 *
	mÃxt
;

96 
	m‹xt
[
BLOCKSIZE
];

104 
	sev’t
 {

105 cÚ¡ *
	mÇme
;

106 cÚ¡ *
	mroutše
;

107 cÚ¡ *
	mcomm’t
;

108 
‹xt
 
	mcode
;

112 
	gwr™”
[] = "\
/*\n\
* This file was generated byhe mkinit…rogram.\n\
*/\n\
\n";

118 
	gš™
[] = "\
/*\n\
* Initialization code.\n\
*/\n";

123 
	g»£t
[] = "\
/*\n\
* This„outine is called when‡nƒrror or‡n interrupt occurs in‡n\n\
* interactive shell‡nd control is„eturnedohe main command†oop.\n\
*/\n";

129 
	gsh–Íroc
[] = "\
/*\n\
* This„outine is calledo initializehe shello„un‡ shell…rocedure.\n\
*/\n";

135 
ev’t
 
	gev’t
[] = {

136 { "INIT", "š™", 
š™
, { 
NULL
, 0, NULL, NULL } },

137 { "RESET", "»£t", 
»£t
, { 
NULL
, 0, NULL, NULL } },

138 { "SHELLPROC", "š™sh–Íroc", 
sh–Íroc
, { 
NULL
, 0, NULL, NULL } },

139 { 
NULL
, NULL, NULL, { NULL, 0, NULL, NULL } }

143 cÚ¡ *
	gcurfe
;

144 
	glšno
;

145 *
	gh—d”_fes
[200];

146 
‹xt
 
	gdefšes
;

147 
‹xt
 
	gdeşs
;

148 
	gamiddeşs
;

151 
»adfe
(const *);

152 
m©ch
(const *, const *);

153 
gooddefše
(const *);

154 
dÛv’t
(
ev’t
 *, 
FILE
 *, const *);

155 
došşude
(*);

156 
dodeş
(*, 
FILE
 *);

157 
ouut
();

158 
add¡r
(cÚ¡ *, 
‹xt
 *);

159 
addch¬
(, 
‹xt
 *);

160 
wr™‘ext
(
‹xt
 *, 
FILE
 *);

161 
FILE
 *
ckfİ’
(const *, const *);

162 *
ckm®loc
(
size_t
);

163 *
§ve¡r
(const *);

164 
”rÜ
(const *);

166 
	#equ®
(
s1
, 
s2
è(
	`¡rcmp
(s1, s2è=ğ0)

	)

169 
	$maš
(
¬gc
 
__unu£d
, *
¬gv
[])

171 **
­
;

173 
h—d”_fes
[0] = 
	`§ve¡r
("\"shell.h\"");

174 
h—d”_fes
[1] = 
	`§ve¡r
("\"mystring.h\"");

175 
h—d”_fes
[2] = 
	`§ve¡r
("\"init.h\"");

176 
­
 = 
¬gv
 + 1 ; *ap ;‡p++)

177 
	`»adfe
(*
­
);

178 
	`ouut
();

179 
	`»Çme
(
OUTTEMP
, 
OUTFILE
);

180 
	`ex™
(0);

181 
	}
}

189 
	$»adfe
(cÚ¡ *
âame
)

191 
FILE
 *
å
;

192 
lše
[1024];

193 
ev’t
 *
•
;

195 
å
 = 
	`ckfİ’
(
âame
, "r");

196 
curfe
 = 
âame
;

197 
lšno
 = 0;

198 
amiddeşs
 = 0;

199 
	`fg‘s
(
lše
, †še, 
å
è!ğ
NULL
) {

200 
lšno
++;

201 
•
 = 
ev’t
 ;ƒp->
Çme
 ;ƒp++) {

202 ià(
lše
[0] =ğ
•
->
Çme
[0] && 
	`m©ch
(ep->name,†ine)) {

203 
	`dÛv’t
(
•
, 
å
, 
âame
);

207 ià(
lše
[0] =ğ'I' && 
	`m©ch
("INCLUDE",†ine))

208 
	`došşude
(
lše
);

209 ià(
lše
[0] =ğ'M' && 
	`m©ch
("MKINIT",†ine))

210 
	`dodeş
(
lše
, 
å
);

211 ià(
lše
[0] =ğ'#' && 
	`gooddefše
(line)) {

212 *
ı
;

213 
lše2
[1024];

214 cÚ¡ 
undef
[] = "#undef ";

216 
	`¡rıy
(
lše2
, 
lše
);

217 
	`memıy
(
lše2
, 
undef
, (undef) - 1);

218 
ı
 = 
lše2
 + (
undef
) - 1;

219 *
ı
 && (*cp == ' ' || *cp == '\t'))

220 
ı
++;

221 *
ı
 && *cp != ' ' && *cp != '\t' && *cp != '\n')

222 
ı
++;

223 *
ı
++ = '\n'; *cp = '\0';

224 
	`add¡r
(
lše2
, &
defšes
);

225 
	`add¡r
(
lše
, &
defšes
);

228 
	`fşo£
(
å
);

229 
	}
}

233 
	$m©ch
(cÚ¡ *
Çme
, cÚ¡ *
lše
)

235 cÚ¡ *
p
, *
q
;

237 
p
 = 
Çme
, 
q
 = 
lše
;

238 *
p
) {

239 ià(*
p
++ !ğ*
q
++)

242 ià(*
q
 != '{' && *q != ' ' && *q != '\t' && *q != '\n')

245 
	}
}

249 
	$gooddefše
(cÚ¡ *
lše
)

251 cÚ¡ *
p
;

253 ià(! 
	`m©ch
("#defše", 
lše
))

255 
p
 = 
lše
 + 7;

256 *
p
 == ' ' || *p == '\t')

257 
p
++;

258 *
p
 != ' ' && *p != '\t') {

259 ià(*
p
 == '(')

261 
p
++;

263 *
p
 != '\n' && *p != '\0')

264 
p
++;

265 ià(
p
[-1] == '\\')

268 
	}
}

272 
	$dÛv’t
(
ev’t
 *
•
, 
FILE
 *
å
, cÚ¡ *
âame
)

274 
lše
[1024];

275 
šd’t
;

276 cÚ¡ *
p
;

278 
	`¥rštf
(
lše
, "\À /* from %s: */\n", 
âame
);

279 
	`add¡r
(
lše
, &
•
->
code
);

280 
	`add¡r
(" {\n", &
•
->
code
);

282 
lšno
++;

283 ià(
	`fg‘s
(
lše
, †še, 
å
è=ğ
NULL
)

284 
	`”rÜ
("Unexpected EOF");

285 ià(
	`equ®
(
lše
, "}\n"))

287 
šd’t
 = 6;

288 
p
 = 
lše
 ; *p == '\t' ;…++)

289 
šd’t
 += 8;

290  ; *
p
 == ' ' ;…++)

291 
šd’t
++;

292 ià(*
p
 == '\n' || *p == '#')

293 
šd’t
 = 0;

294 
šd’t
 >= 8) {

295 
	`addch¬
('\t', &
•
->
code
);

296 
šd’t
 -= 8;

298 
šd’t
 > 0) {

299 
	`addch¬
(' ', &
•
->
code
);

300 
šd’t
--;

302 
	`add¡r
(
p
, &
•
->
code
);

304 
	`add¡r
(" }\n", &
•
->
code
);

305 
	}
}

309 
	$došşude
(*
lše
)

311 *
p
;

312 *
Çme
;

313 **
µ
;

315 
p
 = 
lše
 ; *p != '"' && *p != '<' && *p != '\0' ;…++);

316 ià(*
p
 == '\0')

317 
	`”rÜ
("Expecting '\"' or '<'");

318 
Çme
 = 
p
;

319 *
p
 != ' ' && *p != '\t' && *p != '\n')

320 
p
++;

321 ià(
p
[-1] != '"' &&…[-1] != '>')

322 
	`”rÜ
("Missingerminator");

323 *
p
 = '\0';

326 
µ
 = 
h—d”_fes
 ; *µ && ! 
	`equ®
(*µ, 
Çme
) ;…p++);

327 ià(*
µ
 =ğ
NULL
)

328 *
µ
 = 
	`§ve¡r
(
Çme
);

329 
	}
}

333 
	$dodeş
(*
lše1
, 
FILE
 *
å
)

335 
lše
[1024];

336 *
p
, *
q
;

338 ià(
	`¡rcmp
(
lše1
, "MKINIT\n") == 0) {

339 
	`addch¬
('\n', &
deşs
);

341 
lšno
++;

342 ià(
	`fg‘s
(
lše
, †še, 
å
è=ğ
NULL
)

343 
	`”rÜ
("Unterminated structure declaration");

344 
	`add¡r
(
lše
, &
deşs
);

345 } 
lše
[0] != '}');

346 
amiddeşs
 = 0;

348 ià(! 
amiddeşs
)

349 
	`addch¬
('\n', &
deşs
);

350 
q
 = 
NULL
;

351 
p
 = 
lše1
 + 6 ; *°&& 
	`¡rchr
("=/\n", *pè=ğ
NULL
;…++)

353 ià(*
p
 == '=') {

354 
q
 = 
p
 ; *q && *q != ';' ; q++);

355 ià(*
q
 == '\0')

356 
q
 = 
NULL
;

358 
p
[-1] == ' ')

359 
p
--;

360 *
p
 = '\0';

363 
	`add¡r
("ex‹º", &
deşs
);

364 
	`add¡r
(
lše1
 + 6, &
deşs
);

365 ià(
q
 !ğ
NULL
)

366 
	`add¡r
(
q
, &
deşs
);

367 
amiddeşs
 = 1;

369 
	}
}

378 
	$ouut
()

380 
FILE
 *
å
;

381 **
µ
;

382 
ev’t
 *
•
;

384 
å
 = 
	`ckfİ’
(
OUTTEMP
, "w");

385 
	`åuts
(
wr™”
, 
å
);

386 
µ
 = 
h—d”_fes
 ; *pp ;…p++)

387 
	`årštf
(
å
, "#šşud%s\n", *
µ
);

388 
	`åuts
("\n\n\n", 
å
);

389 
	`wr™‘ext
(&
defšes
, 
å
);

390 
	`åuts
("\n\n", 
å
);

391 
	`wr™‘ext
(&
deşs
, 
å
);

392 
•
 = 
ev’t
 ;ƒp->
Çme
 ;ƒp++) {

393 
	`åuts
("\n\n\n", 
å
);

394 
	`åuts
(
•
->
comm’t
, 
å
);

395 
	`årštf
(
å
, "\nvoid\n%s(void)\n{\n", 
•
->
routše
);

396 
	`wr™‘ext
(&
•
->
code
, 
å
);

397 
	`årštf
(
å
, "}\n");

399 
	`fşo£
(
å
);

400 
	}
}

410 
	$add¡r
(cÚ¡ *
s
, 
‹xt
 *text)

412 *
s
) {

413 ià(--
‹xt
->
Æeá
 < 0)

414 
	`addch¬
(*
s
++, 
‹xt
);

416 *
‹xt
->
Ãxtc
++ = *
s
++;

418 
	}
}

422 
	$addch¬
(
c
, 
‹xt
 *text)

424 
block
 *
bp
;

426 ià(--
‹xt
->
Æeá
 < 0) {

427 
bp
 = 
	`ckm®loc
( *bp);

428 ià(
‹xt
->
¡¬t
 =ğ
NULL
)

429 
‹xt
->
¡¬t
 = 
bp
;

431 
‹xt
->
Ï¡
->
Ãxt
 = 
bp
;

432 
‹xt
->
Ï¡
 = 
bp
;

433 
‹xt
->
Ãxtc
 = 
bp
->text;

434 
‹xt
->
Æeá
 = 
BLOCKSIZE
 - 1;

436 *
‹xt
->
Ãxtc
++ = 
c
;

437 
	}
}

443 
	$wr™‘ext
(
‹xt
 *‹xt, 
FILE
 *
å
)

445 
block
 *
bp
;

447 ià(
‹xt
->
¡¬t
 !ğ
NULL
) {

448 
bp
 = 
‹xt
->
¡¬t
 ; b°!ğ‹xt->
Ï¡
 ; b°ğbp->
Ãxt
)

449 
	`fwr™e
(
bp
->
‹xt
,  (), 
BLOCKSIZE
, 
å
);

450 
	`fwr™e
(
bp
->
‹xt
,  (), 
BLOCKSIZE
 -ext->
Æeá
, 
å
);

452 
	}
}

454 
FILE
 *

455 
	$ckfİ’
(cÚ¡ *
fe
, cÚ¡ *
mode
)

457 
FILE
 *
å
;

459 ià((
å
 = 
	`fİ’
(
fe
, 
mode
)è=ğ
NULL
) {

460 
	`årštf
(
¡d”r
, "Cª'ˆİ’ %s: %s\n", 
fe
, 
	`¡»¼Ü
(
”ºo
));

461 
	`ex™
(2);

463  
å
;

464 
	}
}

467 
	$ckm®loc
(
size_t
 
nby‹s
)

469 *
p
;

471 ià((
p
 = 
	`m®loc
(
nby‹s
)è=ğ
NULL
)

472 
	`”rÜ
("Out of space");

473  
p
;

474 
	}
}

477 
	$§ve¡r
(cÚ¡ *
s
)

479 *
p
;

481 
p
 = 
	`ckm®loc
(
	`¡¾’
(
s
) + 1);

482 
	`¡rıy
(
p
, 
s
);

483  
p
;

484 
	}
}

487 
	$”rÜ
(cÚ¡ *
msg
)

489 ià(
curfe
 !ğ
NULL
)

490 
	`årštf
(
¡d”r
, "%s:%d: ", 
curfe
, 
lšno
);

491 
	`årštf
(
¡d”r
, "%s\n", 
msg
);

492 
	`ex™
(2);

493 
	}
}

	@sh/mknodes.c

34 #iâdeà
lšt


35 cÚ¡ 
	gcİyright
[] =

40 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)mknodes.c 8.2 (Berkeley) 5/4/95";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/sh/mknodes.c,v 1.18.2.2.8.1 2012/03/03 06:15:13 kensmith Exp $");

52 
	~<¡dio.h
>

53 
	~<¡dlib.h
>

54 
	~<¡ršg.h
>

55 
	~<”ºo.h
>

56 
	~<¡d¬g.h
>

58 
	#MAXTYPES
 50

	)

59 
	#MAXFIELDS
 20

	)

60 
	#BUFLEN
 100

	)

63 
	#T_NODE
 1

	)

64 
	#T_NODELIST
 2

	)

65 
	#T_STRING
 3

	)

66 
	#T_INT
 4

	)

67 
	#T_OTHER
 5

	)

68 
	#T_TEMP
 6

	)

71 
	sf›ld
 {

72 *
	mÇme
;

73 
	mty³
;

74 *
	mdeş
;

78 
	s¡r
 {

79 *
	mg
;

80 
	mnf›lds
;

81 
f›ld
 
	mf›ld
[
MAXFIELDS
];

82 
	mdÚe
;

86 
	gÁy³s
;

87 *
	gnod’ame
[
MAXTYPES
];

88 
¡r
 *
	gnode¡r
[
MAXTYPES
];

89 
	gn¡r
;

90 
¡r
 
	g¡r
[
MAXTYPES
];

91 
¡r
 *
	gcur¡r
;

92 
FILE
 *
	gšå
;

93 
	glše
[1024];

94 
	glšno
;

95 *
	glš•
;

97 
·r£node
();

98 
·r£f›ld
();

99 
ouut
(*);

100 
outsizes
(
FILE
 *);

101 
outfunc
(
FILE
 *, );

102 
šd’t
(, 
FILE
 *);

103 
Ãxtf›ld
(*);

104 
skbl
();

105 
»adlše
();

106 
	$”rÜ
(cÚ¡ *, ...è
	$__´štf0like
(1, 2è
__d—d2
;

107 *
	`§ve¡r
(const *);

111 
	$maš
(
¬gc
, *
¬gv
[])

113 ià(
¬gc
 != 3)

114 
	`”rÜ
("usage: mknodes file");

115 
šå
 = 
¡dš
;

116 ià((
šå
 = 
	`fİ’
(
¬gv
[1], "r")è=ğ
NULL
)

117 
	`”rÜ
("Cª'ˆİ’ %s: %s", 
¬gv
[1], 
	`¡»¼Ü
(
”ºo
));

118 
	`»adlše
()) {

119 ià(
lše
[0] == ' ' ||†ine[0] == '\t')

120 
	`·r£f›ld
();

121 ià(
lše
[0] != '\0')

122 
	`·r£node
();

124 
	`ouut
(
¬gv
[2]);

125 
	`ex™
(0);

126 
	}
}

131 
	$·r£node
()

133 
Çme
[
BUFLEN
];

134 
g
[
BUFLEN
];

135 
¡r
 *
¥
;

137 ià(
cur¡r
 && cur¡r->
nf›lds
 > 0)

138 
cur¡r
->
dÚe
 = 1;

139 
	`Ãxtf›ld
(
Çme
);

140 ià(! 
	`Ãxtf›ld
(
g
))

141 
	`”rÜ
("Tagƒxpected");

142 ià(*
lš•
 != '\0')

143 
	`”rÜ
("Garbage‡tƒnd of†ine");

144 
nod’ame
[
Áy³s
] = 
	`§ve¡r
(
Çme
);

145 
¥
 = 
¡r
 ; s°< sŒ + 
n¡r
 ; sp++) {

146 ià(
	`¡rcmp
(
¥
->
g
,ag) == 0)

149 ià(
¥
 >ğ
¡r
 + 
n¡r
) {

150 
¥
->
g
 = 
	`§ve¡r
(tag);

151 
¥
->
nf›lds
 = 0;

152 
cur¡r
 = 
¥
;

153 
n¡r
++;

155 
node¡r
[
Áy³s
] = 
¥
;

156 
Áy³s
++;

157 
	}
}

161 
	$·r£f›ld
()

163 
Çme
[
BUFLEN
];

164 
ty³
[
BUFLEN
];

165 
deş
[2 * 
BUFLEN
];

166 
f›ld
 *
å
;

168 ià(
cur¡r
 =ğ
NULL
 || cur¡r->
dÚe
)

169 
	`”rÜ
("No current structureo‡dd fieldo");

170 ià(! 
	`Ãxtf›ld
(
Çme
))

171 
	`”rÜ
("No field‚ame");

172 ià(! 
	`Ãxtf›ld
(
ty³
))

173 
	`”rÜ
("No fieldype");

174 
å
 = &
cur¡r
->
f›ld
[cur¡r->
nf›lds
];

175 
å
->
Çme
 = 
	`§ve¡r
(name);

176 ià(
	`¡rcmp
(
ty³
, "nodeptr") == 0) {

177 
å
->
ty³
 = 
T_NODE
;

178 
	`¥rštf
(
deş
, "uniÚ‚od*%s", 
Çme
);

179 } ià(
	`¡rcmp
(
ty³
, "nodelist") == 0) {

180 
å
->
ty³
 = 
T_NODELIST
;

181 
	`¥rštf
(
deş
, "¡ruù‚od–i¡ *%s", 
Çme
);

182 } ià(
	`¡rcmp
(
ty³
, "string") == 0) {

183 
å
->
ty³
 = 
T_STRING
;

184 
	`¥rštf
(
deş
, "ch¬ *%s", 
Çme
);

185 } ià(
	`¡rcmp
(
ty³
, "int") == 0) {

186 
å
->
ty³
 = 
T_INT
;

187 
	`¥rštf
(
deş
, "šˆ%s", 
Çme
);

188 } ià(
	`¡rcmp
(
ty³
, "other") == 0) {

189 
å
->
ty³
 = 
T_OTHER
;

190 } ià(
	`¡rcmp
(
ty³
, "temp") == 0) {

191 
å
->
ty³
 = 
T_TEMP
;

193 
	`”rÜ
("UnknowÀty³ %s", 
ty³
);

195 ià(
å
->
ty³
 =ğ
T_OTHER
 || fp->ty³ =ğ
T_TEMP
) {

196 
	`skbl
();

197 
å
->
deş
 = 
	`§ve¡r
(
lš•
);

199 ià(*
lš•
)

200 
	`”rÜ
("Garbage‡tƒnd of†ine");

201 
å
->
deş
 = 
	`§ve¡r
(decl);

203 
cur¡r
->
nf›lds
++;

204 
	}
}

207 
	gwr™”
[] = "\
/*\n\
* This file was generated byhe mknodes…rogram.\n\
*/\n\
\n";

214 
	$ouut
(*
fe
)

216 
FILE
 *
hfe
;

217 
FILE
 *
cfe
;

218 
FILE
 *
·tfe
;

219 
i
;

220 
¡r
 *
¥
;

221 
f›ld
 *
å
;

222 *
p
;

224 ià((
·tfe
 = 
	`fİ’
(
fe
, "r")è=ğ
NULL
)

225 
	`”rÜ
("Cª'ˆİ’ %s: %s", 
fe
, 
	`¡»¼Ü
(
”ºo
));

226 ià((
hfe
 = 
	`fİ’
("nodes.h", "w")è=ğ
NULL
)

227 
	`”rÜ
("Cª'ˆü—‹‚odes.h: %s", 
	`¡»¼Ü
(
”ºo
));

228 ià((
cfe
 = 
	`fİ’
("nodes.c", "w")è=ğ
NULL
)

229 
	`”rÜ
("Can't create‚odes.c");

230 
	`åuts
(
wr™”
, 
hfe
);

231 
i
 = 0 ; i < 
Áy³s
 ; i++)

232 
	`årštf
(
hfe
, "#defš% %d\n", 
nod’ame
[
i
], i);

233 
	`åuts
("\n\n\n", 
hfe
);

234 
¥
 = 
¡r
 ; s°< &¡r[
n¡r
] ; sp++) {

235 
	`årštf
(
hfe
, "¡ruù % {\n", 
¥
->
g
);

236 
i
 = 
¥
->
nf›lds
, 
å
 = sp->
f›ld
 ; --i >= 0 ; fp++) {

237 
	`årštf
(
hfe
, " %s;\n", 
å
->
deş
);

239 
	`åuts
("};\n\n\n", 
hfe
);

241 
	`åuts
("uniÚ‚od{\n", 
hfe
);

242 
	`årštf
(
hfe
, " intype;\n");

243 
¥
 = 
¡r
 ; s°< &¡r[
n¡r
] ; sp++) {

244 
	`årštf
(
hfe
, " sŒuù % %s;\n", 
¥
->
g
, sp->tag);

246 
	`åuts
("};\n\n\n", 
hfe
);

247 
	`åuts
("¡ruù‚od–i¡ {\n", 
hfe
);

248 
	`åuts
("\t¡ruù‚od–i¡ *Ãxt;\n", 
hfe
);

249 
	`åuts
("\tuniÚ‚od*n;\n", 
hfe
);

250 
	`åuts
("};\n\n\n", 
hfe
);

251 
	`åuts
("¡ruù funcdef;\n", 
hfe
);

252 
	`åuts
("¡ruù funcdeà*cİyfunc(uniÚ‚od*);\n", 
hfe
);

253 
	`åuts
("uniÚ‚od*g‘funúode(¡ruù funcdeà*);\n", 
hfe
);

254 
	`åuts
("void„effunc(¡ruù funcdeà*);\n", 
hfe
);

255 
	`åuts
("void uÄeffunc(¡ruù funcdeà*);\n", 
hfe
);

257 
	`åuts
(
wr™”
, 
cfe
);

258 
	`fg‘s
(
lše
, †še, 
·tfe
è!ğ
NULL
) {

259 
p
 = 
lše
 ; *p == ' ' || *p == '\t' ;…++);

260 ià(
	`¡rcmp
(
p
, "%SIZES\n") == 0)

261 
	`outsizes
(
cfe
);

262 ià(
	`¡rcmp
(
p
, "%CALCSIZE\n") == 0)

263 
	`outfunc
(
cfe
, 1);

264 ià(
	`¡rcmp
(
p
, "%COPY\n") == 0)

265 
	`outfunc
(
cfe
, 0);

267 
	`åuts
(
lše
, 
cfe
);

269 
	}
}

274 
	$outsizes
(
FILE
 *
cfe
)

276 
i
;

278 
	`årštf
(
cfe
, "¡©iøcÚ¡ shÜˆnodesize[%d] = {\n", 
Áy³s
);

279 
i
 = 0 ; i < 
Áy³s
 ; i++) {

280 
	`årštf
(
cfe
, " ALIGN(sizeoà(¡ruù %s)),\n", 
node¡r
[
i
]->
g
);

282 
	`årštf
(
cfe
, "};\n");

283 
	}
}

287 
	$outfunc
(
FILE
 *
cfe
, 
ÿlcsize
)

289 
¡r
 *
¥
;

290 
f›ld
 *
å
;

291 
i
;

293 
	`åuts
(" iàÒ =ğNULL)\n", 
cfe
);

294 ià(
ÿlcsize
)

295 
	`åuts
("„‘uº;\n", 
cfe
);

297 
	`åuts
("„‘uº NULL;\n", 
cfe
);

298 ià(
ÿlcsize
)

299 
	`åuts
(" funcblocksiz+ğnodesize[n->ty³];\n", 
cfe
);

301 
	`åuts
("‚ew = funcblock;\n", 
cfe
);

302 
	`åuts
(" funcblock = (ch¬ *)funcblock +‚odesize[n->ty³];\n", 
cfe
);

304 
	`åuts
(" sw™ch (n->ty³è{\n", 
cfe
);

305 
¥
 = 
¡r
 ; s°< &¡r[
n¡r
] ; sp++) {

306 
i
 = 0 ; i < 
Áy³s
 ; i++) {

307 ià(
node¡r
[
i
] =ğ
¥
)

308 
	`årštf
(
cfe
, " ca£ %s:\n", 
nod’ame
[
i
]);

310 
i
 = 
¥
->
nf›lds
 ; --i >= 1 ; ) {

311 
å
 = &
¥
->
f›ld
[
i
];

312 
å
->
ty³
) {

313 
T_NODE
:

314 ià(
ÿlcsize
) {

315 
	`šd’t
(12, 
cfe
);

316 
	`årštf
(
cfe
, "calcsize(n->%s.%s);\n",

317 
¥
->
g
, 
å
->
Çme
);

319 
	`šd’t
(12, 
cfe
);

320 
	`årštf
(
cfe
, "new->%s.%s = copynode(n->%s.%s);\n",

321 
¥
->
g
, 
å
->
Çme
, sp->tag, fp->name);

324 
T_NODELIST
:

325 ià(
ÿlcsize
) {

326 
	`šd’t
(12, 
cfe
);

327 
	`årštf
(
cfe
, "sizenodelist(n->%s.%s);\n",

328 
¥
->
g
, 
å
->
Çme
);

330 
	`šd’t
(12, 
cfe
);

331 
	`årštf
(
cfe
, "new->%s.%s = copynodelist(n->%s.%s);\n",

332 
¥
->
g
, 
å
->
Çme
, sp->tag, fp->name);

335 
T_STRING
:

336 ià(
ÿlcsize
) {

337 
	`šd’t
(12, 
cfe
);

338 
	`årštf
(
cfe
, "funcstringsize += strlen(n->%s.%s) + 1;\n",

339 
¥
->
g
, 
å
->
Çme
);

341 
	`šd’t
(12, 
cfe
);

342 
	`årštf
(
cfe
, "new->%s.%s =‚odesavestr(n->%s.%s);\n",

343 
¥
->
g
, 
å
->
Çme
, sp->tag, fp->name);

346 
T_INT
:

347 
T_OTHER
:

348 ià(! 
ÿlcsize
) {

349 
	`šd’t
(12, 
cfe
);

350 
	`årštf
(
cfe
, "new->%s.%s =‚->%s.%s;\n",

351 
¥
->
g
, 
å
->
Çme
, sp->tag, fp->name);

356 
	`šd’t
(12, 
cfe
);

357 
	`åuts
("b»ak;\n", 
cfe
);

359 
	`åuts
(" };\n", 
cfe
);

360 ià(! 
ÿlcsize
)

361 
	`åuts
("‚ew->ty³ =‚->ty³;\n", 
cfe
);

362 
	}
}

366 
	$šd’t
(
amouÁ
, 
FILE
 *
å
)

368 
amouÁ
 >= 8) {

369 
	`putc
('\t', 
å
);

370 
amouÁ
 -= 8;

372 --
amouÁ
 >= 0) {

373 
	`putc
(' ', 
å
);

375 
	}
}

379 
	$Ãxtf›ld
(*
buf
)

381 *
p
, *
q
;

383 
p
 = 
lš•
;

384 *
p
 == ' ' || *p == '\t')

385 
p
++;

386 
q
 = 
buf
;

387 *
p
 != ' ' && *p != '\t' && *p != '\0')

388 *
q
++ = *
p
++;

389 *
q
 = '\0';

390 
lš•
 = 
p
;

391  (
q
 > 
buf
);

392 
	}
}

396 
	$skbl
()

398 *
lš•
 == ' ' || *linep == '\t')

399 
lš•
++;

400 
	}
}

404 
	$»adlše
()

406 *
p
;

408 ià(
	`fg‘s
(
lše
, 1024, 
šå
è=ğ
NULL
)

410 
p
 = 
lše
 ; *p != '#' && *p != '\n' && *p != '\0' ;…++);

411 
p
 > 
lše
 && (p[-1] == ' ' ||…[-1] == '\t'))

412 
p
--;

413 *
p
 = '\0';

414 
lš•
 = 
lše
;

415 
lšno
++;

416 ià(
p
 - 
lše
 > 
BUFLEN
)

417 
	`”rÜ
("Lineoo†ong");

419 
	}
}

424 
	$”rÜ
(cÚ¡ *
msg
, ...)

426 
va_li¡
 
va
;

427 
	`va_¡¬t
(
va
, 
msg
);

429 (è
	`årštf
(
¡d”r
, "lš%d: ", 
lšno
);

430 (è
	`vårštf
(
¡d”r
, 
msg
, 
va
);

431 (è
	`åutc
('\n', 
¡d”r
);

433 
	`va_’d
(
va
);

435 
	`ex™
(2);

436 
	}
}

441 
	$§ve¡r
(cÚ¡ *
s
)

443 *
p
;

445 ià((
p
 = 
	`m®loc
(
	`¡¾’
(
s
è+ 1)è=ğ
NULL
)

446 
	`”rÜ
("Out of space");

447 (è
	`¡rıy
(
p
, 
s
);

448  
p
;

449 
	}
}

	@sh/mksyntax.c

34 #iâdeà
lšt


35 cÚ¡ 
	gcİyright
[] =

40 #iâdeà
lšt


41 
	gsccsid
[] = "@(#)mksyntax.c 8.2 (Berkeley) 5/4/95";

44 
	~<sys/cdefs.h
>

45 
__FBSDID
("$FreeBSD: src/bin/sh/mksyntax.c,v 1.26.2.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

51 
	~<¡dio.h
>

52 
	~<¡dlib.h
>

53 
	~<¡ršg.h
>

54 
	~"·r£r.h
"

57 
	ssynşass
 {

58 cÚ¡ *
	mÇme
;

59 cÚ¡ *
	mcomm’t
;

63 
synşass
 
	gsynşass
[] = {

78 { 
NULL
, NULL }

86 
synşass
 
	gis_’Œy
[] = {

92 { 
NULL
, NULL }

95 
	gwr™”
[] = "\
/*\n\
* This file was generated byhe mksyntax…rogram.\n\
*/\n\
\n";

102 
FILE
 *
	gcfe
;

103 
FILE
 *
	ghfe
;

104 cÚ¡ *
	gsyÁax
[513];

105 
	gba£
;

106 
	gsize
;

107 
	gnb™s
;

108 
	gdig™_cÚtig
;

110 
fÉabË
(const *);

111 
š™
();

112 
add
(const *, const *);

113 
´št
(const *);

114 
ouut_ty³_maüos
();

115 
dig™_cÚv”t
();

118 
	$maš
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

120 
c
;

121 
d
;

122 
sign
;

123 
i
;

124 
buf
[80];

125 
pos
;

126 
dig™
[] = "0123456789";

129 ià((
cfe
 = 
	`fİ’
("syÁax.c", "w")è=ğ
NULL
) {

130 
	`³¼Ü
("syntax.c");

131 
	`ex™
(2);

133 ià((
hfe
 = 
	`fİ’
("syÁax.h", "w")è=ğ
NULL
) {

134 
	`³¼Ü
("syntax.h");

135 
	`ex™
(2);

137 
	`åuts
(
wr™”
, 
hfe
);

138 
	`åuts
(
wr™”
, 
cfe
);

141 
c
 = -1;

142 
sign
 = (
c
 > 0) ? 0 : 1;

143 
nb™s
 = 1 ; ;‚bits++) {

144 
d
 = (1 << 
nb™s
) - 1;

145 ià(
d
 =ğ
c
)

149 
	`´štf
("% %d b™ ch¬s\n", 
sign
? "sigÃd" : "unsigÃd", 
nb™s
);

151 ià(
nb™s
 > 9) {

152 
	`åuts
("Ch¬aù” ÿn'ˆhavmÜthª 9 b™s\n", 
¡d”r
);

153 
	`ex™
(2);

155 
size
 = (1 << 
nb™s
) + 1;

156 
ba£
 = 1;

157 ià(
sign
)

158 
ba£
 +ğ1 << (
nb™s
 - 1);

159 
dig™_cÚtig
 = 1;

160 
i
 = 0 ; i < 10 ; i++) {

161 ià(
dig™
[
i
] != '0' + i)

162 
dig™_cÚtig
 = 0;

165 
	`åuts
("#šşud<sys/cdefs.h>\n", 
hfe
);

166 
	`åuts
("#šşud<ùy³.h>\n", 
hfe
);

169 
	`åuts
("/* SyÁax cÏs£ */\n", 
hfe
);

170 
i
 = 0 ; 
synşass
[i].
Çme
 ; i++) {

171 
	`¥rštf
(
buf
, "#defš% %d", 
synşass
[
i
].
Çme
, i);

172 
	`åuts
(
buf
, 
hfe
);

173 
pos
 = 
	`¡¾’
(
buf
) ;…os < 32 ;…os = (pos + 8) & ~07)

174 
	`putc
('\t', 
hfe
);

175 
	`årštf
(
hfe
, "/* % */\n", 
synşass
[
i
].
comm’t
);

177 
	`putc
('\n', 
hfe
);

178 
	`åuts
("/* SyÁax cÏs£ fÜ is_ funùiÚ */\n", 
hfe
);

179 
i
 = 0 ; 
is_’Œy
[i].
Çme
 ; i++) {

180 
	`¥rštf
(
buf
, "#defš% %#o", 
is_’Œy
[
i
].
Çme
, 1 << i);

181 
	`åuts
(
buf
, 
hfe
);

182 
pos
 = 
	`¡¾’
(
buf
) ;…os < 32 ;…os = (pos + 8) & ~07)

183 
	`putc
('\t', 
hfe
);

184 
	`årštf
(
hfe
, "/* % */\n", 
is_’Œy
[
i
].
comm’t
);

186 
	`putc
('\n', 
hfe
);

187 
	`årštf
(
hfe
, "#defšSYNBASE %d\n", 
ba£
);

188 
	`årštf
(
hfe
, "#defšPEOF %d\n\n", -
ba£
);

189 
	`putc
('\n', 
hfe
);

190 
	`åuts
("#defšBASESYNTAX (ba£syÁax + SYNBASE)\n", 
hfe
);

191 
	`åuts
("#defšDQSYNTAX (dqsyÁax + SYNBASE)\n", 
hfe
);

192 
	`åuts
("#defšSQSYNTAX (sqsyÁax + SYNBASE)\n", 
hfe
);

193 
	`åuts
("#defšARISYNTAX (¬isyÁax + SYNBASE)\n", 
hfe
);

194 
	`putc
('\n', 
hfe
);

195 
	`ouut_ty³_maüos
();

196 
	`putc
('\n', 
hfe
);

199 
	`åuts
("#šşud\"sh–l.h\"\n", 
cfe
);

200 
	`åuts
("#šşud\"syÁax.h\"\n\n", 
cfe
);

201 
	`š™
();

202 
	`åuts
("/* syÁaxabË u£d wh’‚Ù iÀquÙe */\n", 
cfe
);

203 
	`add
("\n", "CNL");

204 
	`add
("\\", "CBACK");

205 
	`add
("'", "CSQUOTE");

206 
	`add
("\"", "CDQUOTE");

207 
	`add
("`", "CBQUOTE");

208 
	`add
("$", "CVAR");

209 
	`add
("}", "CENDVAR");

210 
	`add
("<>();&| \t", "CSPCL");

211 
	`´št
("basesyntax");

212 
	`š™
();

213 
	`åuts
("\n/* syÁaxabË u£d wh’ iÀdoubË quÙe */\n", 
cfe
);

214 
	`add
("\n", "CNL");

215 
	`add
("\\", "CBACK");

216 
	`add
("\"", "CENDQUOTE");

217 
	`add
("`", "CBQUOTE");

218 
	`add
("$", "CVAR");

219 
	`add
("}", "CENDVAR");

221 
	`add
("!*?[=~:/-", "CCTL");

222 
	`´št
("dqsyntax");

223 
	`š™
();

224 
	`åuts
("\n/* syÁaxabË u£d wh’ iÀsšgË quÙe */\n", 
cfe
);

225 
	`add
("\n", "CNL");

226 
	`add
("'", "CENDQUOTE");

228 
	`add
("!*?[=~:/-", "CCTL");

229 
	`´št
("sqsyntax");

230 
	`š™
();

231 
	`åuts
("\n/* syÁaxabË u£d wh’ iÀ¬™hm‘iø*/\n", 
cfe
);

232 
	`add
("\n", "CNL");

233 
	`add
("\\", "CBACK");

234 
	`add
("`", "CBQUOTE");

235 
	`add
("'", "CSQUOTE");

236 
	`add
("\"", "CDQUOTE");

237 
	`add
("$", "CVAR");

238 
	`add
("}", "CENDVAR");

239 
	`add
("(", "CLP");

240 
	`add
(")", "CRP");

241 
	`´št
("arisyntax");

242 
	`fÉabË
("0");

243 
	`åuts
("\n/* ch¬aù” cÏssifiÿtiÚabË */\n", 
cfe
);

244 
	`add
("0123456789", "ISDIGIT");

245 
	`add
("abcdefghijklmnopqrstucvwxyz", "ISLOWER");

246 
	`add
("ABCDEFGHIJKLMNOPQRSTUCVWXYZ", "ISUPPER");

247 
	`add
("_", "ISUNDER");

248 
	`add
("#?$!-*@", "ISSPECL");

249 
	`´št
("is_type");

250 ià(! 
dig™_cÚtig
)

251 
	`dig™_cÚv”t
();

252 
	`ex™
(0);

253 
	}
}

262 
	$fÉabË
(cÚ¡ *
dáv®
)

264 
i
;

266 
i
 = 0 ; i < 
size
 ; i++)

267 
syÁax
[
i
] = 
dáv®
;

268 
	}
}

276 
	$š™
()

278 
	`fÉabË
("CWORD");

279 
syÁax
[0] = "CEOF";

280 
syÁax
[
ba£
 + 
CTLESC
] = "CCTL";

281 
syÁax
[
ba£
 + 
CTLVAR
] = "CCTL";

282 
syÁax
[
ba£
 + 
CTLENDVAR
] = "CCTL";

283 
syÁax
[
ba£
 + 
CTLBACKQ
] = "CCTL";

284 
syÁax
[
ba£
 + 
CTLBACKQ
 + 
CTLQUOTE
] = "CCTL";

285 
syÁax
[
ba£
 + 
CTLARI
] = "CCTL";

286 
syÁax
[
ba£
 + 
CTLENDARI
] = "CCTL";

287 
syÁax
[
ba£
 + 
CTLQUOTEMARK
] = "CCTL";

288 
	}
}

296 
	$add
(cÚ¡ *
p
, cÚ¡ *
ty³
)

298 *
p
)

299 
syÁax
[*
p
++ + 
ba£
] = 
ty³
;

300 
	}
}

309 
	$´št
(cÚ¡ *
Çme
)

311 
i
;

312 
cŞ
;

314 
	`årštf
(
hfe
, "ex‹º cÚ¡ ch¬ %s[];\n", 
Çme
);

315 
	`årštf
(
cfe
, "cÚ¡ ch¬ %s[%d] = {\n", 
Çme
, 
size
);

316 
cŞ
 = 0;

317 
i
 = 0 ; i < 
size
 ; i++) {

318 ià(
i
 == 0) {

319 
	`åuts
(" ", 
cfe
);

320 } ià((
i
 & 03) == 0) {

321 
	`åuts
(",\À ", 
cfe
);

322 
cŞ
 = 0;

324 
	`putc
(',', 
cfe
);

325 ++
cŞ
 < 9 * (
i
 & 03))

326 
	`putc
(' ', 
cfe
);

328 
	`åuts
(
syÁax
[
i
], 
cfe
);

329 
cŞ
 +ğ
	`¡¾’
(
syÁax
[
i
]);

331 
	`åuts
("\n};\n", 
cfe
);

332 
	}
}

341 cÚ¡ *
	gmaüo
[] = {

348 
NULL


352 
	$ouut_ty³_maüos
()

354 cÚ¡ **
µ
;

356 ià(
dig™_cÚtig
)

357 
maüo
[0] = "#define is_digit(c)\t((unsigned int)((c) - '0') <= 9)";

358 
µ
 = 
maüo
 ; *pp ;…p++)

359 
	`årštf
(
hfe
, "%s\n", *
µ
);

360 ià(
dig™_cÚtig
)

361 
	`åuts
("#defšdig™_v®(c)\t((cè- '0')\n", 
hfe
);

363 
	`åuts
("#defšdig™_v®(c)\t(dig™_v®ue[c])\n", 
hfe
);

364 
	}
}

373 
	$dig™_cÚv”t
()

375 
maxdig™
;

376 
dig™
[] = "0123456789";

377 *
p
;

378 
i
;

380 
maxdig™
 = 0;

381 
p
 = 
dig™
 ; *p ;…++)

382 ià(*
p
 > 
maxdig™
)

383 
maxdig™
 = *
p
;

384 
	`åuts
("ex‹º cÚ¡ ch¬ dig™_v®ue[];\n", 
hfe
);

385 
	`åuts
("\n\ncÚ¡ ch¬ dig™_v®ue[] = {\n", 
cfe
);

386 
i
 = 0 ; i <ğ
maxdig™
 ; i++) {

387 
p
 = 
dig™
 ; *°&& *°!ğ
i
 ;…++);

388 ià(*
p
 == '\0')

389 
p
 = 
dig™
;

390 
	`årštf
(
cfe
, " %d,\n", ()(
p
 - 
dig™
));

392 
	`åuts
("};\n", 
cfe
);

393 
	}
}

	@sh/myhistedit.h

33 
	~<hi¡ed™.h
>

35 
Hi¡Üy
 *
hi¡
;

36 
Ed™Lše
 *
–
;

37 
di¥Ïyhi¡
;

39 
hi¡ed™
();

40 
£thi¡size
(const *);

41 
hi¡cmd
(, **);

42 
nÙ_fúumb”
(const *);

43 
¡r_to_ev’t
(const *, );

44 
bšdcmd
(, **);

	@sh/mystring.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)mystring.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/mystring.c,v 1.13.30.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

51 
	~<¡dlib.h
>

52 
	~"sh–l.h
"

53 
	~"syÁax.h
"

54 
	~"”rÜ.h
"

55 
	~"my¡ršg.h
"

58 
	gnuÎ¡r
[1];

76 
	$scİyn
(cÚ¡ *
äom
, *
to
, 
size
)

79 --
size
 > 0) {

80 ià((*
to
++ = *
äom
++) == '\0')

83 *
to
 = '\0';

84 
	}
}

92 
	$´efix
(cÚ¡ *
pfx
, cÚ¡ *
¡ršg
)

94 *
pfx
) {

95 ià(*
pfx
++ !ğ*
¡ršg
++)

99 
	}
}

108 
	$numb”
(cÚ¡ *
s
)

110 ià(! 
	`is_numb”
(
s
))

111 
	`”rÜ
("IÎeg®‚umb”: %s", 
s
);

112  
	`©oi
(
s
);

113 
	}
}

122 
	$is_numb”
(cÚ¡ *
p
)

125 ià(! 
	`is_dig™
(*
p
))

127 } *++
p
 != '\0');

129 
	}
}

	@sh/mystring.h

36 
	~<¡ršg.h
>

38 
scİyn
(const *, *, );

39 
´efix
(const *, const *);

40 
numb”
(const *);

41 
is_numb”
(const *);

43 
	#equ®
(
s1
, 
s2
è(
	`¡rcmp
(s1, s2è=ğ0)

	)

44 
	#scİy
(
s1
, 
s2
è(()
	`¡rıy
(s2, s1))

	)

	@sh/options.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)options.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/options.c,v 1.27.2.6.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sigÇl.h
>

42 
	~<uni¡d.h
>

43 
	~<¡dlib.h
>

45 
	~"sh–l.h
"

46 
	#DEFINE_OPTIONS


	)

47 
	~"İtiÚs.h
"

48 #undeà
DEFINE_OPTIONS


49 
	~"nodes.h
"

50 
	~"ev®.h
"

51 
	~"jobs.h
"

52 
	~"šput.h
"

53 
	~"ouut.h
"

54 
	~"Œ­.h
"

55 
	~"v¬.h
"

56 
	~"mem®loc.h
"

57 
	~"”rÜ.h
"

58 
	~"my¡ršg.h
"

59 #iâdeà
NO_HISTORY


60 
	~"myhi¡ed™.h
"

63 *
	g¬g0
;

64 
sh·¿m
 
	gsh–Í¬am
;

65 **
	g¬g±r
;

66 *
	gshİrg
;

67 *
	gÃxtİt_İŒ
;

69 *
	gmšusc
;

72 
İtiÚs
();

73 
mšus_o
(*, );

74 
£tİtiÚ
(, );

75 
g‘İts
(*, *, **, ***, **);

83 
	$´oÿrgs
(
¬gc
, **
¬gv
)

85 
i
;

87 
¬g±r
 = 
¬gv
;

88 ià(
¬gc
 > 0)

89 
¬g±r
++;

90 
i
 = 0; i < 
NOPTS
; i++)

91 
İi¡
[
i
].
v®
 = 2;

92 
´iveged
 = (
	`g‘uid
(è!ğ
	`g‘euid
(è|| 
	`g‘gid
(è!ğ
	`g‘egid
());

93 
	`İtiÚs
(1);

94 ià(*
¬g±r
 =ğ
NULL
 && 
mšusc
 == NULL)

95 
sæag
 = 1;

96 ià(
iæag
 =ğ2 && 
sæag
 =ğ1 && 
	`i§‰y
(0) && isatty(1))

97 
iæag
 = 1;

98 ià(
mæag
 == 2)

99 
mæag
 = 
iæag
;

100 
i
 = 0; i < 
NOPTS
; i++)

101 ià(
İi¡
[
i
].
v®
 == 2)

102 
İi¡
[
i
].
v®
 = 0;

103 
¬g0
 = 
¬gv
[0];

104 ià(
sæag
 =ğ0 && 
mšusc
 =ğ
NULL
) {

105 
commªdÇme
 = 
¬g0
 = *
¬g±r
++;

106 
	`£tšputfe
(
commªdÇme
, 0);

109 ià(
¬g±r
 && 
mšusc
 && *argptr)

110 
¬g0
 = *
¬g±r
++;

112 
sh–Í¬am
.
p
 = 
¬g±r
;

113 
sh–Í¬am
.
»£t
 = 1;

115 *
¬g±r
) {

116 
sh–Í¬am
.
Å¬am
++;

117 
¬g±r
++;

119 
	`İtschªged
();

120 
	}
}

124 
	$İtschªged
()

126 
	`£tš‹¿ùive
(
iæag
);

127 #iâdeà
NO_HISTORY


128 
	`hi¡ed™
();

130 
	`£tjobùl
(
mæag
);

131 
	}
}

139 
	$İtiÚs
(
cmdlše
)

141 *
kp
, *
p
;

142 
v®
;

143 
c
;

145 ià(
cmdlše
)

146 
mšusc
 = 
NULL
;

147 (
p
 = *
¬g±r
è!ğ
NULL
) {

148 
¬g±r
++;

149 ià((
c
 = *
p
++) == '-') {

150 
v®
 = 1;

152 ià(
p
[0] == '\0')

153 
’d_İtiÚs1
;

154 ià(
p
[0] == '-' &&…[1] == '\0')

155 
’d_İtiÚs2
;

168 ià(
p
[0] == '-') {

169 
kp
 = 
p
 + 1;

170 *
kp
 == ' ' || *kp == '\t')

171 
kp
++;

172 ià(*
kp
 == '#' || *kp == '\0')

173 
’d_İtiÚs2
;

175 } ià(
c
 == '+') {

176 
v®
 = 0;

178 
¬g±r
--;

181 (
c
 = *
p
++) != '\0') {

182 ià(
c
 =ğ'c' && 
cmdlše
) {

183 *
q
;

184 #ifdeà
NOHACK


185 ià(*
p
 == '\0')

187 
q
 = *
¬g±r
++;

188 ià(
q
 =ğ
NULL
 || 
mšusc
 != NULL)

189 
	`”rÜ
("Bad -c option");

190 
mšusc
 = 
q
;

191 #ifdeà
NOHACK


194 } ià(
c
 == 'o') {

195 
	`mšus_o
(*
¬g±r
, 
v®
);

196 ià(*
¬g±r
)

197 
¬g±r
++;

199 
	`£tİtiÚ
(
c
, 
v®
);

205 
’d_İtiÚs1
:

206 ià(!
cmdlše
) {

207 
xæag
 = 
væag
 = 0;

217 
’d_İtiÚs2
:

218 ià(!
cmdlše
) {

219 ià(*
¬g±r
 =ğ
NULL
)

220 
	`£¬am
(
¬g±r
);

233 
p
 = *
¬g±r
;

234 ià(
p
 !ğ
NULL
 &&…[0] == '#' &&…[1] == '\0') {

235 *
¬g±r
 !ğ
NULL
)

236 
¬g±r
++;

238 
¬g±r
--;

240 
	}
}

243 
	$mšus_o
(*
Çme
, 
v®
)

245 
i
;

247 ià(
Çme
 =ğ
NULL
) {

248 ià(
v®
) {

250 
	`out1¡r
("Current option settings\n");

251 
i
 = 0; i < 
NOPTS
; i++)

252 
	`out1fmt
("%-16s%s\n", 
İi¡
[
i
].
Çme
,

253 
İi¡
[
i
].
v®
 ? "on" : "off");

256 
i
 = 0; i < 
NOPTS
; i++) {

257 ià(
i
 % 6 == 0)

258 
	`out1¡r
(
i
 == 0 ? "set" : "\nset");

259 
	`out1fmt
(" %cØ%s", 
İi¡
[
i
].
v®
 ? '-' : '+',

260 
İi¡
[
i
].
Çme
);

262 
	`out1c
('\n');

265 
i
 = 0; i < 
NOPTS
; i++)

266 ià(
	`equ®
(
Çme
, 
İi¡
[
i
].name)) {

267 
	`£tİtiÚ
(
İi¡
[
i
].
Ë‰”
, 
v®
);

270 
	`”rÜ
("IÎeg® o±iÚ -Ø%s", 
Çme
);

272 
	}
}

276 
	$£tİtiÚ
(
æag
, 
v®
)

278 
i
;

280 ià(
æag
 =ğ'p' && !
v®
 && 
´iveged
) {

281 ià(
	`£tgid
(
	`g‘gid
()) == -1)

282 
	`”rÜ
("setgid");

283 ià(
	`£tuid
(
	`g‘uid
()) == -1)

284 
	`”rÜ
("setuid");

286 
i
 = 0; i < 
NOPTS
; i++)

287 ià(
İi¡
[
i
].
Ë‰”
 =ğ
æag
) {

288 
İi¡
[
i
].
v®
 = val;

289 ià(
v®
) {

291 ià(
æag
 == 'V')

292 
Eæag
 = 0;

293 ià(
æag
 == 'E')

294 
Væag
 = 0;

298 
	`”rÜ
("IÎeg® o±iÚ -%c", 
æag
);

299 
	}
}

303 #ifdeà
mkš™


304 
	gINCLUDE
 "options.h"

306 
	gSHELLPROC
 {

307 
	gi
;

309 
	gi
 = 0; i < 
	gNOPTS
; i++)

310 
	gİi¡
[
i
].
	gv®
 = 0;

311 
İtschªged
();

322 
	$£¬am
(**
¬gv
)

324 **
Ãw·¿m
;

325 **
­
;

326 
Å¬am
;

328 
Å¬am
 = 0 ; 
¬gv
[nparam] ;‚param++);

329 
­
 = 
Ãw·¿m
 = 
	`ckm®loc
((
Å¬am
 + 1) *  *ap);

330 *
¬gv
) {

331 *
­
++ = 
	`§ve¡r
(*
¬gv
++);

333 *
­
 = 
NULL
;

334 
	`ä“·¿m
(&
sh–Í¬am
);

335 
sh–Í¬am
.
m®loc
 = 1;

336 
sh–Í¬am
.
Å¬am
 =‚param;

337 
sh–Í¬am
.
p
 = 
Ãw·¿m
;

338 
sh–Í¬am
.
»£t
 = 1;

339 
sh–Í¬am
.
İŠext
 = 
NULL
;

340 
	}
}

348 
	$ä“·¿m
(
sh·¿m
 *
·¿m
)

350 **
­
;

352 ià(
·¿m
->
m®loc
) {

353 
­
 = 
·¿m
->
p
 ; *ap ;‡p++)

354 
	`ckä“
(*
­
);

355 
	`ckä“
(
·¿m
->
p
);

357 
	}
}

366 
	$shiácmd
(
¬gc
, **
¬gv
)

368 
n
;

369 **
­1
, **
­2
;

371 
n
 = 1;

372 ià(
¬gc
 > 1)

373 
n
 = 
	`numb”
(
¬gv
[1]);

374 ià(
n
 > 
sh–Í¬am
.
Å¬am
)

376 
INTOFF
;

377 
sh–Í¬am
.
Å¬am
 -ğ
n
;

378 
­1
 = 
sh–Í¬am
.
p
 ; --
n
 >= 0 ;‡p1++) {

379 ià(
sh–Í¬am
.
m®loc
)

380 
	`ckä“
(*
­1
);

382 
­2
 = 
sh–Í¬am
.
p
;

383 (*
­2
++ = *
­1
++è!ğ
NULL
);

384 
sh–Í¬am
.
»£t
 = 1;

385 
INTON
;

387 
	}
}

396 
	$£tcmd
(
¬gc
, **
¬gv
)

398 ià(
¬gc
 == 1)

399  
	`showv¬scmd
(
¬gc
, 
¬gv
);

400 
INTOFF
;

401 
	`İtiÚs
(0);

402 
	`İtschªged
();

403 ià(*
¬g±r
 !ğ
NULL
) {

404 
	`£¬am
(
¬g±r
);

406 
INTON
;

408 
	}
}

412 
	$g‘İt¤e£t
(cÚ¡ *
v®ue
)

414 ià(
	`numb”
(
v®ue
) == 1) {

415 
sh–Í¬am
.
»£t
 = 1;

417 
	}
}

427 
	$g‘İtscmd
(
¬gc
, **
¬gv
)

429 **
İtba£
 = 
NULL
;

431 ià(
¬gc
 < 3)

432 
	`”rÜ
("usage: getopts optstring var [arg]");

433 ià(
¬gc
 == 3)

434 
İtba£
 = 
sh–Í¬am
.
p
;

436 
İtba£
 = &
¬gv
[3];

438 ià(
sh–Í¬am
.
»£t
 == 1) {

439 
sh–Í¬am
.
İŠext
 = 
İtba£
;

440 
sh–Í¬am
.
İŒ
 = 
NULL
;

441 
sh–Í¬am
.
»£t
 = 0;

444  
	`g‘İts
(
¬gv
[1],‡rgv[2], 
İtba£
, &
sh–Í¬am
.
İŠext
,

445 &
sh–Í¬am
.
İŒ
);

446 
	}
}

449 
	$g‘İts
(*
İt¡r
, *
İtv¬
, **
İtfœ¡
, ***
İŠext
,

450 **
İŒ
)

452 *
p
, *
q
;

453 
c
 = '?';

454 
dÚe
 = 0;

455 
šd
 = 0;

456 
”r
 = 0;

457 
s
[10];

459 ià((
p
 = *
İŒ
è=ğ
NULL
 || *p == '\0') {

461 ià(*
İŠext
 =ğ
NULL
)

463 
p
 = **
İŠext
;

464 ià(
p
 =ğ
NULL
 || *p != '-' || *++p == '\0') {

465 
©’d
:

466 
šd
 = *
İŠext
 - 
İtfœ¡
 + 1;

467 *
İŠext
 = 
NULL
;

468 
p
 = 
NULL
;

469 
dÚe
 = 1;

470 
out
;

472 (*
İŠext
)++;

473 ià(
p
[0] == '-' &&…[1] == '\0')

474 
©’d
;

477 
c
 = *
p
++;

478 
q
 = 
İt¡r
; *q !ğ
c
; ) {

479 ià(*
q
 == '\0') {

480 ià(
İt¡r
[0] == ':') {

481 
s
[0] = 
c
;

482 
s
[1] = '\0';

483 
”r
 |ğ
	`£tv¬§ã
("OPTARG", 
s
, 0);

486 
	`out1fmt
("IÎeg® o±iÚ -%c\n", 
c
);

487 (è
	`un£tv¬
("OPTARG");

489 
c
 = '?';

490 
bad
;

492 ià(*++
q
 == ':')

493 
q
++;

496 ià(*++
q
 == ':') {

497 ià(*
p
 =ğ'\0' && (°ğ**
İŠext
è=ğ
NULL
) {

498 ià(
İt¡r
[0] == ':') {

499 
s
[0] = 
c
;

500 
s
[1] = '\0';

501 
”r
 |ğ
	`£tv¬§ã
("OPTARG", 
s
, 0);

502 
c
 = ':';

505 
	`out1fmt
("NØ¬g fÜ -%øİtiÚ\n", 
c
);

506 (è
	`un£tv¬
("OPTARG");

507 
c
 = '?';

509 
bad
;

512 ià(
p
 =ğ**
İŠext
)

513 (*
İŠext
)++;

514 
	`£tv¬§ã
("OPTARG", 
p
, 0);

515 
p
 = 
NULL
;

518 
	`£tv¬§ã
("OPTARG", "", 0);

519 
šd
 = *
İŠext
 - 
İtfœ¡
 + 1;

520 
out
;

522 
bad
:

523 
šd
 = 1;

524 *
İŠext
 = 
NULL
;

525 
p
 = 
NULL
;

526 
out
:

527 *
İŒ
 = 
p
;

528 
	`fmt¡r
(
s
, (s), "%d", 
šd
);

529 
”r
 |ğ
	`£tv¬§ã
("OPTIND", 
s
, 
VNOFUNC
);

530 
s
[0] = 
c
;

531 
s
[1] = '\0';

532 
”r
 |ğ
	`£tv¬§ã
(
İtv¬
, 
s
, 0);

533 ià(
”r
) {

534 *
İŠext
 = 
NULL
;

535 *
İŒ
 = 
NULL
;

536 
	`æush®l
();

537 
	`ex¿i£
(
EXERROR
);

539  
dÚe
;

540 
	}
}

554 
	$Ãxtİt
(cÚ¡ *
İt¡ršg
)

556 *
p
;

557 cÚ¡ *
q
;

558 
c
;

560 ià((
p
 = 
Ãxtİt_İŒ
è=ğ
NULL
 || *p == '\0') {

561 
p
 = *
¬g±r
;

562 ià(
p
 =ğ
NULL
 || *p != '-' || *++p == '\0')

564 
¬g±r
++;

565 ià(
p
[0] == '-' &&…[1] == '\0')

568 
c
 = *
p
++;

569 
q
 = 
İt¡ršg
 ; *q !ğ
c
 ; ) {

570 ià(*
q
 == '\0')

571 
	`”rÜ
("IÎeg® o±iÚ -%c", 
c
);

572 ià(*++
q
 == ':')

573 
q
++;

575 ià(*++
q
 == ':') {

576 ià(*
p
 =ğ'\0' && (°ğ*
¬g±r
++è=ğ
NULL
)

577 
	`”rÜ
("NØ¬g fÜ -%øİtiÚ", 
c
);

578 
shİrg
 = 
p
;

579 
p
 = 
NULL
;

581 
Ãxtİt_İŒ
 = 
p
;

582  
c
;

583 
	}
}

	@sh/options.h

36 
	ssh·¿m
 {

37 
	mÅ¬am
;

38 
	mm®loc
;

39 
	m»£t
;

40 **
	mp
;

41 **
	mİŠext
;

42 *
	mİŒ
;

47 
	#eæag
 
İi¡
[0].
v®


	)

48 
	#fæag
 
İi¡
[1].
v®


	)

49 
	#Iæag
 
İi¡
[2].
v®


	)

50 
	#iæag
 
İi¡
[3].
v®


	)

51 
	#mæag
 
İi¡
[4].
v®


	)

52 
	#næag
 
İi¡
[5].
v®


	)

53 
	#sæag
 
İi¡
[6].
v®


	)

54 
	#xæag
 
İi¡
[7].
v®


	)

55 
	#væag
 
İi¡
[8].
v®


	)

56 
	#Væag
 
İi¡
[9].
v®


	)

57 
	#Eæag
 
İi¡
[10].
v®


	)

58 
	#Cæag
 
İi¡
[11].
v®


	)

59 
	#aæag
 
İi¡
[12].
v®


	)

60 
	#bæag
 
İi¡
[13].
v®


	)

61 
	#uæag
 
İi¡
[14].
v®


	)

62 
	#´iveged
 
İi¡
[15].
v®


	)

63 
	#Tæag
 
İi¡
[16].
v®


	)

64 
	#Pæag
 
İi¡
[17].
v®


	)

66 
	#NOPTS
 18

	)

68 
	sİ‹Á
 {

69 cÚ¡ *
	mÇme
;

70 cÚ¡ 
	mË‰”
;

71 
	mv®
;

74 #ifdeà
DEFINE_OPTIONS


75 
İ‹Á
 
	gİi¡
[
NOPTS
] = {

96 
İ‹Á
 
İi¡
[
NOPTS
];

100 *
mšusc
;

101 *
¬g0
;

102 
sh·¿m
 
sh–Í¬am
;

103 **
¬g±r
;

104 *
shİrg
;

105 *
Ãxtİt_İŒ
;

107 
´oÿrgs
(, **);

108 
İtschªged
();

109 
£¬am
(**);

110 
ä“·¿m
(
sh·¿m
 *);

111 
shiácmd
(, **);

112 
£tcmd
(, **);

113 
g‘İtscmd
(, **);

114 
Ãxtİt
(const *);

115 
g‘İt¤e£t
(const *);

	@sh/output.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)output.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/output.c,v 1.21.2.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

51 
	~<¡dio.h
>

52 
	~<¡ršg.h
>

53 
	~<¡d¬g.h
>

54 
	~<”ºo.h
>

55 
	~<uni¡d.h
>

56 
	~<¡dlib.h
>

58 
	~"sh–l.h
"

59 
	~"syÁax.h
"

60 
	~"ouut.h
"

61 
	~"mem®loc.h
"

62 
	~"”rÜ.h
"

63 
	~"v¬.h
"

66 
	#OUTBUFSIZ
 
BUFSIZ


	)

67 
	#BLOCK_OUT
 -2

	)

68 
	#MEM_OUT
 -3

	)

69 
	#OUTPUT_ERR
 01

	)

71 
dofÜm©_wr
(*, const *, );

73 
ouut
 
	gouut
 = {
NULL
, 0, NULL, 
OUTBUFSIZ
, 1, 0};

74 
ouut
 
	g”rout
 = {
NULL
, 0, NULL, 100, 2, 0};

75 
ouut
 
	gmemout
 = {
NULL
, 0, NULL, 0, 
MEM_OUT
, 0};

76 
ouut
 *
	gout1
 = &output;

77 
ouut
 *
	gout2
 = &
”rout
;

81 #ifdeà
mkš™


83 
	gINCLUDE
 "output.h"

84 
	gINCLUDE
 "memalloc.h"

86 
	gRESET
 {

87 
	gout1
 = &
ouut
;

88 
	gout2
 = &
”rout
;

89 ià(
	gmemout
.
	gbuf
 !ğ
NULL
) {

90 
ckä“
(
memout
.
buf
);

91 
	gmemout
.
	gbuf
 = 
NULL
;

99 
	$out1¡r
(cÚ¡ *
p
)

101 
	`out¡r
(
p
, 
out1
);

102 
	}
}

105 
	$out1q¡r
(cÚ¡ *
p
)

107 
	`outq¡r
(
p
, 
out1
);

108 
	}
}

111 
	$out2¡r
(cÚ¡ *
p
)

113 
	`out¡r
(
p
, 
out2
);

114 
	}
}

117 
	$out2q¡r
(cÚ¡ *
p
)

119 
	`outq¡r
(
p
, 
out2
);

120 
	}
}

123 
	$out¡r
(cÚ¡ *
p
, 
ouut
 *
fe
)

125 *
p
)

126 
	`outc
(*
p
++, 
fe
);

127 ià(
fe
 =ğ
out2
)

128 
	`æushout
(
fe
);

129 
	}
}

133 
	$outq¡r
(cÚ¡ *
p
, 
ouut
 *
fe
)

135 
ch
;

136 
šquÙes
;

138 ià(
p
[0] == '\0') {

139 
	`out¡r
("''", 
fe
);

143 ià(
p
[
	`¡rc¥n
(p, "|&;<>()$`\\\"' \t\n*?[~#")] == '\0' ||

144 
	`¡rcmp
(
p
, "[") == 0) {

145 
	`out¡r
(
p
, 
fe
);

149 
šquÙes
 = 0;

150 (
ch
 = *
p
++) != '\0') {

151 
ch
) {

154 ià(
šquÙes
)

155 
	`outc
('\'', 
fe
);

156 
šquÙes
 = 0;

157 
	`out¡r
("\\'", 
fe
);

160 ià(!
šquÙes
)

161 
	`outc
('\'', 
fe
);

162 
šquÙes
 = 1;

163 
	`outc
(
ch
, 
fe
);

166 ià(
šquÙes
)

167 
	`outc
('\'', 
fe
);

168 
	}
}

170 
	gout_junk
[16];

173 
	$em±youtbuf
(
ouut
 *
de¡
)

175 
off£t
;

177 ià(
de¡
->
fd
 =ğ
BLOCK_OUT
) {

178 
de¡
->
Ãxtc
 = 
out_junk
;

179 
de¡
->
Æeá
 =  
out_junk
;

180 
de¡
->
æags
 |ğ
OUTPUT_ERR
;

181 } ià(
de¡
->
buf
 =ğ
NULL
) {

182 
INTOFF
;

183 
de¡
->
buf
 = 
	`ckm®loc
(de¡->
bufsize
);

184 
de¡
->
Ãxtc
 = de¡->
buf
;

185 
de¡
->
Æeá
 = de¡->
bufsize
;

186 
INTON
;

187 } ià(
de¡
->
fd
 =ğ
MEM_OUT
) {

188 
off£t
 = 
de¡
->
bufsize
;

189 
INTOFF
;

190 
de¡
->
bufsize
 <<= 1;

191 
de¡
->
buf
 = 
	`ck»®loc
(de¡->buf, de¡->
bufsize
);

192 
de¡
->
Æeá
 = de¡->
bufsize
 - 
off£t
;

193 
de¡
->
Ãxtc
 = de¡->
buf
 + 
off£t
;

194 
INTON
;

196 
	`æushout
(
de¡
);

198 
de¡
->
Æeá
--;

199 
	}
}

203 
	$æush®l
()

205 
	`æushout
(&
ouut
);

206 
	`æushout
(&
”rout
);

207 
	}
}

211 
	$æushout
(
ouut
 *
de¡
)

214 ià(
de¡
->
buf
 =ğ
NULL
 || de¡->
Ãxtc
 =ğde¡->buà|| de¡->
fd
 < 0)

216 ià(
	`xwr™e
(
de¡
->
fd
, de¡->
buf
, de¡->
Ãxtc
 - dest->buf) < 0)

217 
de¡
->
æags
 |ğ
OUTPUT_ERR
;

218 
de¡
->
Ãxtc
 = de¡->
buf
;

219 
de¡
->
Æeá
 = de¡->
bufsize
;

220 
	}
}

224 
	$ä“¡dout
()

226 
INTOFF
;

227 ià(
ouut
.
buf
) {

228 
	`ckä“
(
ouut
.
buf
);

229 
ouut
.
buf
 = 
NULL
;

230 
ouut
.
Æeá
 = 0;

232 
INTON
;

233 
	}
}

237 
	$outfmt
(
ouut
 *
fe
, cÚ¡ *
fmt
, ...)

239 
va_li¡
 
­
;

241 
	`va_¡¬t
(
­
, 
fmt
);

242 
	`dofÜm©
(
fe
, 
fmt
, 
­
);

243 
	`va_’d
(
­
);

244 
	}
}

248 
	$out1fmt
(cÚ¡ *
fmt
, ...)

250 
va_li¡
 
­
;

252 
	`va_¡¬t
(
­
, 
fmt
);

253 
	`dofÜm©
(
out1
, 
fmt
, 
­
);

254 
	`va_’d
(
­
);

255 
	}
}

258 
	$d´štf
(cÚ¡ *
fmt
, ...)

260 
va_li¡
 
­
;

262 
	`va_¡¬t
(
­
, 
fmt
);

263 
	`dofÜm©
(
out2
, 
fmt
, 
­
);

264 
	`va_’d
(
­
);

265 
	`æushout
(
out2
);

266 
	}
}

269 
	$fmt¡r
(*
outbuf
, 
Ëngth
, cÚ¡ *
fmt
, ...)

271 
va_li¡
 
­
;

272 
ouut
 
¡rout
;

274 
¡rout
.
Ãxtc
 = 
outbuf
;

275 
¡rout
.
Æeá
 = 
Ëngth
;

276 
¡rout
.
fd
 = 
BLOCK_OUT
;

277 
¡rout
.
æags
 = 0;

278 
	`va_¡¬t
(
­
, 
fmt
);

279 
	`dofÜm©
(&
¡rout
, 
fmt
, 
­
);

280 
	`va_’d
(
­
);

281 
	`outc
('\0', &
¡rout
);

282 ià(
¡rout
.
æags
 & 
OUTPUT_ERR
)

283 
outbuf
[
Ëngth
 - 1] = '\0';

284 
	}
}

287 
	$dofÜm©_wr
(*
cook›
, cÚ¡ *
buf
, 
Ën
)

289 
ouut
 *
o
;

290 
ÜigËn
;

291 
c
;

293 
o
 = (
ouut
 *)
cook›
;

294 
ÜigËn
 = 
Ën
;

295 
Ën
-- != 0) {

296 
c
 = ()*
buf
++;

297 
	`outc
(
c
, 
o
);

300  (
ÜigËn
);

301 
	}
}

304 
	$dofÜm©
(
ouut
 *
de¡
, cÚ¡ *
f
, 
va_li¡
 
­
)

306 
FILE
 *
å
;

308 ià((
å
 = 
	`fwİ’
(
de¡
, 
dofÜm©_wr
)è!ğ
NULL
) {

309 
	`vårštf
(
å
, 
f
, 
­
);

310 
	`fşo£
(
å
);

312 
	}
}

319 
	$xwr™e
(
fd
, cÚ¡ *
buf
, 
nby‹s
)

321 
Áry
;

322 
i
;

323 
n
;

325 
n
 = 
nby‹s
;

326 
Áry
 = 0;

328 
i
 = 
	`wr™e
(
fd
, 
buf
, 
n
);

329 ià(
i
 > 0) {

330 ià((
n
 -ğ
i
) <= 0)

331  
nby‹s
;

332 
buf
 +ğ
i
;

333 
Áry
 = 0;

334 } ià(
i
 == 0) {

335 ià(++
Áry
 > 10)

336  
nby‹s
 - 
n
;

337 } ià(
”ºo
 !ğ
EINTR
) {

341 
	}
}

	@sh/output.h

36 #iâdeà
OUTPUT_INCL


38 
	~<¡d¬g.h
>

40 
	souut
 {

41 *
	mÃxtc
;

42 
	mÆeá
;

43 *
	mbuf
;

44 
	mbufsize
;

45 
	mfd
;

46 
	mæags
;

49 
ouut
 output;

50 
ouut
 
”rout
;

51 
ouut
 
memout
;

52 
ouut
 *
out1
;

53 
ouut
 *
out2
;

55 
İ’_mem
(*, , 
ouut
 *);

56 
out1¡r
(const *);

57 
out1q¡r
(const *);

58 
out2¡r
(const *);

59 
out2q¡r
(const *);

60 
out¡r
(cÚ¡ *, 
ouut
 *);

61 
outq¡r
(cÚ¡ *, 
ouut
 *);

62 
em±youtbuf
(
ouut
 *);

63 
æush®l
();

64 
æushout
(
ouut
 *);

65 
ä“¡dout
();

66 
	$outfmt
(
ouut
 *, cÚ¡ *, ...è
	`__´štæike
(2, 3);

67 
	$out1fmt
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

68 
	$d´štf
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

69 
	$fmt¡r
(*, , cÚ¡ *, ...è
	`__´štæike
(3, 4);

70 
	$dofÜm©
(
ouut
 *, cÚ¡ *, 
va_li¡
è
	`__´štæike
(2, 0);

71 
	`xwr™e
(, const *, );

73 
	#outc
(
c
, 
fe
è(--(fe)->
Æeá
 < 0? (
	`em±youtbuf
(fe), *(fe)->
Ãxtc
++ = (c)è: (*(fe)->Ãxtc++ = (c)))

	)

74 
	#out1c
(
c
è
	`outc
(c, 
out1
);

	)

75 
	#out2c
(
c
è
	`outc
(c, 
out2
);

	)

77 
	#OUTPUT_INCL


	)

	@sh/parser.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)parser.c 8.7 (Berkeley) 5/16/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/parser.c,v 1.63.2.11.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<¡dlib.h
>

42 
	~<uni¡d.h
>

43 
	~<¡dio.h
>

45 
	~"sh–l.h
"

46 
	~"·r£r.h
"

47 
	~"nodes.h
"

48 
	~"ex·nd.h
"

49 
	~"syÁax.h
"

50 
	~"İtiÚs.h
"

51 
	~"šput.h
"

52 
	~"ouut.h
"

53 
	~"v¬.h
"

54 
	~"”rÜ.h
"

55 
	~"mem®loc.h
"

56 
	~"my¡ršg.h
"

57 
	~"®Ÿs.h
"

58 
	~"show.h
"

59 
	~"ev®.h
"

60 #iâdeà
NO_HISTORY


61 
	~"myhi¡ed™.h
"

68 
	#EOFMARKLEN
 79

	)

69 
	#PROMPTLEN
 128

	)

72 
	~"tok’.h
"

76 
	sh”edoc
 {

77 
h”edoc
 *
	mÃxt
;

78 
node
 *
	mh”e
;

79 *
	meofm¬k
;

80 
	m¡rbs
;

85 
h”edoc
 *
	gh”edoşi¡
;

86 
	g·r£backquÙe
;

87 
	gdİrom±
;

88 
	gÃed´om±
;

89 
	gÏ¡tok’
;

90 
MKINIT
 
	gtokpushback
;

91 *
	gwÜd‹xt
;

92 
MKINIT
 
	gcheckkwd
;

93 
nod–i¡
 *
	gbackquÙ–i¡
;

94 
node
 *
	g»dœnode
;

95 
h”edoc
 *
	gh”edoc
;

96 
	gquÙeæag
;

97 
	g¡¬šno
;

98 
	gfunşšno
;

101 
	gnßlŸ£s
 = 0;

104 
node
 *
li¡
();

105 
node
 *
ªdÜ
();

106 
node
 *
p–še
();

107 
node
 *
commªd
();

108 
node
 *
sim¶ecmd
(node **, node *);

109 
node
 *
mak’ame
();

110 
·r£âame
();

111 
·r£h”edoc
();

112 
³ektok’
();

113 
»adtok’
();

114 
xx»adtok’
();

115 
»adtok’1
(, const *, *, );

116 
nÛx·nd
(*);

117 
syÃx³ù
();

118 
syÃ¼Ü
(const *);

119 
£rom±
();

127 
node
 *

128 
	$·r£cmd
(
š‹¿ù
)

130 
t
;

132 
tokpushback
 = 0;

133 
dİrom±
 = 
š‹¿ù
;

134 ià(
dİrom±
)

135 
	`£rom±
(1);

137 
	`£rom±
(0);

138 
Ãed´om±
 = 0;

139 
t
 = 
	`»adtok’
();

140 ià(
t
 =ğ
TEOF
)

141  
NEOF
;

142 ià(
t
 =ğ
TNL
)

143  
NULL
;

144 
tokpushback
++;

145  
	`li¡
(1);

146 
	}
}

149 
node
 *

150 
	$li¡
(
Ææag
)

152 
node
 *
n1
, *
n2
, *
n3
;

153 
tok
;

155 
checkkwd
 = 2;

156 ià(
Ææag
 =ğ0 && 
tok’dli¡
[
	`³ektok’
()])

157  
NULL
;

158 
n1
 = 
NULL
;

160 
n2
 = 
	`ªdÜ
();

161 
tok
 = 
	`»adtok’
();

162 ià(
tok
 =ğ
TBACKGND
) {

163 ià(
n2
->
ty³
 =ğ
NCMD
 ||‚2->ty³ =ğ
NPIPE
) {

164 
n2
->
ncmd
.
backgnd
 = 1;

165 } ià(
n2
->
ty³
 =ğ
NREDIR
) {

166 
n2
->
ty³
 = 
NBACKGND
;

168 
n3
 = (
node
 *)
	`¡®loc
( (
Äedœ
));

169 
n3
->
ty³
 = 
NBACKGND
;

170 
n3
->
Äedœ
.
n
 = 
n2
;

171 
n3
->
Äedœ
.
»dœeù
 = 
NULL
;

172 
n2
 = 
n3
;

175 ià(
n1
 =ğ
NULL
) {

176 
n1
 = 
n2
;

179 
n3
 = (
node
 *)
	`¡®loc
( (
nbš¬y
));

180 
n3
->
ty³
 = 
NSEMI
;

181 
n3
->
nbš¬y
.
ch1
 = 
n1
;

182 
n3
->
nbš¬y
.
ch2
 = 
n2
;

183 
n1
 = 
n3
;

185 
tok
) {

186 
TBACKGND
:

187 
TSEMI
:

188 
tok
 = 
	`»adtok’
();

190 
TNL
:

191 ià(
tok
 =ğ
TNL
) {

192 
	`·r£h”edoc
();

193 ià(
Ææag
)

194  
n1
;

196 
tokpushback
++;

198 
checkkwd
 = 2;

199 ià(
tok’dli¡
[
	`³ektok’
()])

200  
n1
;

202 
TEOF
:

203 ià(
h”edoşi¡
)

204 
	`·r£h”edoc
();

206 
	`pung‘c
();

207  
n1
;

209 ià(
Ææag
)

210 
	`syÃx³ù
(-1);

211 
tokpushback
++;

212  
n1
;

215 
	}
}

219 
node
 *

220 
	$ªdÜ
()

222 
node
 *
n1
, *
n2
, *
n3
;

223 
t
;

225 
n1
 = 
	`p–še
();

227 ià((
t
 = 
	`»adtok’
()è=ğ
TAND
) {

228 
t
 = 
NAND
;

229 } ià(
t
 =ğ
TOR
) {

230 
t
 = 
NOR
;

232 
tokpushback
++;

233  
n1
;

235 
n2
 = 
	`p–še
();

236 
n3
 = (
node
 *)
	`¡®loc
( (
nbš¬y
));

237 
n3
->
ty³
 = 
t
;

238 
n3
->
nbš¬y
.
ch1
 = 
n1
;

239 
n3
->
nbš¬y
.
ch2
 = 
n2
;

240 
n1
 = 
n3
;

242 
	}
}

246 
node
 *

247 
	$p–še
()

249 
node
 *
n1
, *
n2
, *
p’ode
;

250 
nod–i¡
 *
Í
, *
´ev
;

251 
Ãg©e
;

253 
Ãg©e
 = 0;

254 
checkkwd
 = 2;

255 
	`TRACE
(("pipeline:ƒntered\n"));

256 
	`»adtok’
(è=ğ
TNOT
)

257 
Ãg©e
 = !negate;

258 
tokpushback
++;

259 
n1
 = 
	`commªd
();

260 ià(
	`»adtok’
(è=ğ
TPIPE
) {

261 
p’ode
 = (
node
 *)
	`¡®loc
( (
Åe
));

262 
p’ode
->
ty³
 = 
NPIPE
;

263 
p’ode
->
Åe
.
backgnd
 = 0;

264 
Í
 = (
nod–i¡
 *)
	`¡®loc
( (nodelist));

265 
p’ode
->
Åe
.
cmdli¡
 = 
Í
;

266 
Í
->
n
 = 
n1
;

268 
´ev
 = 
Í
;

269 
Í
 = (
nod–i¡
 *)
	`¡®loc
( (nodelist));

270 
Í
->
n
 = 
	`commªd
();

271 
´ev
->
Ãxt
 = 
Í
;

272 } 
	`»adtok’
(è=ğ
TPIPE
);

273 
Í
->
Ãxt
 = 
NULL
;

274 
n1
 = 
p’ode
;

276 
tokpushback
++;

277 ià(
Ãg©e
) {

278 
n2
 = (
node
 *)
	`¡®loc
( (
ÂÙ
));

279 
n2
->
ty³
 = 
NNOT
;

280 
n2
->
ÂÙ
.
com
 = 
n1
;

281  
n2
;

283  
n1
;

284 
	}
}

288 
node
 *

289 
	$commªd
()

291 
node
 *
n1
, *
n2
;

292 
node
 *
­
, **
­p
;

293 
node
 *
ı
, **
ıp
;

294 
node
 *
»dœ
, **
½p
;

295 
t
, 
Ãg©e
 = 0;

297 
checkkwd
 = 2;

298 
»dœ
 = 
NULL
;

299 
n1
 = 
NULL
;

300 
½p
 = &
»dœ
;

303 
	`»adtok’
(è=ğ
TREDIR
) {

304 *
½p
 = 
n2
 = 
»dœnode
;

305 
½p
 = &
n2
->
nfe
.
Ãxt
;

306 
	`·r£âame
();

308 
tokpushback
++;

310 
	`»adtok’
(è=ğ
TNOT
) {

311 
	`TRACE
(("command: TNOT„ecognized\n"));

312 
Ãg©e
 = !negate;

314 
tokpushback
++;

316 
	`»adtok’
()) {

317 
TIF
:

318 
n1
 = (
node
 *)
	`¡®loc
( (
nif
));

319 
n1
->
ty³
 = 
NIF
;

320 ià((
n1
->
nif
.
‹¡
 = 
	`li¡
(0)è=ğ
NULL
)

321 
	`syÃx³ù
(-1);

322 ià(
	`»adtok’
(è!ğ
TTHEN
)

323 
	`syÃx³ù
(
TTHEN
);

324 
n1
->
nif
.
iå¬t
 = 
	`li¡
(0);

325 
n2
 = 
n1
;

326 
	`»adtok’
(è=ğ
TELIF
) {

327 
n2
->
nif
.
–£·¹
 = (
node
 *)
	`¡®loc
( (nif));

328 
n2
 =‚2->
nif
.
–£·¹
;

329 
n2
->
ty³
 = 
NIF
;

330 ià((
n2
->
nif
.
‹¡
 = 
	`li¡
(0)è=ğ
NULL
)

331 
	`syÃx³ù
(-1);

332 ià(
	`»adtok’
(è!ğ
TTHEN
)

333 
	`syÃx³ù
(
TTHEN
);

334 
n2
->
nif
.
iå¬t
 = 
	`li¡
(0);

336 ià(
Ï¡tok’
 =ğ
TELSE
)

337 
n2
->
nif
.
–£·¹
 = 
	`li¡
(0);

339 
n2
->
nif
.
–£·¹
 = 
NULL
;

340 
tokpushback
++;

342 ià(
	`»adtok’
(è!ğ
TFI
)

343 
	`syÃx³ù
(
TFI
);

344 
checkkwd
 = 1;

346 
TWHILE
:

347 
TUNTIL
: {

348 
gÙ
;

349 
n1
 = (
node
 *)
	`¡®loc
( (
nbš¬y
));

350 
n1
->
ty³
 = (
Ï¡tok’
 =ğ
TWHILE
)? 
NWHILE
 : 
NUNTIL
;

351 ià((
n1
->
nbš¬y
.
ch1
 = 
	`li¡
(0)è=ğ
NULL
)

352 
	`syÃx³ù
(-1);

353 ià((
gÙ
=
	`»adtok’
()è!ğ
TDO
) {

354 
	`TRACE
(("ex³ùšg DO gÙ % %s\n", 
tokÇme
[
gÙ
], gÙ =ğ
TWORD
 ? 
wÜd‹xt
 : ""));

355 
	`syÃx³ù
(
TDO
);

357 
n1
->
nbš¬y
.
ch2
 = 
	`li¡
(0);

358 ià(
	`»adtok’
(è!ğ
TDONE
)

359 
	`syÃx³ù
(
TDONE
);

360 
checkkwd
 = 1;

363 
TFOR
:

364 ià(
	`»adtok’
(è!ğ
TWORD
 || 
quÙeæag
 || ! 
	`goodÇme
(
wÜd‹xt
))

365 
	`syÃ¼Ü
("Bad for†oop variable");

366 
n1
 = (
node
 *)
	`¡®loc
( (
nfÜ
));

367 
n1
->
ty³
 = 
NFOR
;

368 
n1
->
nfÜ
.
v¬
 = 
wÜd‹xt
;

369 
	`»adtok’
(è=ğ
TNL
)

371 ià(
Ï¡tok’
 =ğ
TWORD
 && ! 
quÙeæag
 && 
	`equ®
(
wÜd‹xt
, "in")) {

372 
­p
 = &
­
;

373 
	`»adtok’
(è=ğ
TWORD
) {

374 
n2
 = (
node
 *)
	`¡®loc
( (
Çrg
));

375 
n2
->
ty³
 = 
NARG
;

376 
n2
->
Çrg
.
‹xt
 = 
wÜd‹xt
;

377 
n2
->
Çrg
.
backquÙe
 = 
backquÙ–i¡
;

378 *
­p
 = 
n2
;

379 
­p
 = &
n2
->
Çrg
.
Ãxt
;

381 *
­p
 = 
NULL
;

382 
n1
->
nfÜ
.
¬gs
 = 
­
;

383 ià(
Ï¡tok’
 !ğ
TNL
 &&†a¡tok’ !ğ
TSEMI
)

384 
	`syÃx³ù
(-1);

386 
¬gv¬s
[5] = {

387 
CTLVAR
, 
VSNORMAL
|
VSQUOTE
, '@', '=', '\0'

389 
n2
 = (
node
 *)
	`¡®loc
( (
Çrg
));

390 
n2
->
ty³
 = 
NARG
;

391 
n2
->
Çrg
.
‹xt
 = 
¬gv¬s
;

392 
n2
->
Çrg
.
backquÙe
 = 
NULL
;

393 
n2
->
Çrg
.
Ãxt
 = 
NULL
;

394 
n1
->
nfÜ
.
¬gs
 = 
n2
;

399 ià(
Ï¡tok’
 !ğ
TNL
 &&†a¡tok’ !ğ
TSEMI
)

400 
tokpushback
++;

402 
checkkwd
 = 2;

403 ià((
t
 = 
	`»adtok’
()è=ğ
TDO
)

404 
t
 = 
TDONE
;

405 ià(
t
 =ğ
TBEGIN
)

406 
t
 = 
TEND
;

408 
	`syÃx³ù
(-1);

409 
n1
->
nfÜ
.
body
 = 
	`li¡
(0);

410 ià(
	`»adtok’
(è!ğ
t
)

411 
	`syÃx³ù
(
t
);

412 
checkkwd
 = 1;

414 
TCASE
:

415 
n1
 = (
node
 *)
	`¡®loc
( (
nÿ£
));

416 
n1
->
ty³
 = 
NCASE
;

417 ià(
	`»adtok’
(è!ğ
TWORD
)

418 
	`syÃx³ù
(
TWORD
);

419 
n1
->
nÿ£
.
ex´
 = 
n2
 = (
node
 *)
	`¡®loc
( (
Çrg
));

420 
n2
->
ty³
 = 
NARG
;

421 
n2
->
Çrg
.
‹xt
 = 
wÜd‹xt
;

422 
n2
->
Çrg
.
backquÙe
 = 
backquÙ–i¡
;

423 
n2
->
Çrg
.
Ãxt
 = 
NULL
;

424 
	`»adtok’
(è=ğ
TNL
);

425 ià(
Ï¡tok’
 !ğ
TWORD
 || ! 
	`equ®
(
wÜd‹xt
, "in"))

426 
	`syÃ¼Ü
("expecting \"in\"");

427 
ıp
 = &
n1
->
nÿ£
.
ÿ£s
;

428 
nßlŸ£s
 = 1;

429 
checkkwd
 = 2, 
	`»adtok’
();

430 
Ï¡tok’
 !ğ
TESAC
) {

431 *
ıp
 = 
ı
 = (
node
 *)
	`¡®loc
( (
nşi¡
));

432 
ı
->
ty³
 = 
NCLIST
;

433 
­p
 = &
ı
->
nşi¡
.
·‰”n
;

434 ià(
Ï¡tok’
 =ğ
TLP
)

435 
	`»adtok’
();

437 *
­p
 = 
­
 = (
node
 *)
	`¡®loc
( (
Çrg
));

438 
­
->
ty³
 = 
NARG
;

439 
­
->
Çrg
.
‹xt
 = 
wÜd‹xt
;

440 
­
->
Çrg
.
backquÙe
 = 
backquÙ–i¡
;

441 ià(
checkkwd
 = 2, 
	`»adtok’
(è!ğ
TPIPE
)

443 
­p
 = &
­
->
Çrg
.
Ãxt
;

444 
	`»adtok’
();

446 
­
->
Çrg
.
Ãxt
 = 
NULL
;

447 ià(
Ï¡tok’
 !ğ
TRP
)

448 
nßlŸ£s
 = 0, 
	`syÃx³ù
(
TRP
);

449 
ı
->
nşi¡
.
body
 = 
	`li¡
(0);

451 
checkkwd
 = 2;

452 ià((
t
 = 
	`»adtok’
()è!ğ
TESAC
) {

453 ià(
t
 !ğ
TENDCASE
)

454 
nßlŸ£s
 = 0, 
	`syÃx³ù
(
TENDCASE
);

456 
checkkwd
 = 2, 
	`»adtok’
();

458 
ıp
 = &
ı
->
nşi¡
.
Ãxt
;

460 
nßlŸ£s
 = 0;

461 *
ıp
 = 
NULL
;

462 
checkkwd
 = 1;

464 
TLP
:

465 
n1
 = (
node
 *)
	`¡®loc
( (
Äedœ
));

466 
n1
->
ty³
 = 
NSUBSHELL
;

467 
n1
->
Äedœ
.
n
 = 
	`li¡
(0);

468 
n1
->
Äedœ
.
»dœeù
 = 
NULL
;

469 ià(
	`»adtok’
(è!ğ
TRP
)

470 
	`syÃx³ù
(
TRP
);

471 
checkkwd
 = 1;

473 
TBEGIN
:

474 
n1
 = 
	`li¡
(0);

475 ià(
	`»adtok’
(è!ğ
TEND
)

476 
	`syÃx³ù
(
TEND
);

477 
checkkwd
 = 1;

480 
TBACKGND
:

481 
TSEMI
:

482 
TAND
:

483 
TOR
:

488 ià(!
»dœ
)

489 
	`syÃx³ù
(-1);

490 
TNL
:

491 
TEOF
:

492 
TWORD
:

493 
TRP
:

494 
tokpushback
++;

495 
n1
 = 
	`sim¶ecmd
(
½p
, 
»dœ
);

496 
checkÃg
;

498 
	`syÃx³ù
(-1);

502 
	`»adtok’
(è=ğ
TREDIR
) {

503 *
½p
 = 
n2
 = 
»dœnode
;

504 
½p
 = &
n2
->
nfe
.
Ãxt
;

505 
	`·r£âame
();

507 
tokpushback
++;

508 *
½p
 = 
NULL
;

509 ià(
»dœ
) {

510 ià(
n1
->
ty³
 !ğ
NSUBSHELL
) {

511 
n2
 = (
node
 *)
	`¡®loc
( (
Äedœ
));

512 
n2
->
ty³
 = 
NREDIR
;

513 
n2
->
Äedœ
.
n
 = 
n1
;

514 
n1
 = 
n2
;

516 
n1
->
Äedœ
.
»dœeù
 = 
»dœ
;

519 
checkÃg
:

520 ià(
Ãg©e
) {

521 
n2
 = (
node
 *)
	`¡®loc
( (
ÂÙ
));

522 
n2
->
ty³
 = 
NNOT
;

523 
n2
->
ÂÙ
.
com
 = 
n1
;

524  
n2
;

527  
n1
;

528 
	}
}

531 
node
 *

532 
	$sim¶ecmd
(
node
 **
½p
, nod*
»dœ
)

534 
node
 *
¬gs
, **
­p
;

535 
node
 **
Üig_½p
 = 
½p
;

536 
node
 *
n
 = 
NULL
, *
n2
;

537 
Ãg©e
 = 0;

541 ià(
»dœ
 == 0)

542 
½p
 = &
»dœ
;

544 
¬gs
 = 
NULL
;

545 
­p
 = &
¬gs
;

551 
Üig_½p
 = 
½p
;

553 
	`»adtok’
(è=ğ
TNOT
) {

554 
	`TRACE
(("command: TNOT„ecognized\n"));

555 
Ãg©e
 = !negate;

557 
tokpushback
++;

560 ià(
	`»adtok’
(è=ğ
TWORD
) {

561 
n
 = (
node
 *)
	`¡®loc
( (
Çrg
));

562 
n
->
ty³
 = 
NARG
;

563 
n
->
Çrg
.
‹xt
 = 
wÜd‹xt
;

564 
n
->
Çrg
.
backquÙe
 = 
backquÙ–i¡
;

565 *
­p
 = 
n
;

566 
­p
 = &
n
->
Çrg
.
Ãxt
;

567 } ià(
Ï¡tok’
 =ğ
TREDIR
) {

568 *
½p
 = 
n
 = 
»dœnode
;

569 
½p
 = &
n
->
nfe
.
Ãxt
;

570 
	`·r£âame
();

571 } ià(
Ï¡tok’
 =ğ
TLP
 && 
­p
 =ğ&
¬gs
->
Çrg
.
Ãxt


572 && 
½p
 =ğ
Üig_½p
) {

574 ià(
	`»adtok’
(è!ğ
TRP
)

575 
	`syÃx³ù
(
TRP
);

576 
funşšno
 = 
¶šno
;

577 #ifdeà
nÙdef


578 ià(! 
	`goodÇme
(
n
->
Çrg
.
‹xt
))

579 
	`syÃ¼Ü
("Bad function‚ame");

581 
n
->
ty³
 = 
NDEFUN
;

582 
n
->
Çrg
.
Ãxt
 = 
	`commªd
();

583 
funşšno
 = 0;

584 
checkÃg
;

586 
tokpushback
++;

590 *
­p
 = 
NULL
;

591 *
½p
 = 
NULL
;

592 
n
 = (
node
 *)
	`¡®loc
( (
ncmd
));

593 
n
->
ty³
 = 
NCMD
;

594 
n
->
ncmd
.
backgnd
 = 0;

595 
n
->
ncmd
.
¬gs
 =‡rgs;

596 
n
->
ncmd
.
»dœeù
 = 
»dœ
;

598 
checkÃg
:

599 ià(
Ãg©e
) {

600 
n2
 = (
node
 *)
	`¡®loc
( (
ÂÙ
));

601 
n2
->
ty³
 = 
NNOT
;

602 
n2
->
ÂÙ
.
com
 = 
n
;

603  
n2
;

606  
n
;

607 
	}
}

609 
node
 *

610 
	$mak’ame
()

612 
node
 *
n
;

614 
n
 = (
node
 *)
	`¡®loc
( (
Çrg
));

615 
n
->
ty³
 = 
NARG
;

616 
n
->
Çrg
.
Ãxt
 = 
NULL
;

617 
n
->
Çrg
.
‹xt
 = 
wÜd‹xt
;

618 
n
->
Çrg
.
backquÙe
 = 
backquÙ–i¡
;

619  
n
;

620 
	}
}

623 
	$fix»dœ
(
node
 *
n
, cÚ¡ *
‹xt
, 
”r
)

625 
	`TRACE
(("Fix„edœ % %d\n", 
‹xt
, 
”r
));

626 ià(!
”r
)

627 
n
->
ndup
.
vÇme
 = 
NULL
;

629 ià(
	`is_dig™
(
‹xt
[0]) &&ext[1] == '\0')

630 
n
->
ndup
.
dupfd
 = 
	`dig™_v®
(
‹xt
[0]);

631 ià(
‹xt
[0] == '-' &&ext[1] == '\0')

632 
n
->
ndup
.
dupfd
 = -1;

635 ià(
”r
)

636 
	`syÃ¼Ü
("Bad fd‚umber");

638 
n
->
ndup
.
vÇme
 = 
	`mak’ame
();

640 
	}
}

644 
	$·r£âame
()

646 
node
 *
n
 = 
»dœnode
;

648 ià(
	`»adtok’
(è!ğ
TWORD
)

649 
	`syÃx³ù
(-1);

650 ià(
n
->
ty³
 =ğ
NHERE
) {

651 
h”edoc
 *
h”e
 = heredoc;

652 
h”edoc
 *
p
;

653 
i
;

655 ià(
quÙeæag
 == 0)

656 
n
->
ty³
 = 
NXHERE
;

657 
	`TRACE
(("H”docum’ˆ%d\n", 
n
->
ty³
));

658 ià(
h”e
->
¡rbs
) {

659 *
wÜd‹xt
 == '\t')

660 
wÜd‹xt
++;

662 ià(! 
	`nÛx·nd
(
wÜd‹xt
è|| (
i
 = 
	`¡¾’
(wÜd‹xt)è=ğ0 || i > 
EOFMARKLEN
)

663 
	`syÃ¼Ü
("Illegalƒof marker for <<„edirection");

664 
	`rmesÿ³s
(
wÜd‹xt
);

665 
h”e
->
eofm¬k
 = 
wÜd‹xt
;

666 
h”e
->
Ãxt
 = 
NULL
;

667 ià(
h”edoşi¡
 =ğ
NULL
)

668 
h”edoşi¡
 = 
h”e
;

670 
p
 = 
h”edoşi¡
 ;…->
Ãxt
 ;… =…->next);

671 
p
->
Ãxt
 = 
h”e
;

673 } ià(
n
->
ty³
 =ğ
NTOFD
 ||‚->ty³ =ğ
NFROMFD
) {

674 
	`fix»dœ
(
n
, 
wÜd‹xt
, 0);

676 
n
->
nfe
.
âame
 = 
	`mak’ame
();

678 
	}
}

686 
	$·r£h”edoc
()

688 
h”edoc
 *
h”e
;

689 
node
 *
n
;

691 
h”edoşi¡
) {

692 
h”e
 = 
h”edoşi¡
;

693 
h”edoşi¡
 = 
h”e
->
Ãxt
;

694 ià(
Ãed´om±
) {

695 
	`£rom±
(2);

696 
Ãed´om±
 = 0;

698 
	`»adtok’1
(
	`pg‘c
(), 
h”e
->h”e->
ty³
 =ğ
NHERE
? 
SQSYNTAX
 : 
DQSYNTAX
,

699 
h”e
->
eofm¬k
, h”e->
¡rbs
);

700 
n
 = (
node
 *)
	`¡®loc
( (
Çrg
));

701 
n
->
Çrg
.
ty³
 = 
NARG
;

702 
n
->
Çrg
.
Ãxt
 = 
NULL
;

703 
n
->
Çrg
.
‹xt
 = 
wÜd‹xt
;

704 
n
->
Çrg
.
backquÙe
 = 
backquÙ–i¡
;

705 
h”e
->h”e->
nh”e
.
doc
 = 
n
;

707 
	}
}

710 
	$³ektok’
()

712 
t
;

714 
t
 = 
	`»adtok’
();

715 
tokpushback
++;

716  (
t
);

717 
	}
}

720 
	$»adtok’
()

722 
t
;

723 
§vecheckkwd
 = 
checkkwd
;

724 
®Ÿs
 *
­
;

725 #ifdeà
DEBUG


726 
®»ady£’
 = 
tokpushback
;

729 
tİ
:

730 
t
 = 
	`xx»adtok’
();

732 ià(
checkkwd
) {

736 ià(
checkkwd
 == 2) {

737 
checkkwd
 = 0;

738 
t
 =ğ
TNL
) {

739 
	`·r£h”edoc
();

740 
t
 = 
	`xx»adtok’
();

743 
checkkwd
 = 0;

747 ià(
t
 =ğ
TWORD
 && !
quÙeæag
)

749 cÚ¡ * cÚ¡ *
µ
;

751 
µ
 = 
·r£kwd
; *pp;…p++) {

752 ià(**
µ
 =ğ*
wÜd‹xt
 && 
	`equ®
(*pp, wordtext))

754 
Ï¡tok’
 = 
t
 = 
µ
 - 
·r£kwd
 + 
KWDOFFSET
;

755 
	`TRACE
(("keywÜd % »cognized\n", 
tokÇme
[
t
]));

756 
out
;

759 ià(
nßlŸ£s
 == 0 &&

760 (
­
 = 
	`looku·lŸs
(
wÜd‹xt
, 1)è!ğ
NULL
) {

761 
	`push¡ršg
(
­
->
v®
, 
	`¡¾’
(ap->val),‡p);

762 
checkkwd
 = 
§vecheckkwd
;

763 
tİ
;

766 
out
:

767 
checkkwd
 = (
t
 =ğ
TNOT
è? 
§vecheckkwd
 : 0;

769 #ifdeà
DEBUG


770 ià(!
®»ady£’
)

771 
	`TRACE
(("tok’ % %s\n", 
tokÇme
[
t
], =ğ
TWORD
 ? 
wÜd‹xt
 : ""));

773 
	`TRACE
(("»»adok’ % %s\n", 
tokÇme
[
t
], =ğ
TWORD
 ? 
wÜd‹xt
 : ""));

775  (
t
);

776 
	}
}

797 
	#RETURN
(
tok’
è 
Ï¡tok’
 = 
	)
token

800 
	$xx»adtok’
()

802 
c
;

804 ià(
tokpushback
) {

805 
tokpushback
 = 0;

806  
Ï¡tok’
;

808 ià(
Ãed´om±
) {

809 
	`£rom±
(2);

810 
Ãed´om±
 = 0;

812 
¡¬šno
 = 
¶šno
;

814 
c
 = 
	`pg‘c_maüo
();

815 ià(
c
 == ' ' || c == '\t')

817 
c
) {

821 (
c
 = 
	`pg‘c
()è!ğ'\n' && c !ğ
PEOF
);

822 
	`pung‘c
();

825 ià(
	`pg‘c
() == '\n') {

826 
¡¬šno
 = ++
¶šno
;

827 ià(
dİrom±
)

828 
	`£rom±
(2);

830 
	`£rom±
(0);

833 
	`pung‘c
();

834 
b»akloİ
;

836 
¶šno
++;

837 
Ãed´om±
 = 
dİrom±
;

838 
	`RETURN
(
TNL
);

839 
PEOF
:

840 
	`RETURN
(
TEOF
);

842 ià(
	`pg‘c
() == '&')

843 
	`RETURN
(
TAND
);

844 
	`pung‘c
();

845 
	`RETURN
(
TBACKGND
);

847 ià(
	`pg‘c
() == '|')

848 
	`RETURN
(
TOR
);

849 
	`pung‘c
();

850 
	`RETURN
(
TPIPE
);

852 ià(
	`pg‘c
() == ';')

853 
	`RETURN
(
TENDCASE
);

854 
	`pung‘c
();

855 
	`RETURN
(
TSEMI
);

857 
	`RETURN
(
TLP
);

859 
	`RETURN
(
TRP
);

861 
b»akloİ
;

864 
b»akloİ
:

865  
	`»adtok’1
(
c
, 
BASESYNTAX
, (*)
NULL
, 0);

866 #undeà
RETURN


867 
	}
}

883 
	#CHECKEND
(è{
check’d
; 
check’d_»tuº
:;}

	)

884 
	#PARSEREDIR
(è{
·r£»dœ
; 
·r£»dœ_»tuº
:;}

	)

885 
	#PARSESUB
(è{
·r£sub
; 
·r£sub_»tuº
:;}

	)

886 
	#PARSEBACKQOLD
(è{
Şd¡yË
 = 1; 
·r£backq
; 
·r£backq_Şd»tuº
:;}

	)

887 
	#PARSEBACKQNEW
(è{
Şd¡yË
 = 0; 
·r£backq
; 
·r£backq_Ãw»tuº
:;}

	)

888 
	#PARSEARITH
(è{
·r£¬™h
; 
·r£¬™h_»tuº
:;}

	)

891 
	$»adtok’1
(
fœ¡c
, cÚ¡ *
syÁax
, *
eofm¬k
, 
¡rbs
)

893 
c
 = 
fœ¡c
;

894 *
out
;

895 
Ën
;

896 
lše
[
EOFMARKLEN
 + 1];

897 
nod–i¡
 *
bqli¡
;

898 
quÙef
;

899 
dblquÙe
;

900 
v¬Ã¡
;

901 
¬še¡
;

902 
·»Æev–
;

903 
Şd¡yË
;

904 cÚ¡ *
´evsyÁax
;

905 
syÃÁry
;

907 
¡¬šno
 = 
¶šno
;

908 
dblquÙe
 = 0;

909 ià(
syÁax
 =ğ
DQSYNTAX
)

910 
dblquÙe
 = 1;

911 
quÙef
 = 0;

912 
bqli¡
 = 
NULL
;

913 
v¬Ã¡
 = 0;

914 
¬še¡
 = 0;

915 
·»Æev–
 = 0;

917 
	`STARTSTACKSTR
(
out
);

918 
loİ
: {

919 
	`CHECKEND
();

921 
	`CHECKSTRSPACE
(3, 
out
);

923 
syÃÁry
 = 
syÁax
[
c
];

925 
syÃÁry
) {

926 
CNL
:

927 ià(
syÁax
 =ğ
BASESYNTAX
)

928 
’dwÜd
;

929 
	`USTPUTC
(
c
, 
out
);

930 
¶šno
++;

931 ià(
dİrom±
)

932 
	`£rom±
(2);

934 
	`£rom±
(0);

935 
c
 = 
	`pg‘c
();

936 
loİ
;

937 
CWORD
:

938 
	`USTPUTC
(
c
, 
out
);

940 
CCTL
:

941 ià(
eofm¬k
 =ğ
NULL
 || 
dblquÙe
)

942 
	`USTPUTC
(
CTLESC
, 
out
);

943 
	`USTPUTC
(
c
, 
out
);

945 
CBACK
:

946 
c
 = 
	`pg‘c
();

947 ià(
c
 =ğ
PEOF
) {

948 
	`USTPUTC
('\\', 
out
);

949 
	`pung‘c
();

950 } ià(
c
 == '\n') {

951 
¶šno
++;

952 ià(
dİrom±
)

953 
	`£rom±
(2);

955 
	`£rom±
(0);

957 ià(
dblquÙe
 && 
c
 != '\\' &&

958 
c
 != '`' && c != '$' &&

959 (
c
 !ğ'"' || 
eofm¬k
 !ğ
NULL
))

960 
	`USTPUTC
('\\', 
out
);

961 ià(
SQSYNTAX
[
c
] =ğ
CCTL
)

962 
	`USTPUTC
(
CTLESC
, 
out
);

963 ià(
eofm¬k
 =ğ
NULL
)

964 
	`USTPUTC
(
CTLQUOTEMARK
, 
out
);

965 
	`USTPUTC
(
c
, 
out
);

966 
quÙef
++;

969 
CSQUOTE
:

970 ià(
eofm¬k
 =ğ
NULL
)

971 
	`USTPUTC
(
CTLQUOTEMARK
, 
out
);

972 
syÁax
 = 
SQSYNTAX
;

974 
CDQUOTE
:

975 ià(
eofm¬k
 =ğ
NULL
)

976 
	`USTPUTC
(
CTLQUOTEMARK
, 
out
);

977 
syÁax
 = 
DQSYNTAX
;

978 
dblquÙe
 = 1;

980 
CENDQUOTE
:

981 ià(
eofm¬k
 !ğ
NULL
 && 
¬še¡
 == 0 &&

982 
v¬Ã¡
 == 0) {

983 
	`USTPUTC
(
c
, 
out
);

985 ià(
¬še¡
) {

986 
syÁax
 = 
ARISYNTAX
;

987 
dblquÙe
 = 0;

988 } ià(
eofm¬k
 =ğ
NULL
) {

989 
syÁax
 = 
BASESYNTAX
;

990 
dblquÙe
 = 0;

992 
quÙef
++;

995 
CVAR
:

996 
	`PARSESUB
();

998 
CENDVAR
:

999 ià(
v¬Ã¡
 > 0) {

1000 
v¬Ã¡
--;

1001 
	`USTPUTC
(
CTLENDVAR
, 
out
);

1003 
	`USTPUTC
(
c
, 
out
);

1006 
CLP
:

1007 
·»Æev–
++;

1008 
	`USTPUTC
(
c
, 
out
);

1010 
CRP
:

1011 ià(
·»Æev–
 > 0) {

1012 
	`USTPUTC
(
c
, 
out
);

1013 --
·»Æev–
;

1015 ià(
	`pg‘c
() == ')') {

1016 ià(--
¬še¡
 == 0) {

1017 
	`USTPUTC
(
CTLENDARI
, 
out
);

1018 
syÁax
 = 
´evsyÁax
;

1019 ià(
syÁax
 =ğ
DQSYNTAX
)

1020 
dblquÙe
 = 1;

1022 
dblquÙe
 = 0;

1024 
	`USTPUTC
(')', 
out
);

1030 
	`pung‘c
();

1031 
	`USTPUTC
(')', 
out
);

1035 
CBQUOTE
:

1036 
	`PARSEBACKQOLD
();

1038 
CEOF
:

1039 
’dwÜd
;

1041 ià(
v¬Ã¡
 == 0)

1042 
’dwÜd
;

1043 
	`USTPUTC
(
c
, 
out
);

1045 
c
 = 
	`pg‘c_maüo
();

1048 
’dwÜd
:

1049 ià(
syÁax
 =ğ
ARISYNTAX
)

1050 
	`syÃ¼Ü
("Missing '))'");

1051 ià(
syÁax
 !ğ
BASESYNTAX
 && ! 
·r£backquÙe
 && 
eofm¬k
 =ğ
NULL
)

1052 
	`syÃ¼Ü
("Unterminated quoted string");

1053 ià(
v¬Ã¡
 != 0) {

1054 
¡¬šno
 = 
¶šno
;

1055 
	`syÃ¼Ü
("Missing '}'");

1057 
	`USTPUTC
('\0', 
out
);

1058 
Ën
 = 
out
 - 
	`¡ackblock
();

1059 
out
 = 
	`¡ackblock
();

1060 ià(
eofm¬k
 =ğ
NULL
) {

1061 ià((
c
 == '>' || c == '<')

1062 && 
quÙef
 == 0

1063 && 
Ën
 <= 2

1064 && (*
out
 =ğ'\0' || 
	`is_dig™
(*out))) {

1065 
	`PARSEREDIR
();

1066  
Ï¡tok’
 = 
TREDIR
;

1068 
	`pung‘c
();

1071 
quÙeæag
 = 
quÙef
;

1072 
backquÙ–i¡
 = 
bqli¡
;

1073 
	`g¿b¡ackblock
(
Ën
);

1074 
wÜd‹xt
 = 
out
;

1075  
Ï¡tok’
 = 
TWORD
;

1086 
check’d
: {

1087 ià(
eofm¬k
) {

1088 ià(
¡rbs
) {

1089 
c
 == '\t')

1090 
c
 = 
	`pg‘c
();

1092 ià(
c
 =ğ*
eofm¬k
) {

1093 ià(
	`pfg‘s
(
lše
, †šeè!ğ
NULL
) {

1094 *
p
, *
q
;

1096 
p
 = 
lše
;

1097 
q
 = 
eofm¬k
 + 1 ; *q && *
p
 == *q ;…++, q++);

1098 ià(*
p
 =ğ'\n' && *
q
 == '\0') {

1099 
c
 = 
PEOF
;

1100 
¶šno
++;

1101 
Ãed´om±
 = 
dİrom±
;

1103 
	`push¡ršg
(
lše
, 
	`¡¾’
Öše), 
NULL
);

1108 
check’d_»tuº
;

1118 
·r£»dœ
: {

1119 
fd
 = *
out
;

1120 
node
 *
Å
;

1122 
Å
 = (
node
 *)
	`¡®loc
( (
nfe
));

1123 ià(
c
 == '>') {

1124 
Å
->
nfe
.
fd
 = 1;

1125 
c
 = 
	`pg‘c
();

1126 ià(
c
 == '>')

1127 
Å
->
ty³
 = 
NAPPEND
;

1128 ià(
c
 == '&')

1129 
Å
->
ty³
 = 
NTOFD
;

1130 ià(
c
 == '|')

1131 
Å
->
ty³
 = 
NCLOBBER
;

1133 
Å
->
ty³
 = 
NTO
;

1134 
	`pung‘c
();

1137 
Å
->
nfe
.
fd
 = 0;

1138 
c
 = 
	`pg‘c
();

1139 ià(
c
 == '<') {

1140 ià( (
nfe
è!ğ (
nh”e
)) {

1141 
Å
 = (
node
 *)
	`¡®loc
( (
nh”e
));

1142 
Å
->
nfe
.
fd
 = 0;

1144 
Å
->
ty³
 = 
NHERE
;

1145 
h”edoc
 = (h”edoø*)
	`¡®loc
( (heredoc));

1146 
h”edoc
->
h”e
 = 
Å
;

1147 ià((
c
 = 
	`pg‘c
()) == '-') {

1148 
h”edoc
->
¡rbs
 = 1;

1150 
h”edoc
->
¡rbs
 = 0;

1151 
	`pung‘c
();

1153 } ià(
c
 == '&')

1154 
Å
->
ty³
 = 
NFROMFD
;

1155 ià(
c
 == '>')

1156 
Å
->
ty³
 = 
NFROMTO
;

1158 
Å
->
ty³
 = 
NFROM
;

1159 
	`pung‘c
();

1162 ià(
fd
 != '\0')

1163 
Å
->
nfe
.
fd
 = 
	`dig™_v®
(fd);

1164 
»dœnode
 = 
Å
;

1165 
·r£»dœ_»tuº
;

1174 
·r£sub
: {

1175 
buf
[10];

1176 
subty³
;

1177 
ty³loc
;

1178 
æags
;

1179 *
p
;

1180 cÚ¡ 
ty³s
[] = "}-+?=";

1181 
b¿ck‘ed_Çme
 = 0;

1182 
i
;

1183 
lšno
;

1184 
Ëngth
;

1186 
c
 = 
	`pg‘c
();

1187 ià(
c
 !ğ'(' && c !ğ'{' && (
	`is_eof
(cè|| !
	`is_Çme
(c)) &&

1188 !
	`is_¥ecŸl
(
c
)) {

1189 
	`USTPUTC
('$', 
out
);

1190 
	`pung‘c
();

1191 } ià(
c
 == '(') {

1192 ià(
	`pg‘c
() == '(') {

1193 
	`PARSEARITH
();

1195 
	`pung‘c
();

1196 
	`PARSEBACKQNEW
();

1199 
	`USTPUTC
(
CTLVAR
, 
out
);

1200 
ty³loc
 = 
out
 - 
	`¡ackblock
();

1201 
	`USTPUTC
(
VSNORMAL
, 
out
);

1202 
subty³
 = 
VSNORMAL
;

1203 
æags
 = 0;

1204 ià(
c
 == '{') {

1205 
b¿ck‘ed_Çme
 = 1;

1206 
c
 = 
	`pg‘c
();

1207 ià(
c
 == '#') {

1208 ià((
c
 = 
	`pg‘c
()) == '}')

1209 
c
 = '#';

1211 
subty³
 = 
VSLENGTH
;

1214 
subty³
 = 0;

1216 ià(!
	`is_eof
(
c
è&& 
	`is_Çme
(c)) {

1217 
Ëngth
 = 0;

1219 
	`STPUTC
(
c
, 
out
);

1220 
c
 = 
	`pg‘c
();

1221 
Ëngth
++;

1222 } !
	`is_eof
(
c
è&& 
	`is_š_Çme
(c));

1223 ià(
Ëngth
 == 6 &&

1224 
	`¡ºcmp
(
out
 - 
Ëngth
, "LINENO",†ength) == 0) {

1227 
lšno
 = 
¶šno
;

1228 ià(
funşšno
 != 0)

1229 
lšno
 -ğ
funşšno
 - 1;

1230 
	`¢´štf
(
buf
, (buf), "%d", 
lšno
);

1231 
	`STADJUST
(-6, 
out
);

1232 
i
 = 0; 
buf
[i] != '\0'; i++)

1233 
	`STPUTC
(
buf
[
i
], 
out
);

1234 
æags
 |ğ
VSLINENO
;

1236 } ià(
	`is_dig™
(
c
)) {

1237 ià(
b¿ck‘ed_Çme
) {

1239 
	`STPUTC
(
c
, 
out
);

1240 
c
 = 
	`pg‘c
();

1241 } 
	`is_dig™
(
c
));

1243 
	`STPUTC
(
c
, 
out
);

1244 
c
 = 
	`pg‘c
();

1247 ià(! 
	`is_¥ecŸl
(
c
)) {

1248 
subty³
 = 
VSERROR
;

1249 ià(
c
 == '}')

1250 
	`pung‘c
();

1252 
	`USTPUTC
(
c
, 
out
);

1254 
	`USTPUTC
(
c
, 
out
);

1255 
c
 = 
	`pg‘c
();

1258 ià(
subty³
 == 0) {

1259 
c
) {

1261 
æags
 |ğ
VSNUL
;

1262 
c
 = 
	`pg‘c
();

1265 
p
 = 
	`¡rchr
(
ty³s
, 
c
);

1266 ià(
p
 =ğ
NULL
) {

1267 ià(
æags
 =ğ
VSNUL
)

1268 
	`STPUTC
(':', 
out
);

1269 
	`STPUTC
(
c
, 
out
);

1270 
subty³
 = 
VSERROR
;

1272 
subty³
 = 
p
 - 
ty³s
 + 
VSNORMAL
;

1277 
cc
 = 
c
;

1278 
subty³
 = 
c
 =ğ'#' ? 
VSTRIMLEFT
 :

1279 
VSTRIMRIGHT
;

1280 
c
 = 
	`pg‘c
();

1281 ià(
c
 =ğ
cc
)

1282 
subty³
++;

1284 
	`pung‘c
();

1288 } ià(
subty³
 !ğ
VSERROR
) {

1289 
	`pung‘c
();

1291 
	`STPUTC
('=', 
out
);

1292 ià(
dblquÙe
 || 
¬še¡
)

1293 
æags
 |ğ
VSQUOTE
;

1294 *(
	`¡ackblock
(è+ 
ty³loc
èğ
subty³
 | 
æags
;

1295 ià(
subty³
 !ğ
VSNORMAL
)

1296 
v¬Ã¡
++;

1298 
·r£sub_»tuº
;

1309 
·r£backq
: {

1310 
nod–i¡
 **
Æµ
;

1311 
§v•bq
;

1312 
node
 *
n
;

1313 *vŞ©
¡r
;

1314 
jm¶oc
 jmploc;

1315 
jm¶oc
 *cÚ¡ 
§vehªdËr
 = 
hªdËr
;

1316 
§v–’
;

1317 
§v•rom±
;

1318 cÚ¡ 
bq_¡¬šno
 = 
¶šno
;

1320 
§v•bq
 = 
·r£backquÙe
;

1321 ià(
	`£tjmp
(
jm¶oc
.
loc
)) {

1322 ià(
¡r
)

1323 
	`ckä“
(
¡r
);

1324 
·r£backquÙe
 = 0;

1325 
hªdËr
 = 
§vehªdËr
;

1326 ià(
exû±iÚ
 =ğ
EXERROR
) {

1327 
¡¬šno
 = 
bq_¡¬šno
;

1328 
	`syÃ¼Ü
("Error in command substitution");

1330 
	`lÚgjmp
(
hªdËr
->
loc
, 1);

1332 
INTOFF
;

1333 
¡r
 = 
NULL
;

1334 
§v–’
 = 
out
 - 
	`¡ackblock
();

1335 ià(
§v–’
 > 0) {

1336 
¡r
 = 
	`ckm®loc
(
§v–’
);

1337 
	`memıy
(
¡r
, 
	`¡ackblock
(), 
§v–’
);

1339 
hªdËr
 = &
jm¶oc
;

1340 
INTON
;

1341 ià(
Şd¡yË
) {

1345 *
out
;

1346 
c
;

1347 
§v–’
;

1348 *
¡r
;

1351 
	`STARTSTACKSTR
(
out
);

1353 ià(
Ãed´om±
) {

1354 
	`£rom±
(2);

1355 
Ãed´om±
 = 0;

1357 
c
 = 
	`pg‘c
()) {

1359 
dÚe
;

1362 ià((
c
 = 
	`pg‘c
()) == '\n') {

1363 
¶šno
++;

1364 ià(
dİrom±
)

1365 
	`£rom±
(2);

1367 
	`£rom±
(0);

1376 ià(
c
 != '\\' && c != '`' && c != '$'

1377 && (!
dblquÙe
 || 
c
 != '"'))

1378 
	`STPUTC
('\\', 
out
);

1382 
¶šno
++;

1383 
Ãed´om±
 = 
dİrom±
;

1386 
PEOF
:

1387 
¡¬šno
 = 
¶šno
;

1388 
	`syÃ¼Ü
("EOF in backquote substitution");

1394 
	`STPUTC
(
c
, 
out
);

1396 
dÚe
:

1397 
	`STPUTC
('\0', 
out
);

1398 
§v–’
 = 
out
 - 
	`¡ackblock
();

1399 ià(
§v–’
 > 0) {

1400 
¡r
 = 
	`ckm®loc
(
§v–’
);

1401 
	`memıy
(
¡r
, 
	`¡ackblock
(), 
§v–’
);

1402 
	`£tšput¡ršg
(
¡r
, 1);

1405 
Æµ
 = &
bqli¡
;

1406 *
Æµ
)

1407 
Æµ
 = &(*Æµ)->
Ãxt
;

1408 *
Æµ
 = (
nod–i¡
 *)
	`¡®loc
( (nodelist));

1409 (*
Æµ
)->
Ãxt
 = 
NULL
;

1410 
·r£backquÙe
 = 
Şd¡yË
;

1412 ià(
Şd¡yË
) {

1413 
§v•rom±
 = 
dİrom±
;

1414 
dİrom±
 = 0;

1417 
n
 = 
	`li¡
(0);

1419 ià(
Şd¡yË
)

1420 
dİrom±
 = 
§v•rom±
;

1422 ià(
	`»adtok’
(è!ğ
TRP
)

1423 
	`syÃx³ù
(
TRP
);

1426 (*
Æµ
)->
n
 =‚;

1427 ià(
Şd¡yË
) {

1432 
	`pİfe
();

1433 
tokpushback
 = 0;

1435 
	`¡ackblocksize
(è<ğ
§v–’
)

1436 
	`grow¡ackblock
();

1437 
	`STARTSTACKSTR
(
out
);

1438 ià(
¡r
) {

1439 
	`memıy
(
out
, 
¡r
, 
§v–’
);

1440 
	`STADJUST
(
§v–’
, 
out
);

1441 
INTOFF
;

1442 
	`ckä“
(
¡r
);

1443 
¡r
 = 
NULL
;

1444 
INTON
;

1446 
·r£backquÙe
 = 
§v•bq
;

1447 
hªdËr
 = 
§vehªdËr
;

1448 ià(
¬še¡
 || 
dblquÙe
)

1449 
	`USTPUTC
(
CTLBACKQ
 | 
CTLQUOTE
, 
out
);

1451 
	`USTPUTC
(
CTLBACKQ
, 
out
);

1452 ià(
Şd¡yË
)

1453 
·r£backq_Şd»tuº
;

1455 
·r£backq_Ãw»tuº
;

1461 
·r£¬™h
: {

1463 ià(++
¬še¡
 == 1) {

1464 
´evsyÁax
 = 
syÁax
;

1465 
syÁax
 = 
ARISYNTAX
;

1466 
	`USTPUTC
(
CTLARI
, 
out
);

1467 ià(
dblquÙe
)

1468 
	`USTPUTC
('"',
out
);

1470 
	`USTPUTC
(' ',
out
);

1476 
	`USTPUTC
('(', 
out
);

1478 
·r£¬™h_»tuº
;

1481 
	}
}

1485 #ifdeà
mkš™


1486 
	gRESET
 {

1487 
	gtokpushback
 = 0;

1488 
	gcheckkwd
 = 0;

1498 
	$nÛx·nd
(*
‹xt
)

1500 *
p
;

1501 
c
;

1503 
p
 = 
‹xt
;

1504 (
c
 = *
p
++) != '\0') {

1505 iàĞ
c
 =ğ
CTLQUOTEMARK
)

1507 ià(
c
 =ğ
CTLESC
)

1508 
p
++;

1509 ià(
BASESYNTAX
[()
c
] =ğ
CCTL
)

1513 
	}
}

1522 
	$goodÇme
(cÚ¡ *
Çme
)

1524 cÚ¡ *
p
;

1526 
p
 = 
Çme
;

1527 ià(! 
	`is_Çme
(*
p
))

1529 *++
p
) {

1530 ià(! 
	`is_š_Çme
(*
p
))

1534 
	}
}

1544 
	$syÃx³ù
(
tok’
)

1546 
msg
[64];

1548 ià(
tok’
 >= 0) {

1549 
	`fmt¡r
(
msg
, 64, "%s unexpected (expecting %s)",

1550 
tokÇme
[
Ï¡tok’
],okÇme[
tok’
]);

1552 
	`fmt¡r
(
msg
, 64, "% uÃx³ùed", 
tokÇme
[
Ï¡tok’
]);

1554 
	`syÃ¼Ü
(
msg
);

1555 
	}
}

1559 
	$syÃ¼Ü
(cÚ¡ *
msg
)

1561 ià(
commªdÇme
)

1562 
	`outfmt
(&
”rout
, "%s: %d: ", 
commªdÇme
, 
¡¬šno
);

1563 
	`outfmt
(&
”rout
, "SyÁaxƒ¼Ü: %s\n", 
msg
);

1564 
	`”rÜ
((*)
NULL
);

1565 
	}
}

1568 
	$£rom±
(
which
)

1570 
which´om±
 = 
which
;

1572 #iâdeà
NO_HISTORY


1573 ià(!
–
)

1575 
	`out2¡r
(
	`g‘´om±
(
NULL
));

1576 
	}
}

1583 
	$g‘´om±
(*
unu£d
 
__unu£d
)

1585 
ps
[
PROMPTLEN
];

1586 *
fmt
;

1587 cÚ¡ *
pwd
;

1588 
i
, 
Œim
;

1589 
š‹º®_”rÜ
[] = "<internal…romptƒrror>";

1594 
which´om±
) {

1596 
fmt
 = 
nuÎ¡r
;

1599 
fmt
 = 
	`ps1v®
();

1602 
fmt
 = 
	`ps2v®
();

1605  
š‹º®_”rÜ
;

1611 
i
 = 0; (˜< 127è&& (*
fmt
 != '\0'); i++, fmt++)

1612 ià(*
fmt
 == '\\')

1613 *++
fmt
) {

1623 
ps
[
i
] = '\0';

1624 
	`g‘ho¡Çme
(&
ps
[
i
], 
PROMPTLEN
 - i);

1626 
Œim
 = (*
fmt
 == 'h') ? '.' : '\0';

1627 (
ps
[
i
+1] !ğ'\0'è&& (ps[i+1] !ğ
Œim
))

1628 
i
++;

1639 
pwd
 = 
	`lookupv¬
("PWD");

1640 ià(
pwd
 =ğ
NULL
)

1641 
pwd
 = "?";

1642 ià(*
fmt
 == 'W' &&

1643 *
pwd
 == '/' &&…wd[1] != '\0')

1644 
	`¡¾ıy
(&
ps
[
i
], 
	`¡¼chr
(
pwd
, '/') + 1,

1645 
PROMPTLEN
 - 
i
);

1647 
	`¡¾ıy
(&
ps
[
i
], 
pwd
, 
PROMPTLEN
 - i);

1649 
ps
[
i
 + 1] != '\0')

1650 
i
++;

1659 
ps
[
i
] = (
	`g‘euid
() != 0) ? '$' : '#';

1666 
ps
[
i
] = '\\';

1673 
ps
[
i
++] = '\\';

1674 
ps
[
i
] = *
fmt
;

1678 
ps
[
i
] = *
fmt
;

1679 
ps
[
i
] = '\0';

1680  (
ps
);

1681 
	}
}

	@sh/parser.h

37 
	#CTLESC
 '\201'

	)

38 
	#CTLVAR
 '\202'

	)

39 
	#CTLENDVAR
 '\203'

	)

40 
	#CTLBACKQ
 '\204'

	)

41 
	#CTLQUOTE
 01

	)

43 
	#CTLARI
 '\206'

	)

44 
	#CTLENDARI
 '\207'

	)

45 
	#CTLQUOTEMARK
 '\210'

	)

48 
	#VSTYPE
 0x0à

	)

49 
	#VSNUL
 0x10

	)

50 
	#VSLINENO
 0x20

	)

52 
	#VSQUOTE
 0x80

	)

55 
	#VSNORMAL
 0x1

	)

56 
	#VSMINUS
 0x2

	)

57 
	#VSPLUS
 0x3

	)

58 
	#VSQUESTION
 0x4

	)

59 
	#VSASSIGN
 0x5

	)

60 
	#VSTRIMLEFT
 0x6

	)

61 
	#VSTRIMLEFTMAX
 0x7

	)

62 
	#VSTRIMRIGHT
 0x8

	)

63 
	#VSTRIMRIGHTMAX
 0x9

	)

64 
	#VSLENGTH
 0x¨

	)

65 
	#VSERROR
 0xb

	)

73 
tokpushback
;

74 
	#NEOF
 ((
node
 *)&
tokpushback
)

	)

75 
which´om±
;

76 cÚ¡ *cÚ¡ 
·r£kwd
[];

79 
node
 *
·r£cmd
();

80 
fix»dœ
(
node
 *, const *, );

81 
goodÇme
(const *);

82 *
g‘´om±
(*);

	@sh/redir.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)redir.c 8.2 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/redir.c,v 1.27.2.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sys/ty³s.h
>

42 
	~<sys/¡©.h
>

43 
	~<sigÇl.h
>

44 
	~<¡ršg.h
>

45 
	~<fú.h
>

46 
	~<”ºo.h
>

47 
	~<uni¡d.h
>

48 
	~<¡dlib.h
>

54 
	~"sh–l.h
"

55 
	~"nodes.h
"

56 
	~"jobs.h
"

57 
	~"ex·nd.h
"

58 
	~"»dœ.h
"

59 
	~"ouut.h
"

60 
	~"mem®loc.h
"

61 
	~"”rÜ.h
"

62 
	~"İtiÚs.h
"

65 
	#EMPTY
 -2

	)

66 
	#PIPESIZE
 4096

	)

69 
MKINIT


70 
	s»dœb
 {

71 
»dœb
 *
	mÃxt
;

72 
	m»Çmed
[10];

76 
MKINIT
 
»dœb
 *
	g»dœli¡
;

83 
	gfd0_»dœeùed
 = 0;

85 
İ’»dœeù
(
node
 *, [10 ]);

86 
İ’h”e
(
node
 *);

98 
	$»dœeù
(
node
 *
»dœ
, 
æags
)

100 
node
 *
n
;

101 
»dœb
 *
sv
 = 
NULL
;

102 
i
;

103 
fd
;

104 
Œy
;

105 
memÜy
[10];

107 
i
 = 10 ; --i >= 0 ; )

108 
memÜy
[
i
] = 0;

109 
memÜy
[1] = 
æags
 & 
REDIR_BACKQ
;

110 ià(
æags
 & 
REDIR_PUSH
) {

111 
sv
 = 
	`ckm®loc
( (
»dœb
));

112 
i
 = 0 ; i < 10 ; i++)

113 
sv
->
»Çmed
[
i
] = 
EMPTY
;

114 
sv
->
Ãxt
 = 
»dœli¡
;

115 
»dœli¡
 = 
sv
;

117 
n
 = 
»dœ
 ;‚ ;‚ =‚->
nfe
.
Ãxt
) {

118 
fd
 = 
n
->
nfe
.fd;

119 
Œy
 = 0;

120 ià((
n
->
nfe
.
ty³
 =ğ
NTOFD
 ||‚->nfe.ty³ =ğ
NFROMFD
) &&

121 
n
->
ndup
.
dupfd
 =ğ
fd
)

124 ià((
æags
 & 
REDIR_PUSH
è&& 
sv
->
»Çmed
[
fd
] =ğ
EMPTY
) {

125 
INTOFF
;

126 
agaš
:

127 ià((
i
 = 
	`fú
(
fd
, 
F_DUPFD
, 10)) == -1) {

128 
”ºo
) {

129 
EBADF
:

130 ià(!
Œy
) {

131 
	`İ’»dœeù
(
n
, 
memÜy
);

132 
Œy
++;

133 
agaš
;

137 
INTON
;

138 
	`”rÜ
("%d: %s", 
fd
, 
	`¡»¼Ü
(
”ºo
));

142 ià(!
Œy
) {

143 
sv
->
»Çmed
[
fd
] = 
i
;

145 
INTON
;

147 ià(
fd
 == 0)

148 
fd0_»dœeùed
++;

149 ià(!
Œy
)

150 
	`İ’»dœeù
(
n
, 
memÜy
);

152 ià(
memÜy
[1])

153 
out1
 = &
memout
;

154 ià(
memÜy
[2])

155 
out2
 = &
memout
;

156 
	}
}

160 
	$İ’»dœeù
(
node
 *
»dœ
, 
memÜy
[10])

162 
¡©
 
sb
;

163 
fd
 = 
»dœ
->
nfe
.fd;

164 *
âame
;

165 
f
;

172 
INTOFF
;

173 
memÜy
[
fd
] = 0;

174 
»dœ
->
nfe
.
ty³
) {

175 
NFROM
:

176 
âame
 = 
»dœ
->
nfe
.
expâame
;

177 ià((
f
 = 
	`İ’
(
âame
, 
O_RDONLY
)) < 0)

178 
	`”rÜ
("ÿÂÙ o³À%s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

179 
movefd
:

180 ià(
f
 !ğ
fd
) {

181 
	`dup2
(
f
, 
fd
);

182 
	`şo£
(
f
);

185 
NFROMTO
:

186 
âame
 = 
»dœ
->
nfe
.
expâame
;

187 ià((
f
 = 
	`İ’
(
âame
, 
O_RDWR
|
O_CREAT
, 0666)) < 0)

188 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

189 
movefd
;

190 
NTO
:

191 ià(
Cæag
) {

192 
âame
 = 
»dœ
->
nfe
.
expâame
;

193 ià(
	`¡©
(
âame
, &
sb
) == -1) {

194 ià((
f
 = 
	`İ’
(
âame
, 
O_WRONLY
|
O_CREAT
|
O_EXCL
, 0666)) < 0)

195 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

196 } ià(!
	`S_ISREG
(
sb
.
¡_mode
)) {

197 ià((
f
 = 
	`İ’
(
âame
, 
O_WRONLY
, 0666)) < 0)

198 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

199 ià(
	`f¡©
(
f
, &
sb
è!ğ-1 && 
	`S_ISREG
(sb.
¡_mode
)) {

200 
	`şo£
(
f
);

201 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
,

202 
	`¡»¼Ü
(
EEXIST
));

205 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
,

206 
	`¡»¼Ü
(
EEXIST
));

207 
movefd
;

210 
NCLOBBER
:

211 
âame
 = 
»dœ
->
nfe
.
expâame
;

212 ià((
f
 = 
	`İ’
(
âame
, 
O_WRONLY
|
O_CREAT
|
O_TRUNC
, 0666)) < 0)

213 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

214 
movefd
;

215 
NAPPEND
:

216 
âame
 = 
»dœ
->
nfe
.
expâame
;

217 ià((
f
 = 
	`İ’
(
âame
, 
O_WRONLY
|
O_CREAT
|
O_APPEND
, 0666)) < 0)

218 
	`”rÜ
("ÿÂÙ c»©%s: %s", 
âame
, 
	`¡»¼Ü
(
”ºo
));

219 
movefd
;

220 
NTOFD
:

221 
NFROMFD
:

222 ià(
»dœ
->
ndup
.
dupfd
 >= 0) {

223 ià(
memÜy
[
»dœ
->
ndup
.
dupfd
])

224 
memÜy
[
fd
] = 1;

226 
	`dup2
(
»dœ
->
ndup
.
dupfd
, 
fd
);

228 
	`şo£
(
fd
);

231 
NHERE
:

232 
NXHERE
:

233 
f
 = 
	`İ’h”e
(
»dœ
);

234 
movefd
;

236 
	`abÜt
();

238 
INTON
;

239 
	}
}

249 
	$İ’h”e
(
node
 *
»dœ
)

251 
p
[2];

252 
Ën
 = 0;

254 ià(
	`pe
(
p
) < 0)

255 
	`”rÜ
("PÿÎ faed: %s", 
	`¡»¼Ü
(
”ºo
));

256 ià(
»dœ
->
ty³
 =ğ
NHERE
) {

257 
Ën
 = 
	`¡¾’
(
»dœ
->
nh”e
.
doc
->
Çrg
.
‹xt
);

258 ià(
Ën
 <ğ
PIPESIZE
) {

259 
	`xwr™e
(
p
[1], 
»dœ
->
nh”e
.
doc
->
Çrg
.
‹xt
, 
Ën
);

260 
out
;

263 ià(
	`fÜksh–l
((
job
 *)
NULL
, (
node
 *)NULL, 
FORK_NOJOB
) == 0) {

264 
	`şo£
(
p
[0]);

265 
	`sigÇl
(
SIGINT
, 
SIG_IGN
);

266 
	`sigÇl
(
SIGQUIT
, 
SIG_IGN
);

267 
	`sigÇl
(
SIGHUP
, 
SIG_IGN
);

268 
	`sigÇl
(
SIGTSTP
, 
SIG_IGN
);

269 
	`sigÇl
(
SIGPIPE
, 
SIG_DFL
);

270 ià(
»dœ
->
ty³
 =ğ
NHERE
)

271 
	`xwr™e
(
p
[1], 
»dœ
->
nh”e
.
doc
->
Çrg
.
‹xt
, 
Ën
);

273 
	`ex·ndh”e
(
»dœ
->
nh”e
.
doc
, 
p
[1]);

274 
	`_ex™
(0);

276 
out
:

277 
	`şo£
(
p
[1]);

278  
p
[0];

279 
	}
}

288 
	$pİ»dœ
()

290 
»dœb
 *
½
 = 
»dœli¡
;

291 
i
;

293 
i
 = 0 ; i < 10 ; i++) {

294 ià(
½
->
»Çmed
[
i
] !ğ
EMPTY
) {

295 ià(
i
 == 0)

296 
fd0_»dœeùed
--;

297 ià(
½
->
»Çmed
[
i
] >= 0) {

298 
	`dup2
(
½
->
»Çmed
[
i
], i);

299 
	`şo£
(
½
->
»Çmed
[
i
]);

301 
	`şo£
(
i
);

305 
INTOFF
;

306 
»dœli¡
 = 
½
->
Ãxt
;

307 
	`ckä“
(
½
);

308 
INTON
;

309 
	}
}

315 #ifdeà
mkš™


317 
	gINCLUDE
 "redir.h"

319 
	gRESET
 {

320 
	g»dœli¡
)

321 
pİ»dœ
();

324 
	gSHELLPROC
 {

325 
ş—¼edœ
();

332 
	$fd0_»dœeùed_p
()

334  
fd0_»dœeùed
 != 0;

335 
	}
}

342 
	$ş—¼edœ
()

344 
»dœb
 *
½
;

345 
i
;

347 
½
 = 
»dœli¡
 ;„°;„°ğ½->
Ãxt
) {

348 
i
 = 0 ; i < 10 ; i++) {

349 ià(
½
->
»Çmed
[
i
] >= 0) {

350 
	`şo£
(
½
->
»Çmed
[
i
]);

352 
½
->
»Çmed
[
i
] = 
EMPTY
;

355 
	}
}

	@sh/redir.h

37 
	#REDIR_PUSH
 01

	)

38 
	#REDIR_BACKQ
 02

	)

40 
	gnode
;

41 
»dœeù
(
node
 *, );

42 
pİ»dœ
();

43 
fd0_»dœeùed_p
();

44 
ş—¼edœ
();

	@sh/shell.h

36 #iâdeà
SHELL_H_


37 
	#SHELL_H_


	)

39 
	~<š‰y³s.h
>

52 
	#JOBS
 1

	)

58 
štmax_t
 
	t¬™h_t
;

59 
	#ARITH_FORMAT_STR
 "%" 
PRIdMAX


	)

60 
	#©ßr™h_t
(
¬g
è
	`¡¹oimax
×rg, 
NULL
, 0)

	)

61 
	#¡¹ßr™h_t
(
ÅŒ
, 
’d±r
, 
ba£
è
	`¡¹oimax
Ò±r,ƒnd±r, ba£)

	)

63 *
	tpoš‹r
;

64 
	#MKINIT


	)

66 
	~<sys/cdefs.h
>

68 
nuÎ¡r
[1];

70 #ifdeà
DEBUG


71 
	#TRACE
(
·¿m
è
sh_Œaû
 
	)
param

73 
	#TRACE
(
·¿m
)

	)

	@sh/show.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)show.c 8.3 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/show.c,v 1.23.10.3.4.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<fú.h
>

42 
	~<¡dio.h
>

43 
	~<¡dlib.h
>

44 
	~<¡d¬g.h
>

45 
	~<”ºo.h
>

47 
	~"sh–l.h
"

48 
	~"·r£r.h
"

49 
	~"nodes.h
"

50 
	~"my¡ršg.h
"

51 
	~"show.h
"

54 #ifdeà
DEBUG


55 
shŒ“
(
node
 *, , *, 
FILE
*);

56 
shcmd
(
node
 *, 
FILE
 *);

57 
sh¬g
(
node
 *, 
FILE
 *);

58 
šd’t
(, *, 
FILE
 *);

59 
Œ¡ršg
(*);

63 
	$showŒ“
(
node
 *
n
)

65 
	`Œputs
("showtree called\n");

66 
	`shŒ“
(
n
, 1, 
NULL
, 
¡dout
);

67 
	}
}

71 
	$shŒ“
(
node
 *
n
, 
šd
, *
pfx
, 
FILE
 *
å
)

73 
nod–i¡
 *
Í
;

74 *
s
;

76 ià(
n
 =ğ
NULL
)

79 
	`šd’t
(
šd
, 
pfx
, 
å
);

80 
n
->
ty³
) {

81 
NSEMI
:

82 
s
 = "; ";

83 
bšİ
;

84 
NAND
:

85 
s
 = " && ";

86 
bšİ
;

87 
NOR
:

88 
s
 = " || ";

89 
bšİ
:

90 
	`shŒ“
(
n
->
nbš¬y
.
ch1
, 
šd
, 
NULL
, 
å
);

92 
	`åuts
(
s
, 
å
);

93 
	`shŒ“
(
n
->
nbš¬y
.
ch2
, 
šd
, 
NULL
, 
å
);

95 
NCMD
:

96 
	`shcmd
(
n
, 
å
);

97 ià(
šd
 >= 0)

98 
	`putc
('\n', 
å
);

100 
NPIPE
:

101 
Í
 = 
n
->
Åe
.
cmdli¡
 ;†°;†°ğÍ->
Ãxt
) {

102 
	`shcmd
(
Í
->
n
, 
å
);

103 ià(
Í
->
Ãxt
)

104 
	`åuts
(" | ", 
å
);

106 ià(
n
->
Åe
.
backgnd
)

107 
	`åuts
(" &", 
å
);

108 ià(
šd
 >= 0)

109 
	`putc
('\n', 
å
);

112 
	`årštf
(
å
, "<nodty³ %d>", 
n
->
ty³
);

113 ià(
šd
 >= 0)

114 
	`putc
('\n', 
å
);

117 
	}
}

122 
	$shcmd
(
node
 *
cmd
, 
FILE
 *
å
)

124 
node
 *
Å
;

125 
fœ¡
;

126 *
s
;

127 
dáfd
;

129 
fœ¡
 = 1;

130 
Å
 = 
cmd
->
ncmd
.
¬gs
 ;‚°;‚°ğÅ->
Çrg
.
Ãxt
) {

131 ià(! 
fœ¡
)

132 
	`putch¬
(' ');

133 
	`sh¬g
(
Å
, 
å
);

134 
fœ¡
 = 0;

136 
Å
 = 
cmd
->
ncmd
.
»dœeù
 ;‚°;‚°ğÅ->
nfe
.
Ãxt
) {

137 ià(! 
fœ¡
)

138 
	`putch¬
(' ');

139 
Å
->
nfe
.
ty³
) {

140 
NTO
: 
s
 = ">"; 
dáfd
 = 1; ;

141 
NAPPEND
: 
s
 = ">>"; 
dáfd
 = 1; ;

142 
NTOFD
: 
s
 = ">&"; 
dáfd
 = 1; ;

143 
NCLOBBER
: 
s
 = ">|"; 
dáfd
 = 1; ;

144 
NFROM
: 
s
 = "<"; 
dáfd
 = 0; ;

145 
NFROMTO
: 
s
 = "<>"; 
dáfd
 = 0; ;

146 
NFROMFD
: 
s
 = "<&"; 
dáfd
 = 0; ;

147 
NHERE
: 
s
 = "<<"; 
dáfd
 = 0; ;

148 
NXHERE
: 
s
 = "<<"; 
dáfd
 = 0; ;

149 : 
s
 = "*”rÜ*"; 
dáfd
 = 0; ;

151 ià(
Å
->
nfe
.
fd
 !ğ
dáfd
)

152 
	`årštf
(
å
, "%d", 
Å
->
nfe
.
fd
);

153 
	`åuts
(
s
, 
å
);

154 ià(
Å
->
nfe
.
ty³
 =ğ
NTOFD
 ||‚p->nfe.ty³ =ğ
NFROMFD
) {

155 ià(
Å
->
ndup
.
dupfd
 >= 0)

156 
	`årštf
(
å
, "%d", 
Å
->
ndup
.
dupfd
);

158 
	`årštf
(
å
, "-");

159 } ià(
Å
->
nfe
.
ty³
 =ğ
NHERE
) {

160 
	`årštf
(
å
, "HERE");

161 } ià(
Å
->
nfe
.
ty³
 =ğ
NXHERE
) {

162 
	`årštf
(
å
, "XHERE");

164 
	`sh¬g
(
Å
->
nfe
.
âame
, 
å
);

166 
fœ¡
 = 0;

168 
	}
}

173 
	$sh¬g
(
node
 *
¬g
, 
FILE
 *
å
)

175 *
p
;

176 
nod–i¡
 *
bqli¡
;

177 
subty³
;

179 ià(
¬g
->
ty³
 !ğ
NARG
) {

180 
	`´štf
("<nodty³ %d>\n", 
¬g
->
ty³
);

181 
	`fæush
(
¡dout
);

182 
	`abÜt
();

184 
bqli¡
 = 
¬g
->
Çrg
.
backquÙe
;

185 
p
 = 
¬g
->
Çrg
.
‹xt
 ; *p ;…++) {

186 *
p
) {

187 
CTLESC
:

188 
	`putc
(*++
p
, 
å
);

190 
CTLVAR
:

191 
	`putc
('$', 
å
);

192 
	`putc
('{', 
å
);

193 
subty³
 = *++
p
;

194 ià(
subty³
 =ğ
VSLENGTH
)

195 
	`putc
('#', 
å
);

197 *
p
 != '=')

198 
	`putc
(*
p
++, 
å
);

200 ià(
subty³
 & 
VSNUL
)

201 
	`putc
(':', 
å
);

203 
subty³
 & 
VSTYPE
) {

204 
VSNORMAL
:

205 
	`putc
('}', 
å
);

207 
VSMINUS
:

208 
	`putc
('-', 
å
);

210 
VSPLUS
:

211 
	`putc
('+', 
å
);

213 
VSQUESTION
:

214 
	`putc
('?', 
å
);

216 
VSASSIGN
:

217 
	`putc
('=', 
å
);

219 
VSTRIMLEFT
:

220 
	`putc
('#', 
å
);

222 
VSTRIMLEFTMAX
:

223 
	`putc
('#', 
å
);

224 
	`putc
('#', 
å
);

226 
VSTRIMRIGHT
:

227 
	`putc
('%', 
å
);

229 
VSTRIMRIGHTMAX
:

230 
	`putc
('%', 
å
);

231 
	`putc
('%', 
å
);

233 
VSLENGTH
:

236 
	`´štf
("<subty³ %d>", 
subty³
);

239 
CTLENDVAR
:

240 
	`putc
('}', 
å
);

242 
CTLBACKQ
:

243 
CTLBACKQ
|
CTLQUOTE
:

244 
	`putc
('$', 
å
);

245 
	`putc
('(', 
å
);

246 
	`shŒ“
(
bqli¡
->
n
, -1, 
NULL
, 
å
);

247 
	`putc
(')', 
å
);

250 
	`putc
(*
p
, 
å
);

254 
	}
}

258 
	$šd’t
(
amouÁ
, *
pfx
, 
FILE
 *
å
)

260 
i
;

262 
i
 = 0 ; i < 
amouÁ
 ; i++) {

263 ià(
pfx
 && 
i
 =ğ
amouÁ
 - 1)

264 
	`åuts
(
pfx
, 
å
);

265 
	`putc
('\t', 
å
);

267 
	}
}

275 
FILE
 *
	gŒaûfe
;

277 #ià
DEBUG
 >= 2

278 
	gdebug
 = 1;

280 
	gdebug
 = 0;

285 
	$Œputc
(
c
)

287 ià(
Œaûfe
 =ğ
NULL
)

289 
	`putc
(
c
, 
Œaûfe
);

290 ià(
c
 == '\n')

291 
	`fæush
(
Œaûfe
);

292 
	}
}

296 
	$sh_Œaû
(cÚ¡ *
fmt
, ...)

298 
va_li¡
 
va
;

299 
	`va_¡¬t
(
va
, 
fmt
);

300 ià(
Œaûfe
 !ğ
NULL
) {

301 (è
	`vårštf
(
Œaûfe
, 
fmt
, 
va
);

302 ià(
	`¡rchr
(
fmt
, '\n'))

303 (è
	`fæush
(
Œaûfe
);

305 
	`va_’d
(
va
);

306 
	}
}

310 
	$Œputs
(cÚ¡ *
s
)

312 ià(
Œaûfe
 =ğ
NULL
)

314 
	`åuts
(
s
, 
Œaûfe
);

315 ià(
	`¡rchr
(
s
, '\n'))

316 
	`fæush
(
Œaûfe
);

317 
	}
}

321 
	$Œ¡ršg
(*
s
)

323 *
p
;

324 
c
;

326 ià(
Œaûfe
 =ğ
NULL
)

328 
	`putc
('"', 
Œaûfe
);

329 
p
 = 
s
 ; *p ;…++) {

330 *
p
) {

331 '\n': 
c
 = 'n'; 
back¦ash
;

332 '\t': 
c
 = 't'; 
back¦ash
;

333 '\r': 
c
 = 'r'; 
back¦ash
;

334 '"': 
c
 = '"'; 
back¦ash
;

335 '\\': 
c
 = '\\'; 
back¦ash
;

336 
CTLESC
: 
c
 = 'e'; 
back¦ash
;

337 
CTLVAR
: 
c
 = 'v'; 
back¦ash
;

338 
CTLVAR
+
CTLQUOTE
: 
c
 = 'V'; 
back¦ash
;

339 
CTLBACKQ
: 
c
 = 'q'; 
back¦ash
;

340 
CTLBACKQ
+
CTLQUOTE
: 
c
 = 'Q'; 
back¦ash
;

341 
back¦ash
: 
	`putc
('\\', 
Œaûfe
);

342 
	`putc
(
c
, 
Œaûfe
);

345 ià(*
p
 >= ' ' && *p <= '~')

346 
	`putc
(*
p
, 
Œaûfe
);

348 
	`putc
('\\', 
Œaûfe
);

349 
	`putc
(*
p
 >> 6 & 03, 
Œaûfe
);

350 
	`putc
(*
p
 >> 3 & 07, 
Œaûfe
);

351 
	`putc
(*
p
 & 07, 
Œaûfe
);

356 
	`putc
('"', 
Œaûfe
);

357 
	}
}

361 
	$Œ¬gs
(**
­
)

363 ià(
Œaûfe
 =ğ
NULL
)

365 *
­
) {

366 
	`Œ¡ršg
(*
­
++);

367 ià(*
­
)

368 
	`putc
(' ', 
Œaûfe
);

370 
	`putc
('\n', 
Œaûfe
);

372 
	`fæush
(
Œaûfe
);

373 
	}
}

377 
	$İ’Œaû
()

379 
s
[100];

380 
æags
;

382 ià(!
debug
)

384 #ifdeà
nÙ_this_way


386 *
p
;

387 ià((
p
 = 
	`g‘’v
("HOME")è=ğ
NULL
) {

388 ià(
	`g‘euid
() == 0)

389 
p
 = "/";

391 
p
 = "/tmp";

393 
	`scİy
(
p
, 
s
);

394 
	`¡rÿt
(
s
, "/trace");

397 
	`scİy
("./Œaû", 
s
);

399 ià((
Œaûfe
 = 
	`fİ’
(
s
, "a")è=ğ
NULL
) {

400 
	`årštf
(
¡d”r
, "Cª'ˆİ’ %s: %s\n", 
s
, 
	`¡»¼Ü
(
”ºo
));

403 ià((
æags
 = 
	`fú
(
	`f’o
(
Œaûfe
), 
F_GETFL
, 0)) >= 0)

404 
	`fú
(
	`f’o
(
Œaûfe
), 
F_SETFL
, 
æags
 | 
O_APPEND
);

405 
	`åuts
("\nT¿cšg s¹ed.\n", 
Œaûfe
);

406 
	`fæush
(
Œaûfe
);

407 
	}
}

	@sh/show.h

33 
showŒ“
(
node
 *);

34 #ifdeà
DEBUG


35 
	$sh_Œaû
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

36 
	`Œ¬gs
(**);

37 
	`Œputc
();

38 
	`Œputs
(const *);

39 
	`İ’Œaû
();

	@sh/trap.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)trap.c 8.5 (Berkeley) 6/5/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/trap.c,v 1.34.2.2.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<sigÇl.h
>

42 
	~<uni¡d.h
>

43 
	~<¡dlib.h
>

45 
	~"sh–l.h
"

46 
	~"maš.h
"

47 
	~"nodes.h
"

48 
	~"ev®.h
"

49 
	~"jobs.h
"

50 
	~"show.h
"

51 
	~"İtiÚs.h
"

52 
	~"syÁax.h
"

53 
	~"ouut.h
"

54 
	~"mem®loc.h
"

55 
	~"”rÜ.h
"

56 
	~"Œ­.h
"

57 
	~"my¡ršg.h
"

58 
	~"myhi¡ed™.h
"

67 
	#S_DFL
 1

	)

68 
	#S_CATCH
 2

	)

69 
	#S_IGN
 3

	)

70 
	#S_HARD_IGN
 4

	)

71 
	#S_RESET
 5

	)

74 
MKINIT
 
	gsigmode
[
NSIG
];

75 
	g³ndšgsigs
;

76 
	gš_dÙ¿p
;

77 *vŞ©
	gŒ­
[
NSIG
];

78 vŞ©
sig_©omic_t
 
	ggÙsig
[
NSIG
];

80 
	gignÜe_sigchld
;

81 vŞ©
sig_©omic_t
 
	ggÙwšch
;

83 
g‘sigaùiÚ
(, 
sig_t
 *);

92 
	$sig¡ršg_to_signum
(*
sig
)

95 ià(
	`is_numb”
(
sig
)) {

96 
signo
;

98 
signo
 = 
	`©oi
(
sig
);

99  ((
signo
 >ğ0 && signØ< 
NSIG
) ? signo : (-1));

100 } ià(
	`¡rÿ£cmp
(
sig
, "exit") == 0) {

103 
n
;

105 ià(
	`¡ºÿ£cmp
(
sig
, "sig", 3) == 0)

106 
sig
 += 3;

107 
n
 = 1;‚ < 
sys_nsig
;‚++)

108 ià(
sys_sigÇme
[
n
] &&

109 
	`¡rÿ£cmp
(
sys_sigÇme
[
n
], 
sig
) == 0)

110  (
n
);

113 
	}
}

120 
	$´štsigÇls
()

122 
n
, 
ou’
;

124 
ou’
 = 0;

125 
n
 = 1;‚ < 
sys_nsig
;‚++) {

126 ià(
sys_sigÇme
[
n
]) {

127 
	`out1fmt
("%s", 
sys_sigÇme
[
n
]);

128 
ou’
 +ğ
	`¡¾’
(
sys_sigÇme
[
n
]);

130 
	`out1fmt
("%d", 
n
);

131 
ou’
 += 3;

133 ++
ou’
;

134 ià(
ou’
 > 70 || 
n
 =ğ
sys_nsig
 - 1) {

135 
	`out1¡r
("\n");

136 
ou’
 = 0;

138 
	`out1c
(' ');

141 
	}
}

148 
	$Œ­cmd
(
¬gc
, **
¬gv
)

150 *
aùiÚ
;

151 
signo
;

153 ià(
¬gc
 <= 1) {

154 
signo
 = 0 ; signØ< 
sys_nsig
 ; signo++) {

155 ià(
signo
 < 
NSIG
 && 
Œ­
[signo] !ğ
NULL
) {

156 
	`out1¡r
("trap -- ");

157 
	`out1q¡r
(
Œ­
[
signo
]);

158 ià(
signo
 == 0) {

159 
	`out1¡r
("ƒxit\n");

160 } ià(
sys_sigÇme
[
signo
]) {

161 
	`out1fmt
(" %s\n", 
sys_sigÇme
[
signo
]);

163 
	`out1fmt
(" %d\n", 
signo
);

169 
aùiÚ
 = 
NULL
;

170 ià(*++
¬gv
 && 
	`¡rcmp
(*argv, "--") == 0)

171 
¬gv
++;

172 ià(*
¬gv
 && 
	`sig¡ršg_to_signum
(*argv) == -1) {

173 ià((*
¬gv
)[0] != '-') {

174 
aùiÚ
 = *
¬gv
;

175 
¬gv
++;

176 } ià((*
¬gv
)[1] == '\0') {

177 
¬gv
++;

178 } ià((*
¬gv
)[1] == 'l' && (*argv)[2] == '\0') {

179 
	`´štsigÇls
();

182 
	`”rÜ
("bad o±iÚ %s", *
¬gv
);

185 *
¬gv
) {

186 ià((
signo
 = 
	`sig¡ršg_to_signum
(*
¬gv
)) == -1)

187 
	`”rÜ
("bad sigÇÈ%s", *
¬gv
);

188 
INTOFF
;

189 ià(
aùiÚ
)

190 
aùiÚ
 = 
	`§ve¡r
(action);

191 ià(
Œ­
[
signo
])

192 
	`ckä“
(
Œ­
[
signo
]);

193 
Œ­
[
signo
] = 
aùiÚ
;

194 ià(
signo
 != 0)

195 
	`£tsigÇl
(
signo
);

196 
INTON
;

197 
¬gv
++;

200 
	}
}

207 
	$ş—r_Œ­s
()

209 *vŞ©*

;

211 

 = 
Œ­
 ;°<ğ&Œ­[
NSIG
 - 1] ;p++) {

212 ià(*

 && **tp) {

213 
INTOFF
;

214 
	`ckä“
(*

);

215 *

 = 
NULL
;

216 ià(

 !ğ&
Œ­
[0])

217 
	`£tsigÇl
(

 - 
Œ­
);

218 
INTON
;

221 
	}
}

228 
	$have_Œ­s
()

230 *vŞ©*

;

232 

 = 
Œ­
 ;°<ğ&Œ­[
NSIG
 - 1] ;p++) {

233 ià(*

 && **tp)

237 
	}
}

244 
	$£tsigÇl
(
signo
)

246 
aùiÚ
;

247 
sig_t
 
sig
, 
sigaù
 = 
SIG_DFL
;

248 *
t
;

250 ià((
t
 = 
Œ­
[
signo
]è=ğ
NULL
)

251 
aùiÚ
 = 
S_DFL
;

252 ià(*
t
 != '\0')

253 
aùiÚ
 = 
S_CATCH
;

255 
aùiÚ
 = 
S_IGN
;

256 ià(
aùiÚ
 =ğ
S_DFL
) {

257 
signo
) {

258 
SIGINT
:

259 
aùiÚ
 = 
S_CATCH
;

261 
SIGQUIT
:

262 #ifdeà
DEBUG


264 
debug
;

266 ià(
debug
)

270 
aùiÚ
 = 
S_CATCH
;

272 
SIGTERM
:

273 ià(
roÙsh–l
 && 
iæag
)

274 
aùiÚ
 = 
S_IGN
;

276 #ià
JOBS


277 
SIGTSTP
:

278 
SIGTTOU
:

279 ià(
roÙsh–l
 && 
mæag
)

280 
aùiÚ
 = 
S_IGN
;

283 #iâdeà
NO_HISTORY


284 
SIGWINCH
:

285 ià(
roÙsh–l
 && 
iæag
)

286 
aùiÚ
 = 
S_CATCH
;

292 
t
 = &
sigmode
[
signo
];

293 ià(*
t
 == 0) {

297 ià(!
	`g‘sigaùiÚ
(
signo
, &
sigaù
)) {

305 ià(
sigaù
 =ğ
SIG_IGN
) {

306 ià(
mæag
 && (
signo
 =ğ
SIGTSTP
 ||

307 
signo
 =ğ
SIGTTIN
 || signØ=ğ
SIGTTOU
)) {

308 *
t
 = 
S_IGN
;

310 *
t
 = 
S_HARD_IGN
;

312 *
t
 = 
S_RESET
;

315 ià(*
t
 =ğ
S_HARD_IGN
 || *ˆ=ğ
aùiÚ
)

317 
aùiÚ
) {

318 
S_DFL
: 
sigaù
 = 
SIG_DFL
; ;

319 
S_CATCH
: 
sigaù
 = 
Úsig
; ;

320 
S_IGN
: 
sigaù
 = 
SIG_IGN
; ;

322 *
t
 = 
aùiÚ
;

323 
sig
 = 
	`sigÇl
(
signo
, 
sigaù
);

324 ià(
sig
 !ğ
SIG_ERR
 && 
aùiÚ
 =ğ
S_CATCH
)

325 
	`sigš‹¼u±
(
signo
, 1);

326 
	}
}

333 
	$g‘sigaùiÚ
(
signo
, 
sig_t
 *
sigaù
)

335 
sigaùiÚ
 
§
;

337 ià(
	`sigaùiÚ
(
signo
, (
sigaùiÚ
 *)0, &
§
) == -1)

339 *
sigaù
 = (
sig_t
è
§
.
§_hªdËr
;

341 
	}
}

348 
	$ignÜesig
(
signo
)

351 ià(
sigmode
[
signo
] !ğ
S_IGN
 && sigmode[signo] !ğ
S_HARD_IGN
) {

352 
	`sigÇl
(
signo
, 
SIG_IGN
);

354 
sigmode
[
signo
] = 
S_HARD_IGN
;

355 
	}
}

358 #ifdeà
mkš™


359 
	gINCLUDE
 <
	gsigÇl
.
	gh
>

360 
	gINCLUDE
 "trap.h"

362 
	gSHELLPROC
 {

363 *
	gsm
;

365 
ş—r_Œ­s
();

366 
	gsm
 = 
sigmode
 ; sm < 
	gsigmode
 + 
	gNSIG
 ; sm++) {

367 ià(*
	gsm
 =ğ
S_IGN
)

368 *
sm
 = 
S_HARD_IGN
;

378 
	$Úsig
(
signo
)

381 ià(
signo
 =ğ
SIGINT
 && 
Œ­
[SIGINT] =ğ
NULL
) {

382 
	`Úšt
();

386 ià(
signo
 !ğ
SIGCHLD
 || !
ignÜe_sigchld
)

387 
gÙsig
[
signo
] = 1;

388 
³ndšgsigs
++;

391 ià((
signo
 =ğ
SIGINT
 || signØ=ğ
SIGQUIT
è&& 
š_wa™cmd
 != 0)

392 
b»akwa™cmd
 = 1;

397 ià(
Tæag
 &&

398 
Œ­
[
signo
] !ğ
NULL
 &&

399 ! (
Œ­
[
signo
][0] == '\0') &&

400 ! (
Œ­
[
signo
][0] == ':' &&rap[signo][1] == '\0'))

401 
b»akwa™cmd
 = 1;

403 #iâdeà
NO_HISTORY


404 ià(
signo
 =ğ
SIGWINCH
)

405 
gÙwšch
 = 1;

407 
	}
}

415 
	$dÙ¿p
()

417 
i
;

418 
§ve¡©us
, 
´ev_ev®sk
, 
´ev_skcouÁ
;

420 
š_dÙ¿p
++;

422 
i
 = 1; i < 
NSIG
; i++) {

423 ià(
gÙsig
[
i
]) {

424 
gÙsig
[
i
] = 0;

425 ià(
Œ­
[
i
]) {

431 ià(
i
 =ğ
SIGCHLD
)

432 
ignÜe_sigchld
++;

442 
´ev_ev®sk
 = 
ev®sk
;

443 
´ev_skcouÁ
 = 
skcouÁ
;

444 
ev®sk
 = 0;

446 
§ve¡©us
 = 
ex™¡©us
;

447 
	`ev®¡ršg
(
Œ­
[
i
], 0);

448 
ex™¡©us
 = 
§ve¡©us
;

457 ià(
´ev_ev®sk
 != 0) {

458 
ev®sk
 = 
´ev_ev®sk
;

459 
skcouÁ
 = 
´ev_skcouÁ
;

462 ià(
i
 =ğ
SIGCHLD
)

463 
ignÜe_sigchld
--;

468 ià(
i
 >ğ
NSIG
)

471 
š_dÙ¿p
--;

472 
³ndšgsigs
 = 0;

473 
	}
}

480 
	$£tš‹¿ùive
(
Ú
)

482 
is_š‹¿ùive
 = -1;

484 ià(
Ú
 =ğ
is_š‹¿ùive
)

486 
	`£tsigÇl
(
SIGINT
);

487 
	`£tsigÇl
(
SIGQUIT
);

488 
	`£tsigÇl
(
SIGTERM
);

489 #iâdeà
NO_HISTORY


490 
	`£tsigÇl
(
SIGWINCH
);

492 
is_š‹¿ùive
 = 
Ú
;

493 
	}
}

500 
	$ex™sh–l
(
¡©us
)

502 
jm¶oc
 
loc1
, 
loc2
;

503 *
p
;

505 
	`TRACE
(("ex™sh–l(%dèpid=%d\n", 
¡©us
, 
	`g‘pid
()));

506 ià(
	`£tjmp
(
loc1
.
loc
)) {

507 
l1
;

509 ià(
	`£tjmp
(
loc2
.
loc
)) {

510 
l2
;

512 
hªdËr
 = &
loc1
;

513 ià((
p
 = 
Œ­
[0]è!ğ
NULL
 && *p != '\0') {

518 
ev®sk
 = 0;

519 
Œ­
[0] = 
NULL
;

520 
	`ev®¡ršg
(
p
, 0);

522 
l1
: 
hªdËr
 = &
loc2
;

523 
	`æush®l
();

524 #ià
JOBS


525 
	`£tjobùl
(0);

527 
l2
: 
	`_ex™
(
¡©us
);

528 
	}
}

	@sh/trap.h

36 
³ndšgsigs
;

37 
š_dÙ¿p
;

38 vŞ©
sig_©omic_t
 
gÙwšch
;

40 
Œ­cmd
(, **);

41 
ş—r_Œ­s
();

42 
have_Œ­s
();

43 
£tsigÇl
();

44 
ignÜesig
();

45 
Úsig
();

46 
dÙ¿p
();

47 
£tš‹¿ùive
();

48 
	$ex™sh–l
(è
__d—d2
;

	@sh/var.c

33 #iâdeà
lšt


35 
	gsccsid
[] = "@(#)var.c 8.3 (Berkeley) 5/4/95";

38 
	~<sys/cdefs.h
>

39 
__FBSDID
("$FreeBSD: src/bin/sh/var.c,v 1.39.2.8.2.1 2012/03/03 06:15:13 kensmith Exp $");

41 
	~<uni¡d.h
>

42 
	~<¡dlib.h
>

43 
	~<·ths.h
>

49 
	~<loÿË.h
>

51 
	~"sh–l.h
"

52 
	~"ouut.h
"

53 
	~"ex·nd.h
"

54 
	~"nodes.h
"

55 
	~"ev®.h
"

56 
	~"exec.h
"

57 
	~"syÁax.h
"

58 
	~"İtiÚs.h
"

59 
	~"ma.h
"

60 
	~"v¬.h
"

61 
	~"mem®loc.h
"

62 
	~"”rÜ.h
"

63 
	~"my¡ršg.h
"

64 
	~"·r£r.h
"

65 #iâdeà
NO_HISTORY


66 
	~"myhi¡ed™.h
"

70 
	#VTABSIZE
 39

	)

73 
	sv¬š™
 {

74 
v¬
 *
	mv¬
;

75 
	mæags
;

76 *
	m‹xt
;

77 (*
	mfunc
)(const *);

81 #iâdeà
NO_HISTORY


82 
v¬
 
	gvhi¡size
;

84 
v¬
 
	gvifs
;

85 
v¬
 
	gvma
;

86 
v¬
 
	gvm·th
;

87 
v¬
 
	gv·th
;

88 
v¬
 
	gvµid
;

89 
v¬
 
	gvps1
;

90 
v¬
 
	gvps2
;

91 
v¬
 
	gvps4
;

92 
v¬
 
	gvv”s
;

93 
v¬
 
	gvİtšd
;

95 cÚ¡ 
v¬š™
 
	gv¬š™
[] = {

96 #iâdeà
NO_HISTORY


97 { &
vhi¡size
, 
VSTRFIXED
|
VTEXTFIXED
|
VUNSET
, "HISTSIZE=",

98 
£thi¡size
 },

100 { &
vifs
, 
VSTRFIXED
|
VTEXTFIXED
, "IFS= \t\n",

101 
NULL
 },

102 { &
vma
, 
VSTRFIXED
|
VTEXTFIXED
|
VUNSET
, "MAIL=",

103 
NULL
 },

104 { &
vm·th
, 
VSTRFIXED
|
VTEXTFIXED
|
VUNSET
, "MAILPATH=",

105 
NULL
 },

106 { &
v·th
, 
VSTRFIXED
|
VTEXTFIXED
, "PATH=" 
_PATH_DEFPATH
,

107 
chªg•©h
 },

108 { &
vµid
, 
VSTRFIXED
|
VTEXTFIXED
|
VUNSET
, "PPID=",

109 
NULL
 },

113 { &
vps2
, 
VSTRFIXED
|
VTEXTFIXED
, "PS2=> ",

114 
NULL
 },

115 { &
vps4
, 
VSTRFIXED
|
VTEXTFIXED
, "PS4=+ ",

116 
NULL
 },

117 { &
vİtšd
, 
VSTRFIXED
|
VTEXTFIXED
, "OPTIND=1",

118 
g‘İt¤e£t
 },

119 { 
NULL
, 0, NULL,

120 
NULL
 }

123 
v¬
 *
	gv¬b
[
VTABSIZE
];

125 
v¬
 **
hashv¬
(const *);

126 
v¬equ®
(const *, const *);

127 
loÿËv¬
(const *);

133 #ifdeà
mkš™


134 
	gINCLUDE
 "var.h"

135 
MKINIT
 **
	g’vœÚ
;

136 
	gINIT
 {

137 **
	g’vp
;

139 
š™v¬
();

140 
	g’vp
 = 
’vœÚ
 ; *envp ;ƒnvp++) {

141 ià(
¡rchr
(*
’vp
, '=')) {

142 
£tv¬eq
(*
’vp
, 
VEXPORT
|
VTEXTFIXED
);

155 
	$š™v¬
()

157 
µid
[20];

158 cÚ¡ 
v¬š™
 *

;

159 
v¬
 *
vp
;

160 
v¬
 **
vµ
;

162 

 = 
v¬š™
 ; (
vp
 = ip->
v¬
è!ğ
NULL
 ; ip++) {

163 ià((
vp
->
æags
 & 
VEXPORT
) == 0) {

164 
vµ
 = 
	`hashv¬
(

->
‹xt
);

165 
vp
->
Ãxt
 = *
vµ
;

166 *
vµ
 = 
vp
;

167 
vp
->
‹xt
 = 

->text;

168 
vp
->
æags
 = 

->flags;

169 
vp
->
func
 = 

->func;

175 ià((
vps1
.
æags
 & 
VEXPORT
) == 0) {

176 
vµ
 = 
	`hashv¬
("PS1=");

177 
vps1
.
Ãxt
 = *
vµ
;

178 *
vµ
 = &
vps1
;

179 
vps1
.
‹xt
 = 
	`g‘euid
() ? "PS1=$ " : "PS1=# ";

180 
vps1
.
æags
 = 
VSTRFIXED
|
VTEXTFIXED
;

182 ià((
vµid
.
æags
 & 
VEXPORT
) == 0) {

183 
	`fmt¡r
(
µid
, Õpid), "%d", ()
	`g‘µid
());

184 
	`£tv¬§ã
("PPID", 
µid
, 0);

186 
	}
}

193 
	$£tv¬§ã
(cÚ¡ *
Çme
, cÚ¡ *
v®
, 
æags
)

195 
jm¶oc
 jmploc;

196 
jm¶oc
 *cÚ¡ 
§vehªdËr
 = 
hªdËr
;

197 
”r
 = 0;

199 ià(
	`£tjmp
(
jm¶oc
.
loc
))

200 
”r
 = 1;

202 
hªdËr
 = &
jm¶oc
;

203 
	`£tv¬
(
Çme
, 
v®
, 
æags
);

205 
hªdËr
 = 
§vehªdËr
;

206  
”r
;

207 
	}
}

215 
	$£tv¬
(cÚ¡ *
Çme
, cÚ¡ *
v®
, 
æags
)

217 cÚ¡ *
p
;

218 
Ën
;

219 
Çm–’
;

220 *
Çm“q
;

221 
isbad
;

223 
isbad
 = 0;

224 
p
 = 
Çme
;

225 ià(! 
	`is_Çme
(*
p
))

226 
isbad
 = 1;

227 
p
++;

229 ià(! 
	`is_š_Çme
(*
p
)) {

230 ià(*
p
 == '\0' || *p == '=')

232 
isbad
 = 1;

234 
p
++;

236 
Çm–’
 = 
p
 - 
Çme
;

237 ià(
isbad
)

238 
	`”rÜ
("%.*s: bad v¬ŸbË‚ame", 
Çm–’
, 
Çme
);

239 
Ën
 = 
Çm–’
 + 2;

240 ià(
v®
 =ğ
NULL
) {

241 
æags
 |ğ
VUNSET
;

243 
Ën
 +ğ
	`¡¾’
(
v®
);

245 
Çm“q
 = 
	`ckm®loc
(
Ën
);

246 
	`memıy
(
Çm“q
, 
Çme
, 
Çm–’
);

247 
Çm“q
[
Çm–’
] = '=';

248 ià(
v®
)

249 
	`scİy
(
v®
, 
Çm“q
 + 
Çm–’
 + 1);

251 
Çm“q
[
Çm–’
 + 1] = '\0';

252 
	`£tv¬eq
(
Çm“q
, 
æags
);

253 
	}
}

256 
	$loÿËv¬
(cÚ¡ *
s
)

258 cÚ¡ *
Êames
[7] = {

260 "NUMERIC", "TIME", 
NULL


262 cÚ¡ **
ss
;

264 ià(*
s
 != 'L')

266 ià(
	`v¬equ®
(
s
 + 1, "ANG"))

268 ià(
	`¡ºcmp
(
s
 + 1, "C_", 2) != 0)

270 
ss
 = 
Êames
; *ss ; ss++)

271 ià(
	`v¬equ®
(
s
 + 3, *
ss
))

274 
	}
}

282 
	$chªge_’v
(cÚ¡ *
s
, 
£t
)

284 *
eqp
;

285 *
ss
;

287 
ss
 = 
	`§ve¡r
(
s
);

288 ià((
eqp
 = 
	`¡rchr
(
ss
, '=')è!ğ
NULL
)

289 *
eqp
 = '\0';

290 ià(
£t
 && 
eqp
 !ğ
NULL
)

291 (è
	`£‹nv
(
ss
, 
eqp
 + 1, 1);

293 (è
	`un£‹nv
(
ss
);

294 
	`ckä“
(
ss
);

297 
	}
}

308 
	$£tv¬eq
(*
s
, 
æags
)

310 
v¬
 *
vp
, **
vµ
;

311 
Ën
;

313 ià(
aæag
)

314 
æags
 |ğ
VEXPORT
;

315 
vµ
 = 
	`hashv¬
(
s
);

316 
vp
 = *
vµ
 ; v°; v°ğvp->
Ãxt
) {

317 ià(
	`v¬equ®
(
s
, 
vp
->
‹xt
)) {

318 ià(
vp
->
æags
 & 
VREADONLY
) {

319 
Ën
 = 
	`¡rchr
(
s
, '=') - s;

320 
	`”rÜ
("%.*s: i »ad oÆy", 
Ën
, 
s
);

322 
INTOFF
;

324 ià(
vp
->
func
 && (
æags
 & 
VNOFUNC
) == 0)

325 (*
vp
->
func
)(
	`¡rchr
(
s
, '=') + 1);

327 ià((
vp
->
æags
 & (
VTEXTFIXED
|
VSTACK
)) == 0)

328 
	`ckä“
(
vp
->
‹xt
);

330 
vp
->
æags
 &ğ~(
VTEXTFIXED
|
VSTACK
|
VUNSET
);

331 
vp
->
æags
 |= flags;

332 
vp
->
‹xt
 = 
s
;

342 ià((
vp
 =ğ&
vm·th
 || (v°=ğ&
vma
 && ! 
	`m·th£t
())) &&

343 
iæag
 == 1)

344 
	`chkma
(1);

345 ià((
vp
->
æags
 & 
VEXPORT
è&& 
	`loÿËv¬
(
s
)) {

346 
	`chªge_’v
(
s
, 1);

347 (è
	`£oÿË
(
LC_ALL
, "");

349 
INTON
;

354 
vp
 = 
	`ckm®loc
( (*vp));

355 
vp
->
æags
 = flags;

356 
vp
->
‹xt
 = 
s
;

357 
vp
->
Ãxt
 = *
vµ
;

358 
vp
->
func
 = 
NULL
;

359 
INTOFF
;

360 *
vµ
 = 
vp
;

361 ià((
vp
->
æags
 & 
VEXPORT
è&& 
	`loÿËv¬
(
s
)) {

362 
	`chªge_’v
(
s
, 1);

363 (è
	`£oÿË
(
LC_ALL
, "");

365 
INTON
;

366 
	}
}

375 
	$li¡£tv¬
(
¡¾i¡
 *
li¡
)

377 
¡¾i¡
 *
Í
;

379 
INTOFF
;

380 
Í
 = 
li¡
 ;†°;†°ğÍ->
Ãxt
) {

381 
	`£tv¬eq
(
	`§ve¡r
(
Í
->
‹xt
), 0);

383 
INTON
;

384 
	}
}

393 
	$lookupv¬
(cÚ¡ *
Çme
)

395 
v¬
 *
v
;

397 
v
 = *
	`hashv¬
(
Çme
è; v ; v = v->
Ãxt
) {

398 ià(
	`v¬equ®
(
v
->
‹xt
, 
Çme
)) {

399 ià(
v
->
æags
 & 
VUNSET
)

400  
NULL
;

401  
	`¡rchr
(
v
->
‹xt
, '=') + 1;

404  
NULL
;

405 
	}
}

416 
	$bÉšlookup
(cÚ¡ *
Çme
, 
dßÎ
)

418 
¡¾i¡
 *
¥
;

419 
v¬
 *
v
;

421 
¥
 = 
cmd’vœÚ
 ; s°; s°ğ¥->
Ãxt
) {

422 ià(
	`v¬equ®
(
¥
->
‹xt
, 
Çme
))

423  
	`¡rchr
(
¥
->
‹xt
, '=') + 1;

425 
v
 = *
	`hashv¬
(
Çme
è; v ; v = v->
Ãxt
) {

426 ià(
	`v¬equ®
(
v
->
‹xt
, 
Çme
)) {

427 ià((
v
->
æags
 & 
VUNSET
)

428 || (!
dßÎ
 && (
v
->
æags
 & 
VEXPORT
) == 0))

429  
NULL
;

430  
	`¡rchr
(
v
->
‹xt
, '=') + 1;

433  
NULL
;

434 
	}
}

444 
	$’vœÚm’t
()

446 
Ãnv
;

447 
v¬
 **
vµ
;

448 
v¬
 *
vp
;

449 **
’v
, **
•
;

451 
Ãnv
 = 0;

452 
vµ
 = 
v¬b
 ; vµ < v¬b + 
VTABSIZE
 ; vpp++) {

453 
vp
 = *
vµ
 ; v°; v°ğvp->
Ãxt
)

454 ià(
vp
->
æags
 & 
VEXPORT
)

455 
Ãnv
++;

457 
•
 = 
’v
 = 
	`¡®loc
((
Ãnv
 + 1) *  *env);

458 
vµ
 = 
v¬b
 ; vµ < v¬b + 
VTABSIZE
 ; vpp++) {

459 
vp
 = *
vµ
 ; v°; v°ğvp->
Ãxt
)

460 ià(
vp
->
æags
 & 
VEXPORT
)

461 *
•
++ = 
vp
->
‹xt
;

463 *
•
 = 
NULL
;

464  
’v
;

465 
	}
}

474 
MKINIT
 
sh´ocv¬
();

476 #ifdeà
mkš™


477 
	gSHELLPROC
 {

478 
sh´ocv¬
();

483 
	$sh´ocv¬
()

485 
v¬
 **
vµ
;

486 
v¬
 *
vp
, **
´ev
;

488 
vµ
 = 
v¬b
 ; vµ < v¬b + 
VTABSIZE
 ; vpp++) {

489 
´ev
 = 
vµ
 ; (
vp
 = *´evè!ğ
NULL
 ; ) {

490 ià((
vp
->
æags
 & 
VEXPORT
) == 0) {

491 *
´ev
 = 
vp
->
Ãxt
;

492 ià((
vp
->
æags
 & 
VTEXTFIXED
) == 0)

493 
	`ckä“
(
vp
->
‹xt
);

494 ià((
vp
->
æags
 & 
VSTRFIXED
) == 0)

495 
	`ckä“
(
vp
);

497 ià(
vp
->
æags
 & 
VSTACK
) {

498 
vp
->
‹xt
 = 
	`§ve¡r
(vp->text);

499 
vp
->
æags
 &=~ 
VSTACK
;

501 
´ev
 = &
vp
->
Ãxt
;

505 
	`š™v¬
();

506 
	}
}

510 
	$v¬_com·»
(cÚ¡ *
a
, cÚ¡ *
b
)

512 cÚ¡ *cÚ¡ *
§
, *cÚ¡ *
sb
;

514 
§
 = 
a
;

515 
sb
 = 
b
;

521  
	`¡rcŞl
(*
§
, *
sb
);

522 
	}
}

531 
	$showv¬scmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

533 
v¬
 **
vµ
;

534 
v¬
 *
vp
;

535 cÚ¡ *
s
;

536 cÚ¡ **
v¬s
;

537 
i
, 
n
;

542 
n
 = 0;

543 
vµ
 = 
v¬b
; vµ < v¬b + 
VTABSIZE
; vpp++) {

544 
vp
 = *
vµ
; vp; v°ğvp->
Ãxt
) {

545 ià(!(
vp
->
æags
 & 
VUNSET
))

546 
n
++;

550 
INTOFF
;

551 
v¬s
 = 
	`ckm®loc
(
n
 * (*vars));

552 
i
 = 0;

553 
vµ
 = 
v¬b
; vµ < v¬b + 
VTABSIZE
; vpp++) {

554 
vp
 = *
vµ
; vp; v°ğvp->
Ãxt
) {

555 ià(!(
vp
->
æags
 & 
VUNSET
))

556 
v¬s
[
i
++] = 
vp
->
‹xt
;

560 
	`qsÜt
(
v¬s
, 
n
, (*v¬s), 
v¬_com·»
);

561 
i
 = 0; i < 
n
; i++) {

562 
s
 = 
v¬s
[
i
]; *s != '='; s++)

563 
	`out1c
(*
s
);

564 
	`out1c
('=');

565 
	`out1q¡r
(
s
 + 1);

566 
	`out1c
('\n');

568 
	`ckä“
(
v¬s
);

569 
INTON
;

572 
	}
}

581 
	$expÜtcmd
(
¬gc
, **
¬gv
)

583 
v¬
 **
vµ
;

584 
v¬
 *
vp
;

585 *
Çme
;

586 *
p
;

587 *
cmdÇme
;

588 
ch
, 
v®ues
;

589 
æag
 = 
¬gv
[0][0] =ğ'r'? 
VREADONLY
 : 
VEXPORT
;

591 
cmdÇme
 = 
¬gv
[0];

592 
İŒe£t
 = 
İtšd
 = 1;

593 
İ‹¼
 = 0;

594 
v®ues
 = 0;

595 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "p")) != -1) {

596 
ch
) {

598 
v®ues
 = 1;

602 
	`”rÜ
("unknowÀİtiÚ: -%c", 
İtİt
);

605 
¬gc
 -ğ
İtšd
;

606 
¬gv
 +ğ
İtšd
;

608 ià(
v®ues
 && 
¬gc
 != 0)

609 
	`”rÜ
("-p„equires‚o‡rguments");

610 ià(
¬gc
 != 0) {

611 (
Çme
 = *
¬gv
++è!ğ
NULL
) {

612 ià((
p
 = 
	`¡rchr
(
Çme
, '=')è!ğ
NULL
) {

613 
p
++;

615 
vµ
 = 
	`hashv¬
(
Çme
);

616 
vp
 = *
vµ
 ; v°; v°ğvp->
Ãxt
) {

617 ià(
	`v¬equ®
(
vp
->
‹xt
, 
Çme
)) {

619 
vp
->
æags
 |ğ
æag
;

620 ià((
vp
->
æags
 & 
VEXPORT
è&& 
	`loÿËv¬
(vp->
‹xt
)) {

621 
	`chªge_’v
(
vp
->
‹xt
, 1);

622 (è
	`£oÿË
(
LC_ALL
, "");

624 
found
;

628 
	`£tv¬
(
Çme
, 
p
, 
æag
);

629 
found
:;

632 
vµ
 = 
v¬b
 ; vµ < v¬b + 
VTABSIZE
 ; vpp++) {

633 
vp
 = *
vµ
 ; v°; v°ğvp->
Ãxt
) {

634 ià(
vp
->
æags
 & 
æag
) {

635 ià(
v®ues
) {

636 
	`out1¡r
(
cmdÇme
);

637 
	`out1c
(' ');

639 
p
 = 
vp
->
‹xt
 ; *p != '=' ;…++)

640 
	`out1c
(*
p
);

641 ià(
v®ues
 && !(
vp
->
æags
 & 
VUNSET
)) {

642 
	`out1c
('=');

643 
	`out1q¡r
(
p
 + 1);

645 
	`out1c
('\n');

651 
	}
}

659 
	$loÿlcmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

661 *
Çme
;

663 ià(! 
	`š_funùiÚ
())

664 
	`”rÜ
("Not in‡ function");

665 (
Çme
 = *
¬g±r
++è!ğ
NULL
) {

666 
	`mkloÿl
(
Çme
);

669 
	}
}

680 
	$mkloÿl
(*
Çme
)

682 
loÿlv¬
 *
lvp
;

683 
v¬
 **
vµ
;

684 
v¬
 *
vp
;

686 
INTOFF
;

687 
lvp
 = 
	`ckm®loc
( (
loÿlv¬
));

688 ià(
Çme
[0] == '-' &&‚ame[1] == '\0') {

689 
lvp
->
‹xt
 = 
	`ckm®loc
( 
İi¡
);

690 
	`memıy
(
lvp
->
‹xt
, 
İi¡
,  optlist);

691 
vp
 = 
NULL
;

693 
vµ
 = 
	`hashv¬
(
Çme
);

694 
vp
 = *
vµ
 ; v°&& ! 
	`v¬equ®
(vp->
‹xt
, 
Çme
è; v°ğvp->
Ãxt
);

695 ià(
vp
 =ğ
NULL
) {

696 ià(
	`¡rchr
(
Çme
, '='))

697 
	`£tv¬eq
(
	`§ve¡r
(
Çme
), 
VSTRFIXED
);

699 
	`£tv¬
(
Çme
, 
NULL
, 
VSTRFIXED
);

700 
vp
 = *
vµ
;

701 
lvp
->
‹xt
 = 
NULL
;

702 
lvp
->
æags
 = 
VUNSET
;

704 
lvp
->
‹xt
 = 
vp
->text;

705 
lvp
->
æags
 = 
vp
->flags;

706 
vp
->
æags
 |ğ
VSTRFIXED
|
VTEXTFIXED
;

707 ià(
	`¡rchr
(
Çme
, '='))

708 
	`£tv¬eq
(
	`§ve¡r
(
Çme
), 0);

711 
lvp
->
vp
 = vp;

712 
lvp
->
Ãxt
 = 
loÿlv¬s
;

713 
loÿlv¬s
 = 
lvp
;

714 
INTON
;

715 
	}
}

723 
	$pİloÿlv¬s
()

725 
loÿlv¬
 *
lvp
;

726 
v¬
 *
vp
;

728 (
lvp
 = 
loÿlv¬s
è!ğ
NULL
) {

729 
loÿlv¬s
 = 
lvp
->
Ãxt
;

730 
vp
 = 
lvp
->vp;

731 ià(
vp
 =ğ
NULL
) {

732 
	`memıy
(
İi¡
, 
lvp
->
‹xt
,  optlist);

733 
	`ckä“
(
lvp
->
‹xt
);

734 } ià((
lvp
->
æags
 & (
VUNSET
|
VSTRFIXED
)) == VUNSET) {

735 ()
	`un£tv¬
(
vp
->
‹xt
);

737 ià((
vp
->
æags
 & 
VTEXTFIXED
) == 0)

738 
	`ckä“
(
vp
->
‹xt
);

739 
vp
->
æags
 = 
lvp
->flags;

740 
vp
->
‹xt
 = 
lvp
->text;

742 
	`ckä“
(
lvp
);

744 
	}
}

748 
	$£tv¬cmd
(
¬gc
, **
¬gv
)

750 ià(
¬gc
 <= 2)

751  
	`un£tcmd
(
¬gc
, 
¬gv
);

752 ià(
¬gc
 == 3)

753 
	`£tv¬
(
¬gv
[1],‡rgv[2], 0);

755 
	`”rÜ
("List‡ssignment‚ot implemented");

757 
	}
}

765 
	$un£tcmd
(
¬gc
 
__unu£d
, **
¬gv
 __unused)

767 **
­
;

768 
i
;

769 
æg_func
 = 0;

770 
æg_v¬
 = 0;

771 
»t
 = 0;

773 (
i
 = 
	`Ãxtİt
("vf")) != '\0') {

774 ià(
i
 == 'f')

775 
æg_func
 = 1;

777 
æg_v¬
 = 1;

779 ià(
æg_func
 =ğ0 && 
æg_v¬
 == 0)

780 
æg_v¬
 = 1;

782 
­
 = 
¬g±r
; *ap ;‡p++) {

783 ià(
æg_func
)

784 
»t
 |ğ
	`un£tfunc
(*
­
);

785 ià(
æg_v¬
)

786 
»t
 |ğ
	`un£tv¬
(*
­
);

788  
»t
;

789 
	}
}

797 
	$un£tv¬
(cÚ¡ *
s
)

799 
v¬
 **
vµ
;

800 
v¬
 *
vp
;

802 
vµ
 = 
	`hashv¬
(
s
);

803 
vp
 = *
vµ
 ; v°; vµ = &vp->
Ãxt
, vp = *vpp) {

804 ià(
	`v¬equ®
(
vp
->
‹xt
, 
s
)) {

805 ià(
vp
->
æags
 & 
VREADONLY
)

807 
INTOFF
;

808 ià(*(
	`¡rchr
(
vp
->
‹xt
, '=') + 1) != '\0')

809 
	`£tv¬
(
s
, 
nuÎ¡r
, 0);

810 ià((
vp
->
æags
 & 
VEXPORT
è&& 
	`loÿËv¬
(vp->
‹xt
)) {

811 
	`chªge_’v
(
s
, 0);

812 
	`£oÿË
(
LC_ALL
, "");

814 
vp
->
æags
 &ğ~
VEXPORT
;

815 
vp
->
æags
 |ğ
VUNSET
;

816 ià((
vp
->
æags
 & 
VSTRFIXED
) == 0) {

817 ià((
vp
->
æags
 & 
VTEXTFIXED
) == 0)

818 
	`ckä“
(
vp
->
‹xt
);

819 *
vµ
 = 
vp
->
Ãxt
;

820 
	`ckä“
(
vp
);

822 
INTON
;

828 
	}
}

836 
v¬
 **

837 
	$hashv¬
(cÚ¡ *
p
)

839 
hashv®
;

841 
hashv®
 = ((è*
p
) << 4;

842 *
p
 && *p != '=')

843 
hashv®
 +ğ(è*
p
++;

844  &
v¬b
[
hashv®
 % 
VTABSIZE
];

845 
	}
}

856 
	$v¬equ®
(cÚ¡ *
p
, cÚ¡ *
q
)

858 *
p
 =ğ*
q
++) {

859 ià(*
p
++ == '=')

862 ià(*
p
 =ğ'=' && *(
q
 - 1) == '\0')

865 
	}
}

	@sh/var.h

41 
	#VEXPORT
 0x01

	)

42 
	#VREADONLY
 0x02

	)

43 
	#VSTRFIXED
 0x04

	)

44 
	#VTEXTFIXED
 0x08

	)

45 
	#VSTACK
 0x10

	)

46 
	#VUNSET
 0x20

	)

47 
	#VNOFUNC
 0x40

	)

50 
	sv¬
 {

51 
v¬
 *
	mÃxt
;

52 
	mæags
;

53 *
	m‹xt
;

54 (*
	mfunc
)(const *);

60 
	sloÿlv¬
 {

61 
loÿlv¬
 *
	mÃxt
;

62 
v¬
 *
	mvp
;

63 
	mæags
;

64 *
	m‹xt
;

68 
loÿlv¬
 *
	gloÿlv¬s
;

70 
v¬
 
vifs
;

71 
v¬
 
vma
;

72 
v¬
 
vm·th
;

73 
v¬
 
v·th
;

74 
v¬
 
vµid
;

75 
v¬
 
vps1
;

76 
v¬
 
vps2
;

77 
v¬
 
vps4
;

78 #iâdeà
NO_HISTORY


79 
v¬
 
vhi¡size
;

88 
	#ifsv®
(è(
vifs
.
‹xt
 + 4)

	)

89 
	#ifs£t
(è((
vifs
.
æags
 & 
VUNSET
è=ğ0)

	)

90 
	#mav®
(è(
vma
.
‹xt
 + 5)

	)

91 
	#m·thv®
(è(
vm·th
.
‹xt
 + 9)

	)

92 
	#·thv®
(è(
v·th
.
‹xt
 + 5)

	)

93 
	#ps1v®
(è(
vps1
.
‹xt
 + 4)

	)

94 
	#ps2v®
(è(
vps2
.
‹xt
 + 4)

	)

95 
	#ps4v®
(è(
vps4
.
‹xt
 + 4)

	)

96 
	#İtšdv®
(è(
vİtšd
.
‹xt
 + 7)

	)

97 #iâdeà
NO_HISTORY


98 
	#hi¡sizev®
(è(
vhi¡size
.
‹xt
 + 9)

	)

101 
	#m·th£t
(è((
vm·th
.
æags
 & 
VUNSET
è=ğ0)

	)

103 
š™v¬
();

104 
£tv¬
(const *, const *, );

105 
£tv¬eq
(*, );

106 
	g¡¾i¡
;

107 
li¡£tv¬
(
¡¾i¡
 *);

108 *
lookupv¬
(const *);

109 *
bÉšlookup
(const *, );

110 **
’vœÚm’t
();

111 
showv¬scmd
(, **);

112 
expÜtcmd
(, **);

113 
loÿlcmd
(, **);

114 
mkloÿl
(*);

115 
pİloÿlv¬s
();

116 
£tv¬cmd
(, **);

117 
un£tcmd
(, **);

118 
un£tv¬
(const *);

119 
£tv¬§ã
(const *, const *, );

	@sleep/sleep.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)sleep.c 8.3 (Berkeley) 4/2/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/sleep/sleep.c,v 1.20.10.2.4.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<ùy³.h
>

45 
	~<”r.h
>

46 
	~<lim™s.h
>

47 
	~<sigÇl.h
>

48 
	~<¡dšt.h
>

49 
	~<¡dio.h
>

50 
	~<¡dlib.h
>

51 
	~<time.h
>

53 
u§ge
();

55 vŞ©
sig_©omic_t
 
	g»pÜt_»que¡ed
;

57 
	$»pÜt_»que¡
(
signo
 
__unu£d
)

60 
»pÜt_»que¡ed
 = 1;

61 
	}
}

64 
	$maš
(
¬gc
, *
¬gv
[])

66 
time¥ec
 
time_to_¦“p
;

67 
d
;

68 
time_t
 
Üigš®
;

69 
buf
[2];

71 ià(
¬gc
 != 2)

72 
	`u§ge
();

74 ià(
	`ssÿnf
(
¬gv
[1], "%lf%1s", &
d
, 
buf
) != 1)

75 
	`u§ge
();

76 ià(
d
 > 
INT_MAX
)

77 
	`u§ge
();

78 ià(
d
 <= 0)

80 
Üigš®
 = 
time_to_¦“p
.
tv_£c
 = (
time_t
)
d
;

81 
time_to_¦“p
.
tv_n£c
 = 1e9 * (
d
 -ime_to_¦“p.
tv_£c
);

83 
	`sigÇl
(
SIGINFO
, 
»pÜt_»que¡
);

84 
	`Çno¦“p
(&
time_to_¦“p
, &time_to_sleep) != 0) {

85 ià(
»pÜt_»que¡ed
) {

87 
	`w¬nx
("about %d second(s)†eft out ofhe original %d",

88 ()
time_to_¦“p
.
tv_£c
, ()
Üigš®
);

89 
»pÜt_»que¡ed
 = 0;

94 
	}
}

97 
	$u§ge
()

100 
	`årštf
(
¡d”r
, "usage: sleep seconds\n");

101 
	`ex™
(1);

102 
	}
}

	@stty/cchar.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)cchar.c 8.5 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/stty/cchar.c,v 1.14.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

40 
	~<”r.h
>

41 
	~<lim™s.h
>

42 
	~<¡ddef.h
>

43 
	~<¡dlib.h
>

44 
	~<¡ršg.h
>

46 
	~"¡ty.h
"

47 
	~"ex‹º.h
"

49 
c_cch¬
(const *, const *);

58 
cch¬
 
	gcch¬s1
[] = {

59 { "disÿrd", 
VDISCARD
, 
CDISCARD
 },

60 { "dsu¥", 
VDSUSP
, 
CDSUSP
 },

61 { "eof", 
VEOF
, 
CEOF
 },

62 { "eŞ", 
VEOL
, 
CEOL
 },

63 { "eŞ2", 
VEOL2
, 
CEOL
 },

64 { "”a£", 
VERASE
, 
CERASE
 },

65 { "”a£2", 
VERASE2
, 
CERASE2
 },

66 { "šŒ", 
VINTR
, 
CINTR
 },

67 { "kl", 
VKILL
, 
CKILL
 },

68 { "Êext", 
VLNEXT
, 
CLNEXT
 },

69 { "mš", 
VMIN
, 
CMIN
 },

70 { "qu™", 
VQUIT
, 
CQUIT
 },

71 { "»´št", 
VREPRINT
, 
CREPRINT
 },

72 { "¡¬t", 
VSTART
, 
CSTART
 },

73 { "¡©us", 
VSTATUS
, 
CSTATUS
 },

74 { "¡İ", 
VSTOP
, 
CSTOP
 },

75 { "su¥", 
VSUSP
, 
CSUSP
 },

76 { "time", 
VTIME
, 
CTIME
 },

77 { "w”a£", 
VWERASE
, 
CWERASE
 },

78 { 
NULL
, 0, 0},

81 
cch¬
 
	gcch¬s2
[] = {

82 { "brk", 
VEOL
, 
CEOL
 },

83 { "æush", 
VDISCARD
, 
CDISCARD
 },

84 { "½ºt", 
VREPRINT
, 
CREPRINT
 },

85 { 
NULL
, 0, 0 },

89 
	$c_cch¬
(cÚ¡ *
a
, cÚ¡ *
b
)

92  (
	`¡rcmp
(((cÚ¡ 
cch¬
 *)
a
)->
Çme
, ((cÚ¡ cch¬ *)
b
)->name));

93 
	}
}

96 
	$c£¬ch
(***
¬gvp
, 
šfo
 *

)

98 
cch¬
 *
ı
, 
tmp
;

99 
v®
;

100 *
¬g
, *
•
, *
Çme
;

102 
Çme
 = **
¬gvp
;

104 
tmp
.
Çme
 =‚ame;

105 ià(!(
ı
 = (
cch¬
 *)
	`b£¬ch
(&
tmp
, 
cch¬s1
,

106 (
cch¬s1
)/(
cch¬
) - 1, (cchar),

107 
c_cch¬
)è&& !(
ı
 = (
cch¬
 *)
	`b£¬ch
(&
tmp
, 
cch¬s2
,

108 (
cch¬s2
)/(
cch¬
) - 1, (cchar),

109 
c_cch¬
)))

112 
¬g
 = *++*
¬gvp
;

113 ià(!
¬g
) {

114 
	`w¬nx
("İtiÚ„equœe ª‡rgum’ˆ-- %s", 
Çme
);

115 
	`u§ge
();

118 
	#CHK
(
s
è(*
¬g
 =ğs[0] && !
	`¡rcmp
×rg, s))

	)

119 ià(
	`CHK
("undef") || CHK("<undef>"))

120 

->
t
.
c_cc
[
ı
->
sub
] = 
_POSIX_VDISABLE
;

121 ià(
ı
->
sub
 =ğ
VMIN
 || cp->sub =ğ
VTIME
) {

122 
v®
 = 
	`¡¹Ş
(
¬g
, &
•
, 10);

123 ià(
v®
 > 
UCHAR_MAX
) {

124 
	`w¬nx
("maximum option value is %d -- %s",

125 
UCHAR_MAX
, 
Çme
);

126 
	`u§ge
();

128 ià(*
•
 != '\0') {

129 
	`w¬nx
("İtiÚ„equœe ¨num”iø¬gum’ˆ-- %s", 
Çme
);

130 
	`u§ge
();

132 

->
t
.
c_cc
[
ı
->
sub
] = 
v®
;

133 } ià(
¬g
[0] == '^')

134 

->
t
.
c_cc
[
ı
->
sub
] = (
¬g
[1] == '?') ? 0177 :

135 (
¬g
[1] =ğ'-'è? 
_POSIX_VDISABLE
 :‡rg[1] & 037;

137 

->
t
.
c_cc
[
ı
->
sub
] = 
¬g
[0];

138 

->
£t
 = 1;

140 
	}
}

	@stty/extern.h

33 
c_cch¬s
(const *, const *);

34 
c_modes
(const *, const *);

35 
c£¬ch
(***, 
šfo
 *);

36 
check»dœeù
();

37 
g´št
(
‹rmios
 *, 
wšsize
 *, );

38 
g»ad
(
‹rmios
 *, *);

39 
k£¬ch
(***, 
šfo
 *);

40 
m£¬ch
(***, 
šfo
 *);

41 
İi¡
();

42 
´št
(
‹rmios
 *, 
wšsize
 *, , 
FMT
);

43 
u§ge
();

45 
cch¬
 
cch¬s1
[], 
cch¬s2
[];

	@stty/gfmt.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)gfmt.c 8.6 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/stty/gfmt.c,v 1.21.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

40 
	~<”r.h
>

41 
	~<¡dio.h
>

42 
	~<¡ršg.h
>

44 
	~"¡ty.h
"

45 
	~"ex‹º.h
"

47 
	$g”r
(cÚ¡ *
s
è
__d—d2
;

50 
	$g”r
(cÚ¡ *
s
)

52 ià(
s
)

53 
	`”rx
(1, "Ëg® gfmt1 o±iÚ -- %s", 
s
);

55 
	`”rx
(1, "illegal gfmt1 option");

56 
	}
}

59 
	$g´št
(
‹rmios
 *

, 
wšsize
 *
wp
 
__unu£d
, 
ldisc
 __unused)

61 
cch¬
 *
ı
;

63 ()
	`´štf
("gfmt1:cflag=%lx:iflag=%lx:lflag=%lx:oflag=%lx:",

64 (
u_lÚg
)

->
c_cæag
, (u_lÚgép->
c_iæag
, (u_lÚgép->
c_læag
,

65 (
u_lÚg
)

->
c_oæag
);

66 
ı
 = 
cch¬s1
; cp->
Çme
; ++cp)

67 ()
	`´štf
("%s=%x:", 
ı
->
Çme
, 

->
c_cc
[ı->
sub
]);

68 ()
	`´štf
("ispeed=%lu:ospeed=%lu\n",

69 (
u_lÚg
)
	`cfg‘i¥“d
(

), (u_lÚg)
	`cfg‘o¥“d
(tp));

70 
	}
}

73 
	$g»ad
(
‹rmios
 *

, *
s
)

75 
cch¬
 *
ı
;

76 *
•
, *
p
;

77 
tmp
;

79 ià((
s
 = 
	`¡rchr
(s, ':')è=ğ
NULL
)

80 
	`g”r
(
NULL
);

81 ++
s
; s !ğ
NULL
;) {

82 
p
 = 
	`¡r£p
(&
s
, ":\0");

83 ià(!
p
 || !*p)

85 ià(!(
•
 = 
	`¡rchr
(
p
, '=')))

86 
	`g”r
(
p
);

87 *
•
++ = '\0';

88 ()
	`ssÿnf
(
•
, "%lx", (
u_lÚg
 *)&
tmp
);

90 
	#CHK
(
s
è(*
p
 =ğs[0] && !
	`¡rcmp
Õ, s))

	)

91 ià(
	`CHK
("cflag")) {

92 

->
c_cæag
 = 
tmp
;

95 ià(
	`CHK
("iflag")) {

96 

->
c_iæag
 = 
tmp
;

99 ià(
	`CHK
("ispeed")) {

100 ()
	`ssÿnf
(
•
, "%ld", &
tmp
);

101 

->
c_i¥“d
 = 
tmp
;

104 ià(
	`CHK
("lflag")) {

105 

->
c_læag
 = 
tmp
;

108 ià(
	`CHK
("oflag")) {

109 

->
c_oæag
 = 
tmp
;

112 ià(
	`CHK
("ospeed")) {

113 ()
	`ssÿnf
(
•
, "%ld", &
tmp
);

114 

->
c_o¥“d
 = 
tmp
;

117 
ı
 = 
cch¬s1
; cp->
Çme
 !ğ
NULL
; ++cp)

118 ià(
	`CHK
(
ı
->
Çme
)) {

119 ià(
ı
->
sub
 =ğ
VMIN
 || cp->sub =ğ
VTIME
)

120 ()
	`ssÿnf
(
•
, "%ld", &
tmp
);

121 

->
c_cc
[
ı
->
sub
] = 
tmp
;

124 ià(
ı
->
Çme
 =ğ
NULL
)

125 
	`g”r
(
p
);

127 
	}
}

	@stty/key.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)key.c 8.3 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/stty/key.c,v 1.20.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

40 
	~<”r.h
>

41 
	~<”ºo.h
>

42 
	~<¡dlib.h
>

43 
	~<¡dio.h
>

44 
	~<¡ršg.h
>

46 
	~"¡ty.h
"

47 
	~"ex‹º.h
"

49 
__BEGIN_DECLS


50 
c_key
(const *, const *);

51 
f_®l
(
šfo
 *);

52 
f_cb»ak
(
šfo
 *);

53 
f_cŞumns
(
šfo
 *);

54 
f_dec
(
šfo
 *);

55 
f_ek
(
šfo
 *);

56 
f_ev”ythšg
(
šfo
 *);

57 
f_exroc
(
šfo
 *);

58 
f_i¥“d
(
šfo
 *);

59 
f_Æ
(
šfo
 *);

60 
f_o¥“d
(
šfo
 *);

61 
f_¿w
(
šfo
 *);

62 
f_rows
(
šfo
 *);

63 
f_§Ã
(
šfo
 *);

64 
f_size
(
šfo
 *);

65 
f_¥“d
(
šfo
 *);

66 
f_‰y
(
šfo
 *);

67 
__END_DECLS


69 
	skey
 {

70 cÚ¡ *
	mÇme
;

71 (*
	mf
)(
	mšfo
 *);

72 
	#F_NEEDARG
 0x01

	)

73 
	#F_OFFOK
 0x02

	)

74 
	mæags
;

75 } 
	gkeys
[] = {

76 { "®l", 
f_®l
, 0 },

77 { "cb»ak", 
f_cb»ak
, 
F_OFFOK
 },

78 { "cŞs", 
f_cŞumns
, 
F_NEEDARG
 },

79 { "cŞumns", 
f_cŞumns
, 
F_NEEDARG
 },

80 { "cooked", 
f_§Ã
, 0 },

81 { "dec", 
f_dec
, 0 },

82 { "ek", 
f_ek
, 0 },

83 { "ev”ythšg", 
f_ev”ythšg
, 0 },

84 { "exroc", 
f_exroc
, 
F_OFFOK
 },

85 { "i¥“d", 
f_i¥“d
, 
F_NEEDARG
 },

86 { "Ãw", 
f_‰y
, 0 },

87 { "Æ", 
f_Æ
, 
F_OFFOK
 },

88 { "Şd", 
f_‰y
, 0 },

89 { "o¥“d", 
f_o¥“d
, 
F_NEEDARG
 },

90 { "¿w", 
f_¿w
, 
F_OFFOK
 },

91 { "rows", 
f_rows
, 
F_NEEDARG
 },

92 { "§Ã", 
f_§Ã
, 0 },

93 { "size", 
f_size
, 0 },

94 { "¥“d", 
f_¥“d
, 0 },

95 { "‰y", 
f_‰y
, 0 },

99 
	$c_key
(cÚ¡ *
a
, cÚ¡ *
b
)

102  (
	`¡rcmp
(((cÚ¡ 
key
 *)
a
)->
Çme
, ((cÚ¡ key *)
b
)->name));

103 
	}
}

106 
	$k£¬ch
(***
¬gvp
, 
šfo
 *

)

108 *
Çme
;

109 
key
 *
kp
, 
tmp
;

111 
Çme
 = **
¬gvp
;

112 ià(*
Çme
 == '-') {

113 

->
off
 = 1;

114 ++
Çme
;

116 

->
off
 = 0;

118 
tmp
.
Çme
 =‚ame;

119 ià(!(
kp
 = (
key
 *)
	`b£¬ch
(&
tmp
, 
keys
,

120 (
keys
)/(
key
), (key), 
c_key
)))

122 ià(!(
kp
->
æags
 & 
F_OFFOK
è&& 

->
off
) {

123 
	`w¬nx
("Ëg® o±iÚ -- -%s", 
Çme
);

124 
	`u§ge
();

126 ià(
kp
->
æags
 & 
F_NEEDARG
 && !(

->
¬g
 = *++*
¬gvp
)) {

127 
	`w¬nx
("İtiÚ„equœe ª‡rgum’ˆ-- %s", 
Çme
);

128 
	`u§ge
();

130 
kp
->
	`f
(

);

132 
	}
}

135 
	$f_®l
(
šfo
 *

)

137 
	`´št
(&

->
t
, &->
wš
, ip->
ldisc
, 
BSD
);

138 
	}
}

141 
	$f_cb»ak
(
šfo
 *

)

144 ià(

->
off
)

145 
	`f_§Ã
(

);

147 

->
t
.
c_iæag
 |ğ
BRKINT
|
IXON
|
IMAXBEL
;

148 

->
t
.
c_oæag
 |ğ
OPOST
;

149 

->
t
.
c_læag
 |ğ
ISIG
|
IEXTEN
;

150 

->
t
.
c_læag
 &ğ~
ICANON
;

151 

->
£t
 = 1;

153 
	}
}

156 
	$f_cŞumns
(
šfo
 *

)

159 

->
wš
.
ws_cŞ
 = 
	`©oi
(->
¬g
);

160 

->
w£t
 = 1;

161 
	}
}

164 
	$f_dec
(
šfo
 *

)

167 

->
t
.
c_cc
[
VERASE
] = (
u_ch¬
)0177;

168 

->
t
.
c_cc
[
VKILL
] = 
	`CTRL
('u');

169 

->
t
.
c_cc
[
VINTR
] = 
	`CTRL
('c');

170 

->
t
.
c_læag
 &ğ~
ECHOPRT
;

171 

->
t
.
c_læag
 |ğ
ECHOE
|
ECHOKE
|
ECHOCTL
;

172 

->
t
.
c_iæag
 &ğ~
IXANY
;

173 

->
£t
 = 1;

174 
	}
}

177 
	$f_ek
(
šfo
 *

)

180 

->
t
.
c_cc
[
VERASE
] = 
CERASE
;

181 

->
t
.
c_cc
[
VKILL
] = 
CKILL
;

182 

->
£t
 = 1;

183 
	}
}

186 
	$f_ev”ythšg
(
šfo
 *

)

189 
	`´št
(&

->
t
, &->
wš
, ip->
ldisc
, 
BSD
);

190 
	}
}

193 
	$f_exroc
(
šfo
 *

)

196 ià(

->
off
) {

197 
tmp
 = 0;

198 ()
	`ioùl
(

->
fd
, 
TIOCEXT
, &
tmp
);

200 
tmp
 = 1;

201 ()
	`ioùl
(

->
fd
, 
TIOCEXT
, &
tmp
);

203 
	}
}

206 
	$f_i¥“d
(
šfo
 *

)

209 
	`cf£ti¥“d
(&

->
t
, (
¥“d_t
)
	`©oi
(->
¬g
));

210 

->
£t
 = 1;

211 
	}
}

214 
	$f_Æ
(
šfo
 *

)

217 ià(

->
off
) {

218 

->
t
.
c_iæag
 |ğ
ICRNL
;

219 

->
t
.
c_oæag
 |ğ
ONLCR
;

221 

->
t
.
c_iæag
 &ğ~
ICRNL
;

222 

->
t
.
c_oæag
 &ğ~
ONLCR
;

224 

->
£t
 = 1;

225 
	}
}

228 
	$f_o¥“d
(
šfo
 *

)

231 
	`cf£to¥“d
(&

->
t
, (
¥“d_t
)
	`©oi
(->
¬g
));

232 

->
£t
 = 1;

233 
	}
}

236 
	$f_¿w
(
šfo
 *

)

239 ià(

->
off
)

240 
	`f_§Ã
(

);

242 
	`cfmak”aw
(&

->
t
);

243 

->
t
.
c_cæag
 &ğ~(
CSIZE
|
PARENB
);

244 

->
t
.
c_cæag
 |ğ
CS8
;

245 

->
£t
 = 1;

247 
	}
}

250 
	$f_rows
(
šfo
 *

)

253 

->
wš
.
ws_row
 = 
	`©oi
(->
¬g
);

254 

->
w£t
 = 1;

255 
	}
}

258 
	$f_§Ã
(
šfo
 *

)

261 

->
t
.
c_cæag
 = 
TTYDEF_CFLAG
 | (->t.c_cæag & 
CLOCAL
);

262 

->
t
.
c_iæag
 = 
TTYDEF_IFLAG
;

263 

->
t
.
c_iæag
 |ğ
ICRNL
;

265 
	#LKEEP
 (
ECHOKE
|
ECHOE
|
ECHOK
|
ECHOPRT
|
ECHOCTL
|
ALTWERASE
|
TOSTOP
|
NOFLSH
)

	)

266 

->
t
.
c_læag
 = 
TTYDEF_LFLAG
 | (->t.c_læag & 
LKEEP
);

267 

->
t
.
c_oæag
 = 
TTYDEF_OFLAG
;

268 

->
£t
 = 1;

269 
	}
}

272 
	$f_size
(
šfo
 *

)

275 ()
	`´štf
("%d %d\n", 

->
wš
.
ws_row
, ip->wš.
ws_cŞ
);

276 
	}
}

279 
	$f_¥“d
(
šfo
 *

)

282 ()
	`´štf
("%lu\n", (
u_lÚg
)
	`cfg‘o¥“d
(&

->
t
));

283 
	}
}

286 
	$f_‰y
(
šfo
 *

)

288 
tmp
;

290 
tmp
 = 
TTYDISC
;

291 ià(
	`ioùl
(

->
fd
, 
TIOCSETD
, &
tmp
) < 0)

292 
	`”r
(1, "TIOCSETD");

293 
	}
}

	@stty/modes.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)modes.c 8.3 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/stty/modes.c,v 1.14.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

39 
	~<¡ddef.h
>

40 
	~<¡ršg.h
>

41 
	~"¡ty.h
"

43 
m£¬ch
(***, 
šfo
 *);

45 
	smodes
 {

46 cÚ¡ *
	mÇme
;

47 
	m£t
;

48 
	mun£t
;

55 
modes
 
	gcmodes
[] = {

56 { "cs5", 
CS5
, 
CSIZE
 },

57 { "cs6", 
CS6
, 
CSIZE
 },

58 { "cs7", 
CS7
, 
CSIZE
 },

59 { "cs8", 
CS8
, 
CSIZE
 },

60 { "c¡İb", 
CSTOPB
, 0 },

61 { "-c¡İb", 0, 
CSTOPB
 },

62 { "ü—d", 
CREAD
, 0 },

63 { "-ü—d", 0, 
CREAD
 },

64 { "·»nb", 
PARENB
, 0 },

65 { "-·»nb", 0, 
PARENB
 },

66 { "·rodd", 
PARODD
, 0 },

67 { "-·rodd", 0, 
PARODD
 },

68 { "·r™y", 
PARENB
 | 
CS7
, 
PARODD
 | 
CSIZE
 },

69 { "-·r™y", 
CS8
, 
PARODD
 | 
PARENB
 | 
CSIZE
 },

70 { "ev’p", 
PARENB
 | 
CS7
, 
PARODD
 | 
CSIZE
 },

71 { "-ev’p", 
CS8
, 
PARODD
 | 
PARENB
 | 
CSIZE
 },

72 { "oddp", 
PARENB
 | 
CS7
 | 
PARODD
, 
CSIZE
 },

73 { "-oddp", 
CS8
, 
PARODD
 | 
PARENB
 | 
CSIZE
 },

74 { "·ss8", 
CS8
, 
PARODD
 | 
PARENB
 | 
CSIZE
 },

75 { "-·ss8", 
PARENB
 | 
CS7
, 
PARODD
 | 
CSIZE
 },

76 { "hupş", 
HUPCL
, 0 },

77 { "-hupş", 0, 
HUPCL
 },

78 { "hup", 
HUPCL
, 0 },

79 { "-hup", 0, 
HUPCL
 },

80 { "şoÿl", 
CLOCAL
, 0 },

81 { "-şoÿl", 0, 
CLOCAL
 },

82 { "ütsùs", 
CRTSCTS
, 0 },

83 { "-ütsùs", 0, 
CRTSCTS
 },

84 { "ùsæow", 
CCTS_OFLOW
, 0 },

85 { "-ùsæow", 0, 
CCTS_OFLOW
 },

86 { "d¤æow", 
CDSR_OFLOW
, 0 },

87 { "-d¤æow", 0, 
CDSR_OFLOW
 },

88 { "dŒæow", 
CDTR_IFLOW
, 0 },

89 { "-dŒæow", 0, 
CDTR_IFLOW
 },

90 { "¹sæow", 
CRTS_IFLOW
, 0 },

91 { "-¹sæow", 0, 
CRTS_IFLOW
 },

92 { "mdmbuf", 
MDMBUF
, 0 },

93 { "-mdmbuf", 0, 
MDMBUF
 },

94 { 
NULL
, 0, 0 },

97 
modes
 
	gimodes
[] = {

98 { "ignbrk", 
IGNBRK
, 0 },

99 { "-ignbrk", 0, 
IGNBRK
 },

100 { "brkšt", 
BRKINT
, 0 },

101 { "-brkšt", 0, 
BRKINT
 },

102 { "igÅ¬", 
IGNPAR
, 0 },

103 { "-igÅ¬", 0, 
IGNPAR
 },

104 { "·rmrk", 
PARMRK
, 0 },

105 { "-·rmrk", 0, 
PARMRK
 },

106 { "špck", 
INPCK
, 0 },

107 { "-špck", 0, 
INPCK
 },

108 { "i¡r", 
ISTRIP
, 0 },

109 { "-i¡r", 0, 
ISTRIP
 },

110 { "šlü", 
INLCR
, 0 },

111 { "-šlü", 0, 
INLCR
 },

112 { "ignü", 
IGNCR
, 0 },

113 { "-ignü", 0, 
IGNCR
 },

114 { "iüÆ", 
ICRNL
, 0 },

115 { "-iüÆ", 0, 
ICRNL
 },

116 { "ixÚ", 
IXON
, 0 },

117 { "-ixÚ", 0, 
IXON
 },

118 { "æow", 
IXON
, 0 },

119 { "-æow", 0, 
IXON
 },

120 { "ixoff", 
IXOFF
, 0 },

121 { "-ixoff", 0, 
IXOFF
 },

122 { "ndem", 
IXOFF
, 0 },

123 { "-ndem", 0, 
IXOFF
 },

124 { "ixªy", 
IXANY
, 0 },

125 { "-ixªy", 0, 
IXANY
 },

126 { "decùlq", 0, 
IXANY
 },

127 { "-decùlq", 
IXANY
, 0 },

128 { "imaxb–", 
IMAXBEL
, 0 },

129 { "-imaxb–", 0, 
IMAXBEL
 },

130 { 
NULL
, 0, 0 },

133 
modes
 
	glmodes
[] = {

134 { "echo", 
ECHO
, 0 },

135 { "-echo", 0, 
ECHO
 },

136 { "echÛ", 
ECHOE
, 0 },

137 { "-echÛ", 0, 
ECHOE
 },

138 { "ü‹¿£", 
ECHOE
, 0 },

139 { "-ü‹¿£", 0, 
ECHOE
 },

140 { "ütbs", 
ECHOE
, 0 },

141 { "-ütbs", 0, 
ECHOE
 },

142 { "echok", 
ECHOK
, 0 },

143 { "-echok", 0, 
ECHOK
 },

144 { "echoke", 
ECHOKE
, 0 },

145 { "-echoke", 0, 
ECHOKE
 },

146 { "ütkl", 
ECHOKE
, 0 },

147 { "-ütkl", 0, 
ECHOKE
 },

148 { "®tw”a£", 
ALTWERASE
, 0 },

149 { "-®tw”a£", 0, 
ALTWERASE
 },

150 { "›x‹n", 
IEXTEN
, 0 },

151 { "-›x‹n", 0, 
IEXTEN
 },

152 { "echÚl", 
ECHONL
, 0 },

153 { "-echÚl", 0, 
ECHONL
 },

154 { "echoùl", 
ECHOCTL
, 0 },

155 { "-echoùl", 0, 
ECHOCTL
 },

156 { "ùËcho", 
ECHOCTL
, 0 },

157 { "-ùËcho", 0, 
ECHOCTL
 },

158 { "echİ¹", 
ECHOPRT
, 0 },

159 { "-echİ¹", 0, 
ECHOPRT
 },

160 { "´‹¿£", 
ECHOPRT
, 0 },

161 { "-´‹¿£", 0, 
ECHOPRT
 },

162 { "isig", 
ISIG
, 0 },

163 { "-isig", 0, 
ISIG
 },

164 { "iÿnÚ", 
ICANON
, 0 },

165 { "-iÿnÚ", 0, 
ICANON
 },

166 { "noæsh", 
NOFLSH
, 0 },

167 { "-noæsh", 0, 
NOFLSH
 },

168 { "to¡İ", 
TOSTOP
, 0 },

169 { "-to¡İ", 0, 
TOSTOP
 },

170 { "æusho", 
FLUSHO
, 0 },

171 { "-æusho", 0, 
FLUSHO
 },

172 { "³ndš", 
PENDIN
, 0 },

173 { "-³ndš", 0, 
PENDIN
 },

174 { "üt", 
ECHOE
|
ECHOKE
|
ECHOCTL
, 
ECHOK
|
ECHOPRT
 },

175 { "-üt", 
ECHOK
, 
ECHOE
|
ECHOKE
|
ECHOCTL
 },

176 { "Ãwüt", 
ECHOE
|
ECHOKE
|
ECHOCTL
, 
ECHOK
|
ECHOPRT
 },

177 { "-Ãwüt", 
ECHOK
, 
ECHOE
|
ECHOKE
|
ECHOCTL
 },

178 { "nok”nšfo", 
NOKERNINFO
, 0 },

179 { "-nok”nšfo",0, 
NOKERNINFO
 },

180 { "k”nšfo", 0, 
NOKERNINFO
 },

181 { "-k”nšfo", 
NOKERNINFO
, 0 },

182 { 
NULL
, 0, 0 },

185 
modes
 
	gomodes
[] = {

186 { "İo¡", 
OPOST
, 0 },

187 { "-İo¡", 0, 
OPOST
 },

188 { "l™out", 0, 
OPOST
 },

189 { "-l™out", 
OPOST
, 0 },

190 { "Úlü", 
ONLCR
, 0 },

191 { "-Úlü", 0, 
ONLCR
 },

192 { "oüÆ", 
OCRNL
, 0 },

193 { "-oüÆ", 0, 
OCRNL
 },

194 { "bs", 
TAB0
, 
TABDLY
 },

195 { "-bs", 
TAB3
, 
TABDLY
 },

196 { "oxbs", 
TAB3
, 
TABDLY
 },

197 { "-oxbs", 
TAB0
, 
TABDLY
 },

198 { "b0", 
TAB0
, 
TABDLY
 },

199 { "b3", 
TAB3
, 
TABDLY
 },

200 { "Úoü", 
ONOCR
, 0 },

201 { "-Úoü", 0, 
ONOCR
 },

202 { "ÚÌ‘", 
ONLRET
, 0 },

203 { "-ÚÌ‘", 0, 
ONLRET
 },

204 { 
NULL
, 0, 0 },

207 
	#CHK
(
s
è(*
Çme
 =ğs[0] && !
	`¡rcmp
Òame, s))

	)

210 
	$m£¬ch
(***
¬gvp
, 
šfo
 *

)

212 
modes
 *
mp
;

213 *
Çme
;

215 
Çme
 = **
¬gvp
;

217 
mp
 = 
cmodes
; mp->
Çme
; ++mp)

218 ià(
	`CHK
(
mp
->
Çme
)) {

219 

->
t
.
c_cæag
 &ğ~
mp
->
un£t
;

220 

->
t
.
c_cæag
 |ğ
mp
->
£t
;

221 

->
£t
 = 1;

224 
mp
 = 
imodes
; mp->
Çme
; ++mp)

225 ià(
	`CHK
(
mp
->
Çme
)) {

226 

->
t
.
c_iæag
 &ğ~
mp
->
un£t
;

227 

->
t
.
c_iæag
 |ğ
mp
->
£t
;

228 

->
£t
 = 1;

231 
mp
 = 
lmodes
; mp->
Çme
; ++mp)

232 ià(
	`CHK
(
mp
->
Çme
)) {

233 

->
t
.
c_læag
 &ğ~
mp
->
un£t
;

234 

->
t
.
c_læag
 |ğ
mp
->
£t
;

235 

->
£t
 = 1;

238 
mp
 = 
omodes
; mp->
Çme
; ++mp)

239 ià(
	`CHK
(
mp
->
Çme
)) {

240 

->
t
.
c_oæag
 &ğ~
mp
->
un£t
;

241 

->
t
.
c_oæag
 |ğ
mp
->
£t
;

242 

->
£t
 = 1;

246 
	}
}

	@stty/print.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)print.c 8.6 (Berkeley) 4/16/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/stty/print.c,v 1.22.2.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

40 
	~<¡ddef.h
>

41 
	~<¡dio.h
>

42 
	~<¡ršg.h
>

44 
	~"¡ty.h
"

45 
	~"ex‹º.h
"

47 
bš™
(const *);

48 
bput
(const *);

49 cÚ¡ *
ccv®
(
cch¬
 *, );

52 
	$´št
(
‹rmios
 *

, 
wšsize
 *
wp
, 
ldisc
, 
FMT
 
fmt
)

54 
cch¬
 *
p
;

55 
tmp
;

56 
u_ch¬
 *
cc
;

57 
út
, 
i¥“d
, 
o¥“d
;

58 
buf1
[100], 
buf2
[100];

60 
út
 = 0;

63 ià(
ldisc
 !ğ
TTYDISC
) {

64 
ldisc
) {

65 
SLIPDISC
:

66 
út
 +ğ
	`´štf
("slip disc; ");

68 
PPPDISC
:

69 
út
 +ğ
	`´štf
("ppp disc; ");

72 
út
 +ğ
	`´štf
("#%d disc; ", 
ldisc
);

78 
i¥“d
 = 
	`cfg‘i¥“d
(

);

79 
o¥“d
 = 
	`cfg‘o¥“d
(

);

80 ià(
i¥“d
 !ğ
o¥“d
)

81 
út
 +=

82 
	`´štf
("i¥“d %d baud; o¥“d %d baud;", 
i¥“d
, 
o¥“d
);

84 
út
 +ğ
	`´štf
("¥“d %d baud;", 
i¥“d
);

85 ià(
fmt
 >ğ
BSD
)

86 
út
 +ğ
	`´štf
(" %d„ows; %d cŞumns;", 
wp
->
ws_row
, wp->
ws_cŞ
);

87 ià(
út
)

88 ()
	`´štf
("\n");

90 
	#Ú
(
f
è((
tmp
 & (f)è!ğ0)

	)

91 
	#put
(
n
, 
f
, 
d
) \

92 ià(
fmt
 >ğ
BSD
 || 
	`Ú
(
f
è!ğ(
d
)) \

93 
	`bput
((
n
è+ 
	`Ú
(
f
));

	)

96 
tmp
 = 

->
c_læag
;

97 
	`bš™
("lflags");

98 
	`put
("-iÿnÚ", 
ICANON
, 1);

99 
	`put
("-isig", 
ISIG
, 1);

100 
	`put
("-›x‹n", 
IEXTEN
, 1);

101 
	`put
("-echo", 
ECHO
, 1);

102 
	`put
("-echÛ", 
ECHOE
, 0);

103 
	`put
("-echok", 
ECHOK
, 0);

104 
	`put
("-echoke", 
ECHOKE
, 0);

105 
	`put
("-echÚl", 
ECHONL
, 0);

106 
	`put
("-echoùl", 
ECHOCTL
, 0);

107 
	`put
("-echİ¹", 
ECHOPRT
, 0);

108 
	`put
("-®tw”a£", 
ALTWERASE
, 0);

109 
	`put
("-noæsh", 
NOFLSH
, 0);

110 
	`put
("-to¡İ", 
TOSTOP
, 0);

111 
	`put
("-æusho", 
FLUSHO
, 0);

112 
	`put
("-³ndš", 
PENDIN
, 0);

113 
	`put
("-nok”nšfo", 
NOKERNINFO
, 0);

114 
	`put
("-exroc", 
EXTPROC
, 0);

117 
tmp
 = 

->
c_iæag
;

118 
	`bš™
("iflags");

119 
	`put
("-i¡r", 
ISTRIP
, 0);

120 
	`put
("-iüÆ", 
ICRNL
, 1);

121 
	`put
("-šlü", 
INLCR
, 0);

122 
	`put
("-ignü", 
IGNCR
, 0);

123 
	`put
("-ixÚ", 
IXON
, 1);

124 
	`put
("-ixoff", 
IXOFF
, 0);

125 
	`put
("-ixªy", 
IXANY
, 1);

126 
	`put
("-imaxb–", 
IMAXBEL
, 1);

127 
	`put
("-ignbrk", 
IGNBRK
, 0);

128 
	`put
("-brkšt", 
BRKINT
, 1);

129 
	`put
("-špck", 
INPCK
, 0);

130 
	`put
("-igÅ¬", 
IGNPAR
, 0);

131 
	`put
("-·rmrk", 
PARMRK
, 0);

134 
tmp
 = 

->
c_oæag
;

135 
	`bš™
("oflags");

136 
	`put
("-İo¡", 
OPOST
, 1);

137 
	`put
("-Úlü", 
ONLCR
, 1);

138 
	`put
("-oüÆ", 
OCRNL
, 0);

139 
tmp
&
TABDLY
) {

140 
TAB0
:

141 
	`bput
("tab0");

143 
TAB3
:

144 
	`bput
("tab3");

147 
	`put
("-Úoü", 
ONOCR
, 0);

148 
	`put
("-ÚÌ‘", 
ONLRET
, 0);

151 
tmp
 = 

->
c_cæag
;

152 
	`bš™
("cflags");

153 
	`put
("-ü—d", 
CREAD
, 1);

154 
tmp
&
CSIZE
) {

155 
CS5
:

156 
	`bput
("cs5");

158 
CS6
:

159 
	`bput
("cs6");

161 
CS7
:

162 
	`bput
("cs7");

164 
CS8
:

165 
	`bput
("cs8");

168 
	`bput
("-·»nb" + 
	`Ú
(
PARENB
));

169 
	`put
("-·rodd", 
PARODD
, 0);

170 
	`put
("-hupş", 
HUPCL
, 1);

171 
	`put
("-şoÿl", 
CLOCAL
, 0);

172 
	`put
("-c¡İb", 
CSTOPB
, 0);

173 
tmp
 & (
CCTS_OFLOW
 | 
CRTS_IFLOW
)) {

174 
CCTS_OFLOW
:

175 
	`bput
("ctsflow");

177 
CRTS_IFLOW
:

178 
	`bput
("rtsflow");

181 
	`put
("-ütsùs", 
CCTS_OFLOW
 | 
CRTS_IFLOW
, 0);

184 
	`put
("-d¤æow", 
CDSR_OFLOW
, 0);

185 
	`put
("-dŒæow", 
CDTR_IFLOW
, 0);

186 
	`put
("-mdmbuf", 
MDMBUF
, 0);

189 
cc
 = 

->
c_cc
;

190 ià(
fmt
 =ğ
POSIX
) {

191 
	`bš™
("cchars");

192 
p
 = 
cch¬s1
;…->
Çme
; ++p) {

193 ()
	`¢´štf
(
buf1
, (buf1), "%s = %s;",

194 
p
->
Çme
, 
	`ccv®
Õ, 
cc
[p->
sub
]));

195 
	`bput
(
buf1
);

197 
	`bš™
(
NULL
);

199 
	`bš™
(
NULL
);

200 
p
 = 
cch¬s1
, 
út
 = 0;…->
Çme
; ++p) {

201 ià(
fmt
 !ğ
BSD
 && 
cc
[
p
->
sub
] =ğp->
def
)

203 
	#WD
 "%-8s"

	)

204 ()
	`¢´štf
(
buf1
 + 
út
 * 8, (buf1) - cnt * 8,

205 
WD
, 
p
->
Çme
);

206 ()
	`¢´štf
(
buf2
 + 
út
 * 8, (buf2) - cnt * 8,

207 
WD
, 
	`ccv®
(
p
, 
cc
[p->
sub
]));

208 ià(++
út
 =ğ
LINELENGTH
 / 8) {

209 
út
 = 0;

210 ()
	`´štf
("%s\n", 
buf1
);

211 ()
	`´štf
("%s\n", 
buf2
);

214 ià(
út
) {

215 ()
	`´štf
("%s\n", 
buf1
);

216 ()
	`´štf
("%s\n", 
buf2
);

219 
	}
}

221 
	gcŞ
;

222 cÚ¡ *
	gÏb–
;

225 
	$bš™
(cÚ¡ *
lb
)

228 ià(
cŞ
) {

229 ()
	`´štf
("\n");

230 
cŞ
 = 0;

232 
Ïb–
 = 
lb
;

233 
	}
}

236 
	$bput
(cÚ¡ *
s
)

239 ià(
cŞ
 == 0) {

240 
cŞ
 = 
	`´štf
("%s: %s", 
Ïb–
, 
s
);

243 ià((
cŞ
 + 
	`¡¾’
(
s
)è> 
LINELENGTH
) {

244 ()
	`´štf
("\n\t");

245 
cŞ
 = 
	`´štf
("%s", 
s
) + 8;

248 
cŞ
 +ğ
	`´štf
(" %s", 
s
);

249 
	}
}

252 
	$ccv®
(
cch¬
 *
p
, 
c
)

254 
buf
[5];

255 *
bp
;

257 ià(
p
->
sub
 =ğ
VMIN
 ||…->sub =ğ
VTIME
) {

258 ()
	`¢´štf
(
buf
, (buf), "%d", 
c
);

259  (
buf
);

261 ià(
c
 =ğ
_POSIX_VDISABLE
)

263 
bp
 = 
buf
;

264 ià(
c
 & 0200) {

265 *
bp
++ = 'M';

266 *
bp
++ = '-';

267 
c
 &= 0177;

269 ià(
c
 == 0177) {

270 *
bp
++ = '^';

271 *
bp
++ = '?';

273 ià(
c
 < 040) {

274 *
bp
++ = '^';

275 *
bp
++ = 
c
 + '@';

278 *
bp
++ = 
c
;

279 *
bp
 = '\0';

280  (
buf
);

281 
	}
}

	@stty/stty.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)stty.c 8.3 (Berkeley) 4/2/94";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/stty/stty.c,v 1.23.22.2.2.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<sys/ty³s.h
>

46 
	~<ùy³.h
>

47 
	~<”r.h
>

48 
	~<”ºo.h
>

49 
	~<fú.h
>

50 
	~<¡dio.h
>

51 
	~<¡dlib.h
>

52 
	~<¡ršg.h
>

53 
	~<uni¡d.h
>

55 
	~"¡ty.h
"

56 
	~"ex‹º.h
"

59 
	$maš
(
¬gc
, *
¬gv
[])

61 
šfo
 
i
;

62 
FMT
 
fmt
;

63 
ch
;

64 cÚ¡ *
fe
;

66 
fmt
 = 
NOTSET
;

67 
i
.
fd
 = 
STDIN_FILENO
;

68 
fe
 = "stdin";

70 
İ‹¼
 = 0;

71 
İtšd
 < 
¬gc
 &&

72 
	`¡r¥n
(
¬gv
[
İtšd
], "-«fg"è=ğ
	`¡¾’
(argv[optind]) &&

73 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "aef:g")) != -1)

74 
ch
) {

76 
fmt
 = 
POSIX
;

79 
fmt
 = 
BSD
;

82 ià((
i
.
fd
 = 
	`İ’
(
İrg
, 
O_RDONLY
 | 
O_NONBLOCK
)) < 0)

83 
	`”r
(1, "%s", 
İrg
);

84 
fe
 = 
İrg
;

87 
fmt
 = 
GFLAG
;

91 
¬gs
;

94 
¬gs
: 
¬gc
 -ğ
İtšd
;

95 
¬gv
 +ğ
İtšd
;

97 ià(
	`tcg‘©Œ
(
i
.
fd
, &i.
t
) < 0)

98 
	`”rx
(1, "% i¢'ˆ¨‹rmš®", 
fe
);

99 ià(
	`ioùl
(
i
.
fd
, 
TIOCGETD
, &i.
ldisc
) < 0)

100 
	`”r
(1, "TIOCGETD");

101 ià(
	`ioùl
(
i
.
fd
, 
TIOCGWINSZ
, &i.
wš
) < 0)

102 
	`w¬n
("TIOCGWINSZ");

104 
	`check»dœeù
();

106 
fmt
) {

107 
NOTSET
:

108 ià(*
¬gv
)

111 
BSD
:

112 
POSIX
:

113 
	`´št
(&
i
.
t
, &i.
wš
, i.
ldisc
, 
fmt
);

115 
GFLAG
:

116 
	`g´št
(&
i
.
t
, &i.
wš
, i.
ldisc
);

120 
i
.
£t
 = i.
w£t
 = 0; *
¬gv
; ++argv) {

121 ià(
	`k£¬ch
(&
¬gv
, &
i
))

124 ià(
	`c£¬ch
(&
¬gv
, &
i
))

127 ià(
	`m£¬ch
(&
¬gv
, &
i
))

130 ià(
	`isdig™
(**
¬gv
)) {

131 
¥“d_t
 
¥“d
;

133 
¥“d
 = 
	`©oi
(*
¬gv
);

134 
	`cf£to¥“d
(&
i
.
t
, 
¥“d
);

135 
	`cf£ti¥“d
(&
i
.
t
, 
¥“d
);

136 
i
.
£t
 = 1;

140 ià(!
	`¡ºcmp
(*
¬gv
, "gfmt1", ("gfmt1") - 1)) {

141 
	`g»ad
(&
i
.
t
, *
¬gv
 + ("gfmt1") - 1);

142 
i
.
£t
 = 1;

146 
	`w¬nx
("Ëg® o±iÚ -- %s", *
¬gv
);

147 
	`u§ge
();

150 ià(
i
.
£t
 && 
	`tc£‰r
(i.
fd
, 0, &i.
t
) < 0)

151 
	`”r
(1, "tcsetattr");

152 ià(
i
.
w£t
 && 
	`ioùl
(i.
fd
, 
TIOCSWINSZ
, &i.
wš
) < 0)

153 
	`w¬n
("TIOCSWINSZ");

154 
	`ex™
(0);

155 
	}
}

158 
	$u§ge
()

161 ()
	`årštf
(
¡d”r
,

163 
	`ex™
 (1);

164 
	}
}

	@stty/stty.h

33 
	~<sys/ioùl.h
>

34 
	~<‹rmios.h
>

36 
	sšfo
 {

37 
	mfd
;

38 
	mldisc
;

39 
	moff
;

40 
	m£t
;

41 
	mw£t
;

42 cÚ¡ *
	m¬g
;

43 
‹rmios
 
	mt
;

44 
wšsize
 
	mwš
;

47 
	scch¬
 {

48 cÚ¡ *
	mÇme
;

49 
	msub
;

50 
u_ch¬
 
	mdef
;

53 
	eFMT
 { 
	mNOTSET
, 
	mGFLAG
, 
	mBSD
, 
	mPOSIX
 };

55 
	#LINELENGTH
 72

	)

	@stty/util.c

30 #iâdeà
lšt


32 
	gsccsid
[] = "@(#)util.c 8.3 (Berkeley) 4/2/94";

35 
	~<sys/cdefs.h
>

36 
__FBSDID
("$FreeBSD: src/bin/stty/util.c,v 1.11.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

38 
	~<sys/ty³s.h
>

39 
	~<sys/¡©.h
>

41 
	~<”r.h
>

42 
	~<¡dio.h
>

43 
	~<¡dlib.h
>

44 
	~<uni¡d.h
>

46 
	~"¡ty.h
"

47 
	~"ex‹º.h
"

56 
	$check»dœeù
()

58 
¡©
 
sb1
, 
sb2
;

60 ià(
	`i§‰y
(
STDOUT_FILENO
è&& i§‰y(
STDERR_FILENO
) &&

61 !
	`f¡©
(
STDOUT_FILENO
, &
sb1
è&& !f¡©(
STDERR_FILENO
, &
sb2
) &&

62 (
sb1
.
¡_rdev
 !ğ
sb2
.st_rdev))

63 
	`w¬nx
("stdout‡ppears„edirected, but stdin ishe control descriptor");

64 
	}
}

	@sync/sync.c

31 #iâdeà
lšt


32 cÚ¡ 
	gcİyright
[] =

37 #iâdeà
lšt


38 
	gsccsid
[] = "@(#)sync.c 8.1 (Berkeley) 5/31/93";

41 
	~<sys/cdefs.h
>

42 
__FBSDID
("$FreeBSD: src/bin/sync/sync.c,v 1.16.22.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

44 
	~<¡dlib.h
>

45 
	~<uni¡d.h
>

48 
	$maš
(
¬gc
 
__unu£d
, *
¬gv
[] __unused)

50 
	`sync
();

51 
	`ex™
(0);

52 
	}
}

	@test/test.c

17 
	~<sys/cdefs.h
>

18 
__FBSDID
("$FreeBSD: src/bin/test/test.c,v 1.54.2.3.2.1 2012/03/03 06:15:13 kensmith Exp $");

20 
	~<sys/ty³s.h
>

21 
	~<sys/¡©.h
>

23 
	~<ùy³.h
>

24 
	~<”r.h
>

25 
	~<”ºo.h
>

26 
	~<š‰y³s.h
>

27 
	~<lim™s.h
>

28 
	~<¡d¬g.h
>

29 
	~<¡dio.h
>

30 
	~<¡dlib.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 #ifdeà
SHELL


35 
	#maš
 
‹¡cmd


	)

36 
	~"bÉš/bÉš.h
"

38 
	~<loÿË.h
>

40 
	$”rÜ
(cÚ¡ *, ...è
__d—d2
 
	`__´štf0like
(1, 2);

43 
	$”rÜ
(cÚ¡ *
msg
, ...)

45 
va_li¡
 
­
;

46 
	`va_¡¬t
(
­
, 
msg
);

47 
	`v”rx
(2, 
msg
, 
­
);

49 
	`va_’d
(
­
);

50 
	}
}

70 
	etok’
 {

71 
	mEOI
,

72 
	mFILRD
,

73 
	mFILWR
,

74 
	mFILEX
,

75 
	mFILEXIST
,

76 
	mFILREG
,

77 
	mFILDIR
,

78 
	mFILCDEV
,

79 
	mFILBDEV
,

80 
	mFILFIFO
,

81 
	mFILSOCK
,

82 
	mFILSYM
,

83 
	mFILGZ
,

84 
	mFILTT
,

85 
	mFILSUID
,

86 
	mFILSGID
,

87 
	mFILSTCK
,

88 
	mFILNT
,

89 
	mFILOT
,

90 
	mFILEQ
,

91 
	mFILUID
,

92 
	mFILGID
,

93 
	mSTREZ
,

94 
	mSTRNZ
,

95 
	mSTREQ
,

96 
	mSTRNE
,

97 
	mSTRLT
,

98 
	mSTRGT
,

99 
	mINTEQ
,

100 
	mINTNE
,

101 
	mINTGE
,

102 
	mINTGT
,

103 
	mINTLE
,

104 
	mINTLT
,

105 
	mUNOT
,

106 
	mBAND
,

107 
	mBOR
,

108 
	mLPAREN
,

109 
	mRPAREN
,

110 
	mOPERAND


113 
	etok’_ty³s
 {

114 
	mUNOP
,

115 
	mBINOP
,

116 
	mBUNOP
,

117 
	mBBINOP
,

118 
	mPAREN


121 
	st_İ
 {

122 cÚ¡ *
	mİ_‹xt
;

123 
	mİ_num
, 
	mİ_ty³
;

124 } cÚ¡ 
	gİs
 [] = {

125 {"-r", 
FILRD
, 
UNOP
},

126 {"-w", 
FILWR
, 
UNOP
},

127 {"-x", 
FILEX
, 
UNOP
},

128 {"-e", 
FILEXIST
,
UNOP
},

129 {"-f", 
FILREG
, 
UNOP
},

130 {"-d", 
FILDIR
, 
UNOP
},

131 {"-c", 
FILCDEV
,
UNOP
},

132 {"-b", 
FILBDEV
,
UNOP
},

133 {"-p", 
FILFIFO
,
UNOP
},

134 {"-u", 
FILSUID
,
UNOP
},

135 {"-g", 
FILSGID
,
UNOP
},

136 {"-k", 
FILSTCK
,
UNOP
},

137 {"-s", 
FILGZ
, 
UNOP
},

138 {"-t", 
FILTT
, 
UNOP
},

139 {"-z", 
STREZ
, 
UNOP
},

140 {"-n", 
STRNZ
, 
UNOP
},

141 {"-h", 
FILSYM
, 
UNOP
},

142 {"-O", 
FILUID
, 
UNOP
},

143 {"-G", 
FILGID
, 
UNOP
},

144 {"-L", 
FILSYM
, 
UNOP
},

145 {"-S", 
FILSOCK
,
UNOP
},

146 {"=", 
STREQ
, 
BINOP
},

147 {"==", 
STREQ
, 
BINOP
},

148 {"!=", 
STRNE
, 
BINOP
},

149 {"<", 
STRLT
, 
BINOP
},

150 {">", 
STRGT
, 
BINOP
},

151 {"-eq", 
INTEQ
, 
BINOP
},

152 {"-Ã", 
INTNE
, 
BINOP
},

153 {"-ge", 
INTGE
, 
BINOP
},

154 {"-gt", 
INTGT
, 
BINOP
},

155 {"-Ë", 
INTLE
, 
BINOP
},

156 {"-É", 
INTLT
, 
BINOP
},

157 {"-Á", 
FILNT
, 
BINOP
},

158 {"-Ù", 
FILOT
, 
BINOP
},

159 {"-ef", 
FILEQ
, 
BINOP
},

160 {"!", 
UNOT
, 
BUNOP
},

161 {"-a", 
BAND
, 
BBINOP
},

162 {"-o", 
BOR
, 
BBINOP
},

163 {"(", 
LPAREN
, 
PAREN
},

164 {")", 
RPAREN
, 
PAREN
},

168 
t_İ
 cÚ¡ *
	gt_wp_İ
;

169 
	gÇrgc
;

170 **
	gt_wp
;

171 
	g·»Æev–
;

173 
«x´
(
tok’
);

174 
bšİ
();

175 
equ®f
(const *, const *);

176 
f¡©
(*, 
tok’
);

177 
g‘n
(const *);

178 
štmax_t
 
g‘q
(const *);

179 
štcmp
(const *, const *);

180 
isunİİ”ªd
();

181 
i¦·»nİ”ªd
();

182 
i¤·»nİ”ªd
();

183 
Ãw”f
(const *, const *);

184 
Ãx´
(
tok’
);

185 
Ûx´
(
tok’
);

186 
Şd”f
(const *, const *);

187 
´im¬y
(
tok’
);

188 
syÁax
(const *, const *);

189 
tok’
 
t_Ëx
(*);

192 
	$maš
(
¬gc
, **
¬gv
)

194 
»s
;

195 *
p
;

197 ià((
p
 = 
	`ršdex
(
¬gv
[0], '/')è=ğ
NULL
)

198 
p
 = 
¬gv
[0];

200 
p
++;

201 ià(
	`¡rcmp
(
p
, "[") == 0) {

202 ià(
	`¡rcmp
(
¬gv
[--
¬gc
], "]") != 0)

203 
	`”rÜ
("missing ]");

204 
¬gv
[
¬gc
] = 
NULL
;

208 ià(--
¬gc
 <= 0)

211 #iâdeà
SHELL


212 ()
	`£oÿË
(
LC_CTYPE
, "");

214 
Çrgc
 = 
¬gc
;

215 
t_wp
 = &
¬gv
[1];

216 
·»Æev–
 = 0;

217 ià(
Çrgc
 =ğ4 && 
	`¡rcmp
(*
t_wp
, "!") == 0) {

219 --
Çrgc
;

220 ++
t_wp
;

221 
»s
 = 
	`Ûx´
(
	`t_Ëx
(*
t_wp
));

223 
»s
 = !
	`Ûx´
(
	`t_Ëx
(*
t_wp
));

225 ià(--
Çrgc
 > 0)

226 
	`syÁax
(*
t_wp
, "unexpected operator");

228  
»s
;

229 
	}
}

232 
	$syÁax
(cÚ¡ *
İ
, cÚ¡ *
msg
)

235 ià(
İ
 && *op)

236 
	`”rÜ
("%s: %s", 
İ
, 
msg
);

238 
	`”rÜ
("%s", 
msg
);

239 
	}
}

242 
	$Ûx´
(
tok’
 
n
)

244 
»s
;

246 
»s
 = 
	`«x´
(
n
);

247 ià(
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
è=ğ
BOR
)

248  
	`Ûx´
(
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
)) ||

249 
»s
;

250 
t_wp
--;

251 
Çrgc
++;

252  
»s
;

253 
	}
}

256 
	$«x´
(
tok’
 
n
)

258 
»s
;

260 
»s
 = 
	`Ãx´
(
n
);

261 ià(
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
è=ğ
BAND
)

262  
	`«x´
(
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
)) &&

263 
»s
;

264 
t_wp
--;

265 
Çrgc
++;

266  
»s
;

267 
	}
}

270 
	$Ãx´
(
tok’
 
n
)

272 ià(
n
 =ğ
UNOT
)

273  !
	`Ãx´
(
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
));

274  
	`´im¬y
(
n
);

275 
	}
}

278 
	$´im¬y
(
tok’
 
n
)

280 
tok’
 
Â
;

281 
»s
;

283 ià(
n
 =ğ
EOI
)

285 ià(
n
 =ğ
LPAREN
) {

286 
·»Æev–
++;

287 ià((
Â
 = 
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
)) ==

288 
RPAREN
) {

289 
·»Æev–
--;

292 
»s
 = 
	`Ûx´
(
Â
);

293 ià(
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
è!ğ
RPAREN
)

294 
	`syÁax
(
NULL
, "closing…arenƒxpected");

295 
·»Æev–
--;

296  
»s
;

298 ià(
t_wp_İ
 &&_wp_İ->
İ_ty³
 =ğ
UNOP
) {

300 ià(--
Çrgc
 == 0)

301 
	`syÁax
(
t_wp_İ
->
İ_‹xt
, "argumentƒxpected");

302 
n
) {

303 
STREZ
:

304  
	`¡¾’
(*++
t_wp
) == 0;

305 
STRNZ
:

306  
	`¡¾’
(*++
t_wp
) != 0;

307 
FILTT
:

308  
	`i§‰y
(
	`g‘n
(*++
t_wp
));

310  
	`f¡©
(*++
t_wp
, 
n
);

314 ià(
	`t_Ëx
(
Çrgc
 > 0 ? 
t_wp
[1] : 
NULL
), 
t_wp_İ
 &&_wp_İ->
İ_ty³
 ==

315 
BINOP
) {

316  
	`bšİ
();

319  
	`¡¾’
(*
t_wp
) > 0;

320 
	}
}

323 
	$bšİ
()

325 cÚ¡ *
İnd1
, *
İnd2
;

326 
t_İ
 cÚ¡ *
İ
;

328 
İnd1
 = *
t_wp
;

329 (è
	`t_Ëx
(
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
);

330 
İ
 = 
t_wp_İ
;

332 ià((
İnd2
 = 
Çrgc
 > 0 ? (--Çrgc, *++
t_wp
è: 
NULL
) == NULL)

333 
	`syÁax
(
İ
->
İ_‹xt
, "argumentƒxpected");

335 
İ
->
İ_num
) {

336 
STREQ
:

337  
	`¡rcmp
(
İnd1
, 
İnd2
) == 0;

338 
STRNE
:

339  
	`¡rcmp
(
İnd1
, 
İnd2
) != 0;

340 
STRLT
:

341  
	`¡rcmp
(
İnd1
, 
İnd2
) < 0;

342 
STRGT
:

343  
	`¡rcmp
(
İnd1
, 
İnd2
) > 0;

344 
INTEQ
:

345  
	`štcmp
(
İnd1
, 
İnd2
) == 0;

346 
INTNE
:

347  
	`štcmp
(
İnd1
, 
İnd2
) != 0;

348 
INTGE
:

349  
	`štcmp
(
İnd1
, 
İnd2
) >= 0;

350 
INTGT
:

351  
	`štcmp
(
İnd1
, 
İnd2
) > 0;

352 
INTLE
:

353  
	`štcmp
(
İnd1
, 
İnd2
) <= 0;

354 
INTLT
:

355  
	`štcmp
(
İnd1
, 
İnd2
) < 0;

356 
FILNT
:

357  
	`Ãw”f
 (
İnd1
, 
İnd2
);

358 
FILOT
:

359  
	`Şd”f
 (
İnd1
, 
İnd2
);

360 
FILEQ
:

361  
	`equ®f
 (
İnd1
, 
İnd2
);

363 
	`abÜt
();

366 
	}
}

369 
	$f¡©
(*
nm
, 
tok’
 
mode
)

371 
¡©
 
s
;

373 ià(
mode
 =ğ
FILSYM
 ? 
	`l¡©
(
nm
, &
s
è: 
	`¡©
(nm, &s))

376 
mode
) {

377 
FILRD
:

378  (
	`—cûss
(
nm
, 
R_OK
) == 0);

379 
FILWR
:

380  (
	`—cûss
(
nm
, 
W_OK
) == 0);

381 
FILEX
:

383 ià(
	`—cûss
(
nm
, 
X_OK
) != 0)

385 ià(
	`S_ISDIR
(
s
.
¡_mode
è|| 
	`g‘euid
() != 0)

387  (
s
.
¡_mode
 & (
S_IXUSR
 | 
S_IXGRP
 | 
S_IXOTH
)) != 0;

388 
FILEXIST
:

389  (
	`—cûss
(
nm
, 
F_OK
) == 0);

390 
FILREG
:

391  
	`S_ISREG
(
s
.
¡_mode
);

392 
FILDIR
:

393  
	`S_ISDIR
(
s
.
¡_mode
);

394 
FILCDEV
:

395  
	`S_ISCHR
(
s
.
¡_mode
);

396 
FILBDEV
:

397  
	`S_ISBLK
(
s
.
¡_mode
);

398 
FILFIFO
:

399  
	`S_ISFIFO
(
s
.
¡_mode
);

400 
FILSOCK
:

401  
	`S_ISSOCK
(
s
.
¡_mode
);

402 
FILSYM
:

403  
	`S_ISLNK
(
s
.
¡_mode
);

404 
FILSUID
:

405  (
s
.
¡_mode
 & 
S_ISUID
) != 0;

406 
FILSGID
:

407  (
s
.
¡_mode
 & 
S_ISGID
) != 0;

408 
FILSTCK
:

409  (
s
.
¡_mode
 & 
S_ISVTX
) != 0;

410 
FILGZ
:

411  
s
.
¡_size
 > (
off_t
)0;

412 
FILUID
:

413  
s
.
¡_uid
 =ğ
	`g‘euid
();

414 
FILGID
:

415  
s
.
¡_gid
 =ğ
	`g‘egid
();

419 
	}
}

421 
tok’


422 
	$t_Ëx
(*
s
)

424 
t_İ
 cÚ¡ *
İ
 = 
İs
;

426 ià(
s
 == 0) {

427 
t_wp_İ
 = 
NULL
;

428  
EOI
;

430 
İ
->
İ_‹xt
) {

431 ià(
	`¡rcmp
(
s
, 
İ
->
İ_‹xt
) == 0) {

432 ià(((
İ
->
İ_ty³
 =ğ
UNOP
 || op->İ_ty³ =ğ
BUNOP
)

433 && 
	`isunİİ”ªd
()) ||

434 (
İ
->
İ_num
 =ğ
LPAREN
 && 
	`i¦·»nİ”ªd
()) ||

435 (
İ
->
İ_num
 =ğ
RPAREN
 && 
	`i¤·»nİ”ªd
()))

437 
t_wp_İ
 = 
İ
;

438  
İ
->
İ_num
;

440 
İ
++;

442 
t_wp_İ
 = 
NULL
;

443  
OPERAND
;

444 
	}
}

447 
	$isunİİ”ªd
()

449 
t_İ
 cÚ¡ *
İ
 = 
İs
;

450 *
s
;

451 *
t
;

453 ià(
Çrgc
 == 1)

455 
s
 = *(
t_wp
 + 1);

456 ià(
Çrgc
 == 2)

457  
·»Æev–
 =ğ1 && 
	`¡rcmp
(
s
, ")") == 0;

458 
t
 = *(
t_wp
 + 2);

459 
İ
->
İ_‹xt
) {

460 ià(
	`¡rcmp
(
s
, 
İ
->
İ_‹xt
) == 0)

461  
İ
->
İ_ty³
 =ğ
BINOP
 &&

462 (
·»Æev–
 =ğ0 || 
t
[0] != ')' ||[1] != '\0');

463 
İ
++;

466 
	}
}

469 
	$i¦·»nİ”ªd
()

471 
t_İ
 cÚ¡ *
İ
 = 
İs
;

472 *
s
;

474 ià(
Çrgc
 == 1)

476 
s
 = *(
t_wp
 + 1);

477 ià(
Çrgc
 == 2)

478  
·»Æev–
 =ğ1 && 
	`¡rcmp
(
s
, ")") == 0;

479 ià(
Çrgc
 != 3)

481 
İ
->
İ_‹xt
) {

482 ià(
	`¡rcmp
(
s
, 
İ
->
İ_‹xt
) == 0)

483  
İ
->
İ_ty³
 =ğ
BINOP
;

484 
İ
++;

487 
	}
}

490 
	$i¤·»nİ”ªd
()

492 *
s
;

494 ià(
Çrgc
 == 1)

496 
s
 = *(
t_wp
 + 1);

497 ià(
Çrgc
 == 2)

498  
·»Æev–
 =ğ1 && 
	`¡rcmp
(
s
, ")") == 0;

500 
	}
}

504 
	$g‘n
(cÚ¡ *
s
)

506 *
p
;

507 
r
;

509 
”ºo
 = 0;

510 
r
 = 
	`¡¹Ş
(
s
, &
p
, 10);

512 ià(
s
 =ğ
p
)

513 
	`”rÜ
("%s: bad‚umb”", 
s
);

515 ià(
”ºo
 != 0)

516 
	`”rÜ
((
”ºo
 =ğ
EINVAL
) ? "%s: bad‚umber" :

517 "%s: ouˆoà¿nge", 
s
);

519 
	`is¥aû
(()*
p
))

520 
p
++;

522 ià(*
p
)

523 
	`”rÜ
("%s: bad‚umb”", 
s
);

525  (è
r
;

526 
	}
}

529 
štmax_t


530 
	$g‘q
(cÚ¡ *
s
)

532 *
p
;

533 
štmax_t
 
r
;

535 
”ºo
 = 0;

536 
r
 = 
	`¡¹oimax
(
s
, &
p
, 10);

538 ià(
s
 =ğ
p
)

539 
	`”rÜ
("%s: bad‚umb”", 
s
);

541 ià(
”ºo
 != 0)

542 
	`”rÜ
((
”ºo
 =ğ
EINVAL
) ? "%s: bad‚umber" :

543 "%s: ouˆoà¿nge", 
s
);

545 
	`is¥aû
(()*
p
))

546 
p
++;

548 ià(*
p
)

549 
	`”rÜ
("%s: bad‚umb”", 
s
);

551  
r
;

552 
	}
}

555 
	$štcmp
 (cÚ¡ *
s1
, cÚ¡ *
s2
)

557 
štmax_t
 
q1
, 
q2
;

560 
q1
 = 
	`g‘q
(
s1
);

561 
q2
 = 
	`g‘q
(
s2
);

563 ià(
q1
 > 
q2
)

566 ià(
q1
 < 
q2
)

570 
	}
}

573 
	$Ãw”f
 (cÚ¡ *
f1
, cÚ¡ *
f2
)

575 
¡©
 
b1
, 
b2
;

577 ià(
	`¡©
(
f1
, &
b1
è!ğ0 || st(
f2
, &
b2
) != 0)

580 ià(
b1
.
¡_mtime¥ec
.
tv_£c
 > 
b2
.st_mtimespec.tv_sec)

582 ià(
b1
.
¡_mtime¥ec
.
tv_£c
 < 
b2
.st_mtimespec.tv_sec)

585  (
b1
.
¡_mtime¥ec
.
tv_n£c
 > 
b2
.st_mtimespec.tv_nsec);

586 
	}
}

589 
	$Şd”f
 (cÚ¡ *
f1
, cÚ¡ *
f2
)

591  (
	`Ãw”f
(
f2
, 
f1
));

592 
	}
}

595 
	$equ®f
 (cÚ¡ *
f1
, cÚ¡ *
f2
)

597 
¡©
 
b1
, 
b2
;

599  (
	`¡©
 (
f1
, &
b1
) == 0 &&

600 
	`¡©
 (
f2
, &
b2
) == 0 &&

601 
b1
.
¡_dev
 =ğ
b2
.st_dev &&

602 
b1
.
¡_šo
 =ğ
b2
.st_ino);

603 
	}
}

	@uuidgen/uuidgen.c

28 
	~<sys/cdefs.h
>

29 
__FBSDID
("$FreeBSD: src/bin/uuidgen/uuidgen.c,v 1.3.30.1.8.1 2012/03/03 06:15:13 kensmith Exp $");

31 
	~<”r.h
>

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<uni¡d.h
>

35 
	~<uuid.h
>

38 
	$u§ge
()

40 ()
	`årštf
(
¡d”r
, "usage: uuidgen [-1] [-n count] [-o filename]\n");

41 
	`ex™
(1);

42 
	}
}

45 
	$maš
(
¬gc
, *
¬gv
[])

47 
FILE
 *
å
;

48 
uuid_t
 *
¡Üe
, *
uuid
;

49 *
p
;

50 
ch
, 
couÁ
, 
i
, 
™”©e
;

52 
couÁ
 = -1;

53 
å
 = 
¡dout
;

54 
™”©e
 = 0;

55 (
ch
 = 
	`g‘İt
(
¬gc
, 
¬gv
, "1n:o:")) != -1)

56 
ch
) {

58 
™”©e
 = 1;

61 ià(
couÁ
 > 0)

62 
	`u§ge
();

63 
couÁ
 = 
	`¡¹Ş
(
İrg
, &
p
, 10);

64 ià(*
p
 !ğ0 || 
couÁ
 < 1)

65 
	`u§ge
();

68 ià(
å
 !ğ
¡dout
)

69 
	`”rx
(1, "multiple output files‚ot‡llowed");

70 
å
 = 
	`fİ’
(
İrg
, "w");

71 ià(
å
 =ğ
NULL
)

72 
	`”r
(1, "fopen");

75 
	`u§ge
();

77 
¬gv
 +ğ
İtšd
;

78 
¬gc
 -ğ
İtšd
;

80 ià(
¬gc
)

81 
	`u§ge
();

83 ià(
couÁ
 == -1)

84 
couÁ
 = 1;

86 
¡Üe
 = (
uuid_t
*)
	`m®loc
((uuid_tè* 
couÁ
);

87 ià(
¡Üe
 =ğ
NULL
)

88 
	`”r
(1, "malloc()");

90 ià(!
™”©e
) {

92 ià(
	`uuidg’
(
¡Üe
, 
couÁ
) != 0)

93 
	`”r
(1, "uuidgen()");

95 
uuid
 = 
¡Üe
;

96 
i
 = 0; i < 
couÁ
; i++) {

97 ià(
	`uuidg’
(
uuid
++, 1) != 0)

98 
	`”r
(1, "uuidgen()");

102 
uuid
 = 
¡Üe
;

103 
couÁ
--) {

104 
	`uuid_to_¡ršg
(
uuid
++, &
p
, 
NULL
);

105 
	`årštf
(
å
, "%s\n", 
p
);

106 
	`ä“
(
p
);

109 
	`ä“
(
¡Üe
);

110 ià(
å
 !ğ
¡dout
)

111 
	`fşo£
(
å
);

113 
	}
}

	@/usr/include/alias.h

39 #iâdeà
_ALIAS_H_


40 
	#_ALIAS_H_


	)

42 
	~<Ãtš‘/š_sy¡m.h
>

43 
	~<Ãtš‘/š.h
>

44 
	~<Ãtš‘/.h
>

46 
	#LIBALIAS_BUF_SIZE
 128

	)

47 #ifdef 
_KERNEL


51 
	#NO_FW_PUNCH


	)

52 
	#NO_USE_SOCKETS


	)

74 
	glib®Ÿs
;

82 
	g®Ÿs_lšk
;

85 
lib®Ÿs
 *
LibAlŸsIn™
(libalias *);

86 
LibAlŸsS‘Add»ss
(
lib®Ÿs
 *, 
š_addr
 
_addr
);

87 
LibAlŸsS‘FWBa£
(
lib®Ÿs
 *, 
_ba£
, 
_num
);

88 
LibAlŸsS‘SkšnyPÜt
(
lib®Ÿs
 *, 
_pÜt
);

90 
LibAlŸsS‘Mode
(
lib®Ÿs
 *, 
_æags
, 
_mask
);

91 
LibAlŸsUnš™
(
lib®Ÿs
 *);

94 
LibAlŸsIn
 (
lib®Ÿs
 *, *
_±r
, 
_max·ck‘size
);

95 
LibAlŸsOut
(
lib®Ÿs
 *, *
_±r
, 
_max·ck‘size
);

96 
LibAlŸsOutTry
(
lib®Ÿs
 *, *
_±r
, 
_max·ck‘size
, 
_ü—‹
);

97 
LibAlŸsUÇlŸsOut
(
lib®Ÿs
 *, *
_±r
, 
_max·ck‘size
);

102 
LibAlŸsAddS”v”
(
lib®Ÿs
 *, 
®Ÿs_lšk
 *
_Êk
,

103 
š_addr
 
_addr
, 
_pÜt
);

104 
®Ÿs_lšk
 *

105 
LibAlŸsRedœeùAddr
(
lib®Ÿs
 *, 
š_addr
 
_¤c_addr
,

106 
š_addr
 
_®Ÿs_addr
);

107 
LibAlŸsRedœeùDyÇmic
(
lib®Ÿs
 *, 
®Ÿs_lšk
 *
_Êk
);

108 
LibAlŸsRedœeùD–‘e
(
lib®Ÿs
 *, 
®Ÿs_lšk
 *
_Êk
);

109 
®Ÿs_lšk
 *

110 
LibAlŸsRedœeùPÜt
(
lib®Ÿs
 *, 
š_addr
 
_¤c_addr
,

111 
_¤c_pÜt
, 
š_addr
 
_d¡_addr
,

112 
_d¡_pÜt
, 
š_addr
 
_®Ÿs_addr
,

113 
_®Ÿs_pÜt
, 
_´Ùo
);

114 
®Ÿs_lšk
 *

115 
LibAlŸsRedœeùPrÙo
(
lib®Ÿs
 *, 
š_addr
 
_¤c_addr
,

116 
š_addr
 
_d¡_addr
, š_add¸
_®Ÿs_addr
,

117 
_´Ùo
);

120 
LibAlŸsF¿gm’tIn
(
lib®Ÿs
 *, *
_±r
, *
_±r_äagm’t
);

121 *
LibAlŸsG‘F¿gm’t
(
lib®Ÿs
 *, *
_±r
);

122 
LibAlŸsSaveF¿gm’t
(
lib®Ÿs
 *, *
_±r
);

125 
LibAlŸsCheckNewLšk
(
lib®Ÿs
 *);

127 
LibAlŸsIÁ”ÃtChecksum
(
lib®Ÿs
 *, *
_±r
, 
_nby‹s
);

128 
LibAlŸsS‘T¬g‘
(
lib®Ÿs
 *, 
š_addr
 
_rg‘_addr
);

131 
LibAlŸsProxyRuË
(
lib®Ÿs
 *, cÚ¡ *
_cmd
);

134 
LibAlŸsLßdModuË
(*);

135 
LibAlŸsUnLßdAÎModuË
();

136 
LibAlŸsReäeshModuËs
();

139 
mbuf
 *
m_meg­uÎup
(mbuf *, );

152 
	#PKT_ALIAS_LOG
 0x01

	)

158 
	#PKT_ALIAS_DENY_INCOMING
 0x02

	)

167 
	#PKT_ALIAS_SAME_PORTS
 0x04

	)

177 #iâdef 
NO_USE_SOCKETS


178 
	#PKT_ALIAS_USE_SOCKETS
 0x08

	)

189 
	#PKT_ALIAS_UNREGISTERED_ONLY
 0x10

	)

198 
	#PKT_ALIAS_RESET_ON_ADDR_CHANGE
 0x20

	)

200 #iâdeà
NO_FW_PUNCH


208 
	#PKT_ALIAS_PUNCH_FW
 0x100

	)

215 
	#PKT_ALIAS_PROXY_ONLY
 0x40

	)

221 
	#PKT_ALIAS_REVERSE
 0x80

	)

227 
	#PKT_ALIAS_SKIP_GLOBAL
 0x200

	)

230 
	#PKT_ALIAS_ERROR
 -1

	)

231 
	#PKT_ALIAS_OK
 1

	)

232 
	#PKT_ALIAS_IGNORED
 2

	)

233 
	#PKT_ALIAS_UNRESOLVED_FRAGMENT
 3

	)

234 
	#PKT_ALIAS_FOUND_HEADER_FRAGMENT
 4

	)

	@/usr/include/assert.h

42 
	~<sys/cdefs.h
>

49 #undeà
as£¹


50 #undeà
_as£¹


52 #ifdeà
NDEBUG


53 
	#as£¹
(
e
è(()0)

	)

54 
	#_as£¹
(
e
è(()0)

	)

56 
	#_as£¹
(
e
è
	`as£¹
Ó)

	)

58 
	#as£¹
(
e
è(Óè? ()0 : 
	`__as£¹
(
__func__
, 
__FILE__
, \

59 
__LINE__
, #e))

	)

62 #iâdeà
_ASSERT_H_


63 
	#_ASSERT_H_


	)

64 
__BEGIN_DECLS


65 
	$__as£¹
(cÚ¡ *, cÚ¡ *, , cÚ¡ *è
__d—d2
;

66 
__END_DECLS


	@/usr/include/cpio.h

29 #iâdeà
_CPIO_H_


30 
	#_CPIO_H_


	)

32 
	#C_ISSOCK
 0140000

	)

33 
	#C_ISLNK
 0120000

	)

34 
	#C_ISCTG
 0110000

	)

35 
	#C_ISREG
 0100000

	)

36 
	#C_ISBLK
 0060000

	)

37 
	#C_ISDIR
 0040000

	)

38 
	#C_ISCHR
 0020000

	)

39 
	#C_ISFIFO
 0010000

	)

40 
	#C_ISUID
 0004000

	)

41 
	#C_ISGID
 0002000

	)

42 
	#C_ISVTX
 0001000

	)

43 
	#C_IRUSR
 0000400

	)

44 
	#C_IWUSR
 0000200

	)

45 
	#C_IXUSR
 0000100

	)

46 
	#C_IRGRP
 0000040

	)

47 
	#C_IWGRP
 0000020

	)

48 
	#C_IXGRP
 0000010

	)

49 
	#C_IROTH
 0000004

	)

50 
	#C_IWOTH
 0000002

	)

51 
	#C_IXOTH
 0000001

	)

53 
	#MAGIC
 "070707"

	)

	@/usr/include/ctype.h

45 #iâdeà
_CTYPE_H_


46 
	#_CTYPE_H_


	)

48 
	~<sys/cdefs.h
>

49 
	~<sys/_ty³s.h
>

50 
	~<_ùy³.h
>

52 
__BEGIN_DECLS


53 
i§Êum
();

54 
i§Íha
();

55 
isúŒl
();

56 
isdig™
();

57 
isg¿ph
();

58 
i¦ow”
();

59 
i¥ršt
();

60 
i¥unù
();

61 
is¥aû
();

62 
isuµ”
();

63 
isxdig™
();

64 
tŞow”
();

65 
touµ”
();

67 #ià
__XSI_VISIBLE


68 
i§scii
();

69 
tßscii
();

72 #ià
__ISO_C_VISIBLE
 >= 1999

73 
isbÏnk
();

76 #ià
__BSD_VISIBLE


77 
dig™tošt
();

78 
ishexnumb”
();

79 
isideog¿m
();

80 
i¢umb”
();

81 
i¥hÚog¿m
();

82 
i¤uÃ
();

83 
is¥ecŸl
();

85 
	g__END_DECLS


87 
	#i§Êum
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_A
|
_CTYPE_D
)

	)

88 
	#i§Íha
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_A
)

	)

89 
	#isúŒl
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_C
)

	)

90 
	#isdig™
(
c
è
	`__isùy³
((c), 
_CTYPE_D
è

	)

91 
	#isg¿ph
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_G
)

	)

92 
	#i¦ow”
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_L
)

	)

93 
	#i¥ršt
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_R
)

	)

94 
	#i¥unù
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_P
)

	)

95 
	#is¥aû
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_S
)

	)

96 
	#isuµ”
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_U
)

	)

97 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_CTYPE_X
è

	)

98 
	#tŞow”
(
c
è
	`__sbtŞow”
(c)

	)

99 
	#touµ”
(
c
è
	`__sbtouµ”
(c)

	)

101 #ià
__XSI_VISIBLE


113 
	#_tŞow”
(
c
è
	`__sbtŞow”
(c)

	)

114 
	#_touµ”
(
c
è
	`__sbtouµ”
(c)

	)

115 
	#i§scii
(
c
è(((cè& ~0x7Fè=ğ0)

	)

116 
	#tßscii
(
c
è((cè& 0x7F)

	)

119 #ià
__ISO_C_VISIBLE
 >= 1999

120 
	#isbÏnk
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_B
)

	)

123 #ià
__BSD_VISIBLE


124 
	#dig™tošt
(
c
è
	`__sbmaskruÃ
((c), 0xFF)

	)

125 
	#ishexnumb”
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_X
)

	)

126 
	#isideog¿m
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_I
)

	)

127 
	#i¢umb”
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_D
)

	)

128 
	#i¥hÚog¿m
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_Q
)

	)

129 
	#i¤uÃ
(
c
è
	`__sbi¡y³
((c), 0xFFFFFF00L)

	)

130 
	#is¥ecŸl
(
c
è
	`__sbi¡y³
((c), 
_CTYPE_T
)

	)

	@/usr/include/dirent.h

37 #iâdeà
_DIRENT_H_


38 
	#_DIRENT_H_


	)

44 
	~<sys/cdefs.h
>

45 
	~<sys/dœ’t.h
>

47 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE


52 
	#d_šo
 
d_f’o


	)

55 #ià
__BSD_VISIBLE


57 
	~<sys/_nuÎ.h
>

60 
	#DIRBLKSIZ
 1024

	)

62 
	g_‹Îdœ
;

63 
	g±h»ad_mu‹x
;

66 
	s_dœdesc
 {

67 
	mdd_fd
;

68 
	mdd_loc
;

69 
	mdd_size
;

70 *
	mdd_buf
;

71 
	mdd_Ën
;

72 
	mdd_£ek
;

73 
	mdd_»wšd
;

74 
	mdd_æags
;

75 
±h»ad_mu‹x
 *
	mdd_lock
;

76 
_‹Îdœ
 *
	mdd_td
;

77 } 
	tDIR
;

79 
	#dœfd
(
dœp
è((dœp)->
dd_fd
)

	)

82 
	#DTF_HIDEW
 0x0001

	)

83 
	#DTF_NODUP
 0x0002

	)

84 
	#DTF_REWIND
 0x0004

	)

85 
	#__DTF_READALL
 0x0008

	)

89 * 
	tDIR
;

93 #iâdeà
_KERNEL


95 
	g__BEGIN_DECLS


96 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__XSI_VISIBLE
 >= 700

97 
®phasÜt
(cÚ¡ 
dœ’t
 **, const dirent **);

99 #ià
__BSD_VISIBLE


100 
DIR
 *
__İ’dœ2
(const *, );

101 
g‘d’ts
(, *, );

102 
g‘dœ’Œ›s
(, *, , *);

104 
DIR
 *
İ’dœ
(const *);

105 
DIR
 *
fdİ’dœ
();

106 
dœ’t
 *

107 
»addœ
(
DIR
 *);

108 #ià
__POSIX_VISIBLE
 >ğ199506 || 
__XSI_VISIBLE
 >= 500

109 
»addœ_r
(
DIR
 *, 
dœ’t
 *, dirent **);

111 
»wšddœ
(
DIR
 *);

112 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__XSI_VISIBLE
 >= 700

113 
sÿndœ
(cÚ¡ *, 
dœ’t
 ***,

114 (*)(cÚ¡ 
dœ’t
 *), (*)(const dirent **,

115 cÚ¡ 
dœ’t
 **));

117 #ià
__XSI_VISIBLE


118 
	`£ekdœ
(
DIR
 *, );

119 
	`‹Îdœ
(
DIR
 *);

121 
	`şo£dœ
(
DIR
 *);

122 
__END_DECLS


	@/usr/include/dlfcn.h

36 #iâdeà
_DLFCN_H_


37 
	#_DLFCN_H_


	)

39 
	~<sys/_ty³s.h
>

44 
	#RTLD_LAZY
 1

	)

45 
	#RTLD_NOW
 2

	)

46 
	#RTLD_MODEMASK
 0x3

	)

47 
	#RTLD_GLOBAL
 0x100

	)

48 
	#RTLD_LOCAL
 0

	)

49 
	#RTLD_TRACE
 0x200

	)

50 
	#RTLD_NODELETE
 0x01000

	)

51 
	#RTLD_NOLOAD
 0x02000

	)

56 
	#RTLD_DI_LINKMAP
 2

	)

57 
	#RTLD_DI_SERINFO
 4

	)

58 
	#RTLD_DI_SERINFOSIZE
 5

	)

59 
	#RTLD_DI_ORIGIN
 6

	)

60 
	#RTLD_DI_MAX
 
RTLD_DI_ORIGIN


	)

65 
	#RTLD_NEXT
 ((*è-1è

	)

66 
	#RTLD_DEFAULT
 ((*è-2è

	)

67 
	#RTLD_SELF
 ((*è-3è

	)

69 #ià
__BSD_VISIBLE


71 #iâdef 
_SIZE_T_DECLARED


72 
__size_t
 
	tsize_t
;

73 
	#_SIZE_T_DECLARED


	)

79 
	sdl_šfo
 {

80 cÚ¡ *
	mdli_âame
;

81 *
	mdli_fba£
;

82 cÚ¡ *
	mdli_¢ame
;

83 *
	mdli_§ddr
;

84 } 
	tDl_šfo
;

95 
	s__dlfunc_¬g
 {

96 
	m__dlfunc_dummy
;

99 (*
	tdlfunc_t
)(
	t__dlfunc_¬g
);

104 
	sdl_£½©h
 {

105 * 
dls_Çme
;

106 
dls_æags
;

107 } 
	tDl_£½©h
;

109 
	sdl_£ršfo
 {

110 
size_t
 
dls_size
;

111 
dls_út
;

112 
Dl_£½©h
 
dls_£½©h
[1];

113 } 
	tDl_£ršfo
;

117 
__BEGIN_DECLS


119 
	`dlşo£
(*);

120 *
	`dË¼Ü
();

121 *
	`dlİ’
(const *, );

122 *
	`dlsym
(* 
__»¡riù
, const * __restrict);

124 #ià
__BSD_VISIBLE


125 
	`dÏddr
(cÚ¡ * 
__»¡riù
, 
Dl_šfo
 * __restrict);

126 
dlfunc_t
 
	`dlfunc
(* 
__»¡riù
, const * __restrict);

127 
	`dlšfo
(* 
__»¡riù
, , * __restrict);

128 
	`dÎockš™
(*
_cÚ‹xt
,

129 *(*
_lock_ü—‹
)(*
_cÚ‹xt
),

130 (*
_¾ock_acquœe
)(*
_lock
),

131 (*
_wlock_acquœe
)(*
_lock
),

132 (*
_lock_»Ëa£
)(*
_lock
),

133 (*
_lock_de¡roy
)(*
_lock
),

134 (*
_cÚ‹xt_de¡roy
)(*
_cÚ‹xt
));

135 *
	`dlvsym
(* 
__»¡riù
, const * __restrict,

136 cÚ¡ * 
__»¡riù
);

138 
__END_DECLS


	@/usr/include/err.h

37 #iâdeà
_ERR_H_


38 
	#_ERR_H_


	)

47 
	~<sys/cdefs.h
>

48 
	~<sys/_ty³s.h
>

50 
__BEGIN_DECLS


51 
	$”r
(, cÚ¡ *, ...è
__d—d2
 
	`__´štf0like
(2, 3);

52 
	$v”r
(, cÚ¡ *, 
__va_li¡
è
__d—d2
 
	`__´štf0like
(2, 0);

53 
	$”rc
(, , cÚ¡ *, ...è
__d—d2
 
	`__´štf0like
(3, 4);

54 
	$v”rc
(, , cÚ¡ *, 
__va_li¡
è
__d—d2


55 
	`__´štf0like
(3, 0);

56 
	$”rx
(, cÚ¡ *, ...è
__d—d2
 
	`__´štf0like
(2, 3);

57 
	$v”rx
(, cÚ¡ *, 
__va_li¡
è
__d—d2
 
	`__´štf0like
(2, 0);

58 
	$w¬n
(cÚ¡ *, ...è
	`__´štf0like
(1, 2);

59 
	$vw¬n
(cÚ¡ *, 
__va_li¡
è
	`__´štf0like
(1, 0);

60 
	$w¬nc
(, cÚ¡ *, ...è
	`__´štf0like
(2, 3);

61 
	$vw¬nc
(, cÚ¡ *, 
__va_li¡
è
	`__´štf0like
(2, 0);

62 
	$w¬nx
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

63 
	$vw¬nx
(cÚ¡ *, 
__va_li¡
è
	`__´štæike
(1, 0);

64 
	`”r_£t_fe
(*);

65 
	`”r_£t_ex™
((*)());

66 
__END_DECLS


	@/usr/include/errno.h

38 #iâdeà
_SYS_ERRNO_H_


39 
	#_SYS_ERRNO_H_


	)

41 #iâdeà
_KERNEL


42 
	~<sys/cdefs.h
>

43 
__BEGIN_DECLS


44 * 
__”rÜ
();

45 
	g__END_DECLS


46 
	#”ºo
 (* 
	`__”rÜ
())

	)

49 
	#EPERM
 1

	)

50 
	#ENOENT
 2

	)

51 
	#ESRCH
 3

	)

52 
	#EINTR
 4

	)

53 
	#EIO
 5

	)

54 
	#ENXIO
 6

	)

55 
	#E2BIG
 7

	)

56 
	#ENOEXEC
 8

	)

57 
	#EBADF
 9

	)

58 
	#ECHILD
 10

	)

59 
	#EDEADLK
 11

	)

61 
	#ENOMEM
 12

	)

62 
	#EACCES
 13

	)

63 
	#EFAULT
 14

	)

64 #iâdeà
_POSIX_SOURCE


65 
	#ENOTBLK
 15

	)

67 
	#EBUSY
 16

	)

68 
	#EEXIST
 17

	)

69 
	#EXDEV
 18

	)

70 
	#ENODEV
 19

	)

71 
	#ENOTDIR
 20

	)

72 
	#EISDIR
 21

	)

73 
	#EINVAL
 22

	)

74 
	#ENFILE
 23

	)

75 
	#EMFILE
 24

	)

76 
	#ENOTTY
 25

	)

77 #iâdeà
_POSIX_SOURCE


78 
	#ETXTBSY
 26

	)

80 
	#EFBIG
 27

	)

81 
	#ENOSPC
 28

	)

82 
	#ESPIPE
 29

	)

83 
	#EROFS
 30

	)

84 
	#EMLINK
 31

	)

85 
	#EPIPE
 32

	)

88 
	#EDOM
 33

	)

89 
	#ERANGE
 34

	)

92 
	#EAGAIN
 35

	)

93 #iâdeà
_POSIX_SOURCE


94 
	#EWOULDBLOCK
 
EAGAIN


	)

95 
	#EINPROGRESS
 36

	)

96 
	#EALREADY
 37

	)

99 
	#ENOTSOCK
 38

	)

100 
	#EDESTADDRREQ
 39

	)

101 
	#EMSGSIZE
 40

	)

102 
	#EPROTOTYPE
 41

	)

103 
	#ENOPROTOOPT
 42

	)

104 
	#EPROTONOSUPPORT
 43

	)

105 
	#ESOCKTNOSUPPORT
 44

	)

106 
	#EOPNOTSUPP
 45

	)

107 
	#ENOTSUP
 
EOPNOTSUPP


	)

108 
	#EPFNOSUPPORT
 46

	)

109 
	#EAFNOSUPPORT
 47

	)

110 
	#EADDRINUSE
 48

	)

111 
	#EADDRNOTAVAIL
 49

	)

114 
	#ENETDOWN
 50

	)

115 
	#ENETUNREACH
 51

	)

116 
	#ENETRESET
 52

	)

117 
	#ECONNABORTED
 53

	)

118 
	#ECONNRESET
 54

	)

119 
	#ENOBUFS
 55

	)

120 
	#EISCONN
 56

	)

121 
	#ENOTCONN
 57

	)

122 
	#ESHUTDOWN
 58

	)

123 
	#ETOOMANYREFS
 59

	)

124 
	#ETIMEDOUT
 60

	)

125 
	#ECONNREFUSED
 61

	)

127 
	#ELOOP
 62

	)

129 
	#ENAMETOOLONG
 63

	)

132 #iâdeà
_POSIX_SOURCE


133 
	#EHOSTDOWN
 64

	)

134 
	#EHOSTUNREACH
 65

	)

136 
	#ENOTEMPTY
 66

	)

139 #iâdeà
_POSIX_SOURCE


140 
	#EPROCLIM
 67

	)

141 
	#EUSERS
 68

	)

142 
	#EDQUOT
 69

	)

145 
	#ESTALE
 70

	)

146 
	#EREMOTE
 71

	)

147 
	#EBADRPC
 72

	)

148 
	#ERPCMISMATCH
 73

	)

149 
	#EPROGUNAVAIL
 74

	)

150 
	#EPROGMISMATCH
 75

	)

151 
	#EPROCUNAVAIL
 76

	)

154 
	#ENOLCK
 77

	)

155 
	#ENOSYS
 78

	)

157 #iâdeà
_POSIX_SOURCE


158 
	#EFTYPE
 79

	)

159 
	#EAUTH
 80

	)

160 
	#ENEEDAUTH
 81

	)

161 
	#EIDRM
 82

	)

162 
	#ENOMSG
 83

	)

163 
	#EOVERFLOW
 84

	)

164 
	#ECANCELED
 85

	)

165 
	#EILSEQ
 86

	)

166 
	#ENOATTR
 87

	)

168 
	#EDOOFUS
 88

	)

171 
	#EBADMSG
 89

	)

172 
	#EMULTIHOP
 90

	)

173 
	#ENOLINK
 91

	)

174 
	#EPROTO
 92

	)

176 #iâdeà
_POSIX_SOURCE


177 
	#ENOTCAPABLE
 93

	)

180 #iâdeà
_POSIX_SOURCE


181 
	#ELAST
 93

	)

184 #ifdeà
_KERNEL


186 
	#ERESTART
 (-1è

	)

187 
	#EJUSTRETURN
 (-2è

	)

188 
	#ENOIOCTL
 (-3è

	)

189 
	#EDIRIOCTL
 (-4è

	)

	@/usr/include/fcntl.h

38 #iâdeà
_SYS_FCNTL_H_


39 
	#_SYS_FCNTL_H_


	)

47 
	~<sys/cdefs.h
>

48 
	~<sys/_ty³s.h
>

50 #iâdeà
_MODE_T_DECLARED


51 
__mode_t
 
	tmode_t
;

52 
	#_MODE_T_DECLARED


	)

55 #iâdeà
_OFF_T_DECLARED


56 
__off_t
 
	toff_t
;

57 
	#_OFF_T_DECLARED


	)

60 #iâdeà
_PID_T_DECLARED


61 
__pid_t
 
	tpid_t
;

62 
	#_PID_T_DECLARED


	)

73 
	#O_RDONLY
 0x0000

	)

74 
	#O_WRONLY
 0x0001

	)

75 
	#O_RDWR
 0x0002

	)

76 
	#O_ACCMODE
 0x0003

	)

86 #ià
__BSD_VISIBLE


87 
	#FREAD
 0x0001

	)

88 
	#FWRITE
 0x0002

	)

90 
	#O_NONBLOCK
 0x0004

	)

91 
	#O_APPEND
 0x0008

	)

92 #ià
__BSD_VISIBLE


93 
	#O_SHLOCK
 0x0010

	)

94 
	#O_EXLOCK
 0x0020

	)

95 
	#O_ASYNC
 0x0040

	)

96 
	#O_FSYNC
 0x0080

	)

98 
	#O_SYNC
 0x0080

	)

99 #ià
__BSD_VISIBLE


100 
	#O_NOFOLLOW
 0x0100

	)

102 
	#O_CREAT
 0x0200

	)

103 
	#O_TRUNC
 0x0400

	)

104 
	#O_EXCL
 0x0800

	)

105 #ifdeà
_KERNEL


106 
	#FHASLOCK
 0x4000

	)

110 
	#O_NOCTTY
 0x8000

	)

112 #ià
__BSD_VISIBLE


114 
	#O_DIRECT
 0x00010000

	)

118 #ià
__BSD_VISIBLE


119 
	#O_DIRECTORY
 0x00020000

	)

120 
	#O_EXEC
 0x00040000

	)

122 #ifdef 
_KERNEL


123 
	#FEXEC
 
O_EXEC


	)

126 #ià
__POSIX_VISIBLE
 >= 200809

128 
	#O_TTY_INIT
 0x00080000

	)

130 
	#O_CLOEXEC
 0x00100000

	)

137 #ifdeà
_KERNEL


139 
	#FFLAGS
(
oæags
è((oæagsè+ 1)

	)

140 
	#OFLAGS
(
fæags
è((fæagsè- 1)

	)

143 
	#FMASK
 (
FREAD
|
FWRITE
|
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
O_DIRECT
|
FEXEC
)

	)

145 
	#FCNTLFLAGS
 (
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
FRDAHEAD
|
O_DIRECT
)

	)

147 #ià
defšed
(
COMPAT_FREEBSD7
è|| defšed(
COMPAT_FREEBSD6
) || \

148 
defšed
(
COMPAT_FREEBSD5
è|| 
	$defšed
(
COMPAT_FREEBSD4
)

154 
	#FPOSIXSHM
 
O_NOFOLLOW


	)

155 #undeà
FCNTLFLAGS


156 
	#FCNTLFLAGS
 (
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
FPOSIXSHM
|
FRDAHEAD
| \

157 
O_DIRECT
)

	)

166 #ià
__BSD_VISIBLE


167 
	#FAPPEND
 
O_APPEND


	)

168 
	#FASYNC
 
O_ASYNC


	)

169 
	#FFSYNC
 
O_FSYNC


	)

170 
	#FNONBLOCK
 
O_NONBLOCK


	)

171 
	#FNDELAY
 
O_NONBLOCK


	)

172 
	#O_NDELAY
 
O_NONBLOCK


	)

181 #ià
__BSD_VISIBLE


183 
	#FRDAHEAD
 
O_CREAT


	)

187 #ià
__BSD_VISIBLE


193 
	#AT_FDCWD
 -100

	)

198 
	#AT_EACCESS
 0x100

	)

199 
	#AT_SYMLINK_NOFOLLOW
 0x200

	)

200 
	#AT_SYMLINK_FOLLOW
 0x400

	)

201 
	#AT_REMOVEDIR
 0x800

	)

209 
	#F_DUPFD
 0

	)

210 
	#F_GETFD
 1

	)

211 
	#F_SETFD
 2

	)

212 
	#F_GETFL
 3

	)

213 
	#F_SETFL
 4

	)

214 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

215 
	#F_GETOWN
 5

	)

216 
	#F_SETOWN
 6

	)

218 
	#F_OGETLK
 7

	)

219 
	#F_OSETLK
 8

	)

220 
	#F_OSETLKW
 9

	)

221 
	#F_DUP2FD
 10

	)

222 
	#F_GETLK
 11

	)

223 
	#F_SETLK
 12

	)

224 
	#F_SETLKW
 13

	)

225 
	#F_SETLK_REMOTE
 14

	)

226 
	#F_READAHEAD
 15

	)

227 
	#F_RDAHEAD
 16

	)

230 
	#FD_CLOEXEC
 1

	)

233 
	#F_RDLCK
 1

	)

234 
	#F_UNLCK
 2

	)

235 
	#F_WRLCK
 3

	)

236 
	#F_UNLCKSYS
 4

	)

237 
	#F_CANCEL
 5

	)

238 #ifdeà
_KERNEL


239 
	#F_WAIT
 0x010

	)

240 
	#F_FLOCK
 0x020

	)

241 
	#F_POSIX
 0x040

	)

242 
	#F_REMOTE
 0x080

	)

243 
	#F_NOINTR
 0x100

	)

250 
	sæock
 {

251 
off_t
 
l_¡¬t
;

252 
off_t
 
l_Ën
;

253 
pid_t
 
l_pid
;

254 
l_ty³
;

255 
l_wh’û
;

256 
l_sysid
;

263 
	soæock
 {

264 
off_t
 
l_¡¬t
;

265 
off_t
 
l_Ën
;

266 
pid_t
 
l_pid
;

267 
l_ty³
;

268 
l_wh’û
;

272 #ià
__BSD_VISIBLE


274 
	#LOCK_SH
 0x01

	)

275 
	#LOCK_EX
 0x02

	)

276 
	#LOCK_NB
 0x04

	)

277 
	#LOCK_UN
 0x08

	)

280 #ià
__POSIX_VISIBLE
 >= 200112

284 
	#POSIX_FADV_NORMAL
 0

	)

285 
	#POSIX_FADV_RANDOM
 1

	)

286 
	#POSIX_FADV_SEQUENTIAL
 2

	)

287 
	#POSIX_FADV_WILLNEED
 3

	)

288 
	#POSIX_FADV_DONTNEED
 4

	)

289 
	#POSIX_FADV_NOREUSE
 5

	)

292 #iâdeà
_KERNEL


293 
__BEGIN_DECLS


294 
	`İ’
(const *, , ...);

295 
	`ü—t
(cÚ¡ *, 
mode_t
);

296 
	`fú
(, , ...);

297 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

298 
	`İ’©
(, const *, , ...);

300 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

301 
	`posix_çdvi£
(, 
off_t
, off_t, );

302 
	`posix_çÎoÿ‹
(, 
off_t
, off_t);

304 #ià
__BSD_VISIBLE


305 
	`æock
(, );

307 
__END_DECLS


	@/usr/include/fts.h

37 #iâdef 
_FTS_H_


38 
	#_FTS_H_


	)

41 
_á£Á
 *
	más_cur
;

42 
_á£Á
 *
	más_chd
;

43 
_á£Á
 **
	más_¬¿y
;

44 
dev_t
 
	más_dev
;

45 *
	más_·th
;

46 
	más_rfd
;

47 
size_t
 
	más_·thËn
;

48 
size_t
 
	más_n™ems
;

49 (*
	más_com·r
)

50 (cÚ¡ 
_á£Á
 * const *, const _ftsent * const *);

52 
	#FTS_COMFOLLOW
 0x001

	)

53 
	#FTS_LOGICAL
 0x002

	)

54 
	#FTS_NOCHDIR
 0x004

	)

55 
	#FTS_NOSTAT
 0x008

	)

56 
	#FTS_PHYSICAL
 0x010

	)

57 
	#FTS_SEEDOT
 0x020

	)

58 
	#FTS_XDEV
 0x040

	)

59 
	#FTS_WHITEOUT
 0x080

	)

60 
	#FTS_OPTIONMASK
 0x0fà

	)

62 
	#FTS_NAMEONLY
 0x100

	)

63 
	#FTS_STOP
 0x200

	)

64 
	más_İtiÚs
;

65 *
	más_ş›Á±r
;

66 } 
	tFTS
;

68 
	s_á£Á
 {

69 
_á£Á
 *
	más_cyşe
;

70 
_á£Á
 *
	más_·»Á
;

71 
_á£Á
 *
	más_lšk
;

72 
	más_numb”
;

73 
	#ás_bignum
 
ás_numb”


	)

74 *
	más_poš‹r
;

75 *
	más_acı©h
;

76 *
	más_·th
;

77 
	más_”ºo
;

78 
	más_symfd
;

79 
size_t
 
	más_·thËn
;

80 
size_t
 
	más_Çm–’
;

82 
šo_t
 
	más_šo
;

83 
dev_t
 
	más_dev
;

84 
Æšk_t
 
	más_Æšk
;

86 
	#FTS_ROOTPARENTLEVEL
 -1

	)

87 
	#FTS_ROOTLEVEL
 0

	)

88 
	más_Ëv–
;

90 
	#FTS_D
 1

	)

91 
	#FTS_DC
 2

	)

92 
	#FTS_DEFAULT
 3

	)

93 
	#FTS_DNR
 4

	)

94 
	#FTS_DOT
 5

	)

95 
	#FTS_DP
 6

	)

96 
	#FTS_ERR
 7

	)

97 
	#FTS_F
 8

	)

98 
	#FTS_INIT
 9

	)

99 
	#FTS_NS
 10

	)

100 
	#FTS_NSOK
 11

	)

101 
	#FTS_SL
 12

	)

102 
	#FTS_SLNONE
 13

	)

103 
	#FTS_W
 14

	)

104 
	más_šfo
;

106 
	#FTS_DONTCHDIR
 0x01

	)

107 
	#FTS_SYMFOLLOW
 0x02

	)

108 
	#FTS_ISW
 0x04

	)

109 
	más_æags
;

111 
	#FTS_AGAIN
 1

	)

112 
	#FTS_FOLLOW
 2

	)

113 
	#FTS_NOINSTR
 3

	)

114 
	#FTS_SKIP
 4

	)

115 
	más_š¡r
;

117 
¡©
 *
	más_¡©p
;

118 *
	más_Çme
;

119 
FTS
 *
	más_ás
;

120 } 
	tFTSENT
;

122 
	~<sys/cdefs.h
>

124 
__BEGIN_DECLS


125 
FTSENT
 *
ás_chd»n
(
FTS
 *, );

126 
ás_şo£
(
FTS
 *);

127 *
ás_g‘_ş›Á±r
(
FTS
 *);

128 
	#ás_g‘_ş›Á±r
(
ás
è((ás)->
ás_ş›Á±r
)

	)

129 
FTS
 *
ás_g‘_¡»am
(
FTSENT
 *);

130 
	#ás_g‘_¡»am
(
á£Á
è((á£Á)->
ás_ás
)

	)

131 
FTS
 *
ás_İ’
(* const *, ,

132 (*)(cÚ¡ 
FTSENT
 * const *, const FTSENT * const *));

133 
FTSENT
 *
	`ás_»ad
(
FTS
 *);

134 
	`ás_£t
(
FTS
 *, 
FTSENT
 *, );

135 
	`ás_£t_ş›Á±r
(
FTS
 *, *);

136 
__END_DECLS


	@/usr/include/grp.h

42 #iâdeà
_GRP_H_


43 
	#_GRP_H_


	)

45 
	~<sys/cdefs.h
>

46 
	~<sys/_ty³s.h
>

48 
	#_PATH_GROUP
 "/‘c/group"

	)

50 #iâdeà
_GID_T_DECLARED


51 
__gid_t
 
	tgid_t
;

52 
	#_GID_T_DECLARED


	)

55 #iâdeà
_SIZE_T_DECLARED


56 
__size_t
 
	tsize_t
;

57 
	#_SIZE_T_DECLARED


	)

60 
	sgroup
 {

61 *
	mgr_Çme
;

62 *
	mgr_·sswd
;

63 
gid_t
 
	mgr_gid
;

64 **
	mgr_mem
;

67 
	g__BEGIN_DECLS


68 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


69 
’dg»Á
();

70 
group
 *
g‘g»Á
();

72 
group
 *
g‘grgid
(
gid_t
);

73 
group
 *
g‘gºam
(const *);

74 #ià
__BSD_VISIBLE


75 cÚ¡ *
group_äom_gid
(
gid_t
, );

77 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE


79 
£tg»Á
();

81 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


82 
g‘grgid_r
(
gid_t
, 
group
 *, *, 
size_t
,

83 
group
 **);

84 
g‘gºam_r
(cÚ¡ *, 
group
 *, *, 
size_t
,

85 
group
 **);

87 #ià
__BSD_VISIBLE


88 
g‘g»Á_r
(
group
 *, *, 
size_t
, group **);

89 
£tgrou³Á
();

91 
	g__END_DECLS


	@/usr/include/histedit.h

40 #iâdeà
_HISTEDIT_H_


41 
	#_HISTEDIT_H_


	)

43 
	~<sys/ty³s.h
>

44 
	~<¡dio.h
>

46 
	g__BEGIN_DECLS


47 #ifdeà
__ılu¥lus


55 
ed™lše
 
	tEd™Lše
;

60 
	slšešfo
 {

61 cÚ¡ *
bufãr
;

62 cÚ¡ *
cursÜ
;

63 cÚ¡ *
Ï¡ch¬
;

64 } 
	tLšeInfo
;

70 
	#CC_NORM
 0

	)

71 
	#CC_NEWLINE
 1

	)

72 
	#CC_EOF
 2

	)

73 
	#CC_ARGHACK
 3

	)

74 
	#CC_REFRESH
 4

	)

75 
	#CC_CURSOR
 5

	)

76 
	#CC_ERROR
 6

	)

77 
	#CC_FATAL
 7

	)

78 
	#CC_REDISPLAY
 8

	)

79 
	#CC_REFRESH_BEEP
 9

	)

84 
Ed™Lše
 *
–_š™
(cÚ¡ *, 
FILE
 *, FILE *, FILE *);

85 
–_’d
(
Ed™Lše
 *);

86 
–_»£t
(
Ed™Lše
 *);

91 cÚ¡ *
–_g‘s
(
Ed™Lše
 *, *);

92 
–_g‘c
(
Ed™Lše
 *, *);

93 
–_push
(
Ed™Lše
 *, const *);

98 
–_b“p
(
Ed™Lše
 *);

104 
–_·r£
(
Ed™Lše
 *, , const **);

109 
–_£t
(
Ed™Lše
 *, , ...);

110 
–_g‘
(
Ed™Lše
 *, , ...);

111 
_–_â_com¶‘e
(
Ed™Lše
 *, );

112 
_–_â_sh_com¶‘e
(
Ed™Lše
 *, );

117 
	#EL_PROMPT
 0

	)

118 
	#EL_TERMINAL
 1

	)

119 
	#EL_EDITOR
 2

	)

120 
	#EL_SIGNAL
 3

	)

121 
	#EL_BIND
 4

	)

122 
	#EL_TELLTC
 5

	)

123 
	#EL_SETTC
 6

	)

124 
	#EL_ECHOTC
 7

	)

125 
	#EL_SETTY
 8

	)

126 
	#EL_ADDFN
 9

	)

128 
	#EL_HIST
 10

	)

129 
	#EL_EDITMODE
 11

	)

130 
	#EL_RPROMPT
 12

	)

131 
	#EL_GETCFN
 13

	)

132 
	#EL_CLIENTDATA
 14

	)

133 
	#EL_UNBUFFERED
 15

	)

134 
	#EL_PREP_TERM
 16

	)

135 
	#EL_GETTC
 17

	)

136 
	#EL_GETFP
 18

	)

137 
	#EL_SETFP
 19

	)

138 
	#EL_REFRESH
 20

	)

139 
	#EL_PROMPT_ESC
 21

	)

140 
	#EL_RPROMPT_ESC
 22

	)

141 
	#EL_RESIZE
 23

	)

143 
	#EL_BUILTIN_GETCFN
 (
NULL
)

	)

148 
–_sourû
(
Ed™Lše
 *, const *);

155 
–_»size
(
Ed™Lše
 *);

161 
–_d©a_£t
 
__P
((
Ed™Lše
 *, *));

162 * 
–_d©a_g‘
 
__P
((
Ed™Lše
 *));

167 cÚ¡ 
LšeInfo
 *
–_lše
(
Ed™Lše
 *);

168 
–_š£¹¡r
(
Ed™Lše
 *, const *);

169 
–_d–‘e¡r
(
Ed™Lše
 *, );

176 
hi¡Üy
 
	tHi¡Üy
;

178 
	sHi¡Ev’t
 {

179 
num
;

180 cÚ¡ *
¡r
;

181 } 
	tHi¡Ev’t
;

186 
Hi¡Üy
 * 
hi¡Üy_š™
();

187 
hi¡Üy_’d
(
Hi¡Üy
 *);

189 
hi¡Üy
(
Hi¡Üy
 *, 
Hi¡Ev’t
 *, , ...);

191 
	#H_FUNC
 0

	)

192 
	#H_SETSIZE
 1

	)

193 
	#H_EVENT
 1

	)

194 
	#H_GETSIZE
 2

	)

195 
	#H_FIRST
 3

	)

196 
	#H_LAST
 4

	)

197 
	#H_PREV
 5

	)

198 
	#H_NEXT
 6

	)

199 
	#H_CURR
 8

	)

200 
	#H_SET
 7

	)

201 
	#H_ADD
 9

	)

202 
	#H_ENTER
 10

	)

203 
	#H_APPEND
 11

	)

204 
	#H_END
 12

	)

205 
	#H_NEXT_STR
 13

	)

206 
	#H_PREV_STR
 14

	)

207 
	#H_NEXT_EVENT
 15

	)

208 
	#H_PREV_EVENT
 16

	)

209 
	#H_LOAD
 17

	)

210 
	#H_SAVE
 18

	)

211 
	#H_CLEAR
 19

	)

212 
	#H_SETUNIQUE
 20

	)

213 
	#H_GETUNIQUE
 21

	)

214 
	#H_DEL
 22

	)

215 
	#H_NEXT_EVDATA
 23

	)

216 
	#H_DELDATA
 24

	)

217 
	#H_REPLACE
 25

	)

224 
tok’iz”
 
	tTok’iz”
;

229 
Tok’iz”
 *
tok_š™
(const *);

230 
tok_’d
(
Tok’iz”
 *);

231 
tok_»£t
(
Tok’iz”
 *);

232 
tok_lše
(
Tok’iz”
 *, cÚ¡ 
LšeInfo
 *,

234 
tok_¡r
(
Tok’iz”
 *, const *,

237 
__END_DECLS


238 #ifdeà
__ılu¥lus


	@/usr/include/inttypes.h

29 #iâdeà
_INTTYPES_H_


30 
	#_INTTYPES_H_


	)

32 
	~<machše/_š‰y³s.h
>

33 
	~<sys/¡dšt.h
>

36 
štmax_t
 
	mquÙ
;

37 
štmax_t
 
	m»m
;

38 } 
	timaxdiv_t
;

40 
__BEGIN_DECLS


41 
štmax_t
 
	$imaxabs
(
štmax_t
è
__pu»2
;

42 
imaxdiv_t
 
	$imaxdiv
(
štmax_t
, iÁmax_tè
__pu»2
;

44 
štmax_t
 
	`¡¹oimax
(cÚ¡ * 
__»¡riù
, ** __restrict, );

45 
uštmax_t
 
	`¡¹oumax
(cÚ¡ * 
__»¡riù
, ** __restrict, );

46 
štmax_t
 
	`wc¡oimax
(cÚ¡ 
__wch¬_t
 * 
__»¡riù
,

47 
__wch¬_t
 ** 
__»¡riù
, );

48 
uštmax_t
 
	`wc¡oumax
(cÚ¡ 
__wch¬_t
 * 
__»¡riù
,

49 
__wch¬_t
 ** 
__»¡riù
, );

50 
__END_DECLS


	@/usr/include/kenv.h

29 #iâdeà
_KENV_H_


30 
	#_KENV_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/k’v.h
>

35 
__BEGIN_DECLS


36 
k’v
(, const *, *, );

37 
	g__END_DECLS


	@/usr/include/kvm.h

33 #iâdeà
_KVM_H_


34 
	#_KVM_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

38 
	~<Æi¡.h
>

41 
	#VRS_SYM
 "_v”siÚ"

	)

42 
	#VRS_KEY
 "VERSION"

	)

44 #iâdeà
_SIZE_T_DECLARED


45 
__size_t
 
	tsize_t
;

46 
	#_SIZE_T_DECLARED


	)

49 #iâdeà
_SSIZE_T_DECLARED


50 
__ssize_t
 
	tssize_t
;

51 
	#_SSIZE_T_DECLARED


	)

54 
__kvm
 
	tkvm_t
;

56 
	gkšfo_´oc
;

57 
	g´oc
;

59 
	skvm_sw­
 {

60 
	mksw_devÇme
[32];

61 
	mksw_u£d
;

62 
	mksw_tÙ®
;

63 
	mksw_æags
;

64 
	mksw_»£rved1
;

65 
	mksw_»£rved2
;

68 
	#SWIF_DEV_PREFIX
 0x0002

	)

70 
__BEGIN_DECLS


71 
kvm_şo£
(
kvm_t
 *);

72 
kvm_dpıu_£tıu
(
kvm_t
 *, );

73 **
kvm_g‘¬gv
(
kvm_t
 *, cÚ¡ 
kšfo_´oc
 *, );

74 
kvm_g‘ıtime
(
kvm_t
 *, *);

75 **
kvm_g‘’vv
(
kvm_t
 *, cÚ¡ 
kšfo_´oc
 *, );

76 *
kvm_g‘”r
(
kvm_t
 *);

77 *
kvm_g‘fes
(
kvm_t
 *, , , *);

78 
kvm_g‘lßdavg
(
kvm_t
 *, [], );

79 
kvm_g‘maxıu
(
kvm_t
 *);

80 *
kvm_g‘pıu
(
kvm_t
 *, );

81 
kšfo_´oc
 *

82 
kvm_g‘´ocs
(
kvm_t
 *, , , *);

83 
kvm_g‘sw­šfo
(
kvm_t
 *, 
kvm_sw­
 *, , );

84 
kvm_Æi¡
(
kvm_t
 *, 
Æi¡
 *);

85 
kvm_t
 *
	gkvm_İ’


87 
kvm_t
 *
	gkvm_İ’fes


89 
ssize_t
 
kvm_»ad
(
kvm_t
 *, , *, 
size_t
);

90 
ssize_t
 
	gkvm_u»ad


91 (
	gkvm_t
 *, 
	gkšfo_´oc
 *, , *, 
	gsize_t
);

92 
ssize_t
 
kvm_wr™e
(
kvm_t
 *, , cÚ¡ *, 
size_t
);

93 
	g__END_DECLS


	@/usr/include/langinfo.h

29 #iâdeà
_LANGINFO_H_


30 
	#_LANGINFO_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_ty³s.h
>

35 #iâdeà
_NL_ITEM_DECLARED


36 
__Æ_™em
 
	tÆ_™em
;

37 
	#_NL_ITEM_DECLARED


	)

40 
	#CODESET
 0

	)

41 
	#D_T_FMT
 1

	)

42 
	#D_FMT
 2

	)

43 
	#T_FMT
 3

	)

44 
	#T_FMT_AMPM
 4

	)

45 
	#AM_STR
 5

	)

46 
	#PM_STR
 6

	)

49 
	#DAY_1
 7

	)

50 
	#DAY_2
 8

	)

51 
	#DAY_3
 9

	)

52 
	#DAY_4
 10

	)

53 
	#DAY_5
 11

	)

54 
	#DAY_6
 12

	)

55 
	#DAY_7
 13

	)

58 
	#ABDAY_1
 14

	)

59 
	#ABDAY_2
 15

	)

60 
	#ABDAY_3
 16

	)

61 
	#ABDAY_4
 17

	)

62 
	#ABDAY_5
 18

	)

63 
	#ABDAY_6
 19

	)

64 
	#ABDAY_7
 20

	)

67 
	#MON_1
 21

	)

68 
	#MON_2
 22

	)

69 
	#MON_3
 23

	)

70 
	#MON_4
 24

	)

71 
	#MON_5
 25

	)

72 
	#MON_6
 26

	)

73 
	#MON_7
 27

	)

74 
	#MON_8
 28

	)

75 
	#MON_9
 29

	)

76 
	#MON_10
 30

	)

77 
	#MON_11
 31

	)

78 
	#MON_12
 32

	)

81 
	#ABMON_1
 33

	)

82 
	#ABMON_2
 34

	)

83 
	#ABMON_3
 35

	)

84 
	#ABMON_4
 36

	)

85 
	#ABMON_5
 37

	)

86 
	#ABMON_6
 38

	)

87 
	#ABMON_7
 39

	)

88 
	#ABMON_8
 40

	)

89 
	#ABMON_9
 41

	)

90 
	#ABMON_10
 42

	)

91 
	#ABMON_11
 43

	)

92 
	#ABMON_12
 44

	)

94 
	#ERA
 45

	)

95 
	#ERA_D_FMT
 46

	)

96 
	#ERA_D_T_FMT
 47

	)

97 
	#ERA_T_FMT
 48

	)

98 
	#ALT_DIGITS
 49

	)

100 
	#RADIXCHAR
 50

	)

101 
	#THOUSEP
 51

	)

103 
	#YESEXPR
 52

	)

104 
	#NOEXPR
 53

	)

106 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 <= 500

107 
	#YESSTR
 54

	)

108 
	#NOSTR
 55

	)

111 
	#CRNCYSTR
 56

	)

113 #ià
__BSD_VISIBLE


114 
	#D_MD_ORDER
 57

	)

118 
	#ALTMON_1
 58

	)

119 
	#ALTMON_2
 59

	)

120 
	#ALTMON_3
 60

	)

121 
	#ALTMON_4
 61

	)

122 
	#ALTMON_5
 62

	)

123 
	#ALTMON_6
 63

	)

124 
	#ALTMON_7
 64

	)

125 
	#ALTMON_8
 65

	)

126 
	#ALTMON_9
 66

	)

127 
	#ALTMON_10
 67

	)

128 
	#ALTMON_11
 68

	)

129 
	#ALTMON_12
 69

	)

131 
__BEGIN_DECLS


132 *
Æ_Ïngšfo
(
Æ_™em
);

133 
	g__END_DECLS


	@/usr/include/libgen.h

31 #iâdeà
_LIBGEN_H_


32 
	#_LIBGEN_H_


	)

34 
	~<sys/cdefs.h
>

36 
__BEGIN_DECLS


38 *
ba£Çme
(const *);

39 *
dœÇme
(const *);

41 *
»gcmp
(const *, ...);

42 *
»gex
(const *, const *, ...);

44 *
__loc1
;

47 
	g__END_DECLS


	@/usr/include/libutil.h

39 #iâdeà
_LIBUTIL_H_


40 
	#_LIBUTIL_H_


	)

42 
	~<sys/cdefs.h
>

43 
	~<sys/_ty³s.h
>

45 #iâdeà
_GID_T_DECLARED


46 
__gid_t
 
	tgid_t
;

47 
	#_GID_T_DECLARED


	)

50 #iâdeà
_INT64_T_DECLARED


51 
__št64_t
 
	tšt64_t
;

52 
	#_INT64_T_DECLARED


	)

55 #iâdeà
_UINT64_T_DECLARED


56 
__ušt64_t
 
	tušt64_t
;

57 
	#_UINT64_T_DECLARED


	)

60 #iâdeà
_PID_T_DECLARED


61 
__pid_t
 
	tpid_t
;

62 
	#_PID_T_DECLARED


	)

65 #iâdeà
_SIZE_T_DECLARED


66 
__size_t
 
	tsize_t
;

67 
	#_SIZE_T_DECLARED


	)

70 #iâdeà
_UID_T_DECLARED


71 
__uid_t
 
	tuid_t
;

72 
	#_UID_T_DECLARED


	)

75 
	#PROPERTY_MAX_NAME
 64

	)

76 
	#PROPERTY_MAX_VALUE
 512

	)

79 
	s_´İ”ty
 {

80 
_´İ”ty
 *
	mÃxt
;

81 *
	mÇme
;

82 *
	mv®ue
;

83 } *
	t´İ”t›s
;

85 #ifdeà
_SYS_PARAM_H_


87 
	spidfh
 {

88 
	mpf_fd
;

89 
	mpf_·th
[
MAXPATHLEN
 + 1];

90 
__dev_t
 
	mpf_dev
;

91 
šo_t
 
	mpf_šo
;

96 
	g‹rmios
;

97 
	gwšsize
;

98 
	gutmp
;

99 
	gš_addr
;

100 
	gkšfo_fe
;

101 
	gkšfo_vm’Œy
;

103 
__BEGIN_DECLS


104 
ş—n_’vœÚm’t
(cÚ¡ * cÚ¡ *
_wh™e
,

105 cÚ¡ * cÚ¡ *
_mÜe_wh™e
);

106 
ex‰r_Çme¥aû_to_¡ršg
(
_©ŒÇme¥aû
, **
_¡ršg
);

107 
ex‰r_¡ršg_to_Çme¥aû
(cÚ¡ *
_¡ršg
, *
_©ŒÇme¥aû
);

108 
æİ’
(cÚ¡ *
_·th
, 
_æags
, ...);

109 
hexdump
(cÚ¡ *
±r
, 
Ëngth
, cÚ¡ *
hdr
, 
æags
);

110 
logš
(
utmp
 *
_ut
);

111 
logš_‰y
(
_fd
);

112 
logout
(cÚ¡ *
_lše
);

113 
logwtmp
(cÚ¡ *
_lše
, cÚ¡ *
_Çme
, cÚ¡ *
_ho¡
);

114 
Œimdomaš
(*
_fuÎho¡
, 
_ho¡size
);

115 
İ’±y
(*
_ama¡”
, *
_a¦ave
, *
_Çme
,

116 
‹rmios
 *
_‹rmp
, 
wšsize
 *
_wšp
);

117 
fÜk±y
(*
_ama¡”
, *
_Çme
,

118 
‹rmios
 *
_‹rmp
, 
wšsize
 *
_wšp
);

119 
humªize_numb”
(*
_buf
, 
size_t
 
_Ën
, 
št64_t
 
_numb”
,

120 cÚ¡ *
_suffix
, 
_sÿË
, 
_æags
);

121 
ex·nd_numb”
(cÚ¡ *
_buf
, 
št64_t
 *
_num
);

122 cÚ¡ *
uu_lock”r
(
_uu_lock»suÉ
);

123 
uu_lock
(cÚ¡ *
_‰yÇme
);

124 
uu_uÆock
(cÚ¡ *
_‰yÇme
);

125 
uu_lock_txä
(cÚ¡ *
_‰yÇme
, 
pid_t
 
_pid
);

126 
_£cu»_·th
(cÚ¡ *
_·th
, 
uid_t
 
_uid
, 
gid_t
 
_gid
);

127 
´İ”t›s
 
´İ”t›s_»ad
(
fd
);

128 
´İ”t›s_ä“
(
´İ”t›s
 
li¡
);

129 *
´İ”ty_fšd
(
´İ”t›s
 
li¡
, cÚ¡ *
Çme
);

130 *
auth_g‘v®
(cÚ¡ *
Çme
);

131 
»®ho¡Çme
(*
ho¡
, 
size_t
 
hsize
, cÚ¡ 
š_addr
 *

);

132 
	gsockaddr
;

133 
»®ho¡Çme_§
(*
ho¡
, 
size_t
 
hsize
, 
sockaddr
 *
addr
,

134 
add¾’
);

136 
kld_i¦ßded
(cÚ¡ *
Çme
);

137 
kld_lßd
(cÚ¡ *
Çme
);

138 
kšfo_fe
 *

139 
kšfo_g‘fe
(
pid_t
 
_pid
, *
_ú
);

140 
kšfo_vm’Œy
 *

141 
kšfo_g‘vmm­
(
pid_t
 
_pid
, *
_ú
);

143 #ifdeà
_STDIO_H_


144 *
å¬£Ê
(
FILE
 *, 
size_t
 *, size_t *, const [3], );

147 #ifdeà
_PWD_H_


148 
pw_cİy
(
_ffd
, 
_tfd
, cÚ¡ 
·sswd
 *
_pw
, ·sswd *
_Şd_pw
);

149 
·sswd
 *
pw_dup
(cÚ¡ ·sswd *
_pw
);

150 
pw_ed™
(
_nÙ£tuid
);

151 
pw_equ®
(cÚ¡ 
·sswd
 *
_pw1
, cÚ¡ ·sswd *
_pw2
);

152 
pw_fši
();

153 
pw_š™
(cÚ¡ *
_dœ
, cÚ¡ *
_ma¡”
);

154 *
pw_make
(cÚ¡ 
·sswd
 *
_pw
);

155 
pw_mkdb
(cÚ¡ *
_u£r
);

156 
pw_lock
();

157 
·sswd
 *
pw_sÿn
(cÚ¡ *
_lše
, 
_æags
);

158 cÚ¡ *
pw_‹m²ame
();

159 
pw_tmp
(
_mfd
);

162 #ifdeà
_GRP_H_


163 
gr_equ®
(cÚ¡ 
group
 *
gr1
, cÚ¡ grou°*
gr2
);

164 *
gr_make
(cÚ¡ 
group
 *
gr
);

165 
group
 *
gr_dup
(cÚ¡ grou°*
gr
);

166 
group
 *
gr_sÿn
(cÚ¡ *
lše
);

169 #ifdeà
_SYS_PARAM_H_


170 
pidfh
 *
pidfe_İ’
(cÚ¡ *
·th
, 
mode_t
 
mode
, 
pid_t
 *
pid±r
);

171 
pidfe_wr™e
(
pidfh
 *
pfh
);

172 
pidfe_şo£
(
pidfh
 *
pfh
);

173 
pidfe_»move
(
pidfh
 *
pfh
);

176 
	g__END_DECLS


178 
	#UU_LOCK_INUSE
 (1)

	)

179 
	#UU_LOCK_OK
 (0)

	)

180 
	#UU_LOCK_OPEN_ERR
 (-1)

	)

181 
	#UU_LOCK_READ_ERR
 (-2)

	)

182 
	#UU_LOCK_CREAT_ERR
 (-3)

	)

183 
	#UU_LOCK_WRITE_ERR
 (-4)

	)

184 
	#UU_LOCK_LINK_ERR
 (-5)

	)

185 
	#UU_LOCK_TRY_ERR
 (-6)

	)

186 
	#UU_LOCK_OWNER_ERR
 (-7)

	)

189 
	#HOSTNAME_FOUND
 (0)

	)

190 
	#HOSTNAME_INCORRECTNAME
 (1)

	)

191 
	#HOSTNAME_INVALIDADDR
 (2)

	)

192 
	#HOSTNAME_INVALIDNAME
 (3)

	)

195 
	#FPARSELN_UNESCESC
 0x01

	)

196 
	#FPARSELN_UNESCCONT
 0x02

	)

197 
	#FPARSELN_UNESCCOMM
 0x04

	)

198 
	#FPARSELN_UNESCREST
 0x08

	)

199 
	#FPARSELN_UNESCALL
 0x0f

	)

202 
	#PWSCAN_MASTER
 0x01

	)

203 
	#PWSCAN_WARN
 0x02

	)

206 
	#HN_DECIMAL
 0x01

	)

207 
	#HN_NOSPACE
 0x02

	)

208 
	#HN_B
 0x04

	)

209 
	#HN_DIVISOR_1000
 0x08

	)

210 
	#HN_IEC_PREFIXES
 0x10

	)

213 
	#HN_GETSCALE
 0x10

	)

214 
	#HN_AUTOSCALE
 0x20

	)

217 
	#HD_COLUMN_MASK
 0xff

	)

218 
	#HD_DELIM_MASK
 0xff00

	)

219 
	#HD_OMIT_COUNT
 (1 << 16)

	)

220 
	#HD_OMIT_HEX
 (1 << 17)

	)

221 
	#HD_OMIT_CHARS
 (1 << 18)

	)

	@/usr/include/limits.h

37 #iâdeà
_LIMITS_H_


38 
	#_LIMITS_H_


	)

40 
	~<sys/cdefs.h
>

42 #ià
__POSIX_VISIBLE


43 
	#_POSIX_ARG_MAX
 4096

	)

44 
	#_POSIX_LINK_MAX
 8

	)

45 
	#_POSIX_MAX_CANON
 255

	)

46 
	#_POSIX_MAX_INPUT
 255

	)

47 
	#_POSIX_NAME_MAX
 14

	)

48 
	#_POSIX_PIPE_BUF
 512

	)

49 
	#_POSIX_SSIZE_MAX
 32767

	)

50 
	#_POSIX_STREAM_MAX
 8

	)

52 #ià
__POSIX_VISIBLE
 >= 200112

53 
	#_POSIX_CHILD_MAX
 25

	)

54 
	#_POSIX_NGROUPS_MAX
 8

	)

55 
	#_POSIX_OPEN_MAX
 20

	)

56 
	#_POSIX_PATH_MAX
 256

	)

57 
	#_POSIX_TZNAME_MAX
 6

	)

59 
	#_POSIX_CHILD_MAX
 6

	)

60 
	#_POSIX_NGROUPS_MAX
 0

	)

61 
	#_POSIX_OPEN_MAX
 16

	)

62 
	#_POSIX_PATH_MAX
 255

	)

63 
	#_POSIX_TZNAME_MAX
 3

	)

66 
	#BC_BASE_MAX
 99

	)

67 
	#BC_DIM_MAX
 2048

	)

68 
	#BC_SCALE_MAX
 99

	)

69 
	#BC_STRING_MAX
 1000

	)

70 
	#COLL_WEIGHTS_MAX
 0

	)

71 
	#EXPR_NEST_MAX
 32

	)

72 
	#LINE_MAX
 2048

	)

73 
	#RE_DUP_MAX
 255

	)

75 
	#_POSIX2_BC_BASE_MAX
 99

	)

76 
	#_POSIX2_BC_DIM_MAX
 2048

	)

77 
	#_POSIX2_BC_SCALE_MAX
 99

	)

78 
	#_POSIX2_BC_STRING_MAX
 1000

	)

79 
	#_POSIX2_EQUIV_CLASS_MAX
 2

	)

80 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

81 
	#_POSIX2_LINE_MAX
 2048

	)

82 
	#_POSIX2_RE_DUP_MAX
 255

	)

85 #ià
__POSIX_VISIBLE
 >= 199309

86 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

87 
	#_POSIX_AIO_MAX
 1

	)

88 
	#_POSIX_DELAYTIMER_MAX
 32

	)

89 
	#_POSIX_MQ_OPEN_MAX
 8

	)

90 
	#_POSIX_MQ_PRIO_MAX
 32

	)

91 
	#_POSIX_RTSIG_MAX
 8

	)

92 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

93 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

94 
	#_POSIX_SIGQUEUE_MAX
 32

	)

95 
	#_POSIX_TIMER_MAX
 32

	)

97 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

100 #ià
__POSIX_VISIBLE
 >= 199506

101 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

102 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

103 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

106 #ià
__POSIX_VISIBLE
 >= 200112

107 
	#_POSIX_HOST_NAME_MAX
 255

	)

108 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

109 
	#_POSIX_SS_REPL_MAX
 4

	)

110 
	#_POSIX_SYMLINK_MAX
 255

	)

111 
	#_POSIX_SYMLOOP_MAX
 8

	)

112 
	#_POSIX_TRACE_EVENT_NAME_MAX
 30

	)

113 
	#_POSIX_TRACE_NAME_MAX
 8

	)

114 
	#_POSIX_TRACE_SYS_MAX
 8

	)

115 
	#_POSIX_TRACE_USER_EVENT_MAX
 32

	)

116 
	#_POSIX_TTY_NAME_MAX
 9

	)

117 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

118 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

120 
	#_POSIX_RE_DUP_MAX
 
_POSIX2_RE_DUP_MAX


	)

123 #ià
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

124 
	#NL_ARGMAX
 99

	)

125 
	#NL_MSGMAX
 32767

	)

126 
	#NL_SETMAX
 255

	)

127 
	#NL_TEXTMAX
 2048

	)

130 #ià
__XSI_VISIBLE


131 
	#_XOPEN_IOV_MAX
 16

	)

132 
	#_XOPEN_NAME_MAX
 255

	)

133 
	#_XOPEN_PATH_MAX
 1024

	)

134 
	#PASS_MAX
 128

	)

136 
	#NL_LANGMAX
 31

	)

137 
	#NL_NMAX
 1

	)

140 
	#MB_LEN_MAX
 6

	)

142 
	~<sys/lim™s.h
>

144 #ià
__POSIX_VISIBLE


145 
	~<sys/sy¦im™s.h
>

	@/usr/include/locale.h

37 #iâdeà
_LOCALE_H_


38 
	#_LOCALE_H_


	)

40 
	~<sys/_nuÎ.h
>

42 
	slcÚv
 {

43 *
	mdecim®_pošt
;

44 *
	mthou§nds_£p
;

45 *
	mgroupšg
;

46 *
	mšt_cu¼_symbŞ
;

47 *
	mcu¼’cy_symbŞ
;

48 *
	mmÚ_decim®_pošt
;

49 *
	mmÚ_thou§nds_£p
;

50 *
	mmÚ_groupšg
;

51 *
	mpos™ive_sign
;

52 *
	mÃg©ive_sign
;

53 
	mšt_äac_dig™s
;

54 
	mäac_dig™s
;

55 
	mp_cs_´eûdes
;

56 
	mp_£p_by_¥aû
;

57 
	mn_cs_´eûdes
;

58 
	mn_£p_by_¥aû
;

59 
	mp_sign_po¢
;

60 
	mn_sign_po¢
;

61 
	mšt_p_cs_´eûdes
;

62 
	mšt_n_cs_´eûdes
;

63 
	mšt_p_£p_by_¥aû
;

64 
	mšt_n_£p_by_¥aû
;

65 
	mšt_p_sign_po¢
;

66 
	mšt_n_sign_po¢
;

69 
	#LC_ALL
 0

	)

70 
	#LC_COLLATE
 1

	)

71 
	#LC_CTYPE
 2

	)

72 
	#LC_MONETARY
 3

	)

73 
	#LC_NUMERIC
 4

	)

74 
	#LC_TIME
 5

	)

75 
	#LC_MESSAGES
 6

	)

77 
	#_LC_LAST
 7

	)

79 
	~<sys/cdefs.h
>

81 
__BEGIN_DECLS


82 
lcÚv
 *
loÿËcÚv
();

83 *
£oÿË
(, const *);

84 
	g__END_DECLS


	@/usr/include/math.h

17 #iâdeà
_MATH_H_


18 
	#_MATH_H_


	)

20 
	~<sys/cdefs.h
>

21 
	~<sys/_ty³s.h
>

22 
	~<machše/_lim™s.h
>

27 cÚ¡ 
	u__šfš™y_un
 {

28 
__uc
[8];

29 
__ud
;

30 } 
__šfš™y
;

32 cÚ¡ 
	u__Çn_un
 {

33 
__uc
[()];

34 
__uf
;

35 } 
__Çn
;

37 #ià
__GNUC_PREREQ__
(3, 3è|| (
defšed
(
__INTEL_COMPILER
) && __INTEL_COMPILER >= 800)

38 
	#__MATH_BUILTIN_CONSTANTS


	)

41 #ià
__GNUC_PREREQ__
(3, 0è&& !
defšed
(
__INTEL_COMPILER
)

42 
	#__MATH_BUILTIN_RELOPS


	)

45 #ifdeà
__MATH_BUILTIN_CONSTANTS


46 
	#HUGE_VAL
 
	`__butš_huge_v®
()

	)

48 
	#HUGE_VAL
 (
__šfš™y
.
__ud
)

	)

51 #ià
__ISO_C_VISIBLE
 >= 1999

52 
	#FP_ILOGB0
 (-
__INT_MAX
)

	)

53 
	#FP_ILOGBNAN
 
__INT_MAX


	)

55 #ifdeà
__MATH_BUILTIN_CONSTANTS


56 
	#HUGE_VALF
 
	`__butš_huge_v®f
()

	)

57 
	#HUGE_VALL
 
	`__butš_huge_v®l
()

	)

58 
	#INFINITY
 
	`__butš_šff
()

	)

59 
	#NAN
 
	`__butš_Çnf
("")

	)

61 
	#HUGE_VALF
 ()
HUGE_VAL


	)

62 
	#HUGE_VALL
 ()
HUGE_VAL


	)

63 
	#INFINITY
 
HUGE_VALF


	)

64 
	#NAN
 (
__Çn
.
__uf
)

	)

67 
	#MATH_ERRNO
 1

	)

68 
	#MATH_ERREXCEPT
 2

	)

69 
	#m©h_”rhªdlšg
 
MATH_ERREXCEPT


	)

72 #ià
defšed
(
__Ÿ64__
è|| defšed(
__¥¬c64__
)

73 
	#FP_FAST_FMA
 1

	)

75 #ifdeà
__Ÿ64__


76 
	#FP_FAST_FMAL
 1

	)

78 
	#FP_FAST_FMAF
 1

	)

81 
	#FP_INFINITE
 0x01

	)

82 
	#FP_NAN
 0x02

	)

83 
	#FP_NORMAL
 0x04

	)

84 
	#FP_SUBNORMAL
 0x08

	)

85 
	#FP_ZERO
 0x10

	)

86 
	#åşassify
(
x
) \

87 (( (
x
è=ğ ()è? 
	`__åşassifyf
(x) \

88 : ( (
x
è=ğ ()è? 
	`__åşassifyd
(x) \

89 : 
	`__åşassifyl
(
x
))

	)

91 
	#isfš™e
(
x
) \

92 (( (
x
è=ğ ()è? 
	`__isfš™ef
(x) \

93 : ( (
x
è=ğ ()è? 
	`__isfš™e
(x) \

94 : 
	`__isfš™–
(
x
))

	)

95 
	#isšf
(
x
) \

96 (( (
x
è=ğ ()è? 
	`__isšff
(x) \

97 : ( (
x
è=ğ ()è? 
	`isšf
(x) \

98 : 
	`__isšæ
(
x
))

	)

99 
	#i¢ª
(
x
) \

100 (( (
x
è=ğ ()è? 
	`i¢ªf
(x) \

101 : ( (
x
è=ğ ()è? 
	`i¢ª
(x) \

102 : 
	`__i¢ªl
(
x
))

	)

103 
	#i¢Üm®
(
x
) \

104 (( (
x
è=ğ ()è? 
	`__i¢Üm®f
(x) \

105 : ( (
x
è=ğ ()è? 
	`__i¢Üm®
(x) \

106 : 
	`__i¢Üm®l
(
x
))

	)

108 #ifdeà
__MATH_BUILTIN_RELOPS


109 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
((x), (y))

	)

110 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
((x), (y))

	)

111 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
((x), (y))

	)

112 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
((x), (y))

	)

113 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
((x), (y))

	)

114 
	#isunÜd”ed
(
x
, 
y
è
	`__butš_isunÜd”ed
((x), (y))

	)

116 
	#isg»©”
(
x
, 
y
è(!
	`isunÜd”ed
((x), (y)è&& (xè> (y))

	)

117 
	#isg»©”equ®
(
x
, 
y
è(!
	`isunÜd”ed
((x), (y)è&& (xè>ğ(y))

	)

118 
	#i¦ess
(
x
, 
y
è(!
	`isunÜd”ed
((x), (y)è&& (xè< (y))

	)

119 
	#i¦es£qu®
(
x
, 
y
è(!
	`isunÜd”ed
((x), (y)è&& (xè<ğ(y))

	)

120 
	#i¦essg»©”
(
x
, 
y
è(!
	`isunÜd”ed
((x), (y)) && \

121 ((
x
è> (
y
è|| (yè> (x)))

	)

122 
	#isunÜd”ed
(
x
, 
y
è(
	`i¢ª
(xè|| i¢ª(y))

	)

125 
	#signb™
(
x
) \

126 (( (
x
è=ğ ()è? 
	`__signb™f
(x) \

127 : ( (
x
è=ğ ()è? 
	`__signb™
(x) \

128 : 
	`__signb™l
(
x
))

	)

130 
__doubË_t
 
	tdoubË_t
;

131 
__æßt_t
 
	tæßt_t
;

137 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE


138 
	#M_E
 2.7182818284590452354

	)

139 
	#M_LOG2E
 1.4426950408889634074

	)

140 
	#M_LOG10E
 0.43429448190325182765

	)

141 
	#M_LN2
 0.69314718055994530942

	)

142 
	#M_LN10
 2.30258509299404568402

	)

143 
	#M_PI
 3.14159265358979323846

	)

144 
	#M_PI_2
 1.57079632679489661923

	)

145 
	#M_PI_4
 0.78539816339744830962

	)

146 
	#M_1_PI
 0.31830988618379067154

	)

147 
	#M_2_PI
 0.63661977236758134308

	)

148 
	#M_2_SQRTPI
 1.12837916709551257390

	)

149 
	#M_SQRT2
 1.41421356237309504880

	)

150 
	#M_SQRT1_2
 0.70710678118654752440

	)

152 
	#MAXFLOAT
 (()3.40282346638528860e+38)

	)

153 
signgam
;

156 #ià
__BSD_VISIBLE


159 
	#HUGE
 
HUGE_VAL


	)

161 
	#HUGE
 
MAXFLOAT


	)

170 
__BEGIN_DECLS


174 
	$__åşassifyd
(è
__pu»2
;

175 
	$__åşassifyf
(è
__pu»2
;

176 
	$__åşassifyl
(è
__pu»2
;

177 
	$__isfš™ef
(è
__pu»2
;

178 
	$__isfš™e
(è
__pu»2
;

179 
	$__isfš™–
(è
__pu»2
;

180 
	$__isšff
(è
__pu»2
;

181 
	$__isšæ
(è
__pu»2
;

182 
	$__i¢ªl
(è
__pu»2
;

183 
	$__i¢Üm®f
(è
__pu»2
;

184 
	$__i¢Üm®
(è
__pu»2
;

185 
	$__i¢Üm®l
(è
__pu»2
;

186 
	$__signb™
(è
__pu»2
;

187 
	$__signb™f
(è
__pu»2
;

188 
	$__signb™l
(è
__pu»2
;

190 
	`acos
();

191 
	`asš
();

192 
	`©ª
();

193 
	`©ª2
(, );

194 
	`cos
();

195 
	`sš
();

196 
	`n
();

198 
	`cosh
();

199 
	`sšh
();

200 
	`nh
();

202 
	`exp
();

203 
	`äexp
(, *);

204 
	`ldexp
(, );

205 
	`log
();

206 
	`log10
();

207 
	`modf
(, *);

209 
	`pow
(, );

210 
	`sq¹
();

212 
	`û
();

213 
	$çbs
(è
__pu»2
;

214 
	`æoÜ
();

215 
	`fmod
(, );

220 #ià
__BSD_VISIBLE
 || 
__ISO_C_VISIBLE
 >ğ1999 || 
__XSI_VISIBLE


221 
	`acosh
();

222 
	`asšh
();

223 
	`©ªh
();

224 
	`cb¹
();

225 
	`”f
();

226 
	`”fc
();

227 
	`exp2
();

228 
	`expm1
();

229 
	`fma
(, , );

230 
	`hypÙ
(, );

231 
	$ogb
(è
__pu»2
;

232 (
isšf
)(è
__pu»2
;

233 (
i¢ª
)(è
__pu»2
;

234 
	`lgamma
();

235 
	`Îršt
();

236 
	`Îround
();

237 
	`log1p
();

238 
	`log2
();

239 
	`logb
();

240 
	`Ìšt
();

241 
	`Ìound
();

242 
	$Çn
(cÚ¡ *è
__pu»2
;

243 
	`Ãxá”
(, );

244 
	`»mašd”
(, );

245 
	`»mquo
(, , *);

246 
	`ršt
();

249 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE


250 
	`j0
();

251 
	`j1
();

252 
	`jn
(, );

253 
	`y0
();

254 
	`y1
();

255 
	`yn
(, );

257 #ià
__XSI_VISIBLE
 <ğ500 || 
__BSD_VISIBLE


258 
	`gamma
();

261 #ià
__XSI_VISIBLE
 <ğ600 || 
__BSD_VISIBLE


262 
	`sÿlb
(, );

266 #ià
__BSD_VISIBLE
 || 
__ISO_C_VISIBLE
 >= 1999

267 
	$cİysign
(, è
__pu»2
;

268 
	`fdim
(, );

269 
	$fmax
(, è
__pu»2
;

270 
	$fmš
(, è
__pu»2
;

271 
	`Ã¬byšt
();

272 
	`round
();

273 
	`sÿlbÊ
(, );

274 
	`sÿlbn
(, );

275 
	`tgamma
();

276 
	`Œunc
();

282 #ià
__BSD_VISIBLE


283 
	`d»m
(, );

284 
	$fš™e
(è
__pu»2
;

285 
	$i¢ªf
(è
__pu»2
;

291 
	`gamma_r
(, *);

292 
	`lgamma_r
(, *);

297 
	`signifiÿnd
();

301 #ià
__ISO_C_VISIBLE
 >= 1999

302 
	`acosf
();

303 
	`asšf
();

304 
	`©ªf
();

305 
	`©ª2f
(, );

306 
	`cosf
();

307 
	`sšf
();

308 
	`nf
();

310 
	`coshf
();

311 
	`sšhf
();

312 
	`nhf
();

314 
	`exp2f
();

315 
	`expf
();

316 
	`expm1f
();

317 
	`äexpf
(, *);

318 
	$ogbf
(è
__pu»2
;

319 
	`ldexpf
(, );

320 
	`log10f
();

321 
	`log1pf
();

322 
	`log2f
();

323 
	`logf
();

324 
	`modff
(, *);

326 
	`powf
(, );

327 
	`sq¹f
();

329 
	`ûf
();

330 
	$çbsf
(è
__pu»2
;

331 
	`æoÜf
();

332 
	`fmodf
(, );

333 
	`roundf
();

335 
	`”ff
();

336 
	`”fcf
();

337 
	`hypÙf
(, );

338 
	`lgammaf
();

339 
	`tgammaf
();

341 
	`acoshf
();

342 
	`asšhf
();

343 
	`©ªhf
();

344 
	`cb¹f
();

345 
	`logbf
();

346 
	$cİysignf
(, è
__pu»2
;

347 
	`Îrštf
();

348 
	`Îroundf
();

349 
	`Ìštf
();

350 
	`Ìoundf
();

351 
	$Çnf
(cÚ¡ *è
__pu»2
;

352 
	`Ã¬byštf
();

353 
	`Ãxá”f
(, );

354 
	`»mašd”f
(, );

355 
	`»mquof
(, , *);

356 
	`rštf
();

357 
	`sÿlbÊf
(, );

358 
	`sÿlbnf
(, );

359 
	`Œuncf
();

361 
	`fdimf
(, );

362 
	`fmaf
(, , );

363 
	$fmaxf
(, è
__pu»2
;

364 
	$fmšf
(, è
__pu»2
;

370 #ià
__BSD_VISIBLE


371 
	`d»mf
(, );

372 
	$fš™ef
(è
__pu»2
;

373 
	`gammaf
();

374 
	`j0f
();

375 
	`j1f
();

376 
	`jnf
(, );

377 
	`sÿlbf
(, );

378 
	`y0f
();

379 
	`y1f
();

380 
	`ynf
(, );

387 
	`gammaf_r
(, *);

388 
	`lgammaf_r
(, *);

393 
	`signifiÿndf
();

399 #ià
__ISO_C_VISIBLE
 >= 1999

401 
	`acoshl
();

403 
	`aco¦
();

405 
	`asšhl
();

407 
	`asšl
();

408 
	`©ª2l
(, );

410 
	`©ªhl
();

412 
	`©ªl
();

414 
	`cb¹l
();

416 
	`ûl
();

417 
	$cİysigÆ
(, è
__pu»2
;

419 
	`coshl
();

421 
	`co¦
();

423 
	`”fş
();

424 
	`”æ
();

426 
	`exp2l
();

428 
	`ex¶
();

429 
	`expm1l
();

431 
	$çb¦
(è
__pu»2
;

432 
	`fdiml
(, );

433 
	`æoÜl
();

434 
	`fm®
(, , );

435 
	$fmaxl
(, è
__pu»2
;

436 
	$fmšl
(, è
__pu»2
;

437 
	`fmodl
(, );

438 
	`äex¶
(
v®ue
, *);

439 
	`hypÙl
(, );

440 
	$ogbl
(è
__pu»2
;

441 
	`ldex¶
(, );

443 
	`lgamm®
();

445 
	`Îrš
();

446 
	`Îroundl
();

448 
	`log10l
();

449 
	`log1¶
();

450 
	`log2l
();

452 
	`logbl
();

454 
	`logl
();

456 
	`Ìš
();

457 
	`Ìoundl
();

458 
	`modæ
(, *);

459 
	$ÇÆ
(cÚ¡ *è
__pu»2
;

460 
	`Ã¬byš
();

461 
	`Ãxá”l
(, );

462 
	`Ãx‰ow¬d
(, );

463 
	`Ãx‰ow¬df
(, );

464 
	`Ãx‰ow¬dl
(, );

466 
	`powl
(, );

468 
	`»mašd”l
(, );

469 
	`»mquŞ
(, , *);

470 
	`rš
();

471 
	`roundl
();

472 
	`sÿlbÊl
(, );

473 
	`sÿlbÆ
(, );

475 
	`sšhl
();

477 
	`sšl
();

478 
	`sq¹l
();

480 
	`nhl
();

482 
	`Æ
();

484 
	`tgamm®
();

486 
	`Œunş
();

489 
__END_DECLS


	@/usr/include/netdb.h

61 #iâdeà
_NETDB_H_


62 
	#_NETDB_H_


	)

64 
	~<sys/cdefs.h
>

65 
	~<sys/_ty³s.h
>

67 #iâdeà
_SIZE_T_DECLARED


68 
__size_t
 
	tsize_t
;

69 
	#_SIZE_T_DECLARED


	)

72 #iâdeà
_SOCKLEN_T_DECLARED


73 
__sockËn_t
 
	tsockËn_t
;

74 
	#_SOCKLEN_T_DECLARED


	)

77 #iâdeà
_UINT32_T_DECLARED


78 
__ušt32_t
 
	tušt32_t
;

79 
	#_UINT32_T_DECLARED


	)

82 #iâdeà
_PATH_HEQUIV


83 
	#_PATH_HEQUIV
 "/‘c/ho¡s.equiv"

	)

85 
	#_PATH_HOSTS
 "/‘c/ho¡s"

	)

86 
	#_PATH_NETWORKS
 "/‘c/ÃtwÜks"

	)

87 
	#_PATH_PROTOCOLS
 "/‘c/´ÙocŞs"

	)

88 
	#_PATH_SERVICES
 "/‘c/£rviûs"

	)

89 
	#_PATH_SERVICES_DB
 "/v¬/db/£rviûs.db"

	)

91 
	#h_”ºo
 (*
	`__h_”ºo
())

	)

98 
	sho¡’t
 {

99 *
	mh_Çme
;

100 **
	mh_®Ÿ£s
;

101 
	mh_add¹y³
;

102 
	mh_Ëngth
;

103 **
	mh_addr_li¡
;

104 
	#h_addr
 
h_addr_li¡
[0]

	)

107 
	sÃ‹Á
 {

108 *
	mn_Çme
;

109 **
	mn_®Ÿ£s
;

110 
	mn_add¹y³
;

111 
ušt32_t
 
	mn_Ãt
;

114 
	s£rv’t
 {

115 *
	ms_Çme
;

116 **
	ms_®Ÿ£s
;

117 
	ms_pÜt
;

118 *
	ms_´Ùo
;

121 
	s´ÙÛÁ
 {

122 *
	mp_Çme
;

123 **
	mp_®Ÿ£s
;

124 
	mp_´Ùo
;

127 
	saddršfo
 {

128 
	mai_æags
;

129 
	mai_çmy
;

130 
	mai_sockty³
;

131 
	mai_´ÙocŞ
;

132 
sockËn_t
 
	mai_add¾’
;

133 *
	mai_ÿnÚÇme
;

134 
sockaddr
 *
	mai_addr
;

135 
addršfo
 *
	mai_Ãxt
;

143 
	#NETDB_INTERNAL
 -1

	)

144 
	#NETDB_SUCCESS
 0

	)

145 
	#HOST_NOT_FOUND
 1

	)

146 
	#TRY_AGAIN
 2

	)

147 
	#NO_RECOVERY
 3

	)

148 
	#NO_DATA
 4

	)

149 
	#NO_ADDRESS
 
NO_DATA


	)

156 
	#EAI_ADDRFAMILY
 1

	)

158 
	#EAI_AGAIN
 2

	)

159 
	#EAI_BADFLAGS
 3

	)

160 
	#EAI_FAIL
 4

	)

161 
	#EAI_FAMILY
 5

	)

162 
	#EAI_MEMORY
 6

	)

165 
	#EAI_NODATA
 7

	)

167 
	#EAI_NONAME
 8

	)

168 
	#EAI_SERVICE
 9

	)

169 
	#EAI_SOCKTYPE
 10

	)

170 
	#EAI_SYSTEM
 11

	)

171 
	#EAI_BADHINTS
 12

	)

172 
	#EAI_PROTOCOL
 13

	)

173 
	#EAI_OVERFLOW
 14

	)

174 
	#EAI_MAX
 15

	)

179 
	#AI_PASSIVE
 0x00000001

	)

180 
	#AI_CANONNAME
 0x00000002

	)

181 
	#AI_NUMERICHOST
 0x00000004

	)

182 
	#AI_NUMERICSERV
 0x00000008

	)

184 
	#AI_MASK
 \

185 (
AI_PASSIVE
 | 
AI_CANONNAME
 | 
AI_NUMERICHOST
 | 
AI_NUMERICSERV
 | \

186 
AI_ADDRCONFIG
)

	)

188 
	#AI_ALL
 0x00000100

	)

189 
	#AI_V4MAPPED_CFG
 0x00000200

	)

190 
	#AI_ADDRCONFIG
 0x00000400

	)

191 
	#AI_V4MAPPED
 0x00000800

	)

193 
	#AI_DEFAULT
 (
AI_V4MAPPED_CFG
 | 
AI_ADDRCONFIG
)

	)

198 
	#NI_MAXHOST
 1025

	)

199 
	#NI_MAXSERV
 32

	)

204 
	#NI_NOFQDN
 0x00000001

	)

205 
	#NI_NUMERICHOST
 0x00000002

	)

206 
	#NI_NAMEREQD
 0x00000004

	)

207 
	#NI_NUMERICSERV
 0x00000008

	)

208 
	#NI_DGRAM
 0x00000010

	)

210 
	#NI_WITHSCOPEID
 0x00000020

	)

216 
	#SCOPE_DELIMITER
 '%'

	)

218 
__BEGIN_DECLS


219 
’dho¡’t
();

220 
’dÃ‹Á
();

221 
’d´ÙÛÁ
();

222 
’d£rv’t
();

223 #ià
__BSD_VISIBLE
 || (
__POSIX_VISIBLE
 && __POSIX_VISIBLE <= 200112)

224 
ho¡’t
 *
g‘ho¡byaddr
(cÚ¡ *, 
sockËn_t
, );

225 
ho¡’t
 *
g‘ho¡byÇme
(const *);

227 
ho¡’t
 *
g‘ho¡’t
();

228 
Ã‹Á
 *
g‘Ãtbyaddr
(
ušt32_t
, );

229 
Ã‹Á
 *
g‘ÃtbyÇme
(const *);

230 
Ã‹Á
 *
g‘Ã‹Á
();

231 
´ÙÛÁ
 *
g‘´ÙobyÇme
(const *);

232 
´ÙÛÁ
 *
g‘´Ùobynumb”
();

233 
´ÙÛÁ
 *
g‘´ÙÛÁ
();

234 
£rv’t
 *
g‘£rvbyÇme
(const *, const *);

235 
£rv’t
 *
g‘£rvbypÜt
(, const *);

236 
£rv’t
 *
g‘£rv’t
();

237 
£tho¡’t
();

239 
£Š‘’t
();

240 
£rÙÛÁ
();

241 
g‘addršfo
(const *, const *,

242 cÚ¡ 
addršfo
 *, addrinfo **);

243 
g‘Çmešfo
(cÚ¡ 
sockaddr
 *, 
sockËn_t
, *,

244 
size_t
, *, size_t, );

245 
ä“addršfo
(
addršfo
 *);

246 cÚ¡ *
gai_¡»¼Ü
();

247 
£t£rv’t
();

249 #ià
__BSD_VISIBLE


250 
’dÃtg»Á
();

251 
ä“ho¡’t
(
ho¡’t
 *);

252 
g‘ho¡byaddr_r
(cÚ¡ *, 
sockËn_t
, , 
ho¡’t
 *,

253 *, 
size_t
, 
ho¡’t
 **, *);

254 
g‘ho¡byÇme_r
(cÚ¡ *, 
ho¡’t
 *, *, 
size_t
,

255 
ho¡’t
 **, *);

256 
ho¡’t
 *
g‘ho¡byÇme2
(const *, );

257 
g‘ho¡byÇme2_r
(cÚ¡ *, , 
ho¡’t
 *, *,

258 
size_t
, 
ho¡’t
 **, *);

259 
g‘ho¡’t_r
(
ho¡’t
 *, *, 
size_t
,

260 
ho¡’t
 **, *);

261 
ho¡’t
 *
g‘nodebyaddr
(cÚ¡ *, 
size_t
, , *);

262 
ho¡’t
 *
g‘nodebyÇme
(const *, , , *);

263 
g‘Ãtbyaddr_r
(
ušt32_t
, , 
Ã‹Á
 *, *, 
size_t
,

264 
Ã‹Á
**, *);

265 
g‘ÃtbyÇme_r
(cÚ¡ *, 
Ã‹Á
 *, *, 
size_t
,

266 
Ã‹Á
 **, *);

267 
g‘Ã‹Á_r
(
Ã‹Á
 *, *, 
size_t
, netent **,

269 
g‘Ãtg»Á
(**, **, **);

270 
g‘´ÙobyÇme_r
(cÚ¡ *, 
´ÙÛÁ
 *, *,

271 
size_t
, 
´ÙÛÁ
 **);

272 
g‘´Ùobynumb”_r
(, 
´ÙÛÁ
 *, *, 
size_t
,

273 
´ÙÛÁ
 **);

274 
g‘´ÙÛÁ_r
(
´ÙÛÁ
 *, *, 
size_t
,

275 
´ÙÛÁ
 **);

276 
g‘£rvbyÇme_r
(cÚ¡ *, cÚ¡ *, 
£rv’t
 *,

277 *, 
size_t
, 
£rv’t
 **);

278 
g‘£rvbypÜt_r
(, cÚ¡ *, 
£rv’t
 *, *,

279 
size_t
, 
£rv’t
 **);

280 
g‘£rv’t_r
(
£rv’t
 *, *, 
size_t
,

281 
£rv’t
 **);

282 
h”rÜ
(const *);

283 
__cÚ¡
 *
h¡»¼Ü
();

284 
šÃtgr
(const *, const *, const *, const *);

285 
£Š‘g»Á
(const *);

294 * 
__h_”ºo
();

295 
	g__END_DECLS


	@/usr/include/netinet/in.h

33 #iâdeà
_NETINET_IN_H_


34 
	#_NETINET_IN_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

38 
	~<machše/’dŸn.h
>

41 
	#IPPROTO_IP
 0

	)

42 
	#IPPROTO_ICMP
 1

	)

43 
	#IPPROTO_TCP
 6

	)

44 
	#IPPROTO_UDP
 17

	)

46 
	#INADDR_ANY
 (
u_št32_t
)0x00000000

	)

47 
	#INADDR_BROADCAST
 (
u_št32_t
)0xfffffffà

	)

49 #iâdeà
_UINT8_T_DECLARED


50 
__ušt8_t
 
	tušt8_t
;

51 
	#_UINT8_T_DECLARED


	)

54 #iâdeà
_UINT16_T_DECLARED


55 
__ušt16_t
 
	tušt16_t
;

56 
	#_UINT16_T_DECLARED


	)

59 #iâdeà
_UINT32_T_DECLARED


60 
__ušt32_t
 
	tušt32_t
;

61 
	#_UINT32_T_DECLARED


	)

64 #iâdeà
_IN_ADDR_T_DECLARED


65 
ušt32_t
 
	tš_addr_t
;

66 
	#_IN_ADDR_T_DECLARED


	)

69 #iâdeà
_IN_PORT_T_DECLARED


70 
ušt16_t
 
	tš_pÜt_t
;

71 
	#_IN_PORT_T_DECLARED


	)

74 #iâdeà
_SA_FAMILY_T_DECLARED


75 
__§_çmy_t
 
	t§_çmy_t
;

76 
	#_SA_FAMILY_T_DECLARED


	)

80 #iâdef 
_STRUCT_IN_ADDR_DECLARED


81 
	sš_addr
 {

82 
š_addr_t
 
	ms_addr
;

84 
	#_STRUCT_IN_ADDR_DECLARED


	)

87 #iâdef 
_SOCKLEN_T_DECLARED


88 
__sockËn_t
 
	tsockËn_t
;

89 
	#_SOCKLEN_T_DECLARED


	)

93 #iâdef 
_STRUCT_SOCKADDR_STORAGE_DECLARED


97 
	#_SS_MAXSIZE
 128U

	)

98 
	#_SS_ALIGNSIZE
 ((
__št64_t
))

	)

99 
	#_SS_PAD1SIZE
 (
_SS_ALIGNSIZE
 - () - \

100 (
§_çmy_t
))

	)

101 
	#_SS_PAD2SIZE
 (
_SS_MAXSIZE
 - () - \

102 (
§_çmy_t
è- 
_SS_PAD1SIZE
 - 
_SS_ALIGNSIZE
)

	)

104 
	ssockaddr_¡Üage
 {

105 
	mss_Ën
;

106 
§_çmy_t
 
	mss_çmy
;

107 
	m__ss_·d1
[
_SS_PAD1SIZE
];

108 
__št64_t
 
	m__ss_®ign
;

109 
	m__ss_·d2
[
_SS_PAD2SIZE
];

111 
	#_STRUCT_SOCKADDR_STORAGE_DECLARED


	)

115 
	ssockaddr_š
 {

116 
ušt8_t
 
	msš_Ën
;

117 
§_çmy_t
 
	msš_çmy
;

118 
š_pÜt_t
 
	msš_pÜt
;

119 
š_addr
 
	msš_addr
;

120 
	msš_z”o
[8];

123 #ià!
defšed
(
_KERNEL
è&& 
__BSD_VISIBLE


125 #iâdeà
_BYTEORDER_PROTOTYPED


126 
	#_BYTEORDER_PROTOTYPED


	)

127 
__BEGIN_DECLS


128 
ušt32_t
 
htÚl
(uint32_t);

129 
ušt16_t
 
htÚs
(uint16_t);

130 
ušt32_t
 
Áohl
(uint32_t);

131 
ušt16_t
 
Áohs
(uint16_t);

132 
	g__END_DECLS


135 #iâdeà
_BYTEORDER_FUNC_DEFINED


136 
	#_BYTEORDER_FUNC_DEFINED


	)

137 
	#htÚl
(
x
è
	`__htÚl
(x)

	)

138 
	#htÚs
(
x
è
	`__htÚs
(x)

	)

139 
	#Áohl
(
x
è
	`__Áohl
(x)

	)

140 
	#Áohs
(
x
è
	`__Áohs
(x)

	)

145 #ià
__POSIX_VISIBLE
 >= 200112

146 
	#IPPROTO_RAW
 255

	)

147 
	#INET_ADDRSTRLEN
 16

	)

150 #ià
__BSD_VISIBLE


159 
	#IPPROTO_HOPOPTS
 0

	)

160 
	#IPPROTO_IGMP
 2

	)

161 
	#IPPROTO_GGP
 3

	)

162 
	#IPPROTO_IPV4
 4

	)

163 
	#IPPROTO_IPIP
 
IPPROTO_IPV4


	)

164 
	#IPPROTO_ST
 7

	)

165 
	#IPPROTO_EGP
 8

	)

166 
	#IPPROTO_PIGP
 9

	)

167 
	#IPPROTO_RCCMON
 10

	)

168 
	#IPPROTO_NVPII
 11

	)

169 
	#IPPROTO_PUP
 12

	)

170 
	#IPPROTO_ARGUS
 13

	)

171 
	#IPPROTO_EMCON
 14

	)

172 
	#IPPROTO_XNET
 15

	)

173 
	#IPPROTO_CHAOS
 16

	)

174 
	#IPPROTO_MUX
 18

	)

175 
	#IPPROTO_MEAS
 19

	)

176 
	#IPPROTO_HMP
 20

	)

177 
	#IPPROTO_PRM
 21

	)

178 
	#IPPROTO_IDP
 22

	)

179 
	#IPPROTO_TRUNK1
 23

	)

180 
	#IPPROTO_TRUNK2
 24

	)

181 
	#IPPROTO_LEAF1
 25

	)

182 
	#IPPROTO_LEAF2
 26

	)

183 
	#IPPROTO_RDP
 27

	)

184 
	#IPPROTO_IRTP
 28

	)

185 
	#IPPROTO_TP
 29

	)

186 
	#IPPROTO_BLT
 30

	)

187 
	#IPPROTO_NSP
 31

	)

188 
	#IPPROTO_INP
 32

	)

189 
	#IPPROTO_SEP
 33

	)

190 
	#IPPROTO_3PC
 34

	)

191 
	#IPPROTO_IDPR
 35

	)

192 
	#IPPROTO_XTP
 36

	)

193 
	#IPPROTO_DDP
 37

	)

194 
	#IPPROTO_CMTP
 38

	)

195 
	#IPPROTO_TPXX
 39

	)

196 
	#IPPROTO_IL
 40

	)

197 
	#IPPROTO_IPV6
 41

	)

198 
	#IPPROTO_SDRP
 42

	)

199 
	#IPPROTO_ROUTING
 43

	)

200 
	#IPPROTO_FRAGMENT
 44

	)

201 
	#IPPROTO_IDRP
 45

	)

202 
	#IPPROTO_RSVP
 46

	)

203 
	#IPPROTO_GRE
 47

	)

204 
	#IPPROTO_MHRP
 48

	)

205 
	#IPPROTO_BHA
 49

	)

206 
	#IPPROTO_ESP
 50

	)

207 
	#IPPROTO_AH
 51

	)

208 
	#IPPROTO_INLSP
 52

	)

209 
	#IPPROTO_SWIPE
 53

	)

210 
	#IPPROTO_NHRP
 54

	)

211 
	#IPPROTO_MOBILE
 55

	)

212 
	#IPPROTO_TLSP
 56

	)

213 
	#IPPROTO_SKIP
 57

	)

214 
	#IPPROTO_ICMPV6
 58

	)

215 
	#IPPROTO_NONE
 59

	)

216 
	#IPPROTO_DSTOPTS
 60

	)

217 
	#IPPROTO_AHIP
 61

	)

218 
	#IPPROTO_CFTP
 62

	)

219 
	#IPPROTO_HELLO
 63

	)

220 
	#IPPROTO_SATEXPAK
 64

	)

221 
	#IPPROTO_KRYPTOLAN
 65

	)

222 
	#IPPROTO_RVD
 66

	)

223 
	#IPPROTO_IPPC
 67

	)

224 
	#IPPROTO_ADFS
 68

	)

225 
	#IPPROTO_SATMON
 69

	)

226 
	#IPPROTO_VISA
 70

	)

227 
	#IPPROTO_IPCV
 71

	)

228 
	#IPPROTO_CPNX
 72

	)

229 
	#IPPROTO_CPHB
 73

	)

230 
	#IPPROTO_WSN
 74

	)

231 
	#IPPROTO_PVP
 75

	)

232 
	#IPPROTO_BRSATMON
 76

	)

233 
	#IPPROTO_ND
 77

	)

234 
	#IPPROTO_WBMON
 78

	)

235 
	#IPPROTO_WBEXPAK
 79

	)

236 
	#IPPROTO_EON
 80

	)

237 
	#IPPROTO_VMTP
 81

	)

238 
	#IPPROTO_SVMTP
 82

	)

239 
	#IPPROTO_VINES
 83

	)

240 
	#IPPROTO_TTP
 84

	)

241 
	#IPPROTO_IGP
 85

	)

242 
	#IPPROTO_DGP
 86

	)

243 
	#IPPROTO_TCF
 87

	)

244 
	#IPPROTO_IGRP
 88

	)

245 
	#IPPROTO_OSPFIGP
 89

	)

246 
	#IPPROTO_SRPC
 90

	)

247 
	#IPPROTO_LARP
 91

	)

248 
	#IPPROTO_MTP
 92

	)

249 
	#IPPROTO_AX25
 93

	)

250 
	#IPPROTO_IPEIP
 94

	)

251 
	#IPPROTO_MICP
 95

	)

252 
	#IPPROTO_SCCSP
 96

	)

253 
	#IPPROTO_ETHERIP
 97

	)

254 
	#IPPROTO_ENCAP
 98

	)

255 
	#IPPROTO_APES
 99

	)

256 
	#IPPROTO_GMTP
 100

	)

257 
	#IPPROTO_IPCOMP
 108

	)

258 
	#IPPROTO_SCTP
 132

	)

260 
	#IPPROTO_PIM
 103

	)

261 
	#IPPROTO_CARP
 112

	)

262 
	#IPPROTO_PGM
 113

	)

263 
	#IPPROTO_PFSYNC
 240

	)

266 
	#IPPROTO_OLD_DIVERT
 254

	)

267 
	#IPPROTO_MAX
 256

	)

270 
	#IPPROTO_DONE
 257

	)

273 
	#IPPROTO_DIVERT
 258

	)

279 
	#IPPROTO_SPACER
 32767

	)

330 
	#IPPORT_RESERVED
 1024

	)

335 
	#IPPORT_EPHEMERALFIRST
 10000

	)

336 
	#IPPORT_EPHEMERALLAST
 65535

	)

341 
	#IPPORT_HIFIRSTAUTO
 49152

	)

342 
	#IPPORT_HILASTAUTO
 65535

	)

350 
	#IPPORT_RESERVEDSTART
 600

	)

352 
	#IPPORT_MAX
 65535

	)

359 
	#IN_CLASSA
(
i
è(((
u_št32_t
)(iè& 0x80000000è=ğ0)

	)

360 
	#IN_CLASSA_NET
 0xff000000

	)

361 
	#IN_CLASSA_NSHIFT
 24

	)

362 
	#IN_CLASSA_HOST
 0x00ffffff

	)

363 
	#IN_CLASSA_MAX
 128

	)

365 
	#IN_CLASSB
(
i
è(((
u_št32_t
)(iè& 0xc0000000è=ğ0x80000000)

	)

366 
	#IN_CLASSB_NET
 0xffff0000

	)

367 
	#IN_CLASSB_NSHIFT
 16

	)

368 
	#IN_CLASSB_HOST
 0x0000ffff

	)

369 
	#IN_CLASSB_MAX
 65536

	)

371 
	#IN_CLASSC
(
i
è(((
u_št32_t
)(iè& 0xe0000000è=ğ0xc0000000)

	)

372 
	#IN_CLASSC_NET
 0xffffff00

	)

373 
	#IN_CLASSC_NSHIFT
 8

	)

374 
	#IN_CLASSC_HOST
 0x000000ff

	)

376 
	#IN_CLASSD
(
i
è(((
u_št32_t
)(iè& 0xf0000000è=ğ0xe0000000)

	)

377 
	#IN_CLASSD_NET
 0xf0000000

	)

378 
	#IN_CLASSD_NSHIFT
 28

	)

379 
	#IN_CLASSD_HOST
 0x0ffffffà

	)

380 
	#IN_MULTICAST
(
i
è
	`IN_CLASSD
(i)

	)

382 
	#IN_EXPERIMENTAL
(
i
è(((
u_št32_t
)(iè& 0xf0000000è=ğ0xf0000000)

	)

383 
	#IN_BADCLASS
(
i
è(((
u_št32_t
)(iè& 0xf0000000è=ğ0xf0000000)

	)

385 
	#IN_LINKLOCAL
(
i
è(((
u_št32_t
)(iè& 0xffff0000è=ğ0xa9ã0000)

	)

386 
	#IN_LOOPBACK
(
i
è(((
u_št32_t
)(iè& 0xff000000è=ğ0x7f000000)

	)

387 
	#IN_ZERONET
(
i
è(((
u_št32_t
)(iè& 0xff000000è=ğ0)

	)

389 
	#IN_PRIVATE
(
i
è((((
u_št32_t
)(i) & 0xff000000) == 0x0a000000) || \

390 (((
u_št32_t
)(
i
) & 0xfff00000) == 0xac100000) || \

391 (((
u_št32_t
)(
i
è& 0xffff0000è=ğ0xc0a80000))

	)

393 
	#IN_LOCAL_GROUP
(
i
è(((
u_št32_t
)(iè& 0xffffff00è=ğ0xe0000000)

	)

395 
	#IN_ANY_LOCAL
(
i
è(
	`IN_LINKLOCAL
(iè|| 
	`IN_LOCAL_GROUP
(i))

	)

397 
	#INADDR_LOOPBACK
 (
u_št32_t
)0x7f000001

	)

398 #iâdeà
_KERNEL


399 
	#INADDR_NONE
 0xfffffffà

	)

402 
	#INADDR_UNSPEC_GROUP
 (
u_št32_t
)0xe0000000

	)

403 
	#INADDR_ALLHOSTS_GROUP
 (
u_št32_t
)0xe0000001

	)

404 
	#INADDR_ALLRTRS_GROUP
 (
u_št32_t
)0xe0000002

	)

405 
	#INADDR_ALLRPTS_GROUP
 (
u_št32_t
)0xe0000016

	)

406 
	#INADDR_CARP_GROUP
 (
u_št32_t
)0xe0000012

	)

407 
	#INADDR_PFSYNC_GROUP
 (
u_št32_t
)0xe00000f0

	)

408 
	#INADDR_ALLMDNS_GROUP
 (
u_št32_t
)0xe00000fb

	)

409 
	#INADDR_MAX_LOCAL_GROUP
 (
u_št32_t
)0xe00000fà

	)

411 
	#IN_LOOPBACKNET
 127

	)

417 
	#IP_OPTIONS
 1

	)

418 
	#IP_HDRINCL
 2

	)

419 
	#IP_TOS
 3

	)

420 
	#IP_TTL
 4

	)

421 
	#IP_RECVOPTS
 5

	)

422 
	#IP_RECVRETOPTS
 6

	)

423 
	#IP_RECVDSTADDR
 7

	)

424 
	#IP_SENDSRCADDR
 
IP_RECVDSTADDR


	)

425 
	#IP_RETOPTS
 8

	)

426 
	#IP_MULTICAST_IF
 9

	)

428 
	#IP_MULTICAST_TTL
 10

	)

429 
	#IP_MULTICAST_LOOP
 11

	)

430 
	#IP_ADD_MEMBERSHIP
 12

	)

431 
	#IP_DROP_MEMBERSHIP
 13

	)

432 
	#IP_MULTICAST_VIF
 14

	)

433 
	#IP_RSVP_ON
 15

	)

434 
	#IP_RSVP_OFF
 16

	)

435 
	#IP_RSVP_VIF_ON
 17

	)

436 
	#IP_RSVP_VIF_OFF
 18

	)

437 
	#IP_PORTRANGE
 19

	)

438 
	#IP_RECVIF
 20

	)

440 
	#IP_IPSEC_POLICY
 21

	)

441 
	#IP_FAITH
 22

	)

443 
	#IP_ONESBCAST
 23

	)

444 
	#IP_BINDANY
 24

	)

451 
	#IP_FW_TABLE_ADD
 40

	)

452 
	#IP_FW_TABLE_DEL
 41

	)

453 
	#IP_FW_TABLE_FLUSH
 42

	)

454 
	#IP_FW_TABLE_GETSIZE
 43

	)

455 
	#IP_FW_TABLE_LIST
 44

	)

457 
	#IP_FW3
 48

	)

458 
	#IP_DUMMYNET3
 49

	)

460 
	#IP_FW_ADD
 50

	)

461 
	#IP_FW_DEL
 51

	)

462 
	#IP_FW_FLUSH
 52

	)

463 
	#IP_FW_ZERO
 53

	)

464 
	#IP_FW_GET
 54

	)

465 
	#IP_FW_RESETLOG
 55

	)

467 
	#IP_FW_NAT_CFG
 56

	)

468 
	#IP_FW_NAT_DEL
 57

	)

469 
	#IP_FW_NAT_GET_CONFIG
 58

	)

470 
	#IP_FW_NAT_GET_LOG
 59

	)

472 
	#IP_DUMMYNET_CONFIGURE
 60

	)

473 
	#IP_DUMMYNET_DEL
 61

	)

474 
	#IP_DUMMYNET_FLUSH
 62

	)

475 
	#IP_DUMMYNET_GET
 64

	)

477 
	#IP_RECVTTL
 65

	)

478 
	#IP_MINTTL
 66

	)

479 
	#IP_DONTFRAG
 67

	)

482 
	#IP_ADD_SOURCE_MEMBERSHIP
 70

	)

483 
	#IP_DROP_SOURCE_MEMBERSHIP
 71

	)

484 
	#IP_BLOCK_SOURCE
 72

	)

485 
	#IP_UNBLOCK_SOURCE
 73

	)

488 
	#IP_MSFILTER
 74

	)

491 
	#MCAST_JOIN_GROUP
 80

	)

492 
	#MCAST_LEAVE_GROUP
 81

	)

493 
	#MCAST_JOIN_SOURCE_GROUP
 82

	)

494 
	#MCAST_LEAVE_SOURCE_GROUP
 83

	)

495 
	#MCAST_BLOCK_SOURCE
 84

	)

496 
	#MCAST_UNBLOCK_SOURCE
 85

	)

501 
	#IP_DEFAULT_MULTICAST_TTL
 1

	)

502 
	#IP_DEFAULT_MULTICAST_LOOP
 1

	)

509 
	#IP_MIN_MEMBERSHIPS
 31

	)

510 
	#IP_MAX_MEMBERSHIPS
 4095

	)

511 
	#IP_MAX_SOURCE_FILTER
 1024

	)

517 
	#IP_MAX_GROUP_SRC_FILTER
 512

	)

518 
	#IP_MAX_SOCK_SRC_FILTER
 128

	)

519 
	#IP_MAX_SOCK_MUTE_FILTER
 128

	)

524 
	s_m»q
 {

525 
š_addr
 
	mimr_muÉŸddr
;

526 
š_addr
 
	mimr_š‹rçû
;

534 
	s_m»qn
 {

535 
š_addr
 
	mimr_muÉŸddr
;

536 
š_addr
 
	mimr_add»ss
;

537 
	mimr_ifšdex
;

543 
	s_m»q_sourû
 {

544 
š_addr
 
	mimr_muÉŸddr
;

545 
š_addr
 
	mimr_sourûaddr
;

546 
š_addr
 
	mimr_š‹rçû
;

553 
	sgroup_»q
 {

554 
ušt32_t
 
	mgr_š‹rçû
;

555 
sockaddr_¡Üage
 
	mgr_group
;

558 
	sgroup_sourû_»q
 {

559 
ušt32_t
 
	mg¤_š‹rçû
;

560 
sockaddr_¡Üage
 
	mg¤_group
;

561 
sockaddr_¡Üage
 
	mg¤_sourû
;

564 #iâdeà
__MSFILTERREQ_DEFINED


565 
	#__MSFILTERREQ_DEFINED


	)

571 
	s__msf‹¼eq
 {

572 
ušt32_t
 
	mmsä_ifšdex
;

573 
ušt32_t
 
	mmsä_fmode
;

574 
ušt32_t
 
	mmsä_n¤cs
;

575 
sockaddr_¡Üage
 
	mmsä_group
;

576 
sockaddr_¡Üage
 *
	mmsä_¤cs
;

583 
	gsockaddr
;

590 
£tv4sourûf‹r
(, 
š_addr
, š_addr, 
ušt32_t
,

591 
ušt32_t
, 
š_addr
 *);

592 
g‘v4sourûf‹r
(, 
š_addr
, š_addr, 
ušt32_t
 *,

593 
ušt32_t
 *, 
š_addr
 *);

594 
£tsourûf‹r
(, 
ušt32_t
, 
sockaddr
 *, 
sockËn_t
,

595 
ušt32_t
, ušt32_t, 
sockaddr_¡Üage
 *);

596 
g‘sourûf‹r
(, 
ušt32_t
, 
sockaddr
 *, 
sockËn_t
,

597 
ušt32_t
 *, ušt32_ˆ*, 
sockaddr_¡Üage
 *);

602 
	#MCAST_UNDEFINED
 0

	)

603 
	#MCAST_INCLUDE
 1

	)

604 
	#MCAST_EXCLUDE
 2

	)

610 
	#IP_PORTRANGE_DEFAULT
 0

	)

611 
	#IP_PORTRANGE_HIGH
 1

	)

612 
	#IP_PORTRANGE_LOW
 2

	)

620 
	#IPPROTO_MAXID
 (
IPPROTO_AH
 + 1è

	)

622 
	#CTL_IPPROTO_NAMES
 { \

623 { "", 
CTLTYPE_NODE
 }, \

624 { "icmp", 
CTLTYPE_NODE
 }, \

625 { "igmp", 
CTLTYPE_NODE
 }, \

626 { "ggp", 
CTLTYPE_NODE
 }, \

629 { "tı", 
CTLTYPE_NODE
 }, \

631 { "egp", 
CTLTYPE_NODE
 }, \

635 { "pup", 
CTLTYPE_NODE
 }, \

640 { "udp", 
CTLTYPE_NODE
 }, \

645 { "idp", 
CTLTYPE_NODE
 }, \

674 { "£c", 
CTLTYPE_NODE
 }, \

690 { "pim", 
CTLTYPE_NODE
 }, \

691 }

	)

696 
	#IPCTL_FORWARDING
 1

	)

697 
	#IPCTL_SENDREDIRECTS
 2

	)

698 
	#IPCTL_DEFTTL
 3

	)

699 #ifdeà
nÙy‘


700 
	#IPCTL_DEFMTU
 4

	)

702 
	#IPCTL_RTEXPIRE
 5

	)

703 
	#IPCTL_RTMINEXPIRE
 6

	)

704 
	#IPCTL_RTMAXCACHE
 7

	)

705 
	#IPCTL_SOURCEROUTE
 8

	)

706 
	#IPCTL_DIRECTEDBROADCAST
 9

	)

707 
	#IPCTL_INTRQMAXLEN
 10

	)

708 
	#IPCTL_INTRQDROPS
 11

	)

709 
	#IPCTL_STATS
 12

	)

710 
	#IPCTL_ACCEPTSOURCEROUTE
 13

	)

711 
	#IPCTL_FASTFORWARDING
 14

	)

712 
	#IPCTL_KEEPFAITH
 15

	)

713 
	#IPCTL_GIF_TTL
 16

	)

714 
	#IPCTL_MAXID
 17

	)

716 
	#IPCTL_NAMES
 { \

718 { "fÜw¬dšg", 
CTLTYPE_INT
 }, \

719 { "»dœeù", 
CTLTYPE_INT
 }, \

720 { "‰l", 
CTLTYPE_INT
 }, \

721 { "mtu", 
CTLTYPE_INT
 }, \

722 { "¹expœe", 
CTLTYPE_INT
 }, \

723 { "¹mšexpœe", 
CTLTYPE_INT
 }, \

724 { "¹maxÿche", 
CTLTYPE_INT
 }, \

725 { "sourûrou‹", 
CTLTYPE_INT
 }, \

726 { "dœeùed-brßdÿ¡", 
CTLTYPE_INT
 }, \

727 { "šŒ-queue-maxËn", 
CTLTYPE_INT
 }, \

728 { "šŒ-queue-drİs", 
CTLTYPE_INT
 }, \

729 { "¡©s", 
CTLTYPE_STRUCT
 }, \

730 { "acû±_sourûrou‹", 
CTLTYPE_INT
 }, \

731 { "ç¡fÜw¬dšg", 
CTLTYPE_INT
 }, \

732 }

	)

736 #ifdeà
_KERNEL


738 
	giâ‘
; 
	gmbuf
;

740 
š_brßdÿ¡
(
š_addr
, 
iâ‘
 *);

741 
š_ÿnfÜw¬d
(
š_addr
);

742 
š_loÿÏddr
(
š_addr
);

743 
š_loÿl
(
š_addr
);

744 
š‘_©Ú
(cÚ¡ *, 
š_addr
 *);

745 *
š‘_Áß
(
š_addr
);

746 *
š‘_Áß_r
(
š_addr
 
ša
, *
buf
);

747 *
š‘_Áİ
(, cÚ¡ *, *, 
sockËn_t
);

748 
š‘_±Ú
(
af
, const *, *);

749 
š_ifd‘ach
(
iâ‘
 *);

751 
	#š_ho¡eq
(
s
, 
t
è((s).
s_addr
 =ğÑ).s_addr)

	)

752 
	#š_nuÎho¡
(
x
è((x).
s_addr
 =ğ
INADDR_ANY
)

	)

753 
	#š_®lho¡s
(
x
è((x).
s_addr
 =ğ
	`htÚl
(
INADDR_ALLHOSTS_GROUP
))

	)

755 
	#§tosš
(
§
è((
sockaddr_š
 *)(§))

	)

756 
	#sšto§
(
sš
è((
sockaddr
 *)(sš))

	)

757 
	#içtoŸ
(
iç
è((
š_içddr
 *)(iç))

	)

768 #ià(
BYTE_ORDER
 =ğ
BIG_ENDIAN
è|| 
defšed
(
HAVE_NET_IPLEN
)

769 
	#SET_NET_IPLEN
(
p
èdØ{} 0)

	)

770 
	#SET_HOST_IPLEN
(
p
èdØ{} 0)

	)

772 
	#SET_NET_IPLEN
(
p
) do { \

773 

 *
h_
 = (
p
); \

774 
h_
->
_Ën
 = 
	`htÚs
(h_ip->ip_len); \

775 
h_
->
_off
 = 
	`htÚs
(h_ip->ip_off); \

776 } 0)

	)

778 
	#SET_HOST_IPLEN
(
p
) do { \

779 

 *
h_
 = (
p
); \

780 
h_
->
_Ën
 = 
	`Áohs
(h_ip->ip_len); \

781 
h_
->
_off
 = 
	`Áohs
(h_ip->ip_off); \

782 } 0)

	)

788 #ià
__POSIX_VISIBLE
 >= 200112

789 
	#__KAME_NETINET_IN_H_INCLUDED_


	)

790 
	~<Ãtš‘6/š6.h
>

791 #undeà
__KAME_NETINET_IN_H_INCLUDED_


	@/usr/include/netinet/in_systm.h

33 #iâdeà
_NETINET_IN_SYSTM_H_


34 
	#_NETINET_IN_SYSTM_H_


	)

49 
u_št16_t
 
	tn_shÜt
;

50 
u_št32_t
 
	tn_lÚg
;

52 
u_št32_t
 
	tn_time
;

54 #ifdeà
_KERNEL


55 
ušt32_t
 
time
();

	@/usr/include/netinet/ip.h

34 #iâdeà
_NETINET_IP_H_


35 
	#_NETINET_IP_H_


	)

37 
	~<sys/cdefs.h
>

44 
	#IPVERSION
 4

	)

49 
	s
 {

50 #ià
BYTE_ORDER
 =ğ
LITTLE_ENDIAN


51 
u_št
 
	m_hl
:4,

52 
	m_v
:4;

54 #ià
BYTE_ORDER
 =ğ
BIG_ENDIAN


55 
u_št
 
	m_v
:4,

56 
	m_hl
:4;

58 
u_ch¬
 
	m_tos
;

59 
u_shÜt
 
	m_Ën
;

60 
u_shÜt
 
	m_id
;

61 
u_shÜt
 
	m_off
;

62 
	#IP_RF
 0x8000

	)

63 
	#IP_DF
 0x4000

	)

64 
	#IP_MF
 0x2000

	)

65 
	#IP_OFFMASK
 0x1ffà

	)

66 
u_ch¬
 
	m_‰l
;

67 
u_ch¬
 
	m_p
;

68 
u_shÜt
 
	m_sum
;

69 
š_addr
 
	m_¤c
,
	m_d¡
;

70 } 
__·cked
 
__®igÃd
(4);

72 
	#IP_MAXPACKET
 65535

	)

77 
	#IPTOS_LOWDELAY
 0x10

	)

78 
	#IPTOS_THROUGHPUT
 0x08

	)

79 
	#IPTOS_RELIABILITY
 0x04

	)

80 
	#IPTOS_MINCOST
 0x02

	)

85 
	#IPTOS_PREC_NETCONTROL
 0xe0

	)

86 
	#IPTOS_PREC_INTERNETCONTROL
 0xc0

	)

87 
	#IPTOS_PREC_CRITIC_ECP
 0xa0

	)

88 
	#IPTOS_PREC_FLASHOVERRIDE
 0x80

	)

89 
	#IPTOS_PREC_FLASH
 0x60

	)

90 
	#IPTOS_PREC_IMMEDIATE
 0x40

	)

91 
	#IPTOS_PREC_PRIORITY
 0x20

	)

92 
	#IPTOS_PREC_ROUTINE
 0x00

	)

98 
	#IPTOS_ECN_NOTECT
 0x00

	)

99 
	#IPTOS_ECN_ECT1
 0x01

	)

100 
	#IPTOS_ECN_ECT0
 0x02

	)

101 
	#IPTOS_ECN_CE
 0x03

	)

102 
	#IPTOS_ECN_MASK
 0x03

	)

107 
	#IPOPT_COPIED
(
o
è((o)&0x80)

	)

108 
	#IPOPT_CLASS
(
o
è((o)&0x60)

	)

109 
	#IPOPT_NUMBER
(
o
è((o)&0x1f)

	)

111 
	#IPOPT_CONTROL
 0x00

	)

112 
	#IPOPT_RESERVED1
 0x20

	)

113 
	#IPOPT_DEBMEAS
 0x40

	)

114 
	#IPOPT_RESERVED2
 0x60

	)

116 
	#IPOPT_EOL
 0

	)

117 
	#IPOPT_NOP
 1

	)

119 
	#IPOPT_RR
 7

	)

120 
	#IPOPT_TS
 68

	)

121 
	#IPOPT_SECURITY
 130

	)

122 
	#IPOPT_LSRR
 131

	)

123 
	#IPOPT_ESO
 133

	)

124 
	#IPOPT_CIPSO
 134

	)

125 
	#IPOPT_SATID
 136

	)

126 
	#IPOPT_SSRR
 137

	)

127 
	#IPOPT_RA
 148

	)

132 
	#IPOPT_OPTVAL
 0

	)

133 
	#IPOPT_OLEN
 1

	)

134 
	#IPOPT_OFFSET
 2

	)

135 
	#IPOPT_MINOFF
 4

	)

140 
	s_time¡amp
 {

141 
u_ch¬
 
	mt_code
;

142 
u_ch¬
 
	mt_Ën
;

143 
u_ch¬
 
	mt_±r
;

144 #ià
BYTE_ORDER
 =ğ
LITTLE_ENDIAN


145 
u_št
 
	mt_æg
:4,

146 
	mt_oæw
:4;

148 #ià
BYTE_ORDER
 =ğ
BIG_ENDIAN


149 
u_št
 
	mt_oæw
:4,

150 
	mt_æg
:4;

152 
	ut_time¡amp
 {

153 
ušt32_t
 
	mt_time
[1];

154 
	st_
 {

155 
š_addr
 
	mt_addr
;

156 
ušt32_t
 
	mt_time
;

157 } 
	mt_
[1];

158 } 
	mt_time¡amp
;

162 
	#IPOPT_TS_TSONLY
 0

	)

163 
	#IPOPT_TS_TSANDADDR
 1

	)

164 
	#IPOPT_TS_PRESPEC
 3

	)

167 
	#IPOPT_SECUR_UNCLASS
 0x0000

	)

168 
	#IPOPT_SECUR_CONFID
 0xf135

	)

169 
	#IPOPT_SECUR_EFTO
 0x789a

	)

170 
	#IPOPT_SECUR_MMMM
 0xbc4d

	)

171 
	#IPOPT_SECUR_RESTR
 0xaf13

	)

172 
	#IPOPT_SECUR_SECRET
 0xd788

	)

173 
	#IPOPT_SECUR_TOPSECRET
 0x6bc5

	)

178 
	#MAXTTL
 255

	)

179 
	#IPDEFTTL
 64

	)

180 
	#IPFRAGTTL
 60

	)

181 
	#IPTTLDEC
 1

	)

182 
	#IP_MSS
 576

	)

189 
	sp£udo
 {

190 
š_addr
 
	mp£udo_¤c
;

191 
š_addr
 
	mp£udo_d¡
;

192 
u_ch¬
 
	mp£udo_·d
;

193 
u_ch¬
 
	mp£udo_p
;

194 
u_shÜt
 
	mp£udo_Ën
;

	@/usr/include/nlist.h

43 #iâdeà
_NLIST_H_


44 
	#_NLIST_H_


	)

46 
	~<sys/Æi¡_aout.h
>

47 
	~<sys/cdefs.h
>

49 
__BEGIN_DECLS


50 
Æi¡
(const *, nlist *);

51 
	g__END_DECLS


	@/usr/include/openssl/des.h

59 #iâdeà
HEADER_NEW_DES_H


60 
	#HEADER_NEW_DES_H


	)

62 
	~<İ’s¦/e_os2.h
>

65 #ifdeà
OPENSSL_NO_DES


66 #”rÜ 
DES
 
is
 
di§bËd
.

69 #ifdeà
OPENSSL_BUILD_SHLIBCRYPTO


70 #undeà
OPENSSL_EXTERN


71 
	#OPENSSL_EXTERN
 
OPENSSL_EXPORT


	)

74 #ifdeà 
__ılu¥lus


78 
	tDES_cblock
[8];

79 
	tcÚ¡_DES_cblock
[8];

83 
	sDES_ks


87 
DES_cblock
 
cblock
;

90 
DES_LONG
 
de¦Úg
[2];

91 } 
ks
[16];

92 } 
	tDES_key_scheduË
;

94 #iâdeà
OPENSSL_DISABLE_OLD_DES_SUPPORT


95 #iâdeà
OPENSSL_ENABLE_OLD_DES_SUPPORT


96 
	#OPENSSL_ENABLE_OLD_DES_SUPPORT


	)

100 #ifdeà
OPENSSL_ENABLE_OLD_DES_SUPPORT


101 
	~<İ’s¦/des_Şd.h
>

104 
	#DES_KEY_SZ
 ((
DES_cblock
))

	)

105 
	#DES_SCHEDULE_SZ
 ((
DES_key_scheduË
))

	)

107 
	#DES_ENCRYPT
 1

	)

108 
	#DES_DECRYPT
 0

	)

110 
	#DES_CBC_MODE
 0

	)

111 
	#DES_PCBC_MODE
 1

	)

113 
	#DES_ecb2_’üy±
(
i
,
o
,
k1
,
k2
,
e
) \

114 
	`DES_ecb3_’üy±
((
i
),(
o
),(
k1
),(
k2
),(k1),(
e
))

	)

116 
	#DES_ede2_cbc_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
e
) \

117 
	`DES_ede3_cbc_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
e
))

	)

119 
	#DES_ede2_cfb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
n
,
e
) \

120 
	`DES_ede3_cfb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
n
),(
e
))

	)

122 
	#DES_ede2_ofb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
n
) \

123 
	`DES_ede3_ofb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
n
))

	)

125 
OPENSSL_DECLARE_GLOBAL
(,
DES_check_key
);

126 
	#DES_check_key
 
	`OPENSSL_GLOBAL_REF
(
DES_check_key
)

	)

127 
OPENSSL_DECLARE_GLOBAL
(,
DES_rw_mode
);

128 
	#DES_rw_mode
 
	`OPENSSL_GLOBAL_REF
(
DES_rw_mode
)

	)

130 cÚ¡ *
DES_İtiÚs
();

131 
DES_ecb3_’üy±
(
cÚ¡_DES_cblock
 *
šput
, 
DES_cblock
 *
ouut
,

132 
DES_key_scheduË
 *
ks1
,DES_key_scheduË *
ks2
,

133 
DES_key_scheduË
 *
ks3
, 
’c
);

134 
DES_LONG
 
DES_cbc_cksum
(cÚ¡ *
šput
,
DES_cblock
 *
ouut
,

135 
Ëngth
,
DES_key_scheduË
 *
scheduË
,

136 
cÚ¡_DES_cblock
 *
ivec
);

138 
DES_cbc_’üy±
(cÚ¡ *
šput
,*
ouut
,

139 
Ëngth
,
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,

140 
’c
);

141 
DES_ncbc_’üy±
(cÚ¡ *
šput
,*
ouut
,

142 
Ëngth
,
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,

143 
’c
);

144 
DES_xcbc_’üy±
(cÚ¡ *
šput
,*
ouut
,

145 
Ëngth
,
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,

146 
cÚ¡_DES_cblock
 *
šw
,cÚ¡_DES_cblock *
outw
,
’c
);

147 
DES_cfb_’üy±
(cÚ¡ *
š
,*
out
,
numb™s
,

148 
Ëngth
,
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,

149 
’c
);

150 
DES_ecb_’üy±
(
cÚ¡_DES_cblock
 *
šput
,
DES_cblock
 *
ouut
,

151 
DES_key_scheduË
 *
ks
,
’c
);

162 
DES_’üy±1
(
DES_LONG
 *
d©a
,
DES_key_scheduË
 *
ks
, 
’c
);

170 
DES_’üy±2
(
DES_LONG
 *
d©a
,
DES_key_scheduË
 *
ks
, 
’c
);

172 
DES_’üy±3
(
DES_LONG
 *
d©a
, 
DES_key_scheduË
 *
ks1
,

173 
DES_key_scheduË
 *
ks2
, DES_key_scheduË *
ks3
);

174 
DES_deüy±3
(
DES_LONG
 *
d©a
, 
DES_key_scheduË
 *
ks1
,

175 
DES_key_scheduË
 *
ks2
, DES_key_scheduË *
ks3
);

176 
DES_ede3_cbc_’üy±
(cÚ¡ *
šput
,*
ouut
,

177 
Ëngth
,

178 
DES_key_scheduË
 *
ks1
,DES_key_scheduË *
ks2
,

179 
DES_key_scheduË
 *
ks3
,
DES_cblock
 *
ivec
,
’c
);

180 
DES_ede3_cbcm_’üy±
(cÚ¡ *
š
,*
out
,

181 
Ëngth
,

182 
DES_key_scheduË
 *
ks1
,DES_key_scheduË *
ks2
,

183 
DES_key_scheduË
 *
ks3
,

184 
DES_cblock
 *
ivec1
,DES_cblock *
ivec2
,

185 
’c
);

186 
DES_ede3_cfb64_’üy±
(cÚ¡ *
š
,*
out
,

187 
Ëngth
,
DES_key_scheduË
 *
ks1
,

188 
DES_key_scheduË
 *
ks2
,DES_key_scheduË *
ks3
,

189 
DES_cblock
 *
ivec
,*
num
,
’c
);

190 
DES_ede3_cfb_’üy±
(cÚ¡ *
š
,*
out
,

191 
numb™s
,
Ëngth
,
DES_key_scheduË
 *
ks1
,

192 
DES_key_scheduË
 *
ks2
,DES_key_scheduË *
ks3
,

193 
DES_cblock
 *
ivec
,
’c
);

194 
DES_ede3_ofb64_’üy±
(cÚ¡ *
š
,*
out
,

195 
Ëngth
,
DES_key_scheduË
 *
ks1
,

196 
DES_key_scheduË
 *
ks2
,DES_key_scheduË *
ks3
,

197 
DES_cblock
 *
ivec
,*
num
);

199 
DES_xwh™e_š2out
(
cÚ¡_DES_cblock
 *
DES_key
,cÚ¡_DES_cblock *
š_wh™e
,

200 
DES_cblock
 *
out_wh™e
);

203 
DES_’c_»ad
(
fd
,*
buf
,
Ën
,
DES_key_scheduË
 *
sched
,

204 
DES_cblock
 *
iv
);

205 
DES_’c_wr™e
(
fd
,cÚ¡ *
buf
,
Ën
,
DES_key_scheduË
 *
sched
,

206 
DES_cblock
 *
iv
);

207 *
DES_füy±
(cÚ¡ *
buf
,cÚ¡ *
§É
, *
»t
);

208 *
DES_üy±
(cÚ¡ *
buf
,cÚ¡ *
§É
);

209 
DES_ofb_’üy±
(cÚ¡ *
š
,*
out
,
numb™s
,

210 
Ëngth
,
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
);

211 
DES_pcbc_’üy±
(cÚ¡ *
šput
,*
ouut
,

212 
Ëngth
,
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,

213 
’c
);

214 
DES_LONG
 
DES_quad_cksum
(cÚ¡ *
šput
,
DES_cblock
 
ouut
[],

215 
Ëngth
,
out_couÁ
,
DES_cblock
 *
£ed
);

216 
DES_¿ndom_key
(
DES_cblock
 *
»t
);

217 
DES_£t_odd_·r™y
(
DES_cblock
 *
key
);

218 
DES_check_key_·r™y
(
cÚ¡_DES_cblock
 *
key
);

219 
DES_is_w—k_key
(
cÚ¡_DES_cblock
 *
key
);

223 
DES_£t_key
(
cÚ¡_DES_cblock
 *
key
,
DES_key_scheduË
 *
scheduË
);

224 
DES_key_sched
(
cÚ¡_DES_cblock
 *
key
,
DES_key_scheduË
 *
scheduË
);

225 
DES_£t_key_checked
(
cÚ¡_DES_cblock
 *
key
,
DES_key_scheduË
 *
scheduË
);

226 
DES_£t_key_unchecked
(
cÚ¡_DES_cblock
 *
key
,
DES_key_scheduË
 *
scheduË
);

227 
DES_¡ršg_to_key
(cÚ¡ *
¡r
,
DES_cblock
 *
key
);

228 
DES_¡ršg_to_2keys
(cÚ¡ *
¡r
,
DES_cblock
 *
key1
,DES_cblock *
key2
);

229 
DES_cfb64_’üy±
(cÚ¡ *
š
,*
out
,
Ëngth
,

230 
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,*
num
,

231 
’c
);

232 
DES_ofb64_’üy±
(cÚ¡ *
š
,*
out
,
Ëngth
,

233 
DES_key_scheduË
 *
scheduË
,
DES_cblock
 *
ivec
,*
num
);

235 
DES_»ad_·sswÜd
(
DES_cblock
 *
key
, cÚ¡ *
´om±
, 
v”ify
);

236 
DES_»ad_2·sswÜds
(
DES_cblock
 *
key1
, DES_cblock *
key2
, cÚ¡ *
´om±
,

237 
v”ify
);

239 
	#DES_fixup_key_·r™y
 
DES_£t_odd_·r™y


	)

241 #ifdeà 
__ılu¥lus


	@/usr/include/paths.h

37 #iâdeà
_PATHS_H_


38 
	#_PATHS_H_


	)

40 
	~<sys/cdefs.h
>

43 
	#_PATH_DEFPATH
 "/u¤/bš:/bš"

	)

45 
	#_PATH_STDPATH
 "/u¤/bš:/bš:/u¤/sbš:/sbš:"

	)

47 
	#_PATH_SYSPATH
 "/sbš:/u¤/sbš"

	)

49 
	#_PATH_AUTHCONF
 "/‘c/auth.cÚf"

	)

50 
	#_PATH_BSHELL
 "/bš/sh"

	)

51 
	#_PATH_CAPABILITY
 "/‘c/ÿ·b™y"

	)

52 
	#_PATH_CAPABILITY_DB
 "/‘c/ÿ·b™y.db"

	)

53 
	#_PATH_CONSOLE
 "/dev/cÚsŞe"

	)

54 
	#_PATH_CP
 "/bš/ı"

	)

55 
	#_PATH_CSHELL
 "/bš/csh"

	)

56 
	#_PATH_DEFTAPE
 "/dev/§0"

	)

57 
	#_PATH_DEVNULL
 "/dev/nuÎ"

	)

58 
	#_PATH_DEVZERO
 "/dev/z”o"

	)

59 
	#_PATH_DRUM
 "/dev/drum"

	)

60 
	#_PATH_ETC
 "/‘c"

	)

61 
	#_PATH_FTPUSERS
 "/‘c/ápu£rs"

	)

62 
	#_PATH_FWMEM
 "/dev/fwmem"

	)

63 
	#_PATH_HALT
 "/sbš/h®t"

	)

64 
	#_PATH_IFCONFIG
 "/sbš/ifcÚfig"

	)

65 
	#_PATH_KMEM
 "/dev/kmem"

	)

66 
	#_PATH_LIBMAP_CONF
 "/‘c/libm­.cÚf"

	)

67 
	#_PATH_LOCALE
 "/u¤/sh¬e/loÿË"

	)

68 
	#_PATH_LOGIN
 "/u¤/bš/logš"

	)

69 
	#_PATH_MAILDIR
 "/v¬/ma"

	)

70 
	#_PATH_MAN
 "/u¤/sh¬e/mª"

	)

71 
	#_PATH_MDCONFIG
 "/sbš/mdcÚfig"

	)

72 
	#_PATH_MEM
 "/dev/mem"

	)

73 
	#_PATH_MKSNAP_FFS
 "/sbš/mk¢­_ffs"

	)

74 
	#_PATH_MOUNT
 "/sbš/mouÁ"

	)

75 
	#_PATH_NEWFS
 "/sbš/Ãwfs"

	)

76 
	#_PATH_NOLOGIN
 "/v¬/run/nŞogš"

	)

77 
	#_PATH_RCP
 "/bš/rı"

	)

78 
	#_PATH_REBOOT
 "/sbš/»boÙ"

	)

79 
	#_PATH_RLOGIN
 "/u¤/bš/¾ogš"

	)

80 
	#_PATH_RM
 "/bš/rm"

	)

81 
	#_PATH_RSH
 "/u¤/bš/rsh"

	)

82 
	#_PATH_SENDMAIL
 "/u¤/sbš/£ndma"

	)

83 
	#_PATH_SHELLS
 "/‘c/sh–ls"

	)

84 
	#_PATH_TTY
 "/dev/‰y"

	)

85 
	#_PATH_UNIX
 "dÚ'ˆu£ _PATH_UNIX"

	)

86 
	#_PATH_VI
 "/u¤/bš/vi"

	)

87 
	#_PATH_WALL
 "/u¤/bš/w®l"

	)

90 
	#_PATH_DEV
 "/dev/"

	)

91 
	#_PATH_TMP
 "/tmp/"

	)

92 
	#_PATH_VARDB
 "/v¬/db/"

	)

93 
	#_PATH_VARRUN
 "/v¬/run/"

	)

94 
	#_PATH_VARTMP
 "/v¬/tmp/"

	)

95 
	#_PATH_YP
 "/v¬/yp/"

	)

96 
	#_PATH_UUCPLOCK
 "/v¬/¥oŞ/lock/"

	)

99 
__BEGIN_DECLS


100 cÚ¡ *
g‘boÙfe
();

101 
	g__END_DECLS


103 #ifdeà
RESCUE


104 #undeà
_PATH_DEFPATH


105 
	#_PATH_DEFPATH
 "/»scue:/u¤/bš:/bš"

	)

106 #undeà
_PATH_STDPATH


107 
	#_PATH_STDPATH
 "/»scue:/u¤/bš:/bš:/u¤/sbš:/sbš"

	)

108 #undeà
_PATH_SYSPATH


109 
	#_PATH_SYSPATH
 "/»scue:/sbš:/u¤/sbš"

	)

110 #undeà
_PATH_BSHELL


111 
	#_PATH_BSHELL
 "/»scue/sh"

	)

112 #undeà
_PATH_CP


113 
	#_PATH_CP
 "/»scue/ı"

	)

114 #undeà
_PATH_CSHELL


115 
	#_PATH_CSHELL
 "/»scue/csh"

	)

116 #undeà
_PATH_HALT


117 
	#_PATH_HALT
 "/»scue/h®t"

	)

118 #undeà
_PATH_IFCONFIG


119 
	#_PATH_IFCONFIG
 "/»scue/ifcÚfig"

	)

120 #undeà
_PATH_MDCONFIG


121 
	#_PATH_MDCONFIG
 "/»scue/mdcÚfig"

	)

122 #undeà
_PATH_MOUNT


123 
	#_PATH_MOUNT
 "/»scue/mouÁ"

	)

124 #undeà
_PATH_NEWFS


125 
	#_PATH_NEWFS
 "/»scue/Ãwfs"

	)

126 #undeà
_PATH_RCP


127 
	#_PATH_RCP
 "/»scue/rı"

	)

128 #undeà
_PATH_REBOOT


129 
	#_PATH_REBOOT
 "/»scue/»boÙ"

	)

130 #undeà
_PATH_RM


131 
	#_PATH_RM
 "/»scue/rm"

	)

132 #undeà
_PATH_VI


133 
	#_PATH_VI
 "/»scue/vi"

	)

134 #undeà
_PATH_WALL


135 
	#_PATH_WALL
 "/»scue/w®l"

	)

	@/usr/include/protocols/timed.h

38 #iâdef 
_PROTOCOLS_TIMED_H_


39 
	#_PROTOCOLS_TIMED_H_


	)

45 
	#TSPVERSION
 1

	)

46 
	#ANYADDR
 
NULL


	)

48 
	st¥
 {

49 
u_št8_t
 
	mt¥_ty³
;

50 
u_št8_t
 
	mt¥_v”s
;

51 
u_št16_t
 
	mt¥_£q
;

54 
št32_t
 
	mtv_£c
;

55 
št32_t
 
	mtv_u£c
;

56 } 
	mt¥u_time
;

57 
	mt¥u_hİút
;

58 } 
	mt¥_u
;

59 
	mt¥_Çme
[
MAXHOSTNAMELEN
];

62 
	#t¥_time
 
t¥_u
.
t¥u_time


	)

63 
	#t¥_hİút
 
t¥_u
.
t¥u_hİút


	)

68 
	#TSP_ANY
 0

	)

69 
	#TSP_ADJTIME
 1

	)

70 
	#TSP_ACK
 2

	)

71 
	#TSP_MASTERREQ
 3

	)

72 
	#TSP_MASTERACK
 4

	)

73 
	#TSP_SETTIME
 5

	)

74 
	#TSP_MASTERUP
 6

	)

75 
	#TSP_SLAVEUP
 7

	)

76 
	#TSP_ELECTION
 8

	)

77 
	#TSP_ACCEPT
 9

	)

78 
	#TSP_REFUSE
 10

	)

79 
	#TSP_CONFLICT
 11

	)

80 
	#TSP_RESOLVE
 12

	)

81 
	#TSP_QUIT
 13

	)

82 
	#TSP_DATE
 14

	)

83 
	#TSP_DATEREQ
 15

	)

84 
	#TSP_DATEACK
 16

	)

85 
	#TSP_TRACEON
 17

	)

86 
	#TSP_TRACEOFF
 18

	)

87 
	#TSP_MSITE
 19

	)

88 
	#TSP_MSITEREQ
 20

	)

89 
	#TSP_TEST
 21

	)

90 
	#TSP_SETDATE
 22

	)

91 
	#TSP_SETDATEREQ
 23

	)

92 
	#TSP_LOOP
 24

	)

94 
	#TSPTYPENUMBER
 25

	)

96 #ifdeà
TSPTYPES


97 cÚ¡ *
	gt¥ty³
[
TSPTYPENUMBER
] =

	@/usr/include/pwd.h

42 #iâdeà
_PWD_H_


43 
	#_PWD_H_


	)

45 
	~<sys/cdefs.h
>

46 
	~<sys/_ty³s.h
>

48 #iâdeà
_GID_T_DECLARED


49 
__gid_t
 
	tgid_t
;

50 
	#_GID_T_DECLARED


	)

53 #iâdeà
_TIME_T_DECLARED


54 
__time_t
 
	ttime_t
;

55 
	#_TIME_T_DECLARED


	)

58 #iâdeà
_UID_T_DECLARED


59 
__uid_t
 
	tuid_t
;

60 
	#_UID_T_DECLARED


	)

63 #iâdeà
_SIZE_T_DECLARED


64 
__size_t
 
	tsize_t
;

65 
	#_SIZE_T_DECLARED


	)

68 
	#_PATH_PWD
 "/‘c"

	)

69 
	#_PATH_PASSWD
 "/‘c/·sswd"

	)

70 
	#_PASSWD
 "·sswd"

	)

71 
	#_PATH_MASTERPASSWD
 "/‘c/ma¡”.·sswd"

	)

72 
	#_MASTERPASSWD
 "ma¡”.·sswd"

	)

74 
	#_PATH_MP_DB
 "/‘c/pwd.db"

	)

75 
	#_MP_DB
 "pwd.db"

	)

76 
	#_PATH_SMP_DB
 "/‘c/¥wd.db"

	)

77 
	#_SMP_DB
 "¥wd.db"

	)

79 
	#_PATH_PWD_MKDB
 "/u¤/sbš/pwd_mkdb"

	)

96 
	#_PW_VERSION_MASK
 '\xF0'

	)

97 
	#_PW_VERSIONED
(
x
, 
v
è(()(((xè& 0xCFè| ((v)<<4)))

	)

99 
	#_PW_KEYBYNAME
 '\x31'

	)

100 
	#_PW_KEYBYNUM
 '\x32'

	)

101 
	#_PW_KEYBYUID
 '\x33'

	)

102 
	#_PW_KEYYPENABLED
 '\x34'

	)

103 
	#_PW_KEYYPBYNUM
 '\x35'

	)

109 
	#_PWD_VERSION_KEY
 "\xFF" "VERSION"

	)

110 
	#_PWD_CURRENT_VERSION
 '\x04'

	)

112 
	#_PASSWORD_EFMT1
 '_'

	)

114 
	#_PASSWORD_LEN
 128

	)

116 
	s·sswd
 {

117 *
	mpw_Çme
;

118 *
	mpw_·sswd
;

119 
uid_t
 
	mpw_uid
;

120 
gid_t
 
	mpw_gid
;

121 
time_t
 
	mpw_chªge
;

122 *
	mpw_şass
;

123 *
	mpw_gecos
;

124 *
	mpw_dœ
;

125 *
	mpw_sh–l
;

126 
time_t
 
	mpw_expœe
;

127 
	mpw_f›lds
;

131 
	#_PWF
(
x
è(1 << x)

	)

132 
	#_PWF_NAME
 
	`_PWF
(0)

	)

133 
	#_PWF_PASSWD
 
	`_PWF
(1)

	)

134 
	#_PWF_UID
 
	`_PWF
(2)

	)

135 
	#_PWF_GID
 
	`_PWF
(3)

	)

136 
	#_PWF_CHANGE
 
	`_PWF
(4)

	)

137 
	#_PWF_CLASS
 
	`_PWF
(5)

	)

138 
	#_PWF_GECOS
 
	`_PWF
(6)

	)

139 
	#_PWF_DIR
 
	`_PWF
(7)

	)

140 
	#_PWF_SHELL
 
	`_PWF
(8)

	)

141 
	#_PWF_EXPIRE
 
	`_PWF
(9)

	)

146 
	#_PWF_SOURCE
 0x3000

	)

147 
	#_PWF_FILES
 0x1000

	)

148 
	#_PWF_NIS
 0x2000

	)

149 
	#_PWF_HESIOD
 0x3000

	)

151 
__BEGIN_DECLS


152 
·sswd
 *
g‘pwÇm
(const *);

153 
·sswd
 *
g‘pwuid
(
uid_t
);

155 #ià
__XSI_VISIBLE
 >= 500

156 
’dpw’t
();

157 
·sswd
 *
g‘pw’t
();

158 
£w’t
();

161 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE
 >= 500

162 
g‘pwÇm_r
(cÚ¡ *, 
·sswd
 *, *, 
size_t
,

163 
·sswd
 **);

164 
g‘pwuid_r
(
uid_t
, 
·sswd
 *, *, 
size_t
,

165 
·sswd
 **);

168 #ià
__BSD_VISIBLE


169 
g‘pw’t_r
(
·sswd
 *, *, 
size_t
, passwd **);

170 
£as£Á
();

171 cÚ¡ *
u£r_äom_uid
(
uid_t
, );

173 
	g__END_DECLS


	@/usr/include/regex.h

41 #iâdeà
_REGEX_H_


42 
	#_REGEX_H_


	)

44 
	~<sys/cdefs.h
>

45 
	~<sys/_ty³s.h
>

48 
__off_t
 
	t»goff_t
;

50 #iâdeà
_SIZE_T_DECLARED


51 
__size_t
 
	tsize_t
;

52 
	#_SIZE_T_DECLARED


	)

56 
	m»_magic
;

57 
size_t
 
	m»_nsub
;

58 
__cÚ¡
 *
	m»_’dp
;

59 
»_guts
 *
	m»_g
;

60 } 
	t»gex_t
;

63 
»goff_t
 
	mrm_so
;

64 
»goff_t
 
	mrm_eo
;

65 } 
	t»gm©ch_t
;

68 
	#REG_BASIC
 0000

	)

69 
	#REG_EXTENDED
 0001

	)

70 
	#REG_ICASE
 0002

	)

71 
	#REG_NOSUB
 0004

	)

72 
	#REG_NEWLINE
 0010

	)

73 
	#REG_NOSPEC
 0020

	)

74 
	#REG_PEND
 0040

	)

75 
	#REG_DUMP
 0200

	)

78 
	#REG_ENOSYS
 (-1)

	)

79 
	#REG_NOMATCH
 1

	)

80 
	#REG_BADPAT
 2

	)

81 
	#REG_ECOLLATE
 3

	)

82 
	#REG_ECTYPE
 4

	)

83 
	#REG_EESCAPE
 5

	)

84 
	#REG_ESUBREG
 6

	)

85 
	#REG_EBRACK
 7

	)

86 
	#REG_EPAREN
 8

	)

87 
	#REG_EBRACE
 9

	)

88 
	#REG_BADBR
 10

	)

89 
	#REG_ERANGE
 11

	)

90 
	#REG_ESPACE
 12

	)

91 
	#REG_BADRPT
 13

	)

92 
	#REG_EMPTY
 14

	)

93 
	#REG_ASSERT
 15

	)

94 
	#REG_INVARG
 16

	)

95 
	#REG_ILLSEQ
 17

	)

96 
	#REG_ATOI
 255

	)

97 
	#REG_ITOA
 0400

	)

100 
	#REG_NOTBOL
 00001

	)

101 
	#REG_NOTEOL
 00002

	)

102 
	#REG_STARTEND
 00004

	)

103 
	#REG_TRACE
 00400

	)

104 
	#REG_LARGE
 01000

	)

105 
	#REG_BACKR
 02000

	)

107 
__BEGIN_DECLS


108 
»gcomp
(
»gex_t
 * 
__»¡riù
, const * __restrict, );

109 
size_t
 
»g”rÜ
(, cÚ¡ 
»gex_t
 * 
__»¡riù
, * __restrict, size_t);

115 
»gexec
(cÚ¡ 
»gex_t
 * 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
,

116 
»gm©ch_t
 * 
__»¡riù
, );

117 
»gä“
(
»gex_t
 *);

118 
	g__END_DECLS


	@/usr/include/regexp.h

41 #iâdef 
_REGEXP_H_


42 
	#_REGEXP_H_


	)

50 
	#NSUBEXP
 10

	)

51 
	s»gexp
 {

52 *
	m¡¬
[
NSUBEXP
];

53 *
	m’dp
[
NSUBEXP
];

54 
	m»g¡¬t
;

55 
	m»gªch
;

56 *
	m»gmu¡
;

57 
	m»gmËn
;

58 
	m´og¿m
[1];

59 } 
	t»gexp
;

61 
	~<sys/cdefs.h
>

63 
__BEGIN_DECLS


64 
»gexp
 *
»gcomp
(const *);

65 
»gexec
(cÚ¡ 
»gexp
 *, const *);

66 
»gsub
(cÚ¡ 
»gexp
 *, const *, *);

67 
»g”rÜ
(const *);

68 
	g__END_DECLS


	@/usr/include/setjmp.h

42 #iâdeà
_SETJMP_H_


43 
	#_SETJMP_H_


	)

45 
	~<sys/cdefs.h
>

48 
	~<machše/£tjmp.h
>

50 
	g__BEGIN_DECLS


51 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >= 600

52 
	$_lÚgjmp
(
jmp_buf
, è
__d—d2
;

53 
	`_£tjmp
(
jmp_buf
);

55 
	$lÚgjmp
(
jmp_buf
, è
__d—d2
;

56 #ià
__BSD_VISIBLE


57 
	`lÚgjm³¼Ü
();

59 
	`£tjmp
(
jmp_buf
);

60 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


61 
	$siglÚgjmp
(
sigjmp_buf
, è
__d—d2
;

62 
	`sig£tjmp
(
sigjmp_buf
, );

64 
__END_DECLS


	@/usr/include/signal.h

37 #iâdeà
_SIGNAL_H_


38 
	#_SIGNAL_H_


	)

40 
	~<sys/cdefs.h
>

41 
	~<sys/_ty³s.h
>

42 
	~<sys/sigÇl.h
>

44 #ià
__BSD_VISIBLE


49 
__cÚ¡
 *__cÚ¡ 
sys_sigÇme
[
NSIG
];

50 
__cÚ¡
 *__cÚ¡ 
sys_sigli¡
[
NSIG
];

51 
__cÚ¡
 
sys_nsig
;

54 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


55 #iâdeà
_PID_T_DECLARED


56 
__pid_t
 
	tpid_t
;

57 
	#_PID_T_DECLARED


	)

61 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


62 
	g±h»ad
;

63 
±h»ad
 *
	t__±h»ad_t
;

64 #ià!
defšed
(
_PTHREAD_T_DECLARED
è&& 
__POSIX_VISIBLE
 >= 200809

65 
__±h»ad_t
 
	t±h»ad_t
;

66 
	#_PTHREAD_T_DECLARED


	)

70 
__BEGIN_DECLS


71 
¿i£
();

73 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


74 
kl
(
__pid_t
, );

75 
±h»ad_kl
(
__±h»ad_t
, );

76 
±h»ad_sigmask
(, cÚ¡ 
__sig£t_t
 * 
__»¡riù
,

77 
__sig£t_t
 * 
__»¡riù
);

78 
sigaùiÚ
(, cÚ¡ sigaùiÚ * 
__»¡riù
,

79 
sigaùiÚ
 * 
__»¡riù
);

80 
sigadd£t
(
sig£t_t
 *, );

81 
sigd–£t
(
sig£t_t
 *, );

82 
sigem±y£t
(
sig£t_t
 *);

83 
sigfl£t
(
sig£t_t
 *);

84 
sigismemb”
(cÚ¡ 
sig£t_t
 *, );

85 
sig³ndšg
(
sig£t_t
 *);

86 
sig´ocmask
(, cÚ¡ 
sig£t_t
 * 
__»¡riù
, sigset_t * __restrict);

87 
sigsu¥’d
(cÚ¡ 
sig£t_t
 *);

88 
sigwa™
(cÚ¡ 
sig£t_t
 * 
__»¡riù
, * __restrict);

91 #ià
__POSIX_VISIBLE
 >ğ199506 || 
__XSI_VISIBLE
 >= 600

92 
sigqueue
(
__pid_t
, , cÚ¡ 
sigv®
);

94 
	gtime¥ec
;

95 
sigtimedwa™
(cÚ¡ 
sig£t_t
 * 
__»¡riù
, 
sigšfo_t
 * __restrict,

96 cÚ¡ 
time¥ec
 * 
__»¡riù
);

97 
sigwa™šfo
(cÚ¡ 
sig£t_t
 * 
__»¡riù
, 
sigšfo_t
 * __restrict);

100 #ià
__XSI_VISIBLE


101 
kÍg
(
__pid_t
, );

102 
sig®t¡ack
(cÚ¡ 
¡ack_t
 * 
__»¡riù
, stack_t * __restrict);

103 
sighŞd
();

104 
sigignÜe
();

105 
sig·u£
();

106 
sig»l£
();

107 (*
sig£t
(, (*)()))();

108 
	`xsi_sig·u£
();

111 #ià
__XSI_VISIBLE
 >= 600

112 
	`sigš‹¼u±
(, );

115 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__BSD_VISIBLE


116 
	`psigÇl
(, const *);

119 #ià
__BSD_VISIBLE


120 
	`sigblock
();

121 
__ucÚ‹xt
;

122 
	`sig»tuº
(cÚ¡ 
__ucÚ‹xt
 *);

123 
	`sig£tmask
();

124 
	`sig¡ack
(cÚ¡ 
sig¡ack
 *, sigstack *);

125 
	`sigvec
(, 
sigvec
 *, sigvec *);

127 
__END_DECLS


	@/usr/include/stdarg.h

31 #iâdeà
_MACHINE_STDARG_H_


32 
	#_MACHINE_STDARG_H_


	)

34 
	~<sys/cdefs.h
>

35 
	~<sys/_ty³s.h
>

37 #iâdeà
_VA_LIST_DECLARED


38 
	#_VA_LIST_DECLARED


	)

39 
__va_li¡
 
	tva_li¡
;

42 #ifdeà
__GNUCLIKE_BUILTIN_STDARG


44 
	#va_¡¬t
(
­
, 
Ï¡
) \

45 
	`__butš_va_¡¬t
((
­
), (
Ï¡
))

	)

47 
	#va_¬g
(
­
, 
ty³
) \

48 
	`__butš_va_¬g
((
­
), 
ty³
)

	)

50 
	#__va_cİy
(
de¡
, 
¤c
) \

51 
	`__butš_va_cİy
((
de¡
), (
¤c
))

	)

53 #ià
__ISO_C_VISIBLE
 >= 1999

54 
	#va_cİy
(
de¡
, 
¤c
) \

55 
	`__va_cİy
(
de¡
, 
¤c
)

	)

58 
	#va_’d
(
­
) \

59 
	`__butš_va_’d
(
­
)

	)

61 #–ià
defšed
(
lšt
)

63 
	#__va_size
(
ty³
) \

64 ((((
ty³
è+ (è- 1è/ ()è* ())

	)

65 
	#va_¡¬t
(
­
, 
Ï¡
) \

66 ((
­
èğ(
va_li¡
)&(
Ï¡
è+ 
	`__va_size
Öa¡))

	)

67 
	#va_¬g
(
­
, 
ty³
) \

68 (*(
ty³
 *)((
­
è+ğ
	`__va_size
Ñy³), (­è- __va_sizeÑy³)))

	)

69 
	#va_’d
(
­
)

	)

72 #”rÜ 
this
 
fe
 
Ãeds
 
to
 
be
 
pÜ‹d
Ø
your
 
comp”


	@/usr/include/stddef.h

38 #iâdeà
_STDDEF_H_


39 
	#_STDDEF_H_


	)

41 
	~<sys/cdefs.h
>

42 
	~<sys/_nuÎ.h
>

43 
	~<sys/_ty³s.h
>

45 
__±rdiff_t
 
	t±rdiff_t
;

47 #ià
__BSD_VISIBLE


48 #iâdeà
_RUNE_T_DECLARED


49 
__ruÃ_t
 
	truÃ_t
;

50 
	#_RUNE_T_DECLARED


	)

54 #iâdeà
_SIZE_T_DECLARED


55 
__size_t
 
	tsize_t
;

56 
	#_SIZE_T_DECLARED


	)

59 #iâdef 
__ılu¥lus


60 #iâdeà
_WCHAR_T_DECLARED


61 
__wch¬_t
 
	twch¬_t
;

62 
	#_WCHAR_T_DECLARED


	)

66 
	#off£tof
(
ty³
, 
memb”
è
	`__off£tof
Ñy³, memb”)

	)

	@/usr/include/stdint.h

29 #iâdeà
_SYS_STDINT_H_


30 
	#_SYS_STDINT_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_ty³s.h
>

35 
	~<machše/_¡dšt.h
>

37 #iâdeà
_INT8_T_DECLARED


38 
__št8_t
 
	tšt8_t
;

39 
	#_INT8_T_DECLARED


	)

42 #iâdeà
_INT16_T_DECLARED


43 
__št16_t
 
	tšt16_t
;

44 
	#_INT16_T_DECLARED


	)

47 #iâdeà
_INT32_T_DECLARED


48 
__št32_t
 
	tšt32_t
;

49 
	#_INT32_T_DECLARED


	)

52 #iâdeà
_INT64_T_DECLARED


53 
__št64_t
 
	tšt64_t
;

54 
	#_INT64_T_DECLARED


	)

57 #iâdeà
_UINT8_T_DECLARED


58 
__ušt8_t
 
	tušt8_t
;

59 
	#_UINT8_T_DECLARED


	)

62 #iâdeà
_UINT16_T_DECLARED


63 
__ušt16_t
 
	tušt16_t
;

64 
	#_UINT16_T_DECLARED


	)

67 #iâdeà
_UINT32_T_DECLARED


68 
__ušt32_t
 
	tušt32_t
;

69 
	#_UINT32_T_DECLARED


	)

72 #iâdeà
_UINT64_T_DECLARED


73 
__ušt64_t
 
	tušt64_t
;

74 
	#_UINT64_T_DECLARED


	)

77 
__št_Ëa¡8_t
 
	tšt_Ëa¡8_t
;

78 
__št_Ëa¡16_t
 
	tšt_Ëa¡16_t
;

79 
__št_Ëa¡32_t
 
	tšt_Ëa¡32_t
;

80 
__št_Ëa¡64_t
 
	tšt_Ëa¡64_t
;

82 
__ušt_Ëa¡8_t
 
	tušt_Ëa¡8_t
;

83 
__ušt_Ëa¡16_t
 
	tušt_Ëa¡16_t
;

84 
__ušt_Ëa¡32_t
 
	tušt_Ëa¡32_t
;

85 
__ušt_Ëa¡64_t
 
	tušt_Ëa¡64_t
;

87 
__št_ç¡8_t
 
	tšt_ç¡8_t
;

88 
__št_ç¡16_t
 
	tšt_ç¡16_t
;

89 
__št_ç¡32_t
 
	tšt_ç¡32_t
;

90 
__št_ç¡64_t
 
	tšt_ç¡64_t
;

92 
__ušt_ç¡8_t
 
	tušt_ç¡8_t
;

93 
__ušt_ç¡16_t
 
	tušt_ç¡16_t
;

94 
__ušt_ç¡32_t
 
	tušt_ç¡32_t
;

95 
__ušt_ç¡64_t
 
	tušt_ç¡64_t
;

97 
__štmax_t
 
	tštmax_t
;

98 
__uštmax_t
 
	tuštmax_t
;

100 #iâdeà
_INTPTR_T_DECLARED


101 
__šŒ_t
 
	tšŒ_t
;

102 
__ušŒ_t
 
	tušŒ_t
;

103 
	#_INTPTR_T_DECLARED


	)

	@/usr/include/stdio.h

40 #iâdef 
_STDIO_H_


41 
	#_STDIO_H_


	)

43 
	~<sys/cdefs.h
>

44 
	~<sys/_nuÎ.h
>

45 
	~<sys/_ty³s.h
>

47 
__off_t
 
	tåos_t
;

49 #iâdeà
_SIZE_T_DECLARED


50 
__size_t
 
	tsize_t
;

51 
	#_SIZE_T_DECLARED


	)

54 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

55 #iâdeà
_OFF_T_DECLARED


56 
	#_OFF_T_DECLARED


	)

57 
__off_t
 
	toff_t
;

59 #iâdeà
_SSIZE_T_DECLARED


60 
	#_SSIZE_T_DECLARED


	)

61 
__ssize_t
 
	tssize_t
;

65 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


66 #iâdeà
_VA_LIST_DECLARED


67 
__va_li¡
 
	tva_li¡
;

68 
	#_VA_LIST_DECLARED


	)

72 
	#_FSTDIO


	)

81 
	s__sbuf
 {

82 *
	m_ba£
;

83 
	m_size
;

114 
	s__sFILE
 {

115 *
	m_p
;

116 
	m_r
;

117 
	m_w
;

118 
	m_æags
;

119 
	m_fe
;

120 
__sbuf
 
	m_bf
;

121 
	m_lbfsize
;

124 *
	m_cook›
;

125 (*
	m_şo£
)(*);

126 (*
	m_»ad
)(*, *, );

127 
åos_t
 (*
_£ek
)(*, 
	måos_t
, );

128 (*
	m_wr™e
)(*, const *, );

131 
__sbuf
 
	m_ub
;

132 *
	m_up
;

133 
	m_ur
;

136 
	m_ubuf
[3];

137 
	m_nbuf
[1];

140 
__sbuf
 
	m_lb
;

143 
	m_blksize
;

144 
åos_t
 
	m_off£t
;

146 
±h»ad_mu‹x
 *
	m_æ_mu‹x
;

147 
±h»ad
 *
	m_æ_owÃr
;

148 
	m_æ_couÁ
;

149 
	m_Ü›Á©iÚ
;

150 
__mb¡©e_t
 
	m_mb¡©e
;

151 } 
	tFILE
;

153 #iâdeà
_STDSTREAM_DECLARED


154 
__BEGIN_DECLS


155 
FILE
 *
__¡dšp
;

156 
FILE
 *
__¡dou
;

157 
FILE
 *
__¡d”½
;

158 
	g__END_DECLS


159 
	#_STDSTREAM_DECLARED


	)

162 
	#__SLBF
 0x0001

	)

163 
	#__SNBF
 0x0002

	)

164 
	#__SRD
 0x0004

	)

165 
	#__SWR
 0x0008

	)

167 
	#__SRW
 0x0010

	)

168 
	#__SEOF
 0x0020

	)

169 
	#__SERR
 0x0040

	)

170 
	#__SMBF
 0x0080

	)

171 
	#__SAPP
 0x0100

	)

172 
	#__SSTR
 0x0200

	)

173 
	#__SOPT
 0x0400

	)

174 
	#__SNPT
 0x0800

	)

175 
	#__SOFF
 0x1000

	)

176 
	#__SMOD
 0x2000

	)

177 
	#__SALC
 0x4000

	)

178 
	#__SIGN
 0x8000

	)

189 
	#_IOFBF
 0

	)

190 
	#_IOLBF
 1

	)

191 
	#_IONBF
 2

	)

193 
	#BUFSIZ
 1024

	)

194 
	#EOF
 (-1)

	)

202 #iâdeà
FOPEN_MAX


203 
	#FOPEN_MAX
 20

	)

205 
	#FILENAME_MAX
 1024

	)

208 #ià
__XSI_VISIBLE


209 
	#P_tmpdœ
 "/v¬/tmp/"

	)

211 
	#L_tm²am
 1024

	)

212 
	#TMP_MAX
 308915776

	)

214 #iâdeà
SEEK_SET


215 
	#SEEK_SET
 0

	)

217 #iâdeà
SEEK_CUR


218 
	#SEEK_CUR
 1

	)

220 #iâdeà
SEEK_END


221 
	#SEEK_END
 2

	)

224 
	#¡dš
 
__¡dšp


	)

225 
	#¡dout
 
__¡dou


	)

226 
	#¡d”r
 
__¡d”½


	)

228 
__BEGIN_DECLS


232 
ş—»¼
(
FILE
 *);

233 
fşo£
(
FILE
 *);

234 
ãof
(
FILE
 *);

235 
ã¼Ü
(
FILE
 *);

236 
fæush
(
FILE
 *);

237 
fg‘c
(
FILE
 *);

238 
fg‘pos
(
FILE
 * 
__»¡riù
, 
åos_t
 * __restrict);

239 *
fg‘s
(* 
__»¡riù
, , 
FILE
 * __restrict);

240 
FILE
 *
fİ’
(cÚ¡ * 
__»¡riù
, const * __restrict);

241 
årštf
(
FILE
 * 
__»¡riù
, const * __restrict, ...);

242 
åutc
(, 
FILE
 *);

243 
åuts
(cÚ¡ * 
__»¡riù
, 
FILE
 * __restrict);

244 
size_t
 
ä—d
(* 
__»¡riù
, size_t, size_t, 
FILE
 * __restrict);

245 
FILE
 *
äeİ’
(cÚ¡ * 
__»¡riù
, const * __restrict, FILE * __restrict);

246 
fsÿnf
(
FILE
 * 
__»¡riù
, const * __restrict, ...);

247 
f£ek
(
FILE
 *, , );

248 
f£os
(
FILE
 *, cÚ¡ 
åos_t
 *);

249 
á–l
(
FILE
 *);

250 
size_t
 
fwr™e
(cÚ¡ * 
__»¡riù
, size_t, size_t, 
FILE
 * __restrict);

251 
g‘c
(
FILE
 *);

252 
g‘ch¬
();

253 *
g‘s
(*);

254 
³¼Ü
(const *);

255 
´štf
(cÚ¡ * 
__»¡riù
, ...);

256 
putc
(, 
FILE
 *);

257 
putch¬
();

258 
puts
(const *);

259 
»move
(const *);

260 
»Çme
(const *, const *);

261 
»wšd
(
FILE
 *);

262 
sÿnf
(cÚ¡ * 
__»¡riù
, ...);

263 
£tbuf
(
FILE
 * 
__»¡riù
, * __restrict);

264 
£tvbuf
(
FILE
 * 
__»¡riù
, * __»¡riù, , 
size_t
);

265 
¥rštf
(* 
__»¡riù
, const * __restrict, ...);

266 
ssÿnf
(cÚ¡ * 
__»¡riù
, const * __restrict, ...);

267 
FILE
 *
tmpfe
();

268 *
tm²am
(*);

269 
ung‘c
(, 
FILE
 *);

270 
vårštf
(
FILE
 * 
__»¡riù
, const * __restrict,

271 
__va_li¡
);

272 
v´štf
(cÚ¡ * 
__»¡riù
, 
__va_li¡
);

273 
v¥rštf
(* 
__»¡riù
, const * __restrict,

274 
__va_li¡
);

276 #ià
__ISO_C_VISIBLE
 >= 1999

277 
	$¢´štf
(* 
__»¡riù
, 
size_t
, const * __restrict,

278 ...è
	`__´štæike
(3, 4);

279 
	$vfsÿnf
(
FILE
 * 
__»¡riù
, cÚ¡ * __»¡riù, 
__va_li¡
)

280 
	`__sÿnæike
(2, 0);

281 
	$vsÿnf
(cÚ¡ * 
__»¡riù
, 
__va_li¡
è
	`__sÿnæike
(1, 0);

282 
	$v¢´štf
(* 
__»¡riù
, 
size_t
, const * __restrict,

283 
__va_li¡
è
	`__´štæike
(3, 0);

284 
	$vssÿnf
(cÚ¡ * 
__»¡riù
, cÚ¡ * __»¡riù, 
__va_li¡
)

285 
	`__sÿnæike
(2, 0);

291 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 <= 199506

293 
	#L_cu£rid
 17

	)

296 #ià
__POSIX_VISIBLE


297 
	#L_ù”mid
 1024

	)

299 *
	`ù”mid
(*);

300 
FILE
 *
	`fdİ’
(, const *);

301 
	`f’o
(
FILE
 *);

304 #ià
__POSIX_VISIBLE
 >= 199209

305 
	`pşo£
(
FILE
 *);

306 
FILE
 *
	`pİ’
(const *, const *);

309 #ià
__POSIX_VISIBLE
 >= 199506

310 
	`árylockfe
(
FILE
 *);

311 
	`æockfe
(
FILE
 *);

312 
	`fuÆockfe
(
FILE
 *);

318 
	`g‘c_uÆocked
(
FILE
 *);

319 
	`g‘ch¬_uÆocked
();

320 
	`putc_uÆocked
(, 
FILE
 *);

321 
	`putch¬_uÆocked
();

323 #ià
__BSD_VISIBLE


324 
	`ş—»¼_uÆocked
(
FILE
 *);

325 
	`ãof_uÆocked
(
FILE
 *);

326 
	`ã¼Ü_uÆocked
(
FILE
 *);

327 
	`f’o_uÆocked
(
FILE
 *);

330 #ià
__POSIX_VISIBLE
 >= 200112

331 
	`f£eko
(
FILE
 *, 
__off_t
, );

332 
__off_t
 
	`á–lo
(
FILE
 *);

335 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 > 0 && __XSI_VISIBLE < 600

336 
	`g‘w
(
FILE
 *);

337 
	`putw
(, 
FILE
 *);

340 #ià
__XSI_VISIBLE


341 *
	`‹m²am
(const *, const *);

344 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

345 
ssize_t
 
	`g‘d–im
(** 
__»¡riù
, 
size_t
 * __restrict, ,

346 
FILE
 * 
__»¡riù
);

347 
	`»Çm—t
(, const *, , const *);

348 
	`vd´štf
(, cÚ¡ * 
__»¡riù
, 
__va_li¡
);

359 #iâdeà
_WITH_GETLINE


360 #ià
	`defšed
(
_BSD_SOURCE
è|| defšed(
_GNU_SOURCE
)

361 
	#_WITH_GETLINE


	)

362 #–ià
	`defšed
(
_POSIX_C_SOURCE
)

363 #ià
_POSIX_C_SOURCE
 >= 200809

364 
	#_WITH_GETLINE


	)

369 #ifdeà
_WITH_GETLINE


370 
ssize_t
 
	`g‘lše
(** 
__»¡riù
, 
size_t
 * __»¡riù, 
FILE
 * __restrict);

373 #iâdeà
_WITH_DPRINTF


374 #ià
	`defšed
(
_BSD_SOURCE
è|| defšed(
_GNU_SOURCE
)

375 
	#_WITH_DPRINTF


	)

376 #–ià
	`defšed
(
_POSIX_C_SOURCE
)

377 #ià
_POSIX_C_SOURCE
 >= 200809

378 
	#_WITH_DPRINTF


	)

383 #ifdeà
_WITH_DPRINTF


384 (
d´štf
)(, cÚ¡ * 
__»¡riù
, ...);

392 #ià
__BSD_VISIBLE


393 
	$a¥rštf
(**, cÚ¡ *, ...è
	`__´štæike
(2, 3);

394 *
	`ù”mid_r
(*);

395 
	`fşo£®l
();

396 *
	`fg‘Ê
(
FILE
 *, 
size_t
 *);

397 cÚ¡ *
	$fmtcheck
(cÚ¡ *, cÚ¡ *è
	`__fÜm©_¬g
(2);

398 
	`åurge
(
FILE
 *);

399 
	`£tbufãr
(
FILE
 *, *, );

400 
	`£šebuf
(
FILE
 *);

401 
	$va¥rštf
(**, cÚ¡ *, 
__va_li¡
)

402 
	`__´štæike
(2, 0);

409 
__cÚ¡
 
sys_Ã¼
;

410 
__cÚ¡
 *__cÚ¡ 
sys_”¾i¡
[];

415 
FILE
 *
	`funİ’
(const *,

418 
	$åos_t
 (*)(*, 
åos_t
, ),

420 
	#äİ’
(
cook›
, 
â
è
	`funİ’
(cook›, fn, 0, 0, 0)

	)

421 
	#fwİ’
(
cook›
, 
â
è
	`funİ’
(cook›, 0, fn, 0, 0)

	)

426 #iâdeà
_FTRUNCATE_DECLARED


427 
	#_FTRUNCATE_DECLARED


	)

428 
	`árunÿ‹
(, 
__off_t
);

430 #iâdeà
_LSEEK_DECLARED


431 
	#_LSEEK_DECLARED


	)

432 
__off_t
 
	`l£ek
(, __off_t, );

434 #iâdeà
_MMAP_DECLARED


435 
	#_MMAP_DECLARED


	)

436 *
	`mm­
(*, 
size_t
, , , , 
__off_t
);

438 #iâdeà
_TRUNCATE_DECLARED


439 
	#_TRUNCATE_DECLARED


	)

440 
	`Œunÿ‹
(cÚ¡ *, 
__off_t
);

447 
	`__¤g‘
(
FILE
 *);

448 
	`__swbuf
(, 
FILE
 *);

454 
	#__sg‘c
(
p
è(--Õ)->
_r
 < 0 ? 
	`__¤g‘
Õè: ()(*Õ)->
_p
++))

	)

455 #ià
	`defšed
(
__GNUC__
è&& defšed(
__STDC__
)

456 
__šlše
 
	$__¥utc
(
_c
, 
FILE
 *
_p
) {

457 ià(--
_p
->
_w
 >ğ0 || (_p->_w >ğ_p->
_lbfsize
 && ()
_c
 != '\n'))

458  (*
_p
->_p++ = 
_c
);

460  (
	`__swbuf
(
_c
, 
_p
));

461 
	}
}

466 
	#__¥utc
(
c
, 
p
) \

467 (--(
p
)->
_w
 < 0 ? \

468 (
p
)->
_w
 >ğÕ)->
_lbfsize
 ? \

469 (*(
p
)->
_p
 = (
c
)), *(p)->_p != '\n' ? \

470 ()*(
p
)->
_p
++ : \

471 
	`__swbuf
('\n', 
p
) : \

472 
	`__swbuf
(()(
c
), 
p
) : \

473 (*(
p
)->
_p
 = (
c
), ()*Õ)->_p++))

	)

476 
	#__sãof
(
p
è((Õ)->
_æags
 & 
__SEOF
è!ğ0)

	)

477 
	#__sã¼Ü
(
p
è((Õ)->
_æags
 & 
__SERR
è!ğ0)

	)

478 
	#__sş—»¼
(
p
è(()(Õ)->
_æags
 &ğ~(
__SERR
|
__SEOF
)))

	)

479 
	#__sf’o
(
p
è(Õ)->
_fe
)

	)

481 
__i¡h»aded
;

483 
	#ãof
(
p
è(!
__i¡h»aded
 ? 
	`__sãof
Õè: (
ãof
)Õ))

	)

484 
	#ã¼Ü
(
p
è(!
__i¡h»aded
 ? 
	`__sã¼Ü
Õè: (
ã¼Ü
)Õ))

	)

485 
	#ş—»¼
(
p
è(!
__i¡h»aded
 ? 
	`__sş—»¼
Õè: (
ş—»¼
)Õ))

	)

487 #ià
__POSIX_VISIBLE


488 
	#f’o
(
p
è(!
__i¡h»aded
 ? 
	`__sf’o
Õè: (
f’o
)Õ))

	)

491 
	#g‘c
(
å
è(!
__i¡h»aded
 ? 
	`__sg‘c
(åè: (
g‘c
)(å))

	)

492 
	#putc
(
x
, 
å
è(!
__i¡h»aded
 ? 
	`__¥utc
(x, fpè: (
putc
)(x, fp))

	)

494 
	#g‘ch¬
(è
	`g‘c
(
¡dš
)

	)

495 
	#putch¬
(
x
è
	`putc
(x, 
¡dout
)

	)

497 #ià
__BSD_VISIBLE


502 
	#ãof_uÆocked
(
p
è
	`__sãof
Õ)

	)

503 
	#ã¼Ü_uÆocked
(
p
è
	`__sã¼Ü
Õ)

	)

504 
	#ş—»¼_uÆocked
(
p
è
	`__sş—»¼
Õ)

	)

505 
	#f’o_uÆocked
(
p
è
	`__sf’o
Õ)

	)

507 #ià
__POSIX_VISIBLE
 >= 199506

508 
	#g‘c_uÆocked
(
å
è
	`__sg‘c
(å)

	)

509 
	#putc_uÆocked
(
x
, 
å
è
	`__¥utc
(x, fp)

	)

511 
	#g‘ch¬_uÆocked
(è
	`g‘c_uÆocked
(
¡dš
)

	)

512 
	#putch¬_uÆocked
(
x
è
	`putc_uÆocked
(x, 
¡dout
)

	)

515 
	g__END_DECLS


	@/usr/include/stdlib.h

37 #iâdeà
_STDLIB_H_


38 
	#_STDLIB_H_


	)

40 
	~<sys/cdefs.h
>

41 
	~<sys/_nuÎ.h
>

42 
	~<sys/_ty³s.h
>

44 #ià
__BSD_VISIBLE


45 #iâdeà
_RUNE_T_DECLARED


46 
__ruÃ_t
 
	truÃ_t
;

47 
	#_RUNE_T_DECLARED


	)

51 #iâdeà
_SIZE_T_DECLARED


52 
__size_t
 
	tsize_t
;

53 
	#_SIZE_T_DECLARED


	)

56 #iâdef 
__ılu¥lus


57 #iâdeà
_WCHAR_T_DECLARED


58 
__wch¬_t
 
	twch¬_t
;

59 
	#_WCHAR_T_DECLARED


	)

64 
	mquÙ
;

65 
	m»m
;

66 } 
	tdiv_t
;

69 
	mquÙ
;

70 
	m»m
;

71 } 
	tldiv_t
;

73 
	#EXIT_FAILURE
 1

	)

74 
	#EXIT_SUCCESS
 0

	)

76 
	#RAND_MAX
 0x7fffffff

	)

78 
__mb_cur_max
;

79 
	#MB_CUR_MAX
 
__mb_cur_max


	)

81 
__BEGIN_DECLS


82 
	$abÜt
(è
__d—d2
;

83 
	$abs
(è
__pu»2
;

84 
	`©ex™
((*)());

85 
	`©of
(const *);

86 
	`©oi
(const *);

87 
	`©Ş
(const *);

88 *
	`b£¬ch
(cÚ¡ *, cÚ¡ *, 
size_t
,

89 
size_t
, (*)(const *, const *));

90 *
	$ÿÎoc
(
size_t
, size_tè
__m®loc_like
;

91 
div_t
 
	$div
(, è
__pu»2
;

92 
	$ex™
(è
__d—d2
;

93 
	`ä“
(*);

94 *
	`g‘’v
(const *);

95 
	$Ïbs
(è
__pu»2
;

96 
ldiv_t
 
	$ldiv
(, è
__pu»2
;

97 *
	$m®loc
(
size_t
è
__m®loc_like
;

98 
	`mbËn
(cÚ¡ *, 
size_t
);

99 
size_t
 
	`mb¡owcs
(
wch¬_t
 * 
__»¡riù
 , const * __restrict, size_t);

100 
	`mbtowc
(
wch¬_t
 * 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

101 
	`qsÜt
(*, 
size_t
, size_t,

103 
	`¿nd
();

104 *
	`»®loc
(*, 
size_t
);

105 
	`¤ªd
();

106 
	`¡¹od
(cÚ¡ * 
__»¡riù
, ** __restrict);

107 
	`¡¹of
(cÚ¡ * 
__»¡riù
, ** __restrict);

108 
	`¡¹Ş
(cÚ¡ * 
__»¡riù
, ** __restrict, );

110 
	`¡¹Şd
(cÚ¡ * 
__»¡riù
, ** __restrict);

112 
	`¡¹oul
(cÚ¡ * 
__»¡riù
, ** __restrict, );

113 
	`sy¡em
(const *);

114 
	`wùomb
(*, 
wch¬_t
);

115 
size_t
 
	`wc¡ombs
(* 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict, size_t);

127 #ià
__ISO_C_VISIBLE
 >= 1999

128 #ifdeà
__LONG_LONG_SUPPORTED


131 
quÙ
;

132 
»m
;

133 } 
	tÎdiv_t
;

137 
	`©Şl
(const *);

140 
	$Îabs
(è
__pu»2
;

142 
Îdiv_t
 
	$Îdiv
(, è
__pu»2
;

145 
	`¡¹Şl
(cÚ¡ * 
__»¡riù
, ** __restrict, );

148 
	`¡¹ouÎ
(cÚ¡ * 
__»¡riù
, ** __restrict, );

151 
	$_Ex™
(è
__d—d2
;

159 #ià
__POSIX_VISIBLE


160 
	`posix_mem®ign
(**, 
size_t
, size_t);

161 
	`¿nd_r
(*);

162 *
	`»®·th
(cÚ¡ * 
__»¡riù
, * __restrict);

163 
	`£‹nv
(const *, const *, );

164 
	`un£‹nv
(const *);

167 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__XSI_VISIBLE


168 
	`g‘subİt
(**, *const *, **);

169 #iâdeà
_MKDTEMP_DECLARED


170 *
	`mkd‹mp
(*);

171 
	#_MKDTEMP_DECLARED


	)

173 #iâdeà
_MKSTEMP_DECLARED


174 
	`mk¡emp
(*);

175 
	#_MKSTEMP_DECLARED


	)

185 #ià
__XSI_VISIBLE


187 
	`a64l
(const *);

188 
	`d¿nd48
();

190 
	`”ªd48
([3]);

193 
	`g¿Á±
();

194 *
	`š™¡©e
(, *, );

195 
	`j¿nd48
([3]);

196 *
	`l64a
();

197 
	`lcÚg48
([7]);

198 
	`Ìªd48
();

199 #ià!
	`defšed
(
_MKTEMP_DECLARED
è&& (
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 <= 600)

200 *
	`mk‹mp
(*);

201 
	#_MKTEMP_DECLARED


	)

203 
	`m¿nd48
();

204 
	`Äªd48
([3]);

205 
	`posix_İ’±
();

206 *
	`±¢ame
();

207 
	`pu‹nv
(*);

208 
	`¿ndom
();

210 *
	`£ed48
([3]);

211 #iâdeà
_SETKEY_DECLARED


212 
	`£tkey
(const *);

213 
	#_SETKEY_DECLARED


	)

215 *
	`£t¡©e
( *);

216 
	`¤ªd48
();

217 
	`¤ªdom
();

218 
	`uÆock±
();

221 #ià
__BSD_VISIBLE


222 cÚ¡ *
_m®loc_İtiÚs
;

223 (*
_m®loc_mes§ge
)(const *, const *, const *,

235 #ià
__GNUC__
 >ğ2 || 
	`defšed
(
__INTEL_COMPILER
)

236 #undeà
®loÿ


237 
	#®loÿ
(
sz
è
	`__butš_®loÿ
(sz)

	)

238 #–ià
	`defšed
(
lšt
)

239 *
	`®loÿ
(
size_t
);

242 
	$abÜt2
(cÚ¡ *, , **è
__d—d2
;

243 
__ušt32_t


244 
	`¬c4¿ndom
();

245 
	`¬c4¿ndom_add¿ndom
(*, );

246 
	`¬c4¿ndom_buf
(*, 
size_t
);

247 
	`¬c4¿ndom_¡œ
();

248 
__ušt32_t


249 
	`¬c4¿ndom_unifÜm
(
__ušt32_t
);

250 *
	`g‘bsize
(*, *);

252 *
	`cg‘ÿp
(*, const *, );

253 
	`cg‘şo£
();

254 
	`cg‘’t
(**, **, const *);

255 
	`cg‘fœ¡
(**, **);

256 
	`cg‘m©ch
(const *, const *);

257 
	`cg‘Ãxt
(**, **);

258 
	`cg‘num
(*, const *, *);

259 
	`cg‘£t
(const *);

260 
	`cg‘¡r
(*, const *, **);

261 
	`cg‘u¡r
(*, const *, **);

263 
	`d«mÚ
(, );

264 *
	`devÇme
(
__dev_t
, 
__mode_t
);

265 *
	`devÇme_r
(
__dev_t
, 
__mode_t
, *, );

266 *
	`fdevÇme
();

267 *
	`fdevÇme_r
(, *, );

268 
	`g‘lßdavg
([], );

269 
__cÚ¡
 *

270 
	`g‘´ogÇme
();

272 
	`h—psÜt
(*, 
size_t
, size_t, (*)(const *, const *));

273 
	`l64a_r
(, *, );

274 
	`m”gesÜt
(*, 
size_t
, size_t, (*)(const *, const *));

275 
	`qsÜt_r
(*, 
size_t
, size_t, *,

277 
	`¿dixsÜt
(const **, , const *,

279 *
	`»®locf
(*, 
size_t
);

280 
	`½m©ch
(const *);

281 
	`£rogÇme
(const *);

282 
	`¤adixsÜt
(const **, , const *,

284 
	`¤ªddev
();

285 
	`¤ªdomdev
();

287 
	`¡¹Úum
(const *, , , const **);

290 
__št64_t


291 
	`¡¹oq
(const *, **, );

292 
__ušt64_t


293 
	`¡¹ouq
(const *, **, );

295 *
subİrg
;

297 
__END_DECLS


	@/usr/include/string.h

37 #iâdeà
_STRING_H_


38 
	#_STRING_H_


	)

40 
	~<sys/cdefs.h
>

41 
	~<sys/_nuÎ.h
>

42 
	~<sys/_ty³s.h
>

48 #ià
__BSD_VISIBLE


49 
	~<¡ršgs.h
>

52 #iâdeà
_SIZE_T_DECLARED


53 
__size_t
 
	tsize_t
;

54 
	#_SIZE_T_DECLARED


	)

57 
	g__BEGIN_DECLS


58 #ià
__XSI_VISIBLE
 >= 600

59 *
memcıy
(* 
__»¡riù
, cÚ¡ * __»¡riù, , 
size_t
);

61 *
	$memchr
(cÚ¡ *, , 
size_t
è
__pu»
;

62 #ià
__BSD_VISIBLE


63 *
	$memrchr
(cÚ¡ *, , 
size_t
è
__pu»
;

65 
	$memcmp
(cÚ¡ *, cÚ¡ *, 
size_t
è
__pu»
;

66 *
	`memıy
(* 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

67 #ià
__BSD_VISIBLE


68 *
	$memmem
(cÚ¡ *, 
size_t
, cÚ¡ *, size_tè
__pu»
;

70 *
	`memmove
(*, cÚ¡ *, 
size_t
);

71 *
	`mem£t
(*, , 
size_t
);

72 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__BSD_VISIBLE


73 *
	`¡pıy
(* 
__»¡riù
, const * __restrict);

74 *
	`¡²ıy
(* 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

76 #ià
__BSD_VISIBLE


77 *
	$¡rÿ£¡r
(cÚ¡ *, cÚ¡ *è
__pu»
;

79 *
	`¡rÿt
(* 
__»¡riù
, const * __restrict);

80 *
	$¡rchr
(cÚ¡ *, è
__pu»
;

81 
	$¡rcmp
(cÚ¡ *, cÚ¡ *è
__pu»
;

82 
	`¡rcŞl
(const *, const *);

83 *
	`¡rıy
(* 
__»¡riù
, const * __restrict);

84 
size_t
 
	$¡rc¥n
(cÚ¡ *, cÚ¡ *è
__pu»
;

85 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


86 *
	$¡rdup
(cÚ¡ *è
__m®loc_like
;

88 *
	`¡»¼Ü
();

89 #ià
__POSIX_VISIBLE
 >= 200112

90 
	`¡»¼Ü_r
(, *, 
size_t
);

92 #ià
__BSD_VISIBLE


93 
size_t
 
	`¡¾ÿt
(* 
__»¡riù
, const * __restrict, size_t);

94 
size_t
 
	`¡¾ıy
(* 
__»¡riù
, const * __restrict, size_t);

96 
size_t
 
	$¡¾’
(cÚ¡ *è
__pu»
;

97 #ià
__BSD_VISIBLE


98 
	`¡rmode
(, *);

100 *
	`¡ºÿt
(* 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

101 
	$¡ºcmp
(cÚ¡ *, cÚ¡ *, 
size_t
è
__pu»
;

102 *
	`¡ºıy
(* 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

103 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__BSD_VISIBLE


104 *
	$¡ºdup
(cÚ¡ *, 
size_t
è
__m®loc_like
;

105 
size_t
 
	$¡ºËn
(cÚ¡ *, 
size_t
è
__pu»
;

107 #ià
__BSD_VISIBLE


108 *
	$¡º¡r
(cÚ¡ *, cÚ¡ *, 
size_t
è
__pu»
;

110 *
	$¡½brk
(cÚ¡ *, cÚ¡ *è
__pu»
;

111 *
	$¡¼chr
(cÚ¡ *, è
__pu»
;

112 #ià
__BSD_VISIBLE


113 *
	`¡r£p
(**, const *);

115 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__BSD_VISIBLE


116 *
	`¡rsigÇl
();

118 
size_t
 
	$¡r¥n
(cÚ¡ *, cÚ¡ *è
__pu»
;

119 *
	$¡r¡r
(cÚ¡ *, cÚ¡ *è
__pu»
;

120 *
	`¡¹ok
(* 
__»¡riù
, const * __restrict);

121 #ià
__POSIX_VISIBLE
 >ğ199506 || 
__XSI_VISIBLE
 >= 500

122 *
	`¡¹ok_r
(*, const *, **);

124 
size_t
 
	`¡rxäm
(* 
__»¡riù
, const * __restrict, size_t);

125 #ià
__BSD_VISIBLE


127 #iâdeà
_SWAB_DECLARED


128 
	#_SWAB_DECLARED


	)

130 #iâdeà
_SSIZE_T_DECLARED


131 
__ssize_t
 
	tssize_t
;

132 
	#_SSIZE_T_DECLARED


	)

135 
	`swab
(cÚ¡ * 
__»¡riù
, * __»¡riù, 
ssize_t
);

139 
__END_DECLS


	@/usr/include/strings.h

29 #iâdeà
_STRINGS_H_


30 
	#_STRINGS_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_ty³s.h
>

35 #iâdeà
_SIZE_T_DECLARED


36 
__size_t
 
	tsize_t
;

37 
	#_SIZE_T_DECLARED


	)

40 
	g__BEGIN_DECLS


41 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 <= 200112

42 
	$bcmp
(cÚ¡ *, cÚ¡ *, 
size_t
è
__pu»
;

43 
	`bcİy
(cÚ¡ *, *, 
size_t
);

44 
	`bz”o
(*, 
size_t
);

46 #ià
__XSI_VISIBLE


47 
	$ffs
(è
__pu»2
;

49 #ifdeà
__BSD_VISIBLE


50 
	$ff¦
(è
__pu»2
;

51 
	$ff¦l
(è
__pu»2
;

52 
	$æs
(è
__pu»2
;

53 
	$æ¦
(è
__pu»2
;

54 
	$æ¦l
(è
__pu»2
;

56 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 <= 200112

57 *
	$šdex
(cÚ¡ *, è
__pu»
;

58 *
	$ršdex
(cÚ¡ *, è
__pu»
;

60 
	$¡rÿ£cmp
(cÚ¡ *, cÚ¡ *è
__pu»
;

61 
	$¡ºÿ£cmp
(cÚ¡ *, cÚ¡ *, 
size_t
è
__pu»
;

62 
__END_DECLS


	@/usr/include/sys/acl.h

36 #iâdeà
_SYS_ACL_H_


37 
	#_SYS_ACL_H_


	)

39 
	~<sys/·¿m.h
>

40 
	~<sys/queue.h
>

41 
	~<vm/uma.h
>

47 
ušt32_t
 
	taş_g_t
;

48 
ušt32_t
 
	taş_³rm_t
;

49 
ušt16_t
 
	taş_’Œy_ty³_t
;

50 
ušt16_t
 
	taş_æag_t
;

51 
	taş_ty³_t
;

52 *
	taş_³rm£t_t
;

53 
ušt16_t
 *
	taş_æag£t_t
;

67 
	#ACL_MAX_ENTRIES
 254

	)

69 #ià
defšed
(
_KERNEL
è|| defšed(
_ACL_PRIVATE
)

71 
	#POSIX1E_ACL_ACCESS_EXTATTR_NAMESPACE
 
EXTATTR_NAMESPACE_SYSTEM


	)

72 
	#POSIX1E_ACL_ACCESS_EXTATTR_NAME
 "posix1e.aş_acûss"

	)

73 
	#POSIX1E_ACL_DEFAULT_EXTATTR_NAMESPACE
 
EXTATTR_NAMESPACE_SYSTEM


	)

74 
	#POSIX1E_ACL_DEFAULT_EXTATTR_NAME
 "posix1e.aş_deçuÉ"

	)

75 
	#NFS4_ACL_EXTATTR_NAMESPACE
 
EXTATTR_NAMESPACE_SYSTEM


	)

76 
	#NFS4_ACL_EXTATTR_NAME
 "nfs4.aş"

	)

77 
	#OLDACL_MAX_ENTRIES
 32

	)

83 
	tŞdaş_g_t
;

84 
mode_t
 
	tŞdaş_³rm_t
;

86 
	sŞdaş_’Œy
 {

87 
Şdaş_g_t
 
	m«_g
;

88 
uid_t
 
	m«_id
;

89 
Şdaş_³rm_t
 
	m«_³rm
;

91 
Şdaş_’Œy
 *
	tŞdaş_’Œy_t
;

93 
	sŞdaş
 {

94 
	maş_út
;

95 
Şdaş_’Œy
 
	maş_’Œy
[
OLDACL_MAX_ENTRIES
];

101 
	saş_’Œy
 {

102 
aş_g_t
 
	m«_g
;

103 
uid_t
 
	m«_id
;

104 
aş_³rm_t
 
	m«_³rm
;

106 
aş_’Œy_ty³_t
 
	m«_’Œy_ty³
;

108 
aş_æag_t
 
	m«_æags
;

110 
aş_’Œy
 *
	taş_’Œy_t
;

117 
	saş
 {

118 
	maş_maxút
;

119 
	maş_út
;

121 
	maş_¥¬e
[4];

122 
aş_’Œy
 
	maş_’Œy
[
ACL_MAX_ENTRIES
];

128 
	saş_t_¡ruù
 {

129 
aş
 
	m©s_aş
;

130 
	m©s_cur_’Œy
;

139 
	m©s_b¿nd
;

141 
aş_t_¡ruù
 *
	taş_t
;

145 *
	taş_’Œy_t
;

146 *
	taş_t
;

153 
	#ACL_BRAND_UNKNOWN
 0

	)

154 
	#ACL_BRAND_POSIX
 1

	)

155 
	#ACL_BRAND_NFS4
 2

	)

160 
	#ACL_UNDEFINED_TAG
 0x00000000

	)

161 
	#ACL_USER_OBJ
 0x00000001

	)

162 
	#ACL_USER
 0x00000002

	)

163 
	#ACL_GROUP_OBJ
 0x00000004

	)

164 
	#ACL_GROUP
 0x00000008

	)

165 
	#ACL_MASK
 0x00000010

	)

166 
	#ACL_OTHER
 0x00000020

	)

167 
	#ACL_OTHER_OBJ
 
ACL_OTHER


	)

168 
	#ACL_EVERYONE
 0x00000040

	)

173 
	#ACL_ENTRY_TYPE_ALLOW
 0x0100

	)

174 
	#ACL_ENTRY_TYPE_DENY
 0x0200

	)

175 
	#ACL_ENTRY_TYPE_AUDIT
 0x0400

	)

176 
	#ACL_ENTRY_TYPE_ALARM
 0x0800

	)

182 
	#ACL_TYPE_ACCESS_OLD
 0x00000000

	)

183 
	#ACL_TYPE_DEFAULT_OLD
 0x00000001

	)

184 
	#ACL_TYPE_ACCESS
 0x00000002

	)

185 
	#ACL_TYPE_DEFAULT
 0x00000003

	)

186 
	#ACL_TYPE_NFS4
 0x00000004

	)

192 
	#ACL_EXECUTE
 0x0001

	)

193 
	#ACL_WRITE
 0x0002

	)

194 
	#ACL_READ
 0x0004

	)

195 
	#ACL_PERM_NONE
 0x0000

	)

196 
	#ACL_PERM_BITS
 (
ACL_EXECUTE
 | 
ACL_WRITE
 | 
ACL_READ
)

	)

197 
	#ACL_POSIX1E_BITS
 (
ACL_EXECUTE
 | 
ACL_WRITE
 | 
ACL_READ
)

	)

202 
	#ACL_READ_DATA
 0x00000008

	)

203 
	#ACL_LIST_DIRECTORY
 0x00000008

	)

204 
	#ACL_WRITE_DATA
 0x00000010

	)

205 
	#ACL_ADD_FILE
 0x00000010

	)

206 
	#ACL_APPEND_DATA
 0x00000020

	)

207 
	#ACL_ADD_SUBDIRECTORY
 0x00000020

	)

208 
	#ACL_READ_NAMED_ATTRS
 0x00000040

	)

209 
	#ACL_WRITE_NAMED_ATTRS
 0x00000080

	)

211 
	#ACL_DELETE_CHILD
 0x00000100

	)

212 
	#ACL_READ_ATTRIBUTES
 0x00000200

	)

213 
	#ACL_WRITE_ATTRIBUTES
 0x00000400

	)

214 
	#ACL_DELETE
 0x00000800

	)

215 
	#ACL_READ_ACL
 0x00001000

	)

216 
	#ACL_WRITE_ACL
 0x00002000

	)

217 
	#ACL_WRITE_OWNER
 0x00004000

	)

218 
	#ACL_SYNCHRONIZE
 0x00008000

	)

220 
	#ACL_NFS4_PERM_BITS
 (
ACL_READ_DATA
 | 
ACL_WRITE_DATA
 | \

221 
ACL_APPEND_DATA
 | 
ACL_READ_NAMED_ATTRS
 | 
ACL_WRITE_NAMED_ATTRS
 | \

222 
ACL_EXECUTE
 | 
ACL_DELETE_CHILD
 | 
ACL_READ_ATTRIBUTES
 | \

223 
ACL_WRITE_ATTRIBUTES
 | 
ACL_DELETE
 | 
ACL_READ_ACL
 | 
ACL_WRITE_ACL
 | \

224 
ACL_WRITE_OWNER
 | 
ACL_SYNCHRONIZE
)

	)

229 
	#ACL_FIRST_ENTRY
 0

	)

230 
	#ACL_NEXT_ENTRY
 1

	)

235 
	#ACL_ENTRY_FILE_INHERIT
 0x0001

	)

236 
	#ACL_ENTRY_DIRECTORY_INHERIT
 0x0002

	)

237 
	#ACL_ENTRY_NO_PROPAGATE_INHERIT
 0x0004

	)

238 
	#ACL_ENTRY_INHERIT_ONLY
 0x0008

	)

239 
	#ACL_ENTRY_SUCCESSFUL_ACCESS
 0x0010

	)

240 
	#ACL_ENTRY_FAILED_ACCESS
 0x0020

	)

242 
	#ACL_FLAGS_BITS
 (
ACL_ENTRY_FILE_INHERIT
 | \

243 
ACL_ENTRY_DIRECTORY_INHERIT
 | 
ACL_ENTRY_NO_PROPAGATE_INHERIT
 | \

244 
ACL_ENTRY_INHERIT_ONLY
 | 
ACL_ENTRY_SUCCESSFUL_ACCESS
 | \

245 
ACL_ENTRY_FAILED_ACCESS
)

	)

251 
	#ACL_UNDEFINED_ID
 ((
uid_t
)-1)

	)

256 
	#ACL_TEXT_VERBOSE
 0x01

	)

257 
	#ACL_TEXT_NUMERIC_IDS
 0x02

	)

258 
	#ACL_TEXT_APPEND_ID
 0x04

	)

266 
	#ACL_OVERRIDE_MASK
 (
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
)

	)

267 
	#ACL_PRESERVE_MASK
 (~
ACL_OVERRIDE_MASK
)

	)

269 #ifdeà
_KERNEL


275 
aş_³rm_t
 
aş_posix1e_mode_to_³rm
(
aş_g_t
 
g
, 
mode_t
 
mode
);

276 
aş_’Œy
 
aş_posix1e_mode_to_’Œy
(
aş_g_t
 
g
, 
uid_t
 
uid
,

277 
gid_t
 
gid
, 
mode_t
 
mode
);

278 
mode_t
 
aş_posix1e_³rms_to_mode
(

279 
aş_’Œy
 *
aş_u£r_obj_’Œy
,

280 
aş_’Œy
 *
aş_group_obj_’Œy
,

281 
aş_’Œy
 *
aş_Ùh”_’Œy
);

282 
mode_t
 
aş_posix1e_aş_to_mode
(
aş
 *acl);

283 
mode_t
 
aş_posix1e_Ãwfemode
(mode_ˆ
cmode
,

284 
aş
 *
daş
);

285 
aş
 *
aş_®loc
(
æags
);

286 
aş_ä“
(
aş
 *
aşp
);

288 
aş_nfs4_ŒivŸl_äom_mode
(
aş
 *
aşp
,

289 
mode_t
 
mode
);

290 
aş_nfs4_sync_aş_äom_mode
(
aş
 *
aşp
,

291 
mode_t
 
mode
, 
fe_owÃr_id
);

292 
aş_nfs4_sync_mode_äom_aş
(
mode_t
 *
mode
,

293 cÚ¡ 
aş
 *
aşp
);

294 
aş_nfs4_is_ŒivŸl
(cÚ¡ 
aş
 *
aşp
,

295 
fe_owÃr_id
);

296 
aş_nfs4_compu‹_šh”™ed_aş
(

297 cÚ¡ 
aş
 *
·»Á_aşp
,

298 
aş
 *
chd_aşp
, 
mode_t
 
mode
,

299 
fe_owÃr_id
, 
is_dœeùÜy
);

300 
aş_cİy_Şdaş_što_aş
(cÚ¡ 
Şdaş
 *
sourû
,

301 
aş
 *
de¡
);

302 
aş_cİy_aş_što_Şdaş
(cÚ¡ 
aş
 *
sourû
,

303 
Şdaş
 *
de¡
);

308 
MALLOC_DECLARE
(
M_ACL
);

312 
aş_posix1e_check
(
aş
 *acl);

313 
aş_nfs4_check
(cÚ¡ 
aş
 *
aşp
, 
is_dœeùÜy
);

317 #ià
defšed
(
_ACL_PRIVATE
)

323 
__BEGIN_DECLS


324 
__aş_aşcheck_fd
(
_fedes
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

325 
__aş_aşcheck_fe
(cÚ¡ *
_·th
, 
aş_ty³_t
 
_ty³
,

326 
aş
 *
_aşp
);

327 
__aş_aşcheck_lšk
(cÚ¡ *
_·th
, 
aş_ty³_t
 
_ty³
,

328 
aş
 *
_aşp
);

329 
__aş_d–‘e_fd
(
_fedes
, 
aş_ty³_t
 
_ty³
);

330 
__aş_d–‘e_fe
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
);

331 
__aş_d–‘e_lšk
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
);

332 
__aş_g‘_fd
(
_fedes
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

333 
__aş_g‘_fe
(cÚ¡ *
_·th
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

334 
__aş_g‘_lšk
(cÚ¡ *
_·th
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

335 
__aş_£t_fd
(
_fedes
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

336 
__aş_£t_fe
(cÚ¡ *
_·th
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

337 
__aş_£t_lšk
(cÚ¡ *
_·th
, 
aş_ty³_t
 
_ty³
, 
aş
 *
_aşp
);

338 
	g__END_DECLS


348 
__BEGIN_DECLS


349 
aş_add_æag_Å
(
aş_æag£t_t
 
_æag£t_d
, 
aş_æag_t
 
_æag
);

350 
aş_add_³rm
(
aş_³rm£t_t
 
_³rm£t_d
, 
aş_³rm_t
 
_³rm
);

351 
aş_ÿlc_mask
(
aş_t
 *
_aş_p
);

352 
aş_ş—r_æags_Å
(
aş_æag£t_t
 
_æag£t_d
);

353 
aş_ş—r_³rms
(
aş_³rm£t_t
 
_³rm£t_d
);

354 
aş_cİy_’Œy
(
aş_’Œy_t
 
_de¡_d
,‡ş_’Œy_ˆ
_¤c_d
);

355 
ssize_t
 
aş_cİy_ext
(*
_buf_p
, 
aş_t
 
_aş
, ssize_ˆ
_size
);

356 
aş_t
 
aş_cİy_št
(cÚ¡ *
_buf_p
);

357 
aş_ü—‹_’Œy
(
aş_t
 *
_aş_p
, 
aş_’Œy_t
 *
_’Œy_p
);

358 
aş_ü—‹_’Œy_Å
(
aş_t
 *
_aş_p
, 
aş_’Œy_t
 *
_’Œy_p
, 
_šdex
);

359 
aş_d–‘e_’Œy
(
aş_t
 
_aş
, 
aş_’Œy_t
 
_’Œy_d
);

360 
aş_d–‘e_’Œy_Å
(
aş_t
 
_aş
, 
_šdex
);

361 
aş_d–‘e_fd_Å
(
_fedes
, 
aş_ty³_t
 
_ty³
);

362 
aş_d–‘e_fe_Å
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
);

363 
aş_d–‘e_lšk_Å
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
);

364 
aş_d–‘e_def_fe
(cÚ¡ *
_·th_p
);

365 
aş_d–‘e_def_lšk_Å
(cÚ¡ *
_·th_p
);

366 
aş_d–‘e_æag_Å
(
aş_æag£t_t
 
_æag£t_d
, 
aş_æag_t
 
_æag
);

367 
aş_d–‘e_³rm
(
aş_³rm£t_t
 
_³rm£t_d
, 
aş_³rm_t
 
_³rm
);

368 
aş_t
 
aş_dup
×ş_ˆ
_aş
);

369 
aş_ä“
(*
_obj_p
);

370 
aş_t
 
aş_äom_‹xt
(cÚ¡ *
_buf_p
);

371 
aş_g‘_b¿nd_Å
(
aş_t
 
_aş
, *
_b¿nd_p
);

372 
aş_g‘_’Œy
(
aş_t
 
_aş
, 
_’Œy_id
, 
aş_’Œy_t
 *
_’Œy_p
);

373 
aş_t
 
aş_g‘_fd
(
_fd
);

374 
aş_t
 
aş_g‘_fd_Å
(
fd
, 
aş_ty³_t
 
_ty³
);

375 
aş_t
 
aş_g‘_fe
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
);

376 
aş_g‘_’Œy_ty³_Å
(
aş_’Œy_t
 
_’Œy_d
, 
aş_’Œy_ty³_t
 *
_’Œy_ty³_p
);

377 
aş_t
 
aş_g‘_lšk_Å
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
);

378 *
aş_g‘_qu®if›r
(
aş_’Œy_t
 
_’Œy_d
);

379 
aş_g‘_æag_Å
(
aş_æag£t_t
 
_æag£t_d
, 
aş_æag_t
 
_æag
);

380 
aş_g‘_³rm_Å
(
aş_³rm£t_t
 
_³rm£t_d
, 
aş_³rm_t
 
_³rm
);

381 
aş_g‘_æag£t_Å
(
aş_’Œy_t
 
_’Œy_d
, 
aş_æag£t_t
 *
_æag£t_p
);

382 
aş_g‘_³rm£t
(
aş_’Œy_t
 
_’Œy_d
, 
aş_³rm£t_t
 *
_³rm£t_p
);

383 
aş_g‘_g_ty³
(
aş_’Œy_t
 
_’Œy_d
, 
aş_g_t
 *
_g_ty³_p
);

384 
aş_t
 
aş_š™
(
_couÁ
);

385 
aş_£t_fd
(
_fd
, 
aş_t
 
_aş
);

386 
aş_£t_fd_Å
(
_fd
, 
aş_t
 
_aş
, 
aş_ty³_t
 
_ty³
);

387 
aş_£t_fe
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
, 
aş_t
 
_aş
);

388 
aş_£t_’Œy_ty³_Å
(
aş_’Œy_t
 
_’Œy_d
, 
aş_’Œy_ty³_t
 
_’Œy_ty³
);

389 
aş_£t_lšk_Å
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
, 
aş_t
 
_aş
);

390 
aş_£t_æag£t_Å
(
aş_’Œy_t
 
_’Œy_d
, 
aş_æag£t_t
 
_æag£t_d
);

391 
aş_£t_³rm£t
(
aş_’Œy_t
 
_’Œy_d
, 
aş_³rm£t_t
 
_³rm£t_d
);

392 
aş_£t_qu®if›r
(
aş_’Œy_t
 
_’Œy_d
, cÚ¡ *
_g_qu®if›r_p
);

393 
aş_£t_g_ty³
(
aş_’Œy_t
 
_’Œy_d
, 
aş_g_t
 
_g_ty³
);

394 
ssize_t
 
aş_size
(
aş_t
 
_aş
);

395 *
aş_to_‹xt
(
aş_t
 
_aş
, 
ssize_t
 *
_Ën_p
);

396 *
aş_to_‹xt_Å
(
aş_t
 
_aş
, 
ssize_t
 *
_Ën_p
, 
_æags
);

397 
aş_v®id
(
aş_t
 
_aş
);

398 
aş_v®id_fd_Å
(
_fd
, 
aş_ty³_t
 
_ty³
, 
aş_t
 
_aş
);

399 
aş_v®id_fe_Å
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
, 
aş_t
 
_aş
);

400 
aş_v®id_lšk_Å
(cÚ¡ *
_·th_p
, 
aş_ty³_t
 
_ty³
, 
aş_t
 
_aş
);

401 
aş_is_ŒivŸl_Å
(cÚ¡ 
aş_t
 
_aş
, *
_ŒivŸÍ
);

402 
aş_t
 
aş_¡r_Å
(cÚ¡‡ş_ˆ
_aş
, 
»ÿlcuÏ‹_mask
);

403 
	g__END_DECLS


	@/usr/include/sys/cdefs.h

36 #iâdef 
_SYS_CDEFS_H_


37 
	#_SYS_CDEFS_H_


	)

39 #ià
defšed
(
__ılu¥lus
)

40 
	#__BEGIN_DECLS
 "C" {

	)

41 
	#__END_DECLS
 }

	)

43 
	#__BEGIN_DECLS


	)

44 
	#__END_DECLS


	)

53 #ià
defšed
(
__GNUC__
è|| defšed(
__INTEL_COMPILER
)

55 #ià
__GNUC__
 >ğ3 || 
defšed
(
__INTEL_COMPILER
)

56 
	#__GNUCLIKE_ASM
 3

	)

57 
	#__GNUCLIKE_MATH_BUILTIN_CONSTANTS


	)

59 
	#__GNUCLIKE_ASM
 2

	)

61 
	#__GNUCLIKE___TYPEOF
 1

	)

62 
	#__GNUCLIKE___OFFSETOF
 1

	)

63 
	#__GNUCLIKE___SECTION
 1

	)

65 
	#__GNUCLIKE_ATTRIBUTE_MODE_DI
 1

	)

67 #iâdeà
__INTEL_COMPILER


68 
	#__GNUCLIKE_CTOR_SECTION_HANDLING
 1

	)

71 
	#__GNUCLIKE_BUILTIN_CONSTANT_P
 1

	)

72 #ià
defšed
(
__INTEL_COMPILER
è&& defšed(
__ılu¥lus
) \

73 && 
__INTEL_COMPILER
 < 800

74 #undeà
__GNUCLIKE_BUILTIN_CONSTANT_P


77 #ià(
__GNUC_MINOR__
 > 95 || 
__GNUC__
 >ğ3è&& !
defšed
(
__INTEL_COMPILER
)

78 
	#__GNUCLIKE_BUILTIN_VARARGS
 1

	)

79 
	#__GNUCLIKE_BUILTIN_STDARG
 1

	)

80 
	#__GNUCLIKE_BUILTIN_VAALIST
 1

	)

83 #ià
defšed
(
__GNUC__
)

84 
	#__GNUC_VA_LIST_COMPATIBILITY
 1

	)

87 #iâdeà
__INTEL_COMPILER


88 
	#__GNUCLIKE_BUILTIN_NEXT_ARG
 1

	)

89 
	#__GNUCLIKE_MATH_BUILTIN_RELOPS


	)

92 
	#__GNUCLIKE_BUILTIN_MEMCPY
 1

	)

95 
	#__CC_SUPPORTS_INLINE
 1

	)

96 
	#__CC_SUPPORTS___INLINE
 1

	)

97 
	#__CC_SUPPORTS___INLINE__
 1

	)

99 
	#__CC_SUPPORTS___FUNC__
 1

	)

100 
	#__CC_SUPPORTS_WARNING
 1

	)

102 
	#__CC_SUPPORTS_VARADIC_XXX
 1

	)

104 
	#__CC_SUPPORTS_DYNAMIC_ARRAY_INIT
 1

	)

111 #ià
defšed
(
__GNUC__
è&& !defšed(
__INTEL_COMPILER
)

112 
	#__GNUC_PREREQ__
(
ma
, 
mi
) \

113 (
__GNUC__
 > (
ma
è|| __GNUC__ =ğ(maè&& 
__GNUC_MINOR__
 >ğ(
mi
))

	)

115 
	#__GNUC_PREREQ__
(
ma
, 
mi
è0

	)

130 #ià
defšed
(
__STDC__
è|| defšed(
__ılu¥lus
)

131 
	#__P
(
´Ùos
è´Ùo 

	)

132 
	#__CONCAT1
(
x
,
y
èx ## 
	)
y

133 
	#__CONCAT
(
x
,
y
è
	`__CONCAT1
(x,y)

	)

134 
	#__STRING
(
x
è#x

	)

135 
	#__XSTRING
(
x
è
	`__STRING
(xè

	)

137 
	#__cÚ¡
 cÚ¡

	)

138 
	#__sigÃd
 sigÃd

	)

139 
	#__vŞ©e
 vŞ©e

	)

140 #ià
defšed
(
__ılu¥lus
)

141 
	#__šlše
 
šlše


	)

143 #ià!(
defšed
(
__CC_SUPPORTS___INLINE
))

144 
	#__šlše


	)

149 
	#__P
(
´Ùos
è(è

	)

150 
	#__CONCAT
(
x
,
y
èx 
	)
y

151 
	#__STRING
(
x
è"x"

	)

153 #ià!
defšed
(
__CC_SUPPORTS___INLINE
)

154 
	#__cÚ¡


	)

155 
	#__šlše


	)

156 
	#__sigÃd


	)

157 
	#__vŞ©e


	)

166 #iâdef 
NO_ANSI_KEYWORDS


167 cÚ¡

	)

168 
	#šlše


	)

169 sigÃd

	)

170 vŞ©e

	)

184 #ifdeà
lšt


185 
	#__d—d2


	)

186 
	#__pu»2


	)

187 
	#__unu£d


	)

188 
	#__·cked


	)

189 
	#__®igÃd
(
x
)

	)

190 
	#__£ùiÚ
(
x
)

	)

192 #ià!
__GNUC_PREREQ__
(2, 5è&& !
defšed
(
__INTEL_COMPILER
)

193 
	#__d—d2


	)

194 
	#__pu»2


	)

195 
	#__unu£d


	)

197 #ià
__GNUC__
 =ğ2 && 
__GNUC_MINOR__
 >ğ5 && __GNUC_MINOR__ < 7 && !
defšed
(
__INTEL_COMPILER
)

198 
	#__d—d2
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

199 
	#__pu»2
 
	`__©Œibu‹__
((
__cÚ¡__
))

	)

200 
	#__unu£d


	)

203 #ià
__GNUC_PREREQ__
(2, 7)

204 
	#__d—d2
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

205 
	#__pu»2
 
	`__©Œibu‹__
((
__cÚ¡__
))

	)

206 
	#__unu£d
 
	`__©Œibu‹__
((
__unu£d__
))

	)

207 
	#__u£d
 
	`__©Œibu‹__
((
__u£d__
))

	)

208 
	#__·cked
 
	`__©Œibu‹__
((
__·cked__
))

	)

209 
	#__®igÃd
(
x
è
	`__©Œibu‹__
((
	`__®igÃd__
(x)))

	)

210 
	#__£ùiÚ
(
x
è
	`__©Œibu‹__
((
	`__£ùiÚ__
(x)))

	)

212 #ià
defšed
(
__INTEL_COMPILER
)

213 
	#__d—d2
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

214 
	#__pu»2
 
	`__©Œibu‹__
((
__cÚ¡__
))

	)

215 
	#__unu£d
 
	`__©Œibu‹__
((
__unu£d__
))

	)

216 
	#__u£d
 
	`__©Œibu‹__
((
__u£d__
))

	)

217 
	#__·cked
 
	`__©Œibu‹__
((
__·cked__
))

	)

218 
	#__®igÃd
(
x
è
	`__©Œibu‹__
((
	`__®igÃd__
(x)))

	)

219 
	#__£ùiÚ
(
x
è
	`__©Œibu‹__
((
	`__£ùiÚ__
(x)))

	)

223 #ià
__GNUC_PREREQ__
(2, 96)

224 
	#__m®loc_like
 
	`__©Œibu‹__
((
__m®loc__
))

	)

225 
	#__pu»
 
	`__©Œibu‹__
((
__pu»__
))

	)

227 
	#__m®loc_like


	)

228 
	#__pu»


	)

231 #ià
__GNUC_PREREQ__
(3, 1è|| (
defšed
(
__INTEL_COMPILER
) && __INTEL_COMPILER >= 800)

232 
	#__®ways_šlše
 
	`__©Œibu‹__
((
__®ways_šlše__
))

	)

234 
	#__®ways_šlše


	)

237 #ià
__GNUC_PREREQ__
(4, 2)

238 
	#__gnu89_šlše
 
	`__©Œibu‹__
((
__gnu_šlše__
)è
__šlše


	)

240 
	#__gnu89_šlše


	)

243 #ià
__GNUC_PREREQ__
(3, 1)

244 
	#__nošlše
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

246 
	#__nošlše


	)

249 #ià
__GNUC_PREREQ__
(3, 3)

250 
	#__nÚnuÎ
(
x
è
	`__©Œibu‹__
((
	`__nÚnuÎ__
(x)))

	)

252 
	#__nÚnuÎ
(
x
)

	)

256 #ià!
__GNUC_PREREQ__
(2, 7è&& !
defšed
(
__INTEL_COMPILER
)

257 
	#__func__
 
NULL


	)

260 #ià(
defšed
(
__INTEL_COMPILER
è|| (defšed(
__GNUC__
è&& __GNUC__ >ğ2)è&& !defšed(
__STRICT_ANSI__
è|| 
__STDC_VERSION__
 >= 199901

261 
	#__LONG_LONG_SUPPORTED


	)

270 #ià!(
__GNUC__
 =ğ2 && 
__GNUC_MINOR__
 == 95)

271 #ià!
defšed
(
__STDC_VERSION__
è|| __STDC_VERSION__ < 199901 || defšed(
lšt
)

272 
	#__»¡riù


	)

274 
	#__»¡riù
 
»¡riù


	)

306 #ià
__GNUC_PREREQ__
(2, 96)

307 
	#__´ediù_Œue
(
exp
è
	`__butš_ex³ù
(Óxp), 1)

	)

308 
	#__´ediù_çl£
(
exp
è
	`__butš_ex³ù
(Óxp), 0)

	)

310 
	#__´ediù_Œue
(
exp
èÓxp)

	)

311 
	#__´ediù_çl£
(
exp
èÓxp)

	)

314 #ià
__GNUC_PREREQ__
(4, 2)

315 
	#__hidd’
 
	`__©Œibu‹__
((
	`__visib™y__
("hidd’")))

	)

316 
	#__expÜ‹d
 
	`__©Œibu‹__
((
	`__visib™y__
("deçuÉ")))

	)

318 
	#__hidd’


	)

319 
	#__expÜ‹d


	)

326 #ià
__GNUC_PREREQ__
(4, 1)

327 
	#__off£tof
(
ty³
, 
f›ld
è
	`__butš_off£tof
Ñy³, f›ld)

	)

329 #iâdeà
__ılu¥lus


330 
	#__off£tof
(
ty³
, 
f›ld
è((
size_t
)(&(Ñy³ *)0)->f›ld))

	)

332 
	#__off£tof
(
ty³
, 
f›ld
) \

333 (
	`__off£tof__
 (
»š‹½»t_ÿ¡
 <
size_t
> \

334 (&
»š‹½»t_ÿ¡
 <const volatile &> \

335 (
¡©ic_ÿ¡
<
ty³
 *> (0)->
f›ld
))))

	)

338 
	#__¿ngeof
(
ty³
, 
¡¬t
, 
’d
) \

339 (
	`__off£tof
(
ty³
, 
’d
è- __off£tofÑy³, 
¡¬t
))

	)

347 #ià!
__GNUC_PREREQ__
(2, 7è&& !
defšed
(
__INTEL_COMPILER
)

348 
	#__´štæike
(
fmrg
, 
fœ¡v¬¬g
)

	)

349 
	#__sÿnæike
(
fmrg
, 
fœ¡v¬¬g
)

	)

350 
	#__fÜm©_¬g
(
fmrg
)

	)

352 
	#__´štæike
(
fmrg
, 
fœ¡v¬¬g
) \

353 
	`__©Œibu‹__
((
	`__fÜm©__
 (
__´štf__
, 
fmrg
, 
fœ¡v¬¬g
)))

	)

354 
	#__sÿnæike
(
fmrg
, 
fœ¡v¬¬g
) \

355 
	`__©Œibu‹__
((
	`__fÜm©__
 (
__sÿnf__
, 
fmrg
, 
fœ¡v¬¬g
)))

	)

356 
	#__fÜm©_¬g
(
fmrg
è
	`__©Œibu‹__
((
	`__fÜm©_¬g__
 (fmrg)))

	)

360 #ià
__F»eBSD_cc_v”siÚ
 >ğ300001 && 
defšed
(
__GNUC__
è&& !defšed(
__INTEL_COMPILER
)

361 
	#__´štf0like
(
fmrg
, 
fœ¡v¬¬g
) \

362 
	`__©Œibu‹__
((
	`__fÜm©__
 (
__´štf0__
, 
fmrg
, 
fœ¡v¬¬g
)))

	)

364 
	#__´štf0like
(
fmrg
, 
fœ¡v¬¬g
)

	)

367 #ià
defšed
(
__GNUC__
è|| defšed(
__INTEL_COMPILER
)

368 #iâdeà
__INTEL_COMPILER


369 
	#__¡rÚg_»ã»nû
(
sym
,
®Ÿssym
) \

370 
	`__ty³of
 (
sym
è
®Ÿssym
 
	`__©Œibu‹__
 ((
	`__®Ÿs__
 (#sym)))

	)

372 #ifdeà
__STDC__


373 
	#__w—k_»ã»nû
(
sym
,
®Ÿs
) \

374 
	`__asm__
(".weak " #alias); \

375 
	`__asm__
(".equ " #®Ÿ ", " #sym)

	)

376 
	#__w¬n_»ã»nûs
(
sym
,
msg
) \

377 
	`__asm__
(".section .gnu.warning." #sym); \

378 
	`__asm__
(".asciz \"" 
msg
 "\""); \

379 
	`__asm__
(".´evious")

	)

380 
	#__sym_com·t
(
sym
,
im¶
,
v”id
) \

381 
	`__asm__
(".symv” " #im¶ ", " #sym "@" #v”id)

	)

382 
	#__sym_deçuÉ
(
sym
,
im¶
,
v”id
) \

383 
	`__asm__
(".symv” " #im¶ ", " #sym "@@" #v”id)

	)

385 
	#__w—k_»ã»nû
(
sym
,
®Ÿs
) \

386 
	`__asm__
(".weak‡lias"); \

387 
	`__asm__
(".equ‡lŸs, sym")

	)

388 
	#__w¬n_»ã»nûs
(
sym
,
msg
) \

389 
	`__asm__
(".section .gnu.warning.sym"); \

390 
	`__asm__
(".asciz \"msg\""); \

391 
	`__asm__
(".´evious")

	)

392 
	#__sym_com·t
(
sym
,
im¶
,
v”id
) \

393 
	`__asm__
(".symv” im¶, sym@v”id")

	)

394 
	#__sym_deçuÉ
(
im¶
,
sym
,
v”id
) \

395 
	`__asm__
(".symv” im¶, sym@@v”id")

	)

399 #ià
defšed
(
__GNUC__
è|| defšed(
__INTEL_COMPILER
)

400 
	#__IDSTRING
(
Çme
,
¡ršg
è
	`__asm__
(".id’t\t\"" sŒšg "\"")

	)

408 
	#__IDSTRING
(
Çme
,
¡ršg
ècÚ¡ Çme[] 
__unu£d
 = 
	)
string

417 #iâdef 
__FBSDID


418 #ià!
defšed
(
lšt
è&& !defšed(
STRIP_FBSDID
)

419 
	#__FBSDID
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__rcsid_
,
__LINE__
),s)

	)

421 
	#__FBSDID
(
s
è
__hack


	)

425 #iâdef 
__RCSID


426 #iâdef 
NO__RCSID


427 
	#__RCSID
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__rcsid_
,
__LINE__
),s)

	)

429 
	#__RCSID
(
s
è
__hack


	)

433 #iâdef 
__RCSID_SOURCE


434 #iâdef 
NO__RCSID_SOURCE


435 
	#__RCSID_SOURCE
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__rcsid_sourû_
,
__LINE__
),s)

	)

437 
	#__RCSID_SOURCE
(
s
è
__hack


	)

441 #iâdef 
__SCCSID


442 #iâdef 
NO__SCCSID


443 
	#__SCCSID
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__sccsid_
,
__LINE__
),s)

	)

445 
	#__SCCSID
(
s
è
__hack


	)

449 #iâdef 
__COPYRIGHT


450 #iâdef 
NO__COPYRIGHT


451 
	#__COPYRIGHT
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__cİyright_
,
__LINE__
),s)

	)

453 
	#__COPYRIGHT
(
s
è
__hack


	)

457 #iâdef 
__DECONST


458 
	#__DECONST
(
ty³
, 
v¬
è(Ñy³)(
ušŒ_t
)(cÚ¡ *)(v¬))

	)

461 #iâdef 
__DEVOLATILE


462 
	#__DEVOLATILE
(
ty³
, 
v¬
è(Ñy³)(
ušŒ_t
)(vŞ©*)(v¬))

	)

465 #iâdef 
__DEQUALIFY


466 
	#__DEQUALIFY
(
ty³
, 
v¬
è(Ñy³)(
ušŒ_t
)(cÚ¡ vŞ©*)(v¬))

	)

493 #ià
defšed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE == 1

494 #undeà
_POSIX_C_SOURCE


495 
	#_POSIX_C_SOURCE
 199009

	)

499 #ià
defšed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE == 2

500 #undeà
_POSIX_C_SOURCE


501 
	#_POSIX_C_SOURCE
 199209

	)

505 #ifdeà
_XOPEN_SOURCE


506 #ià
_XOPEN_SOURCE
 - 0 >= 700

507 
	#__XSI_VISIBLE
 700

	)

508 #undeà
_POSIX_C_SOURCE


509 
	#_POSIX_C_SOURCE
 200809

	)

510 #–ià
_XOPEN_SOURCE
 - 0 >= 600

511 
	#__XSI_VISIBLE
 600

	)

512 #undeà
_POSIX_C_SOURCE


513 
	#_POSIX_C_SOURCE
 200112

	)

514 #–ià
_XOPEN_SOURCE
 - 0 >= 500

515 
	#__XSI_VISIBLE
 500

	)

516 #undeà
_POSIX_C_SOURCE


517 
	#_POSIX_C_SOURCE
 199506

	)

525 #ià
defšed
(
_POSIX_SOURCE
è&& !defšed(
_POSIX_C_SOURCE
)

526 
	#_POSIX_C_SOURCE
 198808

	)

528 #ifdeà
_POSIX_C_SOURCE


529 #ià
_POSIX_C_SOURCE
 >= 200809

530 
	#__POSIX_VISIBLE
 200809

	)

531 
	#__ISO_C_VISIBLE
 1999

	)

532 #–ià
_POSIX_C_SOURCE
 >= 200112

533 
	#__POSIX_VISIBLE
 200112

	)

534 
	#__ISO_C_VISIBLE
 1999

	)

535 #–ià
_POSIX_C_SOURCE
 >= 199506

536 
	#__POSIX_VISIBLE
 199506

	)

537 
	#__ISO_C_VISIBLE
 1990

	)

538 #–ià
_POSIX_C_SOURCE
 >= 199309

539 
	#__POSIX_VISIBLE
 199309

	)

540 
	#__ISO_C_VISIBLE
 1990

	)

541 #–ià
_POSIX_C_SOURCE
 >= 199209

542 
	#__POSIX_VISIBLE
 199209

	)

543 
	#__ISO_C_VISIBLE
 1990

	)

544 #–ià
_POSIX_C_SOURCE
 >= 199009

545 
	#__POSIX_VISIBLE
 199009

	)

546 
	#__ISO_C_VISIBLE
 1990

	)

548 
	#__POSIX_VISIBLE
 198808

	)

549 
	#__ISO_C_VISIBLE
 0

	)

564 #ià
defšed
(
_ANSI_SOURCE
)

565 
	#__POSIX_VISIBLE
 0

	)

566 
	#__XSI_VISIBLE
 0

	)

567 
	#__BSD_VISIBLE
 0

	)

568 
	#__ISO_C_VISIBLE
 1990

	)

569 #–ià
defšed
(
_C99_SOURCE
)

570 
	#__POSIX_VISIBLE
 0

	)

571 
	#__XSI_VISIBLE
 0

	)

572 
	#__BSD_VISIBLE
 0

	)

573 
	#__ISO_C_VISIBLE
 1999

	)

575 
	#__POSIX_VISIBLE
 200809

	)

576 
	#__XSI_VISIBLE
 700

	)

577 
	#__BSD_VISIBLE
 1

	)

578 
	#__ISO_C_VISIBLE
 1999

	)

	@/usr/include/sys/chio.h

35 #iâdef 
_SYS_CHIO_H_


36 
	#_SYS_CHIO_H_


	)

38 #iâdeà
_KERNEL


39 
	~<sys/ty³s.h
>

41 
	~<sys/ioccom.h
>

51 
	#CHET_MT
 0

	)

52 
	#CHET_ST
 1

	)

53 
	#CHET_IE
 2

	)

54 
	#CHET_DT
 3

	)

55 
	#CHET_MAX
 
CHET_DT


	)

60 
	#CH_VOLTAG_MAXLEN
 32

	)

65 
	schªg”_move
 {

66 
u_št16_t
 
	mcm_äomty³
;

67 
u_št16_t
 
	mcm_äomun™
;

68 
u_št16_t
 
	mcm_tÙy³
;

69 
u_št16_t
 
	mcm_toun™
;

70 
u_št16_t
 
	mcm_æags
;

74 
	#CM_INVERT
 0x01

	)

89 
	schªg”_exchªge
 {

90 
u_št16_t
 
	mû_¤ùy³
;

91 
u_št16_t
 
	mû_¤cun™
;

92 
u_št16_t
 
	mû_fd¡ty³
;

93 
u_št16_t
 
	mû_fd¡un™
;

94 
u_št16_t
 
	mû_sd¡ty³
;

95 
u_št16_t
 
	mû_sd¡un™
;

96 
u_št16_t
 
	mû_æags
;

100 
	#CE_INVERT1
 0x01

	)

101 
	#CE_INVERT2
 0x02

	)

107 
	schªg”_pos™iÚ
 {

108 
u_št16_t
 
	mı_ty³
;

109 
u_št16_t
 
	mı_un™
;

110 
u_št16_t
 
	mı_æags
;

114 
	#CP_INVERT
 0x01

	)

119 
	schªg”_·¿ms
 {

120 
u_št16_t
 
	mı_Åick”s
;

121 
u_št16_t
 
	mı_n¦Ùs
;

122 
u_št16_t
 
	mı_ÅÜls
;

123 
u_št16_t
 
	mı_ndrives
;

130 
	schªg”_vŞg
 {

131 
u_ch¬
 
	mcv_vŞid
[
CH_VOLTAG_MAXLEN
+1];

132 
u_št16_t
 
	mcv_£rŸl
;

135 
chªg”_vŞg
 
	tchªg”_vŞg_t
;

142 
	mCES_STATUS_FULL
 = 0x001,

143 
	mCES_STATUS_IMPEXP
 = 0x002,

144 
	mCES_STATUS_EXCEPT
 = 0x004,

145 
	mCES_PICKER_MASK
 = 0x005,

146 
	mCES_STATUS_ACCESS
 = 0x008,

147 
	mCES_SLOT_MASK
 = 0x00c,

148 
	mCES_DRIVE_MASK
 = 0x00c,

149 
	mCES_STATUS_EXENAB
 = 0x010,

150 
	mCES_STATUS_INENAB
 = 0x020,

151 
	mCES_PORTAL_MASK
 = 0x03f,

152 
	mCES_INVERT
 = 0x040,

153 
	mCES_SOURCE_VALID
 = 0x080,

154 
	mCES_SCSIID_VALID
 = 0x100,

155 
	mCES_LUN_VALID
 = 0x200

156 } 
	tûs_¡©us_æags
;

158 
	schªg”_–em’t_¡©us
 {

159 
u_št8_t
 
	mûs_ty³
;

160 
u_št16_t
 
	mûs_addr
;

161 
u_št16_t
 
	mûs_št_addr
;

162 
ûs_¡©us_æags
 
	mûs_æags
;

166 
u_št8_t
 
	mûs_£n£code
;

169 
u_št8_t
 
	mûs_£n£qu®
;

173 
u_št8_t
 
	mûs_sourû_ty³
;

177 
u_št16_t
 
	mûs_sourû_addr
;

180 
chªg”_vŞg_t
 
	mûs_pvŞg
;

181 
chªg”_vŞg_t
 
	mûs_avŞg
;

182 
u_št8_t
 
	mûs_scsi_id
;

183 
u_št8_t
 
	mûs_scsi_lun
;

186 
	schªg”_–em’t_¡©us_»que¡
 {

187 
u_št16_t
 
	mû¤_–em’t_ty³
;

188 
u_št16_t
 
	mû¤_–em’t_ba£
;

189 
u_št16_t
 
	mû¤_–em’t_couÁ
;

191 
u_št16_t
 
	mû¤_æags
;

192 
	#CESR_VOLTAGS
 0x01

	)

194 
chªg”_–em’t_¡©us
 *
	mû¤_–em’t_¡©us
;

198 
	schªg”_£t_vŞg_»que¡
 {

199 
u_št16_t
 
	mcsvr_ty³
;

200 
u_št16_t
 
	mcsvr_addr
;

202 
u_št16_t
 
	mcsvr_æags
;

203 
	#CSVR_MODE_MASK
 0x0à

	)

204 
	#CSVR_MODE_SET
 0x00

	)

205 
	#CSVR_MODE_REPLACE
 0x01

	)

206 
	#CSVR_MODE_CLEAR
 0x02

	)

208 
	#CSVR_ALTERNATE
 0x10

	)

210 
chªg”_vŞg_t
 
	mcsvr_vŞg
;

214 
	#CESTATUS_BITS
 \

215 "\20\6INEAB\5EXENAB\4ACCESS\3EXCEPT\2IMPEXP\1FULL"

	)

217 
	#CHIOMOVE
 
	`_IOW
('c', 0x01, 
chªg”_move
)

	)

218 
	#CHIOEXCHANGE
 
	`_IOW
('c', 0x02, 
chªg”_exchªge
)

	)

219 
	#CHIOPOSITION
 
	`_IOW
('c', 0x03, 
chªg”_pos™iÚ
)

	)

220 
	#CHIOGPICKER
 
	`_IOR
('c', 0x04, )

	)

221 
	#CHIOSPICKER
 
	`_IOW
('c', 0x05, )

	)

222 
	#CHIOGPARAMS
 
	`_IOR
('c', 0x06, 
chªg”_·¿ms
)

	)

223 
	#CHIOIELEM
 
	`_IOW
('c', 0x07, 
u_št32_t
)

	)

224 
	#CHIOGSTATUS
 
	`_IOW
('c', 0x08, 
chªg”_–em’t_¡©us_»que¡
)

	)

225 
	#CHIOSETVOLTAG
 
	`_IOW
('c', 0x09, 
chªg”_£t_vŞg_»que¡
)

	)

	@/usr/include/sys/conf.h

40 #iâdeà
_SYS_CONF_H_


41 
	#_SYS_CONF_H_


	)

43 #ifdeà
_KERNEL


44 
	~<sys/ev’thªdËr.h
>

46 
	~<sys/queue.h
>

49 
	g¢­d©a
;

50 
	gdevfs_dœ’t
;

51 
	gcdevsw
;

52 
	gfe
;

54 
	scdev
 {

55 *
	m__si_»£rved
;

56 
u_št
 
	msi_æags
;

57 
	#SI_ETERNAL
 0x0001

	)

58 
	#SI_ALIAS
 0x0002

	)

59 
	#SI_NAMED
 0x0004

	)

60 
	#SI_CHEAPCLONE
 0x0008

	)

61 
	#SI_CHILD
 0x0010

	)

62 
	#SI_DEVOPEN
 0x0020

	)

63 
	#SI_CONSOPEN
 0x0040

	)

64 
	#SI_DUMPDEV
 0x0080

	)

65 
	#SI_CANDELETE
 0x0100

	)

66 
	#SI_CLONELIST
 0x0200

	)

67 
time¥ec
 
	msi_©ime
;

68 
time¥ec
 
	msi_ùime
;

69 
time¥ec
 
	msi_mtime
;

70 
uid_t
 
	msi_uid
;

71 
gid_t
 
	msi_gid
;

72 
mode_t
 
	msi_mode
;

73 
uüed
 *
	msi_üed
;

74 
	msi_drv0
;

75 
	msi_»fcouÁ
;

76 
LIST_ENTRY
(
cdev
è
	msi_li¡
;

77 
LIST_ENTRY
(
cdev
è
	msi_şÚe
;

78 
LIST_HEAD
(, 
cdev
è
	msi_chd»n
;

79 
LIST_ENTRY
(
cdev
è
	msi_siblšgs
;

80 
cdev
 *
	msi_·»Á
;

81 *
	msi_Çme
;

82 *
	msi_drv1
, *
	msi_drv2
;

83 
cdevsw
 *
	msi_devsw
;

84 
	msi_iosize_max
;

85 
u_lÚg
 
	msi_u£couÁ
;

86 
u_lÚg
 
	msi_th»adcouÁ
;

88 
¢­d©a
 *
	m__sid_¢­d©a
;

89 } 
	m__si_u
;

90 
	m__si_Çmebuf
[
SPECNAMELEN
 + 1];

93 
	#si_¢­d©a
 
__si_u
.
__sid_¢­d©a


	)

95 #ifdeà
_KERNEL


101 
	gbio
;

102 
	gbuf
;

103 
	gth»ad
;

104 
	guio
;

105 
	gknÙe
;

106 
	gşÚedevs
;

107 
	gvm_objeù
;

108 
	gvnode
;

126 
th»ad
 
	td_th»ad_t
;

128 
	td_İ’_t
(
	tcdev
 *
	tdev
, 
	toæags
, 
	tdevty³
, 
	tth»ad
 *
	ttd
);

129 
	td_fdİ’_t
(
	tcdev
 *
	tdev
, 
	toæags
, 
	tth»ad
 *
	ttd
, 
	tfe
 *
	tå
);

130 
	td_şo£_t
(
	tcdev
 *
	tdev
, 
	tfæag
, 
	tdevty³
, 
	tth»ad
 *
	ttd
);

131 
	td_¡¿‹gy_t
(
	tbio
 *
	tbp
);

132 
	td_ioùl_t
(
	tcdev
 *
	tdev
, 
	tu_lÚg
 
	tcmd
, 
	tÿddr_t
 
	td©a
,

133 
	tfæag
, 
	tth»ad
 *
	ttd
);

135 
	td_»ad_t
(
	tcdev
 *
	tdev
, 
	tuio
 *uio, 
	tioæag
);

136 
	td_wr™e_t
(
	tcdev
 *
	tdev
, 
	tuio
 *uio, 
	tioæag
);

137 
	td_pŞl_t
(
	tcdev
 *
	tdev
, 
	tev’ts
, 
	tth»ad
 *
	ttd
);

138 
	td_kqf‹r_t
(
	tcdev
 *
	tdev
, 
	tknÙe
 *
	tkn
);

139 
	td_mm­_t
(
	tcdev
 *
	tdev
, 
	tvm_off£t_t
 
	toff£t
, 
	tvm_·ddr_t
 *
	t·ddr
,

140 
	tÅrÙ
);

141 
	td_mm­2_t
(
	tcdev
 *
	tdev
, 
	tvm_off£t_t
 
	toff£t
, 
	tvm_·ddr_t
 *
	t·ddr
,

142 
	tÅrÙ
, 
	tvm_mem©Œ_t
 *
	tmem©Œ
);

143 
	td_mm­_sšgË_t
(
	tcdev
 *cdev, 
	tvm_ooff£t_t
 *
	toff£t
,

144 
	tvm_size_t
 
	tsize
, 
	tvm_objeù
 **
	tobjeù
, 
	tÅrÙ
);

145 
	td_purge_t
(
	tcdev
 *
	tdev
);

147 
	tdum³r_t
(

148 *
	t_´iv
,

149 *
	t_vœtu®
,

150 
	tvm_off£t_t
 
	t_physiÿl
,

151 
	toff_t
 
	t_off£t
,

152 
	tsize_t
 
	t_Ëngth
);

159 
	#D_TAPE
 0x0001

	)

160 
	#D_DISK
 0x0002

	)

161 
	#D_TTY
 0x0004

	)

162 
	#D_MEM
 0x0008

	)

164 #ifdeà
_KERNEL


166 
	#D_TYPEMASK
 0xffff

	)

171 
	#D_TRACKCLOSE
 0x00080000

	)

172 
	#D_MMAP_ANON
 0x00100000

	)

173 
	#D_PSEUDO
 0x00200000

	)

174 
	#D_NEEDGIANT
 0x00400000

	)

175 
	#D_NEEDMINOR
 0x00800000

	)

176 
	#D_MMAP2
 0x01000000

	)

181 
	#D_VERSION_00
 0x20011966

	)

182 
	#D_VERSION_01
 0x17032005

	)

183 
	#D_VERSION_02
 0x28042009

	)

184 
	#D_VERSION
 
D_VERSION_02


	)

189 
	#D_INIT
 0x80000000

	)

194 
	scdevsw
 {

195 
	md_v”siÚ
;

196 
u_št
 
	md_æags
;

197 cÚ¡ *
	md_Çme
;

198 
d_İ’_t
 *
	md_İ’
;

199 
d_fdİ’_t
 *
	md_fdİ’
;

200 
d_şo£_t
 *
	md_şo£
;

201 
d_»ad_t
 *
	md_»ad
;

202 
d_wr™e_t
 *
	md_wr™e
;

203 
d_ioùl_t
 *
	md_ioùl
;

204 
d_pŞl_t
 *
	md_pŞl
;

206 
d_mm­_t
 *
	mŞd
;

207 
d_mm­2_t
 *
	mÃw
;

208 } 
	m__d_mm­
;

209 
d_¡¿‹gy_t
 *
	md_¡¿‹gy
;

210 
dum³r_t
 *
	md_dump
;

211 
d_kqf‹r_t
 *
	md_kqf‹r
;

212 
d_purge_t
 *
	md_purge
;

213 
d_mm­_sšgË_t
 *
	md_mm­_sšgË
;

214 
uid_t
 
	md_uid
;

215 
gid_t
 
	md_gid
;

216 
mode_t
 
	md_mode
;

217 cÚ¡ *
	md_kšd
;

220 
LIST_ENTRY
(
cdevsw
è
	md_li¡
;

221 
LIST_HEAD
(, 
cdev
è
	md_devs
;

222 
	md_¥¬e3
;

224 
cdevsw
 *
	mgŸÁŒick
;

225 
SLIST_ENTRY
(
cdevsw
è
	mpo¡ä“_li¡
;

226 } 
	m__d_gŸÁ
;

228 
	#d_mm­
 
__d_mm­
.
Şd


	)

229 
	#d_mm­2
 
__d_mm­
.
Ãw


	)

230 
	#d_gŸÁŒick
 
__d_gŸÁ
.
gŸÁŒick


	)

231 
	#d_po¡ä“_li¡
 
__d_gŸÁ
.
po¡ä“_li¡


	)

233 
	gmoduË
;

235 
	sdevsw_moduË_d©a
 {

236 (*
	mchaševh
)(
	mmoduË
 *, , *);

237 *
	mchaš¬g
;

241 
	#DEV_MODULE
(
Çme
, 
evh
, 
¬g
) \

242 
moduËd©a_t
 
Çme
##
_mod
 = { \

244 
evh
, \

245 
¬g
 \

247 
	`DECLARE_MODULE
(
Çme
,‚ame##
_mod
, 
SI_SUB_DRIVERS
, 
SI_ORDER_MIDDLE
)

	)

250 
şÚe_£tup
(
şÚedevs
 **
cdp
);

251 
şÚe_ş—nup
(
şÚedevs
 **);

252 
	#CLONE_UNITMASK
 0xfffff

	)

253 
	#CLONE_FLAG0
 (
CLONE_UNITMASK
 + 1)

	)

254 
şÚe_ü—‹
(
şÚedevs
 **, 
cdevsw
 *, *
un™
, 
cdev
 **
dev
, 
exŒa
);

256 
couÁ_dev
(
cdev
 *
_dev
);

257 
de¡roy_dev
(
cdev
 *
_dev
);

258 
de¡roy_dev_sched
(
cdev
 *
dev
);

259 
de¡roy_dev_sched_cb
(
cdev
 *
dev
, (*
cb
)(*), *
¬g
);

260 
	`de¡roy_dev_d¿š
(
cdevsw
 *
csw
);

261 
	`d¿š_dev_şÚe_ev’ts
();

262 
cdevsw
 *
	`dev_»áh»ad
(
cdev
 *
_dev
, *
_»f
);

263 
cdevsw
 *
	`devvn_»áh»ad
(
vnode
 *
vp
, 
cdev
 **
devp
, *
_»f
);

264 
	`dev_»Éh»ad
(
cdev
 *
_dev
, 
_»f
);

265 
	`dev_d•’ds
(
cdev
 *
_pdev
, cdev *
_cdev
);

266 
	`dev_»f
(
cdev
 *
dev
);

267 
	`dev_»æ
(
cdev
 *
dev
);

268 
	`dev_»l
(
cdev
 *
dev
);

269 
	`dev_¡¿‹gy
(
cdev
 *
dev
, 
buf
 *
bp
);

270 
cdev
 *
	$make_dev
(
cdevsw
 *
_devsw
, 
_un™
, 
uid_t
 
_uid
, 
gid_t
 
_gid
,

271 
_³rms
, cÚ¡ *
_fmt
, ...è
	`__´štæike
(6, 7);

272 
cdev
 *
	$make_dev_üed
(
cdevsw
 *
_devsw
, 
_un™
,

273 
uüed
 *
_ü
, 
uid_t
 
_uid
, 
gid_t
 
_gid
, 
_³rms
,

274 cÚ¡ *
_fmt
, ...è
	`__´štæike
(7, 8);

275 
	#MAKEDEV_REF
 0x01

	)

276 
	#MAKEDEV_WHTOUT
 0x02

	)

277 
	#MAKEDEV_NOWAIT
 0x04

	)

278 
	#MAKEDEV_WAITOK
 0x08

	)

279 
	#MAKEDEV_ETERNAL
 0x10

	)

280 
cdev
 *
	$make_dev_üedf
(
_æags
,

281 
cdevsw
 *
_devsw
, 
_un™
,

282 
uüed
 *
_ü
, 
uid_t
 
_uid
, 
gid_t
 
_gid
, 
_mode
,

283 cÚ¡ *
_fmt
, ...è
	`__´štæike
(8, 9);

284 
	$make_dev_p
(
_æags
, 
cdev
 **
_cdev
, 
cdevsw
 *
_devsw
,

285 
uüed
 *
_ü
, 
uid_t
 
_uid
, 
gid_t
 
_gid
, 
_mode
,

286 cÚ¡ *
_fmt
, ...è
	`__´štæike
(8, 9);

287 
cdev
 *
	$make_dev_®Ÿs
(
cdev
 *
_pdev
, cÚ¡ *
_fmt
, ...)

288 
	`__´štæike
(2, 3);

289 
	`dev_lock
();

290 
	`dev_uÆock
();

291 
	`£tcÚf
();

293 #ifdeà
KLD_MODULE


294 
	#MAKEDEV_ETERNAL_KLD
 0

	)

296 
	#MAKEDEV_ETERNAL_KLD
 
MAKEDEV_ETERNAL


	)

299 
	#dev2un™
(
d
è((d)->
si_drv0
)

	)

301 (*
	tcdev´iv_dŒ_t
)(*
	td©a
);

302 
	`devfs_g‘_cdev´iv
(**
d©­
);

303 
	`devfs_£t_cdev´iv
(*
´iv
, 
cdev´iv_dŒ_t
 
dŒ
);

304 
	`devfs_ş—r_cdev´iv
();

305 
	`devfs_ådrİ
(
fe
 *
å
);

307 
	#UID_ROOT
 0

	)

308 
	#UID_BIN
 3

	)

309 
	#UID_UUCP
 66

	)

310 
	#UID_NOBODY
 65534

	)

312 
	#GID_WHEEL
 0

	)

313 
	#GID_KMEM
 2

	)

314 
	#GID_TTY
 4

	)

315 
	#GID_OPERATOR
 5

	)

316 
	#GID_BIN
 7

	)

317 
	#GID_GAMES
 13

	)

318 
	#GID_DIALER
 68

	)

319 
	#GID_NOBODY
 65534

	)

321 (*
	tdev_şÚe_â
)(*
	t¬g
, 
	tuüed
 *
	tüed
, *
	tÇme
,

322 
	tÇm–’
, 
	tcdev
 **
	t»suÉ
);

324 
	`dev_¡dşÚe
(*
_Çme
, **
_Çm•
, cÚ¡ *
_¡em
, *
_un™
);

325 
	`EVENTHANDLER_DECLARE
(
dev_şÚe
, 
dev_şÚe_â
);

329 
	sdum³ršfo
 {

330 
dum³r_t
 *
dum³r
;

331 *
´iv
;

332 
u_št
 
blocksize
;

333 
u_št
 
maxiosize
;

334 
off_t
 
medŸoff£t
;

335 
off_t
 
medŸsize
;

338 
	`£t_dum³r
(
dum³ršfo
 *);

339 
	`dump_wr™e
(
dum³ršfo
 *, *, 
vm_off£t_t
, 
off_t
, 
size_t
);

340 
	`dumpsys
(
dum³ršfo
 *);

341 
dumpšg
;

	@/usr/include/sys/disklabel.h

33 #iâdeà
_SYS_DISKLABEL_H_


34 
	#_SYS_DISKLABEL_H_


	)

36 #iâdeà
_KERNEL


37 
	~<sys/ty³s.h
>

39 
	~<sys/ioccom.h
>

44 
	#_PATH_DISKTAB
 "/‘c/diskb"

	)

54 #ià
defšed
(
__i386__
è|| defšed(
__amd64__
è|| defšed(
__¬m__
) || \

55 
defšed
(
__Ÿ64__
è|| 
	$defšed
(
__pow”pc__
)

56 
	#LABELSECTOR
 1

	)

57 
	#LABELOFFSET
 0

	)

60 
	#DISKMAGIC
 ((
u_št32_t
)0x82564557è

	)

61 #iâdeà
MAXPARTITIONS


62 
	#MAXPARTITIONS
 8

	)

66 
	#BBSIZE
 8192

	)

68 
	#LABEL_PART
 2

	)

69 
	#RAW_PART
 2

	)

70 
	#SWAP_PART
 1

	)

72 
	sdiskÏb–
 {

73 
u_št32_t
 
d_magic
;

74 
u_št16_t
 
d_ty³
;

75 
u_št16_t
 
d_subty³
;

76 
d_ty³Çme
[16];

78 
d_·ckÇme
[16];

81 
u_št32_t
 
d_£csize
;

82 
u_št32_t
 
d_n£ùÜs
;

83 
u_št32_t
 
d_Á¿cks
;

84 
u_št32_t
 
d_ncylšd”s
;

85 
u_št32_t
 
d_£ı”cyl
;

86 
u_št32_t
 
d_£ı”un™
;

94 
u_št16_t
 
d_¥¬e¥”Œack
;

95 
u_št16_t
 
d_¥¬e¥”cyl
;

100 
u_št32_t
 
d_acylšd”s
;

119 
u_št16_t
 
d_½m
;

120 
u_št16_t
 
d_š‹¾—ve
;

121 
u_št16_t
 
d_Œackskew
;

122 
u_št16_t
 
d_cylskew
;

123 
u_št32_t
 
d_h—dsw™ch
;

124 
u_št32_t
 
d_Œk£ek
;

125 
u_št32_t
 
d_æags
;

126 
	#NDDATA
 5

	)

127 
u_št32_t
 
d_drived©a
[
NDDATA
];

128 
	#NSPARE
 5

	)

129 
u_št32_t
 
d_¥¬e
[
NSPARE
];

130 
u_št32_t
 
d_magic2
;

131 
u_št16_t
 
d_checksum
;

134 
u_št16_t
 
d_Å¬t™iÚs
;

135 
u_št32_t
 
d_bbsize
;

136 
u_št32_t
 
d_sbsize
;

137 
	s·¹™iÚ
 {

138 
u_št32_t
 
p_size
;

139 
u_št32_t
 
p_off£t
;

140 
u_št32_t
 
p_fsize
;

141 
u_št8_t
 
p_f¡y³
;

142 
u_št8_t
 
p_äag
;

143 
u_št16_t
 
p_ıg
;

144 } 
d_·¹™iÚs
[
MAXPARTITIONS
];

147 #ifdeà
CTASSERT


148 
	`CTASSERT
((
diskÏb–
è=ğ148 + 
MAXPARTITIONS
 * 16);

151 
__šlše
 
u_št16_t
 
	`dkcksum
(
diskÏb–
 *
Í
);

152 
__šlše
 
u_št16_t


153 
	$dkcksum
(
diskÏb–
 *
Í
)

155 
u_št16_t
 *
¡¬t
, *
’d
;

156 
u_št16_t
 
sum
 = 0;

158 
¡¬t
 = (
u_št16_t
 *)
Í
;

159 
’d
 = (
u_št16_t
 *)&
Í
->
d_·¹™iÚs
[Í->
d_Å¬t™iÚs
];

160 
¡¬t
 < 
’d
)

161 
sum
 ^ğ*
¡¬t
++;

162  (
sum
);

163 
	}
}

167 
	#DTYPE_SMD
 1

	)

168 
	#DTYPE_MSCP
 2

	)

169 
	#DTYPE_DEC
 3

	)

170 
	#DTYPE_SCSI
 4

	)

171 
	#DTYPE_ESDI
 5

	)

172 
	#DTYPE_ST506
 6

	)

173 
	#DTYPE_HPIB
 7

	)

174 
	#DTYPE_HPFL
 8

	)

175 
	#DTYPE_FLOPPY
 10

	)

176 
	#DTYPE_CCD
 11

	)

177 
	#DTYPE_VINUM
 12

	)

178 
	#DTYPE_DOC2K
 13

	)

179 
	#DTYPE_RAID
 14

	)

180 
	#DTYPE_JFS2
 16

	)

182 #ifdeà
DKTYPENAMES


183 cÚ¡ *
	gdkty³Çmes
[] = {

201 
NULL


203 
	#DKMAXTYPES
 ((
dkty³Çmes
è/ (dkty³Çmes[0]è- 1)

	)

211 
	#FS_UNUSED
 0

	)

212 
	#FS_SWAP
 1

	)

213 
	#FS_V6
 2

	)

214 
	#FS_V7
 3

	)

215 
	#FS_SYSV
 4

	)

216 
	#FS_V71K
 5

	)

217 
	#FS_V8
 6

	)

218 
	#FS_BSDFFS
 7

	)

219 
	#FS_MSDOS
 8

	)

220 
	#FS_BSDLFS
 9

	)

221 
	#FS_OTHER
 10

	)

222 
	#FS_HPFS
 11

	)

223 
	#FS_ISO9660
 12

	)

224 
	#FS_BOOT
 13

	)

225 
	#FS_VINUM
 14

	)

226 
	#FS_RAID
 15

	)

227 
	#FS_FILECORE
 16

	)

228 
	#FS_EXT2FS
 17

	)

229 
	#FS_NTFS
 18

	)

230 
	#FS_CCD
 20

	)

231 
	#FS_JFS2
 21

	)

232 
	#FS_UDF
 24

	)

233 
	#FS_EFS
 26

	)

234 
	#FS_ZFS
 27

	)

236 #ifdef 
FSTYPENAMES


237 cÚ¡ *
	gf¡y³Çmes
[] = {

266 
NULL


268 
	#FSMAXTYPES
 ((
f¡y³Çmes
è/ (f¡y³Çmes[0]è- 1)

	)

274 
	#D_REMOVABLE
 0x01

	)

275 
	#D_ECC
 0x02

	)

276 
	#D_BADSECT
 0x04

	)

277 
	#D_RAMDISK
 0x08

	)

278 
	#D_CHAIN
 0x10

	)

286 
	#DIOCGDINFO
 
	`_IOR
('d', 101, 
diskÏb–
)

	)

287 
	#DIOCSDINFO
 
	`_IOW
('d', 102, 
diskÏb–
)

	)

288 
	#DIOCWDINFO
 
	`_IOW
('d', 103, 
diskÏb–
)

	)

289 
	#DIOCBSDBB
 
	`_IOW
('d', 110, *è

	)

295 
bsd_·¹™iÚ_Ë_dec
(
u_ch¬
 *
±r
, 
·¹™iÚ
 *
d
);

296 
bsd_diskÏb–_Ë_dec
(
u_ch¬
 *
±r
, 
diskÏb–
 *
d
, 
max·¹
);

297 
bsd_·¹™iÚ_Ë_’c
(
u_ch¬
 *
±r
, 
·¹™iÚ
 *
d
);

298 
bsd_diskÏb–_Ë_’c
(
u_ch¬
 *
±r
, 
diskÏb–
 *
d
);

300 #iâdeà
_KERNEL


301 
__BEGIN_DECLS


302 
diskÏb–
 *
g‘diskbyÇme
(const *);

303 
	g__END_DECLS


	@/usr/include/sys/event.h

29 #iâdeà
_SYS_EVENT_H_


30 
	#_SYS_EVENT_H_


	)

32 
	~<sys/queue.h
>

34 
	#EVFILT_READ
 (-1)

	)

35 
	#EVFILT_WRITE
 (-2)

	)

36 
	#EVFILT_AIO
 (-3è

	)

37 
	#EVFILT_VNODE
 (-4è

	)

38 
	#EVFILT_PROC
 (-5è

	)

39 
	#EVFILT_SIGNAL
 (-6è

	)

40 
	#EVFILT_TIMER
 (-7è

	)

42 
	#EVFILT_FS
 (-9è

	)

43 
	#EVFILT_LIO
 (-10è

	)

44 
	#EVFILT_USER
 (-11è

	)

45 
	#EVFILT_SYSCOUNT
 11

	)

47 
	#EV_SET
(
kevp_
, 
a
, 
b
, 
c
, 
d
, 
e
, 
f
) do { \

48 
kev’t
 *
kevp
 = (
kevp_
); \

49 (
kevp
)->
id’t
 = (
a
); \

50 (
kevp
)->
f‹r
 = (
b
); \

51 (
kevp
)->
æags
 = (
c
); \

52 (
kevp
)->
fæags
 = (
d
); \

53 (
kevp
)->
d©a
 = (
e
); \

54 (
kevp
)->
ud©a
 = (
f
); \

55 } 0)

	)

57 
	skev’t
 {

58 
ušŒ_t
 
	mid’t
;

59 
	mf‹r
;

60 
u_shÜt
 
	mæags
;

61 
u_št
 
	mfæags
;

62 
šŒ_t
 
	md©a
;

63 *
	mud©a
;

67 
	#EV_ADD
 0x0001

	)

68 
	#EV_DELETE
 0x0002

	)

69 
	#EV_ENABLE
 0x0004

	)

70 
	#EV_DISABLE
 0x0008

	)

73 
	#EV_ONESHOT
 0x0010

	)

74 
	#EV_CLEAR
 0x0020

	)

75 
	#EV_RECEIPT
 0x0040

	)

76 
	#EV_DISPATCH
 0x0080

	)

78 
	#EV_SYSFLAGS
 0xF000

	)

79 
	#EV_FLAG1
 0x2000

	)

82 
	#EV_EOF
 0x8000

	)

83 
	#EV_ERROR
 0x4000

	)

94 
	#NOTE_FFNOP
 0x00000000

	)

95 
	#NOTE_FFAND
 0x40000000

	)

96 
	#NOTE_FFOR
 0x80000000

	)

97 
	#NOTE_FFCOPY
 0xc0000000

	)

98 
	#NOTE_FFCTRLMASK
 0xc0000000

	)

99 
	#NOTE_FFLAGSMASK
 0x00ffffff

	)

101 
	#NOTE_TRIGGER
 0x01000000

	)

107 
	#NOTE_LOWAT
 0x0001

	)

112 
	#NOTE_DELETE
 0x0001

	)

113 
	#NOTE_WRITE
 0x0002

	)

114 
	#NOTE_EXTEND
 0x0004

	)

115 
	#NOTE_ATTRIB
 0x0008

	)

116 
	#NOTE_LINK
 0x0010

	)

117 
	#NOTE_RENAME
 0x0020

	)

118 
	#NOTE_REVOKE
 0x0040

	)

123 
	#NOTE_EXIT
 0x80000000

	)

124 
	#NOTE_FORK
 0x40000000

	)

125 
	#NOTE_EXEC
 0x20000000

	)

126 
	#NOTE_PCTRLMASK
 0xf0000000

	)

127 
	#NOTE_PDATAMASK
 0x000ffffà

	)

130 
	#NOTE_TRACK
 0x00000001

	)

131 
	#NOTE_TRACKERR
 0x00000002

	)

132 
	#NOTE_CHILD
 0x00000004

	)

134 
	gknÙe
;

135 
SLIST_HEAD
(
kli¡
, 
knÙe
);

136 
	gkqueue
;

137 
SLIST_HEAD
(
kqli¡
, 
kqueue
);

138 
	skÆi¡
 {

139 
kli¡
 
	mkl_li¡
;

140 (*
	mkl_lock
)(*);

141 (*
	mkl_uÆock
)(*);

142 (*
	mkl_as£¹_locked
)(*);

143 (*
	mkl_as£¹_uÆocked
)(*);

144 *
	mkl_lock¬g
;

148 #ifdeà
_KERNEL


150 #ifdeà
MALLOC_DECLARE


151 
MALLOC_DECLARE
(
M_KQUEUE
);

157 
	#KNF_LISTLOCKED
 0x0001

	)

158 
	#KNF_NOKQLOCK
 0x0002

	)

160 
	#KNOTE
(
li¡
, 
hi¡
, 
æags
è
	`knÙe
Öi¡, hi¡, fÏgs)

	)

161 
	#KNOTE_LOCKED
(
li¡
, 
hšt
è
	`knÙe
Öi¡, hšt, 
KNF_LISTLOCKED
)

	)

162 
	#KNOTE_UNLOCKED
(
li¡
, 
hšt
è
	`knÙe
Öi¡, hšt, 0)

	)

164 
	#KNLIST_EMPTY
(
li¡
è
	`SLIST_EMPTY
(&Öi¡)->
kl_li¡
)

	)

170 
	#NOTE_SIGNAL
 0x08000000

	)

179 
	#EVENT_REGISTER
 1

	)

180 
	#EVENT_PROCESS
 2

	)

182 
	sf‹rİs
 {

183 
	mf_isfd
;

184 (*
	mf_©ch
)(
knÙe
 *
	mkn
);

185 (*
	mf_d‘ach
)(
knÙe
 *
	mkn
);

186 (*
	mf_ev’t
)(
knÙe
 *
	mkn
, 
	mhšt
);

187 (*
	mf_touch
)(
knÙe
 *
	mkn
, 
kev’t
 *
	mkev
, 
u_lÚg
 
	mty³
);

196 
	sknÙe
 {

197 
SLIST_ENTRY
(
knÙe
è
	mkn_lšk
;

198 
SLIST_ENTRY
(
knÙe
è
	mkn_£Êext
;

199 
kÆi¡
 *
	mkn_kÆi¡
;

200 
TAILQ_ENTRY
(
knÙe
è
	mkn_tqe
;

201 
kqueue
 *
	mkn_kq
;

202 
kev’t
 
	mkn_kev’t
;

203 
	mkn_¡©us
;

204 
	#KN_ACTIVE
 0x01

	)

205 
	#KN_QUEUED
 0x02

	)

206 
	#KN_DISABLED
 0x04

	)

207 
	#KN_DETACHED
 0x08

	)

208 
	#KN_INFLUX
 0x10

	)

209 
	#KN_MARKER
 0x20

	)

210 
	#KN_KQUEUE
 0x40

	)

211 
	#KN_HASKQLOCK
 0x80

	)

212 
	mkn_sfæags
;

213 
šŒ_t
 
	mkn_sd©a
;

215 
fe
 *
	mp_å
;

216 
´oc
 *
	mp_´oc
;

217 
aiocbli¡
 *
	mp_aio
;

218 
aiŞiojob
 *
	mp_lio
;

219 } 
	mkn_±r
;

220 
f‹rİs
 *
	mkn_fİ
;

221 *
	mkn_hook
;

222 
	mkn_hookid
;

224 
	#kn_id
 
kn_kev’t
.
id’t


	)

225 
	#kn_f‹r
 
kn_kev’t
.
f‹r


	)

226 
	#kn_æags
 
kn_kev’t
.
æags


	)

227 
	#kn_fæags
 
kn_kev’t
.
fæags


	)

228 
	#kn_d©a
 
kn_kev’t
.
d©a


	)

229 
	#kn_å
 
kn_±r
.
p_å


	)

231 
	skev’t_cİyİs
 {

232 *
	m¬g
;

233 (*
	mk_cİyout
)(*
	m¬g
, 
kev’t
 *
	mkevp
, 
	mcouÁ
);

234 (*
	mk_cİyš
)(*
	m¬g
, 
kev’t
 *
	mkevp
, 
	mcouÁ
);

237 
	gth»ad
;

238 
	g´oc
;

239 
	gkÆi¡
;

240 
	gmtx
;

242 
knÙe
(
kÆi¡
 *
li¡
, 
hšt
, 
lockæags
);

243 
knÙe_fÜk
(
kÆi¡
 *
li¡
, 
pid
);

244 
kÆi¡_add
(
kÆi¡
 *
kÆ
, 
knÙe
 *
kn
, 
i¦ocked
);

245 
kÆi¡_»move
(
kÆi¡
 *
kÆ
, 
knÙe
 *
kn
, 
i¦ocked
);

246 
kÆi¡_»move_šev’t
(
kÆi¡
 *
kÆ
, 
knÙe
 *
kn
);

247 
kÆi¡_em±y
(
kÆi¡
 *
kÆ
);

248 
kÆi¡_š™
(
kÆi¡
 *
kÆ
, *
lock
,

249 (*
kl_lock
)(*), (*
kl_uÆock
)(*),

250 (*
kl_as£¹_locked
)(*), (*
kl_as£¹_uÆocked
)(*));

251 
	`kÆi¡_š™_mtx
(
kÆi¡
 *
kÆ
, 
mtx
 *
lock
);

252 
	`kÆi¡_de¡roy
(
kÆi¡
 *
kÆ
);

253 
	`kÆi¡_ş—rd–
(
kÆi¡
 *
kÆ
, 
th»ad
 *
td
,

254 
i¦ocked
, 
klkn
);

255 
	#kÆi¡_ş—r
(
kÆ
, 
i¦ocked
) \

256 
	`kÆi¡_ş—rd–
((
kÆ
), 
NULL
, (
i¦ocked
), 0)

	)

257 
	#kÆi¡_d–‘e
(
kÆ
, 
td
, 
i¦ocked
) \

258 
	`kÆi¡_ş—rd–
((
kÆ
), (
td
), (
i¦ocked
), 1)

	)

259 
	`knÙe_fdşo£
(
th»ad
 *
p
, 
fd
);

260 
	`kqfd_»gi¡”
(
fd
, 
kev’t
 *
kev
, 
th»ad
 *
p
,

261 
wa™ok
);

262 
	`kqueue_add_f‹rİts
(
ft
, 
f‹rİs
 *
ftİs
);

263 
	`kqueue_d–_f‹rİts
(
ft
);

267 
	~<sys/cdefs.h
>

268 
time¥ec
;

270 
__BEGIN_DECLS


271 
	`kqueue
();

272 
	`kev’t
(
kq
, cÚ¡ 
kev’t
 *
chªg–i¡
, 
nchªges
,

273 
kev’t
 *
ev’i¡
, 
Ãv’ts
,

274 cÚ¡ 
time¥ec
 *
timeout
);

275 
__END_DECLS


	@/usr/include/sys/fcntl.h

38 #iâdeà
_SYS_FCNTL_H_


39 
	#_SYS_FCNTL_H_


	)

47 
	~<sys/cdefs.h
>

48 
	~<sys/_ty³s.h
>

50 #iâdeà
_MODE_T_DECLARED


51 
__mode_t
 
	tmode_t
;

52 
	#_MODE_T_DECLARED


	)

55 #iâdeà
_OFF_T_DECLARED


56 
__off_t
 
	toff_t
;

57 
	#_OFF_T_DECLARED


	)

60 #iâdeà
_PID_T_DECLARED


61 
__pid_t
 
	tpid_t
;

62 
	#_PID_T_DECLARED


	)

73 
	#O_RDONLY
 0x0000

	)

74 
	#O_WRONLY
 0x0001

	)

75 
	#O_RDWR
 0x0002

	)

76 
	#O_ACCMODE
 0x0003

	)

86 #ià
__BSD_VISIBLE


87 
	#FREAD
 0x0001

	)

88 
	#FWRITE
 0x0002

	)

90 
	#O_NONBLOCK
 0x0004

	)

91 
	#O_APPEND
 0x0008

	)

92 #ià
__BSD_VISIBLE


93 
	#O_SHLOCK
 0x0010

	)

94 
	#O_EXLOCK
 0x0020

	)

95 
	#O_ASYNC
 0x0040

	)

96 
	#O_FSYNC
 0x0080

	)

98 
	#O_SYNC
 0x0080

	)

99 #ià
__BSD_VISIBLE


100 
	#O_NOFOLLOW
 0x0100

	)

102 
	#O_CREAT
 0x0200

	)

103 
	#O_TRUNC
 0x0400

	)

104 
	#O_EXCL
 0x0800

	)

105 #ifdeà
_KERNEL


106 
	#FHASLOCK
 0x4000

	)

110 
	#O_NOCTTY
 0x8000

	)

112 #ià
__BSD_VISIBLE


114 
	#O_DIRECT
 0x00010000

	)

118 #ià
__BSD_VISIBLE


119 
	#O_DIRECTORY
 0x00020000

	)

120 
	#O_EXEC
 0x00040000

	)

122 #ifdef 
_KERNEL


123 
	#FEXEC
 
O_EXEC


	)

126 #ià
__POSIX_VISIBLE
 >= 200809

128 
	#O_TTY_INIT
 0x00080000

	)

130 
	#O_CLOEXEC
 0x00100000

	)

137 #ifdeà
_KERNEL


139 
	#FFLAGS
(
oæags
è((oæagsè+ 1)

	)

140 
	#OFLAGS
(
fæags
è((fæagsè- 1)

	)

143 
	#FMASK
 (
FREAD
|
FWRITE
|
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
O_DIRECT
|
FEXEC
)

	)

145 
	#FCNTLFLAGS
 (
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
FRDAHEAD
|
O_DIRECT
)

	)

147 #ià
defšed
(
COMPAT_FREEBSD7
è|| defšed(
COMPAT_FREEBSD6
) || \

148 
defšed
(
COMPAT_FREEBSD5
è|| 
	$defšed
(
COMPAT_FREEBSD4
)

154 
	#FPOSIXSHM
 
O_NOFOLLOW


	)

155 #undeà
FCNTLFLAGS


156 
	#FCNTLFLAGS
 (
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
FPOSIXSHM
|
FRDAHEAD
| \

157 
O_DIRECT
)

	)

166 #ià
__BSD_VISIBLE


167 
	#FAPPEND
 
O_APPEND


	)

168 
	#FASYNC
 
O_ASYNC


	)

169 
	#FFSYNC
 
O_FSYNC


	)

170 
	#FNONBLOCK
 
O_NONBLOCK


	)

171 
	#FNDELAY
 
O_NONBLOCK


	)

172 
	#O_NDELAY
 
O_NONBLOCK


	)

181 #ià
__BSD_VISIBLE


183 
	#FRDAHEAD
 
O_CREAT


	)

187 #ià
__BSD_VISIBLE


193 
	#AT_FDCWD
 -100

	)

198 
	#AT_EACCESS
 0x100

	)

199 
	#AT_SYMLINK_NOFOLLOW
 0x200

	)

200 
	#AT_SYMLINK_FOLLOW
 0x400

	)

201 
	#AT_REMOVEDIR
 0x800

	)

209 
	#F_DUPFD
 0

	)

210 
	#F_GETFD
 1

	)

211 
	#F_SETFD
 2

	)

212 
	#F_GETFL
 3

	)

213 
	#F_SETFL
 4

	)

214 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

215 
	#F_GETOWN
 5

	)

216 
	#F_SETOWN
 6

	)

218 
	#F_OGETLK
 7

	)

219 
	#F_OSETLK
 8

	)

220 
	#F_OSETLKW
 9

	)

221 
	#F_DUP2FD
 10

	)

222 
	#F_GETLK
 11

	)

223 
	#F_SETLK
 12

	)

224 
	#F_SETLKW
 13

	)

225 
	#F_SETLK_REMOTE
 14

	)

226 
	#F_READAHEAD
 15

	)

227 
	#F_RDAHEAD
 16

	)

230 
	#FD_CLOEXEC
 1

	)

233 
	#F_RDLCK
 1

	)

234 
	#F_UNLCK
 2

	)

235 
	#F_WRLCK
 3

	)

236 
	#F_UNLCKSYS
 4

	)

237 
	#F_CANCEL
 5

	)

238 #ifdeà
_KERNEL


239 
	#F_WAIT
 0x010

	)

240 
	#F_FLOCK
 0x020

	)

241 
	#F_POSIX
 0x040

	)

242 
	#F_REMOTE
 0x080

	)

243 
	#F_NOINTR
 0x100

	)

250 
	sæock
 {

251 
off_t
 
l_¡¬t
;

252 
off_t
 
l_Ën
;

253 
pid_t
 
l_pid
;

254 
l_ty³
;

255 
l_wh’û
;

256 
l_sysid
;

263 
	soæock
 {

264 
off_t
 
l_¡¬t
;

265 
off_t
 
l_Ën
;

266 
pid_t
 
l_pid
;

267 
l_ty³
;

268 
l_wh’û
;

272 #ià
__BSD_VISIBLE


274 
	#LOCK_SH
 0x01

	)

275 
	#LOCK_EX
 0x02

	)

276 
	#LOCK_NB
 0x04

	)

277 
	#LOCK_UN
 0x08

	)

280 #ià
__POSIX_VISIBLE
 >= 200112

284 
	#POSIX_FADV_NORMAL
 0

	)

285 
	#POSIX_FADV_RANDOM
 1

	)

286 
	#POSIX_FADV_SEQUENTIAL
 2

	)

287 
	#POSIX_FADV_WILLNEED
 3

	)

288 
	#POSIX_FADV_DONTNEED
 4

	)

289 
	#POSIX_FADV_NOREUSE
 5

	)

292 #iâdeà
_KERNEL


293 
__BEGIN_DECLS


294 
	`İ’
(const *, , ...);

295 
	`ü—t
(cÚ¡ *, 
mode_t
);

296 
	`fú
(, , ...);

297 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

298 
	`İ’©
(, const *, , ...);

300 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

301 
	`posix_çdvi£
(, 
off_t
, off_t, );

302 
	`posix_çÎoÿ‹
(, 
off_t
, off_t);

304 #ià
__BSD_VISIBLE


305 
	`æock
(, );

307 
__END_DECLS


	@/usr/include/sys/file.h

33 #iâdeà
_SYS_FILE_H_


34 
	#_SYS_FILE_H_


	)

36 #iâdeà
_KERNEL


37 
	~<sys/ty³s.h
>

38 
	~<sys/fú.h
>

39 
	~<sys/uni¡d.h
>

41 
	~<sys/queue.h
>

42 
	~<sys/»fcouÁ.h
>

43 
	~<sys/_lock.h
>

44 
	~<sys/_mu‹x.h
>

46 
	g¡©
;

47 
	gth»ad
;

48 
	guio
;

49 
	gknÙe
;

50 
	gvnode
;

51 
	gsock‘
;

56 
	#DTYPE_VNODE
 1

	)

57 
	#DTYPE_SOCKET
 2

	)

58 
	#DTYPE_PIPE
 3

	)

59 
	#DTYPE_FIFO
 4

	)

60 
	#DTYPE_KQUEUE
 5

	)

61 
	#DTYPE_CRYPTO
 6

	)

62 
	#DTYPE_MQUEUE
 7

	)

63 
	#DTYPE_SHM
 8

	)

64 
	#DTYPE_SEM
 9

	)

65 
	#DTYPE_PTS
 10

	)

67 #ifdeà
_KERNEL


69 
	gfe
;

70 
	guüed
;

72 
	tfo_rdwr_t
(
	tfe
 *
	tå
, 
	tuio
 *uio,

73 
	tuüed
 *
	taùive_üed
, 
	tæags
,

74 
	tth»ad
 *
	ttd
);

75 
	#FOF_OFFSET
 1

	)

76 
	tfo_Œunÿ‹_t
(
	tfe
 *
	tå
, 
	toff_t
 
	tËngth
,

77 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

78 
	tfo_ioùl_t
(
	tfe
 *
	tå
, 
	tu_lÚg
 
	tcom
, *
	td©a
,

79 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

80 
	tfo_pŞl_t
(
	tfe
 *
	tå
, 
	tev’ts
,

81 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

82 
	tfo_kqf‹r_t
(
	tfe
 *
	tå
, 
	tknÙe
 *
	tkn
);

83 
	tfo_¡©_t
(
	tfe
 *
	tå
, 
	t¡©
 *
	tsb
,

84 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

85 
	tfo_şo£_t
(
	tfe
 *
	tå
, 
	tth»ad
 *
	ttd
);

86 
	tfo_æags_t
;

88 
	sfeİs
 {

89 
fo_rdwr_t
 *
	mfo_»ad
;

90 
fo_rdwr_t
 *
	mfo_wr™e
;

91 
fo_Œunÿ‹_t
 *
	mfo_Œunÿ‹
;

92 
fo_ioùl_t
 *
	mfo_ioùl
;

93 
fo_pŞl_t
 *
	mfo_pŞl
;

94 
fo_kqf‹r_t
 *
	mfo_kqf‹r
;

95 
fo_¡©_t
 *
	mfo_¡©
;

96 
fo_şo£_t
 *
	mfo_şo£
;

97 
fo_æags_t
 
	mfo_æags
;

100 
	#DFLAG_PASSABLE
 0x01

	)

101 
	#DFLAG_SEEKABLE
 0x02

	)

104 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_FILE
)

116 
	sçdvi£_šfo
 {

117 
	mç_adviû
;

118 
off_t
 
	mç_¡¬t
;

119 
off_t
 
	mç_’d
;

122 
	sfe
 {

123 *
	mf_d©a
;

124 
feİs
 *
	mf_İs
;

125 
uüed
 *
	mf_üed
;

126 
vnode
 *
	mf_vnode
;

127 
	mf_ty³
;

128 
	mf_vÄ—d_æags
;

129 vŞ©
u_št
 
	mf_æag
;

130 vŞ©
u_št
 
	mf_couÁ
;

134 
	mf_£qcouÁ
;

135 
off_t
 
	mf_Ãxtoff
;

137 
cdev_´ivd©a
 *
	mfvn_cdev´iv
;

139 
çdvi£_šfo
 *
	mfvn_adviû
;

140 } 
	mf_vnun
;

144 
off_t
 
	mf_off£t
;

148 *
	mf_Ïb–
;

151 
	#f_cdev´iv
 
f_vnun
.
fvn_cdev´iv


	)

152 
	#f_adviû
 
f_vnun
.
fvn_adviû


	)

154 
	#FOFFSET_LOCKED
 0x1

	)

155 
	#FOFFSET_LOCK_WAITING
 0x2

	)

162 
	sxfe
 {

163 
size_t
 
	mxf_size
;

164 
pid_t
 
	mxf_pid
;

165 
uid_t
 
	mxf_uid
;

166 
	mxf_fd
;

167 *
	mxf_fe
;

168 
	mxf_ty³
;

169 
	mxf_couÁ
;

170 
	mxf_msgcouÁ
;

171 
off_t
 
	mxf_off£t
;

172 *
	mxf_d©a
;

173 *
	mxf_vnode
;

174 
u_št
 
	mxf_æag
;

177 #ifdeà
_KERNEL


179 #ifdeà
MALLOC_DECLARE


180 
MALLOC_DECLARE
(
M_FILE
);

183 
feİs
 
vnİs
;

184 
feİs
 
badfeİs
;

185 
feİs
 
sock‘İs
;

186 
maxfes
;

187 
maxfe¥”´oc
;

188 vŞ©
İ’fes
;

190 
fg‘
(
th»ad
 *
td
, 
fd
, 
fe
 **
åp
);

191 
fg‘_»ad
(
th»ad
 *
td
, 
fd
, 
fe
 **
åp
);

192 
fg‘_wr™e
(
th»ad
 *
td
, 
fd
, 
fe
 **
åp
);

193 
_fdrİ
(
fe
 *
å
, 
th»ad
 *
td
);

200 
fo_rdwr_t
 
	gsoo_»ad
;

201 
fo_rdwr_t
 
	gsoo_wr™e
;

202 
fo_Œunÿ‹_t
 
	gsoo_Œunÿ‹
;

203 
fo_ioùl_t
 
	gsoo_ioùl
;

204 
fo_pŞl_t
 
	gsoo_pŞl
;

205 
fo_kqf‹r_t
 
	gsoo_kqf‹r
;

206 
fo_¡©_t
 
	gsoo_¡©
;

207 
fo_şo£_t
 
	gsoo_şo£
;

209 
fš™
(
fe
 *, 
u_št
, , *, 
feİs
 *);

210 
fg‘vp
(
th»ad
 *
td
, 
fd
, 
vnode
 **
vµ
);

211 
fg‘vp_»ad
(
th»ad
 *
td
, 
fd
, 
vnode
 **
vµ
);

212 
fg‘vp_wr™e
(
th»ad
 *
td
, 
fd
, 
vnode
 **
vµ
);

214 
fg‘sock
(
th»ad
 *
td
, 
fd
, 
sock‘
 **
¥p
, 
u_št
 *
fæagp
);

215 
åutsock
(
sock‘
 *
¥
);

217 
	#fhŞd
(
å
) \

218 (
	`»fcouÁ_acquœe
(&(
å
)->
f_couÁ
))

	)

219 
	#fdrİ
(
å
, 
td
) \

220 (
	`»fcouÁ_»Ëa£
(&(
å
)->
f_couÁ
è? 
	`_fdrİ
((å), (
td
)è: 0)

	)

222 
__šlše
 
fo_rdwr_t
 
	gfo_»ad
;

223 
__šlše
 
fo_rdwr_t
 
	gfo_wr™e
;

224 
__šlše
 
fo_Œunÿ‹_t
 
	gfo_Œunÿ‹
;

225 
__šlše
 
fo_ioùl_t
 
	gfo_ioùl
;

226 
__šlše
 
fo_pŞl_t
 
	gfo_pŞl
;

227 
__šlše
 
fo_kqf‹r_t
 
	gfo_kqf‹r
;

228 
__šlše
 
fo_¡©_t
 
	gfo_¡©
;

229 
__šlše
 
fo_şo£_t
 
	gfo_şo£
;

231 
__šlše
 

232 
	$fo_»ad
(
å
, 
uio
, 
aùive_üed
, 
æags
, 
td
)

233 
fe
 *
å
;

234 
uio
 *uio;

235 
uüed
 *
aùive_üed
;

236 
æags
;

237 
th»ad
 *
td
;

240  ((*
å
->
f_İs
->
fo_»ad
)(å, 
uio
, 
aùive_üed
, 
æags
, 
td
));

241 
	}
}

243 
__šlše
 

244 
	$fo_wr™e
(
å
, 
uio
, 
aùive_üed
, 
æags
, 
td
)

245 
fe
 *
å
;

246 
uio
 *uio;

247 
uüed
 *
aùive_üed
;

248 
æags
;

249 
th»ad
 *
td
;

252  ((*
å
->
f_İs
->
fo_wr™e
)(å, 
uio
, 
aùive_üed
, 
æags
, 
td
));

253 
	}
}

255 
__šlše
 

256 
	$fo_Œunÿ‹
(
å
, 
Ëngth
, 
aùive_üed
, 
td
)

257 
fe
 *
å
;

258 
off_t
 
Ëngth
;

259 
uüed
 *
aùive_üed
;

260 
th»ad
 *
td
;

263  ((*
å
->
f_İs
->
fo_Œunÿ‹
)(å, 
Ëngth
, 
aùive_üed
, 
td
));

264 
	}
}

266 
__šlše
 

267 
	$fo_ioùl
(
å
, 
com
, 
d©a
, 
aùive_üed
, 
td
)

268 
fe
 *
å
;

269 
u_lÚg
 
com
;

270 *
d©a
;

271 
uüed
 *
aùive_üed
;

272 
th»ad
 *
td
;

275  ((*
å
->
f_İs
->
fo_ioùl
)(å, 
com
, 
d©a
, 
aùive_üed
, 
td
));

276 
	}
}

278 
__šlše
 

279 
	$fo_pŞl
(
å
, 
ev’ts
, 
aùive_üed
, 
td
)

280 
fe
 *
å
;

281 
ev’ts
;

282 
uüed
 *
aùive_üed
;

283 
th»ad
 *
td
;

286  ((*
å
->
f_İs
->
fo_pŞl
)(å, 
ev’ts
, 
aùive_üed
, 
td
));

287 
	}
}

289 
__šlše
 

290 
	$fo_¡©
(
å
, 
sb
, 
aùive_üed
, 
td
)

291 
fe
 *
å
;

292 
¡©
 *
sb
;

293 
uüed
 *
aùive_üed
;

294 
th»ad
 *
td
;

297  ((*
å
->
f_İs
->
fo_¡©
)(å, 
sb
, 
aùive_üed
, 
td
));

298 
	}
}

300 
__šlše
 

301 
	$fo_şo£
(
å
, 
td
)

302 
fe
 *
å
;

303 
th»ad
 *
td
;

306  ((*
å
->
f_İs
->
fo_şo£
)(å, 
td
));

307 
	}
}

309 
__šlše
 

310 
	$fo_kqf‹r
(
å
, 
kn
)

311 
fe
 *
å
;

312 
knÙe
 *
kn
;

315  ((*
å
->
f_İs
->
fo_kqf‹r
)(å, 
kn
));

316 
	}
}

	@/usr/include/sys/filio.h

38 #iâdef 
_SYS_FILIO_H_


39 
	#_SYS_FILIO_H_


	)

41 
	~<sys/ioccom.h
>

44 
	#FIOCLEX
 
	`_IO
('f', 1è

	)

45 
	#FIONCLEX
 
	`_IO
('f', 2è

	)

46 
	#FIONREAD
 
	`_IOR
('f', 127, è

	)

47 
	#FIONBIO
 
	`_IOW
('f', 126, è

	)

48 
	#FIOASYNC
 
	`_IOW
('f', 125, è

	)

49 
	#FIOSETOWN
 
	`_IOW
('f', 124, è

	)

50 
	#FIOGETOWN
 
	`_IOR
('f', 123, è

	)

51 
	#FIODTYPE
 
	`_IOR
('f', 122, è

	)

52 
	#FIOGETLBA
 
	`_IOR
('f', 121, è

	)

53 
	sfiodgÇme_¬g
 {

54 
	mËn
;

55 *
	mbuf
;

57 
	#FIODGNAME
 
	`_IOW
('f', 120, 
fiodgÇme_¬g
è

	)

58 
	#FIONWRITE
 
	`_IOR
('f', 119, è

	)

59 
	#FIONSPACE
 
	`_IOR
('f', 118, è

	)

61 
	#FIOSEEKDATA
 
	`_IOWR
('f', 97, 
off_t
è

	)

62 
	#FIOSEEKHOLE
 
	`_IOWR
('f', 98, 
off_t
è

	)

	@/usr/include/sys/ioctl.h

38 #iâdef 
_SYS_IOCTL_H_


39 
	#_SYS_IOCTL_H_


	)

41 #ifdeà
_KERNEL


45 
	~<sys/ioccom.h
>

47 
	~<sys/fio.h
>

48 
	~<sys/sockio.h
>

49 
	~<sys/‰ycom.h
>

	@/usr/include/sys/mac.h

47 #iâdeà
_SYS_MAC_H_


48 
	#_SYS_MAC_H_


	)

50 #iâdeà
_POSIX_MAC


51 
	#_POSIX_MAC


	)

57 
	#MAC_MAX_POLICY_NAME
 32

	)

58 
	#MAC_MAX_LABEL_ELEMENT_NAME
 32

	)

59 
	#MAC_MAX_LABEL_ELEMENT_DATA
 4096

	)

60 
	#MAC_MAX_LABEL_BUF_LEN
 8192

	)

66 
	smac
 {

67 
size_t
 
	mm_buæ’
;

68 *
	mm_¡ršg
;

71 
mac
 *
	tmac_t
;

73 #iâdeà
_KERNEL


79 
	#MAC_CONFFILE
 "/‘c/mac.cÚf"

	)

85 
__BEGIN_DECLS


86 
mac_execve
(*
âame
, **
¬gv
, **
’vv
, 
mac_t
 
_Ïb–
);

87 
mac_ä“
(
mac_t
 
_Ïb–
);

88 
mac_äom_‹xt
(
mac_t
 *
_Ïb–
, cÚ¡ *
_‹xt
);

89 
mac_g‘_fd
(
_fd
, 
mac_t
 
_Ïb–
);

90 
mac_g‘_fe
(cÚ¡ *
_·th
, 
mac_t
 
_Ïb–
);

91 
mac_g‘_lšk
(cÚ¡ *
_·th
, 
mac_t
 
_Ïb–
);

92 
mac_g‘_³”
(
_fd
, 
mac_t
 
_Ïb–
);

93 
mac_g‘_pid
(
pid_t
 
_pid
, 
mac_t
 
_Ïb–
);

94 
mac_g‘_´oc
(
mac_t
 
_Ïb–
);

95 
mac_is_´e£Á
(cÚ¡ *
_pŞicyÇme
);

96 
mac_´•¬e
(
mac_t
 *
_Ïb–
, cÚ¡ *
_–em’ts
);

97 
mac_´•¬e_fe_Ïb–
(
mac_t
 *
_Ïb–
);

98 
mac_´•¬e_iâ‘_Ïb–
(
mac_t
 *
_Ïb–
);

99 
mac_´•¬e_´oûss_Ïb–
(
mac_t
 *
_Ïb–
);

100 
mac_´•¬e_ty³
(
mac_t
 *
_Ïb–
, cÚ¡ *
_ty³
);

101 
mac_£t_fd
(
_fdes
, cÚ¡ 
mac_t
 
_Ïb–
);

102 
mac_£t_fe
(cÚ¡ *
_·th
, 
mac_t
 
_Ïb–
);

103 
mac_£t_lšk
(cÚ¡ *
_·th
, 
mac_t
 
_Ïb–
);

104 
mac_£t_´oc
(cÚ¡ 
mac_t
 
_Ïb–
);

105 
mac_sysÿÎ
(cÚ¡ *
_pŞicyÇme
, 
_ÿÎ
, *
_¬g
);

106 
mac_to_‹xt
(
mac_t
 
mac
, **
_‹xt
);

107 
	g__END_DECLS


	@/usr/include/sys/mman.h

33 #iâdeà
_SYS_MMAN_H_


34 
	#_SYS_MMAN_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

39 #ià
__BSD_VISIBLE


43 
	#INHERIT_SHARE
 0

	)

44 
	#INHERIT_COPY
 1

	)

45 
	#INHERIT_NONE
 2

	)

51 
	#PROT_NONE
 0x00

	)

52 
	#PROT_READ
 0x01

	)

53 
	#PROT_WRITE
 0x02

	)

54 
	#PROT_EXEC
 0x04

	)

60 
	#MAP_SHARED
 0x0001

	)

61 
	#MAP_PRIVATE
 0x0002

	)

62 #ià
__BSD_VISIBLE


63 
	#MAP_COPY
 
MAP_PRIVATE


	)

69 
	#MAP_FIXED
 0x0010

	)

71 #ià
__BSD_VISIBLE


72 
	#MAP_RENAME
 0x0020

	)

73 
	#MAP_NORESERVE
 0x0040

	)

74 
	#MAP_RESERVED0080
 0x0080

	)

75 
	#MAP_RESERVED0100
 0x0100

	)

76 
	#MAP_HASSEMAPHORE
 0x0200

	)

77 
	#MAP_STACK
 0x0400

	)

78 
	#MAP_NOSYNC
 0x0800

	)

83 
	#MAP_FILE
 0x0000

	)

84 
	#MAP_ANON
 0x1000

	)

85 #iâdeà
_KERNEL


86 
	#MAP_ANONYMOUS
 
MAP_ANON


	)

92 
	#MAP_NOCORE
 0x00020000

	)

93 
	#MAP_PREFAULT_READ
 0x00040000

	)

96 #ià
__POSIX_VISIBLE
 >= 199309

100 
	#MCL_CURRENT
 0x0001

	)

101 
	#MCL_FUTURE
 0x0002

	)

107 
	#MAP_FAILED
 ((*)-1)

	)

112 
	#MS_SYNC
 0x0000

	)

113 
	#MS_ASYNC
 0x0001

	)

114 
	#MS_INVALIDATE
 0x0002

	)

119 
	#_MADV_NORMAL
 0

	)

120 
	#_MADV_RANDOM
 1

	)

121 
	#_MADV_SEQUENTIAL
 2

	)

122 
	#_MADV_WILLNEED
 3

	)

123 
	#_MADV_DONTNEED
 4

	)

125 #ià
__BSD_VISIBLE


126 
	#MADV_NORMAL
 
_MADV_NORMAL


	)

127 
	#MADV_RANDOM
 
_MADV_RANDOM


	)

128 
	#MADV_SEQUENTIAL
 
_MADV_SEQUENTIAL


	)

129 
	#MADV_WILLNEED
 
_MADV_WILLNEED


	)

130 
	#MADV_DONTNEED
 
_MADV_DONTNEED


	)

131 
	#MADV_FREE
 5

	)

132 
	#MADV_NOSYNC
 6

	)

133 
	#MADV_AUTOSYNC
 7

	)

134 
	#MADV_NOCORE
 8

	)

135 
	#MADV_CORE
 9

	)

136 
	#MADV_PROTECT
 10

	)

141 
	#MINCORE_INCORE
 0x1

	)

142 
	#MINCORE_REFERENCED
 0x2

	)

143 
	#MINCORE_MODIFIED
 0x4

	)

144 
	#MINCORE_REFERENCED_OTHER
 0x8

	)

145 
	#MINCORE_MODIFIED_OTHER
 0x10

	)

146 
	#MINCORE_SUPER
 0x20

	)

151 
	#SHM_ANON
 ((*)1)

	)

158 #ià
__POSIX_VISIBLE
 >= 200112

159 
	#POSIX_MADV_NORMAL
 
_MADV_NORMAL


	)

160 
	#POSIX_MADV_RANDOM
 
_MADV_RANDOM


	)

161 
	#POSIX_MADV_SEQUENTIAL
 
_MADV_SEQUENTIAL


	)

162 
	#POSIX_MADV_WILLNEED
 
_MADV_WILLNEED


	)

163 
	#POSIX_MADV_DONTNEED
 
_MADV_DONTNEED


	)

166 #iâdeà
_MODE_T_DECLARED


167 
__mode_t
 
	tmode_t
;

168 
	#_MODE_T_DECLARED


	)

171 #iâdeà
_OFF_T_DECLARED


172 
__off_t
 
	toff_t
;

173 
	#_OFF_T_DECLARED


	)

176 #iâdeà
_SIZE_T_DECLARED


177 
__size_t
 
	tsize_t
;

178 
	#_SIZE_T_DECLARED


	)

181 #ifdeà
_KERNEL


182 
	~<vm/vm.h
>

184 
	sshmfd
 {

185 
size_t
 
	mshm_size
;

186 
vm_objeù_t
 
	mshm_objeù
;

187 
	mshm_»fs
;

188 
uid_t
 
	mshm_uid
;

189 
gid_t
 
	mshm_gid
;

190 
mode_t
 
	mshm_mode
;

196 
time¥ec
 
	mshm_©ime
;

197 
time¥ec
 
	mshm_mtime
;

198 
time¥ec
 
	mshm_ùime
;

199 
time¥ec
 
	mshm_bœthtime
;

201 
Ïb–
 *
	mshm_Ïb–
;

204 
shm_mm­
(
shmfd
 *shmfd, 
vm_size_t
 
objsize
, 
vm_ooff£t_t
 
foff
,

205 
vm_objeù_t
 *
obj
);

209 
	g__BEGIN_DECLS


214 #ià
__BSD_VISIBLE


215 
g‘·gesizes
(
size_t
 *, );

216 
madvi£
(*, 
size_t
, );

217 
mšcÜe
(cÚ¡ *, 
size_t
, *);

218 
mšh”™
(*, 
size_t
, );

220 
mlock
(cÚ¡ *, 
size_t
);

221 #iâdeà
_MMAP_DECLARED


222 
	#_MMAP_DECLARED


	)

223 * 
mm­
(*, 
size_t
, , , , 
off_t
);

225 
m´Ùeù
(cÚ¡ *, 
size_t
, );

226 
msync
(*, 
size_t
, );

227 
muÆock
(cÚ¡ *, 
size_t
);

228 
munm­
(*, 
size_t
);

229 #ià
__POSIX_VISIBLE
 >= 200112

230 
posix_madvi£
(*, 
size_t
, );

232 #ià
__POSIX_VISIBLE
 >= 199309

233 
mlock®l
();

234 
muÆock®l
();

235 
shm_İ’
(cÚ¡ *, , 
mode_t
);

236 
shm_uÆšk
(const *);

238 
	g__END_DECLS


	@/usr/include/sys/mount.h

33 #iâdeà
_SYS_MOUNT_H_


34 
	#_SYS_MOUNT_H_


	)

36 
	~<sys/uüed.h
>

37 
	~<sys/queue.h
>

38 #ifdeà
_KERNEL


39 
	~<sys/lock.h
>

40 
	~<sys/lockmgr.h
>

41 
	~<sys/_mu‹x.h
>

49 
	sfsid
 { 
št32_t
 
	mv®
[2]; } 
	tfsid_t
;

55 
	#MAXFIDSZ
 16

	)

57 
	sfid
 {

58 
u_shÜt
 
	mfid_Ën
;

59 
u_shÜt
 
	mfid_d©a0
;

60 
	mfid_d©a
[
MAXFIDSZ
];

66 
	#MFSNAMELEN
 16

	)

67 
	#MNAMELEN
 88

	)

68 
	#STATFS_VERSION
 0x20030518

	)

69 
	s¡©fs
 {

70 
ušt32_t
 
	mf_v”siÚ
;

71 
ušt32_t
 
	mf_ty³
;

72 
ušt64_t
 
	mf_æags
;

73 
ušt64_t
 
	mf_bsize
;

74 
ušt64_t
 
	mf_iosize
;

75 
ušt64_t
 
	mf_blocks
;

76 
ušt64_t
 
	mf_bä“
;

77 
št64_t
 
	mf_bava
;

78 
ušt64_t
 
	mf_fes
;

79 
št64_t
 
	mf_fä“
;

80 
ušt64_t
 
	mf_syncwr™es
;

81 
ušt64_t
 
	mf_asyncwr™es
;

82 
ušt64_t
 
	mf_synü—ds
;

83 
ušt64_t
 
	mf_asynü—ds
;

84 
ušt64_t
 
	mf_¥¬e
[10];

85 
ušt32_t
 
	mf_Çmemax
;

86 
uid_t
 
	mf_owÃr
;

87 
fsid_t
 
	mf_fsid
;

88 
	mf_ch¬¥¬e
[80];

89 
	mf_f¡y³Çme
[
MFSNAMELEN
];

90 
	mf_mÁäomÇme
[
MNAMELEN
];

91 
	mf_mÁÚÇme
[
MNAMELEN
];

94 #ifdeà
_KERNEL


95 
	#OMFSNAMELEN
 16

	)

96 
	#OMNAMELEN
 (88 - 2 * ()è

	)

100 
	so¡©fs
 {

101 
	mf_¥¬e2
;

102 
	mf_bsize
;

103 
	mf_iosize
;

104 
	mf_blocks
;

105 
	mf_bä“
;

106 
	mf_bava
;

107 
	mf_fes
;

108 
	mf_fä“
;

109 
fsid_t
 
	mf_fsid
;

110 
uid_t
 
	mf_owÃr
;

111 
	mf_ty³
;

112 
	mf_æags
;

113 
	mf_syncwr™es
;

114 
	mf_asyncwr™es
;

115 
	mf_f¡y³Çme
[
OMFSNAMELEN
];

116 
	mf_mÁÚÇme
[
OMNAMELEN
];

117 
	mf_synü—ds
;

118 
	mf_asynü—ds
;

119 
	mf_¥¬es1
;

120 
	mf_mÁäomÇme
[
OMNAMELEN
];

121 
	mf_¥¬es2
;

127 
	mf_¥¬e
[2];

130 
TAILQ_HEAD
(
vnod–¡
, 
vnode
);

133 
TAILQ_HEAD
(
vfsİi¡
, 
vfsİt
);

134 
	svfsİt
 {

135 
TAILQ_ENTRY
(
vfsİt
è
	mlšk
;

136 *
	mÇme
;

137 *
	mv®ue
;

138 
	mËn
;

139 
	mpos
;

140 
	m£’
;

155 
	smouÁ
 {

156 
mtx
 
	mmÁ_mtx
;

157 
	mmÁ_g’
;

158 
	#mÁ_¡¬tz”o
 
mÁ_li¡


	)

159 
TAILQ_ENTRY
(
mouÁ
è
	mmÁ_li¡
;

160 
vfsİs
 *
	mmÁ_İ
;

161 
vfscÚf
 *
	mmÁ_vfc
;

162 
vnode
 *
	mmÁ_vnodecov”ed
;

163 
vnode
 *
	mmÁ_synûr
;

164 
	mmÁ_»f
;

165 
vnod–¡
 
	mmÁ_nvnod–i¡
;

166 
	mmÁ_nvnod–i¡size
;

167 
	mmÁ_wr™eİcouÁ
;

168 
	mmÁ_k”n_æag
;

169 
u_št
 
	mmÁ_æag
;

170 
u_št
 
	mmÁ_xæag
;

171 
u_št
 
	mmÁ_nßsync
;

172 
vfsİi¡
 *
	mmÁ_İt
;

173 
vfsİi¡
 *
	mmÁ_İŠew
;

174 
	mmÁ_maxsymlškËn
;

175 
¡©fs
 
	mmÁ_¡©
;

176 
uüed
 *
	mmÁ_üed
;

177 * 
	mmÁ_d©a
;

178 
time_t
 
	mmÁ_time
;

179 
	mmÁ_iosize_max
;

180 
Ã‹xpÜt
 *
	mmÁ_expÜt
;

181 
Ïb–
 *
	mmÁ_Ïb–
;

182 
u_št
 
	mmÁ_hash£ed
;

183 
	mmÁ_lock»f
;

184 
	mmÁ_£cÚd¬y_wr™es
;

185 
	mmÁ_£cÚd¬y_accwr™es
;

186 
th»ad
 *
	mmÁ_su¥_owÃr
;

187 
	#mÁ_’dz”o
 
mÁ_gj´ovid”


	)

188 *
	mmÁ_gj´ovid”
;

189 
lock
 
	mmÁ_ex¶ock
;

192 
vnode
 *
__mÁ_vnode_Ãxt
(vnod**
mvp
, 
mouÁ
 *
mp
);

193 
vnode
 *
__mÁ_vnode_fœ¡
(vnod**
mvp
, 
mouÁ
 *
mp
);

194 
__mÁ_vnode_m¬k”ä“
(
vnode
 **
mvp
, 
mouÁ
 *
mp
);

196 
	#MNT_VNODE_FOREACH
(
vp
, 
mp
, 
mvp
) \

197 
vp
 = 
	`__mÁ_vnode_fœ¡
(&(
mvp
), (
mp
)); \

198 (
vp
è!ğ
NULL
; v°ğ
	`__mÁ_vnode_Ãxt
(&(
mvp
), (
mp
)))

	)

200 
	#MNT_VNODE_FOREACH_ABORT_ILOCKED
(
mp
, 
mvp
) \

201 
	`__mÁ_vnode_m¬k”ä“
(&(
mvp
), (
mp
))

	)

203 
	#MNT_VNODE_FOREACH_ABORT
(
mp
, 
mvp
) \

205 
	`MNT_ILOCK
(
mp
); \

206 
	`MNT_VNODE_FOREACH_ABORT_ILOCKED
(
mp
, 
mvp
); \

207 
	`MNT_IUNLOCK
(
mp
); \

208 } 0)

	)

210 
	#MNT_ILOCK
(
mp
è
	`mtx_lock
(&(mp)->
mÁ_mtx
)

	)

211 
	#MNT_ITRYLOCK
(
mp
è
	`mtx_Œylock
(&(mp)->
mÁ_mtx
)

	)

212 
	#MNT_IUNLOCK
(
mp
è
	`mtx_uÆock
(&(mp)->
mÁ_mtx
)

	)

213 
	#MNT_MTX
(
mp
è(&(mp)->
mÁ_mtx
)

	)

214 
	#MNT_REF
(
mp
è(mp)->
mÁ_»f
++

	)

215 
	#MNT_REL
(
mp
) do { \

216 
	`KASSERT
((
mp
)->
mÁ_»f
 > 0, ("negative mnt_ref")); \

217 (
mp
)->
mÁ_»f
--; \

218 ià((
mp
)->
mÁ_»f
 == 0) \

219 
	`wakeup
((
mp
)); \

220 } 0)

	)

227 
	#MNT_RDONLY
 0x00000001

	)

228 
	#MNT_SYNCHRONOUS
 0x00000002

	)

229 
	#MNT_NOEXEC
 0x00000004

	)

230 
	#MNT_NOSUID
 0x00000008

	)

231 
	#MNT_UNION
 0x00000020

	)

232 
	#MNT_ASYNC
 0x00000040

	)

233 
	#MNT_SUIDDIR
 0x00100000

	)

234 
	#MNT_SOFTDEP
 0x00200000

	)

235 
	#MNT_NOSYMFOLLOW
 0x00400000

	)

236 
	#MNT_GJOURNAL
 0x02000000

	)

237 
	#MNT_MULTILABEL
 0x04000000

	)

238 
	#MNT_ACLS
 0x08000000

	)

239 
	#MNT_NOATIME
 0x10000000

	)

240 
	#MNT_NOCLUSTERR
 0x40000000

	)

241 
	#MNT_NOCLUSTERW
 0x80000000

	)

242 
	#MNT_NFS4ACLS
 0x00000010

	)

247 
	#MNT_EXRDONLY
 0x00000080

	)

248 
	#MNT_EXPORTED
 0x00000100

	)

249 
	#MNT_DEFEXPORTED
 0x00000200

	)

250 
	#MNT_EXPORTANON
 0x00000400

	)

251 
	#MNT_EXKERB
 0x00000800

	)

252 
	#MNT_EXPUBLIC
 0x20000000

	)

259 
	#MNT_LOCAL
 0x00001000

	)

260 
	#MNT_QUOTA
 0x00002000

	)

261 
	#MNT_ROOTFS
 0x00004000

	)

262 
	#MNT_USER
 0x00008000

	)

263 
	#MNT_IGNORE
 0x00800000

	)

270 
	#MNT_VISFLAGMASK
 (
MNT_RDONLY
 | 
MNT_SYNCHRONOUS
 | 
MNT_NOEXEC
 | \

271 
MNT_NOSUID
 | 
MNT_UNION
 | \

272 
MNT_ASYNC
 | 
MNT_EXRDONLY
 | 
MNT_EXPORTED
 | \

273 
MNT_DEFEXPORTED
 | 
MNT_EXPORTANON
| 
MNT_EXKERB
 | \

274 
MNT_LOCAL
 | 
MNT_USER
 | 
MNT_QUOTA
 | \

275 
MNT_ROOTFS
 | 
MNT_NOATIME
 | 
MNT_NOCLUSTERR
| \

276 
MNT_NOCLUSTERW
 | 
MNT_SUIDDIR
 | 
MNT_SOFTDEP
 | \

277 
MNT_IGNORE
 | 
MNT_EXPUBLIC
 | 
MNT_NOSYMFOLLOW
 | \

278 
MNT_GJOURNAL
 | 
MNT_MULTILABEL
 | 
MNT_ACLS
 | 
MNT_NFS4ACLS
)

	)

281 
	#MNT_UPDATEMASK
 (
MNT_NOSUID
 | 
MNT_NOEXEC
 | \

282 
MNT_SYNCHRONOUS
 | 
MNT_UNION
 | 
MNT_ASYNC
 | \

283 
MNT_NOATIME
 | \

284 
MNT_NOSYMFOLLOW
 | 
MNT_IGNORE
 | \

285 
MNT_NOCLUSTERR
 | 
MNT_NOCLUSTERW
 | 
MNT_SUIDDIR
 | \

286 
MNT_ACLS
 | 
MNT_USER
 | 
MNT_NFS4ACLS
)

	)

295 
	#MNT_UPDATE
 0x00010000

	)

296 
	#MNT_DELEXPORT
 0x00020000

	)

297 
	#MNT_RELOAD
 0x00040000

	)

298 
	#MNT_FORCE
 0x00080000

	)

299 
	#MNT_SNAPSHOT
 0x01000000

	)

300 
	#MNT_BYFSID
 0x08000000

	)

301 
	#MNT_CMDFLAGS
 (
MNT_UPDATE
 | 
MNT_DELEXPORT
 | 
MNT_RELOAD
 | \

302 
MNT_FORCE
 | 
MNT_SNAPSHOT
 | 
MNT_BYFSID
)

	)

319 
	#MNTK_UNMOUNTF
 0x00000001

	)

320 
	#MNTK_ASYNC
 0x00000002

	)

321 
	#MNTK_SOFTDEP
 0x00000004

	)

322 
	#MNTK_NOINSMNTQ
 0x00000008

	)

323 
	#MNTK_DRAINING
 0x00000010

	)

324 
	#MNTK_REFEXPIRE
 0x00000020

	)

325 
	#MNTK_EXTENDED_SHARED
 0x00000040

	)

326 
	#MNTK_SHARED_WRITES
 0x00000080

	)

327 
	#MNTK_UNMOUNT
 0x01000000

	)

328 
	#MNTK_MWAIT
 0x02000000

	)

329 
	#MNTK_SUSPEND
 0x08000000

	)

330 
	#MNTK_SUSPEND2
 0x04000000

	)

331 
	#MNTK_SUSPENDED
 0x10000000

	)

332 
	#MNTK_MPSAFE
 0x20000000

	)

333 
	#MNTK_LOOKUP_SHARED
 0x40000000

	)

334 
	#MNTK_NOKNOTE
 0x80000000

	)

336 
	#MNT_SHARED_WRITES
(
mp
è(((mpè!ğ
NULL
) && \

337 ((
mp
)->
mÁ_k”n_æag
 & 
MNTK_SHARED_WRITES
))

	)

346 
	#VFS_VFSCONF
 0

	)

347 
	#VFS_GENERIC
 0

	)

353 
	#VFS_MAXTYPENUM
 1

	)

354 
	#VFS_CONF
 2

	)

362 
	#MNT_WAIT
 1

	)

363 
	#MNT_NOWAIT
 2

	)

364 
	#MNT_LAZY
 3

	)

365 
	#MNT_SUSPEND
 4

	)

370 
	sfhªdË
 {

371 
fsid_t
 
	mfh_fsid
;

372 
fid
 
	mfh_fid
;

374 
fhªdË
 
	tfhªdË_t
;

379 
	sÛxpÜt_¬gs
 {

380 
	mex_æags
;

381 
uid_t
 
	mex_roÙ
;

382 
xuüed
 
	mex_ªÚ
;

383 
sockaddr
 *
	mex_addr
;

384 
u_ch¬
 
	mex_add¾’
;

385 
sockaddr
 *
	mex_mask
;

386 
u_ch¬
 
	mex_maskËn
;

387 *
	mex_šdexfe
;

393 
	#MAXSECFLAVORS
 5

	)

394 
	sexpÜt_¬gs
 {

395 
	mex_æags
;

396 
uid_t
 
	mex_roÙ
;

397 
xuüed
 
	mex_ªÚ
;

398 
sockaddr
 *
	mex_addr
;

399 
u_ch¬
 
	mex_add¾’
;

400 
sockaddr
 *
	mex_mask
;

401 
u_ch¬
 
	mex_maskËn
;

402 *
	mex_šdexfe
;

403 
	mex_num£cæavÜs
;

404 
	mex_£cæavÜs
[
MAXSECFLAVORS
];

411 
	snfs_public
 {

412 
	mÅ_v®id
;

413 
fhªdË_t
 
	mÅ_hªdË
;

414 
mouÁ
 *
	mÅ_mouÁ
;

415 *
	mÅ_šdex
;

425 
	svfscÚf
 {

426 
u_št
 
	mvfc_v”siÚ
;

427 
	mvfc_Çme
[
MFSNAMELEN
];

428 
vfsİs
 *
	mvfc_vfsİs
;

429 
	mvfc_ty³num
;

430 
	mvfc_»fcouÁ
;

431 
	mvfc_æags
;

432 
vfsİtdeş
 *
	mvfc_İts
;

433 
TAILQ_ENTRY
(
vfscÚf
è
	mvfc_li¡
;

437 
	sxvfscÚf
 {

438 
vfsİs
 *
	mvfc_vfsİs
;

439 
	mvfc_Çme
[
MFSNAMELEN
];

440 
	mvfc_ty³num
;

441 
	mvfc_»fcouÁ
;

442 
	mvfc_æags
;

443 
vfscÚf
 *
	mvfc_Ãxt
;

446 #iâdeà
BURN_BRIDGES


447 
	sovfscÚf
 {

448 *
	mvfc_vfsİs
;

449 
	mvfc_Çme
[32];

450 
	mvfc_šdex
;

451 
	mvfc_»fcouÁ
;

452 
	mvfc_æags
;

460 
	#VFCF_STATIC
 0x00010000

	)

461 
	#VFCF_NETWORK
 0x00020000

	)

462 
	#VFCF_READONLY
 0x00040000

	)

463 
	#VFCF_SYNTHETIC
 0x00080000

	)

464 
	#VFCF_LOOPBACK
 0x00100000

	)

465 
	#VFCF_UNICODE
 0x00200000

	)

466 
	#VFCF_JAIL
 0x00400000

	)

467 
	#VFCF_DELEGADMIN
 0x00800000

	)

469 
ušt32_t
 
	tfsùlİ_t
;

471 
	svfsidùl
 {

472 
	mvc_v”s
;

473 
fsid_t
 
	mvc_fsid
;

474 
	mvc_f¡y³Çme
[
MFSNAMELEN
];

476 
fsùlİ_t
 
	mvc_İ
;

477 *
	mvc_±r
;

478 
size_t
 
	mvc_Ën
;

479 
u_št32_t
 
	mvc_¥¬e
[12];

483 
	#VFS_CTL_VERS1
 0x01

	)

492 
	#VFS_CTL_QUERY
 0x00010001

	)

493 
	#VFS_CTL_TIMEO
 0x00010002

	)

494 
	#VFS_CTL_NOLOCKS
 0x00010003

	)

496 
	svfsqu”y
 {

497 
u_št32_t
 
	mvq_æags
;

498 
u_št32_t
 
	mvq_¥¬e
[31];

502 
	#VQ_NOTRESP
 0x0001

	)

503 
	#VQ_NEEDAUTH
 0x0002

	)

504 
	#VQ_LOWDISK
 0x0004

	)

505 
	#VQ_MOUNT
 0x0008

	)

506 
	#VQ_UNMOUNT
 0x0010

	)

507 
	#VQ_DEAD
 0x0020

	)

508 
	#VQ_ASSIST
 0x0040

	)

510 
	#VQ_NOTRESPLOCK
 0x0080

	)

511 
	#VQ_FLAG0100
 0x0100

	)

512 
	#VQ_FLAG0200
 0x0200

	)

513 
	#VQ_FLAG0400
 0x0400

	)

514 
	#VQ_FLAG0800
 0x0800

	)

515 
	#VQ_FLAG1000
 0x1000

	)

516 
	#VQ_FLAG2000
 0x2000

	)

517 
	#VQ_FLAG4000
 0x4000

	)

518 
	#VQ_FLAG8000
 0x8000

	)

520 #ifdeà
_KERNEL


522 
	#VCTLTOREQ
(
vc
, 
»q
) \

524 (
»q
)->
Ãw±r
 = (
vc
)->
vc_±r
; \

525 (
»q
)->
ÃwËn
 = (
vc
)->
vc_Ën
; \

526 (
»q
)->
Ãwidx
 = 0; \

527 } 0)

	)

530 
	giovec
;

531 
	guio
;

533 #ifdeà
_KERNEL


538 
	#MBF_NOWAIT
 0x01

	)

539 
	#MBF_MNTLSTLOCK
 0x02

	)

540 
	#MBF_MASK
 (
MBF_NOWAIT
 | 
MBF_MNTLSTLOCK
)

	)

542 #ifdeà
MALLOC_DECLARE


543 
MALLOC_DECLARE
(
M_MOUNT
);

545 
maxvfscÚf
;

546 
nfs_mouÁ_ty³
;

548 
TAILQ_HEAD
(
vfscÚfh—d
, 
vfscÚf
);

549 
vfscÚfh—d
 
vfscÚf
;

554 
	gmouÁ_¬gs
;

555 
	gÇmeid©a
;

556 
	gsysùl_»q
;

557 
	gmÁ¬g
;

559 
	tvfs_cmouÁ_t
(
	tmÁ¬g
 *
	tma
, *
	td©a
, 
	tæags
);

560 
	tvfs_unmouÁ_t
(
	tmouÁ
 *
	tmp
, 
	tmÁæags
);

561 
	tvfs_roÙ_t
(
	tmouÁ
 *
	tmp
, 
	tæags
, 
	tvnode
 **
	tvµ
);

562 
	tvfs_quÙaùl_t
(
	tmouÁ
 *
	tmp
, 
	tcmds
, 
	tuid_t
 
	tuid
, *
	t¬g
);

563 
	tvfs_¡©fs_t
(
	tmouÁ
 *
	tmp
, 
	t¡©fs
 *
	tsbp
);

564 
	tvfs_sync_t
(
	tmouÁ
 *
	tmp
, 
	twa™fÜ
);

565 
	tvfs_vg‘_t
(
	tmouÁ
 *
	tmp
, 
	tšo_t
 
	tšo
, 
	tæags
,

566 
	tvnode
 **
	tvµ
);

567 
	tvfs_fhtovp_t
(
	tmouÁ
 *
	tmp
, 
	tfid
 *
	tfhp
, 
	tvnode
 **
	tvµ
);

568 
	tvfs_checkexp_t
(
	tmouÁ
 *
	tmp
, 
	tsockaddr
 *
	tÇm
,

569 *
	textæag¥
, 
	tuüed
 **
	tüedªÚp
,

570 *
	tnum£cæavÜs
, **
	t£cæavÜs
);

571 
	tvfs_š™_t
(
	tvfscÚf
 *);

572 
	tvfs_unš™_t
(
	tvfscÚf
 *);

573 
	tvfs_ex‰rùl_t
(
	tmouÁ
 *
	tmp
, 
	tcmd
,

574 
	tvnode
 *
	tf’ame_vp
, 
	t©ŒÇme¥aû
,

575 cÚ¡ *
	t©ŒÇme
);

576 
	tvfs_mouÁ_t
(
	tmouÁ
 *
	tmp
);

577 
	tvfs_sysùl_t
(
	tmouÁ
 *
	tmp
, 
	tfsùlİ_t
 
	tİ
,

578 
	tsysùl_»q
 *
	t»q
);

579 
	tvfs_su¥_ş—n_t
(
	tmouÁ
 *
	tmp
);

581 
	svfsİs
 {

582 
vfs_mouÁ_t
 *
	mvfs_mouÁ
;

583 
vfs_cmouÁ_t
 *
	mvfs_cmouÁ
;

584 
vfs_unmouÁ_t
 *
	mvfs_unmouÁ
;

585 
vfs_roÙ_t
 *
	mvfs_roÙ
;

586 
vfs_quÙaùl_t
 *
	mvfs_quÙaùl
;

587 
vfs_¡©fs_t
 *
	mvfs_¡©fs
;

588 
vfs_sync_t
 *
	mvfs_sync
;

589 
vfs_vg‘_t
 *
	mvfs_vg‘
;

590 
vfs_fhtovp_t
 *
	mvfs_fhtovp
;

591 
vfs_checkexp_t
 *
	mvfs_checkexp
;

592 
vfs_š™_t
 *
	mvfs_š™
;

593 
vfs_unš™_t
 *
	mvfs_unš™
;

594 
vfs_ex‰rùl_t
 *
	mvfs_ex‰rùl
;

595 
vfs_sysùl_t
 *
	mvfs_sysùl
;

596 
vfs_su¥_ş—n_t
 *
	mvfs_su¥_ş—n
;

599 
vfs_¡©fs_t
 
	g__vfs_¡©fs
;

601 
	#VFS_MOUNT
(
MP
è(*(MP)->
mÁ_İ
->
vfs_mouÁ
)(MP)

	)

602 
	#VFS_UNMOUNT
(
MP
, 
FORCE
è(*(MP)->
mÁ_İ
->
vfs_unmouÁ
)(MP, FORCE)

	)

603 
	#VFS_ROOT
(
MP
, 
FLAGS
, 
VPP
) \

604 (*(
MP
)->
mÁ_İ
->
vfs_roÙ
)(MP, 
FLAGS
, 
VPP
)

	)

605 
	#VFS_QUOTACTL
(
MP
, 
C
, 
U
, 
A
) \

606 (*(
MP
)->
mÁ_İ
->
vfs_quÙaùl
)(MP, 
C
, 
U
, 
A
)

	)

607 
	#VFS_STATFS
(
MP
, 
SBP
è
	`__vfs_¡©fs
((MP), (SBP))

	)

608 
	#VFS_SYNC
(
MP
, 
WAIT
è(*(MP)->
mÁ_İ
->
vfs_sync
)(MP, WAIT)

	)

609 
	#VFS_VGET
(
MP
, 
INO
, 
FLAGS
, 
VPP
) \

610 (*(
MP
)->
mÁ_İ
->
vfs_vg‘
)(MP, 
INO
, 
FLAGS
, 
VPP
)

	)

611 
	#VFS_FHTOVP
(
MP
, 
FIDP
, 
VPP
) \

612 (*(
MP
)->
mÁ_İ
->
vfs_fhtovp
)(MP, 
FIDP
, 
VPP
)

	)

613 
	#VFS_CHECKEXP
(
MP
, 
NAM
, 
EXFLG
, 
CRED
, 
NUMSEC
, 
SEC
) \

614 (*(
MP
)->
mÁ_İ
->
vfs_checkexp
)(MP, 
NAM
, 
EXFLG
, 
CRED
, 
NUMSEC
, 
SEC
)

	)

615 
	#VFS_EXTATTRCTL
(
MP
, 
C
, 
FN
, 
NS
, 
N
) \

616 (*(
MP
)->
mÁ_İ
->
vfs_ex‰rùl
)(MP, 
C
, 
FN
, 
NS
, 
N
)

	)

617 
	#VFS_SYSCTL
(
MP
, 
OP
, 
REQ
) \

618 (*(
MP
)->
mÁ_İ
->
vfs_sysùl
)(MP, 
OP
, 
REQ
)

	)

619 
	#VFS_SUSP_CLEAN
(
MP
) \

620 ({ià(*(
MP
)->
mÁ_İ
->
vfs_su¥_ş—n
 !ğ
NULL
) \

621 (*(
MP
)->
mÁ_İ
->
vfs_su¥_ş—n
)(MP); })

	)

623 
	#VFS_NEEDSGIANT_
(
MP
) \

624 ((
MP
è!ğ
NULL
 && ((MP)->
mÁ_k”n_æag
 & 
MNTK_MPSAFE
è=ğ0)

	)

626 
	#VFS_NEEDSGIANT
(
MP
è
__ex‹nsiÚ__
 \

628 
mouÁ
 *
_mp
; \

629 
_mp
 = (
MP
); \

630 
	`VFS_NEEDSGIANT_
(
_mp
); \

631 })

	)

633 
	#VFS_LOCK_GIANT
(
MP
è
__ex‹nsiÚ__
 \

635 
_locked
; \

636 
mouÁ
 *
_mp
; \

637 
_mp
 = (
MP
); \

638 ià(
	`VFS_NEEDSGIANT_
(
_mp
)) { \

639 
	`mtx_lock
(&
GŸÁ
); \

640 
_locked
 = 1; \

642 
_locked
 = 0; \

643 
_locked
; \

644 })

	)

645 
	#VFS_UNLOCK_GIANT
(
locked
èià(Öocked)è
	`mtx_uÆock
(&
GŸÁ
);

	)

646 
	#VFS_ASSERT_GIANT
(
MP
) do \

648 
mouÁ
 *
_mp
; \

649 
_mp
 = (
MP
); \

650 ià(
	`VFS_NEEDSGIANT_
(
_mp
)) \

651 
	`mtx_as£¹
(&
GŸÁ
, 
MA_OWNED
); \

652 } 0)

	)

654 
	#VFS_KNOTE_LOCKED
(
vp
, 
hšt
) do \

656 ià(((
vp
)->
v_væag
 & 
VV_NOKNOTE
) == 0) \

657 
	`VN_KNOTE
((
vp
), (
hšt
), 
KNF_LISTLOCKED
); \

658 } 0)

	)

660 
	#VFS_KNOTE_UNLOCKED
(
vp
, 
hšt
) do \

662 ià(((
vp
)->
v_væag
 & 
VV_NOKNOTE
) == 0) \

663 
	`VN_KNOTE
((
vp
), (
hšt
), 0); \

664 } 0)

	)

666 
	~<sys/moduË.h
>

671 
	#VFS_VERSION_00
 0x19660120

	)

672 
	#VFS_VERSION
 
VFS_VERSION_00


	)

674 
	#VFS_SET
(
vfsİs
, 
f¢ame
, 
æags
) \

675 
vfscÚf
 
f¢ame
 ## 
_vfscÚf
 = { \

676 .
vfc_v”siÚ
 = 
VFS_VERSION
, \

677 .
vfc_Çme
 = #fsname, \

678 .
vfc_vfsİs
 = &
vfsİs
, \

679 .
vfc_ty³num
 = -1, \

680 .
vfc_æags
 = 
æags
, \

682 
moduËd©a_t
 
f¢ame
 ## 
_mod
 = { \

684 
vfs_modev’t
, \

685 & 
f¢ame
 ## 
_vfscÚf
 \

687 
	`DECLARE_MODULE
(
f¢ame
, f¢am## 
_mod
, 
SI_SUB_VFS
, 
SI_ORDER_MIDDLE
)

	)

689 *
mouÁroÙf¢ame
;

695 
dounmouÁ
(
mouÁ
 *, , 
th»ad
 *);

697 
k”Ãl_mouÁ
(
mÁ¬g
 *
ma
, 
æags
);

698 
k”Ãl_vmouÁ
(
æags
, ...);

699 
mÁ¬g
 *
mouÁ_¬g
(mÁ¬g *
ma
, cÚ¡ *
Çme
, cÚ¡ *
v®
, 
Ën
);

700 
mÁ¬g
 *
mouÁ_¬gb
(mÁ¬g *
ma
, 
æag
, cÚ¡ *
Çme
);

701 
mÁ¬g
 *
mouÁ_¬gf
(mÁ¬g *
ma
, cÚ¡ *
Çme
, cÚ¡ *
fmt
, ...);

702 
mÁ¬g
 *
mouÁ_¬gsu
(mÁ¬g *
ma
, cÚ¡ *
Çme
, cÚ¡ *
v®
, 
Ën
);

703 
¡©fs_sÿË_blocks
(
¡©fs
 *
sf
, 
max_size
);

704 
vfscÚf
 *
vfs_byÇme
(const *);

705 
vfscÚf
 *
vfs_byÇme_kld
(cÚ¡ *, 
th»ad
 *
td
, *);

706 
vfs_mouÁ_de¡roy
(
mouÁ
 *);

707 
vfs_ev’t_sigÇl
(
fsid_t
 *, 
u_št32_t
, 
šŒ_t
);

708 
vfs_ä“İts
(
vfsİi¡
 *
İts
);

709 
vfs_d–‘eİt
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
);

710 
vfs_budİts
(
uio
 *
auio
, 
vfsİi¡
 **
İtiÚs
);

711 
vfs_æagİt
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
, 
u_št
 *
w
, u_šˆ
v®
);

712 
vfs_g‘İt
(
vfsİi¡
 *, const *, **, *);

713 
vfs_g‘İt_pos
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
);

714 *
vfs_g‘İts
(
vfsİi¡
 *, cÚ¡ *, *
”rÜ
);

715 
vfs_cİyİt
(
vfsİi¡
 *, const *, *, );

716 
vfs_f‹rİt
(
vfsİi¡
 *, cÚ¡ **
Ëg®
);

717 
vfs_İ‹¼Ü
(
vfsİi¡
 *
İts
, cÚ¡ *
fmt
, ...);

718 
vfs_sÿnİt
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
, cÚ¡ *
fmt
, ...);

719 
vfs_£tİt
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
, *
v®ue
,

720 
Ën
);

721 
vfs_£tİt_·¹
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
, *
v®ue
,

722 
Ën
);

723 
vfs_£tİts
(
vfsİi¡
 *
İts
, cÚ¡ *
Çme
,

724 cÚ¡ *
v®ue
);

725 
	gvfs_£ublicfs


726 (
	gmouÁ
 *, 
	gÃ‹xpÜt
 *, 
	gexpÜt_¬gs
 *);

727 
vfs_msync
(
mouÁ
 *, );

728 
vfs_busy
(
mouÁ
 *, );

729 
	gvfs_expÜt


730 (
	gmouÁ
 *, 
	gexpÜt_¬gs
 *);

731 
vfs_®loÿ‹_syncvnode
(
mouÁ
 *);

732 
vfs_dÚmouÁ
(
th»ad
 *
td
, 
fsæags
, 
uio
 *
fsİtiÚs
);

733 
vfs_g‘Ãwfsid
(
mouÁ
 *);

734 
cdev
 *
vfs_g‘roÙfsid
(
mouÁ
 *);

735 
mouÁ
 *
vfs_g‘vfs
(
fsid_t
 *);

736 
mouÁ
 *
vfs_busyfs
(
fsid_t
 *);

737 
vfs_modev’t
(
moduË_t
, , *);

738 
vfs_mouÁ_”rÜ
(
mouÁ
 *, const *, ...);

739 
vfs_mouÁroÙ
();

740 
vfs_mouÁedäom
(
mouÁ
 *, cÚ¡ *
äom
);

741 
vfs_ÛxpÜt_cÚv
(cÚ¡ 
ÛxpÜt_¬gs
 *
Ûxp
,

742 
expÜt_¬gs
 *
exp
);

743 
vfs_»f
(
mouÁ
 *);

744 
vfs_»l
(
mouÁ
 *);

745 
mouÁ
 *
vfs_mouÁ_®loc
(
vnode
 *, 
vfscÚf
 *, const *,

746 
uüed
 *);

747 
vfs_su£r
(
mouÁ
 *, 
th»ad
 *);

748 
vfs_unbusy
(
mouÁ
 *);

749 
vfs_unmouÁ®l
();

750 
	$TAILQ_HEAD
(
mÁli¡
, 
mouÁ
è
mouÁli¡
;

751 
mtx
 
mouÁli¡_mtx
;

752 
nfs_public
 
nfs_pub
;

759 
vfs_roÙ_t
 
vfs_¡droÙ
;

760 
vfs_quÙaùl_t
 
vfs_¡dquÙaùl
;

761 
vfs_¡©fs_t
 
vfs_¡d¡©fs
;

762 
vfs_sync_t
 
vfs_¡dsync
;

763 
vfs_sync_t
 
vfs_¡dnosync
;

764 
vfs_vg‘_t
 
vfs_¡dvg‘
;

765 
vfs_fhtovp_t
 
vfs_¡dfhtovp
;

766 
vfs_checkexp_t
 
vfs_¡dcheckexp
;

767 
vfs_š™_t
 
vfs_¡dš™
;

768 
vfs_unš™_t
 
vfs_¡dunš™
;

769 
vfs_ex‰rùl_t
 
vfs_¡dex‰rùl
;

770 
vfs_sysùl_t
 
vfs_¡dsysùl
;

774 
	~<sys/cdefs.h
>

776 
¡©
;

778 
__BEGIN_DECLS


779 
	`fhİ’
(cÚ¡ 
fhªdË
 *, );

780 
	`fh¡©
(cÚ¡ 
fhªdË
 *, 
¡©
 *);

781 
	`fh¡©fs
(cÚ¡ 
fhªdË
 *, 
¡©fs
 *);

782 
	`f¡©fs
(, 
¡©fs
 *);

783 
	`g‘fh
(cÚ¡ *, 
fhªdË_t
 *);

784 
	`g‘fs¡©
(
¡©fs
 *, , );

785 
	`g‘mÁšfo
(
¡©fs
 **, );

786 
	`lg‘fh
(cÚ¡ *, 
fhªdË_t
 *);

787 
	`mouÁ
(const *, const *, , *);

788 
	`nmouÁ
(
iovec
 *, , );

789 
	`¡©fs
(cÚ¡ *, 
¡©fs
 *);

790 
	`unmouÁ
(const *, );

793 
	`g‘vfsbyÇme
(cÚ¡ *, 
xvfscÚf
 *);

794 
__END_DECLS


	@/usr/include/sys/mtio.h

33 #iâdef 
_SYS_MTIO_H_


34 
	#_SYS_MTIO_H_


	)

36 #iâdeà
_KERNEL


37 
	~<sys/ty³s.h
>

39 
	~<sys/ioccom.h
>

46 
	smtİ
 {

47 
	mmt_İ
;

48 
št32_t
 
	mmt_couÁ
;

52 
	#MTWEOF
 0

	)

53 
	#MTFSF
 1

	)

54 
	#MTBSF
 2

	)

55 
	#MTFSR
 3

	)

56 
	#MTBSR
 4

	)

57 
	#MTREW
 5

	)

58 
	#MTOFFL
 6

	)

59 
	#MTNOP
 7

	)

60 
	#MTCACHE
 8

	)

61 
	#MTNOCACHE
 9

	)

63 #ià
defšed
(
__F»eBSD__
)

70 
	#MTSETBSIZ
 10

	)

74 
	#MTSETDNSTY
 11

	)

76 
	#MTERASE
 12

	)

77 
	#MTEOD
 13

	)

78 
	#MTCOMP
 14

	)

79 
	#MTRETENS
 15

	)

80 
	#MTWSS
 16

	)

81 
	#MTFSS
 17

	)

82 
	#MTBSS
 18

	)

84 
	#MT_COMP_ENABLE
 0xffffffff

	)

85 
	#MT_COMP_DISABLED
 0xffffffã

	)

86 
	#MT_COMP_UNSUPP
 0xfffffffd

	)

91 
	#MTIO_DSREG_NIL
 0

	)

92 
	#MTIO_DSREG_REST
 1

	)

93 
	#MTIO_DSREG_RBSY
 2

	)

94 
	#MTIO_DSREG_WR
 20

	)

95 
	#MTIO_DSREG_FMK
 21

	)

96 
	#MTIO_DSREG_ZER
 22

	)

97 
	#MTIO_DSREG_RD
 30

	)

98 
	#MTIO_DSREG_FWD
 40

	)

99 
	#MTIO_DSREG_REV
 41

	)

100 
	#MTIO_DSREG_POS
 42

	)

101 
	#MTIO_DSREG_REW
 43

	)

102 
	#MTIO_DSREG_TEN
 44

	)

103 
	#MTIO_DSREG_UNL
 45

	)

104 
	#MTIO_DSREG_LD
 46

	)

110 
	smtg‘
 {

111 
	mmt_ty³
;

113 
	mmt_d¤eg
;

114 
	mmt_”»g
;

122 
	mmt_»sid
;

123 #ià
defšed
 (
__F»eBSD__
)

124 
št32_t
 
	mmt_blksiz
;

125 
št32_t
 
	mmt_d’s™y
;

126 
u_št32_t
 
	mmt_comp
;

127 
št32_t
 
	mmt_blksiz0
;

128 
št32_t
 
	mmt_blksiz1
;

129 
št32_t
 
	mmt_blksiz2
;

130 
št32_t
 
	mmt_blksiz3
;

131 
št32_t
 
	mmt_d’s™y0
;

132 
št32_t
 
	mmt_d’s™y1
;

133 
št32_t
 
	mmt_d’s™y2
;

134 
št32_t
 
	mmt_d’s™y3
;

136 
u_št32_t
 
	mmt_comp0
;

137 
u_št32_t
 
	mmt_comp1
;

138 
u_št32_t
 
	mmt_comp2
;

139 
u_št32_t
 
	mmt_comp3
;

142 
št32_t
 
	mmt_f’o
;

143 
št32_t
 
	mmt_blkno
;

148 
	sscsi_³_”rÜs
 {

154 
u_št8_t
 
	mio_£n£
[32];

155 
št32_t
 
	mio_»sid
;

156 
u_št8_t
 
	mio_cdb
[16];

157 
u_št8_t
 
	mùl_£n£
[32];

158 
št32_t
 
	mùl_»sid
;

159 
u_št8_t
 
	mùl_cdb
[16];

166 
u_št32_t
 
	m»Œ›s
;

167 
u_št32_t
 
	mcÜ»ùed
;

168 
u_št32_t
 
	m´oûs£d
;

169 
u_št32_t
 
	mçu»s
;

170 
u_št64_t
 
	mnby‹s
;

171 } 
	mw‹¼
, 
	mrd”r
;

174 
	um‹¼¡©
 {

175 
scsi_³_”rÜs
 
	mscsi_”r¡©
;

176 
	m_»£rved_·ddšg
[256];

183 
	#MT_ISTS
 0x01

	)

184 
	#MT_ISHT
 0x02

	)

185 
	#MT_ISTM
 0x03

	)

186 
	#MT_ISMT
 0x04

	)

187 
	#MT_ISUT
 0x05

	)

188 
	#MT_ISCPC
 0x06

	)

189 
	#MT_ISAR
 0x07

	)

190 
	#MT_ISTMSCP
 0x08

	)

191 
	#MT_ISCY
 0x09

	)

192 
	#MT_ISCT
 0x0¨

	)

193 
	#MT_ISFHP
 0x0b

	)

194 
	#MT_ISEXABYTE
 0x0ø

	)

195 
	#MT_ISEXA8200
 0x0ø

	)

196 
	#MT_ISEXA8500
 0x0d

	)

197 
	#MT_ISVIPER1
 0x0

	)

198 
	#MT_ISPYTHON
 0x0à

	)

199 
	#MT_ISHPDAT
 0x10

	)

200 
	#MT_ISMFOUR
 0x11

	)

201 
	#MT_ISTK50
 0x12

	)

202 
	#MT_ISMT02
 0x13

	)

205 
	#MTIOCTOP
 
	`_IOW
('m', 1, 
mtİ
è

	)

206 
	#MTIOCGET
 
	`_IOR
('m', 2, 
mtg‘
è

	)

208 
	#MTIOCIEOT
 
	`_IO
('m', 3è

	)

209 
	#MTIOCEEOT
 
	`_IO
('m', 4è

	)

216 
	#MTIOCRDSPOS
 
	`_IOR
('m', 5, 
u_št32_t
è

	)

217 
	#MTIOCRDHPOS
 
	`_IOR
('m', 6, 
u_št32_t
è

	)

218 
	#MTIOCSLOCATE
 
	`_IOW
('m', 5, 
u_št32_t
è

	)

219 
	#MTIOCHLOCATE
 
	`_IOW
('m', 6, 
u_št32_t
è

	)

220 
	#MTIOCERRSTAT
 
	`_IOR
('m', 7, 
m‹¼¡©
è

	)

225 
	#MTIOCSETEOTMODEL
 
	`_IOW
('m', 8, 
u_št32_t
)

	)

227 
	#MTIOCGETEOTMODEL
 
	`_IOR
('m', 8, 
u_št32_t
)

	)

229 #iâdeà
_KERNEL


230 
	#DEFTAPE
 "/dev/n§0"

	)

	@/usr/include/sys/param.h

38 #iâdeà
_SYS_PARAM_H_


39 
	#_SYS_PARAM_H_


	)

41 
	~<sys/_nuÎ.h
>

43 
	#BSD
 199506

	)

44 
	#BSD4_3
 1

	)

45 
	#BSD4_4
 1

	)

60 #undeà
__F»eBSD_v”siÚ


61 
	#__F»eBSD_v”siÚ
 803000

	)

76 #undeà
__F»eBSD_k”Ãl__


77 
	#__F»eBSD_k”Ãl__


	)

79 #ifdeà
_KERNEL


80 
	#P_OSREL_SIGWAIT
 700000

	)

81 
	#P_OSREL_SIGSEGV
 700004

	)

82 
	#P_OSREL_MAP_ANON
 800104

	)

85 #iâdeà
LOCORE


86 
	~<sys/ty³s.h
>

96 
	~<sys/sy¦im™s.h
>

98 
	#MAXCOMLEN
 19

	)

99 
	#MAXINTERP
 32

	)

100 
	#MAXLOGNAME
 17

	)

101 
	#MAXUPRC
 
CHILD_MAX


	)

102 
	#NCARGS
 
ARG_MAX


	)

103 
	#NGROUPS
 (
NGROUPS_MAX
+1è

	)

104 
	#NOFILE
 
OPEN_MAX


	)

105 
	#NOGROUP
 65535

	)

106 
	#MAXHOSTNAMELEN
 256

	)

107 
	#SPECNAMELEN
 63

	)

110 #ifdeà
_KERNEL


111 
	~<sys/cdefs.h
>

112 
	~<sys/”ºo.h
>

113 #iâdeà
LOCORE


114 
	~<sys/time.h
>

115 
	~<sys/´iÜ™y.h
>

118 #iâdeà
FALSE


119 
	#FALSE
 0

	)

121 #iâdeà
TRUE


122 
	#TRUE
 1

	)

126 #iâdeà
_KERNEL


128 
	~<sys/sigÇl.h
>

132 
	~<machše/·¿m.h
>

133 #iâdeà
_KERNEL


134 
	~<sys/lim™s.h
>

137 #iâdeà
_NO_NAMESPACE_POLLUTION


139 #iâdeà
DEV_BSHIFT


140 
	#DEV_BSHIFT
 9

	)

142 
	#DEV_BSIZE
 (1<<
DEV_BSHIFT
)

	)

144 #iâdeà
BLKDEV_IOSIZE


145 
	#BLKDEV_IOSIZE
 
PAGE_SIZE


	)

147 #iâdeà
DFLTPHYS


148 
	#DFLTPHYS
 (64 * 1024è

	)

150 #iâdeà
MAXPHYS


151 
	#MAXPHYS
 (128 * 1024è

	)

153 #iâdeà
MAXDUMPPGS


154 
	#MAXDUMPPGS
 (
DFLTPHYS
/
PAGE_SIZE
)

	)

161 #iâdef 
MSIZE


162 
	#MSIZE
 256

	)

165 #iâdef 
MCLSHIFT


166 
	#MCLSHIFT
 11

	)

169 
	#MCLBYTES
 (1 << 
MCLSHIFT
è

	)

171 
	#MJUMPAGESIZE
 
PAGE_SIZE


	)

172 
	#MJUM9BYTES
 (9 * 1024è

	)

173 
	#MJUM16BYTES
 (16 * 1024è

	)

180 #iâdeà
ùob


181 
	#ùob
(
x
è((x)<<
PAGE_SHIFT
)

	)

185 #iâdeà
btoc


186 
	#btoc
(
x
è(((
vm_off£t_t
)(x)+
PAGE_MASK
)>>
PAGE_SHIFT
)

	)

195 #iâdeà
btodb


196 
	#btodb
(
by‹s
) \

197 ( (
by‹s
) > () \

198 ? (
daddr_t
)(()(
by‹s
è>> 
DEV_BSHIFT
) \

199 : (
daddr_t
)(()(
by‹s
è>> 
DEV_BSHIFT
))

	)

202 #iâdeà
dbtob


203 
	#dbtob
(
db
) \

204 ((
off_t
)(
db
è<< 
DEV_BSHIFT
)

	)

209 
	#PRIMASK
 0x0ff

	)

210 
	#PCATCH
 0x100

	)

211 
	#PDROP
 0x200

	)

212 
	#PBDRY
 0x400

	)

214 
	#NZERO
 0

	)

216 
	#NBBY
 8

	)

217 
	#NBPW
 (è

	)

219 
	#CMASK
 022

	)

221 
	#NODEV
 (
dev_t
)(-1è

	)

246 
	#MAXBSIZE
 65536

	)

247 
	#BKVASIZE
 16384

	)

248 
	#BKVAMASK
 (
BKVASIZE
-1)

	)

259 
	#MAXPATHLEN
 
PATH_MAX


	)

260 
	#MAXSYMLINKS
 32

	)

263 
	#£tb™
(
a
,
i
è(((*)×))[(i)/
NBBY
] |ğ1<<((i)%NBBY))

	)

264 
	#şrb™
(
a
,
i
è(((*)×))[(i)/
NBBY
] &ğ~(1<<((i)%NBBY)))

	)

265 
	#is£t
(
a
,
i
) \

266 (((cÚ¡ *)(
a
))[(
i
)/
NBBY
] & (1<<((i)%NBBY)))

	)

267 
	#isşr
(
a
,
i
) \

268 ((((cÚ¡ *)(
a
))[(
i
)/
NBBY
] & (1<<((i)%NBBY))è=ğ0)

	)

271 #iâdeà
howmªy


272 
	#howmªy
(
x
, 
y
è(((x)+((y)-1))/(y))

	)

274 
	#rounddown
(
x
, 
y
è(((x)/(y))*(y))

	)

275 
	#roundup
(
x
, 
y
è((((x)+((y)-1))/(y))*(y)è

	)

276 
	#roundup2
(
x
, 
y
è(((x)+((y)-1))&(~((y)-1))è

	)

277 
	#pow”of2
(
x
è((((x)-1)&(x))==0)

	)

280 
	#MIN
(
a
,
b
è((×)<(b))?×):(b))

	)

281 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

283 #ifdeà
_KERNEL


287 #iâdeà
LOCORE


288 #iâdeà
_BYTEORDER_PROTOTYPED


289 
	#_BYTEORDER_PROTOTYPED


	)

290 
__BEGIN_DECLS


291 
__ušt32_t
 
htÚl
(__uint32_t);

292 
__ušt16_t
 
htÚs
(__uint16_t);

293 
__ušt32_t
 
Áohl
(__uint32_t);

294 
__ušt16_t
 
Áohs
(__uint16_t);

295 
	g__END_DECLS


299 #iâdeà
lšt


300 #iâdeà
_BYTEORDER_FUNC_DEFINED


301 
	#_BYTEORDER_FUNC_DEFINED


	)

302 
	#htÚl
(
x
è
	`__htÚl
(x)

	)

303 
	#htÚs
(
x
è
	`__htÚs
(x)

	)

304 
	#Áohl
(
x
è
	`__Áohl
(x)

	)

305 
	#Áohs
(
x
è
	`__Áohs
(x)

	)

321 
	#FSHIFT
 11

	)

322 
	#FSCALE
 (1<<
FSHIFT
)

	)

324 
	#dbtoc
(
db
) \

325 ((
db
 + (
	`ùodb
(1è- 1)è>> (
PAGE_SHIFT
 - 
DEV_BSHIFT
))

	)

327 
	#ùodb
(
db
) \

328 ((
db
è<< (
PAGE_SHIFT
 - 
DEV_BSHIFT
))

	)

334 
	#memb”2¡ruù
(
s
, 
m
, 
x
) \

335 ((
s
 *)(*)((*)(
x
è- 
	`off£tof
(s, 
m
)))

	)

	@/usr/include/sys/proc.h

38 #iâdeà
_SYS_PROC_H_


39 
	#_SYS_PROC_H_


	)

41 
	~<sys/ÿÎout.h
>

42 
	~<sys/ev’t.h
>

43 
	~<sys/cÚdv¬.h
>

44 #iâdeà
_KERNEL


45 
	~<sys/fedesc.h
>

47 
	~<sys/queue.h
>

48 
	~<sys/_lock.h
>

49 
	~<sys/lock_´ofe.h
>

50 
	~<sys/_mu‹x.h
>

51 
	~<sys/osd.h
>

52 
	~<sys/´iÜ™y.h
>

53 
	~<sys/¹´io.h
>

54 
	~<sys/runq.h
>

55 
	~<sys/»sourû.h
>

56 
	~<sys/sigio.h
>

57 
	~<sys/sigÇl.h
>

58 
	~<sys/sigÇlv¬.h
>

59 #iâdeà
_KERNEL


60 
	~<sys/time.h
>

62 
	~<sys/pıu.h
>

64 
	~<sys/ucÚ‹xt.h
>

65 
	~<sys/uüed.h
>

66 
	~<machše/´oc.h
>

76 
	s£ssiÚ
 {

77 
u_št
 
	ms_couÁ
;

78 
´oc
 *
	ms_Ëad”
;

79 
vnode
 *
	ms_‰yvp
;

80 
‰y
 *
	ms_‰yp
;

81 
pid_t
 
	ms_sid
;

83 
	ms_logš
[
roundup
(
MAXLOGNAME
, ())];

84 
mtx
 
	ms_mtx
;

95 
	spg½
 {

96 
LIST_ENTRY
(
pg½
è
	mpg_hash
;

97 
LIST_HEAD
(, 
´oc
è
	mpg_memb”s
;

98 
£ssiÚ
 *
	mpg_£ssiÚ
;

99 
sigiŞ¡
 
	mpg_sigiŞ¡
;

100 
pid_t
 
	mpg_id
;

101 
	mpg_jobc
;

102 
mtx
 
	mpg_mtx
;

108 
	s·rgs
 {

109 
u_št
 
	m¬_»f
;

110 
u_št
 
	m¬_Ëngth
;

111 
u_ch¬
 
	m¬_¬gs
[1];

159 
	gkaud™_»cÜd
;

160 
	gtd_sched
;

161 
	gÆmšfo
;

162 
	gkaiošfo
;

163 
	gp_sched
;

164 
	g´oc
;

165 
	g¦“pqueue
;

166 
	gth»ad
;

167 
	gŒ­äame
;

168 
	gtuº¡e
;

169 
	gmqueue_nÙif›r
;

170 
	gkdŒaû_´oc
;

171 
	gkdŒaû_th»ad
;

172 
	gıu£t
;

185 
	sru§ge_ext
 {

186 
u_št64_t
 
	mrux_ruÁime
;

187 
u_št64_t
 
	mrux_uticks
;

188 
u_št64_t
 
	mrux_¡icks
;

189 
u_št64_t
 
	mrux_™icks
;

190 
u_št64_t
 
	mrux_uu
;

191 
u_št64_t
 
	mrux_su
;

192 
u_št64_t
 
	mrux_tu
;

200 
	sth»ad
 {

201 
mtx
 *vŞ©
	mtd_lock
;

202 
´oc
 *
	mtd_´oc
;

203 
TAILQ_ENTRY
(
th»ad
è
	mtd_¶i¡
;

204 
TAILQ_ENTRY
(
th»ad
è
	mtd_runq
;

205 
TAILQ_ENTRY
(
th»ad
è
	mtd_¦pq
;

206 
TAILQ_ENTRY
(
th»ad
è
	mtd_lockq
;

207 
ıu£t
 *
	mtd_ıu£t
;

208 
£Éd
 *
	mtd_£l
;

209 
¦“pqueue
 *
	mtd_¦“pqueue
;

210 
tuº¡e
 *
	mtd_tuº¡e
;

211 
umtx_q
 *
	mtd_umtxq
;

212 
lwpid_t
 
	mtd_tid
;

213 
sigqueue_t
 
	mtd_sigqueue
;

214 
	#td_sigli¡
 
td_sigqueue
.
sq_sigÇls


	)

217 
	#td_¡¬tz”o
 
td_æags


	)

218 
	mtd_æags
;

219 
	mtd_šhib™Üs
;

220 
	mtd_pæags
;

221 
	mtd_dupfd
;

222 
	mtd_sqqueue
;

223 *
	mtd_wchª
;

224 cÚ¡ *
	mtd_wmesg
;

225 
u_ch¬
 
	mtd_Ï¡ıu
;

226 
u_ch¬
 
	mtd_Úıu
;

227 vŞ©
u_ch¬
 
	mtd_ow•»em±
;

228 
u_ch¬
 
	mtd_tsqueue
;

229 
	mtd_locks
;

230 
	mtd_rw_¾ocks
;

231 
	mtd_lk_¦ocks
;

232 
tuº¡e
 *
	mtd_blocked
;

233 cÚ¡ *
	mtd_lockÇme
;

234 
LIST_HEAD
(, 
tuº¡e
è
	mtd_cÚ‹¡ed
;

235 
lock_li¡_’Œy
 *
	mtd_¦“¶ocks
;

236 
	mtd_šŒ_Ã¡šg_Ëv–
;

237 
	mtd_pšÃd
;

238 
uüed
 *
	mtd_uüed
;

239 
u_št
 
	mtd_e¡ıu
;

240 
	mtd_¦±ick
;

241 
	mtd_blktick
;

242 
ru§ge
 
	mtd_ru
;

243 
ušt64_t
 
	mtd_šüuÁime
;

244 
ušt64_t
 
	mtd_ruÁime
;

245 
u_št
 
	mtd_±icks
;

246 
u_št
 
	mtd_¡icks
;

247 
u_št
 
	mtd_™icks
;

248 
u_št
 
	mtd_uticks
;

249 
	mtd_šŒv®
;

250 
sig£t_t
 
	mtd_Şdsigmask
;

251 
sig£t_t
 
	mtd_sigmask
;

252 vŞ©
u_št
 
	mtd_g’”©iÚ
;

253 
¡ack_t
 
	mtd_sig¡k
;

254 
	mtd_xsig
;

255 
u_lÚg
 
	mtd_´of_addr
;

256 
u_št
 
	mtd_´of_ticks
;

257 
	mtd_Çme
[
MAXCOMLEN
 + 1];

258 
fe
 *
	mtd_åİ
;

259 
	mtd_dbgæags
;

260 
ksigšfo
 
	mtd_dbgksi
;

261 
	mtd_ng_outbound
;

262 
osd
 
	mtd_osd
;

263 
	#td_’dz”o
 
td_rqšdex


	)

266 
	#td_¡¬tcİy
 
td_’dz”o


	)

267 
u_ch¬
 
	mtd_rqšdex
;

268 
u_ch¬
 
	mtd_ba£_´i
;

269 
u_ch¬
 
	mtd_´iÜ™y
;

270 
u_ch¬
 
	mtd_´i_şass
;

271 
u_ch¬
 
	mtd_u£r_´i
;

272 
u_ch¬
 
	mtd_ba£_u£r_´i
;

273 
	#td_’dcİy
 
td_pcb


	)

279 
pcb
 *
	mtd_pcb
;

281 
	mTDS_INACTIVE
 = 0x0,

282 
	mTDS_INHIBITED
,

283 
	mTDS_CAN_RUN
,

284 
	mTDS_RUNQ
,

285 
	mTDS_RUNNING


286 } 
	mtd_¡©e
;

287 
»gi¡”_t
 
	mtd_»tv®
[2];

288 
ÿÎout
 
	mtd_¦pÿÎout
;

289 
Œ­äame
 *
	mtd_äame
;

290 
vm_objeù
 *
	mtd_k¡ack_obj
;

291 
vm_off£t_t
 
	mtd_k¡ack
;

292 
	mtd_k¡ack_·ges
;

293 *
	mtd_unu£d1
;

294 
vm_off£t_t
 
	mtd_unu£d2
;

295 
	mtd_unu£d3
;

296 vŞ©
u_št
 
	mtd_ü™Ã¡
;

297 
mdth»ad
 
	mtd_md
;

298 
td_sched
 *
	mtd_sched
;

299 
kaud™_»cÜd
 *
	mtd_¬
;

300 
	mtd_sysÿÎs
;

301 
Íoh—d
 
	mtd_Írof
[2];

302 
kdŒaû_th»ad
 *
	mtd_dŒaû
;

303 
	mtd_”ºo
;

304 
vÃt
 *
	mtd_vÃt
;

305 cÚ¡ *
	mtd_vÃt_Íush
;

306 
ru§ge_ext
 
	mtd_rux
;

307 
vm_m­_’Œy
 *
	mtd_m­_def_u£r
;

308 
pid_t
 
	mtd_dbg_fÜked
;

311 
mtx
 *
th»ad_lock_block
(
th»ad
 *);

312 
th»ad_lock_unblock
(
th»ad
 *, 
mtx
 *);

313 
th»ad_lock_£t
(
th»ad
 *, 
mtx
 *);

314 
	#THREAD_LOCK_ASSERT
(
td
, 
ty³
) \

316 
mtx
 *
__m
 = (
td
)->
td_lock
; \

317 ià(
__m
 !ğ&
blocked_lock
) \

318 
	`mtx_as£¹
(
__m
, (
ty³
)); \

319 } 0)

	)

321 #ifdeà
INVARIANTS


322 
	#THREAD_LOCKPTR_ASSERT
(
td
, 
lock
) \

324 
mtx
 *
__m
 = (
td
)->
td_lock
; \

325 
	`KASSERT
((
__m
 =ğ&
blocked_lock
 || __m =ğ(
lock
)), \

326 ("Th»ad %°lock %°dÛ nÙ m©ch %p", 
td
, 
__m
, (
lock
))); \

327 } 0)

	)

329 
	#THREAD_LOCKPTR_ASSERT
(
td
, 
lock
)

	)

332 
	#CRITICAL_ASSERT
(
td
) \

333 
	`KASSERT
((
td
)->
td_ü™Ã¡
 >ğ1, ("NÙ iÀü™iÿÈ£ùiÚ"));

	)

339 
	#TDF_BORROWING
 0x00000001

	)

340 
	#TDF_INPANIC
 0x00000002

	)

341 
	#TDF_INMEM
 0x00000004

	)

342 
	#TDF_SINTR
 0x00000008

	)

343 
	#TDF_TIMEOUT
 0x00000010

	)

344 
	#TDF_IDLETD
 0x00000020

	)

345 
	#TDF_CANSWAP
 0x00000040

	)

346 
	#TDF_SLEEPABORT
 0x00000080

	)

347 
	#TDF_KTH_SUSP
 0x00000100

	)

348 
	#TDF_UBORROWING
 0x00000200

	)

349 
	#TDF_BOUNDARY
 0x00000400

	)

350 
	#TDF_ASTPENDING
 0x00000800

	)

351 
	#TDF_TIMOFAIL
 0x00001000

	)

352 
	#TDF_SBDRY
 0x00002000

	)

353 
	#TDF_UPIBLOCKED
 0x00004000

	)

354 
	#TDF_NEEDSUSPCHK
 0x00008000

	)

355 
	#TDF_NEEDRESCHED
 0x00010000

	)

356 
	#TDF_NEEDSIGCHK
 0x00020000

	)

357 
	#TDF_NOLOAD
 0x00040000

	)

358 
	#TDF_UNUSED19
 0x00080000

	)

359 
	#TDF_THRWAKEUP
 0x00100000

	)

360 
	#TDF_UNUSED21
 0x00200000

	)

361 
	#TDF_SWAPINREQ
 0x00400000

	)

362 
	#TDF_UNUSED23
 0x00800000

	)

363 
	#TDF_SCHED0
 0x01000000

	)

364 
	#TDF_SCHED1
 0x02000000

	)

365 
	#TDF_SCHED2
 0x04000000

	)

366 
	#TDF_SCHED3
 0x08000000

	)

367 
	#TDF_ALRMPEND
 0x10000000

	)

368 
	#TDF_PROFPEND
 0x20000000

	)

369 
	#TDF_MACPEND
 0x40000000

	)

372 
	#TDB_SUSPEND
 0x00000001

	)

373 
	#TDB_XSIG
 0x00000002

	)

374 
	#TDB_USERWR
 0x00000004

	)

375 
	#TDB_SCE
 0x00000008

	)

376 
	#TDB_SCX
 0x00000010

	)

377 
	#TDB_EXEC
 0x00000020

	)

378 
	#TDB_FORK
 0x00000040

	)

380 
	#TDB_STOPATFORK
 0x00000080

	)

387 
	#TDP_OLDMASK
 0x00000001

	)

388 
	#TDP_INKTR
 0x00000002

	)

389 
	#TDP_INKTRACE
 0x00000004

	)

390 
	#TDP_BUFNEED
 0x00000008

	)

391 
	#TDP_COWINPROGRESS
 0x00000010

	)

392 
	#TDP_ALTSTACK
 0x00000020

	)

393 
	#TDP_DEADLKTREAT
 0x00000040

	)

394 
	#TDP_UNUSED80
 0x00000080

	)

395 
	#TDP_NOSLEEPING
 0x00000100

	)

396 
	#TDP_OWEUPC
 0x00000200

	)

397 
	#TDP_ITHREAD
 0x00000400

	)

398 
	#TDP_SYNCIO
 0x00000800

	)

399 
	#TDP_SCHED1
 0x00001000

	)

400 
	#TDP_SCHED2
 0x00002000

	)

401 
	#TDP_SCHED3
 0x00004000

	)

402 
	#TDP_SCHED4
 0x00008000

	)

403 
	#TDP_GEOM
 0x00010000

	)

404 
	#TDP_SOFTDEP
 0x00020000

	)

405 
	#TDP_NORUNNINGBUF
 0x00040000

	)

406 
	#TDP_WAKEUP
 0x00080000

	)

407 
	#TDP_INBDFLUSH
 0x00100000

	)

408 
	#TDP_KTHREAD
 0x00200000

	)

409 
	#TDP_CALLCHAIN
 0x00400000

	)

410 
	#TDP_IGNSUSP
 0x00800000

	)

411 
	#TDP_AUDITREC
 0x01000000

	)

417 
	#TDI_SUSPENDED
 0x0001

	)

418 
	#TDI_SLEEPING
 0x0002

	)

419 
	#TDI_SWAPPED
 0x0004

	)

420 
	#TDI_LOCK
 0x0008

	)

421 
	#TDI_IWAIT
 0x0010

	)

423 
	#TD_IS_SLEEPING
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_SLEEPING
)

	)

424 
	#TD_ON_SLEEPQ
(
td
è(Ñd)->
td_wchª
 !ğ
NULL
)

	)

425 
	#TD_IS_SUSPENDED
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_SUSPENDED
)

	)

426 
	#TD_IS_SWAPPED
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_SWAPPED
)

	)

427 
	#TD_ON_LOCK
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_LOCK
)

	)

428 
	#TD_AWAITING_INTR
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_IWAIT
)

	)

429 
	#TD_IS_RUNNING
(
td
è(Ñd)->
td_¡©e
 =ğ
TDS_RUNNING
)

	)

430 
	#TD_ON_RUNQ
(
td
è(Ñd)->
td_¡©e
 =ğ
TDS_RUNQ
)

	)

431 
	#TD_CAN_RUN
(
td
è(Ñd)->
td_¡©e
 =ğ
TDS_CAN_RUN
)

	)

432 
	#TD_IS_INHIBITED
(
td
è(Ñd)->
td_¡©e
 =ğ
TDS_INHIBITED
)

	)

433 
	#TD_ON_UPILOCK
(
td
è(Ñd)->
td_æags
 & 
TDF_UPIBLOCKED
)

	)

434 
	#TD_IS_IDLETHREAD
(
td
è(Ñd)->
td_æags
 & 
TDF_IDLETD
)

	)

437 
	#TD_SET_INHIB
(
td
, 
šhib
) do { \

438 (
td
)->
td_¡©e
 = 
TDS_INHIBITED
; \

439 (
td
)->
td_šhib™Üs
 |ğ(
šhib
); \

440 } 0)

	)

442 
	#TD_CLR_INHIB
(
td
, 
šhib
) do { \

443 ià(((
td
)->
td_šhib™Üs
 & (
šhib
)) && \

444 (((
td
)->
td_šhib™Üs
 &ğ~(
šhib
)) == 0)) \

445 (
td
)->
td_¡©e
 = 
TDS_CAN_RUN
; \

446 } 0)

	)

448 
	#TD_SET_SLEEPING
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_SLEEPING
)

	)

449 
	#TD_SET_SWAPPED
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_SWAPPED
)

	)

450 
	#TD_SET_LOCK
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_LOCK
)

	)

451 
	#TD_SET_SUSPENDED
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_SUSPENDED
)

	)

452 
	#TD_SET_IWAIT
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_IWAIT
)

	)

453 
	#TD_SET_EXITING
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_EXITING
)

	)

455 
	#TD_CLR_SLEEPING
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_SLEEPING
)

	)

456 
	#TD_CLR_SWAPPED
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_SWAPPED
)

	)

457 
	#TD_CLR_LOCK
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_LOCK
)

	)

458 
	#TD_CLR_SUSPENDED
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_SUSPENDED
)

	)

459 
	#TD_CLR_IWAIT
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_IWAIT
)

	)

461 
	#TD_SET_RUNNING
(
td
èÑd)->
td_¡©e
 = 
TDS_RUNNING


	)

462 
	#TD_SET_RUNQ
(
td
èÑd)->
td_¡©e
 = 
TDS_RUNQ


	)

463 
	#TD_SET_CAN_RUN
(
td
èÑd)->
td_¡©e
 = 
TDS_CAN_RUN


	)

468 
	s´oc
 {

469 
LIST_ENTRY
(
´oc
è
	mp_li¡
;

470 
TAILQ_HEAD
(, 
th»ad
è
	mp_th»ads
;

471 
mtx
 
	mp_¦ock
;

472 
uüed
 *
	mp_uüed
;

473 
fedesc
 *
	mp_fd
;

474 
fedesc_to_Ëad”
 *
	mp_fdtŞ
;

475 
p¡©s
 *
	mp_¡©s
;

476 
¶im™
 *
	mp_lim™
;

477 
ÿÎout
 
	mp_limco
;

478 
sigaùs
 *
	mp_sigaùs
;

484 
	mp_æag
;

486 
	mPRS_NEW
 = 0,

487 
	mPRS_NORMAL
,

488 
	mPRS_ZOMBIE


489 } 
	mp_¡©e
;

490 
pid_t
 
	mp_pid
;

491 
LIST_ENTRY
(
´oc
è
	mp_hash
;

492 
LIST_ENTRY
(
´oc
è
	mp_pgli¡
;

493 
´oc
 *
	mp_µŒ
;

494 
LIST_ENTRY
(
´oc
è
	mp_siblšg
;

495 
LIST_HEAD
(, 
´oc
è
	mp_chd»n
;

496 
mtx
 
	mp_mtx
;

497 
ksigšfo
 *
	mp_ksi
;

498 
sigqueue_t
 
	mp_sigqueue
;

499 
	#p_sigli¡
 
p_sigqueue
.
sq_sigÇls


	)

502 
	#p_¡¬tz”o
 
p_İpid


	)

503 
pid_t
 
	mp_İpid
;

504 
vm¥aû
 *
	mp_vm¥aû
;

505 
u_št
 
	mp_swtick
;

506 
™im”v®
 
	mp_»®tim”
;

507 
ru§ge
 
	mp_ru
;

508 
ru§ge_ext
 
	mp_rux
;

509 
ru§ge_ext
 
	mp_üux
;

510 
	mp_´oáh»ads
;

511 vŞ©
	mp_ex™th»ads
;

512 
	mp_Œaûæag
;

513 
vnode
 *
	mp_Œaûvp
;

514 
uüed
 *
	mp_Œaûüed
;

515 
vnode
 *
	mp_‹xtvp
;

516 
u_št
 
	mp_lock
;

517 
sigiŞ¡
 
	mp_sigiŞ¡
;

518 
	mp_sig·»Á
;

519 
	mp_sig
;

520 
u_lÚg
 
	mp_code
;

521 
u_št
 
	mp_¡İs
;

522 
u_št
 
	mp_¡y³
;

523 
	mp_¡•
;

524 
u_ch¬
 
	mp_pfsæags
;

525 
Æmšfo
 *
	mp_Æmšfo
;

526 
kaiošfo
 *
	mp_aiošfo
;

527 
th»ad
 *
	mp_sšgËth»ad
;

528 
	mp_su¥couÁ
;

529 
th»ad
 *
	mp_xth»ad
;

530 
	mp_bound¬y_couÁ
;

531 
	mp_³ndšgút
;

532 
™im”s
 *
	mp_™im”s
;

534 
	#p_’dz”o
 
p_magic


	)

537 
	#p_¡¬tcİy
 
p_’dz”o


	)

538 
u_št
 
	mp_magic
;

539 
	mp_o¤–
;

541 
	mp_comm
[
MAXCOMLEN
 + 1];

542 
pg½
 *
	mp_pg½
;

543 
sy£Ávec
 *
	mp_sy£Á
;

544 
·rgs
 *
	mp_¬gs
;

545 
¾im_t
 
	mp_ıulim™
;

546 sigÃd 
	mp_niû
;

547 
	mp_fibnum
;

549 
	#p_’dcİy
 
p_x¡©


	)

551 
u_shÜt
 
	mp_x¡©
;

552 
kÆi¡
 
	mp_kli¡
;

553 
	mp_numth»ads
;

554 
md´oc
 
	mp_md
;

555 
ÿÎout
 
	mp_™ÿÎout
;

556 
u_shÜt
 
	mp_acæag
;

557 
´oc
 *
	mp_³”s
;

558 
´oc
 *
	mp_Ëad”
;

559 *
	mp_emuld©a
;

560 
Ïb–
 *
	mp_Ïb–
;

561 
p_sched
 *
	mp_sched
;

562 
STAILQ_HEAD
(, 
kŒ_»que¡
è
	mp_kŒ
;

563 
LIST_HEAD
(, 
mqueue_nÙif›r
è
	mp_mqnÙif›r
;

564 
kdŒaû_´oc
 *
	mp_dŒaû
;

565 
cv
 
	mp_pwa™
;

566 
cv
 
	mp_dbgwa™
;

570 
	#p_£ssiÚ
 
p_pg½
->
pg_£ssiÚ


	)

571 
	#p_pgid
 
p_pg½
->
pg_id


	)

573 
	#NOCPU
 0xfà

	)

575 
	#PROC_SLOCK
(
p
è
	`mtx_lock_¥š
(&Õ)->
p_¦ock
)

	)

576 
	#PROC_SUNLOCK
(
p
è
	`mtx_uÆock_¥š
(&Õ)->
p_¦ock
)

	)

577 
	#PROC_SLOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_¦ock
, (ty³))

	)

580 
	#P_ADVLOCK
 0x00001

	)

581 
	#P_CONTROLT
 0x00002

	)

582 
	#P_KTHREAD
 0x00004

	)

583 
	#P_FOLLOWFORK
 0x00008

	)

584 
	#P_PPWAIT
 0x00010

	)

585 
	#P_PROFIL
 0x00020

	)

586 
	#P_STOPPROF
 0x00040

	)

587 
	#P_HADTHREADS
 0x00080

	)

588 
	#P_SUGID
 0x00100

	)

589 
	#P_SYSTEM
 0x00200

	)

590 
	#P_SINGLE_EXIT
 0x00400

	)

591 
	#P_TRACED
 0x00800

	)

592 
	#P_WAITED
 0x01000

	)

593 
	#P_WEXIT
 0x02000

	)

594 
	#P_EXEC
 0x04000

	)

595 
	#P_WKILLED
 0x08000

	)

596 
	#P_CONTINUED
 0x10000

	)

597 
	#P_STOPPED_SIG
 0x20000

	)

598 
	#P_STOPPED_TRACE
 0x40000

	)

599 
	#P_STOPPED_SINGLE
 0x80000

	)

600 
	#P_PROTECTED
 0x100000

	)

601 
	#P_SIGEVENT
 0x200000

	)

602 
	#P_SINGLE_BOUNDARY
 0x400000

	)

603 
	#P_HWPMC
 0x800000

	)

605 
	#P_JAILED
 0x1000000

	)

606 
	#P_INEXEC
 0x4000000

	)

607 
	#P_STATCHILD
 0x8000000

	)

608 
	#P_INMEM
 0x10000000

	)

609 
	#P_SWAPPINGOUT
 0x20000000

	)

610 
	#P_SWAPPINGIN
 0x40000000

	)

612 
	#P_STOPPED
 (
P_STOPPED_SIG
|
P_STOPPED_SINGLE
|
P_STOPPED_TRACE
)

	)

613 
	#P_SHOULDSTOP
(
p
è(Õ)->
p_æag
 & 
P_STOPPED
)

	)

614 
	#P_KILLED
(
p
è(Õ)->
p_æag
 & 
P_WKILLED
)

	)

620 
	#SIDL
 1

	)

621 
	#SRUN
 2

	)

622 
	#SSLEEP
 3

	)

623 
	#SSTOP
 4

	)

624 
	#SZOMB
 5

	)

625 
	#SWAIT
 6

	)

626 
	#SLOCK
 7

	)

628 
	#P_MAGIC
 0xb“fçû

	)

630 #ifdeà
_KERNEL


633 
	#SW_TYPE_MASK
 0xfà

	)

634 
	#SWT_NONE
 0

	)

635 
	#SWT_PREEMPT
 1

	)

636 
	#SWT_OWEPREEMPT
 2

	)

637 
	#SWT_TURNSTILE
 3

	)

638 
	#SWT_SLEEPQ
 4

	)

639 
	#SWT_SLEEPQTIMO
 5

	)

640 
	#SWT_RELINQUISH
 6

	)

641 
	#SWT_NEEDRESCHED
 7

	)

642 
	#SWT_IDLE
 8

	)

643 
	#SWT_IWAIT
 9

	)

644 
	#SWT_SUSPEND
 10

	)

645 
	#SWT_REMOTEPREEMPT
 11

	)

646 
	#SWT_REMOTEWAKEIDLE
 12

	)

647 
	#SWT_COUNT
 13

	)

649 
	#SW_VOL
 0x0100

	)

650 
	#SW_INVOL
 0x0200

	)

651 
	#SW_PREEMPT
 0x0400

	)

654 
	#SINGLE_NO_EXIT
 0

	)

655 
	#SINGLE_EXIT
 1

	)

656 
	#SINGLE_BOUNDARY
 2

	)

658 #ifdeà
MALLOC_DECLARE


659 
MALLOC_DECLARE
(
M_PARGS
);

660 
MALLOC_DECLARE
(
M_PGRP
);

661 
MALLOC_DECLARE
(
M_SESSION
);

662 
MALLOC_DECLARE
(
M_SUBPROC
);

665 
	#FOREACH_PROC_IN_SYSTEM
(
p
) \

666 
	`LIST_FOREACH
((
p
), &
®Íroc
, 
p_li¡
)

	)

667 
	#FOREACH_THREAD_IN_PROC
(
p
, 
td
) \

668 
	`TAILQ_FOREACH
((
td
), &(
p
)->
p_th»ads
, 
td_¶i¡
)

	)

670 
	#FIRST_THREAD_IN_PROC
(
p
è
	`TAILQ_FIRST
(&Õ)->
p_th»ads
)

	)

676 
	#PID_MAX
 99999

	)

677 
	#NO_PID
 100000

	)

679 
	#SESS_LEADER
(
p
è(Õ)->
p_£ssiÚ
->
s_Ëad”
 =ğÕ))

	)

682 
	#STOPEVENT
(
p
, 
e
, 
v
) do { \

683 ià((
p
)->
p_¡İs
 & (
e
)) { \

684 
	`PROC_LOCK
(
p
); \

685 
	`¡İev’t
((
p
), (
e
), (
v
)); \

686 
	`PROC_UNLOCK
(
p
); \

688 } 0)

	)

689 
	#_STOPEVENT
(
p
, 
e
, 
v
) do { \

690 
	`PROC_LOCK_ASSERT
(
p
, 
MA_OWNED
); \

691 
	`WITNESS_WARN
(
WARN_GIANTOK
 | 
WARN_SLEEPOK
, &
p
->
p_mtx
.
lock_objeù
, \

692 "checkšg stİev’ˆ%d", (
e
)); \

693 ià((
p
)->
p_¡İs
 & (
e
)) \

694 
	`¡İev’t
((
p
), (
e
), (
v
)); \

695 } 0)

	)

698 
	#PROC_LOCK
(
p
è
	`mtx_lock
(&Õ)->
p_mtx
)

	)

699 
	#PROC_TRYLOCK
(
p
è
	`mtx_Œylock
(&Õ)->
p_mtx
)

	)

700 
	#PROC_UNLOCK
(
p
è
	`mtx_uÆock
(&Õ)->
p_mtx
)

	)

701 
	#PROC_LOCKED
(
p
è
	`mtx_owÃd
(&Õ)->
p_mtx
)

	)

702 
	#PROC_LOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_mtx
, (ty³))

	)

705 
	#PGRP_LOCK
(
pg
è
	`mtx_lock
(&Õg)->
pg_mtx
)

	)

706 
	#PGRP_UNLOCK
(
pg
è
	`mtx_uÆock
(&Õg)->
pg_mtx
)

	)

707 
	#PGRP_LOCKED
(
pg
è
	`mtx_owÃd
(&Õg)->
pg_mtx
)

	)

708 
	#PGRP_LOCK_ASSERT
(
pg
, 
ty³
è
	`mtx_as£¹
(&Õg)->
pg_mtx
, (ty³))

	)

710 
	#PGRP_LOCK_PGSIGNAL
(
pg
) do { \

711 ià((
pg
è!ğ
NULL
) \

712 
	`PGRP_LOCK
(
pg
); \

713 } 0)

	)

714 
	#PGRP_UNLOCK_PGSIGNAL
(
pg
) do { \

715 ià((
pg
è!ğ
NULL
) \

716 
	`PGRP_UNLOCK
(
pg
); \

717 } 0)

	)

720 
	#SESS_LOCK
(
s
è
	`mtx_lock
(&(s)->
s_mtx
)

	)

721 
	#SESS_UNLOCK
(
s
è
	`mtx_uÆock
(&(s)->
s_mtx
)

	)

722 
	#SESS_LOCKED
(
s
è
	`mtx_owÃd
(&(s)->
s_mtx
)

	)

723 
	#SESS_LOCK_ASSERT
(
s
, 
ty³
è
	`mtx_as£¹
(&(s)->
s_mtx
, (ty³))

	)

726 
	#PHOLD
(
p
) do { \

727 
	`PROC_LOCK
(
p
); \

728 
	`_PHOLD
(
p
); \

729 
	`PROC_UNLOCK
(
p
); \

730 } 0)

	)

731 
	#_PHOLD
(
p
) do { \

732 
	`PROC_LOCK_ASSERT
((
p
), 
MA_OWNED
); \

733 
	`KASSERT
(!((
p
)->
p_æag
 & 
P_WEXIT
è|| (pè=ğ
cu½roc
, \

735 (
p
)->
p_lock
++; \

736 ià(((
p
)->
p_æag
 & 
P_INMEM
) == 0) \

737 
	`çuÉš
((
p
)); \

738 } 0)

	)

739 
	#PROC_ASSERT_HELD
(
p
) do { \

740 
	`KASSERT
((
p
)->
p_lock
 > 0, ("process‚ot held")); \

741 } 0)

	)

743 
	#PRELE
(
p
) do { \

744 
	`PROC_LOCK
((
p
)); \

745 
	`_PRELE
((
p
)); \

746 
	`PROC_UNLOCK
((
p
)); \

747 } 0)

	)

748 
	#_PRELE
(
p
) do { \

749 
	`PROC_LOCK_ASSERT
((
p
), 
MA_OWNED
); \

750 
	`PROC_ASSERT_HELD
(
p
); \

751 (--(
p
)->
p_lock
); \

752 ià(((
p
)->
p_æag
 & 
P_WEXIT
è&& (p)->
p_lock
 == 0) \

753 
	`wakeup
(&(
p
)->
p_lock
); \

754 } 0)

	)

755 
	#PROC_ASSERT_NOT_HELD
(
p
) do { \

756 
	`KASSERT
((
p
)->
p_lock
 == 0, ("process held")); \

757 } 0)

	)

760 
	#th»ad_§ãtosw­out
(
td
è(Ñd)->
td_æags
 & 
TDF_CANSWAP
)

	)

763 
	#THREAD_NO_SLEEPING
() do { \

764 
	`KASSERT
(!(
cu¹h»ad
->
td_pæags
 & 
TDP_NOSLEEPING
), \

766 
cu¹h»ad
->
td_pæags
 |ğ
TDP_NOSLEEPING
; \

767 } 0)

	)

769 
	#THREAD_SLEEPING_OK
() do { \

770 
	`KASSERT
((
cu¹h»ad
->
td_pæags
 & 
TDP_NOSLEEPING
), \

772 
cu¹h»ad
->
td_pæags
 &ğ~
TDP_NOSLEEPING
; \

773 } 0)

	)

775 
	#PIDHASH
(
pid
è(&
pidhashtbl
[Õidè& 
pidhash
])

	)

776 
LIST_HEAD
(
pidhashh—d
, 
´oc
è*
pidhashtbl
;

777 
u_lÚg
 
pidhash
;

779 
	#PGRPHASH
(
pgid
è(&
pg½hashtbl
[Õgidè& 
pg½hash
])

	)

780 
LIST_HEAD
(
pg½hashh—d
, 
pg½
è*
pg½hashtbl
;

781 
u_lÚg
 
pg½hash
;

783 
sx
 
®Íroc_lock
;

784 
sx
 
´où»e_lock
;

785 
mtx
 
µ“rs_lock
;

786 
´oc
 
´oc0
;

787 
th»ad
 
th»ad0
;

788 
vm¥aû
 
vm¥aû0
;

789 
hogticks
;

790 
Ï¡pid
;

791 
Årocs
, 
max´oc
;

792 
max´oı”uid
;

793 
u_lÚg
 
ps_¬g_ÿche_lim™
;

795 
LIST_HEAD
(
´oşi¡
, 
´oc
);

796 
TAILQ_HEAD
(
´ocqueue
, 
´oc
);

797 
TAILQ_HEAD
(
th»adqueue
, 
th»ad
);

798 
´oşi¡
 
®Íroc
;

799 
´oşi¡
 
zomb´oc
;

800 
´oc
 *
š™´oc
, *
·g•roc
;

802 
uma_zÚe
 *
´oc_zÚe
;

804 
´oc
 *
pfšd
(
pid_t
);

805 
pg½
 *
pgfšd
(
pid_t
);

806 
´oc
 *
zpfšd
(
pid_t
);

808 
a¡
(
Œ­äame
 *
äam•
);

809 
th»ad
 *
choo£th»ad
();

810 
ü_ÿnsigÇl
(
uüed
 *
üed
, 
´oc
 *´oc, 
signum
);

811 
’‹½g½
(
´oc
 *
p
, 
pid_t
 
pgid
, 
pg½
 *pgrp,

812 
£ssiÚ
 *
£ss
);

813 
’‹¹hi¥g½
(
´oc
 *
p
, 
pg½
 *pgrp);

814 
çuÉš
(
´oc
 *
p
);

815 
fixjobc
(
´oc
 *
p
, 
pg½
 *pg½, 
’‹ršg
);

816 
fÜk1
(
th»ad
 *, , , 
´oc
 **);

817 
fÜk_ex™
((*)(*, 
Œ­äame
 *), *,

818 
Œ­äame
 *);

819 
	`fÜk_»tuº
(
th»ad
 *, 
Œ­äame
 *);

820 
	`šãriÜ
(
´oc
 *
p
);

821 
	`k”n_y›ld
();

822 
	`kick_´oc0
();

823 
	`Ëav•g½
(
´oc
 *
p
);

824 
	`maybe_´“m±
(
th»ad
 *
td
);

825 
	`maybe_y›ld
();

826 
	`mi_sw™ch
(
æags
, 
th»ad
 *
Ãwtd
);

827 
	`p_ÿndebug
(
th»ad
 *
td
, 
´oc
 *
p
);

828 
	`p_ÿn£e
(
th»ad
 *
td
, 
´oc
 *
p
);

829 
	`p_ÿnsched
(
th»ad
 *
td
, 
´oc
 *
p
);

830 
	`p_ÿnsigÇl
(
th»ad
 *
td
, 
´oc
 *
p
, 
signum
);

831 
	`p_ÿnwa™
(
th»ad
 *
td
, 
´oc
 *
p
);

832 
·rgs
 *
	`·rgs_®loc
(
Ën
);

833 
	`·rgs_drİ
(
·rgs
 *
·
);

834 
	`·rgs_hŞd
(
·rgs
 *
·
);

835 
	`´ocš™
();

836 
	`´oc_lškup0
(
´oc
 *
p
, 
th»ad
 *
td
);

837 
	`´oc_lškup
(
´oc
 *
p
, 
th»ad
 *
td
);

838 
	`´oc_»·»Á
(
´oc
 *
chd
, ´oø*
Ãw·»Á
);

839 
p¡©s
 *
	`p¡©s_®loc
();

840 
	`p¡©s_fÜk
(
p¡©s
 *
¤c
, p¡© *
d¡
);

841 
	`p¡©s_ä“
(
p¡©s
 *
ps
);

842 
	`£cu»Ëv–_ge
(
uüed
 *
ü
, 
Ëv–
);

843 
	`£cu»Ëv–_gt
(
uüed
 *
ü
, 
Ëv–
);

844 
	`£ss_hŞd
(
£ssiÚ
 *);

845 
	`£ss_»Ëa£
(
£ssiÚ
 *);

846 
	`£ŒuÂabË
(
th»ad
 *);

847 
	`£tsugid
(
´oc
 *
p
);

848 
	`should_y›ld
();

849 
	`sigÚ¡ack
(
size_t
 
¥
);

850 
	`¦“pš™
();

851 
	`¡İev’t
(
´oc
 *, 
u_št
, u_int);

852 
	`th»adš™
();

853 
	`ıu_idË
();

854 
	`ıu_idË_wakeup
();

855 (*
ıu_idË_hook
)();

856 
	`ıu_sw™ch
(
th»ad
 *, th»ad *, 
mtx
 *);

857 
	$ıu_throw
(
th»ad
 *, th»ad *è
__d—d2
;

858 
	`un¦“p
(
th»ad
 *);

859 
	`u£¼‘
(
th»ad
 *, 
Œ­äame
 *);

861 
	`ıu_ex™
(
th»ad
 *);

862 
	$ex™1
(
th»ad
 *, è
__d—d2
;

863 
sysÿÎ_¬gs
;

864 
	`ıu_ãtch_sysÿÎ_¬gs
(
th»ad
 *
td
, 
sysÿÎ_¬gs
 *
§
);

865 
	`ıu_fÜk
(
th»ad
 *, 
´oc
 *, thread *, );

866 
	`ıu_£t_fÜk_hªdËr
(
th»ad
 *, (*)(*), *);

867 
	`ıu_£t_sysÿÎ_»tv®
(
th»ad
 *, );

868 
	`ıu_£t_upÿÎ
(
th»ad
 *
td
, th»ad *
td0
);

869 
	`ıu_£t_upÿÎ_k£
(
th»ad
 *, (*)(*), *,

870 
¡ack_t
 *);

871 
	`ıu_£t_u£r_s
(
th»ad
 *, *
s_ba£
);

872 
	`ıu_th»ad_®loc
(
th»ad
 *);

873 
	`ıu_th»ad_ş—n
(
th»ad
 *);

874 
	`ıu_th»ad_ex™
(
th»ad
 *);

875 
	`ıu_th»ad_ä“
(
th»ad
 *);

876 
	`ıu_th»ad_sw­š
(
th»ad
 *);

877 
	`ıu_th»ad_sw­out
(
th»ad
 *);

878 
th»ad
 *
	`th»ad_®loc
(
·ges
);

879 
	`th»ad_®loc_¡ack
(
th»ad
 *, 
·ges
);

880 
	$th»ad_ex™
(è
__d—d2
;

881 
	`th»ad_ä“
(
th»ad
 *
td
);

882 
	`th»ad_lšk
(
th»ad
 *
td
, 
´oc
 *
p
);

883 
	`th»ad_»­
();

884 
	`th»ad_sšgË
(
how
);

885 
	`th»ad_sšgË_’d
();

886 
	`th»ad_¡ash
(
th»ad
 *
td
);

887 
	`th»ad_¡İ³d
(
´oc
 *
p
);

888 
	`chd´oc_¡İ³d
(
´oc
 *
chd
, 
»asÚ
);

889 
	`chd´oc_cÚtšued
(
´oc
 *
chd
);

890 
	`chd´oc_ex™ed
(
´oc
 *
chd
);

891 
	`th»ad_su¥’d_check
(
how
);

892 
	`th»ad_su¥’d_sw™ch
(
th»ad
 *);

893 
	`th»ad_su¥’d_Úe
(
th»ad
 *
td
);

894 
	`th»ad_uÆšk
(
th»ad
 *
td
);

895 
	`th»ad_unsu¥’d
(
´oc
 *
p
);

896 
	`th»ad_unsu¥’d_Úe
(
th»ad
 *
td
);

897 
	`th»ad_uÁh»ad
(
th»ad
 *
td
);

898 
	`th»ad_wa™
(
´oc
 *
p
);

899 
th»ad
 *
	`th»ad_fšd
(
´oc
 *
p
, 
lwpid_t
 
tid
);

901 
__šlše
 

902 
	$cu¹h»ad_pæags_£t
(
æags
)

904 
th»ad
 *
td
;

905 
§ve
;

907 
td
 = 
cu¹h»ad
;

908 
§ve
 = ~
æags
 | (
td
->
td_pæags
 & flags);

909 
td
->
td_pæags
 |ğ
æags
;

910  (
§ve
);

911 
	}
}

913 
__šlše
 

914 
	$cu¹h»ad_pæags_»¡Üe
(
§ve
)

917 
cu¹h»ad
->
td_pæags
 &ğ
§ve
;

918 
	}
}

	@/usr/include/sys/queue.h

33 #iâdeà
_SYS_QUEUE_H_


34 
	#_SYS_QUEUE_H_


	)

36 
	~<sys/cdefs.h
>

105 #ifdeà
QUEUE_MACRO_DEBUG


107 
	sqm_Œaû
 {

108 * 
	mÏ¡fe
;

109 
	mÏ¡lše
;

110 * 
	m´evfe
;

111 
	m´evlše
;

114 
	#TRACEBUF
 
qm_Œaû
 
Œaû
;

	)

115 
	#TRASHIT
(
x
èdØ{(xèğ(*)-1;} 0)

	)

116 
	#QMD_SAVELINK
(
Çme
, 
lšk
è**Çmğ(*)&Öšk)

	)

118 
	#QMD_TRACE_HEAD
(
h—d
) do { \

119 (
h—d
)->
Œaû
.
´evlše
 = (h—d)->Œaû.
Ï¡lše
; \

120 (
h—d
)->
Œaû
.
´evfe
 = (h—d)->Œaû.
Ï¡fe
; \

121 (
h—d
)->
Œaû
.
Ï¡lše
 = 
__LINE__
; \

122 (
h—d
)->
Œaû
.
Ï¡fe
 = 
__FILE__
; \

123 } 0)

	)

125 
	#QMD_TRACE_ELEM
(
–em
) do { \

126 (
–em
)->
Œaû
.
´evlše
 = (–em)->Œaû.
Ï¡lše
; \

127 (
–em
)->
Œaû
.
´evfe
 = (–em)->Œaû.
Ï¡fe
; \

128 (
–em
)->
Œaû
.
Ï¡lše
 = 
__LINE__
; \

129 (
–em
)->
Œaû
.
Ï¡fe
 = 
__FILE__
; \

130 } 0)

	)

133 
	#QMD_TRACE_ELEM
(
–em
)

	)

134 
	#QMD_TRACE_HEAD
(
h—d
)

	)

135 
	#QMD_SAVELINK
(
Çme
, 
lšk
)

	)

136 
	#TRACEBUF


	)

137 
	#TRASHIT
(
x
)

	)

143 
	#SLIST_HEAD
(
Çme
, 
ty³
) \

144 
	sÇme
 { \

145 
ty³
 *
¦h_fœ¡
; \

146 }

	)

148 
	#SLIST_HEAD_INITIALIZER
(
h—d
) \

149 { 
NULL
 }

	)

151 
	#SLIST_ENTRY
(
ty³
) \

153 
ty³
 *
¦e_Ãxt
; \

154 }

	)

159 
	#SLIST_EMPTY
(
h—d
è((h—d)->
¦h_fœ¡
 =ğ
NULL
)

	)

161 
	#SLIST_FIRST
(
h—d
è((h—d)->
¦h_fœ¡
)

	)

163 
	#SLIST_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

164 (
v¬
èğ
	`SLIST_FIRST
((
h—d
)); \

165 (
v¬
); \

166 (
v¬
èğ
	`SLIST_NEXT
((v¬), 
f›ld
))

	)

168 
	#SLIST_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

169 (
v¬
èğ
	`SLIST_FIRST
((
h—d
)); \

170 (
v¬
è&& ((
tv¬
èğ
	`SLIST_NEXT
((v¬), 
f›ld
), 1); \

171 (
v¬
èğ(
tv¬
))

	)

173 
	#SLIST_FOREACH_PREVPTR
(
v¬
, 
v¬p
, 
h—d
, 
f›ld
) \

174 (
v¬p
èğ&
	`SLIST_FIRST
((
h—d
)); \

175 ((
v¬
èğ*(
v¬p
)è!ğ
NULL
; \

176 (
v¬p
èğ&
	`SLIST_NEXT
((
v¬
), 
f›ld
))

	)

178 
	#SLIST_INIT
(
h—d
) do { \

179 
	`SLIST_FIRST
((
h—d
)èğ
NULL
; \

180 } 0)

	)

182 
	#SLIST_INSERT_AFTER
(
¦i¡–m
, 
–m
, 
f›ld
) do { \

183 
	`SLIST_NEXT
((
–m
), 
f›ld
èğSLIST_NEXT((
¦i¡–m
), field); \

184 
	`SLIST_NEXT
((
¦i¡–m
), 
f›ld
èğ(
–m
); \

185 } 0)

	)

187 
	#SLIST_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

188 
	`SLIST_NEXT
((
–m
), 
f›ld
èğ
	`SLIST_FIRST
((
h—d
)); \

189 
	`SLIST_FIRST
((
h—d
)èğ(
–m
); \

190 } 0)

	)

192 
	#SLIST_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
¦e_Ãxt
)

	)

194 
	#SLIST_REMOVE
(
h—d
, 
–m
, 
ty³
, 
f›ld
) do { \

195 
	`QMD_SAVELINK
(
ŞdÃxt
, (
–m
)->
f›ld
.
¦e_Ãxt
); \

196 ià(
	`SLIST_FIRST
((
h—d
)è=ğ(
–m
)) { \

197 
	`SLIST_REMOVE_HEAD
((
h—d
), 
f›ld
); \

200 
ty³
 *
cu»lm
 = 
	`SLIST_FIRST
((
h—d
)); \

201 
	`SLIST_NEXT
(
cu»lm
, 
f›ld
è!ğ(
–m
)) \

202 
cu»lm
 = 
	`SLIST_NEXT
(cu»lm, 
f›ld
); \

203 
	`SLIST_REMOVE_AFTER
(
cu»lm
, 
f›ld
); \

205 
	`TRASHIT
(*
ŞdÃxt
); \

206 } 0)

	)

208 
	#SLIST_REMOVE_AFTER
(
–m
, 
f›ld
) do { \

209 
	`SLIST_NEXT
(
–m
, 
f›ld
) = \

210 
	`SLIST_NEXT
(SLIST_NEXT(
–m
, 
f›ld
), field); \

211 } 0)

	)

213 
	#SLIST_REMOVE_HEAD
(
h—d
, 
f›ld
) do { \

214 
	`SLIST_FIRST
((
h—d
)èğ
	`SLIST_NEXT
(SLIST_FIRST((h—d)), 
f›ld
); \

215 } 0)

	)

217 
	#SLIST_SWAP
(
h—d1
, 
h—d2
, 
ty³
) do { \

218 
ty³
 *
sw­_fœ¡
 = 
	`SLIST_FIRST
(
h—d1
); \

219 
	`SLIST_FIRST
(
h—d1
èğSLIST_FIRST(
h—d2
); \

220 
	`SLIST_FIRST
(
h—d2
èğ
sw­_fœ¡
; \

221 } 0)

	)

226 
	#STAILQ_HEAD
(
Çme
, 
ty³
) \

227 
	sÇme
 { \

228 
ty³
 *
¡qh_fœ¡
; \

229 
ty³
 **
¡qh_Ï¡
; \

230 }

	)

232 
	#STAILQ_HEAD_INITIALIZER
(
h—d
) \

233 { 
NULL
, &(
h—d
).
¡qh_fœ¡
 }

	)

235 
	#STAILQ_ENTRY
(
ty³
) \

237 
ty³
 *
¡qe_Ãxt
; \

238 }

	)

243 
	#STAILQ_CONCAT
(
h—d1
, 
h—d2
) do { \

244 ià(!
	`STAILQ_EMPTY
((
h—d2
))) { \

245 *(
h—d1
)->
¡qh_Ï¡
 = (
h—d2
)->
¡qh_fœ¡
; \

246 (
h—d1
)->
¡qh_Ï¡
 = (
h—d2
)->stqh_last; \

247 
	`STAILQ_INIT
((
h—d2
)); \

249 } 0)

	)

251 
	#STAILQ_EMPTY
(
h—d
è((h—d)->
¡qh_fœ¡
 =ğ
NULL
)

	)

253 
	#STAILQ_FIRST
(
h—d
è((h—d)->
¡qh_fœ¡
)

	)

255 
	#STAILQ_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

256 (
v¬
èğ
	`STAILQ_FIRST
((
h—d
)); \

257 (
v¬
); \

258 (
v¬
èğ
	`STAILQ_NEXT
((v¬), 
f›ld
))

	)

261 
	#STAILQ_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

262 (
v¬
èğ
	`STAILQ_FIRST
((
h—d
)); \

263 (
v¬
è&& ((
tv¬
èğ
	`STAILQ_NEXT
((v¬), 
f›ld
), 1); \

264 (
v¬
èğ(
tv¬
))

	)

266 
	#STAILQ_INIT
(
h—d
) do { \

267 
	`STAILQ_FIRST
((
h—d
)èğ
NULL
; \

268 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
((head)); \

269 } 0)

	)

271 
	#STAILQ_INSERT_AFTER
(
h—d
, 
tq–m
, 
–m
, 
f›ld
) do { \

272 ià((
	`STAILQ_NEXT
((
–m
), 
f›ld
èğSTAILQ_NEXT((
tq–m
), f›ld)è=ğ
NULL
)\

273 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

274 
	`STAILQ_NEXT
((
tq–m
), 
f›ld
èğ(
–m
); \

275 } 0)

	)

277 
	#STAILQ_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

278 ià((
	`STAILQ_NEXT
((
–m
), 
f›ld
èğ
	`STAILQ_FIRST
((
h—d
))è=ğ
NULL
) \

279 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

280 
	`STAILQ_FIRST
((
h—d
)èğ(
–m
); \

281 } 0)

	)

283 
	#STAILQ_INSERT_TAIL
(
h—d
, 
–m
, 
f›ld
) do { \

284 
	`STAILQ_NEXT
((
–m
), 
f›ld
èğ
NULL
; \

285 *(
h—d
)->
¡qh_Ï¡
 = (
–m
); \

286 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

287 } 0)

	)

289 
	#STAILQ_LAST
(
h—d
, 
ty³
, 
f›ld
) \

290 (
	`STAILQ_EMPTY
((
h—d
)) ? \

291 
NULL
 : \

292 ((
ty³
 *)(*) \

293 ((*)((
h—d
)->
¡qh_Ï¡
è- 
	`__off£tof
(
ty³
, 
f›ld
))))

	)

295 
	#STAILQ_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
¡qe_Ãxt
)

	)

297 
	#STAILQ_REMOVE
(
h—d
, 
–m
, 
ty³
, 
f›ld
) do { \

298 
	`QMD_SAVELINK
(
ŞdÃxt
, (
–m
)->
f›ld
.
¡qe_Ãxt
); \

299 ià(
	`STAILQ_FIRST
((
h—d
)è=ğ(
–m
)) { \

300 
	`STAILQ_REMOVE_HEAD
((
h—d
), 
f›ld
); \

303 
ty³
 *
cu»lm
 = 
	`STAILQ_FIRST
((
h—d
)); \

304 
	`STAILQ_NEXT
(
cu»lm
, 
f›ld
è!ğ(
–m
)) \

305 
cu»lm
 = 
	`STAILQ_NEXT
(cu»lm, 
f›ld
); \

306 
	`STAILQ_REMOVE_AFTER
(
h—d
, 
cu»lm
, 
f›ld
); \

308 
	`TRASHIT
(*
ŞdÃxt
); \

309 } 0)

	)

311 
	#STAILQ_REMOVE_AFTER
(
h—d
, 
–m
, 
f›ld
) do { \

312 ià((
	`STAILQ_NEXT
(
–m
, 
f›ld
) = \

313 
	`STAILQ_NEXT
(STAILQ_NEXT(
–m
, 
f›ld
), f›ld)è=ğ
NULL
) \

314 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

315 } 0)

	)

317 
	#STAILQ_REMOVE_HEAD
(
h—d
, 
f›ld
) do { \

318 ià((
	`STAILQ_FIRST
((
h—d
)) = \

319 
	`STAILQ_NEXT
(
	`STAILQ_FIRST
((
h—d
)), 
f›ld
)è=ğ
NULL
) \

320 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
((head)); \

321 } 0)

	)

323 
	#STAILQ_SWAP
(
h—d1
, 
h—d2
, 
ty³
) do { \

324 
ty³
 *
sw­_fœ¡
 = 
	`STAILQ_FIRST
(
h—d1
); \

325 
ty³
 **
sw­_Ï¡
 = (
h—d1
)->
¡qh_Ï¡
; \

326 
	`STAILQ_FIRST
(
h—d1
èğSTAILQ_FIRST(
h—d2
); \

327 (
h—d1
)->
¡qh_Ï¡
 = (
h—d2
)->stqh_last; \

328 
	`STAILQ_FIRST
(
h—d2
èğ
sw­_fœ¡
; \

329 (
h—d2
)->
¡qh_Ï¡
 = 
sw­_Ï¡
; \

330 ià(
	`STAILQ_EMPTY
(
h—d1
)) \

331 (
h—d1
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
(head1); \

332 ià(
	`STAILQ_EMPTY
(
h—d2
)) \

333 (
h—d2
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
(head2); \

334 } 0)

	)

340 
	#LIST_HEAD
(
Çme
, 
ty³
) \

341 
	sÇme
 { \

342 
ty³
 *
lh_fœ¡
; \

343 }

	)

345 
	#LIST_HEAD_INITIALIZER
(
h—d
) \

346 { 
NULL
 }

	)

348 
	#LIST_ENTRY
(
ty³
) \

350 
ty³
 *
Ë_Ãxt
; \

351 
ty³
 **
Ë_´ev
; \

352 }

	)

358 #ià(
defšed
(
_KERNEL
è&& defšed(
INVARIANTS
))

359 
	#QMD_LIST_CHECK_HEAD
(
h—d
, 
f›ld
) do { \

360 ià(
	`LIST_FIRST
((
h—d
)è!ğ
NULL
 && \

361 
	`LIST_FIRST
((
h—d
))->
f›ld
.
Ë_´ev
 != \

362 &
	`LIST_FIRST
((
h—d
))) \

363 
	`·nic
("Bad†i¡ h—d %°fœ¡->´ev !ğh—d", (
h—d
)); \

364 } 0)

	)

366 
	#QMD_LIST_CHECK_NEXT
(
–m
, 
f›ld
) do { \

367 ià(
	`LIST_NEXT
((
–m
), 
f›ld
è!ğ
NULL
 && \

368 
	`LIST_NEXT
((
–m
), 
f›ld
)->f›ld.
Ë_´ev
 != \

369 &((
–m
)->
f›ld
.
Ë_Ãxt
)) \

370 
	`·nic
("Bad†škƒlm %°Ãxt->´ev !ğ–m", (
–m
)); \

371 } 0)

	)

373 
	#QMD_LIST_CHECK_PREV
(
–m
, 
f›ld
) do { \

374 ià(*(
–m
)->
f›ld
.
Ë_´ev
 != (elm)) \

375 
	`·nic
("Bad†škƒlm %°´ev->Ãxˆ!ğ–m", (
–m
)); \

376 } 0)

	)

378 
	#QMD_LIST_CHECK_HEAD
(
h—d
, 
f›ld
)

	)

379 
	#QMD_LIST_CHECK_NEXT
(
–m
, 
f›ld
)

	)

380 
	#QMD_LIST_CHECK_PREV
(
–m
, 
f›ld
)

	)

383 
	#LIST_EMPTY
(
h—d
è((h—d)->
lh_fœ¡
 =ğ
NULL
)

	)

385 
	#LIST_FIRST
(
h—d
è((h—d)->
lh_fœ¡
)

	)

387 
	#LIST_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

388 (
v¬
èğ
	`LIST_FIRST
((
h—d
)); \

389 (
v¬
); \

390 (
v¬
èğ
	`LIST_NEXT
((v¬), 
f›ld
))

	)

392 
	#LIST_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

393 (
v¬
èğ
	`LIST_FIRST
((
h—d
)); \

394 (
v¬
è&& ((
tv¬
èğ
	`LIST_NEXT
((v¬), 
f›ld
), 1); \

395 (
v¬
èğ(
tv¬
))

	)

397 
	#LIST_INIT
(
h—d
) do { \

398 
	`LIST_FIRST
((
h—d
)èğ
NULL
; \

399 } 0)

	)

401 
	#LIST_INSERT_AFTER
(
li¡–m
, 
–m
, 
f›ld
) do { \

402 
	`QMD_LIST_CHECK_NEXT
(
li¡–m
, 
f›ld
); \

403 ià((
	`LIST_NEXT
((
–m
), 
f›ld
èğLIST_NEXT((
li¡–m
), f›ld)è!ğ
NULL
)\

404 
	`LIST_NEXT
((
li¡–m
), 
f›ld
)->f›ld.
Ë_´ev
 = \

405 &
	`LIST_NEXT
((
–m
), 
f›ld
); \

406 
	`LIST_NEXT
((
li¡–m
), 
f›ld
èğ(
–m
); \

407 (
–m
)->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
((
li¡–m
), field); \

408 } 0)

	)

410 
	#LIST_INSERT_BEFORE
(
li¡–m
, 
–m
, 
f›ld
) do { \

411 
	`QMD_LIST_CHECK_PREV
(
li¡–m
, 
f›ld
); \

412 (
–m
)->
f›ld
.
Ë_´ev
 = (
li¡–m
)->field.le_prev; \

413 
	`LIST_NEXT
((
–m
), 
f›ld
èğ(
li¡–m
); \

414 *(
li¡–m
)->
f›ld
.
Ë_´ev
 = (
–m
); \

415 (
li¡–m
)->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
((
–m
), field); \

416 } 0)

	)

418 
	#LIST_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

419 
	`QMD_LIST_CHECK_HEAD
((
h—d
), 
f›ld
); \

420 ià((
	`LIST_NEXT
((
–m
), 
f›ld
èğ
	`LIST_FIRST
((
h—d
))è!ğ
NULL
) \

421 
	`LIST_FIRST
((
h—d
))->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
((
–m
), field);\

422 
	`LIST_FIRST
((
h—d
)èğ(
–m
); \

423 (
–m
)->
f›ld
.
Ë_´ev
 = &
	`LIST_FIRST
((
h—d
)); \

424 } 0)

	)

426 
	#LIST_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
Ë_Ãxt
)

	)

428 
	#LIST_REMOVE
(
–m
, 
f›ld
) do { \

429 
	`QMD_SAVELINK
(
ŞdÃxt
, (
–m
)->
f›ld
.
Ë_Ãxt
); \

430 
	`QMD_SAVELINK
(
Şd´ev
, (
–m
)->
f›ld
.
Ë_´ev
); \

431 
	`QMD_LIST_CHECK_NEXT
(
–m
, 
f›ld
); \

432 
	`QMD_LIST_CHECK_PREV
(
–m
, 
f›ld
); \

433 ià(
	`LIST_NEXT
((
–m
), 
f›ld
è!ğ
NULL
) \

434 
	`LIST_NEXT
((
–m
), 
f›ld
)->f›ld.
Ë_´ev
 = \

435 (
–m
)->
f›ld
.
Ë_´ev
; \

436 *(
–m
)->
f›ld
.
Ë_´ev
 = 
	`LIST_NEXT
((elm), field); \

437 
	`TRASHIT
(*
ŞdÃxt
); \

438 
	`TRASHIT
(*
Şd´ev
); \

439 } 0)

	)

441 
	#LIST_SWAP
(
h—d1
, 
h—d2
, 
ty³
, 
f›ld
) do { \

442 
ty³
 *
sw­_tmp
 = 
	`LIST_FIRST
((
h—d1
)); \

443 
	`LIST_FIRST
((
h—d1
)èğLIST_FIRST((
h—d2
)); \

444 
	`LIST_FIRST
((
h—d2
)èğ
sw­_tmp
; \

445 ià((
sw­_tmp
 = 
	`LIST_FIRST
((
h—d1
))è!ğ
NULL
) \

446 
sw­_tmp
->
f›ld
.
Ë_´ev
 = &
	`LIST_FIRST
((
h—d1
)); \

447 ià((
sw­_tmp
 = 
	`LIST_FIRST
((
h—d2
))è!ğ
NULL
) \

448 
sw­_tmp
->
f›ld
.
Ë_´ev
 = &
	`LIST_FIRST
((
h—d2
)); \

449 } 0)

	)

454 
	#TAILQ_HEAD
(
Çme
, 
ty³
) \

455 
	sÇme
 { \

456 
ty³
 *
tqh_fœ¡
; \

457 
ty³
 **
tqh_Ï¡
; \

458 
TRACEBUF
 \

459 }

	)

461 
	#TAILQ_HEAD_INITIALIZER
(
h—d
) \

462 { 
NULL
, &(
h—d
).
tqh_fœ¡
 }

	)

464 
	#TAILQ_ENTRY
(
ty³
) \

466 
ty³
 *
tqe_Ãxt
; \

467 
ty³
 **
tqe_´ev
; \

468 
TRACEBUF
 \

469 }

	)

474 #ià(
defšed
(
_KERNEL
è&& defšed(
INVARIANTS
))

475 
	#QMD_TAILQ_CHECK_HEAD
(
h—d
, 
f›ld
) do { \

476 ià(!
	`TAILQ_EMPTY
(
h—d
) && \

477 
	`TAILQ_FIRST
((
h—d
))->
f›ld
.
tqe_´ev
 != \

478 &
	`TAILQ_FIRST
((
h—d
))) \

479 
	`·nic
("Badaq h—d %°fœ¡->´ev !ğh—d", (
h—d
)); \

480 } 0)

	)

482 
	#QMD_TAILQ_CHECK_TAIL
(
h—d
, 
f›ld
) do { \

483 ià(*(
h—d
)->
tqh_Ï¡
 !ğ
NULL
) \

484 
	`·nic
("Badaq NEXT(%p->tqh_Ï¡è!ğNULL", (
h—d
)); \

485 } 0)

	)

487 
	#QMD_TAILQ_CHECK_NEXT
(
–m
, 
f›ld
) do { \

488 ià(
	`TAILQ_NEXT
((
–m
), 
f›ld
è!ğ
NULL
 && \

489 
	`TAILQ_NEXT
((
–m
), 
f›ld
)->f›ld.
tqe_´ev
 != \

490 &((
–m
)->
f›ld
.
tqe_Ãxt
)) \

491 
	`·nic
("Bad†škƒlm %°Ãxt->´ev !ğ–m", (
–m
)); \

492 } 0)

	)

494 
	#QMD_TAILQ_CHECK_PREV
(
–m
, 
f›ld
) do { \

495 ià(*(
–m
)->
f›ld
.
tqe_´ev
 != (elm)) \

496 
	`·nic
("Bad†škƒlm %°´ev->Ãxˆ!ğ–m", (
–m
)); \

497 } 0)

	)

499 
	#QMD_TAILQ_CHECK_HEAD
(
h—d
, 
f›ld
)

	)

500 
	#QMD_TAILQ_CHECK_TAIL
(
h—d
, 
h—dÇme
)

	)

501 
	#QMD_TAILQ_CHECK_NEXT
(
–m
, 
f›ld
)

	)

502 
	#QMD_TAILQ_CHECK_PREV
(
–m
, 
f›ld
)

	)

505 
	#TAILQ_CONCAT
(
h—d1
, 
h—d2
, 
f›ld
) do { \

506 ià(!
	`TAILQ_EMPTY
(
h—d2
)) { \

507 *(
h—d1
)->
tqh_Ï¡
 = (
h—d2
)->
tqh_fœ¡
; \

508 (
h—d2
)->
tqh_fœ¡
->
f›ld
.
tqe_´ev
 = (
h—d1
)->
tqh_Ï¡
; \

509 (
h—d1
)->
tqh_Ï¡
 = (
h—d2
)->tqh_last; \

510 
	`TAILQ_INIT
((
h—d2
)); \

511 
	`QMD_TRACE_HEAD
(
h—d1
); \

512 
	`QMD_TRACE_HEAD
(
h—d2
); \

514 } 0)

	)

516 
	#TAILQ_EMPTY
(
h—d
è((h—d)->
tqh_fœ¡
 =ğ
NULL
)

	)

518 
	#TAILQ_FIRST
(
h—d
è((h—d)->
tqh_fœ¡
)

	)

520 
	#TAILQ_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

521 (
v¬
èğ
	`TAILQ_FIRST
((
h—d
)); \

522 (
v¬
); \

523 (
v¬
èğ
	`TAILQ_NEXT
((v¬), 
f›ld
))

	)

525 
	#TAILQ_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

526 (
v¬
èğ
	`TAILQ_FIRST
((
h—d
)); \

527 (
v¬
è&& ((
tv¬
èğ
	`TAILQ_NEXT
((v¬), 
f›ld
), 1); \

528 (
v¬
èğ(
tv¬
))

	)

530 
	#TAILQ_FOREACH_REVERSE
(
v¬
, 
h—d
, 
h—dÇme
, 
f›ld
) \

531 (
v¬
èğ
	`TAILQ_LAST
((
h—d
), 
h—dÇme
); \

532 (
v¬
); \

533 (
v¬
èğ
	`TAILQ_PREV
((v¬), 
h—dÇme
, 
f›ld
))

	)

535 
	#TAILQ_FOREACH_REVERSE_SAFE
(
v¬
, 
h—d
, 
h—dÇme
, 
f›ld
, 
tv¬
) \

536 (
v¬
èğ
	`TAILQ_LAST
((
h—d
), 
h—dÇme
); \

537 (
v¬
è&& ((
tv¬
èğ
	`TAILQ_PREV
((v¬), 
h—dÇme
, 
f›ld
), 1); \

538 (
v¬
èğ(
tv¬
))

	)

540 
	#TAILQ_INIT
(
h—d
) do { \

541 
	`TAILQ_FIRST
((
h—d
)èğ
NULL
; \

542 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_FIRST
((head)); \

543 
	`QMD_TRACE_HEAD
(
h—d
); \

544 } 0)

	)

546 
	#TAILQ_INSERT_AFTER
(
h—d
, 
li¡–m
, 
–m
, 
f›ld
) do { \

547 
	`QMD_TAILQ_CHECK_NEXT
(
li¡–m
, 
f›ld
); \

548 ià((
	`TAILQ_NEXT
((
–m
), 
f›ld
èğTAILQ_NEXT((
li¡–m
), f›ld)è!ğ
NULL
)\

549 
	`TAILQ_NEXT
((
–m
), 
f›ld
)->f›ld.
tqe_´ev
 = \

550 &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

552 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

553 
	`QMD_TRACE_HEAD
(
h—d
); \

555 
	`TAILQ_NEXT
((
li¡–m
), 
f›ld
èğ(
–m
); \

556 (
–m
)->
f›ld
.
tqe_´ev
 = &
	`TAILQ_NEXT
((
li¡–m
), field); \

557 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

558 
	`QMD_TRACE_ELEM
(&
li¡–m
->
f›ld
); \

559 } 0)

	)

561 
	#TAILQ_INSERT_BEFORE
(
li¡–m
, 
–m
, 
f›ld
) do { \

562 
	`QMD_TAILQ_CHECK_PREV
(
li¡–m
, 
f›ld
); \

563 (
–m
)->
f›ld
.
tqe_´ev
 = (
li¡–m
)->field.tqe_prev; \

564 
	`TAILQ_NEXT
((
–m
), 
f›ld
èğ(
li¡–m
); \

565 *(
li¡–m
)->
f›ld
.
tqe_´ev
 = (
–m
); \

566 (
li¡–m
)->
f›ld
.
tqe_´ev
 = &
	`TAILQ_NEXT
((
–m
), field); \

567 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

568 
	`QMD_TRACE_ELEM
(&
li¡–m
->
f›ld
); \

569 } 0)

	)

571 
	#TAILQ_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

572 
	`QMD_TAILQ_CHECK_HEAD
(
h—d
, 
f›ld
); \

573 ià((
	`TAILQ_NEXT
((
–m
), 
f›ld
èğ
	`TAILQ_FIRST
((
h—d
))è!ğ
NULL
) \

574 
	`TAILQ_FIRST
((
h—d
))->
f›ld
.
tqe_´ev
 = \

575 &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

577 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

578 
	`TAILQ_FIRST
((
h—d
)èğ(
–m
); \

579 (
–m
)->
f›ld
.
tqe_´ev
 = &
	`TAILQ_FIRST
((
h—d
)); \

580 
	`QMD_TRACE_HEAD
(
h—d
); \

581 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

582 } 0)

	)

584 
	#TAILQ_INSERT_TAIL
(
h—d
, 
–m
, 
f›ld
) do { \

585 
	`QMD_TAILQ_CHECK_TAIL
(
h—d
, 
f›ld
); \

586 
	`TAILQ_NEXT
((
–m
), 
f›ld
èğ
NULL
; \

587 (
–m
)->
f›ld
.
tqe_´ev
 = (
h—d
)->
tqh_Ï¡
; \

588 *(
h—d
)->
tqh_Ï¡
 = (
–m
); \

589 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

590 
	`QMD_TRACE_HEAD
(
h—d
); \

591 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

592 } 0)

	)

594 
	#TAILQ_LAST
(
h—d
, 
h—dÇme
) \

595 (*(((
h—dÇme
 *)((
h—d
)->
tqh_Ï¡
))->tqh_Ï¡))

	)

597 
	#TAILQ_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
tqe_Ãxt
)

	)

599 
	#TAILQ_PREV
(
–m
, 
h—dÇme
, 
f›ld
) \

600 (*(((
h—dÇme
 *)((
–m
)->
f›ld
.
tqe_´ev
))->
tqh_Ï¡
))

	)

602 
	#TAILQ_REMOVE
(
h—d
, 
–m
, 
f›ld
) do { \

603 
	`QMD_SAVELINK
(
ŞdÃxt
, (
–m
)->
f›ld
.
tqe_Ãxt
); \

604 
	`QMD_SAVELINK
(
Şd´ev
, (
–m
)->
f›ld
.
tqe_´ev
); \

605 
	`QMD_TAILQ_CHECK_NEXT
(
–m
, 
f›ld
); \

606 
	`QMD_TAILQ_CHECK_PREV
(
–m
, 
f›ld
); \

607 ià((
	`TAILQ_NEXT
((
–m
), 
f›ld
)è!ğ
NULL
) \

608 
	`TAILQ_NEXT
((
–m
), 
f›ld
)->f›ld.
tqe_´ev
 = \

609 (
–m
)->
f›ld
.
tqe_´ev
; \

611 (
h—d
)->
tqh_Ï¡
 = (
–m
)->
f›ld
.
tqe_´ev
; \

612 
	`QMD_TRACE_HEAD
(
h—d
); \

614 *(
–m
)->
f›ld
.
tqe_´ev
 = 
	`TAILQ_NEXT
((elm), field); \

615 
	`TRASHIT
(*
ŞdÃxt
); \

616 
	`TRASHIT
(*
Şd´ev
); \

617 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

618 } 0)

	)

620 
	#TAILQ_SWAP
(
h—d1
, 
h—d2
, 
ty³
, 
f›ld
) do { \

621 
ty³
 *
sw­_fœ¡
 = (
h—d1
)->
tqh_fœ¡
; \

622 
ty³
 **
sw­_Ï¡
 = (
h—d1
)->
tqh_Ï¡
; \

623 (
h—d1
)->
tqh_fœ¡
 = (
h—d2
)->tqh_first; \

624 (
h—d1
)->
tqh_Ï¡
 = (
h—d2
)->tqh_last; \

625 (
h—d2
)->
tqh_fœ¡
 = 
sw­_fœ¡
; \

626 (
h—d2
)->
tqh_Ï¡
 = 
sw­_Ï¡
; \

627 ià((
sw­_fœ¡
 = (
h—d1
)->
tqh_fœ¡
è!ğ
NULL
) \

628 
sw­_fœ¡
->
f›ld
.
tqe_´ev
 = &(
h—d1
)->
tqh_fœ¡
; \

630 (
h—d1
)->
tqh_Ï¡
 = &(h—d1)->
tqh_fœ¡
; \

631 ià((
sw­_fœ¡
 = (
h—d2
)->
tqh_fœ¡
è!ğ
NULL
) \

632 
sw­_fœ¡
->
f›ld
.
tqe_´ev
 = &(
h—d2
)->
tqh_fœ¡
; \

634 (
h—d2
)->
tqh_Ï¡
 = &(h—d2)->
tqh_fœ¡
; \

635 } 0)

	)

	@/usr/include/sys/resource.h

33 #iâdeà
_SYS_RESOURCE_H_


34 
	#_SYS_RESOURCE_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_timev®.h
>

38 
	~<sys/_ty³s.h
>

43 
	#PRIO_MIN
 -20

	)

44 
	#PRIO_MAX
 20

	)

46 
	#PRIO_PROCESS
 0

	)

47 
	#PRIO_PGRP
 1

	)

48 
	#PRIO_USER
 2

	)

57 
	#RUSAGE_SELF
 0

	)

58 
	#RUSAGE_CHILDREN
 -1

	)

59 
	#RUSAGE_THREAD
 1

	)

61 
	sru§ge
 {

62 
timev®
 
	mru_utime
;

63 
timev®
 
	mru_¡ime
;

64 
	mru_maxrss
;

65 
	#ru_fœ¡
 
ru_ixrss


	)

66 
	mru_ixrss
;

67 
	mru_idrss
;

68 
	mru_i¤ss
;

69 
	mru_mšæt
;

70 
	mru_majæt
;

71 
	mru_nsw­
;

72 
	mru_šblock
;

73 
	mru_oublock
;

74 
	mru_msg¢d
;

75 
	mru_msgrcv
;

76 
	mru_nsigÇls
;

77 
	mru_nvcsw
;

78 
	mru_nivcsw
;

79 
	#ru_Ï¡
 
ru_nivcsw


	)

85 
	#RLIMIT_CPU
 0

	)

86 
	#RLIMIT_FSIZE
 1

	)

87 
	#RLIMIT_DATA
 2

	)

88 
	#RLIMIT_STACK
 3

	)

89 
	#RLIMIT_CORE
 4

	)

90 
	#RLIMIT_RSS
 5

	)

91 
	#RLIMIT_MEMLOCK
 6

	)

92 
	#RLIMIT_NPROC
 7

	)

93 
	#RLIMIT_NOFILE
 8

	)

94 
	#RLIMIT_SBSIZE
 9

	)

95 
	#RLIMIT_VMEM
 10

	)

96 
	#RLIMIT_AS
 
RLIMIT_VMEM


	)

97 
	#RLIMIT_NPTS
 11

	)

98 
	#RLIMIT_SWAP
 12

	)

100 
	#RLIM_NLIMITS
 13

	)

102 
	#RLIM_INFINITY
 ((
¾im_t
)(((
ušt64_t
)1 << 63è- 1))

	)

110 #ifdeà
_RLIMIT_IDENT


111 cÚ¡ *
	g¾im™_id’t
[
RLIM_NLIMITS
] = {

128 #iâdeà
_RLIM_T_DECLARED


129 
__¾im_t
 
	t¾im_t
;

130 
	#_RLIM_T_DECLARED


	)

133 
	s¾im™
 {

134 
¾im_t
 
	m¾im_cur
;

135 
¾im_t
 
	m¾im_max
;

138 #ià
__BSD_VISIBLE


140 
	sÜlim™
 {

141 
__št32_t
 
	m¾im_cur
;

142 
__št32_t
 
	m¾im_max
;

145 
	slßdavg
 {

146 
__fix±_t
 
	mldavg
[3];

147 
	mfsÿË
;

150 
	#CP_USER
 0

	)

151 
	#CP_NICE
 1

	)

152 
	#CP_SYS
 2

	)

153 
	#CP_INTR
 3

	)

154 
	#CP_IDLE
 4

	)

155 
	#CPUSTATES
 5

	)

159 #ifdeà
_KERNEL


161 
lßdavg
 
av”uÂabË
;

162 
»ad_ıu_time
(*
ı_time
);

166 
__BEGIN_DECLS


168 
g‘´iÜ™y
(, );

169 
g‘¾im™
(, 
¾im™
 *);

170 
g‘ru§ge
(, 
ru§ge
 *);

171 
£riÜ™y
(, , );

172 
£Œlim™
(, cÚ¡ 
¾im™
 *);

173 
	g__END_DECLS


	@/usr/include/sys/socket.h

33 #iâdeà
_SYS_SOCKET_H_


34 
	#_SYS_SOCKET_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

38 
	~<sys/_iovec.h
>

39 
	#_NO_NAMESPACE_POLLUTION


	)

40 
	~<machše/·¿m.h
>

41 #undeà
_NO_NAMESPACE_POLLUTION


50 #ià
__BSD_VISIBLE


51 #iâdeà
_GID_T_DECLARED


52 
__gid_t
 
	tgid_t
;

53 
	#_GID_T_DECLARED


	)

56 #iâdeà
_OFF_T_DECLARED


57 
__off_t
 
	toff_t
;

58 
	#_OFF_T_DECLARED


	)

61 #iâdeà
_PID_T_DECLARED


62 
__pid_t
 
	tpid_t
;

63 
	#_PID_T_DECLARED


	)

67 #iâdeà
_SA_FAMILY_T_DECLARED


68 
__§_çmy_t
 
	t§_çmy_t
;

69 
	#_SA_FAMILY_T_DECLARED


	)

72 #iâdeà
_SOCKLEN_T_DECLARED


73 
__sockËn_t
 
	tsockËn_t
;

74 
	#_SOCKLEN_T_DECLARED


	)

77 #iâdeà
_SSIZE_T_DECLARED


78 
__ssize_t
 
	tssize_t
;

79 
	#_SSIZE_T_DECLARED


	)

82 #ià
__BSD_VISIBLE


83 #iâdeà
_UID_T_DECLARED


84 
__uid_t
 
	tuid_t
;

85 
	#_UID_T_DECLARED


	)

92 
	#SOCK_STREAM
 1

	)

93 
	#SOCK_DGRAM
 2

	)

94 
	#SOCK_RAW
 3

	)

95 #ià
__BSD_VISIBLE


96 
	#SOCK_RDM
 4

	)

98 
	#SOCK_SEQPACKET
 5

	)

103 
	#SO_DEBUG
 0x0001

	)

104 
	#SO_ACCEPTCONN
 0x0002

	)

105 
	#SO_REUSEADDR
 0x0004

	)

106 
	#SO_KEEPALIVE
 0x0008

	)

107 
	#SO_DONTROUTE
 0x0010

	)

108 
	#SO_BROADCAST
 0x0020

	)

109 #ià
__BSD_VISIBLE


110 
	#SO_USELOOPBACK
 0x0040

	)

112 
	#SO_LINGER
 0x0080

	)

113 
	#SO_OOBINLINE
 0x0100

	)

114 #ià
__BSD_VISIBLE


115 
	#SO_REUSEPORT
 0x0200

	)

116 
	#SO_TIMESTAMP
 0x0400

	)

117 
	#SO_NOSIGPIPE
 0x0800

	)

118 
	#SO_ACCEPTFILTER
 0x1000

	)

119 
	#SO_BINTIME
 0x2000

	)

121 
	#SO_NO_OFFLOAD
 0x4000

	)

122 
	#SO_NO_DDP
 0x8000

	)

127 
	#SO_SNDBUF
 0x1001

	)

128 
	#SO_RCVBUF
 0x1002

	)

129 
	#SO_SNDLOWAT
 0x1003

	)

130 
	#SO_RCVLOWAT
 0x1004

	)

131 
	#SO_SNDTIMEO
 0x1005

	)

132 
	#SO_RCVTIMEO
 0x1006

	)

133 
	#SO_ERROR
 0x1007

	)

134 
	#SO_TYPE
 0x1008

	)

135 #ià
__BSD_VISIBLE


136 
	#SO_LABEL
 0x1009

	)

137 
	#SO_PEERLABEL
 0x1010

	)

138 
	#SO_LISTENQLIMIT
 0x1011

	)

139 
	#SO_LISTENQLEN
 0x1012

	)

140 
	#SO_LISTENINCQLEN
 0x1013

	)

141 
	#SO_SETFIB
 0x1014

	)

147 
	slšg”
 {

148 
	ml_Úoff
;

149 
	ml_lšg”
;

152 #ià
__BSD_VISIBLE


153 
	sacû±_f‹r_¬g
 {

154 
	maf_Çme
[16];

155 
	maf_¬g
[256-16];

162 
	#SOL_SOCKET
 0xfffà

	)

167 
	#AF_UNSPEC
 0

	)

168 #ià
__BSD_VISIBLE


169 
	#AF_LOCAL
 
AF_UNIX


	)

171 
	#AF_UNIX
 1

	)

172 
	#AF_INET
 2

	)

173 #ià
__BSD_VISIBLE


174 
	#AF_IMPLINK
 3

	)

175 
	#AF_PUP
 4

	)

176 
	#AF_CHAOS
 5

	)

177 
	#AF_NETBIOS
 6

	)

178 
	#AF_ISO
 7

	)

179 
	#AF_OSI
 
AF_ISO


	)

180 
	#AF_ECMA
 8

	)

181 
	#AF_DATAKIT
 9

	)

182 
	#AF_CCITT
 10

	)

183 
	#AF_SNA
 11

	)

184 
	#AF_DECÃt
 12

	)

185 
	#AF_DLI
 13

	)

186 
	#AF_LAT
 14

	)

187 
	#AF_HYLINK
 15

	)

188 
	#AF_APPLETALK
 16

	)

189 
	#AF_ROUTE
 17

	)

190 
	#AF_LINK
 18

	)

191 
	#p£udo_AF_XTP
 19

	)

192 
	#AF_COIP
 20

	)

193 
	#AF_CNT
 21

	)

194 
	#p£udo_AF_RTIP
 22

	)

195 
	#AF_IPX
 23

	)

196 
	#AF_SIP
 24

	)

197 
	#p£udo_AF_PIP
 25

	)

198 
	#AF_ISDN
 26

	)

199 
	#AF_E164
 
AF_ISDN


	)

200 
	#p£udo_AF_KEY
 27

	)

202 
	#AF_INET6
 28

	)

203 #ià
__BSD_VISIBLE


204 
	#AF_NATM
 29

	)

205 
	#AF_ATM
 30

	)

206 
	#p£udo_AF_HDRCMPLT
 31

	)

209 
	#AF_NETGRAPH
 32

	)

210 
	#AF_SLOW
 33

	)

211 
	#AF_SCLUSTER
 34

	)

212 
	#AF_ARP
 35

	)

213 
	#AF_BLUETOOTH
 36

	)

214 
	#AF_IEEE80211
 37

	)

215 
	#AF_MAX
 38

	)

221 
	#AF_VENDOR00
 39

	)

222 
	#AF_VENDOR01
 41

	)

223 
	#AF_VENDOR02
 43

	)

224 
	#AF_VENDOR03
 45

	)

225 
	#AF_VENDOR04
 47

	)

226 
	#AF_VENDOR05
 49

	)

227 
	#AF_VENDOR06
 51

	)

228 
	#AF_VENDOR07
 53

	)

229 
	#AF_VENDOR08
 55

	)

230 
	#AF_VENDOR09
 57

	)

231 
	#AF_VENDOR10
 59

	)

232 
	#AF_VENDOR11
 61

	)

233 
	#AF_VENDOR12
 63

	)

234 
	#AF_VENDOR13
 65

	)

235 
	#AF_VENDOR14
 67

	)

236 
	#AF_VENDOR15
 69

	)

237 
	#AF_VENDOR16
 71

	)

238 
	#AF_VENDOR17
 73

	)

239 
	#AF_VENDOR18
 75

	)

240 
	#AF_VENDOR19
 77

	)

241 
	#AF_VENDOR20
 79

	)

242 
	#AF_VENDOR21
 81

	)

243 
	#AF_VENDOR22
 83

	)

244 
	#AF_VENDOR23
 85

	)

245 
	#AF_VENDOR24
 87

	)

246 
	#AF_VENDOR25
 89

	)

247 
	#AF_VENDOR26
 91

	)

248 
	#AF_VENDOR27
 93

	)

249 
	#AF_VENDOR28
 95

	)

250 
	#AF_VENDOR29
 97

	)

251 
	#AF_VENDOR30
 99

	)

252 
	#AF_VENDOR31
 101

	)

253 
	#AF_VENDOR32
 103

	)

254 
	#AF_VENDOR33
 105

	)

255 
	#AF_VENDOR34
 107

	)

256 
	#AF_VENDOR35
 109

	)

257 
	#AF_VENDOR36
 111

	)

258 
	#AF_VENDOR37
 113

	)

259 
	#AF_VENDOR38
 115

	)

260 
	#AF_VENDOR39
 117

	)

261 
	#AF_VENDOR40
 119

	)

262 
	#AF_VENDOR41
 121

	)

263 
	#AF_VENDOR42
 123

	)

264 
	#AF_VENDOR43
 125

	)

265 
	#AF_VENDOR44
 127

	)

266 
	#AF_VENDOR45
 129

	)

267 
	#AF_VENDOR46
 131

	)

268 
	#AF_VENDOR47
 133

	)

275 
	ssockaddr
 {

276 
	m§_Ën
;

277 
§_çmy_t
 
	m§_çmy
;

278 
	m§_d©a
[14];

280 #ià
__BSD_VISIBLE


281 
	#SOCK_MAXADDRLEN
 255

	)

287 
	ssock´Ùo
 {

288 
	m¥_çmy
;

289 
	m¥_´ÙocŞ
;

293 #iâdef 
_STRUCT_SOCKADDR_STORAGE_DECLARED


297 
	#_SS_MAXSIZE
 128U

	)

298 
	#_SS_ALIGNSIZE
 ((
__št64_t
))

	)

299 
	#_SS_PAD1SIZE
 (
_SS_ALIGNSIZE
 - () - \

300 (
§_çmy_t
))

	)

301 
	#_SS_PAD2SIZE
 (
_SS_MAXSIZE
 - () - \

302 (
§_çmy_t
è- 
_SS_PAD1SIZE
 - 
_SS_ALIGNSIZE
)

	)

304 
	ssockaddr_¡Üage
 {

305 
	mss_Ën
;

306 
§_çmy_t
 
	mss_çmy
;

307 
	m__ss_·d1
[
_SS_PAD1SIZE
];

308 
__št64_t
 
	m__ss_®ign
;

309 
	m__ss_·d2
[
_SS_PAD2SIZE
];

311 
	#_STRUCT_SOCKADDR_STORAGE_DECLARED


	)

314 #ià
__BSD_VISIBLE


318 
	#PF_UNSPEC
 
AF_UNSPEC


	)

319 
	#PF_LOCAL
 
AF_LOCAL


	)

320 
	#PF_UNIX
 
PF_LOCAL


	)

321 
	#PF_INET
 
AF_INET


	)

322 
	#PF_IMPLINK
 
AF_IMPLINK


	)

323 
	#PF_PUP
 
AF_PUP


	)

324 
	#PF_CHAOS
 
AF_CHAOS


	)

325 
	#PF_NETBIOS
 
AF_NETBIOS


	)

326 
	#PF_ISO
 
AF_ISO


	)

327 
	#PF_OSI
 
AF_ISO


	)

328 
	#PF_ECMA
 
AF_ECMA


	)

329 
	#PF_DATAKIT
 
AF_DATAKIT


	)

330 
	#PF_CCITT
 
AF_CCITT


	)

331 
	#PF_SNA
 
AF_SNA


	)

332 
	#PF_DECÃt
 
AF_DECÃt


	)

333 
	#PF_DLI
 
AF_DLI


	)

334 
	#PF_LAT
 
AF_LAT


	)

335 
	#PF_HYLINK
 
AF_HYLINK


	)

336 
	#PF_APPLETALK
 
AF_APPLETALK


	)

337 
	#PF_ROUTE
 
AF_ROUTE


	)

338 
	#PF_LINK
 
AF_LINK


	)

339 
	#PF_XTP
 
p£udo_AF_XTP


	)

340 
	#PF_COIP
 
AF_COIP


	)

341 
	#PF_CNT
 
AF_CNT


	)

342 
	#PF_SIP
 
AF_SIP


	)

343 
	#PF_IPX
 
AF_IPX


	)

344 
	#PF_RTIP
 
p£udo_AF_RTIP


	)

345 
	#PF_PIP
 
p£udo_AF_PIP


	)

346 
	#PF_ISDN
 
AF_ISDN


	)

347 
	#PF_KEY
 
p£udo_AF_KEY


	)

348 
	#PF_INET6
 
AF_INET6


	)

349 
	#PF_NATM
 
AF_NATM


	)

350 
	#PF_ATM
 
AF_ATM


	)

351 
	#PF_NETGRAPH
 
AF_NETGRAPH


	)

352 
	#PF_SLOW
 
AF_SLOW


	)

353 
	#PF_SCLUSTER
 
AF_SCLUSTER


	)

354 
	#PF_ARP
 
AF_ARP


	)

355 
	#PF_BLUETOOTH
 
AF_BLUETOOTH


	)

357 
	#PF_MAX
 
AF_MAX


	)

367 
	#NET_MAXID
 
AF_MAX


	)

369 
	#CTL_NET_NAMES
 { \

371 { "unix", 
CTLTYPE_NODE
 }, \

372 { "š‘", 
CTLTYPE_NODE
 }, \

373 { "im¶šk", 
CTLTYPE_NODE
 }, \

374 { "pup", 
CTLTYPE_NODE
 }, \

375 { "chaos", 
CTLTYPE_NODE
 }, \

376 { "x”ox_ns", 
CTLTYPE_NODE
 }, \

377 { "iso", 
CTLTYPE_NODE
 }, \

378 { "emÿ", 
CTLTYPE_NODE
 }, \

379 { "d©ak™", 
CTLTYPE_NODE
 }, \

380 { "cc™t", 
CTLTYPE_NODE
 }, \

381 { "ibm_¢a", 
CTLTYPE_NODE
 }, \

382 { "deú‘", 
CTLTYPE_NODE
 }, \

383 { "dec_dli", 
CTLTYPE_NODE
 }, \

384 { "Ït", 
CTLTYPE_NODE
 }, \

385 { "hylšk", 
CTLTYPE_NODE
 }, \

386 { "­¶‘®k", 
CTLTYPE_NODE
 }, \

387 { "rou‹", 
CTLTYPE_NODE
 }, \

388 { "lšk_Ïy”", 
CTLTYPE_NODE
 }, \

389 { "x", 
CTLTYPE_NODE
 }, \

390 { "co", 
CTLTYPE_NODE
 }, \

391 { "út", 
CTLTYPE_NODE
 }, \

392 { "¹", 
CTLTYPE_NODE
 }, \

393 { "x", 
CTLTYPE_NODE
 }, \

394 { "s", 
CTLTYPE_NODE
 }, \

395 { "p", 
CTLTYPE_NODE
 }, \

396 { "isdn", 
CTLTYPE_NODE
 }, \

397 { "key", 
CTLTYPE_NODE
 }, \

398 { "š‘6", 
CTLTYPE_NODE
 }, \

399 { "Çtm", 
CTLTYPE_NODE
 }, \

400 { "©m", 
CTLTYPE_NODE
 }, \

401 { "hdrcom¶‘e", 
CTLTYPE_NODE
 }, \

402 { "Ãtg¿ph", 
CTLTYPE_NODE
 }, \

403 { "¢p", 
CTLTYPE_NODE
 }, \

404 { "sı", 
CTLTYPE_NODE
 }, \

405 }

	)

415 
	#NET_RT_DUMP
 1

	)

416 
	#NET_RT_FLAGS
 2

	)

417 
	#NET_RT_IFLIST
 3

	)

418 
	#NET_RT_IFMALIST
 4

	)

419 
	#NET_RT_IFLISTL
 5

	)

421 
	#NET_RT_MAXID
 6

	)

423 
	#CTL_NET_RT_NAMES
 { \

425 { "dump", 
CTLTYPE_STRUCT
 }, \

426 { "æags", 
CTLTYPE_STRUCT
 }, \

427 { "iæi¡", 
CTLTYPE_STRUCT
 }, \

428 { "ifm®i¡", 
CTLTYPE_STRUCT
 }, \

429 { "iæi¡l", 
CTLTYPE_STRUCT
 }, \

430 }

	)

436 
	#SOMAXCONN
 128

	)

442 
	smsghdr
 {

443 *
	mmsg_Çme
;

444 
sockËn_t
 
	mmsg_Çm–’
;

445 
iovec
 *
	mmsg_iov
;

446 
	mmsg_iovËn
;

447 *
	mmsg_cÚŒŞ
;

448 
sockËn_t
 
	mmsg_cÚŒŞËn
;

449 
	mmsg_æags
;

452 
	#MSG_OOB
 0x1

	)

453 
	#MSG_PEEK
 0x2

	)

454 
	#MSG_DONTROUTE
 0x4

	)

455 
	#MSG_EOR
 0x8

	)

456 
	#MSG_TRUNC
 0x10

	)

457 
	#MSG_CTRUNC
 0x20

	)

458 
	#MSG_WAITALL
 0x40

	)

459 
	#MSG_NOTIFICATION
 0x2000

	)

460 #ià
__BSD_VISIBLE


461 
	#MSG_DONTWAIT
 0x80

	)

462 
	#MSG_EOF
 0x100

	)

463 
	#MSG_NBIO
 0x4000

	)

464 
	#MSG_COMPAT
 0x8000

	)

466 #ifdeà
_KERNEL


467 
	#MSG_SOCALLBCK
 0x10000

	)

469 #ià
__BSD_VISIBLE


470 
	#MSG_NOSIGNAL
 0x20000

	)

479 
	scmsghdr
 {

480 
sockËn_t
 
	mcmsg_Ën
;

481 
	mcmsg_Ëv–
;

482 
	mcmsg_ty³
;

486 #ià
__BSD_VISIBLE


492 
	#CMGROUP_MAX
 16

	)

501 
	scmsgüed
 {

502 
pid_t
 
	mcmüed_pid
;

503 
uid_t
 
	mcmüed_uid
;

504 
uid_t
 
	mcmüed_euid
;

505 
gid_t
 
	mcmüed_gid
;

506 
	mcmüed_ngroups
;

507 
gid_t
 
	mcmüed_groups
[
CMGROUP_MAX
];

513 
	ssocküed
 {

514 
uid_t
 
	msc_uid
;

515 
uid_t
 
	msc_euid
;

516 
gid_t
 
	msc_gid
;

517 
gid_t
 
	msc_egid
;

518 
	msc_ngroups
;

519 
gid_t
 
	msc_groups
[1];

525 
	#SOCKCREDSIZE
(
ng½s
) \

526 ((
socküed
è+ ((
gid_t
è* ((
ng½s
è- 1)))

	)

531 
	#CMSG_DATA
(
cmsg
) ((*)(cmsg) + \

532 
	`_ALIGN
((
cmsghdr
)))

	)

535 
	#CMSG_NXTHDR
(
mhdr
, 
cmsg
) \

536 ((*)(
cmsg
è=ğ
NULL
 ? 
	`CMSG_FIRSTHDR
(
mhdr
) : \

537 ((*)(
cmsg
è+ 
	`_ALIGN
(((
cmsghdr
 *)(cmsg))->
cmsg_Ën
) + \

538 
	`_ALIGN
((
cmsghdr
)) > \

539 (*)(
mhdr
)->
msg_cÚŒŞ
 + (mhdr)->
msg_cÚŒŞËn
) ? \

540 (
cmsghdr
 *)0 : \

541 (
cmsghdr
 *)((*)(
cmsg
) + \

542 
	`_ALIGN
(((
cmsghdr
 *)(
cmsg
))->
cmsg_Ën
)))

	)

548 
	#CMSG_FIRSTHDR
(
mhdr
) \

549 ((
mhdr
)->
msg_cÚŒŞËn
 >ğ(
cmsghdr
) ? \

550 (
cmsghdr
 *)(
mhdr
)->
msg_cÚŒŞ
 : \

551 (
cmsghdr
 *)
NULL
)

	)

553 #ià
__BSD_VISIBLE


555 
	#CMSG_SPACE
(
l
è(
	`_ALIGN
((
cmsghdr
)è+ _ALIGNÖ))

	)

556 
	#CMSG_LEN
(
l
è(
	`_ALIGN
((
cmsghdr
)è+ (l))

	)

559 #ifdeà
_KERNEL


560 
	#CMSG_ALIGN
(
n
è
	`_ALIGN
Ò)

	)

564 
	#SCM_RIGHTS
 0x01

	)

565 #ià
__BSD_VISIBLE


566 
	#SCM_TIMESTAMP
 0x02

	)

567 
	#SCM_CREDS
 0x03

	)

568 
	#SCM_BINTIME
 0x04

	)

571 #ià
__BSD_VISIBLE


575 
	sosockaddr
 {

576 
	m§_çmy
;

577 
	m§_d©a
[14];

583 
	somsghdr
 {

584 *
	mmsg_Çme
;

585 
	mmsg_Çm–’
;

586 
iovec
 *
	mmsg_iov
;

587 
	mmsg_iovËn
;

588 *
	mmsg_acüights
;

589 
	mmsg_acüight¦’
;

596 
	#SHUT_RD
 0

	)

597 
	#SHUT_WR
 1

	)

598 
	#SHUT_RDWR
 2

	)

601 
	#PRU_FLUSH_RD
 
SHUT_RD


	)

602 
	#PRU_FLUSH_WR
 
SHUT_WR


	)

603 
	#PRU_FLUSH_RDWR
 
SHUT_RDWR


	)

606 #ià
__BSD_VISIBLE


610 
	ssf_hdŒ
 {

611 
iovec
 *
	mh—d”s
;

612 
	mhdr_út
;

613 
iovec
 *
	mŒa”s
;

614 
	mŒl_út
;

620 
	#SF_NODISKIO
 0x00000001

	)

621 
	#SF_MNOWAIT
 0x00000002

	)

622 
	#SF_SYNC
 0x00000004

	)

625 #iâdef 
_KERNEL


627 
	~<sys/cdefs.h
>

629 
__BEGIN_DECLS


630 
acû±
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

631 
bšd
(, cÚ¡ 
sockaddr
 *, 
sockËn_t
);

632 
cÚÃù
(, cÚ¡ 
sockaddr
 *, 
sockËn_t
);

633 
g‘³”Çme
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

634 
g‘sockÇme
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

635 
g‘sockİt
(, , , * 
__»¡riù
, 
sockËn_t
 * __restrict);

636 
li¡’
(, );

637 
ssize_t
 
»cv
(, *, 
size_t
, );

638 
ssize_t
 
»cväom
(, *, 
size_t
, , 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

639 
ssize_t
 
»cvmsg
(, 
msghdr
 *, );

640 
ssize_t
 
£nd
(, cÚ¡ *, 
size_t
, );

641 
ssize_t
 
£ndto
(, const *,

642 
size_t
, , cÚ¡ 
sockaddr
 *, 
sockËn_t
);

643 
ssize_t
 
£ndmsg
(, cÚ¡ 
msghdr
 *, );

644 #ià
__BSD_VISIBLE


645 
£ndfe
(, , 
off_t
, 
size_t
, 
sf_hdŒ
 *, off_t *, );

646 
£tfib
();

648 
£tsockİt
(, , , cÚ¡ *, 
sockËn_t
);

649 
shutdown
(, );

650 
sock©m¬k
();

651 
sock‘
(, , );

652 
sock‘·œ
(, , , *);

653 
	g__END_DECLS


657 #ifdeà
_KERNEL


658 
	gsock‘
;

660 
tıcb
 *
so_sÙÙıcb
(
sock‘
 *
so
);

661 
špcb
 *
so_sÙošpcb
(
sock‘
 *
so
);

662 
sockbuf
 *
so_sockbuf_¢d
(
sock‘
 *);

663 
sockbuf
 *
so_sockbuf_rcv
(
sock‘
 *);

665 
so_¡©e_g‘
(cÚ¡ 
sock‘
 *);

666 
so_¡©e_£t
(
sock‘
 *, );

668 
so_İtiÚs_g‘
(cÚ¡ 
sock‘
 *);

669 
so_İtiÚs_£t
(
sock‘
 *, );

671 
so_”rÜ_g‘
(cÚ¡ 
sock‘
 *);

672 
so_”rÜ_£t
(
sock‘
 *, );

674 
so_lšg”_g‘
(cÚ¡ 
sock‘
 *);

675 
so_lšg”_£t
(
sock‘
 *, );

677 
´Ùosw
 *
so_´Ùosw_g‘
(cÚ¡ 
sock‘
 *);

678 
so_´Ùosw_£t
(
sock‘
 *, 
´Ùosw
 *);

680 
so_sÜwakeup_locked
(
sock‘
 *
so
);

681 
so_sowwakeup_locked
(
sock‘
 *
so
);

683 
so_sÜwakeup
(
sock‘
 *
so
);

684 
so_sowwakeup
(
sock‘
 *
so
);

686 
so_lock
(
sock‘
 *
so
);

687 
so_uÆock
(
sock‘
 *
so
);

689 
so_li¡’”s_­¶y_®l
(
sock‘
 *
so
, (*
func
)(sock‘ *, *), *
¬g
);

	@/usr/include/sys/stat.h

38 #iâdeà
_SYS_STAT_H_


39 
	#_SYS_STAT_H_


	)

41 
	~<sys/cdefs.h
>

42 
	~<sys/_ty³s.h
>

44 #iâdeà
_BLKSIZE_T_DECLARED


45 
__blksize_t
 
	tblksize_t
;

46 
	#_BLKSIZE_T_DECLARED


	)

49 #iâdeà
_BLKCNT_T_DECLARED


50 
__blkút_t
 
	tblkút_t
;

51 
	#_BLKCNT_T_DECLARED


	)

54 #iâdeà
_DEV_T_DECLARED


55 
__dev_t
 
	tdev_t
;

56 
	#_DEV_T_DECLARED


	)

59 #iâdeà
_FFLAGS_T_DECLARED


60 
__fæags_t
 
	tfæags_t
;

61 
	#_FFLAGS_T_DECLARED


	)

64 #iâdeà
_GID_T_DECLARED


65 
__gid_t
 
	tgid_t
;

66 
	#_GID_T_DECLARED


	)

69 #iâdeà
_INO_T_DECLARED


70 
__šo_t
 
	tšo_t
;

71 
	#_INO_T_DECLARED


	)

74 #iâdeà
_MODE_T_DECLARED


75 
__mode_t
 
	tmode_t
;

76 
	#_MODE_T_DECLARED


	)

79 #iâdeà
_NLINK_T_DECLARED


80 
__Æšk_t
 
	tÆšk_t
;

81 
	#_NLINK_T_DECLARED


	)

84 #iâdeà
_OFF_T_DECLARED


85 
__off_t
 
	toff_t
;

86 
	#_OFF_T_DECLARED


	)

89 #iâdeà
_TIME_T_DECLARED


90 
__time_t
 
	ttime_t
;

91 
	#_TIME_T_DECLARED


	)

94 #iâdeà
_UID_T_DECLARED


95 
__uid_t
 
	tuid_t
;

96 
	#_UID_T_DECLARED


	)

99 #ià!
defšed
(
_KERNEL
è&& 
__BSD_VISIBLE


104 
	~<sys/time.h
>

107 #ià!
__BSD_VISIBLE


108 
	~<sys/_time¥ec.h
>

111 #ià
__BSD_VISIBLE


112 
	so¡©
 {

113 
__ušt16_t
 
	m¡_dev
;

114 
šo_t
 
	m¡_šo
;

115 
mode_t
 
	m¡_mode
;

116 
Æšk_t
 
	m¡_Æšk
;

117 
__ušt16_t
 
	m¡_uid
;

118 
__ušt16_t
 
	m¡_gid
;

119 
__ušt16_t
 
	m¡_rdev
;

120 
__št32_t
 
	m¡_size
;

121 
time¥ec
 
	m¡_©ime¥ec
;

122 
time¥ec
 
	m¡_mtime¥ec
;

123 
time¥ec
 
	m¡_ùime¥ec
;

124 
__št32_t
 
	m¡_blksize
;

125 
__št32_t
 
	m¡_blocks
;

126 
fæags_t
 
	m¡_æags
;

127 
__ušt32_t
 
	m¡_g’
;

131 
	s¡©
 {

132 
__dev_t
 
	m¡_dev
;

133 
šo_t
 
	m¡_šo
;

134 
mode_t
 
	m¡_mode
;

135 
Æšk_t
 
	m¡_Æšk
;

136 
uid_t
 
	m¡_uid
;

137 
gid_t
 
	m¡_gid
;

138 
__dev_t
 
	m¡_rdev
;

139 #ià
__BSD_VISIBLE


140 
time¥ec
 
	m¡_©ime¥ec
;

141 
time¥ec
 
	m¡_mtime¥ec
;

142 
time¥ec
 
	m¡_ùime¥ec
;

144 
time_t
 
	m¡_©ime
;

145 
	m__¡_©im’£c
;

146 
time_t
 
	m¡_mtime
;

147 
	m__¡_mtim’£c
;

148 
time_t
 
	m¡_ùime
;

149 
	m__¡_ùim’£c
;

151 
off_t
 
	m¡_size
;

152 
blkút_t
 
	m¡_blocks
;

153 
blksize_t
 
	m¡_blksize
;

154 
fæags_t
 
	m¡_æags
;

155 
__ušt32_t
 
	m¡_g’
;

156 
__št32_t
 
	m¡_l¥¬e
;

157 #ià
__BSD_VISIBLE


158 
time¥ec
 
	m¡_bœthtime¥ec
;

167 :(8 / 2è* (16 - ()(
time¥ec
));

168 :(8 / 2è* (16 - ()(
time¥ec
));

170 
time_t
 
	m¡_bœthtime
;

171 
	m¡_bœthtim’£c
;

172 :(8 / 2è* (16 - ()(
__time¥ec
));

173 :(8 / 2è* (16 - ()(
__time¥ec
));

177 #ià
__BSD_VISIBLE


178 
	sn¡©
 {

179 
__dev_t
 
	m¡_dev
;

180 
šo_t
 
	m¡_šo
;

181 
__ušt32_t
 
	m¡_mode
;

182 
__ušt32_t
 
	m¡_Æšk
;

183 
uid_t
 
	m¡_uid
;

184 
gid_t
 
	m¡_gid
;

185 
__dev_t
 
	m¡_rdev
;

186 
time¥ec
 
	m¡_©ime¥ec
;

187 
time¥ec
 
	m¡_mtime¥ec
;

188 
time¥ec
 
	m¡_ùime¥ec
;

189 
off_t
 
	m¡_size
;

190 
blkút_t
 
	m¡_blocks
;

191 
blksize_t
 
	m¡_blksize
;

192 
fæags_t
 
	m¡_æags
;

193 
__ušt32_t
 
	m¡_g’
;

194 
time¥ec
 
	m¡_bœthtime¥ec
;

198 :(8 / 2è* (16 - ()(
time¥ec
));

199 :(8 / 2è* (16 - ()(
time¥ec
));

203 #ià
__BSD_VISIBLE


204 
	#¡_©ime
 
¡_©ime¥ec
.
tv_£c


	)

205 
	#¡_mtime
 
¡_mtime¥ec
.
tv_£c


	)

206 
	#¡_ùime
 
¡_ùime¥ec
.
tv_£c


	)

207 
	#¡_bœthtime
 
¡_bœthtime¥ec
.
tv_£c


	)

210 
	#S_ISUID
 0004000

	)

211 
	#S_ISGID
 0002000

	)

212 #ià
__BSD_VISIBLE


213 
	#S_ISTXT
 0001000

	)

216 
	#S_IRWXU
 0000700

	)

217 
	#S_IRUSR
 0000400

	)

218 
	#S_IWUSR
 0000200

	)

219 
	#S_IXUSR
 0000100

	)

221 #ià
__BSD_VISIBLE


222 
	#S_IREAD
 
S_IRUSR


	)

223 
	#S_IWRITE
 
S_IWUSR


	)

224 
	#S_IEXEC
 
S_IXUSR


	)

227 
	#S_IRWXG
 0000070

	)

228 
	#S_IRGRP
 0000040

	)

229 
	#S_IWGRP
 0000020

	)

230 
	#S_IXGRP
 0000010

	)

232 
	#S_IRWXO
 0000007

	)

233 
	#S_IROTH
 0000004

	)

234 
	#S_IWOTH
 0000002

	)

235 
	#S_IXOTH
 0000001

	)

237 #ià
__XSI_VISIBLE


238 
	#S_IFMT
 0170000

	)

239 
	#S_IFIFO
 0010000

	)

240 
	#S_IFCHR
 0020000

	)

241 
	#S_IFDIR
 0040000

	)

242 
	#S_IFBLK
 0060000

	)

243 
	#S_IFREG
 0100000

	)

244 
	#S_IFLNK
 0120000

	)

245 
	#S_IFSOCK
 0140000

	)

246 
	#S_ISVTX
 0001000

	)

248 #ià
__BSD_VISIBLE


249 
	#S_IFWHT
 0160000

	)

252 
	#S_ISDIR
(
m
è(((mè& 0170000è=ğ0040000è

	)

253 
	#S_ISCHR
(
m
è(((mè& 0170000è=ğ0020000è

	)

254 
	#S_ISBLK
(
m
è(((mè& 0170000è=ğ0060000è

	)

255 
	#S_ISREG
(
m
è(((mè& 0170000è=ğ0100000è

	)

256 
	#S_ISFIFO
(
m
è(((mè& 0170000è=ğ0010000è

	)

257 #ià
__POSIX_VISIBLE
 >= 200112

258 
	#S_ISLNK
(
m
è(((mè& 0170000è=ğ0120000è

	)

259 
	#S_ISSOCK
(
m
è(((mè& 0170000è=ğ0140000è

	)

261 #ià
__BSD_VISIBLE


262 
	#S_ISWHT
(
m
è(((mè& 0170000è=ğ0160000è

	)

265 #ià
__BSD_VISIBLE


266 
	#ACCESSPERMS
 (
S_IRWXU
|
S_IRWXG
|
S_IRWXO
è

	)

268 
	#ALLPERMS
 (
S_ISUID
|
S_ISGID
|
S_ISTXT
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

270 
	#DEFFILEMODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
|
S_IROTH
|
S_IWOTH
)

	)

272 
	#S_BLKSIZE
 512

	)

279 
	#UF_SETTABLE
 0x0000fffà

	)

280 
	#UF_NODUMP
 0x00000001

	)

281 
	#UF_IMMUTABLE
 0x00000002

	)

282 
	#UF_APPEND
 0x00000004

	)

283 
	#UF_OPAQUE
 0x00000008

	)

284 
	#UF_NOUNLINK
 0x00000010

	)

288 
	#SF_SETTABLE
 0xffff0000

	)

289 
	#SF_ARCHIVED
 0x00010000

	)

290 
	#SF_IMMUTABLE
 0x00020000

	)

291 
	#SF_APPEND
 0x00040000

	)

292 
	#SF_NOUNLINK
 0x00100000

	)

293 
	#SF_SNAPSHOT
 0x00200000

	)

295 #ifdeà
_KERNEL


299 
	#OPAQUE
 (
UF_OPAQUE
)

	)

300 
	#APPEND
 (
UF_APPEND
 | 
SF_APPEND
)

	)

301 
	#IMMUTABLE
 (
UF_IMMUTABLE
 | 
SF_IMMUTABLE
)

	)

302 
	#NOUNLINK
 (
UF_NOUNLINK
 | 
SF_NOUNLINK
)

	)

307 #iâdeà
_KERNEL


308 
	g__BEGIN_DECLS


309 #ià
__BSD_VISIBLE


310 
chæags
(const *, );

312 
chmod
(cÚ¡ *, 
mode_t
);

313 #ià
__BSD_VISIBLE


314 
fchæags
(, );

316 #ià
__POSIX_VISIBLE
 >= 200112

317 
fchmod
(, 
mode_t
);

319 #ià
__POSIX_VISIBLE
 >= 200809

320 
fchmod©
(, cÚ¡ *, 
mode_t
, );

322 
f¡©
(, 
¡©
 *);

323 #ià
__BSD_VISIBLE


324 
lchæags
(const *, );

325 
lchmod
(cÚ¡ *, 
mode_t
);

327 #ià
__POSIX_VISIBLE
 >= 200112

328 
l¡©
(cÚ¡ * 
__»¡riù
, 
¡©
 * __restrict);

330 
mkdœ
(cÚ¡ *, 
mode_t
);

331 
mkfifo
(cÚ¡ *, 
mode_t
);

332 #ià!
defšed
(
_MKNOD_DECLARED
è&& 
__XSI_VISIBLE


333 
mknod
(cÚ¡ *, 
mode_t
, 
dev_t
);

334 
	#_MKNOD_DECLARED


	)

336 
¡©
(cÚ¡ * 
__»¡riù
, stat * __restrict);

337 
mode_t
 
umask
(mode_t);

338 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

339 
f¡©©
(, cÚ¡ *, 
¡©
 *, );

340 
mkdœ©
(, cÚ¡ *, 
mode_t
);

341 
mkfifßt
(, cÚ¡ *, 
mode_t
);

343 #ià
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >= 700

344 
mknod©
(, cÚ¡ *, 
mode_t
, 
dev_t
);

346 
	g__END_DECLS


	@/usr/include/sys/sysctl.h

36 #iâdeà
_SYS_SYSCTL_H_


37 
	#_SYS_SYSCTL_H_


	)

39 
	~<sys/queue.h
>

41 
	gth»ad
;

51 
	#CTL_MAXNAME
 24

	)

60 
	sùÊame
 {

61 *
	mùl_Çme
;

62 
	mùl_ty³
;

65 
	#CTLTYPE
 0xà

	)

66 
	#CTLTYPE_NODE
 1

	)

67 
	#CTLTYPE_INT
 2

	)

68 
	#CTLTYPE_STRING
 3

	)

69 
	#CTLTYPE_QUAD
 4

	)

70 
	#CTLTYPE_OPAQUE
 5

	)

71 
	#CTLTYPE_STRUCT
 
CTLTYPE_OPAQUE


	)

72 
	#CTLTYPE_UINT
 6

	)

73 
	#CTLTYPE_LONG
 7

	)

74 
	#CTLTYPE_ULONG
 8

	)

76 
	#CTLFLAG_RD
 0x80000000

	)

77 
	#CTLFLAG_WR
 0x40000000

	)

78 
	#CTLFLAG_RW
 (
CTLFLAG_RD
|
CTLFLAG_WR
)

	)

79 
	#CTLFLAG_NOLOCK
 0x20000000

	)

80 
	#CTLFLAG_ANYBODY
 0x10000000

	)

81 
	#CTLFLAG_SECURE
 0x08000000

	)

82 
	#CTLFLAG_PRISON
 0x04000000

	)

83 
	#CTLFLAG_DYN
 0x02000000

	)

84 
	#CTLFLAG_SKIP
 0x01000000

	)

85 
	#CTLMASK_SECURE
 0x00F00000

	)

86 
	#CTLFLAG_TUN
 0x00080000

	)

87 
	#CTLFLAG_MPSAFE
 0x00040000

	)

88 
	#CTLFLAG_VNET
 0x00020000

	)

89 
	#CTLFLAG_RDTUN
 (
CTLFLAG_RD
|
CTLFLAG_TUN
)

	)

90 
	#CTLFLAG_DYING
 0x00010000

	)

97 
	#CTLSHIFT_SECURE
 20

	)

98 
	#CTLFLAG_SECURE1
 (
CTLFLAG_SECURE
 | (0 << 
CTLSHIFT_SECURE
))

	)

99 
	#CTLFLAG_SECURE2
 (
CTLFLAG_SECURE
 | (1 << 
CTLSHIFT_SECURE
))

	)

100 
	#CTLFLAG_SECURE3
 (
CTLFLAG_SECURE
 | (2 << 
CTLSHIFT_SECURE
))

	)

109 
	#OID_AUTO
 (-1)

	)

115 
	#CTL_AUTO_START
 0x100

	)

117 #ifdeà
_KERNEL


118 
	~<sys/lšk”_£t.h
>

120 
	#SYSCTL_HANDLER_ARGS
 
sysùl_oid
 *
oidp
, *
¬g1
, 
¬g2
, \

121 
sysùl_»q
 *
»q


	)

124 
	#REQ_UNLOCKED
 0

	)

125 
	#REQ_LOCKED
 1

	)

126 
	#REQ_WIRED
 2

	)

129 #ià
defšed
(
__amd64__
è|| defšed(
__Ÿ64__
)

130 
	#SCTL_MASK32
 1

	)

137 
	ssysùl_»q
 {

138 
th»ad
 *
	mtd
;

139 
	mlock
;

140 *
	mŞd±r
;

141 
size_t
 
	mŞdËn
;

142 
size_t
 
	mŞdidx
;

143 (*
	mŞdfunc
)(
	msysùl_»q
 *, cÚ¡ *, 
	msize_t
);

144 *
	mÃw±r
;

145 
size_t
 
	mÃwËn
;

146 
size_t
 
	mÃwidx
;

147 (*
	mÃwfunc
)(
	msysùl_»q
 *, *, 
	msize_t
);

148 
size_t
 
	mv®idËn
;

149 
	mæags
;

152 
SLIST_HEAD
(
sysùl_oid_li¡
, 
sysùl_oid
);

158 
	ssysùl_oid
 {

159 
sysùl_oid_li¡
 *
	moid_·»Á
;

160 
SLIST_ENTRY
(
sysùl_oid
è
	moid_lšk
;

161 
	moid_numb”
;

162 
u_št
 
	moid_kšd
;

163 *
	moid_¬g1
;

164 
	moid_¬g2
;

165 cÚ¡ *
	moid_Çme
;

166 (*
	moid_hªdËr
)(
	mSYSCTL_HANDLER_ARGS
);

167 cÚ¡ *
	moid_fmt
;

168 
št16_t
 
	moid_»fút
;

169 
ušt16_t
 
	moid_ruÂšg
;

170 cÚ¡ *
	moid_desü
;

173 
	#SYSCTL_IN
(
r
, 
p
, 
l
èÔ->
Ãwfunc
)Ô,…,†)

	)

174 
	#SYSCTL_OUT
(
r
, 
p
, 
l
èÔ->
Şdfunc
)Ô,…,†)

	)

176 
sysùl_hªdË_št
(
SYSCTL_HANDLER_ARGS
);

177 
sysùl_m£c_to_ticks
(
SYSCTL_HANDLER_ARGS
);

178 
sysùl_hªdË_lÚg
(
SYSCTL_HANDLER_ARGS
);

179 
sysùl_hªdË_quad
(
SYSCTL_HANDLER_ARGS
);

180 
sysùl_hªdË_šŒ
(
SYSCTL_HANDLER_ARGS
);

181 
sysùl_hªdË_¡ršg
(
SYSCTL_HANDLER_ARGS
);

182 
sysùl_hªdË_İaque
(
SYSCTL_HANDLER_ARGS
);

184 
sysùl_dpıu_št
(
SYSCTL_HANDLER_ARGS
);

185 
sysùl_dpıu_lÚg
(
SYSCTL_HANDLER_ARGS
);

186 
sysùl_dpıu_quad
(
SYSCTL_HANDLER_ARGS
);

191 
sysùl_»gi¡”_oid
(
sysùl_oid
 *
oidp
);

192 
sysùl_uÄegi¡”_oid
(
sysùl_oid
 *
oidp
);

195 
	#SYSCTL_DECL
(
Çme
) \

196 
sysùl_oid_li¡
 
sysùl_
##
Çme
##
_chd»n


	)

199 
	#SYSCTL_CHILDREN
(
oid_±r
è(
sysùl_oid_li¡
 *) \

200 (
oid_±r
)->
oid_¬g1


	)

201 
	#SYSCTL_CHILDREN_SET
(
oid_±r
, 
v®
) \

202 (
oid_±r
)->
oid_¬g1
 = (
v®
);

	)

203 
	#SYSCTL_STATIC_CHILDREN
(
oid_Çme
) \

204 (&
sysùl_
##
oid_Çme
##
_chd»n
)

	)

209 
	ssysùl_ùx_’Œy
 {

210 
sysùl_oid
 *
	m’Œy
;

211 
TAILQ_ENTRY
(
sysùl_ùx_’Œy
è
	mlšk
;

214 
TAILQ_HEAD
(
sysùl_ùx_li¡
, 
sysùl_ùx_’Œy
);

216 
	#SYSCTL_NODE_CHILDREN
(
·»Á
, 
Çme
) \

217 
sysùl_
##
·»Á
##
_
##
Çme
##
_chd»n


	)

219 #iâdeà
NO_SYSCTL_DESCR


220 
	#__DESCR
(
d
è
	)
d

222 
	#__DESCR
(
d
è""

	)

226 
	#SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
) \

227 
sysùl_oid
 
sysùl__
##
·»Á
##
_
##
Çme
 = { \

228 &
sysùl_
##
·»Á
##
_chd»n
, { 
NULL
 }, 
nbr
, 
kšd
, \

229 
a1
, 
a2
, #Çme, 
hªdËr
, 
fmt
, 0, 0, 
	`__DESCR
(
desü
) }; \

230 
	`DATA_SET
(
sysùl_£t
, 
sysùl__
##
·»Á
##
_
##
Çme
)

	)

232 
	#SYSCTL_ADD_OID
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
) \

233 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
	`__DESCR
(
desü
))

	)

236 
	#SYSCTL_NODE
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
) \

237 
sysùl_oid_li¡
 
	`SYSCTL_NODE_CHILDREN
(
·»Á
, 
Çme
); \

238 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_NODE
|(
acûss
), \

239 (*)&
	`SYSCTL_NODE_CHILDREN
(
·»Á
, 
Çme
), 0, 
hªdËr
, "N", 
desü
)

	)

241 
	#SYSCTL_ADD_NODE
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
) \

242 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_NODE
|(
acûss
), \

243 
NULL
, 0, 
hªdËr
, "N", 
	`__DESCR
(
desü
))

	)

246 
	#SYSCTL_STRING
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
¬g
, 
Ën
, 
desü
) \

247 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_STRING
|(
acûss
), \

248 
¬g
, 
Ën
, 
sysùl_hªdË_¡ršg
, "A", 
desü
)

	)

250 
	#SYSCTL_ADD_STRING
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
¬g
, 
Ën
, 
desü
) \

251 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_STRING
|(
acûss
), \

252 
¬g
, 
Ën
, 
sysùl_hªdË_¡ršg
, "A", 
	`__DESCR
(
desü
))

	)

255 
	#SYSCTL_INT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

256 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_INT
|
CTLFLAG_MPSAFE
|(
acûss
), \

257 
±r
, 
v®
, 
sysùl_hªdË_št
, "I", 
desü
)

	)

259 
	#SYSCTL_ADD_INT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

260 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_INT
|
CTLFLAG_MPSAFE
|(
acûss
), \

261 
±r
, 
v®
, 
sysùl_hªdË_št
, "I", 
	`__DESCR
(
desü
))

	)

264 
	#SYSCTL_UINT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

265 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_UINT
|
CTLFLAG_MPSAFE
|(
acûss
), \

266 
±r
, 
v®
, 
sysùl_hªdË_št
, "IU", 
desü
)

	)

268 
	#SYSCTL_ADD_UINT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

269 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_UINT
|
CTLFLAG_MPSAFE
|(
acûss
), \

270 
±r
, 
v®
, 
sysùl_hªdË_št
, "IU", 
	`__DESCR
(
desü
))

	)

272 
	#SYSCTL_XINT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

273 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_UINT
|
CTLFLAG_MPSAFE
|(
acûss
), \

274 
±r
, 
v®
, 
sysùl_hªdË_št
, "IX", 
desü
)

	)

276 
	#SYSCTL_ADD_XINT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

277 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_UINT
|
CTLFLAG_MPSAFE
|(
acûss
), \

278 
±r
, 
v®
, 
sysùl_hªdË_št
, "IX", 
	`__DESCR
(
desü
))

	)

281 
	#SYSCTL_LONG
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

282 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_LONG
|
CTLFLAG_MPSAFE
|(
acûss
), \

283 
±r
, 
v®
, 
sysùl_hªdË_lÚg
, "L", 
desü
)

	)

285 
	#SYSCTL_ADD_LONG
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

286 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_LONG
|
CTLFLAG_MPSAFE
|(
acûss
), \

287 
±r
, 0, 
sysùl_hªdË_lÚg
, "L", 
	`__DESCR
(
desü
))

	)

290 
	#SYSCTL_ULONG
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

291 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_ULONG
|
CTLFLAG_MPSAFE
|(
acûss
), \

292 
±r
, 
v®
, 
sysùl_hªdË_lÚg
, "LU", 
	`__DESCR
(
desü
))

	)

294 
	#SYSCTL_ADD_ULONG
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

295 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_ULONG
|
CTLFLAG_MPSAFE
|(
acûss
), \

296 
±r
, 0, 
sysùl_hªdË_lÚg
, "LU", 
	`__DESCR
(
desü
))

	)

298 
	#SYSCTL_XLONG
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

299 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_ULONG
|
CTLFLAG_MPSAFE
|(
acûss
), \

300 
±r
, 
v®
, 
sysùl_hªdË_lÚg
, "LX", 
	`__DESCR
(
desü
))

	)

302 
	#SYSCTL_ADD_XLONG
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

303 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_ULONG
|
CTLFLAG_MPSAFE
|(
acûss
), \

304 
±r
, 0, 
sysùl_hªdË_lÚg
, "LX", 
	`__DESCR
(
desü
))

	)

307 
	#SYSCTL_QUAD
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

308 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_QUAD
|
CTLFLAG_MPSAFE
|(
acûss
), \

309 
±r
, 
v®
, 
sysùl_hªdË_quad
, "Q", 
	`__DESCR
(
desü
))

	)

311 
	#SYSCTL_ADD_QUAD
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

312 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_QUAD
|
CTLFLAG_MPSAFE
|(
acûss
), \

313 
±r
, 0, 
sysùl_hªdË_quad
, "Q", 
	`__DESCR
(
desü
))

	)

316 
	#SYSCTL_OPAQUE
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
Ën
, 
fmt
, 
desü
) \

317 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

318 
±r
, 
Ën
, 
sysùl_hªdË_İaque
, 
fmt
, 
desü
)

	)

320 
	#SYSCTL_ADD_OPAQUE
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
Ën
, 
fmt
, 
desü
)\

321 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

322 
±r
, 
Ën
, 
sysùl_hªdË_İaque
, 
fmt
, 
	`__DESCR
(
desü
))

	)

325 
	#SYSCTL_STRUCT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
ty³
, 
desü
) \

326 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

327 
±r
, (
ty³
), 
sysùl_hªdË_İaque
, \

328 "S," #ty³, 
desü
)

	)

330 
	#SYSCTL_ADD_STRUCT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
ty³
, 
desü
) \

331 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

332 
±r
, (
ty³
), 
sysùl_hªdË_İaque
, "S," #ty³, 
	`__DESCR
(
desü
))

	)

335 
	#SYSCTL_PROC
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
desü
) \

336 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, (
acûss
), \

337 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
desü
)

	)

339 
	#SYSCTL_ADD_PROC
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
desü
) \

340 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, (
acûss
), \

341 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
	`__DESCR
(
desü
))

	)

347 
	#FEATURE
(
Çme
, 
desc
) \

348 
	`SYSCTL_INT
(
_k”n_ã©u»s
, 
OID_AUTO
, 
Çme
, 
CTLFLAG_RD
, 0, 1, 
desc
)

	)

355 
	#CTL_UNSPEC
 0

	)

356 
	#CTL_KERN
 1

	)

357 
	#CTL_VM
 2

	)

358 
	#CTL_VFS
 3

	)

359 
	#CTL_NET
 4

	)

360 
	#CTL_DEBUG
 5

	)

361 
	#CTL_HW
 6

	)

362 
	#CTL_MACHDEP
 7

	)

363 
	#CTL_USER
 8

	)

364 
	#CTL_P1003_1B
 9

	)

365 
	#CTL_MAXID
 10

	)

367 
	#CTL_NAMES
 { \

369 { "k”n", 
CTLTYPE_NODE
 }, \

370 { "vm", 
CTLTYPE_NODE
 }, \

371 { "vfs", 
CTLTYPE_NODE
 }, \

372 { "Ãt", 
CTLTYPE_NODE
 }, \

373 { "debug", 
CTLTYPE_NODE
 }, \

374 { "hw", 
CTLTYPE_NODE
 }, \

375 { "machd•", 
CTLTYPE_NODE
 }, \

376 { "u£r", 
CTLTYPE_NODE
 }, \

377 { "p1003_1b", 
CTLTYPE_NODE
 }, \

378 }

	)

383 
	#KERN_OSTYPE
 1

	)

384 
	#KERN_OSRELEASE
 2

	)

385 
	#KERN_OSREV
 3

	)

386 
	#KERN_VERSION
 4

	)

387 
	#KERN_MAXVNODES
 5

	)

388 
	#KERN_MAXPROC
 6

	)

389 
	#KERN_MAXFILES
 7

	)

390 
	#KERN_ARGMAX
 8

	)

391 
	#KERN_SECURELVL
 9

	)

392 
	#KERN_HOSTNAME
 10

	)

393 
	#KERN_HOSTID
 11

	)

394 
	#KERN_CLOCKRATE
 12

	)

395 
	#KERN_VNODE
 13

	)

396 
	#KERN_PROC
 14

	)

397 
	#KERN_FILE
 15

	)

398 
	#KERN_PROF
 16

	)

399 
	#KERN_POSIX1
 17

	)

400 
	#KERN_NGROUPS
 18

	)

401 
	#KERN_JOB_CONTROL
 19

	)

402 
	#KERN_SAVED_IDS
 20

	)

403 
	#KERN_BOOTTIME
 21

	)

404 
	#KERN_NISDOMAINNAME
 22

	)

405 
	#KERN_UPDATEINTERVAL
 23

	)

406 
	#KERN_OSRELDATE
 24

	)

407 
	#KERN_NTP_PLL
 25

	)

408 
	#KERN_BOOTFILE
 26

	)

409 
	#KERN_MAXFILESPERPROC
 27

	)

410 
	#KERN_MAXPROCPERUID
 28

	)

411 
	#KERN_DUMPDEV
 29

	)

412 
	#KERN_IPC
 30

	)

413 
	#KERN_DUMMY
 31

	)

414 
	#KERN_PS_STRINGS
 32

	)

415 
	#KERN_USRSTACK
 33

	)

416 
	#KERN_LOGSIGEXIT
 34

	)

417 
	#KERN_IOV_MAX
 35

	)

418 
	#KERN_HOSTUUID
 36

	)

419 
	#KERN_ARND
 37

	)

420 
	#KERN_MAXID
 38

	)

422 
	#CTL_KERN_NAMES
 { \

424 { "o¡y³", 
CTLTYPE_STRING
 }, \

425 { "o¤–—£", 
CTLTYPE_STRING
 }, \

426 { "o¤evisiÚ", 
CTLTYPE_INT
 }, \

427 { "v”siÚ", 
CTLTYPE_STRING
 }, \

428 { "maxvnodes", 
CTLTYPE_INT
 }, \

429 { "max´oc", 
CTLTYPE_INT
 }, \

430 { "maxfes", 
CTLTYPE_INT
 }, \

431 { "¬gmax", 
CTLTYPE_INT
 }, \

432 { "£cu»Ëv–", 
CTLTYPE_INT
 }, \

433 { "ho¡Çme", 
CTLTYPE_STRING
 }, \

434 { "ho¡id", 
CTLTYPE_UINT
 }, \

435 { "şock¿‹", 
CTLTYPE_STRUCT
 }, \

436 { "vnode", 
CTLTYPE_STRUCT
 }, \

437 { "´oc", 
CTLTYPE_STRUCT
 }, \

438 { "fe", 
CTLTYPE_STRUCT
 }, \

439 { "´ofšg", 
CTLTYPE_NODE
 }, \

440 { "posix1v”siÚ", 
CTLTYPE_INT
 }, \

441 { "ngroups", 
CTLTYPE_INT
 }, \

442 { "job_cÚŒŞ", 
CTLTYPE_INT
 }, \

443 { "§ved_ids", 
CTLTYPE_INT
 }, \

444 { "boÙtime", 
CTLTYPE_STRUCT
 }, \

445 { "nisdomašÇme", 
CTLTYPE_STRING
 }, \

446 { "upd©e", 
CTLTYPE_INT
 }, \

447 { "o¤–d©e", 
CTLTYPE_INT
 }, \

448 { "Áp_¶l", 
CTLTYPE_NODE
 }, \

449 { "boÙfe", 
CTLTYPE_STRING
 }, \

450 { "maxfe¥”´oc", 
CTLTYPE_INT
 }, \

451 { "max´oı”uid", 
CTLTYPE_INT
 }, \

452 { "c", 
CTLTYPE_NODE
 }, \

453 { "dummy", 
CTLTYPE_INT
 }, \

454 { "ps_¡ršgs", 
CTLTYPE_INT
 }, \

455 { "u¤¡ack", 
CTLTYPE_INT
 }, \

456 { "logsigex™", 
CTLTYPE_INT
 }, \

457 { "iov_max", 
CTLTYPE_INT
 }, \

458 { "ho¡uuid", 
CTLTYPE_STRING
 }, \

459 { "¬c4¿nd", 
CTLTYPE_OPAQUE
 }, \

460 }

	)

465 
	#CTL_VFS_NAMES
 { \

466 { "vfscÚf", 
CTLTYPE_STRUCT
 }, \

467 }

	)

472 
	#KERN_PROC_ALL
 0

	)

473 
	#KERN_PROC_PID
 1

	)

474 
	#KERN_PROC_PGRP
 2

	)

475 
	#KERN_PROC_SESSION
 3

	)

476 
	#KERN_PROC_TTY
 4

	)

477 
	#KERN_PROC_UID
 5

	)

478 
	#KERN_PROC_RUID
 6

	)

479 
	#KERN_PROC_ARGS
 7

	)

480 
	#KERN_PROC_PROC
 8

	)

481 
	#KERN_PROC_SV_NAME
 9

	)

482 
	#KERN_PROC_RGID
 10

	)

483 
	#KERN_PROC_GID
 11

	)

484 
	#KERN_PROC_PATHNAME
 12

	)

485 
	#KERN_PROC_OVMMAP
 13

	)

486 
	#KERN_PROC_OFILEDESC
 14

	)

487 
	#KERN_PROC_KSTACK
 15

	)

488 
	#KERN_PROC_INC_THREAD
 0x10

	)

493 
	#KERN_PROC_VMMAP
 32

	)

494 
	#KERN_PROC_FILEDESC
 33

	)

495 
	#KERN_PROC_GROUPS
 34

	)

500 
	#KIPC_MAXSOCKBUF
 1

	)

501 
	#KIPC_SOCKBUF_WASTE
 2

	)

502 
	#KIPC_SOMAXCONN
 3

	)

503 
	#KIPC_MAX_LINKHDR
 4

	)

504 
	#KIPC_MAX_PROTOHDR
 5

	)

505 
	#KIPC_MAX_HDR
 6

	)

506 
	#KIPC_MAX_DATALEN
 7

	)

511 
	#HW_MACHINE
 1

	)

512 
	#HW_MODEL
 2

	)

513 
	#HW_NCPU
 3

	)

514 
	#HW_BYTEORDER
 4

	)

515 
	#HW_PHYSMEM
 5

	)

516 
	#HW_USERMEM
 6

	)

517 
	#HW_PAGESIZE
 7

	)

518 
	#HW_DISKNAMES
 8

	)

519 
	#HW_DISKSTATS
 9

	)

520 
	#HW_FLOATINGPT
 10

	)

521 
	#HW_MACHINE_ARCH
 11

	)

522 
	#HW_REALMEM
 12

	)

523 
	#HW_MAXID
 13

	)

525 
	#CTL_HW_NAMES
 { \

527 { "machše", 
CTLTYPE_STRING
 }, \

528 { "mod–", 
CTLTYPE_STRING
 }, \

529 { "nıu", 
CTLTYPE_INT
 }, \

530 { "by‹Üd”", 
CTLTYPE_INT
 }, \

531 { "physmem", 
CTLTYPE_ULONG
 }, \

532 { "u£rmem", 
CTLTYPE_ULONG
 }, \

533 { "·gesize", 
CTLTYPE_INT
 }, \

534 { "diskÇmes", 
CTLTYPE_STRUCT
 }, \

535 { "disk¡©s", 
CTLTYPE_STRUCT
 }, \

536 { "æßtšgpošt", 
CTLTYPE_INT
 }, \

537 { "machše_¬ch", 
CTLTYPE_STRING
 }, \

538 { "»®mem", 
CTLTYPE_ULONG
 }, \

539 }

	)

544 
	#USER_CS_PATH
 1

	)

545 
	#USER_BC_BASE_MAX
 2

	)

546 
	#USER_BC_DIM_MAX
 3

	)

547 
	#USER_BC_SCALE_MAX
 4

	)

548 
	#USER_BC_STRING_MAX
 5

	)

549 
	#USER_COLL_WEIGHTS_MAX
 6

	)

550 
	#USER_EXPR_NEST_MAX
 7

	)

551 
	#USER_LINE_MAX
 8

	)

552 
	#USER_RE_DUP_MAX
 9

	)

553 
	#USER_POSIX2_VERSION
 10

	)

554 
	#USER_POSIX2_C_BIND
 11

	)

555 
	#USER_POSIX2_C_DEV
 12

	)

556 
	#USER_POSIX2_CHAR_TERM
 13

	)

557 
	#USER_POSIX2_FORT_DEV
 14

	)

558 
	#USER_POSIX2_FORT_RUN
 15

	)

559 
	#USER_POSIX2_LOCALEDEF
 16

	)

560 
	#USER_POSIX2_SW_DEV
 17

	)

561 
	#USER_POSIX2_UPE
 18

	)

562 
	#USER_STREAM_MAX
 19

	)

563 
	#USER_TZNAME_MAX
 20

	)

564 
	#USER_MAXID
 21

	)

566 
	#CTL_USER_NAMES
 { \

568 { "cs_·th", 
CTLTYPE_STRING
 }, \

569 { "bc_ba£_max", 
CTLTYPE_INT
 }, \

570 { "bc_dim_max", 
CTLTYPE_INT
 }, \

571 { "bc_sÿË_max", 
CTLTYPE_INT
 }, \

572 { "bc_¡ršg_max", 
CTLTYPE_INT
 }, \

573 { "cŞl_weights_max", 
CTLTYPE_INT
 }, \

574 { "ex´_Ã¡_max", 
CTLTYPE_INT
 }, \

575 { "lše_max", 
CTLTYPE_INT
 }, \

576 { "»_dup_max", 
CTLTYPE_INT
 }, \

577 { "posix2_v”siÚ", 
CTLTYPE_INT
 }, \

578 { "posix2_c_bšd", 
CTLTYPE_INT
 }, \

579 { "posix2_c_dev", 
CTLTYPE_INT
 }, \

580 { "posix2_ch¬_‹rm", 
CTLTYPE_INT
 }, \

581 { "posix2_fÜt_dev", 
CTLTYPE_INT
 }, \

582 { "posix2_fÜt_run", 
CTLTYPE_INT
 }, \

583 { "posix2_loÿËdef", 
CTLTYPE_INT
 }, \

584 { "posix2_sw_dev", 
CTLTYPE_INT
 }, \

585 { "posix2_u³", 
CTLTYPE_INT
 }, \

586 { "¡»am_max", 
CTLTYPE_INT
 }, \

587 { "tzÇme_max", 
CTLTYPE_INT
 }, \

588 }

	)

590 
	#CTL_P1003_1B_ASYNCHRONOUS_IO
 1

	)

591 
	#CTL_P1003_1B_MAPPED_FILES
 2

	)

592 
	#CTL_P1003_1B_MEMLOCK
 3

	)

593 
	#CTL_P1003_1B_MEMLOCK_RANGE
 4

	)

594 
	#CTL_P1003_1B_MEMORY_PROTECTION
 5

	)

595 
	#CTL_P1003_1B_MESSAGE_PASSING
 6

	)

596 
	#CTL_P1003_1B_PRIORITIZED_IO
 7

	)

597 
	#CTL_P1003_1B_PRIORITY_SCHEDULING
 8

	)

598 
	#CTL_P1003_1B_REALTIME_SIGNALS
 9

	)

599 
	#CTL_P1003_1B_SEMAPHORES
 10

	)

600 
	#CTL_P1003_1B_FSYNC
 11

	)

601 
	#CTL_P1003_1B_SHARED_MEMORY_OBJECTS
 12

	)

602 
	#CTL_P1003_1B_SYNCHRONIZED_IO
 13

	)

603 
	#CTL_P1003_1B_TIMERS
 14

	)

604 
	#CTL_P1003_1B_AIO_LISTIO_MAX
 15

	)

605 
	#CTL_P1003_1B_AIO_MAX
 16

	)

606 
	#CTL_P1003_1B_AIO_PRIO_DELTA_MAX
 17

	)

607 
	#CTL_P1003_1B_DELAYTIMER_MAX
 18

	)

608 
	#CTL_P1003_1B_MQ_OPEN_MAX
 19

	)

609 
	#CTL_P1003_1B_PAGESIZE
 20

	)

610 
	#CTL_P1003_1B_RTSIG_MAX
 21

	)

611 
	#CTL_P1003_1B_SEM_NSEMS_MAX
 22

	)

612 
	#CTL_P1003_1B_SEM_VALUE_MAX
 23

	)

613 
	#CTL_P1003_1B_SIGQUEUE_MAX
 24

	)

614 
	#CTL_P1003_1B_TIMER_MAX
 25

	)

616 
	#CTL_P1003_1B_MAXID
 26

	)

618 
	#CTL_P1003_1B_NAMES
 { \

620 { "asynchrÚous_io", 
CTLTYPE_INT
 }, \

621 { "m­³d_fes", 
CTLTYPE_INT
 }, \

622 { "memlock", 
CTLTYPE_INT
 }, \

623 { "memlock_¿nge", 
CTLTYPE_INT
 }, \

624 { "memÜy_´ÙeùiÚ", 
CTLTYPE_INT
 }, \

625 { "mes§ge_·ssšg", 
CTLTYPE_INT
 }, \

626 { "´iÜ™ized_io", 
CTLTYPE_INT
 }, \

627 { "´iÜ™y_schedulšg", 
CTLTYPE_INT
 }, \

628 { "»®time_sigÇls", 
CTLTYPE_INT
 }, \

629 { "£m­hÜes", 
CTLTYPE_INT
 }, \

630 { "fsync", 
CTLTYPE_INT
 }, \

631 { "sh¬ed_memÜy_objeùs", 
CTLTYPE_INT
 }, \

632 { "synchrÚized_io", 
CTLTYPE_INT
 }, \

633 { "tim”s", 
CTLTYPE_INT
 }, \

634 { "aio_li¡io_max", 
CTLTYPE_INT
 }, \

635 { "aio_max", 
CTLTYPE_INT
 }, \

636 { "aio_´io_d–_max", 
CTLTYPE_INT
 }, \

637 { "d–aytim”_max", 
CTLTYPE_INT
 }, \

638 { "mq_İ’_max", 
CTLTYPE_INT
 }, \

639 { "·gesize", 
CTLTYPE_INT
 }, \

640 { "¹sig_max", 
CTLTYPE_INT
 }, \

641 { "n£ms_max", 
CTLTYPE_INT
 }, \

642 { "£m_v®ue_max", 
CTLTYPE_INT
 }, \

643 { "sigqueue_max", 
CTLTYPE_INT
 }, \

644 { "tim”_max", 
CTLTYPE_INT
 }, \

645 }

	)

647 #ifdeà
_KERNEL


652 
sysùl_oid_li¡
 
sysùl__chd»n
;

653 
SYSCTL_DECL
(
_k”n
);

654 
SYSCTL_DECL
(
_k”n_ã©u»s
);

655 
SYSCTL_DECL
(
_k”n_c
);

656 
SYSCTL_DECL
(
_k”n_´oc
);

657 
SYSCTL_DECL
(
_k”n_sched
);

658 
SYSCTL_DECL
(
_k”n_sched_¡©s
);

659 
SYSCTL_DECL
(
_sysùl
);

660 
SYSCTL_DECL
(
_vm
);

661 
SYSCTL_DECL
(
_vm_¡©s
);

662 
SYSCTL_DECL
(
_vm_¡©s_misc
);

663 
SYSCTL_DECL
(
_vfs
);

664 
SYSCTL_DECL
(
_Ãt
);

665 
SYSCTL_DECL
(
_debug
);

666 
SYSCTL_DECL
(
_debug_sizeof
);

667 
SYSCTL_DECL
(
_dev
);

668 
SYSCTL_DECL
(
_hw
);

669 
SYSCTL_DECL
(
_hw_bus
);

670 
SYSCTL_DECL
(
_hw_bus_deviûs
);

671 
SYSCTL_DECL
(
_hw_bus_šfo
);

672 
SYSCTL_DECL
(
_machd•
);

673 
SYSCTL_DECL
(
_u£r
);

674 
SYSCTL_DECL
(
_com·t
);

675 
SYSCTL_DECL
(
_»g»ssiÚ
);

676 
SYSCTL_DECL
(
_£cur™y
);

677 
SYSCTL_DECL
(
_£cur™y_bsd
);

679 
machše
[];

680 
o¤–—£
[];

681 
o¡y³
[];

682 
k”n_id’t
[];

685 
sysùl_oid
 *
sysùl_add_oid
(
sysùl_ùx_li¡
 *
şi¡
,

686 
sysùl_oid_li¡
 *
·»Á
, 
nbr
, cÚ¡ *
Çme
,

687 
kšd
, *
¬g1
, 
¬g2
,

688 (*
hªdËr
è(
SYSCTL_HANDLER_ARGS
),

689 cÚ¡ *
fmt
, cÚ¡ *
desü
);

690 
	`sysùl_»Çme_oid
(
sysùl_oid
 *
oidp
, cÚ¡ *
Çme
);

691 
	`sysùl_move_oid
(
sysùl_oid
 *
oidp
,

692 
sysùl_oid_li¡
 *
·»Á
);

693 
	`sysùl_»move_oid
(
sysùl_oid
 *
oidp
, 
d–
, 
»cur£
);

694 
	`sysùl_ùx_š™
(
sysùl_ùx_li¡
 *
şi¡
);

695 
	`sysùl_ùx_ä“
(
sysùl_ùx_li¡
 *
şi¡
);

696 
sysùl_ùx_’Œy
 *
	`sysùl_ùx_’Œy_add
(
sysùl_ùx_li¡
 *
şi¡
,

697 
sysùl_oid
 *
oidp
);

698 
sysùl_ùx_’Œy
 *
	`sysùl_ùx_’Œy_fšd
(
sysùl_ùx_li¡
 *
şi¡
,

699 
sysùl_oid
 *
oidp
);

700 
	`sysùl_ùx_’Œy_d–
(
sysùl_ùx_li¡
 *
şi¡
,

701 
sysùl_oid
 *
oidp
);

703 
	`k”Ãl_sysùl
(
th»ad
 *
td
, *
Çme
, 
u_št
 
Çm–’
, *
Şd
,

704 
size_t
 *
ŞdËÅ
, *
Ãw
, size_ˆ
ÃwËn
,

705 
size_t
 *
»tv®
, 
æags
);

706 
	`k”Ãl_sysùlbyÇme
(
th»ad
 *
td
, *
Çme
,

707 *
Şd
, 
size_t
 *
ŞdËÅ
, *
Ãw
, size_ˆ
ÃwËn
,

708 
size_t
 *
»tv®
, 
æags
);

709 
	`u£¾ªd_sysùl
(
th»ad
 *
td
, *
Çme
, 
u_št
 
Çm–’
, *
Şd
,

710 
size_t
 *
ŞdËÅ
, 
šk”Ãl
, *
Ãw
, size_ˆ
ÃwËn
,

711 
size_t
 *
»tv®
, 
æags
);

712 
	`sysùl_fšd_oid
(*
Çme
, 
u_št
 
Çm–’
, 
sysùl_oid
 **
noid
,

713 *
nšdx
, 
sysùl_»q
 *
»q
);

714 
	`sysùl_lock
();

715 
	`sysùl_uÆock
();

716 
	`sysùl_wœe_Şd_bufãr
(
sysùl_»q
 *
»q
, 
size_t
 
Ën
);

718 
sbuf
;

719 
sbuf
 *
	`sbuf_Ãw_fÜ_sysùl
(sbuf *, *, ,

720 
sysùl_»q
 *);

722 
	~<sys/cdefs.h
>

724 
__BEGIN_DECLS


725 
	`sysùl
(*, 
u_št
, *, 
size_t
 *, *, size_t);

726 
	`sysùlbyÇme
(cÚ¡ *, *, 
size_t
 *, *, size_t);

727 
	`sysùÊam‘omib
(cÚ¡ *, *, 
size_t
 *);

728 
__END_DECLS


	@/usr/include/sys/time.h

33 #iâdeà
_SYS_TIME_H_


34 
	#_SYS_TIME_H_


	)

36 
	~<sys/_timev®.h
>

37 
	~<sys/ty³s.h
>

38 
	~<sys/time¥ec.h
>

40 
	stimezÚe
 {

41 
	mtz_mšu‹swe¡
;

42 
	mtz_d¡time
;

44 
	#DST_NONE
 0

	)

45 
	#DST_USA
 1

	)

46 
	#DST_AUST
 2

	)

47 
	#DST_WET
 3

	)

48 
	#DST_MET
 4

	)

49 
	#DST_EET
 5

	)

50 
	#DST_CAN
 6

	)

52 #ià
__BSD_VISIBLE


53 
	sbštime
 {

54 
time_t
 
	m£c
;

55 
ušt64_t
 
	mäac
;

58 
__šlše
 

59 
	$bštime_addx
(
bštime
 *
bt
, 
ušt64_t
 
x
)

61 
ušt64_t
 
u
;

63 
u
 = 
bt
->
äac
;

64 
bt
->
äac
 +ğ
x
;

65 ià(
u
 > 
bt
->
äac
)

66 
bt
->
£c
++;

67 
	}
}

69 
__šlše
 

70 
	$bštime_add
(
bštime
 *
bt
, cÚ¡ bštim*
bt2
)

72 
ušt64_t
 
u
;

74 
u
 = 
bt
->
äac
;

75 
bt
->
äac
 +ğ
bt2
->frac;

76 ià(
u
 > 
bt
->
äac
)

77 
bt
->
£c
++;

78 
bt
->
£c
 +ğ
bt2
->sec;

79 
	}
}

81 
__šlše
 

82 
	$bštime_sub
(
bštime
 *
bt
, cÚ¡ bštim*
bt2
)

84 
ušt64_t
 
u
;

86 
u
 = 
bt
->
äac
;

87 
bt
->
äac
 -ğ
bt2
->frac;

88 ià(
u
 < 
bt
->
äac
)

89 
bt
->
£c
--;

90 
bt
->
£c
 -ğ
bt2
->sec;

91 
	}
}

107 
__šlše
 

108 
	$bštime2time¥ec
(cÚ¡ 
bštime
 *
bt
, 
time¥ec
 *
ts
)

111 
ts
->
tv_£c
 = 
bt
->
£c
;

112 
ts
->
tv_n£c
 = ((
ušt64_t
)1000000000 * (
ušt32_t
)(
bt
->
äac
 >> 32)) >> 32;

113 
	}
}

115 
__šlše
 

116 
	$time¥ec2bštime
(cÚ¡ 
time¥ec
 *
ts
, 
bštime
 *
bt
)

119 
bt
->
£c
 = 
ts
->
tv_£c
;

121 
bt
->
äac
 = 
ts
->
tv_n£c
 * (
ušt64_t
)18446744073LL;

122 
	}
}

124 
__šlše
 

125 
	$bštime2timev®
(cÚ¡ 
bštime
 *
bt
, 
timev®
 *
tv
)

128 
tv
->
tv_£c
 = 
bt
->
£c
;

129 
tv
->
tv_u£c
 = ((
ušt64_t
)1000000 * (
ušt32_t
)(
bt
->
äac
 >> 32)) >> 32;

130 
	}
}

132 
__šlše
 

133 
	$timev®2bštime
(cÚ¡ 
timev®
 *
tv
, 
bštime
 *
bt
)

136 
bt
->
£c
 = 
tv
->
tv_£c
;

138 
bt
->
äac
 = 
tv
->
tv_u£c
 * (
ušt64_t
)18446744073709LL;

139 
	}
}

142 #ifdeà
_KERNEL


145 
	#time¥ecş—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_n£c
 = 0)

	)

146 
	#time¥ecis£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_n£c
)

	)

147 
	#time¥eccmp
(
tvp
, 
uvp
, 
cmp
) \

148 (((
tvp
)->
tv_£c
 =ğ(
uvp
)->tv_sec) ? \

149 ((
tvp
)->
tv_n£c
 
	`cmp
 (
uvp
)->tv_nsec) : \

150 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

151 
	#time¥eÿdd
(
vvp
, 
uvp
) \

153 (
vvp
)->
tv_£c
 +ğ(
uvp
)->tv_sec; \

154 (
vvp
)->
tv_n£c
 +ğ(
uvp
)->tv_nsec; \

155 ià((
vvp
)->
tv_n£c
 >= 1000000000) { \

156 (
vvp
)->
tv_£c
++; \

157 (
vvp
)->
tv_n£c
 -= 1000000000; \

159 } 0)

	)

160 
	#time¥ecsub
(
vvp
, 
uvp
) \

162 (
vvp
)->
tv_£c
 -ğ(
uvp
)->tv_sec; \

163 (
vvp
)->
tv_n£c
 -ğ(
uvp
)->tv_nsec; \

164 ià((
vvp
)->
tv_n£c
 < 0) { \

165 (
vvp
)->
tv_£c
--; \

166 (
vvp
)->
tv_n£c
 += 1000000000; \

168 } 0)

	)

172 
	#timev®ş—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

173 
	#timev®is£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

174 
	#timev®cmp
(
tvp
, 
uvp
, 
cmp
) \

175 (((
tvp
)->
tv_£c
 =ğ(
uvp
)->tv_sec) ? \

176 ((
tvp
)->
tv_u£c
 
	`cmp
 (
uvp
)->tv_usec) : \

177 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

183 #iâdeà
_KERNEL


185 
	#tim”ş—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

186 
	#tim”is£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

187 
	#tim”cmp
(
tvp
, 
uvp
, 
cmp
) \

188 (((
tvp
)->
tv_£c
 =ğ(
uvp
)->tv_sec) ? \

189 ((
tvp
)->
tv_u£c
 
	`cmp
 (
uvp
)->tv_usec) : \

190 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

191 
	#tim”add
(
tvp
, 
uvp
, 
vvp
) \

193 (
vvp
)->
tv_£c
 = (
tvp
)->tv_£ø+ (
uvp
)->tv_sec; \

194 (
vvp
)->
tv_u£c
 = (
tvp
)->tv_u£ø+ (
uvp
)->tv_usec; \

195 ià((
vvp
)->
tv_u£c
 >= 1000000) { \

196 (
vvp
)->
tv_£c
++; \

197 (
vvp
)->
tv_u£c
 -= 1000000; \

199 } 0)

	)

200 
	#tim”sub
(
tvp
, 
uvp
, 
vvp
) \

202 (
vvp
)->
tv_£c
 = (
tvp
)->tv_£ø- (
uvp
)->tv_sec; \

203 (
vvp
)->
tv_u£c
 = (
tvp
)->tv_u£ø- (
uvp
)->tv_usec; \

204 ià((
vvp
)->
tv_u£c
 < 0) { \

205 (
vvp
)->
tv_£c
--; \

206 (
vvp
)->
tv_u£c
 += 1000000; \

208 } 0)

	)

215 
	#ITIMER_REAL
 0

	)

216 
	#ITIMER_VIRTUAL
 1

	)

217 
	#ITIMER_PROF
 2

	)

219 
	s™im”v®
 {

220 
timev®
 
	m™_š‹rv®
;

221 
timev®
 
	m™_v®ue
;

227 
	sşockšfo
 {

228 
	mhz
;

229 
	mtick
;

230 
	m¥¬e
;

231 
	m¡©hz
;

232 
	m´ofhz
;

236 #iâdeà
CLOCK_REALTIME


237 
	#CLOCK_REALTIME
 0

	)

238 
	#CLOCK_VIRTUAL
 1

	)

239 
	#CLOCK_PROF
 2

	)

240 
	#CLOCK_MONOTONIC
 4

	)

241 
	#CLOCK_UPTIME
 5

	)

242 
	#CLOCK_UPTIME_PRECISE
 7

	)

243 
	#CLOCK_UPTIME_FAST
 8

	)

244 
	#CLOCK_REALTIME_PRECISE
 9

	)

245 
	#CLOCK_REALTIME_FAST
 10

	)

246 
	#CLOCK_MONOTONIC_PRECISE
 11

	)

247 
	#CLOCK_MONOTONIC_FAST
 12

	)

248 
	#CLOCK_SECOND
 13

	)

249 
	#CLOCK_THREAD_CPUTIME_ID
 14

	)

252 #iâdeà
TIMER_ABSTIME


253 
	#TIMER_RELTIME
 0x0

	)

254 
	#TIMER_ABSTIME
 0x1

	)

257 #ifdeà
_KERNEL


262 
š™todr
(
time_t
 
ba£
);

263 
»£‰odr
();

265 
time_t
 
time_£cÚd
;

266 
time_t
 
time_u±ime
;

267 
timev®
 
boÙtime
;

291 
bšu±ime
(
bštime
 *
bt
);

292 
Çnou±ime
(
time¥ec
 *
t¥
);

293 
miüou±ime
(
timev®
 *
tvp
);

295 
bštime
(bštim*
bt
);

296 
ÇnÙime
(
time¥ec
 *
t¥
);

297 
miüÙime
(
timev®
 *
tvp
);

299 
g‘bšu±ime
(
bštime
 *
bt
);

300 
g‘Çnou±ime
(
time¥ec
 *
t¥
);

301 
g‘miüou±ime
(
timev®
 *
tvp
);

303 
g‘bštime
(
bštime
 *
bt
);

304 
g‘ÇnÙime
(
time¥ec
 *
t¥
);

305 
g‘miüÙime
(
timev®
 *
tvp
);

308 
™im”deü
(
™im”v®
 *
™p
, 
u£c
);

309 
™im”fix
(
timev®
 *
tv
);

310 
µ¤©echeck
(
timev®
 *, *, );

311 
¿‹check
(
timev®
 *, const timeval *);

312 
timev®add
(
timev®
 *
t1
, cÚ¡ timev® *
t2
);

313 
timev®sub
(
timev®
 *
t1
, cÚ¡ timev® *
t2
);

314 
tvtohz
(
timev®
 *
tv
);

316 
	~<time.h
>

318 
	~<sys/cdefs.h
>

319 
	~<sys/£Ëù.h
>

321 
__BEGIN_DECLS


322 
£t™im”
(, cÚ¡ 
™im”v®
 *, itimerval *);

323 
utimes
(cÚ¡ *, cÚ¡ 
timev®
 *);

325 #ià
__BSD_VISIBLE


326 
adjtime
(cÚ¡ 
timev®
 *, timeval *);

327 
futimes
(, cÚ¡ 
timev®
 *);

328 
futime§t
(, cÚ¡ *, cÚ¡ 
timev®
 [2]);

329 
lutimes
(cÚ¡ *, cÚ¡ 
timev®
 *);

330 
£‰imeofday
(cÚ¡ 
timev®
 *, cÚ¡ 
timezÚe
 *);

333 #ià
__XSI_VISIBLE


334 
g‘™im”
(, 
™im”v®
 *);

335 
g‘timeofday
(
timev®
 *, 
timezÚe
 *);

338 
	g__END_DECLS


	@/usr/include/sys/types.h

38 #iâdeà
_SYS_TYPES_H_


39 
	#_SYS_TYPES_H_


	)

41 
	~<sys/cdefs.h
>

44 
	~<machše/’dŸn.h
>

45 
	~<sys/_ty³s.h
>

47 
	~<sys/_±h»adty³s.h
>

49 #ià
__BSD_VISIBLE


50 
	tu_ch¬
;

51 
	tu_shÜt
;

52 
	tu_št
;

53 
	tu_lÚg
;

54 #iâdeà
_KERNEL


55 
	tushÜt
;

56 
	tušt
;

63 #iâdeà
_INT8_T_DECLARED


64 
__št8_t
 
	tšt8_t
;

65 
	#_INT8_T_DECLARED


	)

68 #iâdeà
_INT16_T_DECLARED


69 
__št16_t
 
	tšt16_t
;

70 
	#_INT16_T_DECLARED


	)

73 #iâdeà
_INT32_T_DECLARED


74 
__št32_t
 
	tšt32_t
;

75 
	#_INT32_T_DECLARED


	)

78 #iâdeà
_INT64_T_DECLARED


79 
__št64_t
 
	tšt64_t
;

80 
	#_INT64_T_DECLARED


	)

83 #iâdeà
_UINT8_T_DECLARED


84 
__ušt8_t
 
	tušt8_t
;

85 
	#_UINT8_T_DECLARED


	)

88 #iâdeà
_UINT16_T_DECLARED


89 
__ušt16_t
 
	tušt16_t
;

90 
	#_UINT16_T_DECLARED


	)

93 #iâdeà
_UINT32_T_DECLARED


94 
__ušt32_t
 
	tušt32_t
;

95 
	#_UINT32_T_DECLARED


	)

98 #iâdeà
_UINT64_T_DECLARED


99 
__ušt64_t
 
	tušt64_t
;

100 
	#_UINT64_T_DECLARED


	)

103 #iâdeà
_INTPTR_T_DECLARED


104 
__šŒ_t
 
	tšŒ_t
;

105 
__ušŒ_t
 
	tušŒ_t
;

106 
	#_INTPTR_T_DECLARED


	)

109 
__ušt8_t
 
	tu_št8_t
;

110 
__ušt16_t
 
	tu_št16_t
;

111 
__ušt32_t
 
	tu_št32_t
;

112 
__ušt64_t
 
	tu_št64_t
;

114 
__ušt64_t
 
	tu_quad_t
;

115 
__št64_t
 
	tquad_t
;

116 
quad_t
 * 
	tqaddr_t
;

118 * 
	tÿddr_t
;

119 
__cÚ¡
 * 
	tc_ÿddr_t
;

120 
__vŞ©e
 *
	tv_ÿddr_t
;

122 #iâdeà
_BLKSIZE_T_DECLARED


123 
__blksize_t
 
	tblksize_t
;

124 
	#_BLKSIZE_T_DECLARED


	)

127 
__ıuwhich_t
 
	tıuwhich_t
;

128 
__ıuËv–_t
 
	tıuËv–_t
;

129 
__ıu£tid_t
 
	tıu£tid_t
;

131 #iâdeà
_BLKCNT_T_DECLARED


132 
__blkút_t
 
	tblkút_t
;

133 
	#_BLKCNT_T_DECLARED


	)

136 #iâdeà
_CLOCK_T_DECLARED


137 
__şock_t
 
	tşock_t
;

138 
	#_CLOCK_T_DECLARED


	)

141 #iâdeà
_CLOCKID_T_DECLARED


142 
__şockid_t
 
	tşockid_t
;

143 
	#_CLOCKID_T_DECLARED


	)

146 
__ıumask_t
 
	tıumask_t
;

147 
__ü™iÿl_t
 
	tü™iÿl_t
;

148 
__št64_t
 
	tdaddr_t
;

150 #iâdeà
_DEV_T_DECLARED


151 
__dev_t
 
	tdev_t
;

152 
	#_DEV_T_DECLARED


	)

155 #iâdeà
_FFLAGS_T_DECLARED


156 
__fæags_t
 
	tfæags_t
;

157 
	#_FFLAGS_T_DECLARED


	)

160 
__fix±_t
 
	tfix±_t
;

162 #iâdeà
_FSBLKCNT_T_DECLARED


163 
__fsblkút_t
 
	tfsblkút_t
;

164 
__fsfút_t
 
	tfsfút_t
;

165 
	#_FSBLKCNT_T_DECLARED


	)

168 #iâdeà
_GID_T_DECLARED


169 
__gid_t
 
	tgid_t
;

170 
	#_GID_T_DECLARED


	)

173 #iâdeà
_IN_ADDR_T_DECLARED


174 
__ušt32_t
 
	tš_addr_t
;

175 
	#_IN_ADDR_T_DECLARED


	)

178 #iâdeà
_IN_PORT_T_DECLARED


179 
__ušt16_t
 
	tš_pÜt_t
;

180 
	#_IN_PORT_T_DECLARED


	)

183 #iâdeà
_ID_T_DECLARED


184 
__id_t
 
	tid_t
;

185 
	#_ID_T_DECLARED


	)

188 #iâdeà
_INO_T_DECLARED


189 
__šo_t
 
	tšo_t
;

190 
	#_INO_T_DECLARED


	)

193 #iâdeà
_KEY_T_DECLARED


194 
__key_t
 
	tkey_t
;

195 
	#_KEY_T_DECLARED


	)

198 #iâdeà
_LWPID_T_DECLARED


199 
__lwpid_t
 
	tlwpid_t
;

200 
	#_LWPID_T_DECLARED


	)

203 #iâdeà
_MODE_T_DECLARED


204 
__mode_t
 
	tmode_t
;

205 
	#_MODE_T_DECLARED


	)

208 #iâdeà
_ACCMODE_T_DECLARED


209 
__accmode_t
 
	taccmode_t
;

210 
	#_ACCMODE_T_DECLARED


	)

213 #iâdeà
_NLINK_T_DECLARED


214 
__Æšk_t
 
	tÆšk_t
;

215 
	#_NLINK_T_DECLARED


	)

218 #iâdeà
_OFF_T_DECLARED


219 
__off_t
 
	toff_t
;

220 
	#_OFF_T_DECLARED


	)

223 #iâdeà
_PID_T_DECLARED


224 
__pid_t
 
	tpid_t
;

225 
	#_PID_T_DECLARED


	)

228 
__»gi¡”_t
 
	t»gi¡”_t
;

230 #iâdeà
_RLIM_T_DECLARED


231 
__¾im_t
 
	t¾im_t
;

232 
	#_RLIM_T_DECLARED


	)

235 
__£gsz_t
 
	t£gsz_t
;

237 #iâdeà
_SIZE_T_DECLARED


238 
__size_t
 
	tsize_t
;

239 
	#_SIZE_T_DECLARED


	)

242 #iâdeà
_SSIZE_T_DECLARED


243 
__ssize_t
 
	tssize_t
;

244 
	#_SSIZE_T_DECLARED


	)

247 #iâdeà
_SUSECONDS_T_DECLARED


248 
__su£cÚds_t
 
	tsu£cÚds_t
;

249 
	#_SUSECONDS_T_DECLARED


	)

252 #iâdeà
_TIME_T_DECLARED


253 
__time_t
 
	ttime_t
;

254 
	#_TIME_T_DECLARED


	)

257 #iâdeà
_TIMER_T_DECLARED


258 
__tim”_t
 
	ttim”_t
;

259 
	#_TIMER_T_DECLARED


	)

262 #iâdeà
_MQD_T_DECLARED


263 
__mqd_t
 
	tmqd_t
;

264 
	#_MQD_T_DECLARED


	)

267 
__u_»gi¡”_t
 
	tu_»gi¡”_t
;

269 #iâdeà
_UID_T_DECLARED


270 
__uid_t
 
	tuid_t
;

271 
	#_UID_T_DECLARED


	)

274 #iâdeà
_USECONDS_T_DECLARED


275 
__u£cÚds_t
 
	tu£cÚds_t
;

276 
	#_USECONDS_T_DECLARED


	)

279 
__vm_off£t_t
 
	tvm_off£t_t
;

280 
__vm_ooff£t_t
 
	tvm_ooff£t_t
;

281 
__vm_·ddr_t
 
	tvm_·ddr_t
;

282 
__vm_pšdex_t
 
	tvm_pšdex_t
;

283 
__vm_size_t
 
	tvm_size_t
;

285 #ifdeà
_KERNEL


286 
	tboŞ—n_t
;

287 
deviû
 *
	tdeviû_t
;

288 
__štåŒ_t
 
	tštåŒ_t
;

298 
__ušt32_t
 
	tšŒmask_t
;

300 
__uštåŒ_t
 
	tuštåŒ_t
;

301 
__ušt64_t
 
	tuoff_t
;

302 
	tvm_mem©Œ_t
;

303 
vm_·ge
 *
	tvm_·ge_t
;

305 
	#off£tof
(
ty³
, 
f›ld
è
	`__off£tof
Ñy³, f›ld)

	)

313 #ià
__BSD_VISIBLE


315 
	~<sys/£Ëù.h
>

322 
	#majÜ
(
x
è(()(((
u_št
)(xè>> 8)&0xff)è

	)

323 
	#mšÜ
(
x
è(()((x)&0xffff00ff)è

	)

324 
	#makedev
(
x
,
y
è((
dev_t
)(((xè<< 8è| (y))è

	)

331 #iâdeà
_KERNEL


332 
	g__BEGIN_DECLS


333 #iâdeà
_FTRUNCATE_DECLARED


334 
	#_FTRUNCATE_DECLARED


	)

335 
árunÿ‹
(, 
off_t
);

337 #iâdeà
_LSEEK_DECLARED


338 
	#_LSEEK_DECLARED


	)

339 
off_t
 
l£ek
(, off_t, );

341 #iâdeà
_MMAP_DECLARED


342 
	#_MMAP_DECLARED


	)

343 * 
mm­
(*, 
size_t
, , , , 
off_t
);

345 #iâdeà
_TRUNCATE_DECLARED


346 
	#_TRUNCATE_DECLARED


	)

347 
Œunÿ‹
(cÚ¡ *, 
off_t
);

349 
	g__END_DECLS


	@/usr/include/sys/uio.h

33 #iâdeà
_SYS_UIO_H_


34 
	#_SYS_UIO_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

38 
	~<sys/_iovec.h
>

40 #iâdeà
_SSIZE_T_DECLARED


41 
__ssize_t
 
	tssize_t
;

42 
	#_SSIZE_T_DECLARED


	)

45 #iâdeà
_OFF_T_DECLARED


46 
__off_t
 
	toff_t
;

47 
	#_OFF_T_DECLARED


	)

50 #ià
__BSD_VISIBLE


51 
	euio_rw
 { 
	mUIO_READ
, 
	mUIO_WRITE
 };

54 
	euio_£g
 {

55 
	mUIO_USERSPACE
,

56 
	mUIO_SYSSPACE
,

57 
	mUIO_NOCOPY


61 #ifdeà
_KERNEL


63 
	suio
 {

64 
iovec
 *
	muio_iov
;

65 
	muio_iovút
;

66 
off_t
 
	muio_off£t
;

67 
ssize_t
 
	muio_»sid
;

68 
uio_£g
 
	muio_£gæg
;

69 
uio_rw
 
	muio_rw
;

70 
th»ad
 *
	muio_td
;

84 
	#UIO_MAXIOV
 1024

	)

86 
	gvm_objeù
;

87 
	gvm_·ge
;

89 
uio
 *
şÚeuio
(uiØ*
uiİ
);

90 
cİyšäom
(cÚ¡ * 
__»¡riù
 
¤c
, * __»¡riù 
d¡
,

91 
size_t
 
Ën
, 
£g
);

92 
cİyšiov
(
iovec
 *
iovp
, 
u_št
 
iovút
, ioveø**
iov
,

93 
”rÜ
);

94 
cİyš¡räom
(cÚ¡ * 
__»¡riù
 
¤c
, * __»¡riù 
d¡
,

95 
size_t
 
Ën
, size_ˆ* 
__»¡riù
 
cİ›d
, 
£g
);

96 
cİyšuio
(
iovec
 *
iovp
, 
u_št
 
iovút
, 
uio
 **
uiİ
);

97 
cİyout_m­
(
th»ad
 *
td
, 
vm_off£t_t
 *
addr
, 
size_t
 
sz
);

98 
cİyout_unm­
(
th»ad
 *
td
, 
vm_off£t_t
 
addr
, 
size_t
 
sz
);

99 
uio_y›ld
();

100 
uiomove
(*
ı
, 
n
, 
uio
 *uio);

101 
uiomove_äombuf
(*
buf
, 
buæ’
, 
uio
 *uio);

102 
uiomove_äomphys
(
vm_·ge
 *
ma
[], 
vm_off£t_t
 
off£t
, 
n
,

103 
uio
 *uio);

104 
uiomoveco
(*
ı
, 
n
, 
uio
 *uio, 
di¥o§bË
);

108 
__BEGIN_DECLS


109 
ssize_t
 
»adv
(, cÚ¡ 
iovec
 *, );

110 
ssize_t
 
wr™ev
(, cÚ¡ 
iovec
 *, );

111 #ià
__BSD_VISIBLE


112 
ssize_t
 
´—dv
(, cÚ¡ 
iovec
 *, , 
off_t
);

113 
ssize_t
 
pwr™ev
(, cÚ¡ 
iovec
 *, , 
off_t
);

115 
	g__END_DECLS


	@/usr/include/sys/un.h

33 #iâdeà
_SYS_UN_H_


34 
	#_SYS_UN_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

39 #iâdeà
_SA_FAMILY_T_DECLARED


40 
__§_çmy_t
 
	t§_çmy_t
;

41 
	#_SA_FAMILY_T_DECLARED


	)

47 
	ssockaddr_un
 {

48 
	msun_Ën
;

49 
§_çmy_t
 
	msun_çmy
;

50 
	msun_·th
[104];

53 #ià
__BSD_VISIBLE


56 
	#LOCAL_PEERCRED
 0x001

	)

57 
	#LOCAL_CREDS
 0x002

	)

58 
	#LOCAL_CONNWAIT
 0x004

	)

60 #iâdeà
_KERNEL


63 
	#SUN_LEN
(
su
) \

64 ((*(
su
)è- ((su)->
sun_·th
è+ 
	`¡¾’
((su)->sun_·th))

	)

	@/usr/include/sys/user.h

35 #iâdeà
_SYS_USER_H_


36 
	#_SYS_USER_H_


	)

38 
	~<machše/pcb.h
>

39 #iâdeà
_KERNEL


41 
	~<sys/”ºo.h
>

42 
	~<sys/time.h
>

43 
	~<sys/»sourû.h
>

44 
	~<sys/uüed.h
>

45 
	~<sys/uio.h
>

46 
	~<sys/queue.h
>

47 
	~<sys/_lock.h
>

48 
	~<sys/_mu‹x.h
>

49 
	~<sys/´oc.h
>

50 
	~<vm/vm.h
>

51 
	~<vm/vm_·¿m.h
>

52 
	~<vm/pm­.h
>

53 
	~<vm/vm_m­.h
>

55 #iâdeà
_SYS_RESOURCEVAR_H_


56 
	~<sys/»sourûv¬.h
>

58 #iâdeà
_SYS_SIGNALVAR_H_


59 
	~<sys/sigÇlv¬.h
>

61 #iâdeà
_SYS_SOCKET_VAR_H_


62 
	~<sys/sock‘.h
>

86 
	#KI_NSPARE_INT
 9

	)

87 
	#KI_NSPARE_LONG
 12

	)

88 
	#KI_NSPARE_PTR
 6

	)

90 #iâdeà
_KERNEL


91 #iâdeà
KINFO_PROC_SIZE


96 
	#WMESGLEN
 8

	)

97 
	#LOCKNAMELEN
 8

	)

98 
	#OCOMMLEN
 16

	)

99 
	#COMMLEN
 19

	)

100 
	#KI_EMULNAMELEN
 16

	)

101 
	#KI_NGROUPS
 16

	)

102 
	#LOGNAMELEN
 17

	)

108 
	#KI_CRF_GRP_OVERFLOW
 0x80000000

	)

110 
	skšfo_´oc
 {

111 
	mki_¡ruùsize
;

112 
	mki_Ïyout
;

113 
·rgs
 *
	mki_¬gs
;

114 
´oc
 *
	mki_·ddr
;

115 
u£r
 *
	mki_addr
;

116 
vnode
 *
	mki_Œaûp
;

117 
vnode
 *
	mki_‹xtvp
;

118 
fedesc
 *
	mki_fd
;

119 
vm¥aû
 *
	mki_vm¥aû
;

120 *
	mki_wchª
;

121 
pid_t
 
	mki_pid
;

122 
pid_t
 
	mki_µid
;

123 
pid_t
 
	mki_pgid
;

124 
pid_t
 
	mki_gid
;

125 
pid_t
 
	mki_sid
;

126 
pid_t
 
	mki_tsid
;

127 
	mki_jobc
;

128 
	mki_¥¬e_shÜt1
;

129 
dev_t
 
	mki_tdev
;

130 
sig£t_t
 
	mki_sigli¡
;

131 
sig£t_t
 
	mki_sigmask
;

132 
sig£t_t
 
	mki_sigignÜe
;

133 
sig£t_t
 
	mki_sigÿtch
;

134 
uid_t
 
	mki_uid
;

135 
uid_t
 
	mki_ruid
;

136 
uid_t
 
	mki_svuid
;

137 
gid_t
 
	mki_rgid
;

138 
gid_t
 
	mki_svgid
;

139 
	mki_ngroups
;

140 
	mki_¥¬e_shÜt2
;

141 
gid_t
 
	mki_groups
[
KI_NGROUPS
];

142 
vm_size_t
 
	mki_size
;

143 
£gsz_t
 
	mki_rssize
;

144 
£gsz_t
 
	mki_swrss
;

145 
£gsz_t
 
	mki_tsize
;

146 
£gsz_t
 
	mki_dsize
;

147 
£gsz_t
 
	mki_ssize
;

148 
u_shÜt
 
	mki_x¡©
;

149 
u_shÜt
 
	mki_acæag
;

150 
fix±_t
 
	mki_pùıu
;

151 
u_št
 
	mki_e¡ıu
;

152 
u_št
 
	mki_¦±ime
;

153 
u_št
 
	mki_swtime
;

154 
	mki_¥¬ešt1
;

155 
u_št64_t
 
	mki_ruÁime
;

156 
timev®
 
	mki_¡¬t
;

157 
timev®
 
	mki_chdtime
;

158 
	mki_æag
;

159 
	mki_kiæag
;

160 
	mki_Œaûæag
;

161 
	mki_¡©
;

162 sigÃd 
	mki_niû
;

163 
	mki_lock
;

164 
	mki_rqšdex
;

165 
u_ch¬
 
	mki_Úıu
;

166 
u_ch¬
 
	mki_Ï¡ıu
;

167 
	mki_ocomm
[
OCOMMLEN
+1];

168 
	mki_wmesg
[
WMESGLEN
+1];

169 
	mki_logš
[
LOGNAMELEN
+1];

170 
	mki_lockÇme
[
LOCKNAMELEN
+1];

171 
	mki_comm
[
COMMLEN
+1];

172 
	mki_emul
[
KI_EMULNAMELEN
+1];

178 
	mki_¥¬e¡ršgs
[68];

179 
	mki_¥¬ešts
[
KI_NSPARE_INT
];

180 
u_št
 
	mki_ü_æags
;

181 
	mki_jid
;

182 
	mki_numth»ads
;

183 
lwpid_t
 
	mki_tid
;

184 
´iÜ™y
 
	mki_´i
;

185 
ru§ge
 
	mki_ru§ge
;

187 
ru§ge
 
	mki_ru§ge_ch
;

188 
pcb
 *
	mki_pcb
;

189 *
	mki_k¡ack
;

190 *
	mki_ud©a
;

191 
th»ad
 *
	mki_tdaddr
;

197 *
	mki_¥¬•Œs
[
KI_NSPARE_PTR
];

198 
	mki_¥¬–Úgs
[
KI_NSPARE_LONG
];

199 
	mki_sæag
;

200 
	mki_tdæags
;

202 
fl_kšfo_´oc
(
´oc
 *, 
kšfo_´oc
 *);

204 
	#ki_chd¡ime
 
ki_ru§ge_ch
.
ru_¡ime


	)

205 
	#ki_chdutime
 
ki_ru§ge_ch
.
ru_utime


	)

211 
	#PS_INMEM
 0x00001

	)

214 
	#KI_CTTY
 0x00000001

	)

215 
	#KI_SLEADER
 0x00000002

	)

216 
	#KI_LOCKBLOCK
 0x00000004

	)

223 
	su£r
 {

224 
p¡©s
 
	mu_¡©s
;

225 
kšfo_´oc
 
	mu_k´oc
;

232 
	#KF_TYPE_NONE
 0

	)

233 
	#KF_TYPE_VNODE
 1

	)

234 
	#KF_TYPE_SOCKET
 2

	)

235 
	#KF_TYPE_PIPE
 3

	)

236 
	#KF_TYPE_FIFO
 4

	)

237 
	#KF_TYPE_KQUEUE
 5

	)

238 
	#KF_TYPE_CRYPTO
 6

	)

239 
	#KF_TYPE_MQUEUE
 7

	)

240 
	#KF_TYPE_SHM
 8

	)

241 
	#KF_TYPE_SEM
 9

	)

242 
	#KF_TYPE_PTS
 10

	)

243 
	#KF_TYPE_UNKNOWN
 255

	)

245 
	#KF_VTYPE_VNON
 0

	)

246 
	#KF_VTYPE_VREG
 1

	)

247 
	#KF_VTYPE_VDIR
 2

	)

248 
	#KF_VTYPE_VBLK
 3

	)

249 
	#KF_VTYPE_VCHR
 4

	)

250 
	#KF_VTYPE_VLNK
 5

	)

251 
	#KF_VTYPE_VSOCK
 6

	)

252 
	#KF_VTYPE_VFIFO
 7

	)

253 
	#KF_VTYPE_VBAD
 8

	)

254 
	#KF_VTYPE_UNKNOWN
 255

	)

256 
	#KF_FD_TYPE_CWD
 -1

	)

257 
	#KF_FD_TYPE_ROOT
 -2

	)

258 
	#KF_FD_TYPE_JAIL
 -3

	)

260 
	#KF_FLAG_READ
 0x00000001

	)

261 
	#KF_FLAG_WRITE
 0x00000002

	)

262 
	#KF_FLAG_APPEND
 0x00000004

	)

263 
	#KF_FLAG_ASYNC
 0x00000008

	)

264 
	#KF_FLAG_FSYNC
 0x00000010

	)

265 
	#KF_FLAG_NONBLOCK
 0x00000020

	)

266 
	#KF_FLAG_DIRECT
 0x00000040

	)

267 
	#KF_FLAG_HASLOCK
 0x00000080

	)

273 #ià
defšed
(
__amd64__
)

274 
	#KINFO_OFILE_SIZE
 1328

	)

276 #ià
defšed
(
__i386__
)

277 
	#KINFO_OFILE_SIZE
 1324

	)

280 
	skšfo_ofe
 {

281 
	mkf_¡ruùsize
;

282 
	mkf_ty³
;

283 
	mkf_fd
;

284 
	mkf_»f_couÁ
;

285 
	mkf_æags
;

287 
off_t
 
	mkf_off£t
;

288 
	mkf_vnode_ty³
;

289 
	mkf_sock_domaš
;

290 
	mkf_sock_ty³
;

291 
	mkf_sock_´ÙocŞ
;

292 
	mkf_·th
[
PATH_MAX
];

293 
sockaddr_¡Üage
 
	mkf_§_loÿl
;

294 
sockaddr_¡Üage
 
	mkf_§_³”
;

297 #ià
defšed
(
__amd64__
è|| defšed(
__i386__
)

298 
	#KINFO_FILE_SIZE
 1392

	)

301 
	skšfo_fe
 {

302 
	mkf_¡ruùsize
;

303 
	mkf_ty³
;

304 
	mkf_fd
;

305 
	mkf_»f_couÁ
;

306 
	mkf_æags
;

307 
	m_kf_·d0
;

308 
št64_t
 
	mkf_off£t
;

309 
	mkf_vnode_ty³
;

310 
	mkf_sock_domaš
;

311 
	mkf_sock_ty³
;

312 
	mkf_sock_´ÙocŞ
;

313 
sockaddr_¡Üage
 
	mkf_§_loÿl
;

314 
sockaddr_¡Üage
 
	mkf_§_³”
;

315 
	m_kf_i¥¬e
[16];

317 
	mkf_·th
[
PATH_MAX
];

324 
	#KVME_TYPE_NONE
 0

	)

325 
	#KVME_TYPE_DEFAULT
 1

	)

326 
	#KVME_TYPE_VNODE
 2

	)

327 
	#KVME_TYPE_SWAP
 3

	)

328 
	#KVME_TYPE_DEVICE
 4

	)

329 
	#KVME_TYPE_PHYS
 5

	)

330 
	#KVME_TYPE_DEAD
 6

	)

331 
	#KVME_TYPE_SG
 7

	)

332 
	#KVME_TYPE_UNKNOWN
 255

	)

334 
	#KVME_PROT_READ
 0x00000001

	)

335 
	#KVME_PROT_WRITE
 0x00000002

	)

336 
	#KVME_PROT_EXEC
 0x00000004

	)

338 
	#KVME_FLAG_COW
 0x00000001

	)

339 
	#KVME_FLAG_NEEDS_COPY
 0x00000002

	)

340 
	#KVME_FLAG_NOCOREDUMP
 0x00000004

	)

342 #ià
defšed
(
__amd64__
)

343 
	#KINFO_OVMENTRY_SIZE
 1168

	)

345 #ià
defšed
(
__i386__
)

346 
	#KINFO_OVMENTRY_SIZE
 1128

	)

349 
	skšfo_ovm’Œy
 {

350 
	mkve_¡ruùsize
;

351 
	mkve_ty³
;

352 *
	mkve_¡¬t
;

353 *
	mkve_’d
;

354 
	mkve_æags
;

355 
	mkve_»sid’t
;

356 
	mkve_´iv©e_»sid’t
;

357 
	mkve_´ÙeùiÚ
;

358 
	mkve_»f_couÁ
;

359 
	mkve_shadow_couÁ
;

360 
	mkve_·th
[
PATH_MAX
];

361 *
	m_kve_p¥¬e
[8];

362 
off_t
 
	mkve_off£t
;

363 
ušt64_t
 
	mkve_feid
;

364 
dev_t
 
	mkve_fsid
;

365 
	m_kve_i¥¬e
[3];

368 #ià
defšed
(
__amd64__
è|| defšed(
__i386__
)

369 
	#KINFO_VMENTRY_SIZE
 1160

	)

372 
	skšfo_vm’Œy
 {

373 
	mkve_¡ruùsize
;

374 
	mkve_ty³
;

375 
ušt64_t
 
	mkve_¡¬t
;

376 
ušt64_t
 
	mkve_’d
;

377 
ušt64_t
 
	mkve_off£t
;

378 
ušt64_t
 
	mkve_feid
;

379 
ušt32_t
 
	mkve_fsid
;

380 
	mkve_æags
;

381 
	mkve_»sid’t
;

382 
	mkve_´iv©e_»sid’t
;

383 
	mkve_´ÙeùiÚ
;

384 
	mkve_»f_couÁ
;

385 
	mkve_shadow_couÁ
;

386 
	m_kve_·d0
;

387 
	m_kve_i¥¬e
[16];

389 
	mkve_·th
[
PATH_MAX
];

397 
	#KKST_MAXLEN
 1024

	)

399 
	#KKST_STATE_STACKOK
 0

	)

400 
	#KKST_STATE_SWAPPED
 1

	)

401 
	#KKST_STATE_RUNNING
 2

	)

403 #ià
defšed
(
__amd64__
è|| defšed(
__i386__
)

404 
	#KINFO_KSTACK_SIZE
 1096

	)

407 
	skšfo_k¡ack
 {

408 
lwpid_t
 
	mkk¡_tid
;

409 
	mkk¡_¡©e
;

410 
	mkk¡_Œaû
[
KKST_MAXLEN
];

411 
	m_kk¡_i¥¬e
[16];

	@/usr/include/sys/wait.h

33 #iâdeà
_SYS_WAIT_H_


34 
	#_SYS_WAIT_H_


	)

36 
	~<sys/cdefs.h
>

47 #ià
__BSD_VISIBLE


48 
	#WCOREFLAG
 0200

	)

50 
	#_W_INT
(
i
è(i)

	)

52 
	#_WSTATUS
(
x
è(
	`_W_INT
(xè& 0177)

	)

53 
	#_WSTOPPED
 0177

	)

54 
	#WIFSTOPPED
(
x
è(
	`_WSTATUS
(xè=ğ
_WSTOPPED
)

	)

55 
	#WSTOPSIG
(
x
è(
	`_W_INT
(xè>> 8)

	)

56 
	#WIFSIGNALED
(
x
è(
	`_WSTATUS
(xè!ğ
_WSTOPPED
 && _WSTATUS(xè!ğ0)

	)

57 
	#WTERMSIG
(
x
è(
	`_WSTATUS
(x))

	)

58 
	#WIFEXITED
(
x
è(
	`_WSTATUS
(xè=ğ0)

	)

59 
	#WEXITSTATUS
(
x
è(
	`_W_INT
(xè>> 8)

	)

60 
	#WIFCONTINUED
(
x
è(x =ğ0x13è

	)

61 #ià
__BSD_VISIBLE


62 
	#WCOREDUMP
(
x
è(
	`_W_INT
(xè& 
WCOREFLAG
)

	)

64 
	#W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

65 
	#W_STOPCODE
(
sig
è((sigè<< 8 | 
_WSTOPPED
)

	)

78 
	#WNOHANG
 1

	)

79 
	#WUNTRACED
 2

	)

80 
	#WSTOPPED
 
WUNTRACED


	)

81 
	#WCONTINUED
 4

	)

82 
	#WNOWAIT
 8

	)

84 #ià
__BSD_VISIBLE


85 
	#WLINUXCLONE
 0x80000000

	)

91 #ià
__BSD_VISIBLE


92 
	#WAIT_ANY
 (-1è

	)

93 
	#WAIT_MYPGRP
 0

	)

96 #iâdeà
_KERNEL


97 
	~<sys/ty³s.h
>

99 
__BEGIN_DECLS


100 
pid_t
 
wa™
(*);

101 
pid_t
 
wa™pid
(pid_t, *, );

102 #ià
__BSD_VISIBLE


103 
	gru§ge
;

104 
pid_t
 
wa™3
(*, , 
ru§ge
 *);

105 
pid_t
 
wa™4
Õid_t, *, , 
ru§ge
 *);

107 
	g__END_DECLS


	@/usr/include/sysexits.h

36 #iâdef 
_SYSEXITS_H_


37 
	#_SYSEXITS_H_


	)

96 
	#EX_OK
 0

	)

98 
	#EX__BASE
 64

	)

100 
	#EX_USAGE
 64

	)

101 
	#EX_DATAERR
 65

	)

102 
	#EX_NOINPUT
 66

	)

103 
	#EX_NOUSER
 67

	)

104 
	#EX_NOHOST
 68

	)

105 
	#EX_UNAVAILABLE
 69

	)

106 
	#EX_SOFTWARE
 70

	)

107 
	#EX_OSERR
 71

	)

108 
	#EX_OSFILE
 72

	)

109 
	#EX_CANTCREAT
 73

	)

110 
	#EX_IOERR
 74

	)

111 
	#EX_TEMPFAIL
 75

	)

112 
	#EX_PROTOCOL
 76

	)

113 
	#EX_NOPERM
 77

	)

114 
	#EX_CONFIG
 78

	)

116 
	#EX__MAX
 78

	)

	@/usr/include/syslog.h

33 #iâdeà
_SYS_SYSLOG_H_


34 
	#_SYS_SYSLOG_H_


	)

36 
	#_PATH_LOG
 "/v¬/run/log"

	)

37 
	#_PATH_LOG_PRIV
 "/v¬/run/log´iv"

	)

38 
	#_PATH_OLDLOG
 "/dev/log"

	)

49 
	#LOG_EMERG
 0

	)

50 
	#LOG_ALERT
 1

	)

51 
	#LOG_CRIT
 2

	)

52 
	#LOG_ERR
 3

	)

53 
	#LOG_WARNING
 4

	)

54 
	#LOG_NOTICE
 5

	)

55 
	#LOG_INFO
 6

	)

56 
	#LOG_DEBUG
 7

	)

58 
	#LOG_PRIMASK
 0x07

	)

60 
	#LOG_PRI
(
p
è(Õè& 
LOG_PRIMASK
)

	)

61 
	#LOG_MAKEPRI
(
çc
, 
´i
è((çcè| (´i))

	)

63 #ifdeà
SYSLOG_NAMES


64 
	#INTERNAL_NOPRI
 0x10

	)

66 
	#INTERNAL_MARK
 
	`LOG_MAKEPRI
((
LOG_NFACILITIES
<<3), 0)

	)

67 
	s_code
 {

68 cÚ¡ *
	mc_Çme
;

69 
	mc_v®
;

70 } 
	tCODE
;

72 
CODE
 
	g´iÜ™yÇmes
[] = {

73 { "®”t", 
LOG_ALERT
, },

74 { "ü™", 
LOG_CRIT
, },

75 { "debug", 
LOG_DEBUG
, },

76 { "em”g", 
LOG_EMERG
, },

77 { "”r", 
LOG_ERR
, },

78 { "”rÜ", 
LOG_ERR
, },

79 { "šfo", 
LOG_INFO
, },

80 { "nÚe", 
INTERNAL_NOPRI
, },

81 { "nÙiû", 
LOG_NOTICE
, },

82 { "·nic", 
LOG_EMERG
, },

83 { "w¬n", 
LOG_WARNING
, },

84 { "w¬nšg", 
LOG_WARNING
, },

85 { 
NULL
, -1, }

90 
	#LOG_KERN
 (0<<3è

	)

91 
	#LOG_USER
 (1<<3è

	)

92 
	#LOG_MAIL
 (2<<3è

	)

93 
	#LOG_DAEMON
 (3<<3è

	)

94 
	#LOG_AUTH
 (4<<3è

	)

95 
	#LOG_SYSLOG
 (5<<3è

	)

96 
	#LOG_LPR
 (6<<3è

	)

97 
	#LOG_NEWS
 (7<<3è

	)

98 
	#LOG_UUCP
 (8<<3è

	)

99 
	#LOG_CRON
 (9<<3è

	)

100 
	#LOG_AUTHPRIV
 (10<<3è

	)

104 
	#LOG_FTP
 (11<<3è

	)

105 
	#LOG_NTP
 (12<<3è

	)

106 
	#LOG_SECURITY
 (13<<3è

	)

107 
	#LOG_CONSOLE
 (14<<3è

	)

110 
	#LOG_LOCAL0
 (16<<3è

	)

111 
	#LOG_LOCAL1
 (17<<3è

	)

112 
	#LOG_LOCAL2
 (18<<3è

	)

113 
	#LOG_LOCAL3
 (19<<3è

	)

114 
	#LOG_LOCAL4
 (20<<3è

	)

115 
	#LOG_LOCAL5
 (21<<3è

	)

116 
	#LOG_LOCAL6
 (22<<3è

	)

117 
	#LOG_LOCAL7
 (23<<3è

	)

119 
	#LOG_NFACILITIES
 24

	)

120 
	#LOG_FACMASK
 0x03f8

	)

122 
	#LOG_FAC
(
p
è((Õè& 
LOG_FACMASK
è>> 3)

	)

124 #ifdeà
SYSLOG_NAMES


125 
CODE
 
	gçc™yÇmes
[] = {

126 { "auth", 
LOG_AUTH
, },

127 { "auth´iv", 
LOG_AUTHPRIV
, },

128 { "cÚsŞe", 
LOG_CONSOLE
, },

129 { "üÚ", 
LOG_CRON
, },

130 { "d«mÚ", 
LOG_DAEMON
, },

131 { "áp", 
LOG_FTP
, },

132 { "k”n", 
LOG_KERN
, },

133 { "Ír", 
LOG_LPR
, },

134 { "ma", 
LOG_MAIL
, },

135 { "m¬k", 
INTERNAL_MARK
, },

136 { "Ãws", 
LOG_NEWS
, },

137 { "Áp", 
LOG_NTP
, },

138 { "£cur™y", 
LOG_SECURITY
, },

139 { "sy¦og", 
LOG_SYSLOG
, },

140 { "u£r", 
LOG_USER
, },

141 { "uuı", 
LOG_UUCP
, },

142 { "loÿl0", 
LOG_LOCAL0
, },

143 { "loÿl1", 
LOG_LOCAL1
, },

144 { "loÿl2", 
LOG_LOCAL2
, },

145 { "loÿl3", 
LOG_LOCAL3
, },

146 { "loÿl4", 
LOG_LOCAL4
, },

147 { "loÿl5", 
LOG_LOCAL5
, },

148 { "loÿl6", 
LOG_LOCAL6
, },

149 { "loÿl7", 
LOG_LOCAL7
, },

150 { 
NULL
, -1, }

154 #ifdeà
_KERNEL


155 
	#LOG_PRINTF
 -1

	)

161 
	#LOG_MASK
(
´i
è(1 << (´i)è

	)

162 
	#LOG_UPTO
(
´i
è((1 << (Õri)+1)è- 1è

	)

170 
	#LOG_PID
 0x01

	)

171 
	#LOG_CONS
 0x02

	)

172 
	#LOG_ODELAY
 0x04

	)

173 
	#LOG_NDELAY
 0x08

	)

174 
	#LOG_NOWAIT
 0x10

	)

175 
	#LOG_PERROR
 0x20

	)

177 #ifdeà
_KERNEL


188 
	~<sys/cdefs.h
>

189 
	~<sys/_ty³s.h
>

191 
__BEGIN_DECLS


192 
şo£log
();

193 
İ’log
(const *, , );

194 
£ogmask
();

195 
	$sy¦og
(, cÚ¡ *, ...è
	`__´štæike
(2, 3);

196 #ià
__BSD_VISIBLE


197 
	$vsy¦og
(, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(2, 0);

199 
__END_DECLS


	@/usr/include/tar.h

39 #iâdeà
_TAR_H


40 
	#_TAR_H


	)

42 
	#TMAGIC
 "u¡¬"

	)

43 
	#TMAGLEN
 6

	)

44 
	#TVERSION
 "00"

	)

45 
	#TVERSLEN
 2

	)

48 
	#REGTYPE
 '0'

	)

49 
	#AREGTYPE
 '\0'

	)

50 
	#LNKTYPE
 '1'

	)

51 
	#SYMTYPE
 '2'

	)

52 
	#CHRTYPE
 '3'

	)

53 
	#BLKTYPE
 '4'

	)

54 
	#DIRTYPE
 '5'

	)

55 
	#FIFOTYPE
 '6'

	)

56 
	#CONTTYPE
 '7'

	)

59 
	#TSUID
 04000

	)

60 
	#TSGID
 02000

	)

61 
	#TSVTX
 01000

	)

63 
	#TUREAD
 00400

	)

64 
	#TUWRITE
 00200

	)

65 
	#TUEXEC
 00100

	)

66 
	#TGREAD
 00040

	)

67 
	#TGWRITE
 00020

	)

68 
	#TGEXEC
 00010

	)

69 
	#TOREAD
 00004

	)

70 
	#TOWRITE
 00002

	)

71 
	#TOEXEC
 00001

	)

	@/usr/include/termcap.h

36 #iâdeà
NCURSES_TERMCAP_H_šş


37 
	#NCURSES_TERMCAP_H_šş
 1

	)

39 #undeà
NCURSES_VERSION


40 
	#NCURSES_VERSION
 "5.7"

	)

42 
	~<ncur£s_dÎ.h
>

44 #ifdeà
__ılu¥lus


49 
	~<sys/ty³s.h
>

51 #undeà
NCURSES_CONST


52 
	#NCURSES_CONST
 cÚ¡

	)

54 #undeà
NCURSES_OSPEED


55 
	#NCURSES_OSPEED
 

	)

57 
NCURSES_EXPORT_VAR
(è
PC
;

58 
NCURSES_EXPORT_VAR
(*è
UP
;

59 
NCURSES_EXPORT_VAR
(*è
BC
;

60 
NCURSES_EXPORT_VAR
(
NCURSES_OSPEED
è
o¥“d
;

62 #ià!
defšed
(
NCURSES_TERM_H_šş
)

63 
NCURSES_EXPORT
(*è
tg‘¡r
 (
NCURSES_CONST
 *, **);

64 
NCURSES_EXPORT
(*è
tgÙo
 (const *, , );

65 
NCURSES_EXPORT
(è
tg‘’t
 (*, const *);

66 
NCURSES_EXPORT
(è
tg‘æag
 (
NCURSES_CONST
 *);

67 
NCURSES_EXPORT
(è
tg‘num
 (
NCURSES_CONST
 *);

68 
NCURSES_EXPORT
(è
uts
 (const *, , (*)());

71 #ifdeà
__ılu¥lus


	@/usr/include/termios.h

33 #iâdeà
_SYS_TERMIOS_H_


34 
	#_SYS_TERMIOS_H_


	)

36 
	~<sys/_ty³s.h
>

37 #iâdeà
_PID_T_DECLARED


38 
__pid_t
 
	tpid_t
;

39 
	#_PID_T_DECLARED


	)

49 
	#VEOF
 0

	)

50 
	#VEOL
 1

	)

51 #iâdeà
_POSIX_SOURCE


52 
	#VEOL2
 2

	)

54 
	#VERASE
 3

	)

55 #iâdeà
_POSIX_SOURCE


56 
	#VWERASE
 4

	)

58 
	#VKILL
 5

	)

59 #iâdeà
_POSIX_SOURCE


60 
	#VREPRINT
 6

	)

61 
	#VERASE2
 7

	)

64 
	#VINTR
 8

	)

65 
	#VQUIT
 9

	)

66 
	#VSUSP
 10

	)

67 #iâdeà
_POSIX_SOURCE


68 
	#VDSUSP
 11

	)

70 
	#VSTART
 12

	)

71 
	#VSTOP
 13

	)

72 #iâdeà
_POSIX_SOURCE


73 
	#VLNEXT
 14

	)

74 
	#VDISCARD
 15

	)

76 
	#VMIN
 16

	)

77 
	#VTIME
 17

	)

78 #iâdeà
_POSIX_SOURCE


79 
	#VSTATUS
 18

	)

82 
	#NCCS
 20

	)

84 
	#_POSIX_VDISABLE
 0xff

	)

89 
	#IGNBRK
 0x00000001

	)

90 
	#BRKINT
 0x00000002

	)

91 
	#IGNPAR
 0x00000004

	)

92 
	#PARMRK
 0x00000008

	)

93 
	#INPCK
 0x00000010

	)

94 
	#ISTRIP
 0x00000020

	)

95 
	#INLCR
 0x00000040

	)

96 
	#IGNCR
 0x00000080

	)

97 
	#ICRNL
 0x00000100

	)

98 
	#IXON
 0x00000200

	)

99 
	#IXOFF
 0x00000400

	)

100 #iâdeà
_POSIX_SOURCE


101 
	#IXANY
 0x00000800

	)

102 
	#IMAXBEL
 0x00002000

	)

108 
	#OPOST
 0x00000001

	)

109 #iâdeà
_POSIX_SOURCE


110 
	#ONLCR
 0x00000002

	)

111 
	#TABDLY
 0x00000004

	)

112 
	#TAB0
 0x00000000

	)

113 
	#TAB3
 0x00000004

	)

114 #iâdeà
_KERNEL


115 
	#OXTABS
 
TAB3


	)

117 
	#ONOEOT
 0x00000008

	)

118 
	#OCRNL
 0x00000010

	)

119 
	#ONOCR
 0x00000020

	)

120 
	#ONLRET
 0x00000040

	)

126 #iâdeà
_POSIX_SOURCE


127 
	#CIGNORE
 0x00000001

	)

129 
	#CSIZE
 0x00000300

	)

130 
	#CS5
 0x00000000

	)

131 
	#CS6
 0x00000100

	)

132 
	#CS7
 0x00000200

	)

133 
	#CS8
 0x00000300

	)

134 
	#CSTOPB
 0x00000400

	)

135 
	#CREAD
 0x00000800

	)

136 
	#PARENB
 0x00001000

	)

137 
	#PARODD
 0x00002000

	)

138 
	#HUPCL
 0x00004000

	)

139 
	#CLOCAL
 0x00008000

	)

140 #iâdeà
_POSIX_SOURCE


141 
	#CCTS_OFLOW
 0x00010000

	)

142 
	#CRTSCTS
 (
CCTS_OFLOW
 | 
CRTS_IFLOW
)

	)

143 
	#CRTS_IFLOW
 0x00020000

	)

144 
	#CDTR_IFLOW
 0x00040000

	)

145 
	#CDSR_OFLOW
 0x00080000

	)

146 
	#CCAR_OFLOW
 0x00100000

	)

147 #iâdeà
_KERNEL


148 
	#MDMBUF
 
CCAR_OFLOW


	)

161 #iâdeà
_POSIX_SOURCE


162 
	#ECHOKE
 0x00000001

	)

164 
	#ECHOE
 0x00000002

	)

165 
	#ECHOK
 0x00000004

	)

166 
	#ECHO
 0x00000008

	)

167 
	#ECHONL
 0x00000010

	)

168 #iâdeà
_POSIX_SOURCE


169 
	#ECHOPRT
 0x00000020

	)

170 
	#ECHOCTL
 0x00000040

	)

172 
	#ISIG
 0x00000080

	)

173 
	#ICANON
 0x00000100

	)

174 #iâdeà
_POSIX_SOURCE


175 
	#ALTWERASE
 0x00000200

	)

177 
	#IEXTEN
 0x00000400

	)

178 
	#EXTPROC
 0x00000800

	)

179 
	#TOSTOP
 0x00400000

	)

180 #iâdeà
_POSIX_SOURCE


181 
	#FLUSHO
 0x00800000

	)

182 
	#NOKERNINFO
 0x02000000

	)

183 
	#PENDIN
 0x20000000

	)

185 
	#NOFLSH
 0x80000000

	)

187 
	ttcæag_t
;

188 
	tcc_t
;

189 
	t¥“d_t
;

191 
	s‹rmios
 {

192 
tcæag_t
 
	mc_iæag
;

193 
tcæag_t
 
	mc_oæag
;

194 
tcæag_t
 
	mc_cæag
;

195 
tcæag_t
 
	mc_læag
;

196 
cc_t
 
	mc_cc
[
NCCS
];

197 
¥“d_t
 
	mc_i¥“d
;

198 
¥“d_t
 
	mc_o¥“d
;

204 
	#B0
 0

	)

205 
	#B50
 50

	)

206 
	#B75
 75

	)

207 
	#B110
 110

	)

208 
	#B134
 134

	)

209 
	#B150
 150

	)

210 
	#B200
 200

	)

211 
	#B300
 300

	)

212 
	#B600
 600

	)

213 
	#B1200
 1200

	)

214 
	#B1800
 1800

	)

215 
	#B2400
 2400

	)

216 
	#B4800
 4800

	)

217 
	#B9600
 9600

	)

218 
	#B19200
 19200

	)

219 
	#B38400
 38400

	)

220 #iâdeà
_POSIX_SOURCE


221 
	#B7200
 7200

	)

222 
	#B14400
 14400

	)

223 
	#B28800
 28800

	)

224 
	#B57600
 57600

	)

225 
	#B76800
 76800

	)

226 
	#B115200
 115200

	)

227 
	#B230400
 230400

	)

228 
	#B460800
 460800

	)

229 
	#B921600
 921600

	)

230 
	#EXTA
 19200

	)

231 
	#EXTB
 38400

	)

234 #iâdeà
_KERNEL


236 #iâdeà
_POSIX_SOURCE


237 
	#CCEQ
(
v®
, 
c
è((cè=ğ(v®è&& (v®è!ğ
_POSIX_VDISABLE
)

	)

243 
	#TCSANOW
 0

	)

244 
	#TCSADRAIN
 1

	)

245 
	#TCSAFLUSH
 2

	)

246 #iâdeà
_POSIX_SOURCE


247 
	#TCSASOFT
 0x10

	)

250 
	#TCIFLUSH
 1

	)

251 
	#TCOFLUSH
 2

	)

252 
	#TCIOFLUSH
 3

	)

253 
	#TCOOFF
 1

	)

254 
	#TCOON
 2

	)

255 
	#TCIOFF
 3

	)

256 
	#TCION
 4

	)

258 
	~<sys/cdefs.h
>

260 
__BEGIN_DECLS


261 
¥“d_t
 
cfg‘i¥“d
(cÚ¡ 
‹rmios
 *);

262 
¥“d_t
 
cfg‘o¥“d
(cÚ¡ 
‹rmios
 *);

263 
cf£ti¥“d
(
‹rmios
 *, 
¥“d_t
);

264 
cf£to¥“d
(
‹rmios
 *, 
¥“d_t
);

265 
tcg‘©Œ
(, 
‹rmios
 *);

266 
tc£‰r
(, , cÚ¡ 
‹rmios
 *);

267 
tcd¿š
();

268 
tcæow
(, );

269 
tcæush
(, );

270 
tc£ndb»ak
(, );

272 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__BSD_VISIBLE


273 
pid_t
 
tcg‘sid
();

275 #ià
__BSD_VISIBLE


276 
tc£tsid
(, 
pid_t
);

278 
cfmak”aw
(
‹rmios
 *);

279 
cf£t¥“d
(
‹rmios
 *, 
¥“d_t
);

281 
	g__END_DECLS


285 #iâdeà
_POSIX_SOURCE


292 
	~<sys/‰ycom.h
>

300 #iâdeà
_POSIX_SOURCE


301 
	~<sys/‰ydeçuÉs.h
>

	@/usr/include/time.h

45 #iâdeà
_TIME_H_


46 
	#_TIME_H_


	)

48 
	~<sys/cdefs.h
>

49 
	~<sys/_nuÎ.h
>

50 
	~<sys/_ty³s.h
>

52 #ià
__POSIX_VISIBLE
 > 0 && __POSIX_VISIBLE < 200112 || 
__BSD_VISIBLE


57 
	#CLK_TCK
 128

	)

61 
	#CLOCKS_PER_SEC
 128

	)

63 #iâdeà
_CLOCK_T_DECLARED


64 
__şock_t
 
	tşock_t
;

65 
	#_CLOCK_T_DECLARED


	)

68 #iâdeà
_TIME_T_DECLARED


69 
__time_t
 
	ttime_t
;

70 
	#_TIME_T_DECLARED


	)

73 #iâdeà
_SIZE_T_DECLARED


74 
__size_t
 
	tsize_t
;

75 
	#_SIZE_T_DECLARED


	)

78 #ià
__POSIX_VISIBLE
 >= 199309

82 #iâdeà
_CLOCKID_T_DECLARED


83 
__şockid_t
 
	tşockid_t
;

84 
	#_CLOCKID_T_DECLARED


	)

87 #iâdeà
_TIMER_T_DECLARED


88 
__tim”_t
 
	ttim”_t
;

89 
	#_TIMER_T_DECLARED


	)

92 
	~<sys/time¥ec.h
>

96 #ià!
defšed
(
CLOCK_REALTIME
è&& 
__POSIX_VISIBLE
 >= 200112

97 
	#CLOCK_REALTIME
 0

	)

98 #ifdeà
__BSD_VISIBLE


99 
	#CLOCK_VIRTUAL
 1

	)

100 
	#CLOCK_PROF
 2

	)

102 
	#CLOCK_MONOTONIC
 4

	)

103 
	#CLOCK_UPTIME
 5

	)

104 
	#CLOCK_UPTIME_PRECISE
 7

	)

105 
	#CLOCK_UPTIME_FAST
 8

	)

106 
	#CLOCK_REALTIME_PRECISE
 9

	)

107 
	#CLOCK_REALTIME_FAST
 10

	)

108 
	#CLOCK_MONOTONIC_PRECISE
 11

	)

109 
	#CLOCK_MONOTONIC_FAST
 12

	)

110 
	#CLOCK_SECOND
 13

	)

111 
	#CLOCK_THREAD_CPUTIME_ID
 14

	)

114 #ià!
defšed
(
TIMER_ABSTIME
è&& 
__POSIX_VISIBLE
 >= 200112

115 #ià
__BSD_VISIBLE


116 
	#TIMER_RELTIME
 0x0

	)

118 
	#TIMER_ABSTIME
 0x1

	)

121 
	stm
 {

122 
	mtm_£c
;

123 
	mtm_mš
;

124 
	mtm_hour
;

125 
	mtm_mday
;

126 
	mtm_mÚ
;

127 
	mtm_y—r
;

128 
	mtm_wday
;

129 
	mtm_yday
;

130 
	mtm_isd¡
;

131 
	mtm_gmtoff
;

132 *
	mtm_zÚe
;

135 #ià
__POSIX_VISIBLE


136 *
tzÇme
[];

139 
__BEGIN_DECLS


140 *
asùime
(cÚ¡ 
tm
 *);

141 
şock_t
 
şock
();

142 *
ùime
(cÚ¡ 
time_t
 *);

143 
difáime
(
time_t
,ime_t);

145 
tm
 *
gmtime
(cÚ¡ 
time_t
 *);

146 
tm
 *
loÿÉime
(cÚ¡ 
time_t
 *);

147 
time_t
 
mktime
(
tm
 *);

148 
size_t
 
¡ráime
(* 
__»¡riù
, size_t, const * __restrict,

149 cÚ¡ 
tm
 * 
__»¡riù
);

150 
time_t
 
time
(time_t *);

151 #ià
__POSIX_VISIBLE
 >= 200112

152 
	gsigev’t
;

153 
tim”_ü—‹
(
şockid_t
, 
sigev’t
 *
__»¡riù
, 
tim”_t
 *__restrict);

154 
tim”_d–‘e
(
tim”_t
);

155 
tim”_g‘time
(
tim”_t
, 
™im”¥ec
 *);

156 
tim”_g‘ov”run
(
tim”_t
);

157 
tim”_£‰ime
(
tim”_t
, , cÚ¡ 
™im”¥ec
 *
__»¡riù
,

158 
™im”¥ec
 *
__»¡riù
);

160 #ià
__POSIX_VISIBLE


161 
tz£t
();

164 #ià
__POSIX_VISIBLE
 >= 199309

165 
şock_g‘»s
(
şockid_t
, 
time¥ec
 *);

166 
şock_g‘time
(
şockid_t
, 
time¥ec
 *);

167 
şock_£‰ime
(
şockid_t
, cÚ¡ 
time¥ec
 *);

169 
Çno¦“p
(cÚ¡ 
time¥ec
 *, timespec *);

172 #ià
__POSIX_VISIBLE
 >= 199506

173 *
asùime_r
(cÚ¡ 
tm
 *, *);

174 *
ùime_r
(cÚ¡ 
time_t
 *, *);

175 
tm
 *
gmtime_r
(cÚ¡ 
time_t
 *, tm *);

176 
tm
 *
loÿÉime_r
(cÚ¡ 
time_t
 *, tm *);

179 #ià
__XSI_VISIBLE


180 *
¡½time
(cÚ¡ * 
__»¡riù
, const * __restrict,

181 
tm
 * 
__»¡riù
);

184 #ià
__BSD_VISIBLE


185 *
timezÚe
(, );

186 
tz£tw®l
();

187 
time_t
 
tim–oÿl
(
tm
 * const);

188 
time_t
 
timegm
(
tm
 * const);

190 
	g__END_DECLS


	@/usr/include/ufs/ufs/ufsmount.h

33 #iâdeà
_UFS_UFS_UFSMOUNT_H_


34 
	#_UFS_UFS_UFSMOUNT_H_


	)

36 
	~<sys/buf.h
>

41 
	sufs_¬gs
 {

42 *
	mf¥ec
;

43 
ÛxpÜt_¬gs
 
	mexpÜt
;

46 #ifdeà
_KERNEL


48 #ifdeà
MALLOC_DECLARE


49 
MALLOC_DECLARE
(
M_UFSMNT
);

52 
	gbuf
;

53 
	gšode
;

54 
	gÇmeid©a
;

55 
	gtimev®
;

56 
	guüed
;

57 
	guio
;

58 
	gvnode
;

59 
	gufs_ex‰r_³r_mouÁ
;

62 
	sufsmouÁ
 {

63 
mouÁ
 *
	mum_mouÁp
;

64 
cdev
 *
	mum_dev
;

65 
g_cÚsum”
 *
	mum_ı
;

66 
bufobj
 *
	mum_bo
;

67 
vnode
 *
	mum_devvp
;

68 
u_lÚg
 
	mum_f¡y³
;

69 
fs
 *
	mum_fs
;

70 
ufs_ex‰r_³r_mouÁ
 
	mum_ex‰r
;

71 
u_lÚg
 
	mum_nšdœ
;

72 
u_lÚg
 
	mum_b±¹odb
;

73 
u_lÚg
 
	mum_£qšc
;

74 
mtx
 
	mum_lock
;

75 
	mum_numšdœd•s
;

76 
wÜkh—d
 
	msoád•_wÜk™em_³ndšg
;

77 
wÜkli¡
 *
	msoád•_wÜkli¡_
;

78 
	msoád•_Ú_wÜkli¡
;

79 
	msoád•_Ú_wÜkli¡_š´og»ss
;

80 
	msoád•_d•s
;

81 
	msoád•_accd•s
;

82 
	msoád•_»q
;

83 
vnode
 *
	mum_quÙas
[
MAXQUOTAS
];

84 
uüed
 *
	mum_üed
[
MAXQUOTAS
];

85 
time_t
 
	mum_btime
[
MAXQUOTAS
];

86 
time_t
 
	mum_™ime
[
MAXQUOTAS
];

87 
	mum_qæags
[
MAXQUOTAS
];

88 
št64_t
 
	mum_§vedmaxfesize
;

89 
	mum_ÿnd–‘e
;

90 (*
	mum_b®loc
)(
	mvnode
 *, 
	moff_t
, , 
	muüed
 *, , 
	mbuf
 **);

91 (*
	mum_blk©off
)(
	mvnode
 *, 
	moff_t
, **, 
	mbuf
 **);

92 (*
	mum_Œunÿ‹
)(
	mvnode
 *, 
	moff_t
, , 
	muüed
 *, 
	mth»ad
 *);

93 (*
	mum_upd©e
)(
	mvnode
 *, );

94 (*
	mum_v®loc
)(
	mvnode
 *, , 
	muüed
 *, vnode **);

95 (*
	mum_vä“
)(
	mvnode
 *, 
	mšo_t
, );

96 (*
	mum_iä“
)(
	mufsmouÁ
 *, 
	mšode
 *);

97 (*
	mum_rdÚly
)(
	mšode
 *);

98 (*
	mum_¢­gÚe
)(
	mšode
 *);

101 
	#UFS_BALLOC
(
¯
, 
bb
, 
cc
, 
dd
, 
“
, 
ff
è
	`VFSTOUFS
(×a)->
v_mouÁ
)->
	`um_b®loc
×a, bb, cc, dd,ƒe, ff)

	)

102 
	#UFS_BLKATOFF
(
¯
, 
bb
, 
cc
, 
dd
è
	`VFSTOUFS
(×a)->
v_mouÁ
)->
	`um_blk©off
×a, bb, cc, dd)

	)

103 
	#UFS_TRUNCATE
(
¯
, 
bb
, 
cc
, 
dd
, 
“
è
	`VFSTOUFS
(×a)->
v_mouÁ
)->
	`um_Œunÿ‹
×a, bb, cc, dd,ƒe)

	)

104 
	#UFS_UPDATE
(
¯
, 
bb
è
	`VFSTOUFS
(×a)->
v_mouÁ
)->
	`um_upd©e
×a, bb)

	)

105 
	#UFS_VALLOC
(
¯
, 
bb
, 
cc
, 
dd
è
	`VFSTOUFS
(×a)->
v_mouÁ
)->
	`um_v®loc
×a, bb, cc, dd)

	)

106 
	#UFS_VFREE
(
¯
, 
bb
, 
cc
è
	`VFSTOUFS
(×a)->
v_mouÁ
)->
	`um_vä“
×a, bb, cc)

	)

107 
	#UFS_IFREE
(
¯
, 
bb
è(×a)->
	`um_iä“
×a, bb))

	)

108 
	#UFS_RDONLY
(
¯
è(×a)->
i_ump
->
	`um_rdÚly
×a))

	)

109 
	#UFS_SNAPGONE
(
¯
è(×a)->
i_ump
->
	`um_¢­gÚe
×a))

	)

111 
	#UFS_LOCK
(
¯
è
	`mtx_lock
(&×a)->
um_lock
)

	)

112 
	#UFS_UNLOCK
(
¯
è
	`mtx_uÆock
(&×a)->
um_lock
)

	)

113 
	#UFS_MTX
(
¯
è(&×a)->
um_lock
)

	)

118 
	#UFS1
 1

	)

119 
	#UFS2
 2

	)

124 
	#QTF_OPENING
 0x01

	)

125 
	#QTF_CLOSING
 0x02

	)

128 
	#VFSTOUFS
(
mp
è((
ufsmouÁ
 *)((mp)->
mÁ_d©a
))

	)

129 
	#UFSTOVFS
(
ump
è(ump)->
um_mouÁp


	)

135 
	#MNINDIR
(
ump
è((ump)->
um_nšdœ
)

	)

136 
	#blk±¹odb
(
ump
, 
b
è((bè<< (ump)->
um_b±¹odb
)

	)

137 
	#is_£qu’tŸl
(
ump
, 
a
, 
b
è((bè=ğ×è+ ump->
um_£qšc
)

	)

	@/usr/include/unistd.h

37 #iâdeà
_UNISTD_H_


38 
	#_UNISTD_H_


	)

40 
	~<sys/cdefs.h
>

41 
	~<sys/ty³s.h
>

42 
	~<sys/uni¡d.h
>

43 
	~<sys/_nuÎ.h
>

44 
	~<sys/_ty³s.h
>

46 #iâdeà
_GID_T_DECLARED


47 
__gid_t
 
	tgid_t
;

48 
	#_GID_T_DECLARED


	)

51 #iâdeà
_OFF_T_DECLARED


52 
__off_t
 
	toff_t
;

53 
	#_OFF_T_DECLARED


	)

56 #iâdeà
_PID_T_DECLARED


57 
__pid_t
 
	tpid_t
;

58 
	#_PID_T_DECLARED


	)

61 #iâdeà
_SIZE_T_DECLARED


62 
__size_t
 
	tsize_t
;

63 
	#_SIZE_T_DECLARED


	)

66 #iâdeà
_SSIZE_T_DECLARED


67 
__ssize_t
 
	tssize_t
;

68 
	#_SSIZE_T_DECLARED


	)

71 #iâdeà
_UID_T_DECLARED


72 
__uid_t
 
	tuid_t
;

73 
	#_UID_T_DECLARED


	)

76 #iâdeà
_USECONDS_T_DECLARED


77 
__u£cÚds_t
 
	tu£cÚds_t
;

78 
	#_USECONDS_T_DECLARED


	)

81 
	#STDIN_FILENO
 0

	)

82 
	#STDOUT_FILENO
 1

	)

83 
	#STDERR_FILENO
 2

	)

85 #ià
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

86 
	#F_ULOCK
 0

	)

87 
	#F_LOCK
 1

	)

88 
	#F_TLOCK
 2

	)

89 
	#F_TEST
 3

	)

106 
	#_POSIX_BARRIERS
 200112L

	)

107 
	#_POSIX_READER_WRITER_LOCKS
 200112L

	)

108 
	#_POSIX_REGEXP
 1

	)

109 
	#_POSIX_SHELL
 1

	)

110 
	#_POSIX_SPAWN
 200112L

	)

111 
	#_POSIX_SPIN_LOCKS
 200112L

	)

112 
	#_POSIX_THREAD_ATTR_STACKADDR
 200112L

	)

113 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200112L

	)

114 
	#_POSIX_THREAD_CPUTIME
 200112L

	)

115 
	#_POSIX_THREAD_PRIO_INHERIT
 200112L

	)

116 
	#_POSIX_THREAD_PRIO_PROTECT
 200112L

	)

117 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200112L

	)

118 
	#_POSIX_THREAD_PROCESS_SHARED
 -1

	)

119 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 -1

	)

120 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

121 
	#_POSIX_THREADS
 200112L

	)

122 
	#_POSIX_TRACE
 -1

	)

123 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

124 
	#_POSIX_TRACE_INHERIT
 -1

	)

125 
	#_POSIX_TRACE_LOG
 -1

	)

126 
	#_POSIX2_C_BIND
 200112L

	)

127 
	#_POSIX2_C_DEV
 -1

	)

128 
	#_POSIX2_CHAR_TERM
 1

	)

129 
	#_POSIX2_FORT_DEV
 -1

	)

130 
	#_POSIX2_FORT_RUN
 200112L

	)

131 
	#_POSIX2_LOCALEDEF
 -1

	)

132 
	#_POSIX2_PBS
 -1

	)

133 
	#_POSIX2_PBS_ACCOUNTING
 -1

	)

134 
	#_POSIX2_PBS_CHECKPOINT
 -1

	)

135 
	#_POSIX2_PBS_LOCATE
 -1

	)

136 
	#_POSIX2_PBS_MESSAGE
 -1

	)

137 
	#_POSIX2_PBS_TRACK
 -1

	)

138 
	#_POSIX2_SW_DEV
 -1

	)

139 
	#_POSIX2_UPE
 200112L

	)

140 
	#_V6_ILP32_OFF32
 -1

	)

141 
	#_V6_ILP32_OFFBIG
 0

	)

142 
	#_V6_LP64_OFF64
 0

	)

143 
	#_V6_LPBIG_OFFBIG
 -1

	)

145 #ià
__XSI_VISIBLE


146 
	#_XOPEN_CRYPT
 -1

	)

147 
	#_XOPEN_ENH_I18N
 -1

	)

148 
	#_XOPEN_LEGACY
 -1

	)

149 
	#_XOPEN_REALTIME
 -1

	)

150 
	#_XOPEN_REALTIME_THREADS
 -1

	)

151 
	#_XOPEN_UNIX
 -1

	)

155 
	#_POSIX2_VERSION
 199212L

	)

166 
	#_SC_ARG_MAX
 1

	)

167 
	#_SC_CHILD_MAX
 2

	)

168 
	#_SC_CLK_TCK
 3

	)

169 
	#_SC_NGROUPS_MAX
 4

	)

170 
	#_SC_OPEN_MAX
 5

	)

171 
	#_SC_JOB_CONTROL
 6

	)

172 
	#_SC_SAVED_IDS
 7

	)

173 
	#_SC_VERSION
 8

	)

174 
	#_SC_BC_BASE_MAX
 9

	)

175 
	#_SC_BC_DIM_MAX
 10

	)

176 
	#_SC_BC_SCALE_MAX
 11

	)

177 
	#_SC_BC_STRING_MAX
 12

	)

178 
	#_SC_COLL_WEIGHTS_MAX
 13

	)

179 
	#_SC_EXPR_NEST_MAX
 14

	)

180 
	#_SC_LINE_MAX
 15

	)

181 
	#_SC_RE_DUP_MAX
 16

	)

182 
	#_SC_2_VERSION
 17

	)

183 
	#_SC_2_C_BIND
 18

	)

184 
	#_SC_2_C_DEV
 19

	)

185 
	#_SC_2_CHAR_TERM
 20

	)

186 
	#_SC_2_FORT_DEV
 21

	)

187 
	#_SC_2_FORT_RUN
 22

	)

188 
	#_SC_2_LOCALEDEF
 23

	)

189 
	#_SC_2_SW_DEV
 24

	)

190 
	#_SC_2_UPE
 25

	)

191 
	#_SC_STREAM_MAX
 26

	)

192 
	#_SC_TZNAME_MAX
 27

	)

194 #ià
__POSIX_VISIBLE
 >= 199309

195 
	#_SC_ASYNCHRONOUS_IO
 28

	)

196 
	#_SC_MAPPED_FILES
 29

	)

197 
	#_SC_MEMLOCK
 30

	)

198 
	#_SC_MEMLOCK_RANGE
 31

	)

199 
	#_SC_MEMORY_PROTECTION
 32

	)

200 
	#_SC_MESSAGE_PASSING
 33

	)

201 
	#_SC_PRIORITIZED_IO
 34

	)

202 
	#_SC_PRIORITY_SCHEDULING
 35

	)

203 
	#_SC_REALTIME_SIGNALS
 36

	)

204 
	#_SC_SEMAPHORES
 37

	)

205 
	#_SC_FSYNC
 38

	)

206 
	#_SC_SHARED_MEMORY_OBJECTS
 39

	)

207 
	#_SC_SYNCHRONIZED_IO
 40

	)

208 
	#_SC_TIMERS
 41

	)

209 
	#_SC_AIO_LISTIO_MAX
 42

	)

210 
	#_SC_AIO_MAX
 43

	)

211 
	#_SC_AIO_PRIO_DELTA_MAX
 44

	)

212 
	#_SC_DELAYTIMER_MAX
 45

	)

213 
	#_SC_MQ_OPEN_MAX
 46

	)

214 
	#_SC_PAGESIZE
 47

	)

215 
	#_SC_RTSIG_MAX
 48

	)

216 
	#_SC_SEM_NSEMS_MAX
 49

	)

217 
	#_SC_SEM_VALUE_MAX
 50

	)

218 
	#_SC_SIGQUEUE_MAX
 51

	)

219 
	#_SC_TIMER_MAX
 52

	)

222 #ià
__POSIX_VISIBLE
 >= 200112

223 
	#_SC_2_PBS
 59

	)

224 
	#_SC_2_PBS_ACCOUNTING
 60

	)

225 
	#_SC_2_PBS_CHECKPOINT
 61

	)

226 
	#_SC_2_PBS_LOCATE
 62

	)

227 
	#_SC_2_PBS_MESSAGE
 63

	)

228 
	#_SC_2_PBS_TRACK
 64

	)

229 
	#_SC_ADVISORY_INFO
 65

	)

230 
	#_SC_BARRIERS
 66

	)

231 
	#_SC_CLOCK_SELECTION
 67

	)

232 
	#_SC_CPUTIME
 68

	)

233 
	#_SC_FILE_LOCKING
 69

	)

234 
	#_SC_GETGR_R_SIZE_MAX
 70

	)

235 
	#_SC_GETPW_R_SIZE_MAX
 71

	)

236 
	#_SC_HOST_NAME_MAX
 72

	)

237 
	#_SC_LOGIN_NAME_MAX
 73

	)

238 
	#_SC_MONOTONIC_CLOCK
 74

	)

239 
	#_SC_MQ_PRIO_MAX
 75

	)

240 
	#_SC_READER_WRITER_LOCKS
 76

	)

241 
	#_SC_REGEXP
 77

	)

242 
	#_SC_SHELL
 78

	)

243 
	#_SC_SPAWN
 79

	)

244 
	#_SC_SPIN_LOCKS
 80

	)

245 
	#_SC_SPORADIC_SERVER
 81

	)

246 
	#_SC_THREAD_ATTR_STACKADDR
 82

	)

247 
	#_SC_THREAD_ATTR_STACKSIZE
 83

	)

248 
	#_SC_THREAD_CPUTIME
 84

	)

249 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 85

	)

250 
	#_SC_THREAD_KEYS_MAX
 86

	)

251 
	#_SC_THREAD_PRIO_INHERIT
 87

	)

252 
	#_SC_THREAD_PRIO_PROTECT
 88

	)

253 
	#_SC_THREAD_PRIORITY_SCHEDULING
 89

	)

254 
	#_SC_THREAD_PROCESS_SHARED
 90

	)

255 
	#_SC_THREAD_SAFE_FUNCTIONS
 91

	)

256 
	#_SC_THREAD_SPORADIC_SERVER
 92

	)

257 
	#_SC_THREAD_STACK_MIN
 93

	)

258 
	#_SC_THREAD_THREADS_MAX
 94

	)

259 
	#_SC_TIMEOUTS
 95

	)

260 
	#_SC_THREADS
 96

	)

261 
	#_SC_TRACE
 97

	)

262 
	#_SC_TRACE_EVENT_FILTER
 98

	)

263 
	#_SC_TRACE_INHERIT
 99

	)

264 
	#_SC_TRACE_LOG
 100

	)

265 
	#_SC_TTY_NAME_MAX
 101

	)

266 
	#_SC_TYPED_MEMORY_OBJECTS
 102

	)

267 
	#_SC_V6_ILP32_OFF32
 103

	)

268 
	#_SC_V6_ILP32_OFFBIG
 104

	)

269 
	#_SC_V6_LP64_OFF64
 105

	)

270 
	#_SC_V6_LPBIG_OFFBIG
 106

	)

271 
	#_SC_IPV6
 118

	)

272 
	#_SC_RAW_SOCKETS
 119

	)

273 
	#_SC_SYMLOOP_MAX
 120

	)

276 #ià
__XSI_VISIBLE


277 
	#_SC_ATEXIT_MAX
 107

	)

278 
	#_SC_IOV_MAX
 56

	)

279 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

280 
	#_SC_XOPEN_CRYPT
 108

	)

281 
	#_SC_XOPEN_ENH_I18N
 109

	)

282 
	#_SC_XOPEN_LEGACY
 110

	)

283 
	#_SC_XOPEN_REALTIME
 111

	)

284 
	#_SC_XOPEN_REALTIME_THREADS
 112

	)

285 
	#_SC_XOPEN_SHM
 113

	)

286 
	#_SC_XOPEN_STREAMS
 114

	)

287 
	#_SC_XOPEN_UNIX
 115

	)

288 
	#_SC_XOPEN_VERSION
 116

	)

289 
	#_SC_XOPEN_XCU_VERSION
 117

	)

292 #ià
__BSD_VISIBLE


293 
	#_SC_NPROCESSORS_CONF
 57

	)

294 
	#_SC_NPROCESSORS_ONLN
 58

	)

298 
	#_SC_PHYS_PAGES
 121

	)

301 #ià
__POSIX_VISIBLE
 >= 199209

302 
	#_CS_PATH
 1

	)

305 #ià
__POSIX_VISIBLE
 >= 200112

306 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 2

	)

307 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 3

	)

308 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 4

	)

309 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 5

	)

310 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 6

	)

311 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 7

	)

312 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 8

	)

313 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 9

	)

314 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 10

	)

315 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 11

	)

316 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 12

	)

317 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 13

	)

318 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 14

	)

321 
__BEGIN_DECLS


323 
	$_ex™
(è
__d—d2
;

324 
	`acûss
(const *, );

325 
	`®¬m
();

326 
	`chdœ
(const *);

327 
	`chown
(cÚ¡ *, 
uid_t
, 
gid_t
);

328 
	`şo£
();

329 
	`şo£äom
();

330 
	`dup
();

331 
	`dup2
(, );

332 
	`exeş
(const *, const *, ...);

333 
	`exeşe
(const *, const *, ...);

334 
	`exeşp
(const *, const *, ...);

335 
	`execv
(const *, * const *);

336 
	`execve
(const *, * const *, * const *);

337 
	`execvp
(const *, * const *);

338 
pid_t
 
	`fÜk
();

339 
	`å©hcÚf
(, );

340 *
	`g‘cwd
(*, 
size_t
);

341 
gid_t
 
	`g‘egid
();

342 
uid_t
 
	`g‘euid
();

343 
gid_t
 
	`g‘gid
();

344 
	`g‘groups
(, 
gid_t
 []);

345 *
	`g‘logš
();

346 
pid_t
 
	`g‘pg½
();

347 
pid_t
 
	`g‘pid
();

348 
pid_t
 
	`g‘µid
();

349 
uid_t
 
	`g‘uid
();

350 
	`i§‰y
();

351 
	`lšk
(const *, const *);

352 #iâdeà
_LSEEK_DECLARED


353 
	#_LSEEK_DECLARED


	)

354 
off_t
 
	`l£ek
(, off_t, );

356 
	`·thcÚf
(const *, );

357 
	`·u£
();

358 
	`pe
(*);

359 
ssize_t
 
	`»ad
(, *, 
size_t
);

360 
	`rmdœ
(const *);

361 
	`£tgid
(
gid_t
);

362 
	`£gid
(
pid_t
,…id_t);

363 
pid_t
 
	`£tsid
();

364 
	`£tuid
(
uid_t
);

365 
	`¦“p
();

366 
	`syscÚf
();

367 
pid_t
 
	`tcg‘pg½
();

368 
	`tc£g½
(, 
pid_t
);

369 *
	`‰yÇme
();

370 
	`‰yÇme_r
(, *, 
size_t
);

371 
	`uÆšk
(const *);

372 
ssize_t
 
	`wr™e
(, cÚ¡ *, 
size_t
);

375 #ià
__POSIX_VISIBLE
 >ğ199209 || 
__XSI_VISIBLE


376 
size_t
 
	`cÚf¡r
(, *, size_t);

377 #iâdeà
_GETOPT_DECLARED


378 
	#_GETOPT_DECLARED


	)

379 
	`g‘İt
(, * const [], const *);

381 *
İrg
;

382 
İtšd
, 
İ‹¼
, 
İtİt
;

387 #ià
__POSIX_VISIBLE
 >ğ199506 || 
__XSI_VISIBLE


388 
	`fsync
();

394 #iâdeà
_FTRUNCATE_DECLARED


395 
	#_FTRUNCATE_DECLARED


	)

396 
	`árunÿ‹
(, 
off_t
);

400 #ià
__POSIX_VISIBLE
 >= 199506

401 
	`g‘logš_r
(*, );

405 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


406 
	`fchown
(, 
uid_t
, 
gid_t
);

407 
ssize_t
 
	`»adlšk
(cÚ¡ * 
__»¡riù
, * __»¡riù, 
size_t
);

409 #ià
__POSIX_VISIBLE
 >= 200112

410 
	`g‘ho¡Çme
(*, 
size_t
);

411 
	`£‹gid
(
gid_t
);

412 
	`£‹uid
(
uid_t
);

416 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__XSI_VISIBLE


417 
	`g‘sid
(
pid_t
 
_pid
);

418 
	`fchdœ
();

419 
	`g‘pgid
(
pid_t
 
_pid
);

420 
	`lchown
(cÚ¡ *, 
uid_t
, 
gid_t
);

421 
ssize_t
 
	`´—d
(, *, 
size_t
, 
off_t
);

422 
ssize_t
 
	`pwr™e
(, cÚ¡ *, 
size_t
, 
off_t
);

425 #iâdeà
_TRUNCATE_DECLARED


426 
	#_TRUNCATE_DECLARED


	)

427 
	`Œunÿ‹
(cÚ¡ *, 
off_t
);

431 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__BSD_VISIBLE


432 
	`çcûs§t
(, const *, , );

433 
	`fchowÇt
(, cÚ¡ *, 
uid_t
, 
gid_t
, );

434 
	`ãxecve
(, *const [], *const []);

435 
	`lšk©
(, const *, , const *, );

436 
ssize_t
 
	`»adlšk©
(, cÚ¡ * 
__»¡riù
, * __»¡riù, 
size_t
);

437 
	`symlšk©
(const *, , const *);

438 
	`uÆšk©
(, const *, );

446 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE
 >ğ402 || 
__BSD_VISIBLE


447 
	`symlšk
(cÚ¡ * 
__»¡riù
, const * __restrict);

451 #ià
__XSI_VISIBLE


452 *
	`üy±
(const *, const *);

454 
	`’üy±
(*, );

455 
	`g‘ho¡id
();

456 
	`lockf
(, , 
off_t
);

457 
	`niû
();

458 
	`£g½
(
pid_t
 
_pid
,…id_ˆ
_pg½
);

459 
	`£Œegid
(
gid_t
, gid_t);

460 
	`£Œeuid
(
uid_t
, uid_t);

462 #iâdeà
_SWAB_DECLARED


463 
	#_SWAB_DECLARED


	)

464 
	`swab
(cÚ¡ * 
__»¡riù
, * __»¡riù, 
ssize_t
);

467 
	`sync
();

471 #ià(
__XSI_VISIBLE
 && __XSI_VISIBLE <ğ500è|| 
__BSD_VISIBLE


472 
	`brk
(const *);

473 
	`chroÙ
(const *);

474 
	`g‘dbËsize
();

475 
	$g‘·gesize
(è
__pu»2
;

476 *
	`g‘·ss
(const *);

477 *
	`sbrk
(
šŒ_t
);

480 #ià(
__XSI_VISIBLE
 && __XSI_VISIBLE <ğ600è|| 
__BSD_VISIBLE


481 *
	`g‘wd
(*);

482 
u£cÚds_t


483 
	`u®¬m
(
u£cÚds_t
, useconds_t);

484 
	`u¦“p
(
u£cÚds_t
);

485 
pid_t
 
	`vfÜk
();

488 #ià
__BSD_VISIBLE


489 
timev®
;

490 
	`acù
(const *);

491 
	`async_d«mÚ
();

492 
	`check_ut™y_com·t
(const *);

494 
	`üy±_g‘_fÜm©
();

495 
	`üy±_£t_fÜm©
(const *);

496 
	`des_ch”
(const *, *, , );

497 
	`des_£tkey
(cÚ¡ *
key
);

498 
	`—cûss
(const *, );

499 
	`’du£rsh–l
();

500 
	`exeù
(const *, * const *, * const *);

501 
	`execvP
(const *, const *, * const *);

502 
	`ã©u»_´e£Á
(const *);

503 *
	`fæag¡o¡r
(
u_lÚg
);

504 
	`g‘domašÇme
(*, );

505 
	`g‘grou¶i¡
(cÚ¡ *, 
gid_t
, gid_t *, *);

506 
mode_t
 
	`g‘mode
(const *, mode_t);

507 
	`g‘o¤–d©e
();

508 
	`g‘³”eid
(, 
uid_t
 *, 
gid_t
 *);

509 
	`g‘»sgid
(
gid_t
 *, gid_t *, gid_t *);

510 
	`g‘»suid
(
uid_t
 *, uid_t *, uid_t *);

511 *
	`g‘u£rsh–l
();

512 
	`š™groups
(cÚ¡ *, 
gid_t
);

513 
	`œu£rok
(, , const *, const *);

514 
	`œu£rok_§
(const *, , , const *, const *);

515 
	`is£tugid
();

516 
	`__F»eBSD_libc_’‹r_»¡riùed_mode
();

517 
	`Í©hcÚf
(const *, );

518 #iâdeà
_MKDTEMP_DECLARED


519 *
	`mkd‹mp
(*);

520 
	#_MKDTEMP_DECLARED


	)

522 #iâdef 
_MKNOD_DECLARED


523 
	`mknod
(cÚ¡ *, 
mode_t
, 
dev_t
);

524 
	#_MKNOD_DECLARED


	)

526 #iâdeà
_MKSTEMP_DECLARED


527 
	`mk¡emp
(*);

528 
	#_MKSTEMP_DECLARED


	)

530 
	`mk¡emps
(*, );

531 #iâdeà
_MKTEMP_DECLARED


532 *
	`mk‹mp
(*);

533 
	#_MKTEMP_DECLARED


	)

535 
	`nfssvc
(, *);

536 
	`´of
(*, 
size_t
, 
vm_off£t_t
, );

537 
	`rcmd
(**, , const *, const *, const *, *);

538 
	`rcmd_af
(**, , const *,

540 
	`rcmdsh
(**, , const *,

542 *
	`»_comp
(const *);

543 
	`»_exec
(const *);

544 
	`»boÙ
();

545 
	`»voke
(const *);

546 
pid_t
 
	`rfÜk
();

547 
pid_t
 
	`rfÜk_th»ad
(, *, (*)(*), *);

548 
	`¼esvpÜt
(*);

549 
	`¼esvpÜt_af
(*, );

550 
	`ru£rok
(const *, , const *, const *);

551 #ià
__BSD_VISIBLE


552 #iâdeà
_SELECT_DECLARED


553 
	#_SELECT_DECLARED


	)

554 
	`£Ëù
(, 
fd_£t
 *, fd_£ˆ*, fd_£ˆ*, 
timev®
 *);

557 
	`£tdomašÇme
(const *, );

558 
	`£tgroups
(, cÚ¡ 
gid_t
 *);

559 
	`£tho¡id
();

560 
	`£tho¡Çme
(const *, );

561 #iâdeà
_SETKEY_DECLARED


562 
	`£tkey
(const *);

563 
	#_SETKEY_DECLARED


	)

565 
	`£ogš
(const *);

566 *
	`£tmode
(const *);

567 
	$£roù™Ë
(cÚ¡ *
_fmt
, ...è
	`__´štf0like
(1, 2);

568 
	`£Œesgid
(
gid_t
, gid_t, gid_t);

569 
	`£Œesuid
(
uid_t
, uid_t, uid_t);

570 
	`£Œgid
(
gid_t
);

571 
	`£Œuid
(
uid_t
);

572 
	`£tu£rsh–l
();

573 
	`¡¹ofæags
(**, 
u_lÚg
 *, u_long *);

574 
	`sw­Ú
(const *);

575 
	`sw­off
(const *);

576 
	`sysÿÎ
(, ...);

577 
off_t
 
	`__sysÿÎ
(
quad_t
, ...);

578 
	`‰y¦Ù
();

579 
	`und–‘e
(const *);

580 
	`unwh™eout
(const *);

581 *
	`v®loc
(
size_t
);

583 #iâdeà
_OPTRESET_DECLARED


584 
	#_OPTRESET_DECLARED


	)

585 
İŒe£t
;

588 
__END_DECLS


	@/usr/include/utmp.h

42 #iâdef 
_UTMP_H_


43 
	#_UTMP_H_


	)

45 
	#_PATH_UTMP
 "/v¬/run/utmp"

	)

46 
	#_PATH_WTMP
 "/v¬/log/wtmp"

	)

47 
	#_PATH_LASTLOG
 "/v¬/log/Ï¡log"

	)

56 
	#UT_NAMESIZE
 16

	)

57 
	#UT_LINESIZE
 8

	)

58 
	#UT_HOSTSIZE
 16

	)

60 
	sÏ¡log
 {

61 
št32_t
 
	mÎ_time
;

62 
	mÎ_lše
[
UT_LINESIZE
];

63 
	mÎ_ho¡
[
UT_HOSTSIZE
];

66 
	sutmp
 {

67 
	mut_lše
[
UT_LINESIZE
];

68 
	mut_Çme
[
UT_NAMESIZE
];

69 
	mut_ho¡
[
UT_HOSTSIZE
];

70 
št32_t
 
	mut_time
;

	@/usr/include/uuid.h

30 #iâdeà
_UUID_H_


31 
	#_UUID_H_


	)

33 
	~<sys/ty³s.h
>

34 
	~<sys/uuid.h
>

43 
	#uuid_s_ok
 0

	)

44 
	#uuid_s_bad_v”siÚ
 1

	)

45 
	#uuid_s_šv®id_¡ršg_uuid
 2

	)

46 
	#uuid_s_no_memÜy
 3

	)

48 
__BEGIN_DECLS


49 
št32_t
 
uuid_com·»
(cÚ¡ 
uuid_t
 *, cÚ¡ uuid_ˆ*, 
ušt32_t
 *);

50 
uuid_ü—‹
(
uuid_t
 *, 
ušt32_t
 *);

51 
uuid_ü—‹_n
(
uuid_t
 *, 
ušt32_t
 *);

52 
št32_t
 
uuid_equ®
(cÚ¡ 
uuid_t
 *, cÚ¡ uuid_ˆ*, 
ušt32_t
 *);

53 
uuid_äom_¡ršg
(cÚ¡ *, 
uuid_t
 *, 
ušt32_t
 *);

54 
ušt16_t
 
uuid_hash
(cÚ¡ 
uuid_t
 *, 
ušt32_t
 *);

55 
št32_t
 
uuid_is_n
(cÚ¡ 
uuid_t
 *, 
ušt32_t
 *);

56 
uuid_to_¡ršg
(cÚ¡ 
uuid_t
 *, **, 
ušt32_t
 *);

57 
uuid_’c_Ë
(*, cÚ¡ 
uuid_t
 *);

58 
uuid_dec_Ë
(cÚ¡ *, 
uuid_t
 *);

59 
uuid_’c_be
(*, cÚ¡ 
uuid_t
 *);

60 
uuid_dec_be
(cÚ¡ *, 
uuid_t
 *);

61 
	g__END_DECLS


	@/usr/include/vis.h

37 #iâdeà
_VIS_H_


38 
	#_VIS_H_


	)

40 
	~<sys/_ty³s.h
>

42 #iâdeà
_SIZE_T_DECLARED


43 
__size_t
 
	tsize_t
;

44 
	#_SIZE_T_DECLARED


	)

50 
	#VIS_OCTAL
 0x01

	)

51 
	#VIS_CSTYLE
 0x02

	)

57 
	#VIS_SP
 0x04

	)

58 
	#VIS_TAB
 0x08

	)

59 
	#VIS_NL
 0x10

	)

60 
	#VIS_WHITE
 (
VIS_SP
 | 
VIS_TAB
 | 
VIS_NL
)

	)

61 
	#VIS_SAFE
 0x20

	)

66 
	#VIS_NOSLASH
 0x40

	)

67 
	#VIS_HTTPSTYLE
 0x80

	)

68 
	#VIS_GLOB
 0x100

	)

73 
	#UNVIS_VALID
 1

	)

74 
	#UNVIS_VALIDPUSH
 2

	)

75 
	#UNVIS_NOCHAR
 3

	)

76 
	#UNVIS_SYNBAD
 -1

	)

77 
	#UNVIS_ERROR
 -2

	)

82 
	#UNVIS_END
 1

	)

84 
	~<sys/cdefs.h
>

86 
__BEGIN_DECLS


87 *
vis
(*, , , );

88 
¡rvis
(*, const *, );

89 
¡rvisx
(*, cÚ¡ *, 
size_t
, );

90 
¡runvis
(*, const *);

91 
¡runvisx
(*, const *, );

92 
unvis
(*, , *, );

93 
	g__END_DECLS


	@/usr/include/wchar.h

67 #iâdeà
_WCHAR_H_


68 
	#_WCHAR_H_


	)

70 
	~<sys/cdefs.h
>

71 
	~<sys/_nuÎ.h
>

72 
	~<sys/_ty³s.h
>

73 
	~<machše/_lim™s.h
>

74 
	~<_ùy³.h
>

76 #iâdeà
_MBSTATE_T_DECLARED


77 
__mb¡©e_t
 
	tmb¡©e_t
;

78 
	#_MBSTATE_T_DECLARED


	)

81 #iâdeà
_SIZE_T_DECLARED


82 
__size_t
 
	tsize_t
;

83 
	#_SIZE_T_DECLARED


	)

86 #iâdef 
__ılu¥lus


87 #iâdeà
_WCHAR_T_DECLARED


88 
__wch¬_t
 
	twch¬_t
;

89 
	#_WCHAR_T_DECLARED


	)

93 #iâdeà
_WINT_T_DECLARED


94 
__wšt_t
 
	twšt_t
;

95 
	#_WINT_T_DECLARED


	)

98 #iâdef 
WCHAR_MIN


99 
	#WCHAR_MIN
 
__INT_MIN


	)

100 
	#WCHAR_MAX
 
__INT_MAX


	)

103 #iâdeà
WEOF


104 
	#WEOF
 ((
wšt_t
)-1)

	)

107 
	g__sFILE
;

108 
	gtm
;

110 
__BEGIN_DECLS


111 
wšt_t
 
btowc
();

112 
wšt_t
 
fg‘wc
(
__sFILE
 *);

113 
wch¬_t
 *

114 
fg‘ws
(
wch¬_t
 * 
__»¡riù
, , 
__sFILE
 * __restrict);

115 
wšt_t
 
åutwc
(
wch¬_t
, 
__sFILE
 *);

116 
åutws
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, 
__sFILE
 * __restrict);

117 
fwide
(
__sFILE
 *, );

118 
fw´štf
(
__sFILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict, ...);

119 
fwsÿnf
(
__sFILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict, ...);

120 
wšt_t
 
g‘wc
(
__sFILE
 *);

121 
wšt_t
 
g‘wch¬
();

122 
size_t
 
mb¾’
(cÚ¡ * 
__»¡riù
, size_t, 
mb¡©e_t
 * __restrict);

123 
size_t
 
mb¹owc
(
wch¬_t
 * 
__»¡riù
, const * __restrict, size_t,

124 
mb¡©e_t
 * 
__»¡riù
);

125 
mbsš™
(cÚ¡ 
mb¡©e_t
 *);

126 
size_t
 
mb¤towcs
(
wch¬_t
 * 
__»¡riù
, const ** __restrict, size_t,

127 
mb¡©e_t
 * 
__»¡riù
);

128 
wšt_t
 
putwc
(
wch¬_t
, 
__sFILE
 *);

129 
wšt_t
 
putwch¬
(
wch¬_t
);

130 
sw´štf
(
wch¬_t
 * 
__»¡riù
, 
size_t
 
n
, const wchar_t * __restrict,

132 
swsÿnf
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, const wchar_t * __restrict, ...);

133 
wšt_t
 
ung‘wc
(wšt_t, 
__sFILE
 *);

134 
vfw´štf
(
__sFILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

135 
__va_li¡
);

136 
vsw´štf
(
wch¬_t
 * 
__»¡riù
, 
size_t
 
n
, const wchar_t * __restrict,

137 
__va_li¡
);

138 
vw´štf
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, 
__va_li¡
);

139 
size_t
 
wütomb
(* 
__»¡riù
, 
wch¬_t
, 
mb¡©e_t
 * __restrict);

140 
wch¬_t
 *
wcsÿt
(wch¬_ˆ* 
__»¡riù
, const wchar_t * __restrict);

141 
wch¬_t
 *
	$wcschr
(cÚ¡ 
wch¬_t
 *, wch¬_tè
__pu»
;

142 
	$wcscmp
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*è
__pu»
;

143 
	`wcscŞl
(cÚ¡ 
wch¬_t
 *, const wchar_t *);

144 
wch¬_t
 *
	`wcsıy
(wch¬_ˆ* 
__»¡riù
, const wchar_t * __restrict);

145 
size_t
 
	$wcsc¥n
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*è
__pu»
;

146 
size_t
 
	`wcsáime
(
wch¬_t
 * 
__»¡riù
, size_t, const wchar_t * __restrict,

147 cÚ¡ 
tm
 * 
__»¡riù
);

148 
size_t
 
	$wc¦’
(cÚ¡ 
wch¬_t
 *è
__pu»
;

149 
wch¬_t
 *
	`wc¢ÿt
(wch¬_ˆ* 
__»¡riù
, const wchar_t * __restrict,

150 
size_t
);

151 
	$wc¢cmp
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*, 
size_t
è
__pu»
;

152 
wch¬_t
 *
	`wc¢ıy
(wch¬_ˆ* 
__»¡riù
 , cÚ¡ wch¬_ˆ* __»¡riù, 
size_t
);

153 
wch¬_t
 *
	$wc¥brk
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*è
__pu»
;

154 
wch¬_t
 *
	$wc¤chr
(cÚ¡ 
wch¬_t
 *, wch¬_tè
__pu»
;

155 
size_t
 
	`wc¤tombs
(* 
__»¡riù
, cÚ¡ 
wch¬_t
 ** __restrict, size_t,

156 
mb¡©e_t
 * 
__»¡riù
);

157 
size_t
 
	$wcs¥n
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*è
__pu»
;

158 
wch¬_t
 *
	$wcs¡r
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, const wchar_t * __restrict)

159 
__pu»
;

160 
size_t
 
	`wcsxäm
(
wch¬_t
 * 
__»¡riù
, const wchar_t * __restrict, size_t);

161 
	`wùob
(
wšt_t
);

162 
	`wc¡od
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict);

163 
wch¬_t
 *
	`wc¡ok
(wch¬_ˆ* 
__»¡riù
, const wchar_t * __restrict,

164 
wch¬_t
 ** 
__»¡riù
);

165 
	`wc¡Ş
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict, );

167 
	`wc¡oul
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict, );

168 
wch¬_t
 *
	$wmemchr
(cÚ¡ 
wch¬_t
 *, wch¬_t, 
size_t
è
__pu»
;

169 
	$wmemcmp
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*, 
size_t
è
__pu»
;

170 
wch¬_t
 *
	`wmemıy
(wch¬_ˆ* 
__»¡riù
, cÚ¡ wch¬_ˆ* __»¡riù, 
size_t
);

171 
wch¬_t
 *
	`wmemmove
(wch¬_ˆ*, cÚ¡ wch¬_ˆ*, 
size_t
);

172 
wch¬_t
 *
	`wmem£t
(wch¬_ˆ*, wch¬_t, 
size_t
);

173 
	`w´štf
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, ...);

174 
	`wsÿnf
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, ...);

176 #iâdeà
_STDSTREAM_DECLARED


177 
__sFILE
 *
__¡dšp
;

178 
__sFILE
 *
__¡dou
;

179 
__sFILE
 *
__¡d”½
;

180 
	#_STDSTREAM_DECLARED


	)

183 
	#g‘wc
(
å
è
	`fg‘wc
(å)

	)

184 
	#g‘wch¬
(è
	`fg‘wc
(
__¡dšp
)

	)

185 
	#putwc
(
wc
, 
å
è
	`åutwc
(wc, fp)

	)

186 
	#putwch¬
(
wc
è
	`åutwc
(wc, 
__¡dou
)

	)

188 #ià
__ISO_C_VISIBLE
 >= 1999

189 
	`vfwsÿnf
(
__sFILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

190 
__va_li¡
);

191 
	`vswsÿnf
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, const wchar_t * __restrict,

192 
__va_li¡
);

193 
	`vwsÿnf
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, 
__va_li¡
);

194 
	`wc¡of
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict);

196 
	`wc¡Şd
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict);

197 #ifdeà
__LONG_LONG_SUPPORTED


200 
	`wc¡Şl
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict, );

203 
	`wc¡ouÎ
(cÚ¡ 
wch¬_t
 * 
__»¡riù
, wchar_t ** __restrict, );

207 #ià
__XSI_VISIBLE


208 
	`wcswidth
(cÚ¡ 
wch¬_t
 *, 
size_t
);

209 
	`wcwidth
(
wch¬_t
);

210 
	#wcwidth
(
_c
è
	`__wcwidth
(_c)

	)

213 #ià
__POSIX_VISIBLE
 >ğ200809 || 
__BSD_VISIBLE


214 
size_t
 
	`mb¢¹owcs
(
wch¬_t
 * 
__»¡riù
, const ** __restrict, size_t,

215 
size_t
, 
mb¡©e_t
 * 
__»¡riù
);

216 
wch¬_t
 *
	`wııy
(wch¬_ˆ* 
__»¡riù
, const wchar_t * __restrict);

217 
wch¬_t
 *
	`wınıy
(wch¬_ˆ* 
__»¡riù
, cÚ¡ wch¬_ˆ* __»¡riù, 
size_t
);

218 
wch¬_t
 *
	$wcsdup
(cÚ¡ 
wch¬_t
 *è
__m®loc_like
;

219 
	`wcsÿ£cmp
(cÚ¡ 
wch¬_t
 *, const wchar_t *);

220 
	`wc¢ÿ£cmp
(cÚ¡ 
wch¬_t
 *, cÚ¡ wch¬_ˆ*, 
size_t
 
n
);

221 
size_t
 
	$wc¢Ën
(cÚ¡ 
wch¬_t
 *, 
size_t
è
__pu»
;

222 
size_t
 
	`wc¢¹ombs
(* 
__»¡riù
, cÚ¡ 
wch¬_t
 ** __restrict, size_t,

223 
size_t
, 
mb¡©e_t
 * 
__»¡riù
);

226 #ià
__BSD_VISIBLE


227 
wch¬_t
 *
	`fg‘wÊ
(
__sFILE
 * 
__»¡riù
, 
size_t
 * __restrict);

228 
size_t
 
	`wc¦ÿt
(
wch¬_t
 *, const wchar_t *, size_t);

229 
size_t
 
	`wc¦ıy
(
wch¬_t
 *, const wchar_t *, size_t);

231 
__END_DECLS


	@/usr/include/wctype.h

31 #iâdeà
_WCTYPE_H_


32 
	#_WCTYPE_H_


	)

34 
	~<sys/cdefs.h
>

35 
	~<sys/_ty³s.h
>

37 
	~<_ùy³.h
>

39 #iâdeà
_WCTRANS_T


40 
	twù¿ns_t
;

41 
	#_WCTRANS_T


	)

44 #iâdeà
_WCTYPE_T


45 
	twùy³_t
;

46 
	#_WCTYPE_T


	)

49 #iâdeà
_WINT_T_DECLARED


50 
__wšt_t
 
	twšt_t
;

51 
	#_WINT_T_DECLARED


	)

54 #iâdeà
WEOF


55 
	#WEOF
 ((
wšt_t
)-1)

	)

58 
__BEGIN_DECLS


59 
isw®num
(
wšt_t
);

60 
isw®pha
(
wšt_t
);

61 
iswbÏnk
(
wšt_t
);

62 
iswúŒl
(
wšt_t
);

63 
iswùy³
(
wšt_t
, 
wùy³_t
);

64 
iswdig™
(
wšt_t
);

65 
iswg¿ph
(
wšt_t
);

66 
iswlow”
(
wšt_t
);

67 
isw´št
(
wšt_t
);

68 
iswpunù
(
wšt_t
);

69 
isw¥aû
(
wšt_t
);

70 
iswuµ”
(
wšt_t
);

71 
iswxdig™
(
wšt_t
);

72 
wšt_t
 
towù¿ns
(wšt_t, 
wù¿ns_t
);

73 
wšt_t
 
towlow”
(wint_t);

74 
wšt_t
 
towuµ”
(wint_t);

75 
wù¿ns_t


76 
wù¿ns
(const *);

77 
wùy³_t


78 
wùy³
(const *);

80 #ià
__BSD_VISIBLE


81 
wšt_t
 
iswascii
(wint_t);

82 
wšt_t
 
iswhexnumb”
(wint_t);

83 
wšt_t
 
iswideog¿m
(wint_t);

84 
wšt_t
 
iswnumb”
(wint_t);

85 
wšt_t
 
iswphÚog¿m
(wint_t);

86 
wšt_t
 
iswruÃ
(wint_t);

87 
wšt_t
 
isw¥ecŸl
(wint_t);

88 
wšt_t
 
Ãxtwùy³
(wšt_t, 
wùy³_t
);

90 
	g__END_DECLS


92 
	#isw®num
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_A
|
_CTYPE_D
)

	)

93 
	#isw®pha
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_A
)

	)

94 
	#iswbÏnk
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_B
)

	)

95 
	#iswúŒl
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_C
)

	)

96 
	#iswùy³
(
wc
, 
ch¬şass
è
	`__i¡y³
((wc), (ch¬şass))

	)

97 
	#iswdig™
(
wc
è
	`__isùy³
((wc), 
_CTYPE_D
)

	)

98 
	#iswg¿ph
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_G
)

	)

99 
	#iswlow”
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_L
)

	)

100 
	#isw´št
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_R
)

	)

101 
	#iswpunù
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_P
)

	)

102 
	#isw¥aû
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_S
)

	)

103 
	#iswuµ”
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_U
)

	)

104 
	#iswxdig™
(
wc
è
	`__isùy³
((wc), 
_CTYPE_X
)

	)

105 
	#towlow”
(
wc
è
	`__tŞow”
(wc)

	)

106 
	#towuµ”
(
wc
è
	`__touµ”
(wc)

	)

108 #ià
__BSD_VISIBLE


109 
	#iswascii
(
wc
è(((wcè& ~0x7Fè=ğ0)

	)

110 
	#iswhexnumb”
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_X
)

	)

111 
	#iswideog¿m
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_I
)

	)

112 
	#iswnumb”
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_D
)

	)

113 
	#iswphÚog¿m
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_Q
)

	)

114 
	#iswruÃ
(
wc
è
	`__i¡y³
((wc), 0xFFFFFF00L)

	)

115 
	#isw¥ecŸl
(
wc
è
	`__i¡y³
((wc), 
_CTYPE_T
)

	)

	@/usr/include/_ctype.h

46 #iâdeà
__CTYPE_H_


47 
	#__CTYPE_H_


	)

49 
	~<sys/cdefs.h
>

50 
	~<sys/_ty³s.h
>

52 
	#_CTYPE_A
 0x00000100L

	)

53 
	#_CTYPE_C
 0x00000200L

	)

54 
	#_CTYPE_D
 0x00000400L

	)

55 
	#_CTYPE_G
 0x00000800L

	)

56 
	#_CTYPE_L
 0x00001000L

	)

57 
	#_CTYPE_P
 0x00002000L

	)

58 
	#_CTYPE_S
 0x00004000L

	)

59 
	#_CTYPE_U
 0x00008000L

	)

60 
	#_CTYPE_X
 0x00010000L

	)

61 
	#_CTYPE_B
 0x00020000L

	)

62 
	#_CTYPE_R
 0x00040000L

	)

63 
	#_CTYPE_I
 0x00080000L

	)

64 
	#_CTYPE_T
 0x00100000L

	)

65 
	#_CTYPE_Q
 0x00200000L

	)

66 
	#_CTYPE_SW0
 0x20000000L

	)

67 
	#_CTYPE_SW1
 0x40000000L

	)

68 
	#_CTYPE_SW2
 0x80000000L

	)

69 
	#_CTYPE_SW3
 0xc0000000L

	)

70 
	#_CTYPE_SWM
 0xe0000000L

	)

71 
	#_CTYPE_SWS
 30

	)

74 
__BEGIN_DECLS


75 
	$___ruÃty³
(
__ù_ruÃ_t
è
__pu»
;

76 
__ù_ruÃ_t
 
	$___tŞow”
(
__ù_ruÃ_t
è
__pu»
;

77 
__ù_ruÃ_t
 
	$___touµ”
(
__ù_ruÃ_t
è
__pu»
;

78 
__END_DECLS


84 #ifdeà
_EXTERNALIZE_CTYPE_INLINES_


85 
	#_USE_CTYPE_INLINE_


	)

86 

	)

87 
	#__šlše


	)

90 
__mb_sb_lim™
;

95 #ià!
	`defšed
(
_DONT_USE_CTYPE_INLINE_
) && \

96 (
	`defšed
(
_USE_CTYPE_INLINE_
è|| defšed(
__GNUC__
è|| 
	$defšed
(
__ılu¥lus
))

98 
	~<ruÃty³.h
>

100 
__šlše
 

101 
	$__maskruÃ
(
__ù_ruÃ_t
 
_c
, 
_f
)

103  ((
_c
 < 0 || _ø>ğ
_CACHED_RUNES
è? 
	`___ruÃty³
(_c) :

104 
_Cu¼’tRuÃLoÿË
->
__ruÃty³
[
_c
]è& 
_f
;

105 
	}
}

107 
__šlše
 

108 
	$__sbmaskruÃ
(
__ù_ruÃ_t
 
_c
, 
_f
)

110  (
_c
 < 0 || _ø>ğ
__mb_sb_lim™
) ? 0 :

111 
_Cu¼’tRuÃLoÿË
->
__ruÃty³
[
_c
] & 
_f
;

112 
	}
}

114 
__šlše
 

115 
	$__i¡y³
(
__ù_ruÃ_t
 
_c
, 
_f
)

117  (!!
	`__maskruÃ
(
_c
, 
_f
));

118 
	}
}

120 
__šlše
 

121 
	$__sbi¡y³
(
__ù_ruÃ_t
 
_c
, 
_f
)

123  (!!
	`__sbmaskruÃ
(
_c
, 
_f
));

124 
	}
}

126 
__šlše
 

127 
	$__isùy³
(
__ù_ruÃ_t
 
_c
, 
_f
)

129  (
_c
 < 0 || _c >= 128) ? 0 :

130 !!(
_DeçuÉRuÃLoÿË
.
__ruÃty³
[
_c
] & 
_f
);

131 
	}
}

133 
__šlše
 
__ù_ruÃ_t


134 
	$__touµ”
(
__ù_ruÃ_t
 
_c
)

136  (
_c
 < 0 || _ø>ğ
_CACHED_RUNES
è? 
	`___touµ”
(_c) :

137 
_Cu¼’tRuÃLoÿË
->
__m­uµ”
[
_c
];

138 
	}
}

140 
__šlše
 
__ù_ruÃ_t


141 
	$__sbtouµ”
(
__ù_ruÃ_t
 
_c
)

143  (
_c
 < 0 || _ø>ğ
__mb_sb_lim™
) ? _c :

144 
_Cu¼’tRuÃLoÿË
->
__m­uµ”
[
_c
];

145 
	}
}

147 
__šlše
 
__ù_ruÃ_t


148 
	$__tŞow”
(
__ù_ruÃ_t
 
_c
)

150  (
_c
 < 0 || _ø>ğ
_CACHED_RUNES
è? 
	`___tŞow”
(_c) :

151 
_Cu¼’tRuÃLoÿË
->
__m­low”
[
_c
];

152 
	}
}

154 
__šlše
 
__ù_ruÃ_t


155 
	$__sbtŞow”
(
__ù_ruÃ_t
 
_c
)

157  (
_c
 < 0 || _ø>ğ
__mb_sb_lim™
) ? _c :

158 
_Cu¼’tRuÃLoÿË
->
__m­low”
[
_c
];

159 
	}
}

161 
__šlše
 

162 
	$__wcwidth
(
__ù_ruÃ_t
 
_c
)

164 
_x
;

166 ià(
_c
 == 0)

168 
_x
 = ()
	`__maskruÃ
(
_c
, 
_CTYPE_SWM
|
_CTYPE_R
);

169 ià((
_x
 & 
_CTYPE_SWM
) != 0)

170  ((
_x
 & 
_CTYPE_SWM
è>> 
_CTYPE_SWS
);

171  ((
_x
 & 
_CTYPE_R
) != 0 ? 1 : -1);

172 
	}
}

176 
__BEGIN_DECLS


177 
__maskruÃ
(
__ù_ruÃ_t
, );

178 
__sbmaskruÃ
(
__ù_ruÃ_t
, );

179 
__i¡y³
(
__ù_ruÃ_t
, );

180 
__sbi¡y³
(
__ù_ruÃ_t
, );

181 
__isùy³
(
__ù_ruÃ_t
, );

182 
__ù_ruÃ_t
 
__touµ”
(__ct_rune_t);

183 
__ù_ruÃ_t
 
__sbtouµ”
(__ct_rune_t);

184 
__ù_ruÃ_t
 
__tŞow”
(__ct_rune_t);

185 
__ù_ruÃ_t
 
__sbtŞow”
(__ct_rune_t);

186 
__wcwidth
(
__ù_ruÃ_t
);

187 
	g__END_DECLS


	@/usr/include/machine/_inttypes.h

33 #iâdeà
_MACHINE_INTTYPES_H_


34 
	#_MACHINE_INTTYPES_H_


	)

42 
	#PRId8
 "d"

	)

43 
	#PRId16
 "d"

	)

44 
	#PRId32
 "d"

	)

45 
	#PRId64
 "ld"

	)

46 
	#PRIdLEAST8
 "d"

	)

47 
	#PRIdLEAST16
 "d"

	)

48 
	#PRIdLEAST32
 "d"

	)

49 
	#PRIdLEAST64
 "ld"

	)

50 
	#PRIdFAST8
 "d"

	)

51 
	#PRIdFAST16
 "d"

	)

52 
	#PRIdFAST32
 "d"

	)

53 
	#PRIdFAST64
 "ld"

	)

54 
	#PRIdMAX
 "jd"

	)

55 
	#PRIdPTR
 "ld"

	)

57 
	#PRIi8
 "i"

	)

58 
	#PRIi16
 "i"

	)

59 
	#PRIi32
 "i"

	)

60 
	#PRIi64
 "li"

	)

61 
	#PRIiLEAST8
 "i"

	)

62 
	#PRIiLEAST16
 "i"

	)

63 
	#PRIiLEAST32
 "i"

	)

64 
	#PRIiLEAST64
 "li"

	)

65 
	#PRIiFAST8
 "i"

	)

66 
	#PRIiFAST16
 "i"

	)

67 
	#PRIiFAST32
 "i"

	)

68 
	#PRIiFAST64
 "li"

	)

69 
	#PRIiMAX
 "ji"

	)

70 
	#PRIiPTR
 "li"

	)

74 
	#PRIo8
 "o"

	)

75 
	#PRIo16
 "o"

	)

76 
	#PRIo32
 "o"

	)

77 
	#PRIo64
 "lo"

	)

78 
	#PRIoLEAST8
 "o"

	)

79 
	#PRIoLEAST16
 "o"

	)

80 
	#PRIoLEAST32
 "o"

	)

81 
	#PRIoLEAST64
 "lo"

	)

82 
	#PRIoFAST8
 "o"

	)

83 
	#PRIoFAST16
 "o"

	)

84 
	#PRIoFAST32
 "o"

	)

85 
	#PRIoFAST64
 "lo"

	)

86 
	#PRIoMAX
 "jo"

	)

87 
	#PRIoPTR
 "lo"

	)

89 
	#PRIu8
 "u"

	)

90 
	#PRIu16
 "u"

	)

91 
	#PRIu32
 "u"

	)

92 
	#PRIu64
 "lu"

	)

93 
	#PRIuLEAST8
 "u"

	)

94 
	#PRIuLEAST16
 "u"

	)

95 
	#PRIuLEAST32
 "u"

	)

96 
	#PRIuLEAST64
 "lu"

	)

97 
	#PRIuFAST8
 "u"

	)

98 
	#PRIuFAST16
 "u"

	)

99 
	#PRIuFAST32
 "u"

	)

100 
	#PRIuFAST64
 "lu"

	)

101 
	#PRIuMAX
 "ju"

	)

102 
	#PRIuPTR
 "lu"

	)

104 
	#PRIx8
 "x"

	)

105 
	#PRIx16
 "x"

	)

106 
	#PRIx32
 "x"

	)

107 
	#PRIx64
 "lx"

	)

108 
	#PRIxLEAST8
 "x"

	)

109 
	#PRIxLEAST16
 "x"

	)

110 
	#PRIxLEAST32
 "x"

	)

111 
	#PRIxLEAST64
 "lx"

	)

112 
	#PRIxFAST8
 "x"

	)

113 
	#PRIxFAST16
 "x"

	)

114 
	#PRIxFAST32
 "x"

	)

115 
	#PRIxFAST64
 "lx"

	)

116 
	#PRIxMAX
 "jx"

	)

117 
	#PRIxPTR
 "lx"

	)

119 
	#PRIX8
 "X"

	)

120 
	#PRIX16
 "X"

	)

121 
	#PRIX32
 "X"

	)

122 
	#PRIX64
 "lX"

	)

123 
	#PRIXLEAST8
 "X"

	)

124 
	#PRIXLEAST16
 "X"

	)

125 
	#PRIXLEAST32
 "X"

	)

126 
	#PRIXLEAST64
 "lX"

	)

127 
	#PRIXFAST8
 "X"

	)

128 
	#PRIXFAST16
 "X"

	)

129 
	#PRIXFAST32
 "X"

	)

130 
	#PRIXFAST64
 "lX"

	)

131 
	#PRIXMAX
 "jX"

	)

132 
	#PRIXPTR
 "lX"

	)

136 
	#SCNd8
 "hhd"

	)

137 
	#SCNd16
 "hd"

	)

138 
	#SCNd32
 "d"

	)

139 
	#SCNd64
 "ld"

	)

140 
	#SCNdLEAST8
 "hhd"

	)

141 
	#SCNdLEAST16
 "hd"

	)

142 
	#SCNdLEAST32
 "d"

	)

143 
	#SCNdLEAST64
 "ld"

	)

144 
	#SCNdFAST8
 "d"

	)

145 
	#SCNdFAST16
 "d"

	)

146 
	#SCNdFAST32
 "d"

	)

147 
	#SCNdFAST64
 "ld"

	)

148 
	#SCNdMAX
 "jd"

	)

149 
	#SCNdPTR
 "ld"

	)

151 
	#SCNi8
 "hhi"

	)

152 
	#SCNi16
 "hi"

	)

153 
	#SCNi32
 "i"

	)

154 
	#SCNi64
 "li"

	)

155 
	#SCNiLEAST8
 "hhi"

	)

156 
	#SCNiLEAST16
 "hi"

	)

157 
	#SCNiLEAST32
 "i"

	)

158 
	#SCNiLEAST64
 "li"

	)

159 
	#SCNiFAST8
 "i"

	)

160 
	#SCNiFAST16
 "i"

	)

161 
	#SCNiFAST32
 "i"

	)

162 
	#SCNiFAST64
 "li"

	)

163 
	#SCNiMAX
 "ji"

	)

164 
	#SCNiPTR
 "li"

	)

168 
	#SCNo8
 "hho"

	)

169 
	#SCNo16
 "ho"

	)

170 
	#SCNo32
 "o"

	)

171 
	#SCNo64
 "lo"

	)

172 
	#SCNoLEAST8
 "hho"

	)

173 
	#SCNoLEAST16
 "ho"

	)

174 
	#SCNoLEAST32
 "o"

	)

175 
	#SCNoLEAST64
 "lo"

	)

176 
	#SCNoFAST8
 "o"

	)

177 
	#SCNoFAST16
 "o"

	)

178 
	#SCNoFAST32
 "o"

	)

179 
	#SCNoFAST64
 "lo"

	)

180 
	#SCNoMAX
 "jo"

	)

181 
	#SCNoPTR
 "lo"

	)

183 
	#SCNu8
 "hhu"

	)

184 
	#SCNu16
 "hu"

	)

185 
	#SCNu32
 "u"

	)

186 
	#SCNu64
 "lu"

	)

187 
	#SCNuLEAST8
 "hhu"

	)

188 
	#SCNuLEAST16
 "hu"

	)

189 
	#SCNuLEAST32
 "u"

	)

190 
	#SCNuLEAST64
 "lu"

	)

191 
	#SCNuFAST8
 "u"

	)

192 
	#SCNuFAST16
 "u"

	)

193 
	#SCNuFAST32
 "u"

	)

194 
	#SCNuFAST64
 "lu"

	)

195 
	#SCNuMAX
 "ju"

	)

196 
	#SCNuPTR
 "lu"

	)

198 
	#SCNx8
 "hhx"

	)

199 
	#SCNx16
 "hx"

	)

200 
	#SCNx32
 "x"

	)

201 
	#SCNx64
 "lx"

	)

202 
	#SCNxLEAST8
 "hhx"

	)

203 
	#SCNxLEAST16
 "hx"

	)

204 
	#SCNxLEAST32
 "x"

	)

205 
	#SCNxLEAST64
 "lx"

	)

206 
	#SCNxFAST8
 "x"

	)

207 
	#SCNxFAST16
 "x"

	)

208 
	#SCNxFAST32
 "x"

	)

209 
	#SCNxFAST64
 "lx"

	)

210 
	#SCNxMAX
 "jx"

	)

211 
	#SCNxPTR
 "lx"

	)

	@/usr/include/machine/_limits.h

33 #iâdef 
_MACHINE__LIMITS_H_


34 
	#_MACHINE__LIMITS_H_


	)

47 
	#__CHAR_BIT
 8

	)

49 
	#__SCHAR_MAX
 0x7à

	)

50 
	#__SCHAR_MIN
 (-0x7à- 1è

	)

52 
	#__UCHAR_MAX
 0xffU

	)

54 
	#__USHRT_MAX
 0xffffU

	)

55 
	#__SHRT_MAX
 0x7ffà

	)

56 
	#__SHRT_MIN
 (-0x7ffà- 1è

	)

58 
	#__UINT_MAX
 0xffffffffU

	)

59 
	#__INT_MAX
 0x7ffffffà

	)

60 
	#__INT_MIN
 (-0x7ffffffà- 1è

	)

62 
	#__ULONG_MAX
 0xffffffffffffffffUL

	)

63 
	#__LONG_MAX
 0x7fffffffffffffffL

	)

64 
	#__LONG_MIN
 (-0x7fffffffffffffffL - 1è

	)

67 
	#__ULLONG_MAX
 0xffffffffffffffffULL

	)

68 
	#__LLONG_MAX
 0x7fffffffffffffffLL

	)

69 
	#__LLONG_MIN
 (-0x7fffffffffffffffLL - 1è

	)

71 
	#__SSIZE_MAX
 
__LONG_MAX


	)

73 
	#__SIZE_T_MAX
 
__ULONG_MAX


	)

75 
	#__OFF_MAX
 
__LONG_MAX


	)

76 
	#__OFF_MIN
 
__LONG_MIN


	)

79 
	#__UQUAD_MAX
 
__ULONG_MAX


	)

80 
	#__QUAD_MAX
 
__LONG_MAX


	)

81 
	#__QUAD_MIN
 
__LONG_MIN


	)

83 
	#__LONG_BIT
 64

	)

84 
	#__WORD_BIT
 32

	)

90 
	#__MINSIGSTKSZ
 (512 * 4)

	)

	@/usr/include/machine/_stdint.h

40 #iâdeà
_MACHINE__STDINT_H_


41 
	#_MACHINE__STDINT_H_


	)

43 #ià!
defšed
(
__ılu¥lus
è|| defšed(
__STDC_CONSTANT_MACROS
)

45 
	#INT8_C
(
c
è(c)

	)

46 
	#INT16_C
(
c
è(c)

	)

47 
	#INT32_C
(
c
è(c)

	)

48 
	#INT64_C
(
c
è(ø## 
L
)

	)

50 
	#UINT8_C
(
c
è(c)

	)

51 
	#UINT16_C
(
c
è(c)

	)

52 
	#UINT32_C
(
c
è(ø## 
U
)

	)

53 
	#UINT64_C
(
c
è(ø## 
UL
)

	)

55 
	#INTMAX_C
(
c
è(ø## 
L
)

	)

56 
	#UINTMAX_C
(
c
è(ø## 
UL
)

	)

60 #ià!
defšed
(
__ılu¥lus
è|| defšed(
__STDC_LIMIT_MACROS
)

67 
	#INT8_MIN
 (-0x7f-1)

	)

68 
	#INT16_MIN
 (-0x7fff-1)

	)

69 
	#INT32_MIN
 (-0x7fffffff-1)

	)

70 
	#INT64_MIN
 (-0x7fffffffffffffffL-1)

	)

73 
	#INT8_MAX
 0x7f

	)

74 
	#INT16_MAX
 0x7fff

	)

75 
	#INT32_MAX
 0x7fffffff

	)

76 
	#INT64_MAX
 0x7fffffffffffffffL

	)

79 
	#UINT8_MAX
 0xff

	)

80 
	#UINT16_MAX
 0xffff

	)

81 
	#UINT32_MAX
 0xffffffffU

	)

82 
	#UINT64_MAX
 0xffffffffffffffffUL

	)

89 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

90 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

91 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

92 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

95 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

96 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

97 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

98 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

101 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

102 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

103 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

104 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

111 
	#INT_FAST8_MIN
 
INT32_MIN


	)

112 
	#INT_FAST16_MIN
 
INT32_MIN


	)

113 
	#INT_FAST32_MIN
 
INT32_MIN


	)

114 
	#INT_FAST64_MIN
 
INT64_MIN


	)

117 
	#INT_FAST8_MAX
 
INT32_MAX


	)

118 
	#INT_FAST16_MAX
 
INT32_MAX


	)

119 
	#INT_FAST32_MAX
 
INT32_MAX


	)

120 
	#INT_FAST64_MAX
 
INT64_MAX


	)

123 
	#UINT_FAST8_MAX
 
UINT32_MAX


	)

124 
	#UINT_FAST16_MAX
 
UINT32_MAX


	)

125 
	#UINT_FAST32_MAX
 
UINT32_MAX


	)

126 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

132 
	#INTPTR_MIN
 
INT64_MIN


	)

133 
	#INTPTR_MAX
 
INT64_MAX


	)

134 
	#UINTPTR_MAX
 
UINT64_MAX


	)

140 
	#INTMAX_MIN
 
INT64_MIN


	)

141 
	#INTMAX_MAX
 
INT64_MAX


	)

142 
	#UINTMAX_MAX
 
UINT64_MAX


	)

149 
	#PTRDIFF_MIN
 
INT64_MIN


	)

150 
	#PTRDIFF_MAX
 
INT64_MAX


	)

153 
	#SIG_ATOMIC_MIN
 
INT32_MIN


	)

154 
	#SIG_ATOMIC_MAX
 
INT32_MAX


	)

157 
	#SIZE_MAX
 
UINT64_MAX


	)

159 #iâdeà
WCHAR_MIN


161 
	#WCHAR_MIN
 
INT32_MIN


	)

162 
	#WCHAR_MAX
 
INT32_MAX


	)

166 
	#WINT_MIN
 
INT32_MIN


	)

167 
	#WINT_MAX
 
INT32_MAX


	)

	@/usr/include/machine/endian.h

33 #iâdeà
_MACHINE_ENDIAN_H_


34 
	#_MACHINE_ENDIAN_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

39 #ifdeà
__ılu¥lus


46 
	#_QUAD_HIGHWORD
 1

	)

47 
	#_QUAD_LOWWORD
 0

	)

53 
	#_LITTLE_ENDIAN
 1234

	)

54 
	#_BIG_ENDIAN
 4321

	)

55 
	#_PDP_ENDIAN
 3412

	)

57 
	#_BYTE_ORDER
 
_LITTLE_ENDIAN


	)

63 #ià
__BSD_VISIBLE


64 
	#LITTLE_ENDIAN
 
_LITTLE_ENDIAN


	)

65 
	#BIG_ENDIAN
 
_BIG_ENDIAN


	)

66 
	#PDP_ENDIAN
 
_PDP_ENDIAN


	)

67 
	#BYTE_ORDER
 
_BYTE_ORDER


	)

70 #ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__GNUCLIKE_BUILTIN_CONSTANT_P
)

72 
	#__by‹_sw­_št_v¬
(
x
) \

73 
	`__ex‹nsiÚ__
 ({ 
__ušt32_t
 
__X
 = (
x
); \

74 
	`__asm
 ("bsw­ %0" : "+r" (
__X
)); \

75 
__X
; })

	)

77 #ifdeà
__OPTIMIZE__


79 
	#__by‹_sw­_št_cÚ¡
(
x
) \

80 ((((
x
) & 0xff000000) >> 24) | \

81 (((
x
) & 0x00ff0000) >> 8) | \

82 (((
x
) & 0x0000ff00) << 8) | \

83 (((
x
è& 0x000000ffè<< 24))

	)

84 
	#__by‹_sw­_št
(
x
è(
	`__butš_cÚ¡ªt_p
(x) ? \

85 
	`__by‹_sw­_št_cÚ¡
(
x
è: 
	`__by‹_sw­_št_v¬
(x))

	)

89 
	#__by‹_sw­_št
(
x
è
	`__by‹_sw­_št_v¬
(x)

	)

93 
	#__by‹_sw­_lÚg_v¬
(
x
) \

94 
	`__ex‹nsiÚ__
 ({ 
__ušt64_t
 
__X
 = (
x
); \

95 
	`__asm
 ("bsw­ %0" : "+r" (
__X
)); \

96 
__X
; })

	)

98 #ifdeà
__OPTIMIZE__


100 
	#__by‹_sw­_lÚg_cÚ¡
(
x
) \

101 (((
x
 >> 56) | \

102 ((
x
 >> 40) & 0xff00) | \

103 ((
x
 >> 24) & 0xff0000) | \

104 ((
x
 >> 8) & 0xff000000) | \

105 ((
x
 << 8) & (0xfful << 32)) | \

106 ((
x
 << 24) & (0xfful << 40)) | \

107 ((
x
 << 40) & (0xfful << 48)) | \

108 ((
x
 << 56))))

	)

110 
	#__by‹_sw­_lÚg
(
x
è(
	`__butš_cÚ¡ªt_p
(x) ? \

111 
	`__by‹_sw­_lÚg_cÚ¡
(
x
è: 
	`__by‹_sw­_lÚg_v¬
(x))

	)

115 
	#__by‹_sw­_lÚg
(
x
è
	`__by‹_sw­_lÚg_v¬
(x)

	)

119 
__šlše
 
__ušt64_t


120 
__bsw­64
(
__ušt64_t
 
_x
)

123  (
__by‹_sw­_lÚg
(
_x
));

126 
__šlše
 
__ušt32_t


127 
__bsw­32
(
__ušt32_t
 
_x
)

130  (
__by‹_sw­_št
(
_x
));

133 
__šlše
 
__ušt16_t


134 
__bsw­16
(
__ušt16_t
 
_x
)

136  (
_x
 << 8 | _x >> 8);

139 
	#__htÚl
(
x
è
	`__bsw­32
(x)

	)

140 
	#__htÚs
(
x
è
	`__bsw­16
(x)

	)

141 
	#__Áohl
(
x
è
	`__bsw­32
(x)

	)

142 
	#__Áohs
(
x
è
	`__bsw­16
(x)

	)

151 
	#_BYTEORDER_FUNC_DEFINED


	)

155 #ifdeà
__ılu¥lus


	@/usr/include/machine/param.h

51 #iâdeà
_ALIGNBYTES


52 
	#_ALIGNBYTES
 ((è- 1)

	)

54 #iâdeà
_ALIGN


55 
	#_ALIGN
(
p
è(((
u_lÚg
)Õè+ 
_ALIGNBYTES
è&~ _ALIGNBYTES)

	)

58 #iâdeà
_NO_NAMESPACE_POLLUTION


60 
	#__HAVE_ACPI


	)

61 
	#__PCI_REROUTE_INTERRUPT


	)

63 #iâdeà
_MACHINE_PARAM_H_


64 
	#_MACHINE_PARAM_H_


	)

66 #iâdeà
MACHINE


67 
	#MACHINE
 "amd64"

	)

69 #iâdeà
MACHINE_ARCH


70 
	#MACHINE_ARCH
 "amd64"

	)

72 #iâdeà
MACHINE_ARCH32


73 
	#MACHINE_ARCH32
 "i386"

	)

76 #ià
defšed
(
SMP
è|| defšed(
KLD_MODULE
)

77 
	#MAXCPU
 32

	)

79 
	#MAXCPU
 1

	)

82 
	#ALIGNBYTES
 
_ALIGNBYTES


	)

83 
	#ALIGN
(
p
è
	`_ALIGN
Õ)

	)

90 
	#ALIGNED_POINTER
(
p
, 
t
è1

	)

96 
	#CACHE_LINE_SHIFT
 7

	)

97 
	#CACHE_LINE_SIZE
 (1 << 
CACHE_LINE_SHIFT
)

	)

100 
	#NPTEPG
 (
PAGE_SIZE
/( (
±_’Œy_t
)))

	)

101 
	#NPTEPGSHIFT
 9

	)

102 
	#PAGE_SHIFT
 12

	)

103 
	#PAGE_SIZE
 (1<<
PAGE_SHIFT
è

	)

104 
	#PAGE_MASK
 (
PAGE_SIZE
-1)

	)

106 
	#NPDEPG
 (
PAGE_SIZE
/( (
pd_’Œy_t
)))

	)

107 
	#NPDEPGSHIFT
 9

	)

108 
	#PDRSHIFT
 21

	)

109 
	#NBPDR
 (1<<
PDRSHIFT
è

	)

110 
	#PDRMASK
 (
NBPDR
-1)

	)

112 
	#NPDPEPG
 (
PAGE_SIZE
/( (
pdp_’Œy_t
)))

	)

113 
	#NPDPEPGSHIFT
 9

	)

114 
	#PDPSHIFT
 30

	)

115 
	#NBPDP
 (1<<
PDPSHIFT
è

	)

116 
	#PDPMASK
 (
NBPDP
-1)

	)

118 
	#NPML4EPG
 (
PAGE_SIZE
/( (
pml4_’Œy_t
)))

	)

119 
	#NPML4EPGSHIFT
 9

	)

120 
	#PML4SHIFT
 39

	)

121 
	#NBPML4
 (1ul<<
PML4SHIFT
)

	)

122 
	#PML4MASK
 (
NBPML4
-1)

	)

124 
	#MAXPAGESIZES
 3

	)

126 
	#IOPAGES
 2

	)

128 #iâdef 
KSTACK_PAGES


129 
	#KSTACK_PAGES
 4

	)

131 
	#KSTACK_GUARD_PAGES
 1

	)

137 #iâdeà
VM_SWZONE_SIZE_MAX


138 
	#VM_SWZONE_SIZE_MAX
 (32 * 1024 * 1024)

	)

144 
	#round_·ge
(
x
è(((()(x)è+ 
PAGE_MASK
è& ~(PAGE_MASK))

	)

145 
	#Œunc_·ge
(
x
è(()(xè& ~(
PAGE_MASK
))

	)

146 
	#Œunc_2m·ge
(
x
è(()(xè& ~
PDRMASK
)

	)

147 
	#round_2m·ge
(
x
è(((()(x)è+ 
PDRMASK
è& ~PDRMASK)

	)

148 
	#Œunc_1g·ge
(
x
è(()(xè& ~
PDPMASK
)

	)

150 
	#©İ
(
x
è(()(xè>> 
PAGE_SHIFT
)

	)

151 
	#±ß
(
x
è(()(xè<< 
PAGE_SHIFT
)

	)

153 
	#amd64_btİ
(
x
è(()(xè>> 
PAGE_SHIFT
)

	)

154 
	#amd64_±ob
(
x
è(()(xè<< 
PAGE_SHIFT
)

	)

156 
	#pgtok
(
x
è(()(xè* (
PAGE_SIZE
 / 1024))

	)

	@/usr/include/machine/pcb.h

37 #iâdeà
_AMD64_PCB_H_


38 
	#_AMD64_PCB_H_


	)

43 
	~<machše/åu.h
>

44 
	~<machše/£gm’ts.h
>

46 
	spcb
 {

47 
»gi¡”_t
 
	mpcb_r15
;

48 
»gi¡”_t
 
	mpcb_r14
;

49 
»gi¡”_t
 
	mpcb_r13
;

50 
»gi¡”_t
 
	mpcb_r12
;

51 
»gi¡”_t
 
	mpcb_rbp
;

52 
»gi¡”_t
 
	mpcb_r¥
;

53 
»gi¡”_t
 
	mpcb_rbx
;

54 
»gi¡”_t
 
	mpcb_r
;

55 
»gi¡”_t
 
	mpcb_fsba£
;

56 
»gi¡”_t
 
	mpcb_gsba£
;

57 
»gi¡”_t
 
	mpcb_kgsba£
;

58 
»gi¡”_t
 
	mpcb_ü0
;

59 
»gi¡”_t
 
	mpcb_ü2
;

60 
»gi¡”_t
 
	mpcb_ü3
;

61 
»gi¡”_t
 
	mpcb_ü4
;

62 
»gi¡”_t
 
	mpcb_dr0
;

63 
»gi¡”_t
 
	mpcb_dr1
;

64 
»gi¡”_t
 
	mpcb_dr2
;

65 
»gi¡”_t
 
	mpcb_dr3
;

66 
»gi¡”_t
 
	mpcb_dr6
;

67 
»gi¡”_t
 
	mpcb_dr7
;

69 
»giÚ_desütÜ
 
	mpcb_gdt
;

70 
»giÚ_desütÜ
 
	mpcb_idt
;

71 
»giÚ_desütÜ
 
	mpcb_ldt
;

72 
ušt16_t
 
	mpcb_Œ
;

74 
u_št
 
	mpcb_æags
;

75 
	#PCB_FULL_IRET
 0x01

	)

76 
	#PCB_DBREGS
 0x02

	)

77 
	#PCB_KERNFPU
 0x04

	)

78 
	#PCB_FPUINITDONE
 0x08

	)

79 
	#PCB_USERFPUINITDONE
 0x10

	)

80 
	#PCB_GS32BIT
 0x20

	)

81 
	#PCB_32BIT
 0x40

	)

83 
ušt16_t
 
	mpcb_š™Ÿl_åucw
;

86 
ÿddr_t
 
	mpcb_ÚçuÉ
;

89 
u£r_£gm’t_desütÜ
 
	mpcb_gs32sd
;

92 
amd64tss
 *
	mpcb_ts¥
;

94 
§veåu
 *
	mpcb_§ve
;

95 
§veåu
 
	mpcb_u£r_§ve
;

98 #ifdeà
_KERNEL


99 
	gŒ­äame
;

113 
__šlše
 

114 
	$£t_pcb_æags
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
)

117 
__asm
 
	`__vŞ©e
("orl %1,%0"

118 : "=m" (
pcb
->
pcb_æags
è: "œ" (
æags
), "m" (pcb->pcb_flags)

120 
	}
}

122 
__šlše
 

123 
	$ş—r_pcb_æags
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
)

126 
__asm
 
	`__vŞ©e
("andl %1,%0"

127 : "=m" (
pcb
->
pcb_æags
è: "œ" (~
æags
), "m" (pcb->pcb_flags)

129 
	}
}

131 
makeùx
(
Œ­äame
 *, 
pcb
 *);

132 
§veùx
(
pcb
 *);

	@/usr/include/machine/proc.h

33 #iâdeà
_MACHINE_PROC_H_


34 
	#_MACHINE_PROC_H_


	)

36 
	~<machše/£gm’ts.h
>

38 
	s´oc_ldt
 {

39 
ÿddr_t
 
	mldt_ba£
;

40 
	mldt_»fút
;

46 
	smdth»ad
 {

47 
	mmd_¥šlock_couÁ
;

48 
»gi¡”_t
 
	mmd_§ved_æags
;

51 
	smd´oc
 {

52 
´oc_ldt
 *
	mmd_ldt
;

53 
sy¡em_£gm’t_desütÜ
 
	mmd_ldt_sd
;

56 
	#KINFO_PROC_SIZE
 1088

	)

57 
	#KINFO_PROC32_SIZE
 768

	)

59 #ifdef 
_KERNEL


62 
	#GET_STACK_USAGE
(
tÙ®
, 
u£d
) do { \

63 
th»ad
 *
td
 = 
cu¹h»ad
; \

64 (
tÙ®
èğ
td
->
td_k¡ack_·ges
 * 
PAGE_SIZE
; \

65 (
u£d
èğ(*)
td
->
td_k¡ack
 + \

66 
td
->
td_k¡ack_·ges
 * 
PAGE_SIZE
 - \

67 (*)&
td
; \

68 } 0)

	)

70 
£t_u£r_ldt
(
md´oc
 *);

71 
´oc_ldt
 *
u£r_ldt_®loc
(
´oc
 *, );

72 
u£r_ldt_ä“
(
th»ad
 *);

73 
u£r_ldt_d”ef
(
´oc_ldt
 *);

74 
	gsy§rch_¬gs
;

75 
sy§rch_ldt
(
th»ad
 *
td
, 
sy§rch_¬gs
 *
u­
, 
u­_¥aû
);

76 
amd64_£t_ldt_d©a
(
th»ad
 *
td
, 
¡¬t
, 
num
,

77 
u£r_£gm’t_desütÜ
 *
descs
);

79 
mtx
 
dt_lock
;

80 
max_ldt_£gm’t
;

82 
	ssysÿÎ_¬gs
 {

83 
u_št
 
	mcode
;

84 
sy£Á
 *
	mÿÎp
;

85 
»gi¡”_t
 
	m¬gs
[8];

86 
	mÇrg
;

88 
	#HAVE_SYSCALL_ARGS_DEF
 1

	)

	@/usr/include/machine/setjmp.h

32 #iâdeà
_MACHINE_SETJMP_H_


33 
	#_MACHINE_SETJMP_H_


	)

35 
	~<sys/cdefs.h
>

37 
	#_JBLEN
 12

	)

44 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


45 
	s_sigjmp_buf
 { 
	m_sjb
[
_JBLEN
]; } 
	tsigjmp_buf
[1];

48 
	s_jmp_buf
 { 
	m_jb
[
_JBLEN
]; } 
	tjmp_buf
[1];

	@/usr/include/ncurses_dll.h

30 #iâdeà
NCURSES_DLL_H_šş


31 
	#NCURSES_DLL_H_šş
 1

	)

37 #undeà
NCURSES_DLL


38 
	#NCURSES_STATIC


	)

40 #ià
defšed
(
__CYGWIN__
)

41 #ià
defšed
(
NCURSES_DLL
)

42 #ià
defšed
(
NCURSES_STATIC
)

43 #undeà
NCURSES_STATIC


46 #undeà
NCURSES_IMPEXP


47 #undeà
NCURSES_API


48 #undeà
NCURSES_EXPORT


49 #undeà
NCURSES_EXPORT_VAR


50 #ià
defšed
(
NCURSES_DLL
)

52 
	#NCURSES_IMPEXP
 
	`__deş¥ec
(
dÎexpÜt
)

	)

53 #–ià
defšed
(
NCURSES_STATIC
)

55 
	#NCURSES_IMPEXP


	)

58 
	#NCURSES_IMPEXP
 
	`__deş¥ec
(
dÎimpÜt
)

	)

60 
	#NCURSES_API
 
__cdeş


	)

61 
	#NCURSES_EXPORT
(
ty³
è
NCURSES_IMPEXP
y³ 
NCURSES_API


	)

62 
	#NCURSES_EXPORT_VAR
(
ty³
è
NCURSES_IMPEXP
 
	)
type

66 #ià!
defšed
(
NCURSES_IMPEXP
)

67 
	#NCURSES_IMPEXP


	)

69 #ià!
defšed
(
NCURSES_API
)

70 
	#NCURSES_API


	)

72 #ià!
defšed
(
NCURSES_EXPORT
)

73 
	#NCURSES_EXPORT
(
ty³
è
NCURSES_IMPEXP
y³ 
NCURSES_API


	)

75 #ià!
defšed
(
NCURSES_EXPORT_VAR
)

76 
	#NCURSES_EXPORT_VAR
(
ty³
è
NCURSES_IMPEXP
 
	)
type

83 
	#NCURSES_PUBLIC_VAR
(
Çme
è
_nc_
##
	)
name

84 
	#NCURSES_WRAPPED_VAR
(
ty³
,
Çme
èty³ 
	`NCURSES_PUBLIC_VAR
Òame)()

	)

	@/usr/include/netinet6/in6.h

64 #iâdeà
__KAME_NETINET_IN_H_INCLUDED_


68 #iâdeà
_NETINET6_IN6_H_


69 
	#_NETINET6_IN6_H_


	)

76 
	#__KAME__


	)

77 
	#__KAME_VERSION
 "F»eBSD"

	)

84 #ià
__BSD_VISIBLE


85 
	#IPV6PORT_RESERVED
 1024

	)

86 
	#IPV6PORT_ANONMIN
 49152

	)

87 
	#IPV6PORT_ANONMAX
 65535

	)

88 
	#IPV6PORT_RESERVEDMIN
 600

	)

89 
	#IPV6PORT_RESERVEDMAX
 (
IPV6PORT_RESERVED
-1)

	)

95 
	sš6_addr
 {

97 
ušt8_t
 
	m__u6_addr8
[16];

98 
ušt16_t
 
	m__u6_addr16
[8];

99 
ušt32_t
 
	m__u6_addr32
[4];

100 } 
	m__u6_addr
;

103 
	#s6_addr
 
__u6_addr
.
__u6_addr8


	)

104 #ifdeà
_KERNEL


105 
	#s6_addr8
 
__u6_addr
.
__u6_addr8


	)

106 
	#s6_addr16
 
__u6_addr
.
__u6_addr16


	)

107 
	#s6_addr32
 
__u6_addr
.
__u6_addr32


	)

110 
	#INET6_ADDRSTRLEN
 46

	)

119 #ià
__BSD_VISIBLE


120 
	#SIN6_LEN


	)

123 
	ssockaddr_š6
 {

124 
ušt8_t
 
	msš6_Ën
;

125 
§_çmy_t
 
	msš6_çmy
;

126 
š_pÜt_t
 
	msš6_pÜt
;

127 
ušt32_t
 
	msš6_æowšfo
;

128 
š6_addr
 
	msš6_addr
;

129 
ušt32_t
 
	msš6_scİe_id
;

135 #ifdeà
_KERNEL


136 
	#IN6MASK0
 {{{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }}}

	)

137 
	#IN6MASK32
 {{{ 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, \

138 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }}}

	)

139 
	#IN6MASK64
 {{{ 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, \

140 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }}}

	)

141 
	#IN6MASK96
 {{{ 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, \

142 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00 }}}

	)

143 
	#IN6MASK128
 {{{ 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, \

144 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfà}}}

	)

147 #ifdeà
_KERNEL


148 cÚ¡ 
sockaddr_š6
 
§6_ªy
;

150 cÚ¡ 
š6_addr
 
š6mask0
;

151 cÚ¡ 
š6_addr
 
š6mask32
;

152 cÚ¡ 
š6_addr
 
š6mask64
;

153 cÚ¡ 
š6_addr
 
š6mask96
;

154 cÚ¡ 
š6_addr
 
š6mask128
;

160 #ifdeà
_KERNEL


161 #ià
_BYTE_ORDER
 =ğ
_BIG_ENDIAN


162 
	#IPV6_ADDR_INT32_ONE
 1

	)

163 
	#IPV6_ADDR_INT32_TWO
 2

	)

164 
	#IPV6_ADDR_INT32_MNL
 0xff010000

	)

165 
	#IPV6_ADDR_INT32_MLL
 0xff020000

	)

166 
	#IPV6_ADDR_INT32_SMP
 0x0000ffff

	)

167 
	#IPV6_ADDR_INT16_ULL
 0xã80

	)

168 
	#IPV6_ADDR_INT16_USL
 0xãc0

	)

169 
	#IPV6_ADDR_INT16_MLL
 0xff02

	)

170 #–ià
_BYTE_ORDER
 =ğ
_LITTLE_ENDIAN


171 
	#IPV6_ADDR_INT32_ONE
 0x01000000

	)

172 
	#IPV6_ADDR_INT32_TWO
 0x02000000

	)

173 
	#IPV6_ADDR_INT32_MNL
 0x000001ff

	)

174 
	#IPV6_ADDR_INT32_MLL
 0x000002ff

	)

175 
	#IPV6_ADDR_INT32_SMP
 0xffff0000

	)

176 
	#IPV6_ADDR_INT16_ULL
 0x80ã

	)

177 
	#IPV6_ADDR_INT16_USL
 0xc0ã

	)

178 
	#IPV6_ADDR_INT16_MLL
 0x02ff

	)

185 #ià
__BSD_VISIBLE


186 
	#IN6ADDR_ANY_INIT
 \

188 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }}}

	)

189 
	#IN6ADDR_LOOPBACK_INIT
 \

191 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

192 
	#IN6ADDR_NODELOCAL_ALLNODES_INIT
 \

194 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

195 
	#IN6ADDR_INTFACELOCAL_ALLNODES_INIT
 \

197 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

198 
	#IN6ADDR_LINKLOCAL_ALLNODES_INIT
 \

200 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

201 
	#IN6ADDR_LINKLOCAL_ALLROUTERS_INIT
 \

203 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02 }}}

	)

204 
	#IN6ADDR_LINKLOCAL_ALLV2ROUTERS_INIT
 \

206 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x16 }}}

	)

209 cÚ¡ 
š6_addr
 
š6addr_ªy
;

210 cÚ¡ 
š6_addr
 
š6addr_loİback
;

211 #ià
__BSD_VISIBLE


212 cÚ¡ 
š6_addr
 
š6addr_nod–oÿl_®Êodes
;

213 cÚ¡ 
š6_addr
 
š6addr_lškloÿl_®Êodes
;

214 cÚ¡ 
š6_addr
 
š6addr_lškloÿl_®Ìou‹rs
;

215 cÚ¡ 
š6_addr
 
š6addr_lškloÿl_®lv2rou‹rs
;

224 #ifdeà
_KERNEL


225 
	#IN6_ARE_ADDR_EQUAL
(
a
, 
b
) \

226 (
	`bcmp
(&(
a
)->
s6_addr
[0], &(
b
)->s6_addr[0], (
š6_addr
)è=ğ0)

	)

228 #ià
__BSD_VISIBLE


229 
	#IN6_ARE_ADDR_EQUAL
(
a
, 
b
) \

230 (
	`memcmp
(&(
a
)->
s6_addr
[0], &(
b
)->s6_addr[0], (
š6_addr
)è=ğ0)

	)

237 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

238 ((*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[0]) == 0) && \

239 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[4]) == 0) && \

240 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[8]) == 0) && \

241 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[12]è=ğ0))

	)

246 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

247 ((*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[0]) == 0) && \

248 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[4]) == 0) && \

249 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[8]) == 0) && \

250 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[12]è=ğ
	`Áohl
(1)))

	)

255 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

256 ((*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[0]) == 0) && \

257 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[4]) == 0) && \

258 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[8]) == 0) && \

259 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[12]) != 0) && \

260 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[12]è!ğ
	`Áohl
(1)))

	)

265 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

266 ((*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[0]) == 0) && \

267 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[4]) == 0) && \

268 (*(cÚ¡ 
u_št32_t
 *)(cÚ¡ *)(&(
a
)->
s6_addr
[8]è=ğ
	`Áohl
(0x0000ffff)))

	)

274 #ifdeà
_KERNEL


275 
	#IPV6_ADDR_SCOPE_NODELOCAL
 0x01

	)

276 
	#IPV6_ADDR_SCOPE_INTFACELOCAL
 0x01

	)

277 
	#IPV6_ADDR_SCOPE_LINKLOCAL
 0x02

	)

278 
	#IPV6_ADDR_SCOPE_SITELOCAL
 0x05

	)

279 
	#IPV6_ADDR_SCOPE_ORGLOCAL
 0x08

	)

280 
	#IPV6_ADDR_SCOPE_GLOBAL
 0x0e

	)

282 
	#__IPV6_ADDR_SCOPE_NODELOCAL
 0x01

	)

283 
	#__IPV6_ADDR_SCOPE_INTFACELOCAL
 0x01

	)

284 
	#__IPV6_ADDR_SCOPE_LINKLOCAL
 0x02

	)

285 
	#__IPV6_ADDR_SCOPE_SITELOCAL
 0x05

	)

286 
	#__IPV6_ADDR_SCOPE_ORGLOCAL
 0x08

	)

287 
	#__IPV6_ADDR_SCOPE_GLOBAL
 0x0e

	)

294 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

295 (((
a
)->
s6_addr
[0] =ğ0xãè&& ((×)->s6_addr[1] & 0xc0è=ğ0x80))

	)

296 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

297 (((
a
)->
s6_addr
[0] =ğ0xãè&& ((×)->s6_addr[1] & 0xc0è=ğ0xc0))

	)

302 
	#IN6_IS_ADDR_MULTICAST
(
a
è(×)->
s6_addr
[0] =ğ0xff)

	)

304 #ifdeà
_KERNEL


305 
	#IPV6_ADDR_MC_SCOPE
(
a
è(×)->
s6_addr
[1] & 0x0f)

	)

307 
	#__IPV6_ADDR_MC_SCOPE
(
a
è(×)->
s6_addr
[1] & 0x0f)

	)

313 #ifdeà
_KERNEL


314 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

315 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

316 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ğ
IPV6_ADDR_SCOPE_NODELOCAL
))

	)

317 
	#IN6_IS_ADDR_MC_INTFACELOCAL
(
a
) \

318 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

319 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ğ
IPV6_ADDR_SCOPE_INTFACELOCAL
))

	)

320 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

321 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

322 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ğ
IPV6_ADDR_SCOPE_LINKLOCAL
))

	)

323 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

324 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

325 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ğ
IPV6_ADDR_SCOPE_SITELOCAL
))

	)

326 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

327 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

328 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ğ
IPV6_ADDR_SCOPE_ORGLOCAL
))

	)

329 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

330 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

331 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ğ
IPV6_ADDR_SCOPE_GLOBAL
))

	)

333 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

334 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

335 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ğ
__IPV6_ADDR_SCOPE_NODELOCAL
))

	)

336 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

337 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

338 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ğ
__IPV6_ADDR_SCOPE_LINKLOCAL
))

	)

339 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

340 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

341 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ğ
__IPV6_ADDR_SCOPE_SITELOCAL
))

	)

342 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

343 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

344 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ğ
__IPV6_ADDR_SCOPE_ORGLOCAL
))

	)

345 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

346 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

347 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ğ
__IPV6_ADDR_SCOPE_GLOBAL
))

	)

350 #ifdeà
_KERNEL


354 
	#IN6_IS_SCOPE_LINKLOCAL
(
a
) \

355 ((
	`IN6_IS_ADDR_LINKLOCAL
(
a
)) || \

356 (
	`IN6_IS_ADDR_MC_LINKLOCAL
(
a
)))

	)

357 
	#IN6_IS_SCOPE_EMBED
(
a
) \

358 ((
	`IN6_IS_ADDR_LINKLOCAL
(
a
)) || \

359 (
	`IN6_IS_ADDR_MC_LINKLOCAL
(
a
)) || \

360 (
	`IN6_IS_ADDR_MC_INTFACELOCAL
(
a
)))

	)

362 
	#IFA6_IS_DEPRECATED
(
a
) \

363 ((
a
)->
Ÿ6_liãtime
.
Ÿ6t_¶time
 !ğ
ND6_INFINITE_LIFETIME
 && \

364 (
u_št32_t
)((
time_£cÚd
 - (
a
)->
Ÿ6_upd©‘ime
)) > \

365 (
a
)->
Ÿ6_liãtime
.
Ÿ6t_¶time
)

	)

366 
	#IFA6_IS_INVALID
(
a
) \

367 ((
a
)->
Ÿ6_liãtime
.
Ÿ6t_vÉime
 !ğ
ND6_INFINITE_LIFETIME
 && \

368 (
u_št32_t
)((
time_£cÚd
 - (
a
)->
Ÿ6_upd©‘ime
)) > \

369 (
a
)->
Ÿ6_liãtime
.
Ÿ6t_vÉime
)

	)

375 #ià
__BSD_VISIBLE


376 
	srou‹_š6
 {

377 
¹’Œy
 *
	mro_¹
;

378 
Î’Œy
 *
	mro_Îe
;

379 
sockaddr_š6
 
	mro_d¡
;

389 
	#IPV6_OPTIONS
 1

	)

390 
	#IPV6_RECVOPTS
 5

	)

391 
	#IPV6_RECVRETOPTS
 6

	)

392 
	#IPV6_RECVDSTADDR
 7

	)

393 
	#IPV6_RETOPTS
 8

	)

395 
	#IPV6_SOCKOPT_RESERVED1
 3

	)

396 
	#IPV6_UNICAST_HOPS
 4

	)

397 
	#IPV6_MULTICAST_IF
 9

	)

398 
	#IPV6_MULTICAST_HOPS
 10

	)

399 
	#IPV6_MULTICAST_LOOP
 11

	)

400 
	#IPV6_JOIN_GROUP
 12

	)

401 
	#IPV6_LEAVE_GROUP
 13

	)

402 
	#IPV6_PORTRANGE
 14

	)

403 
	#ICMP6_FILTER
 18

	)

405 #ifdeà
_KERNEL


406 
	#IPV6_2292PKTINFO
 19

	)

407 
	#IPV6_2292HOPLIMIT
 20

	)

408 
	#IPV6_2292NEXTHOP
 21

	)

409 
	#IPV6_2292HOPOPTS
 22

	)

410 
	#IPV6_2292DSTOPTS
 23

	)

411 
	#IPV6_2292RTHDR
 24

	)

412 
	#IPV6_2292PKTOPTIONS
 25

	)

415 
	#IPV6_CHECKSUM
 26

	)

416 
	#IPV6_V6ONLY
 27

	)

417 #iâdeà
_KERNEL


418 
	#IPV6_BINDV6ONLY
 
IPV6_V6ONLY


	)

422 
	#IPV6_IPSEC_POLICY
 28

	)

425 
	#IPV6_FAITH
 29

	)

428 
	#IPV6_FW_ADD
 30

	)

429 
	#IPV6_FW_DEL
 31

	)

430 
	#IPV6_FW_FLUSH
 32

	)

431 
	#IPV6_FW_ZERO
 33

	)

432 
	#IPV6_FW_GET
 34

	)

436 
	#IPV6_RTHDRDSTOPTS
 35

	)

438 
	#IPV6_RECVPKTINFO
 36

	)

439 
	#IPV6_RECVHOPLIMIT
 37

	)

440 
	#IPV6_RECVRTHDR
 38

	)

441 
	#IPV6_RECVHOPOPTS
 39

	)

442 
	#IPV6_RECVDSTOPTS
 40

	)

443 #ifdeà
_KERNEL


444 
	#IPV6_RECVRTHDRDSTOPTS
 41

	)

447 
	#IPV6_USE_MIN_MTU
 42

	)

448 
	#IPV6_RECVPATHMTU
 43

	)

450 
	#IPV6_PATHMTU
 44

	)

453 
	#IPV6_REACHCONF
 45

	)

458 
	#IPV6_PKTINFO
 46

	)

459 
	#IPV6_HOPLIMIT
 47

	)

460 
	#IPV6_NEXTHOP
 48

	)

461 
	#IPV6_HOPOPTS
 49

	)

462 
	#IPV6_DSTOPTS
 50

	)

463 
	#IPV6_RTHDR
 51

	)

465 
	#IPV6_PKTOPTIONS
 52

	)

469 
	#IPV6_RECVTCLASS
 57

	)

471 
	#IPV6_AUTOFLOWLABEL
 59

	)

473 
	#IPV6_TCLASS
 61

	)

474 
	#IPV6_DONTFRAG
 62

	)

476 
	#IPV6_PREFER_TEMPADDR
 63

	)

480 
	#IPV6_BINDANY
 64

	)

486 
	#IPV6_MSFILTER
 74

	)

492 
	#IPV6_RTHDR_LOOSE
 0

	)

493 
	#IPV6_RTHDR_STRICT
 1

	)

494 
	#IPV6_RTHDR_TYPE_0
 0

	)

499 
	#IPV6_DEFAULT_MULTICAST_HOPS
 1

	)

500 
	#IPV6_DEFAULT_MULTICAST_LOOP
 1

	)

507 
	#IPV6_MIN_MEMBERSHIPS
 31

	)

508 
	#IPV6_MAX_MEMBERSHIPS
 4095

	)

514 
	#IPV6_MAX_GROUP_SRC_FILTER
 512

	)

515 
	#IPV6_MAX_SOCK_SRC_FILTER
 128

	)

520 
	sv6_m»q
 {

521 
š6_addr
 
	mv6mr_muÉŸddr
;

522 
	mv6mr_š‹rçû
;

528 
	sš6_pktšfo
 {

529 
š6_addr
 
	mi6_addr
;

530 
	mi6_ifšdex
;

536 
	s6_mtušfo
 {

537 
sockaddr_š6
 
	m6m_addr
;

538 
ušt32_t
 
	m6m_mtu
;

545 
	#IPV6_PORTRANGE_DEFAULT
 0

	)

546 
	#IPV6_PORTRANGE_HIGH
 1

	)

547 
	#IPV6_PORTRANGE_LOW
 2

	)

549 #ià
__BSD_VISIBLE


556 
	#IPV6PROTO_MAXID
 (
IPPROTO_PIM
 + 1è

	)

561 
	#IPV6CTL_FORWARDING
 1

	)

562 
	#IPV6CTL_SENDREDIRECTS
 2

	)

563 
	#IPV6CTL_DEFHLIM
 3

	)

564 #ifdeà
nÙy‘


565 
	#IPV6CTL_DEFMTU
 4

	)

567 
	#IPV6CTL_FORWSRCRT
 5

	)

568 
	#IPV6CTL_STATS
 6

	)

569 
	#IPV6CTL_MRTSTATS
 7

	)

570 
	#IPV6CTL_MRTPROTO
 8

	)

571 
	#IPV6CTL_MAXFRAGPACKETS
 9

	)

572 
	#IPV6CTL_SOURCECHECK
 10

	)

573 
	#IPV6CTL_SOURCECHECK_LOGINT
 11

	)

574 
	#IPV6CTL_ACCEPT_RTADV
 12

	)

575 
	#IPV6CTL_KEEPFAITH
 13

	)

576 
	#IPV6CTL_LOG_INTERVAL
 14

	)

577 
	#IPV6CTL_HDRNESTLIMIT
 15

	)

578 
	#IPV6CTL_DAD_COUNT
 16

	)

579 
	#IPV6CTL_AUTO_FLOWLABEL
 17

	)

580 
	#IPV6CTL_DEFMCASTHLIM
 18

	)

581 
	#IPV6CTL_GIF_HLIM
 19

	)

582 
	#IPV6CTL_KAME_VERSION
 20

	)

583 
	#IPV6CTL_USE_DEPRECATED
 21

	)

584 
	#IPV6CTL_RR_PRUNE
 22

	)

586 
	#IPV6CTL_MAPPED_ADDR
 23

	)

588 
	#IPV6CTL_V6ONLY
 24

	)

589 
	#IPV6CTL_RTEXPIRE
 25

	)

590 
	#IPV6CTL_RTMINEXPIRE
 26

	)

591 
	#IPV6CTL_RTMAXCACHE
 27

	)

593 
	#IPV6CTL_USETEMPADDR
 32

	)

594 
	#IPV6CTL_TEMPPLTIME
 33

	)

595 
	#IPV6CTL_TEMPVLTIME
 34

	)

596 
	#IPV6CTL_AUTO_LINKLOCAL
 35

	)

597 
	#IPV6CTL_RIP6STATS
 36

	)

598 
	#IPV6CTL_PREFER_TEMPADDR
 37

	)

599 
	#IPV6CTL_ADDRCTLPOLICY
 38

	)

600 
	#IPV6CTL_USE_DEFAULTZONE
 39

	)

602 
	#IPV6CTL_MAXFRAGS
 41

	)

604 
	#IPV6CTL_IFQ
 42

	)

605 
	#IPV6CTL_ISATAPRTR
 43

	)

607 
	#IPV6CTL_MCAST_PMTU
 44

	)

611 
	#IPV6CTL_STEALTH
 45

	)

613 
	#ICMPV6CTL_ND6_ONLINKNSRFC4861
 47

	)

614 
	#IPV6CTL_MAXID
 48

	)

620 
	#M_AUTHIPHDR
 
M_PROTO2


	)

621 
	#M_DECRYPTED
 
M_PROTO3


	)

622 
	#M_LOOP
 
M_PROTO4


	)

623 
	#M_AUTHIPDGM
 
M_PROTO5


	)

624 
	#M_RTALERT_MLD
 
M_PROTO6


	)

626 #ifdeà
_KERNEL


627 
	gcmsghdr
;

629 
š6_cksum
 
__P
((
mbuf
 *, 
u_št8_t
, 
u_št32_t
, u_int32_t));

630 
š6_loÿÏddr
 
__P
((
š6_addr
 *));

631 
š6_addrscİe
 
__P
((
š6_addr
 *));

632 
š6_içddr
 *
š6_içw™hiå
 
__P
((
iâ‘
 *, 
š6_addr
 *));

633 
š6_if_up
 
__P
((
iâ‘
 *));

634 
	gsockaddr
;

635 
u_ch¬
 
6_´Ùox
[];

637 
š6_sš6_2_sš
 
__P
((
sockaddr_š
 *
sš
,

638 
sockaddr_š6
 *
sš6
));

639 
š6_sš_2_v4m­sš6
 
__P
((
sockaddr_š
 *
sš
,

640 
sockaddr_š6
 *
sš6
));

641 
š6_sš6_2_sš_š_sock
 
__P
((
sockaddr
 *
Çm
));

642 
š6_sš_2_v4m­sš6_š_sock
 
__P
((
sockaddr
 **
Çm
));

643 
addr£l_pŞicy_š™
 
__P
(());

645 
	#§tosš6
(
§
è((
sockaddr_š6
 *)(§))

	)

646 
	#sš6to§
(
sš6
è((
sockaddr
 *)(sš6))

	)

647 
	#içtoŸ6
(
iç
è((
š6_içddr
 *)(iç))

	)

649 (*
ç™h´efix_p
)(
š6_addr
 *);

652 #iâdeà
_SIZE_T_DECLARED


653 
__size_t
 
	tsize_t
;

654 
	#_SIZE_T_DECLARED


	)

657 #iâdeà
_SOCKLEN_T_DECLARED


658 
__sockËn_t
 
	tsockËn_t
;

659 
	#_SOCKLEN_T_DECLARED


	)

662 #ià
__BSD_VISIBLE


664 
__BEGIN_DECLS


665 
cmsghdr
;

667 
š‘6_İtiÚ_¥aû
 
	`__P
(());

668 
š‘6_İtiÚ_š™
 
	`__P
((*, 
cmsghdr
 **, ));

669 
š‘6_İtiÚ_­³nd
 
	`__P
((
cmsghdr
 *, cÚ¡ 
ušt8_t
 *,

671 
ušt8_t
 *
š‘6_İtiÚ_®loc
 
	`__P
((
cmsghdr
 *, , , ));

672 
š‘6_İtiÚ_Ãxt
 
	`__P
((cÚ¡ 
cmsghdr
 *, 
ušt8_t
 **));

673 
š‘6_İtiÚ_fšd
 
	`__P
((cÚ¡ 
cmsghdr
 *, 
ušt8_t
 **, ));

675 
size_t
 
š‘6_¹hdr_¥aû
 
	`__P
((, ));

676 
cmsghdr
 *
š‘6_¹hdr_š™
 
	`__P
((*, ));

677 
š‘6_¹hdr_add
 
	`__P
((
cmsghdr
 *, cÚ¡ 
š6_addr
 *,

679 
š‘6_¹hdr_Ï¡hİ
 
	`__P
((
cmsghdr
 *, ));

681 
š‘6_¹hdr_»v”£
 
	`__P
((cÚ¡ 
cmsghdr
 *, cmsghdr *));

683 
š‘6_¹hdr_£gm’ts
 
	`__P
((cÚ¡ 
cmsghdr
 *));

684 
š6_addr
 *
š‘6_¹hdr_g‘addr
 
	`__P
((
cmsghdr
 *, ));

685 
š‘6_¹hdr_g‘æags
 
	`__P
((cÚ¡ 
cmsghdr
 *, ));

687 
š‘6_İt_š™
 
	`__P
((*, 
sockËn_t
));

688 
š‘6_İt_­³nd
 
	`__P
((*, 
sockËn_t
, , 
ušt8_t
, socklen_t,

689 
ušt8_t
, **));

690 
š‘6_İt_fšish
 
	`__P
((*, 
sockËn_t
, ));

691 
š‘6_İt_£t_v®
 
	`__P
((*, , *, 
sockËn_t
));

693 
š‘6_İt_Ãxt
 
	`__P
((*, 
sockËn_t
, , 
ušt8_t
 *, socklen_t *,

695 
š‘6_İt_fšd
 
	`__P
((*, 
sockËn_t
, , 
ušt8_t
, socklen_t *,

697 
š‘6_İt_g‘_v®
 
	`__P
((*, , *, 
sockËn_t
));

698 
sockËn_t
 
š‘6_¹h_¥aû
 
	`__P
((, ));

699 *
š‘6_¹h_š™
 
	`__P
((*, 
sockËn_t
, , ));

700 
š‘6_¹h_add
 
	`__P
((*, cÚ¡ 
š6_addr
 *));

701 
š‘6_¹h_»v”£
 
	`__P
((const *, *));

702 
š‘6_¹h_£gm’ts
 
	`__P
((const *));

703 
š6_addr
 *
š‘6_¹h_g‘addr
 
	`__P
((const *, ));

704 
__END_DECLS


	@/usr/include/openssl/des_old.h

91 #iâdeà
HEADER_DES_H


92 
	#HEADER_DES_H


	)

94 
	~<İ’s¦/e_os2.h
>

96 #ifdeà
OPENSSL_NO_DES


97 #”rÜ 
DES
 
is
 
di§bËd
.

100 #iâdeà
HEADER_NEW_DES_H


101 #”rÜ 
You
 
mu¡
 
šşude
 
des
.
h
, 
nÙ
 
des_Şd
.h 
dœeùly
.

104 #ifdeà
_KERBEROS_DES_H


105 #”rÜ <
İ’s¦
/
des_Şd
.
h
> 
»¶aûs
 <
k”b”os
/
des
.h>.

108 
	~<İ’s¦/symhacks.h
>

110 #ifdeà
OPENSSL_BUILD_SHLIBCRYPTO


111 #undeà
OPENSSL_EXTERN


112 
	#OPENSSL_EXTERN
 
OPENSSL_EXPORT


	)

115 #ifdeà 
__ılu¥lus


119 #ifdeà
_


120 #undeà
_


123 
	t_os¦_Şd_des_cblock
[8];

124 
	s_os¦_Şd_des_ks_¡ruù


127 
_os¦_Şd_des_cblock
 
_
;

130 
DES_LONG
 
·d
[2];

131 } 
ks
;

132 } 
	t_os¦_Şd_des_key_scheduË
[16];

134 #iâdeà
OPENSSL_DES_LIBDES_COMPATIBILITY


135 
	#des_cblock
 
DES_cblock


	)

136 
	#cÚ¡_des_cblock
 
cÚ¡_DES_cblock


	)

137 
	#des_key_scheduË
 
DES_key_scheduË


	)

138 
	#des_ecb3_’üy±
(
i
,
o
,
k1
,
k2
,
k3
,
e
)\

139 
	`DES_ecb3_’üy±
((
i
),(
o
),&(
k1
),&(
k2
),&(
k3
),(
e
))

	)

140 
	#des_ede3_cbc_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv
,
e
)\

141 
	`DES_ede3_cbc_’üy±
((
i
),(
o
),(
l
),&(
k1
),&(
k2
),&(
k3
),(
iv
),(
e
))

	)

142 
	#des_ede3_cbcm_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv1
,
iv2
,
e
)\

143 
	`DES_ede3_cbcm_’üy±
((
i
),(
o
),(
l
),&(
k1
),&(
k2
),&(
k3
),(
iv1
),(
iv2
),(
e
))

	)

144 
	#des_ede3_cfb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv
,
n
,
e
)\

145 
	`DES_ede3_cfb64_’üy±
((
i
),(
o
),(
l
),&(
k1
),&(
k2
),&(
k3
),(
iv
),(
n
),(
e
))

	)

146 
	#des_ede3_ofb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv
,
n
)\

147 
	`DES_ede3_ofb64_’üy±
((
i
),(
o
),(
l
),&(
k1
),&(
k2
),&(
k3
),(
iv
),(
n
))

	)

148 
	#des_İtiÚs
()\

149 
	`DES_İtiÚs
()

	)

150 
	#des_cbc_cksum
(
i
,
o
,
l
,
k
,
iv
)\

151 
	`DES_cbc_cksum
((
i
),(
o
),(
l
),&(
k
),(
iv
))

	)

152 
	#des_cbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
e
)\

153 
	`DES_cbc_’üy±
((
i
),(
o
),(
l
),&(
k
),(
iv
),(
e
))

	)

154 
	#des_ncbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
e
)\

155 
	`DES_ncbc_’üy±
((
i
),(
o
),(
l
),&(
k
),(
iv
),(
e
))

	)

156 
	#des_xcbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
šw
,
outw
,
e
)\

157 
	`DES_xcbc_’üy±
((
i
),(
o
),(
l
),&(
k
),(
iv
),(
šw
),(
outw
),(
e
))

	)

158 
	#des_cfb_’üy±
(
i
,
o
,
n
,
l
,
k
,
iv
,
e
)\

159 
	`DES_cfb_’üy±
((
i
),(
o
),(
n
),(
l
),&(
k
),(
iv
),(
e
))

	)

160 
	#des_ecb_’üy±
(
i
,
o
,
k
,
e
)\

161 
	`DES_ecb_’üy±
((
i
),(
o
),&(
k
),(
e
))

	)

162 
	#des_’üy±1
(
d
,
k
,
e
)\

163 
	`DES_’üy±1
((
d
),&(
k
),(
e
))

	)

164 
	#des_’üy±2
(
d
,
k
,
e
)\

165 
	`DES_’üy±2
((
d
),&(
k
),(
e
))

	)

166 
	#des_’üy±3
(
d
,
k1
,
k2
,
k3
)\

167 
	`DES_’üy±3
((
d
),&(
k1
),&(
k2
),&(
k3
))

	)

168 
	#des_deüy±3
(
d
,
k1
,
k2
,
k3
)\

169 
	`DES_deüy±3
((
d
),&(
k1
),&(
k2
),&(
k3
))

	)

170 
	#des_xwh™e_š2out
(
k
,
i
,
o
)\

171 
	`DES_xwh™e_š2out
((
k
),(
i
),(
o
))

	)

172 
	#des_’c_»ad
(
f
,
b
,
l
,
k
,
iv
)\

173 
	`DES_’c_»ad
((
f
),(
b
),(
l
),&(
k
),(
iv
))

	)

174 
	#des_’c_wr™e
(
f
,
b
,
l
,
k
,
iv
)\

175 
	`DES_’c_wr™e
((
f
),(
b
),(
l
),&(
k
),(
iv
))

	)

176 
	#des_füy±
(
b
,
s
,
r
)\

177 
	`DES_füy±
((
b
),(
s
),(
r
))

	)

179 
	#des_üy±
(
b
,
s
)\

180 
	`DES_üy±
((
b
),(
s
))

	)

181 #ià!
defšed
(
PERL5
è&& !defšed(
__F»eBSD__
è&& !defšed(
NeXT
è&& !defšed(
__O³nBSD__
)

182 
	#üy±
(
b
,
s
)\

183 
	`DES_üy±
((
b
),(
s
))

	)

186 
	#des_ofb_’üy±
(
i
,
o
,
n
,
l
,
k
,
iv
)\

187 
	`DES_ofb_’üy±
((
i
),(
o
),(
n
),(
l
),&(
k
),(
iv
))

	)

188 
	#des_pcbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
e
)\

189 
	`DES_pcbc_’üy±
((
i
),(
o
),(
l
),&(
k
),(
iv
),(
e
))

	)

190 
	#des_quad_cksum
(
i
,
o
,
l
,
c
,
s
)\

191 
	`DES_quad_cksum
((
i
),(
o
),(
l
),(
c
),(
s
))

	)

192 
	#des_¿ndom_£ed
(
k
)\

193 
	`_os¦_096_des_¿ndom_£ed
((
k
))

	)

194 
	#des_¿ndom_key
(
r
)\

195 
	`DES_¿ndom_key
((
r
))

	)

196 
	#des_»ad_·sswÜd
(
k
,
p
,
v
) \

197 
	`DES_»ad_·sswÜd
((
k
),(
p
),(
v
))

	)

198 
	#des_»ad_2·sswÜds
(
k1
,
k2
,
p
,
v
) \

199 
	`DES_»ad_2·sswÜds
((
k1
),(
k2
),(
p
),(
v
))

	)

200 
	#des_£t_odd_·r™y
(
k
)\

201 
	`DES_£t_odd_·r™y
((
k
))

	)

202 
	#des_check_key_·r™y
(
k
)\

203 
	`DES_check_key_·r™y
((
k
))

	)

204 
	#des_is_w—k_key
(
k
)\

205 
	`DES_is_w—k_key
((
k
))

	)

206 
	#des_£t_key
(
k
,
ks
)\

207 
	`DES_£t_key
((
k
),&(
ks
))

	)

208 
	#des_key_sched
(
k
,
ks
)\

209 
	`DES_key_sched
((
k
),&(
ks
))

	)

210 
	#des_£t_key_checked
(
k
,
ks
)\

211 
	`DES_£t_key_checked
((
k
),&(
ks
))

	)

212 
	#des_£t_key_unchecked
(
k
,
ks
)\

213 
	`DES_£t_key_unchecked
((
k
),&(
ks
))

	)

214 
	#des_¡ršg_to_key
(
s
,
k
)\

215 
	`DES_¡ršg_to_key
((
s
),(
k
))

	)

216 
	#des_¡ršg_to_2keys
(
s
,
k1
,
k2
)\

217 
	`DES_¡ršg_to_2keys
((
s
),(
k1
),(
k2
))

	)

218 
	#des_cfb64_’üy±
(
i
,
o
,
l
,
ks
,
iv
,
n
,
e
)\

219 
	`DES_cfb64_’üy±
((
i
),(
o
),(
l
),&(
ks
),(
iv
),(
n
),(
e
))

	)

220 
	#des_ofb64_’üy±
(
i
,
o
,
l
,
ks
,
iv
,
n
)\

221 
	`DES_ofb64_’üy±
((
i
),(
o
),(
l
),&(
ks
),(
iv
),(
n
))

	)

224 
	#des_ecb2_’üy±
(
i
,
o
,
k1
,
k2
,
e
) \

225 
	`des_ecb3_’üy±
((
i
),(
o
),(
k1
),(
k2
),(k1),(
e
))

	)

227 
	#des_ede2_cbc_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
e
) \

228 
	`des_ede3_cbc_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
e
))

	)

230 
	#des_ede2_cfb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
n
,
e
) \

231 
	`des_ede3_cfb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
n
),(
e
))

	)

233 
	#des_ede2_ofb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
n
) \

234 
	`des_ede3_ofb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
n
))

	)

236 
	#des_check_key
 
DES_check_key


	)

237 
	#des_rw_mode
 
DES_rw_mode


	)

241 
	#des_cblock
 
_os¦_Şd_des_cblock


	)

242 
	#des_key_scheduË
 
_os¦_Şd_des_key_scheduË


	)

243 
	#des_ecb3_’üy±
(
i
,
o
,
k1
,
k2
,
k3
,
e
)\

244 
	`_os¦_Şd_des_ecb3_’üy±
((
i
),(
o
),(
k1
),(
k2
),(
k3
),(
e
))

	)

245 
	#des_ede3_cbc_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv
,
e
)\

246 
	`_os¦_Şd_des_ede3_cbc_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(
k3
),(
iv
),(
e
))

	)

247 
	#des_ede3_cfb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv
,
n
,
e
)\

248 
	`_os¦_Şd_des_ede3_cfb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(
k3
),(
iv
),(
n
),(
e
))

	)

249 
	#des_ede3_ofb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
k3
,
iv
,
n
)\

250 
	`_os¦_Şd_des_ede3_ofb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(
k3
),(
iv
),(
n
))

	)

251 
	#des_İtiÚs
()\

252 
	`_os¦_Şd_des_İtiÚs
()

	)

253 
	#des_cbc_cksum
(
i
,
o
,
l
,
k
,
iv
)\

254 
	`_os¦_Şd_des_cbc_cksum
((
i
),(
o
),(
l
),(
k
),(
iv
))

	)

255 
	#des_cbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
e
)\

256 
	`_os¦_Şd_des_cbc_’üy±
((
i
),(
o
),(
l
),(
k
),(
iv
),(
e
))

	)

257 
	#des_ncbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
e
)\

258 
	`_os¦_Şd_des_ncbc_’üy±
((
i
),(
o
),(
l
),(
k
),(
iv
),(
e
))

	)

259 
	#des_xcbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
šw
,
outw
,
e
)\

260 
	`_os¦_Şd_des_xcbc_’üy±
((
i
),(
o
),(
l
),(
k
),(
iv
),(
šw
),(
outw
),(
e
))

	)

261 
	#des_cfb_’üy±
(
i
,
o
,
n
,
l
,
k
,
iv
,
e
)\

262 
	`_os¦_Şd_des_cfb_’üy±
((
i
),(
o
),(
n
),(
l
),(
k
),(
iv
),(
e
))

	)

263 
	#des_ecb_’üy±
(
i
,
o
,
k
,
e
)\

264 
	`_os¦_Şd_des_ecb_’üy±
((
i
),(
o
),(
k
),(
e
))

	)

265 
	#des_’üy±
(
d
,
k
,
e
)\

266 
	`_os¦_Şd_des_’üy±
((
d
),(
k
),(
e
))

	)

267 
	#des_’üy±2
(
d
,
k
,
e
)\

268 
	`_os¦_Şd_des_’üy±2
((
d
),(
k
),(
e
))

	)

269 
	#des_’üy±3
(
d
,
k1
,
k2
,
k3
)\

270 
	`_os¦_Şd_des_’üy±3
((
d
),(
k1
),(
k2
),(
k3
))

	)

271 
	#des_deüy±3
(
d
,
k1
,
k2
,
k3
)\

272 
	`_os¦_Şd_des_deüy±3
((
d
),(
k1
),(
k2
),(
k3
))

	)

273 
	#des_xwh™e_š2out
(
k
,
i
,
o
)\

274 
	`_os¦_Şd_des_xwh™e_š2out
((
k
),(
i
),(
o
))

	)

275 
	#des_’c_»ad
(
f
,
b
,
l
,
k
,
iv
)\

276 
	`_os¦_Şd_des_’c_»ad
((
f
),(
b
),(
l
),(
k
),(
iv
))

	)

277 
	#des_’c_wr™e
(
f
,
b
,
l
,
k
,
iv
)\

278 
	`_os¦_Şd_des_’c_wr™e
((
f
),(
b
),(
l
),(
k
),(
iv
))

	)

279 
	#des_füy±
(
b
,
s
,
r
)\

280 
	`_os¦_Şd_des_füy±
((
b
),(
s
),(
r
))

	)

281 
	#des_üy±
(
b
,
s
)\

282 
	`_os¦_Şd_des_üy±
((
b
),(
s
))

	)

284 
	#üy±
(
b
,
s
)\

285 
	`_os¦_Şd_üy±
((
b
),(
s
))

	)

287 
	#des_ofb_’üy±
(
i
,
o
,
n
,
l
,
k
,
iv
)\

288 
	`_os¦_Şd_des_ofb_’üy±
((
i
),(
o
),(
n
),(
l
),(
k
),(
iv
))

	)

289 
	#des_pcbc_’üy±
(
i
,
o
,
l
,
k
,
iv
,
e
)\

290 
	`_os¦_Şd_des_pcbc_’üy±
((
i
),(
o
),(
l
),(
k
),(
iv
),(
e
))

	)

291 
	#des_quad_cksum
(
i
,
o
,
l
,
c
,
s
)\

292 
	`_os¦_Şd_des_quad_cksum
((
i
),(
o
),(
l
),(
c
),(
s
))

	)

293 
	#des_¿ndom_£ed
(
k
)\

294 
	`_os¦_Şd_des_¿ndom_£ed
((
k
))

	)

295 
	#des_¿ndom_key
(
r
)\

296 
	`_os¦_Şd_des_¿ndom_key
((
r
))

	)

297 
	#des_»ad_·sswÜd
(
k
,
p
,
v
) \

298 
	`_os¦_Şd_des_»ad_·sswÜd
((
k
),(
p
),(
v
))

	)

299 
	#des_»ad_2·sswÜds
(
k1
,
k2
,
p
,
v
) \

300 
	`_os¦_Şd_des_»ad_2·sswÜds
((
k1
),(
k2
),(
p
),(
v
))

	)

301 
	#des_£t_odd_·r™y
(
k
)\

302 
	`_os¦_Şd_des_£t_odd_·r™y
((
k
))

	)

303 
	#des_is_w—k_key
(
k
)\

304 
	`_os¦_Şd_des_is_w—k_key
((
k
))

	)

305 
	#des_£t_key
(
k
,
ks
)\

306 
	`_os¦_Şd_des_£t_key
((
k
),(
ks
))

	)

307 
	#des_key_sched
(
k
,
ks
)\

308 
	`_os¦_Şd_des_key_sched
((
k
),(
ks
))

	)

309 
	#des_¡ršg_to_key
(
s
,
k
)\

310 
	`_os¦_Şd_des_¡ršg_to_key
((
s
),(
k
))

	)

311 
	#des_¡ršg_to_2keys
(
s
,
k1
,
k2
)\

312 
	`_os¦_Şd_des_¡ršg_to_2keys
((
s
),(
k1
),(
k2
))

	)

313 
	#des_cfb64_’üy±
(
i
,
o
,
l
,
ks
,
iv
,
n
,
e
)\

314 
	`_os¦_Şd_des_cfb64_’üy±
((
i
),(
o
),(
l
),(
ks
),(
iv
),(
n
),(
e
))

	)

315 
	#des_ofb64_’üy±
(
i
,
o
,
l
,
ks
,
iv
,
n
)\

316 
	`_os¦_Şd_des_ofb64_’üy±
((
i
),(
o
),(
l
),(
ks
),(
iv
),(
n
))

	)

319 
	#des_ecb2_’üy±
(
i
,
o
,
k1
,
k2
,
e
) \

320 
	`des_ecb3_’üy±
((
i
),(
o
),(
k1
),(
k2
),(k1),(
e
))

	)

322 
	#des_ede2_cbc_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
e
) \

323 
	`des_ede3_cbc_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
e
))

	)

325 
	#des_ede2_cfb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
n
,
e
) \

326 
	`des_ede3_cfb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
n
),(
e
))

	)

328 
	#des_ede2_ofb64_’üy±
(
i
,
o
,
l
,
k1
,
k2
,
iv
,
n
) \

329 
	`des_ede3_ofb64_’üy±
((
i
),(
o
),(
l
),(
k1
),(
k2
),(k1),(
iv
),(
n
))

	)

331 
	#des_check_key
 
DES_check_key


	)

332 
	#des_rw_mode
 
DES_rw_mode


	)

335 cÚ¡ *
_os¦_Şd_des_İtiÚs
();

336 
_os¦_Şd_des_ecb3_’üy±
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,

337 
_os¦_Şd_des_key_scheduË
 
ks1
,_os¦_Şd_des_key_scheduË 
ks2
,

338 
_os¦_Şd_des_key_scheduË
 
ks3
, 
’c
);

339 
DES_LONG
 
_os¦_Şd_des_cbc_cksum
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,

340 
Ëngth
,
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
);

341 
_os¦_Şd_des_cbc_’üy±
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,
Ëngth
,

342 
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
,
’c
);

343 
_os¦_Şd_des_ncbc_’üy±
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,
Ëngth
,

344 
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
,
’c
);

345 
_os¦_Şd_des_xcbc_’üy±
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,
Ëngth
,

346 
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
,

347 
_os¦_Şd_des_cblock
 *
šw
,_os¦_Şd_des_cblock *
outw
,
’c
);

348 
_os¦_Şd_des_cfb_’üy±
(*
š
,*
out
,
numb™s
,

349 
Ëngth
,
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
,
’c
);

350 
_os¦_Şd_des_ecb_’üy±
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,

351 
_os¦_Şd_des_key_scheduË
 
ks
,
’c
);

352 
_os¦_Şd_des_’üy±
(
DES_LONG
 *
d©a
,
_os¦_Şd_des_key_scheduË
 
ks
, 
’c
);

353 
_os¦_Şd_des_’üy±2
(
DES_LONG
 *
d©a
,
_os¦_Şd_des_key_scheduË
 
ks
, 
’c
);

354 
_os¦_Şd_des_’üy±3
(
DES_LONG
 *
d©a
, 
_os¦_Şd_des_key_scheduË
 
ks1
,

355 
_os¦_Şd_des_key_scheduË
 
ks2
, _os¦_Şd_des_key_scheduË 
ks3
);

356 
_os¦_Şd_des_deüy±3
(
DES_LONG
 *
d©a
, 
_os¦_Şd_des_key_scheduË
 
ks1
,

357 
_os¦_Şd_des_key_scheduË
 
ks2
, _os¦_Şd_des_key_scheduË 
ks3
);

358 
_os¦_Şd_des_ede3_cbc_’üy±
(
_os¦_Şd_des_cblock
 *
šput
, _os¦_Şd_des_cblock *
ouut
,

359 
Ëngth
, 
_os¦_Şd_des_key_scheduË
 
ks1
, _os¦_Şd_des_key_scheduË 
ks2
,

360 
_os¦_Şd_des_key_scheduË
 
ks3
, 
_os¦_Şd_des_cblock
 *
ivec
, 
’c
);

361 
_os¦_Şd_des_ede3_cfb64_’üy±
(*
š
, *
out
,

362 
Ëngth
, 
_os¦_Şd_des_key_scheduË
 
ks1
, _os¦_Şd_des_key_scheduË 
ks2
,

363 
_os¦_Şd_des_key_scheduË
 
ks3
, 
_os¦_Şd_des_cblock
 *
ivec
, *
num
, 
’c
);

364 
_os¦_Şd_des_ede3_ofb64_’üy±
(*
š
, *
out
,

365 
Ëngth
, 
_os¦_Şd_des_key_scheduË
 
ks1
, _os¦_Şd_des_key_scheduË 
ks2
,

366 
_os¦_Şd_des_key_scheduË
 
ks3
, 
_os¦_Şd_des_cblock
 *
ivec
, *
num
);

368 
_os¦_Şd_des_xwh™e_š2out
(
_os¦_Şd_des_cblock
 (*
des_key
), _os¦_Şd_des_cblock (*
š_wh™e
),

369 
_os¦_Şd_des_cblock
 (*
out_wh™e
));

372 
_os¦_Şd_des_’c_»ad
(
fd
,*
buf
,
Ën
,
_os¦_Şd_des_key_scheduË
 
sched
,

373 
_os¦_Şd_des_cblock
 *
iv
);

374 
_os¦_Şd_des_’c_wr™e
(
fd
,*
buf
,
Ën
,
_os¦_Şd_des_key_scheduË
 
sched
,

375 
_os¦_Şd_des_cblock
 *
iv
);

376 *
_os¦_Şd_des_füy±
(cÚ¡ *
buf
,cÚ¡ *
§É
, *
»t
);

377 *
_os¦_Şd_des_üy±
(cÚ¡ *
buf
,cÚ¡ *
§É
);

378 #ià!
defšed
(
PERL5
è&& !defšed(
NeXT
)

379 *
_os¦_Şd_üy±
(cÚ¡ *
buf
,cÚ¡ *
§É
);

381 
_os¦_Şd_des_ofb_’üy±
(*
š
,*
out
,

382 
numb™s
,
Ëngth
,
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
);

383 
_os¦_Şd_des_pcbc_’üy±
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,
Ëngth
,

384 
_os¦_Şd_des_key_scheduË
 
scheduË
,
_os¦_Şd_des_cblock
 *
ivec
,
’c
);

385 
DES_LONG
 
_os¦_Şd_des_quad_cksum
(
_os¦_Şd_des_cblock
 *
šput
,_os¦_Şd_des_cblock *
ouut
,

386 
Ëngth
,
out_couÁ
,
_os¦_Şd_des_cblock
 *
£ed
);

387 
_os¦_Şd_des_¿ndom_£ed
(
_os¦_Şd_des_cblock
 
key
);

388 
_os¦_Şd_des_¿ndom_key
(
_os¦_Şd_des_cblock
 
»t
);

389 
_os¦_Şd_des_»ad_·sswÜd
(
_os¦_Şd_des_cblock
 *
key
,cÚ¡ *
´om±
,
v”ify
);

390 
_os¦_Şd_des_»ad_2·sswÜds
(
_os¦_Şd_des_cblock
 *
key1
,_os¦_Şd_des_cblock *
key2
,

391 cÚ¡ *
´om±
,
v”ify
);

392 
_os¦_Şd_des_£t_odd_·r™y
(
_os¦_Şd_des_cblock
 *
key
);

393 
_os¦_Şd_des_is_w—k_key
(
_os¦_Şd_des_cblock
 *
key
);

394 
_os¦_Şd_des_£t_key
(
_os¦_Şd_des_cblock
 *
key
,
_os¦_Şd_des_key_scheduË
 
scheduË
);

395 
_os¦_Şd_des_key_sched
(
_os¦_Şd_des_cblock
 *
key
,
_os¦_Şd_des_key_scheduË
 
scheduË
);

396 
_os¦_Şd_des_¡ršg_to_key
(*
¡r
,
_os¦_Şd_des_cblock
 *
key
);

397 
_os¦_Şd_des_¡ršg_to_2keys
(*
¡r
,
_os¦_Şd_des_cblock
 *
key1
,_os¦_Şd_des_cblock *
key2
);

398 
_os¦_Şd_des_cfb64_’üy±
(*
š
, *
out
, 
Ëngth
,

399 
_os¦_Şd_des_key_scheduË
 
scheduË
, 
_os¦_Şd_des_cblock
 *
ivec
, *
num
, 
’c
);

400 
_os¦_Şd_des_ofb64_’üy±
(*
š
, *
out
, 
Ëngth
,

401 
_os¦_Şd_des_key_scheduË
 
scheduË
, 
_os¦_Şd_des_cblock
 *
ivec
, *
num
);

403 
_os¦_096_des_¿ndom_£ed
(
des_cblock
 *
key
);

408 
	#_KERBEROS_DES_H


	)

410 
	#KRBDES_ENCRYPT
 
DES_ENCRYPT


	)

411 
	#KRBDES_DECRYPT
 
DES_DECRYPT


	)

413 #ifdeà
KERBEROS


414 
	#ENCRYPT
 
DES_ENCRYPT


	)

415 
	#DECRYPT
 
DES_DECRYPT


	)

418 #iâdeà
NCOMPAT


419 
	#C_Block
 
des_cblock


	)

420 
	#Key_scheduË
 
des_key_scheduË


	)

421 
	#KEY_SZ
 
DES_KEY_SZ


	)

422 
	#¡ršg_to_key
 
des_¡ršg_to_key


	)

423 
	#»ad_pw_¡ršg
 
des_»ad_pw_¡ršg


	)

424 
	#¿ndom_key
 
des_¿ndom_key


	)

425 
	#pcbc_’üy±
 
des_pcbc_’üy±


	)

426 
	#£t_key
 
des_£t_key


	)

427 
	#key_sched
 
des_key_sched


	)

428 
	#ecb_’üy±
 
des_ecb_’üy±


	)

429 
	#cbc_’üy±
 
des_cbc_’üy±


	)

430 
	#ncbc_’üy±
 
des_ncbc_’üy±


	)

431 
	#xcbc_’üy±
 
des_xcbc_’üy±


	)

432 
	#cbc_cksum
 
des_cbc_cksum


	)

433 
	#quad_cksum
 
des_quad_cksum


	)

434 
	#check_·r™y
 
des_check_key_·r™y


	)

437 
	#des_fixup_key_·r™y
 
DES_fixup_key_·r™y


	)

439 #ifdeà 
__ılu¥lus


444 
	~<İ’s¦/ui_com·t.h
>

	@/usr/include/openssl/e_os2.h

56 
	~<İ’s¦/İ’s¦cÚf.h
>

58 #iâdeà
HEADER_E_OS2_H


59 
	#HEADER_E_OS2_H


	)

61 #ifdeà 
__ılu¥lus


71 
	#OPENSSL_SYS_UNIX


	)

74 #ià
defšed
(
__MWERKS__
è&& defšed(
macštosh
è|| defšed(
OPENSSL_SYSNAME_MAC
)

75 #undeà
OPENSSL_SYS_UNIX


76 
	#OPENSSL_SYS_MACINTOSH_CLASSIC


	)

80 #ià
defšed
(
NETWARE
è|| defšed(
OPENSSL_SYSNAME_NETWARE
)

81 #undeà
OPENSSL_SYS_UNIX


82 
	#OPENSSL_SYS_NETWARE


	)

89 #ià
defšed
(
OPENSSL_SYSNAME_MSDOS
)

90 #undeà
OPENSSL_SYS_UNIX


91 
	#OPENSSL_SYS_MSDOS


	)

96 #ià
defšed
(
OPENSSL_SYSNAME_UWIN
)

97 #undeà
OPENSSL_SYS_UNIX


98 
	#OPENSSL_SYS_WIN32_UWIN


	)

100 #ià
defšed
(
__CYGWIN32__
è|| defšed(
OPENSSL_SYSNAME_CYGWIN32
)

101 #undeà
OPENSSL_SYS_UNIX


102 
	#OPENSSL_SYS_WIN32_CYGWIN


	)

104 #ià
defšed
(
_WIN32
è|| defšed(
OPENSSL_SYSNAME_WIN32
)

105 #undeà
OPENSSL_SYS_UNIX


106 
	#OPENSSL_SYS_WIN32


	)

108 #ià
defšed
(
OPENSSL_SYSNAME_WINNT
)

109 #undeà
OPENSSL_SYS_UNIX


110 
	#OPENSSL_SYS_WINNT


	)

112 #ià
defšed
(
OPENSSL_SYSNAME_WINCE
)

113 #undeà
OPENSSL_SYS_UNIX


114 
	#OPENSSL_SYS_WINCE


	)

120 #ià
defšed
(
OPENSSL_SYS_WIN32
è|| defšed(
OPENSSL_SYS_WINNT
è|| defšed(
OPENSSL_SYS_WINCE
)

121 #undeà
OPENSSL_SYS_UNIX


122 
	#OPENSSL_SYS_WINDOWS


	)

123 #iâdeà
OPENSSL_SYS_MSDOS


124 
	#OPENSSL_SYS_MSDOS


	)

131 #ifdeà
OPENSSL_SYS_WINDOWS


132 #iâdeà
OPENSSL_OPT_WINDLL


133 #ià
defšed
(
_WINDLL
)

135 
	#OPENSSL_OPT_WINDLL


	)

141 #ià
defšed
(
__VMS
è|| defšed(
VMS
è|| defšed(
OPENSSL_SYSNAME_VMS
)

142 #undeà
OPENSSL_SYS_UNIX


143 
	#OPENSSL_SYS_VMS


	)

144 #ià
defšed
(
__DECC
)

145 
	#OPENSSL_SYS_VMS_DECC


	)

146 #–ià
defšed
(
__DECCXX
)

147 
	#OPENSSL_SYS_VMS_DECC


	)

148 
	#OPENSSL_SYS_VMS_DECCXX


	)

150 
	#OPENSSL_SYS_VMS_NODECC


	)

155 #ià
defšed
(
__EMX__
è|| defšed(
__OS2__
)

156 #undeà
OPENSSL_SYS_UNIX


157 
	#OPENSSL_SYS_OS2


	)

161 #ifdeà
OPENSSL_SYS_UNIX


162 #ià
defšed
(
lšux
è|| defšed(
__lšux__
è|| defšed(
OPENSSL_SYSNAME_LINUX
)

163 
	#OPENSSL_SYS_LINUX


	)

165 #ifdeà
OPENSSL_SYSNAME_MPE


166 
	#OPENSSL_SYS_MPE


	)

168 #ifdeà
OPENSSL_SYSNAME_SNI


169 
	#OPENSSL_SYS_SNI


	)

171 #ifdeà
OPENSSL_SYSNAME_ULTRASPARC


172 
	#OPENSSL_SYS_ULTRASPARC


	)

174 #ifdeà
OPENSSL_SYSNAME_NEWS4


175 
	#OPENSSL_SYS_NEWS4


	)

177 #ifdeà
OPENSSL_SYSNAME_MACOSX


178 
	#OPENSSL_SYS_MACOSX


	)

180 #ifdeà
OPENSSL_SYSNAME_MACOSX_RHAPSODY


181 
	#OPENSSL_SYS_MACOSX_RHAPSODY


	)

182 
	#OPENSSL_SYS_MACOSX


	)

184 #ifdeà
OPENSSL_SYSNAME_SUNOS


185 
	#OPENSSL_SYS_SUNOS


	)

187 #ià
defšed
(
_CRAY
è|| defšed(
OPENSSL_SYSNAME_CRAY
)

188 
	#OPENSSL_SYS_CRAY


	)

190 #ià
defšed
(
_AIX
è|| defšed(
OPENSSL_SYSNAME_AIX
)

191 
	#OPENSSL_SYS_AIX


	)

196 #ifdeà
OPENSSL_SYSNAME_VOS


197 
	#OPENSSL_SYS_VOS


	)

201 #ifdeà
OPENSSL_SYSNAME_VXWORKS


202 
	#OPENSSL_SYS_VXWORKS


	)

211 #ifdeà
OPENSSL_SYS_MSDOS


212 
	#OPENSSL_UNISTD_IO
 <
io
.
h
>

	)

213 
	#OPENSSL_DECLARE_EXIT
 
	`ex™
();

	)

215 
	#OPENSSL_UNISTD_IO
 
OPENSSL_UNISTD


	)

216 
	#OPENSSL_DECLARE_EXIT


	)

238 #ià
defšed
(
OPENSSL_SYS_VMS_NODECC
)

239 
	#OPENSSL_EXPORT
 
glob®»f


	)

240 
	#OPENSSL_IMPORT
 
glob®»f


	)

241 
	#OPENSSL_GLOBAL
 
glob®def


	)

242 #–ià
defšed
(
OPENSSL_SYS_WINDOWS
è&& defšed(
OPENSSL_OPT_WINDLL
)

243 
	#OPENSSL_EXPORT
 
	`__deş¥ec
(
dÎexpÜt
)

	)

244 
	#OPENSSL_IMPORT
 
	`__deş¥ec
(
dÎimpÜt
)

	)

245 
	#OPENSSL_GLOBAL


	)

247 
	#OPENSSL_EXPORT
 

	)

248 
	#OPENSSL_IMPORT
 

	)

249 
	#OPENSSL_GLOBAL


	)

251 
	#OPENSSL_EXTERN
 
OPENSSL_IMPORT


	)

263 #ifdeà
OPENSSL_EXPORT_VAR_AS_FUNCTION


264 
	#OPENSSL_IMPLEMENT_GLOBAL
(
ty³
,
Çme
) \

265 
ty³
 
_hide_
##
Çme
; \

266 
ty³
 *
_shadow_
##
	`Çme
(è{  &
_hide_
##
Çme
; } \

267 
ty³
 
_hide_
##
Çme


	)

268 
	#OPENSSL_DECLARE_GLOBAL
(
ty³
,
Çme
èty³ *
_shadow_
##
	`Çme
()

	)

269 
	#OPENSSL_GLOBAL_REF
(
Çme
è(*(
_shadow_
##
	`Çme
()))

	)

271 
	#OPENSSL_IMPLEMENT_GLOBAL
(
ty³
,
Çme
è
OPENSSL_GLOBAL
y³ 
_shadow_
##
	)
name

272 
	#OPENSSL_DECLARE_GLOBAL
(
ty³
,
Çme
è
OPENSSL_EXPORT
y³ 
_shadow_
##
	)
name

273 
	#OPENSSL_GLOBAL_REF
(
Çme
è
_shadow_
##
	)
name

276 #ifdeà 
__ılu¥lus


	@/usr/include/sys/_iovec.h

33 #iâdeà
_SYS__IOVEC_H_


34 
	#_SYS__IOVEC_H_


	)

36 
	~<sys/_ty³s.h
>

38 #iâdeà
_SIZE_T_DECLARED


39 
__size_t
 
	tsize_t
;

40 
	#_SIZE_T_DECLARED


	)

43 
	siovec
 {

44 *
	miov_ba£
;

45 
size_t
 
	miov_Ën
;

	@/usr/include/sys/_lock.h

31 #iâdeà
_SYS__LOCK_H_


32 
	#_SYS__LOCK_H_


	)

34 
	slock_objeù
 {

35 cÚ¡ *
	mlo_Çme
;

36 
u_št
 
	mlo_æags
;

37 
u_št
 
	mlo_d©a
;

38 
w™Ãss
 *
	mlo_w™Ãss
;

	@/usr/include/sys/_mutex.h

31 #iâdeà
_SYS__MUTEX_H_


32 
	#_SYS__MUTEX_H_


	)

37 
	smtx
 {

38 
lock_objeù
 
	mlock_objeù
;

39 vŞ©
ušŒ_t
 
	mmtx_lock
;

	@/usr/include/sys/_null.h

29 #iâdeà
NULL


31 #ià!
defšed
(
__ılu¥lus
)

32 
	#NULL
 ((*)0)

	)

34 #ià
defšed
(
__GNUG__
è&& defšed(
__GNUC__
) && __GNUC__ >= 4

35 
	#NULL
 
__nuÎ


	)

37 #ià
defšed
(
__LP64__
)

38 
	#NULL
 (0L)

	)

40 
	#NULL
 0

	)

	@/usr/include/sys/_pthreadtypes.h

36 #iâdeà
_SYS__PTHREADTYPES_H_


37 
	#_SYS__PTHREADTYPES_H_


	)

44 
	g±h»ad
;

45 
	g±h»ad_©Œ
;

46 
	g±h»ad_cÚd
;

47 
	g±h»ad_cÚd_©Œ
;

48 
	g±h»ad_mu‹x
;

49 
	g±h»ad_mu‹x_©Œ
;

50 
	g±h»ad_Úû
;

51 
	g±h»ad_rwlock
;

52 
	g±h»ad_rwlock©Œ
;

53 
	g±h»ad_b¬r›r
;

54 
	g±h»ad_b¬r›r_©Œ
;

55 
	g±h»ad_¥šlock
;

64 #iâdeà
_PTHREAD_T_DECLARED


65 
±h»ad
 *
	t±h»ad_t
;

66 
	#_PTHREAD_T_DECLARED


	)

68 
±h»ad_©Œ
 *
	t±h»ad_©Œ_t
;

69 
±h»ad_mu‹x
 *
	t±h»ad_mu‹x_t
;

70 
±h»ad_mu‹x_©Œ
 *
	t±h»ad_mu‹x©Œ_t
;

71 
±h»ad_cÚd
 *
	t±h»ad_cÚd_t
;

72 
±h»ad_cÚd_©Œ
 *
	t±h»ad_cÚd©Œ_t
;

73 
	t±h»ad_key_t
;

74 
±h»ad_Úû
 
	t±h»ad_Úû_t
;

75 
±h»ad_rwlock
 *
	t±h»ad_rwlock_t
;

76 
±h»ad_rwlock©Œ
 *
	t±h»ad_rwlock©Œ_t
;

77 
±h»ad_b¬r›r
 *
	t±h»ad_b¬r›r_t
;

78 
±h»ad_b¬r›¿‰r
 *
	t±h»ad_b¬r›¿‰r_t
;

79 
±h»ad_¥šlock
 *
	t±h»ad_¥šlock_t
;

87 *
	t±h»ad_addr_t
;

88 *(*
	t±h»ad_¡¬Œoutše_t
)(*);

93 
	s±h»ad_Úû
 {

94 
	m¡©e
;

95 
±h»ad_mu‹x_t
 
	mmu‹x
;

	@/usr/include/sys/_timespec.h

49 #iâdeà
_SYS__TIMESPEC_H_


50 
	#_SYS__TIMESPEC_H_


	)

52 
	s__time¥ec
 {

53 
__time_t
 
	mtv_£c
;

54 
	mtv_n£c
;

	@/usr/include/sys/_timeval.h

29 #iâdeà
_SYS__TIMEVAL_H_


30 
	#_SYS__TIMEVAL_H_


	)

32 
	~<sys/_ty³s.h
>

34 #iâdeà
_SUSECONDS_T_DECLARED


35 
__su£cÚds_t
 
	tsu£cÚds_t
;

36 
	#_SUSECONDS_T_DECLARED


	)

39 #iâdeà
_TIME_T_DECLARED


40 
__time_t
 
	ttime_t
;

41 
	#_TIME_T_DECLARED


	)

47 
	stimev®
 {

48 
time_t
 
	mtv_£c
;

49 
su£cÚds_t
 
	mtv_u£c
;

	@/usr/include/sys/_types.h

29 #iâdeà
_SYS__TYPES_H_


30 
	#_SYS__TYPES_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<machše/_ty³s.h
>

38 
__ušt32_t
 
	t__blksize_t
;

39 
__št64_t
 
	t__blkút_t
;

40 
__št32_t
 
	t__şockid_t
;

41 
__ušt32_t
 
	t__fæags_t
;

42 
__ušt64_t
 
	t__fsblkút_t
;

43 
__ušt64_t
 
	t__fsfút_t
;

44 
__ušt32_t
 
	t__gid_t
;

45 
__št64_t
 
	t__id_t
;

46 
__ušt32_t
 
	t__šo_t
;

47 
	t__key_t
;

48 
__št32_t
 
	t__lwpid_t
;

49 
__ušt16_t
 
	t__mode_t
;

50 
	t__accmode_t
;

51 
	t__Æ_™em
;

52 
__ušt16_t
 
	t__Æšk_t
;

53 
__št64_t
 
	t__off_t
;

54 
__št32_t
 
	t__pid_t
;

55 
__št64_t
 
	t__¾im_t
;

58 
__ušt8_t
 
	t__§_çmy_t
;

59 
__ušt32_t
 
	t__sockËn_t
;

60 
	t__su£cÚds_t
;

61 
__tim”
 *
	t__tim”_t
;

62 
__mq
 *
	t__mqd_t
;

63 
__ušt32_t
 
	t__uid_t
;

64 
	t__u£cÚds_t
;

65 
	t__ıuwhich_t
;

66 
	t__ıuËv–_t
;

67 
	t__ıu£tid_t
;

87 
	t__ù_ruÃ_t
;

88 
__ù_ruÃ_t
 
	t__ruÃ_t
;

89 
__ù_ruÃ_t
 
	t__wch¬_t
;

90 
__ù_ruÃ_t
 
	t__wšt_t
;

92 
__ušt32_t
 
	t__dev_t
;

94 
__ušt32_t
 
	t__fix±_t
;

101 
	m__mb¡©e8
[128];

102 
__št64_t
 
	m_mb¡©eL
;

103 } 
	t__mb¡©e_t
;

	@/usr/include/sys/buf.h

38 #iâdeà
_SYS_BUF_H_


39 
	#_SYS_BUF_H_


	)

41 
	~<sys/bufobj.h
>

42 
	~<sys/queue.h
>

43 
	~<sys/lock.h
>

44 
	~<sys/lockmgr.h
>

46 
	gbio
;

47 
	gbuf
;

48 
	gbufobj
;

49 
	gmouÁ
;

50 
	gvnode
;

51 
	guio
;

56 
LIST_HEAD
(
wÜkh—d
, 
wÜkli¡
);

63 
	sbio_İs
 {

64 (*
io_¡¬t
)(
buf
 *);

65 (*
io_com¶‘e
)(
buf
 *);

66 (*
io_d—Îoÿ‹
)(
buf
 *);

67 (*
io_couÁd•s
)(
buf
 *, );

68 } 
bioİs
;

70 
	gvm_objeù
;

72 
	tb_xæags_t
;

95 
	sbuf
 {

96 
bufobj
 *
	mb_bufobj
;

97 
	mb_bcouÁ
;

98 *
	mb_ÿÎ”1
;

99 
ÿddr_t
 
	mb_d©a
;

100 
	mb_”rÜ
;

101 
ušt8_t
 
	mb_iocmd
;

102 
ušt8_t
 
	mb_ioæags
;

103 
off_t
 
	mb_iooff£t
;

104 
	mb_»sid
;

105 (*
	mb_iodÚe
)(
	mbuf
 *);

106 
daddr_t
 
	mb_blkno
;

107 
off_t
 
	mb_off£t
;

108 
TAILQ_ENTRY
(
buf
è
	mb_bobufs
;

109 
buf
 *
	mb_Ëá
;

110 
buf
 *
	mb_right
;

111 
ušt32_t
 
	mb_væags
;

112 
TAILQ_ENTRY
(
buf
è
	mb_ä“li¡
;

113 
	mb_qšdex
;

114 
ušt32_t
 
	mb_æags
;

115 
b_xæags_t
 
	mb_xæags
;

116 
lock
 
	mb_lock
;

117 
	mb_bufsize
;

118 
	mb_ruÂšgbuf¥aû
;

119 
ÿddr_t
 
	mb_kvaba£
;

120 
	mb_kvasize
;

121 
daddr_t
 
	mb_lblkno
;

122 
vnode
 *
	mb_vp
;

123 
	mb_dœtyoff
;

124 
	mb_dœty’d
;

125 
uüed
 *
	mb_rüed
;

126 
uüed
 *
	mb_wüed
;

127 *
	mb_§v—ddr
;

128 
	u·g”_šfo
 {

129 
	mpg_»q·ge
;

130 } 
	mb_·g”
;

131 
	uşu¡”_šfo
 {

132 
TAILQ_HEAD
(
şu¡”_li¡_h—d
, 
buf
è
	mşu¡”_h—d
;

133 
TAILQ_ENTRY
(
buf
è
	mşu¡”_’Œy
;

134 } 
	mb_şu¡”
;

135 
vm_·ge
 *
	mb_·ges
[
btoc
(
MAXPHYS
)];

136 
	mb_Åages
;

137 
wÜkh—d
 
	mb_d•
;

138 *
	mb_f¥riv©e1
;

139 *
	mb_f¥riv©e2
;

140 *
	mb_f¥riv©e3
;

141 
	mb_pš_couÁ
;

144 
	#b_objeù
 
b_bufobj
->
bo_objeù


	)

194 
	#B_AGE
 0x00000001

	)

195 
	#B_NEEDCOMMIT
 0x00000002

	)

196 
	#B_ASYNC
 0x00000004

	)

197 
	#B_DIRECT
 0x00000008

	)

198 
	#B_DEFERRED
 0x00000010

	)

199 
	#B_CACHE
 0x00000020

	)

200 
	#B_VALIDSUSPWRT
 0x00000040

	)

201 
	#B_DELWRI
 0x00000080

	)

202 
	#B_PERSISTENT
 0x00000100

	)

203 
	#B_DONE
 0x00000200

	)

204 
	#B_EINTR
 0x00000400

	)

205 
	#B_00000800
 0x00000800

	)

206 
	#B_00001000
 0x00001000

	)

207 
	#B_INVAL
 0x00002000

	)

208 
	#B_00004000
 0x00004000

	)

209 
	#B_NOCACHE
 0x00008000

	)

210 
	#B_MALLOC
 0x00010000

	)

211 
	#B_CLUSTEROK
 0x00020000

	)

212 
	#B_000400000
 0x00040000

	)

213 
	#B_000800000
 0x00080000

	)

214 
	#B_00100000
 0x00100000

	)

215 
	#B_DIRTY
 0x00200000

	)

216 
	#B_RELBUF
 0x00400000

	)

217 
	#B_00800000
 0x00800000

	)

218 
	#B_01000000
 0x01000000

	)

219 
	#B_NEEDSGIANT
 0x02000000

	)

220 
	#B_PAGING
 0x04000000

	)

221 
	#B_MANAGED
 0x08000000

	)

222 
	#B_RAM
 0x10000000

	)

223 
	#B_VMIO
 0x20000000

	)

224 
	#B_CLUSTER
 0x40000000

	)

225 
	#B_REMFREE
 0x80000000

	)

227 
	#PRINT_BUF_FLAGS
 "\20\40remfree\37cluster\36vmio\35ram\34b27" \

231 "\6ÿche\5deã¼ed\4dœeù\3async\2Ãedcomm™\1age"

	)

236 
	#BX_VNDIRTY
 0x00000001

	)

237 
	#BX_VNCLEAN
 0x00000002

	)

238 
	#BX_BKGRDWRITE
 0x00000010

	)

239 
	#BX_BKGRDMARKER
 0x00000020

	)

240 
	#BX_ALTDATA
 0x00000040

	)

242 
	#NOOFFSET
 (-1LLè

	)

247 
	#BV_SCANNED
 0x00000001

	)

248 
	#BV_BKGRDINPROG
 0x00000002

	)

249 
	#BV_BKGRDWAIT
 0x00000004

	)

250 
	#BV_INFREECNT
 0x80000000

	)

252 #ifdeà
_KERNEL


256 cÚ¡ *
buf_wmesg
;

257 
	#BUF_WMESG
 "bufwa™"

	)

258 
	~<sys/´oc.h
>

259 
	~<sys/mu‹x.h
>

264 
	#BUF_LOCKINIT
(
bp
) \

265 
	`lockš™
(&(
bp
)->
b_lock
, 
PRIBIO
 + 4, 
buf_wmesg
, 0, 0)

	)

270 
	#BUF_LOCK
(
bp
, 
lockty³
, 
š‹¾ock
) \

271 
	`_lockmgr_¬gs
(&(
bp
)->
b_lock
, (
lockty³
), (
š‹¾ock
), \

272 
LK_WMESG_DEFAULT
, 
LK_PRIO_DEFAULT
, 
LK_TIMO_DEFAULT
, \

273 
LOCK_FILE
, 
LOCK_LINE
)

	)

278 
	#BUF_TIMELOCK
(
bp
, 
lockty³
, 
š‹¾ock
, 
wmesg
, 
ÿtch
, 
timo
) \

279 
	`_lockmgr_¬gs
(&(
bp
)->
b_lock
, (
lockty³
è| 
LK_TIMELOCK
, \

280 (
š‹¾ock
), (
wmesg
), (
PRIBIO
 + 4è| (
ÿtch
), (
timo
), \

281 
LOCK_FILE
, 
LOCK_LINE
)

	)

287 
	#BUF_UNLOCK
(
bp
) do { \

288 
	`KASSERT
(((
bp
)->
b_æags
 & 
B_REMFREE
) == 0, \

289 ("BUF_UNLOCK %°whB_REMFREE i ¡È£t.", (
bp
))); \

291 ()
	`_lockmgr_¬gs
(&(
bp
)->
b_lock
, 
LK_RELEASE
, 
NULL
, \

292 
LK_WMESG_DEFAULT
, 
LK_PRIO_DEFAULT
, 
LK_TIMO_DEFAULT
, \

293 
LOCK_FILE
, 
LOCK_LINE
); \

294 } 0)

	)

299 
	#BUF_LOCKRECURSED
(
bp
) \

300 
	`lockmgr_»cur£d
(&(
bp
)->
b_lock
)

	)

305 
	#BUF_ISLOCKED
(
bp
) \

306 
	`lock¡©us
(&(
bp
)->
b_lock
)

	)

310 
	#BUF_LOCKFREE
(
bp
) \

311 
	`lockde¡roy
(&(
bp
)->
b_lock
)

	)

316 
	#BUF_LOCKPRINTINFO
(
bp
) \

317 
	`lockmgr_´štšfo
(&(
bp
)->
b_lock
)

	)

322 #ià
defšed
(
INVARIANTS
è&& defšed(
INVARIANT_SUPPORT
)

323 
	#BUF_ASSERT_LOCKED
(
bp
) \

324 
	`_lockmgr_as£¹
(&(
bp
)->
b_lock
, 
KA_LOCKED
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

325 
	#BUF_ASSERT_SLOCKED
(
bp
) \

326 
	`_lockmgr_as£¹
(&(
bp
)->
b_lock
, 
KA_SLOCKED
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

327 
	#BUF_ASSERT_XLOCKED
(
bp
) \

328 
	`_lockmgr_as£¹
(&(
bp
)->
b_lock
, 
KA_XLOCKED
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

329 
	#BUF_ASSERT_UNLOCKED
(
bp
) \

330 
	`_lockmgr_as£¹
(&(
bp
)->
b_lock
, 
KA_UNLOCKED
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

331 
	#BUF_ASSERT_HELD
(
bp
)

	)

332 
	#BUF_ASSERT_UNHELD
(
bp
)

	)

334 
	#BUF_ASSERT_LOCKED
(
bp
)

	)

335 
	#BUF_ASSERT_SLOCKED
(
bp
)

	)

336 
	#BUF_ASSERT_XLOCKED
(
bp
)

	)

337 
	#BUF_ASSERT_UNLOCKED
(
bp
)

	)

338 
	#BUF_ASSERT_HELD
(
bp
)

	)

339 
	#BUF_ASSERT_UNHELD
(
bp
)

	)

342 #ifdeà
_SYS_PROC_H_


349 
	#BUF_KERNPROC
(
bp
) \

350 
	`_lockmgr_disown
(&(
bp
)->
b_lock
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

356 
	#BUF_LOCKWAITERS
(
bp
) \

357 
	`lockmgr_wa™”s
(&(
bp
)->
b_lock
)

	)

361 
	sbuf_queue_h—d
 {

362 
TAILQ_HEAD
(
buf_queue
, 
buf
è
	mqueue
;

363 
daddr_t
 
	mÏ¡_pblkno
;

364 
buf
 *
	mš£¹_pošt
;

365 
buf
 *
	msw™ch_pošt
;

374 
	sşu¡”_§ve
 {

375 
	mbs_bcouÁ
;

376 
	mbs_bufsize
;

377 *
	mbs_§v—ddr
;

378 
	mbs_nchd»n
;

379 
buf
 **
	mbs_chd»n
;

382 #ifdeà
_KERNEL


384 
__šlše
 

385 
	$bwr™e
(
buf
 *
bp
)

388 
	`KASSERT
(
bp
->
b_bufobj
 !ğ
NULL
, ("bwrite:‚o bufobj bp=%p", bp));

389 
	`KASSERT
(
bp
->
b_bufobj
->
bo_İs
 !ğ
NULL
, ("bwrite:‚o bo_ops bp=%p", bp));

390 
	`KASSERT
(
bp
->
b_bufobj
->
bo_İs
->
bİ_wr™e
 !ğ
NULL
,

391 ("bwr™e:‚Øbİ_wr™bp=%p", 
bp
));

392  (
	`BO_WRITE
(
bp
->
b_bufobj
, bp));

393 
	}
}

395 
__šlše
 

396 
	$b¡¿‹gy
(
buf
 *
bp
)

399 
	`KASSERT
(
bp
->
b_bufobj
 !ğ
NULL
, ("bstrategy:‚o bufobj bp=%p", bp));

400 
	`KASSERT
(
bp
->
b_bufobj
->
bo_İs
 !ğ
NULL
,

401 ("b¡¿‹gy:‚Øbo_İ bp=%p", 
bp
));

402 
	`KASSERT
(
bp
->
b_bufobj
->
bo_İs
->
bİ_¡¿‹gy
 !ğ
NULL
,

403 ("b¡¿‹gy:‚Øbİ_¡¿‹gy bp=%p", 
bp
));

404 
	`BO_STRATEGY
(
bp
->
b_bufobj
, bp);

405 
	}
}

407 
__šlše
 

408 
	$buf_¡¬t
(
buf
 *
bp
)

410 ià(
bioİs
.
io_¡¬t
)

411 (*
bioİs
.
io_¡¬t
)(
bp
);

412 
	}
}

414 
__šlše
 

415 
	$buf_com¶‘e
(
buf
 *
bp
)

417 ià(
bioİs
.
io_com¶‘e
)

418 (*
bioİs
.
io_com¶‘e
)(
bp
);

419 
	}
}

421 
__šlše
 

422 
	$buf_d—Îoÿ‹
(
buf
 *
bp
)

424 ià(
bioİs
.
io_d—Îoÿ‹
)

425 (*
bioİs
.
io_d—Îoÿ‹
)(
bp
);

426 
	`BUF_LOCKFREE
(
bp
);

427 
	}
}

429 
__šlše
 

430 
	$buf_couÁd•s
(
buf
 *
bp
, 
i
)

432 ià(
bioİs
.
io_couÁd•s
)

433  ((*
bioİs
.
io_couÁd•s
)(
bp
, 
i
));

436 
	}
}

443 
	#şrbuf
(
bp
) { \

444 
	`bz”o
((
bp
)->
b_d©a
, (
u_št
)(bp)->
b_bcouÁ
); \

445 (
bp
)->
b_»sid
 = 0; \

446 }

	)

451 
	#GB_LOCK_NOWAIT
 0x0001

	)

452 
	#GB_NOCREAT
 0x0002

	)

453 
	#GB_NOWAIT_BD
 0x0004

	)

455 #ifdeà
_KERNEL


456 
nbuf
;

457 
maxswzÚe
;

458 
maxbÿche
;

459 
ruÂšgbuf¥aû
;

460 
hibuf¥aû
;

461 
dœtybuáh»sh
;

462 
bdwr™esk
;

463 
dœtybufãræushes
;

464 
®tbufãræushes
;

465 
buf_maxio
;

466 
buf
 *buf;

467 *
bufãrs
;

468 
buåages
;

469 
buf
 *
swbuf
;

470 
nswbuf
;

471 
şu¡”_pbuf_ä“út
;

472 
vnode_pbuf_ä“út
;

474 
ruÂšgbufwakeup
(
buf
 *);

475 
wa™ruÂšgbuf¥aû
();

476 
ÿddr_t
 
k”n_vfs_bio_bufãr_®loc
(ÿddr_ˆ
v
, 
physmem_e¡
);

477 
bufš™
();

478 
bwlwr™e
();

479 
buf_dœty_couÁ_£v”e
();

480 
b»mä“
(
buf
 *);

481 
b»mä“f
(
buf
 *);

482 
b»ad
(
vnode
 *, 
daddr_t
, , 
uüed
 *, 
buf
 **);

483 
b»ada
(
vnode
 *, 
daddr_t
 *, *, , 
uüed
 *);

484 
b»adn
(
vnode
 *, 
daddr_t
, , daddr_t *, *, ,

485 
uüed
 *, 
buf
 **);

486 
bdwr™e
(
buf
 *);

487 
bawr™e
(
buf
 *);

488 
bdœty
(
buf
 *);

489 
bundœty
(
buf
 *);

490 
buf¡¿‹gy
(
bufobj
 *, 
buf
 *);

491 
b»l£
(
buf
 *);

492 
bq»l£
(
buf
 *);

493 
vfs_bio_awr™e
(
buf
 *);

494 
buf
 * 
g‘pbuf
(*);

495 
buf
 *
šcÜe
(
bufobj
 *, 
daddr_t
);

496 
buf
 *
gbšcÜe
(
bufobj
 *, 
daddr_t
);

497 
buf
 *
g‘blk
(
vnode
 *, 
daddr_t
, , , , );

498 
buf
 *
g‘eblk
(, );

499 
bufwa™
(
buf
 *);

500 
bufwr™e
(
buf
 *);

501 
bufdÚe
(
buf
 *);

502 
bufdÚe_fšish
(
buf
 *);

504 
şu¡”_»ad
(
vnode
 *, 
u_quad_t
, 
daddr_t
, ,

505 
uüed
 *, , , 
buf
 **);

506 
şu¡”_wbud
(
vnode
 *, , 
daddr_t
, );

507 
şu¡”_wr™e
(
vnode
 *, 
buf
 *, 
u_quad_t
, );

508 
vfs_bio_£t_v®id
(
buf
 *, 
ba£
, 
size
);

509 
vfs_bio_şrbuf
(
buf
 *);

510 
vfs_busy_·ges
(
buf
 *, 
ş—r_modify
);

511 
vfs_unbusy_·ges
(
buf
 *);

512 
vm­buf
(
buf
 *);

513 
vunm­buf
(
buf
 *);

514 
»Íbuf
(
buf
 *, *);

515 
b»lvp
(
buf
 *);

516 
bg‘vp
(
vnode
 *, 
buf
 *);

517 
pbg‘bo
(
bufobj
 *
bo
, 
buf
 *
bp
);

518 
pbg‘vp
(
vnode
 *, 
buf
 *);

519 
pb»lbo
(
buf
 *);

520 
pb»lvp
(
buf
 *);

521 
®locbuf
(
buf
 *
bp
, 
size
);

522 
»assignbuf
(
buf
 *);

523 
buf
 *
Œypbuf
(*);

524 
bwa™
(
buf
 *, 
u_ch¬
, const *);

525 
bdÚe
(
buf
 *);

526 
bpš
(
buf
 *);

527 
buÅš
(
buf
 *);

528 
buÅš_wa™
(
buf
 *);

	@/usr/include/sys/callout.h

38 #iâdeà
_SYS_CALLOUT_H_


39 
	#_SYS_CALLOUT_H_


	)

41 
	~<sys/queue.h
>

43 
	glock_objeù
;

45 
SLIST_HEAD
(
ÿÎout_li¡
, 
ÿÎout
);

46 
TAILQ_HEAD
(
ÿÎout_q
, 
ÿÎout
);

48 
	sÿÎout
 {

50 
SLIST_ENTRY
(
ÿÎout
è
	m¦e
;

51 
TAILQ_ENTRY
(
ÿÎout
è
	mtqe
;

52 } 
	mc_lšks
;

53 
	mc_time
;

54 *
	mc_¬g
;

55 (*
	mc_func
)(*);

56 
lock_objeù
 *
	mc_lock
;

57 
	mc_æags
;

58 vŞ©
	mc_ıu
;

61 
	#CALLOUT_LOCAL_ALLOC
 0x0001

	)

62 
	#CALLOUT_ACTIVE
 0x0002

	)

63 
	#CALLOUT_PENDING
 0x0004

	)

64 
	#CALLOUT_MPSAFE
 0x0008

	)

65 
	#CALLOUT_RETURNUNLOCKED
 0x0010

	)

66 
	#CALLOUT_SHAREDLOCK
 0x0020

	)

68 
	sÿÎout_hªdË
 {

69 
ÿÎout
 *
	mÿÎout
;

72 #ifdeà
_KERNEL


73 
nÿÎout
;

75 
	#ÿÎout_aùive
(
c
è((c)->
c_æags
 & 
CALLOUT_ACTIVE
)

	)

76 
	#ÿÎout_d—ùiv©e
(
c
è((c)->
c_æags
 &ğ~
CALLOUT_ACTIVE
)

	)

77 
	#ÿÎout_d¿š
(
c
è
	`_ÿÎout_¡İ_§ã
(c, 1)

	)

78 
ÿÎout_š™
(
ÿÎout
 *, );

79 
_ÿÎout_š™_lock
(
ÿÎout
 *, 
lock_objeù
 *, );

80 
	#ÿÎout_š™_mtx
(
c
, 
mtx
, 
æags
) \

81 
	`_ÿÎout_š™_lock
((
c
), ((
mtx
è!ğ
NULL
è? &(mtx)->
lock_objeù
 : \

82 
NULL
, (
æags
))

	)

83 
	#ÿÎout_š™_rw
(
c
, 
rw
, 
æags
) \

84 
	`_ÿÎout_š™_lock
((
c
), ((
rw
è!ğ
NULL
è? &Ôw)->
lock_objeù
 : \

85 
NULL
, (
æags
))

	)

86 
	#ÿÎout_³ndšg
(
c
è((c)->
c_æags
 & 
CALLOUT_PENDING
)

	)

87 
ÿÎout_»£t_Ú
(
ÿÎout
 *, , (*)(*), *, );

88 
	#ÿÎout_»£t
(
c
, 
Ú_tick
, 
â
, 
¬g
) \

89 
	`ÿÎout_»£t_Ú
((
c
), (
Ú_tick
), (
â
), (
¬g
), (c)->
c_ıu
)

	)

90 
	#ÿÎout_»£t_curıu
(
c
, 
Ú_tick
, 
â
, 
¬g
) \

91 
	`ÿÎout_»£t_Ú
((
c
), (
Ú_tick
), (
â
), (
¬g
), 
	`PCPU_GET
(
ıuid
))

	)

92 
	`ÿÎout_scheduË
(
ÿÎout
 *, );

93 
	`ÿÎout_scheduË_Ú
(
ÿÎout
 *, , );

94 
	#ÿÎout_scheduË_curıu
(
c
, 
Ú_tick
) \

95 
	`ÿÎout_scheduË_Ú
((
c
), (
Ú_tick
), 
	`PCPU_GET
(
ıuid
))

	)

96 
	#ÿÎout_¡İ
(
c
è
	`_ÿÎout_¡İ_§ã
(c, 0)

	)

97 
	`_ÿÎout_¡İ_§ã
(
ÿÎout
 *, );

98 
	`ÿÎout_tick
();

	@/usr/include/sys/condvar.h

29 #iâdef 
_SYS_CONDVAR_H_


30 
	#_SYS_CONDVAR_H_


	)

32 #iâdef 
LOCORE


33 
	~<sys/queue.h
>

35 
	glock_objeù
;

36 
	gth»ad
;

38 
TAILQ_HEAD
(
cv_wa™q
, 
th»ad
);

46 
	scv
 {

47 cÚ¡ *
	mcv_desütiÚ
;

48 
	mcv_wa™”s
;

51 #ifdeà
_KERNEL


52 
cv_š™
(
cv
 *
cvp
, cÚ¡ *
desc
);

53 
cv_de¡roy
(
cv
 *
cvp
);

55 
_cv_wa™
(
cv
 *
cvp
, 
lock_objeù
 *
lock
);

56 
_cv_wa™_uÆock
(
cv
 *
cvp
, 
lock_objeù
 *
lock
);

57 
_cv_wa™_sig
(
cv
 *
cvp
, 
lock_objeù
 *
lock
);

58 
_cv_timedwa™
(
cv
 *
cvp
, 
lock_objeù
 *
lock
, 
timo
);

59 
_cv_timedwa™_sig
(
cv
 *
cvp
, 
lock_objeù
 *
lock
, 
timo
);

61 
cv_sigÇl
(
cv
 *
cvp
);

62 
cv_brßdÿ¡´i
(
cv
 *
cvp
, 
´i
);

64 
	#cv_wa™
(
cvp
, 
lock
) \

65 
	`_cv_wa™
((
cvp
), &(
lock
)->
lock_objeù
)

	)

66 
	#cv_wa™_uÆock
(
cvp
, 
lock
) \

67 
	`_cv_wa™_uÆock
((
cvp
), &(
lock
)->
lock_objeù
)

	)

68 
	#cv_wa™_sig
(
cvp
, 
lock
) \

69 
	`_cv_wa™_sig
((
cvp
), &(
lock
)->
lock_objeù
)

	)

70 
	#cv_timedwa™
(
cvp
, 
lock
, 
timo
) \

71 
	`_cv_timedwa™
((
cvp
), &(
lock
)->
lock_objeù
, (
timo
))

	)

72 
	#cv_timedwa™_sig
(
cvp
, 
lock
, 
timo
) \

73 
	`_cv_timedwa™_sig
((
cvp
), &(
lock
)->
lock_objeù
, (
timo
))

	)

75 
	#cv_brßdÿ¡
(
cvp
è
	`cv_brßdÿ¡´i
(cvp, 0)

	)

77 
	#cv_wmesg
(
cvp
è((cvp)->
cv_desütiÚ
)

	)

	@/usr/include/sys/dirent.h

33 #iâdef 
_SYS_DIRENT_H_


34 
	#_SYS_DIRENT_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

50 
	sdœ’t
 {

51 
__ušt32_t
 
	md_f’o
;

52 
__ušt16_t
 
	md_»ş’
;

53 
__ušt8_t
 
	md_ty³
;

54 
__ušt8_t
 
	md_ÇmËn
;

55 #ià
__BSD_VISIBLE


56 
	#MAXNAMLEN
 255

	)

57 
	md_Çme
[
MAXNAMLEN
 + 1];

59 
	md_Çme
[255 + 1];

63 #ià
__BSD_VISIBLE


67 
	#DT_UNKNOWN
 0

	)

68 
	#DT_FIFO
 1

	)

69 
	#DT_CHR
 2

	)

70 
	#DT_DIR
 4

	)

71 
	#DT_BLK
 6

	)

72 
	#DT_REG
 8

	)

73 
	#DT_LNK
 10

	)

74 
	#DT_SOCK
 12

	)

75 
	#DT_WHT
 14

	)

80 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

81 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

92 
	#_GENERIC_DIRSIZ
(
dp
) \

93 (( (
dœ’t
è- (
MAXNAMLEN
+1)è+ (((
dp
)->
d_ÇmËn
+1 + 3è&~ 3))

	)

96 #ifdeà
_KERNEL


97 
	#GENERIC_DIRSIZ
(
dp
è
	`_GENERIC_DIRSIZ
(dp)

	)

	@/usr/include/sys/errno.h

38 #iâdeà
_SYS_ERRNO_H_


39 
	#_SYS_ERRNO_H_


	)

41 #iâdeà
_KERNEL


42 
	~<sys/cdefs.h
>

43 
__BEGIN_DECLS


44 * 
__”rÜ
();

45 
	g__END_DECLS


46 
	#”ºo
 (* 
	`__”rÜ
())

	)

49 
	#EPERM
 1

	)

50 
	#ENOENT
 2

	)

51 
	#ESRCH
 3

	)

52 
	#EINTR
 4

	)

53 
	#EIO
 5

	)

54 
	#ENXIO
 6

	)

55 
	#E2BIG
 7

	)

56 
	#ENOEXEC
 8

	)

57 
	#EBADF
 9

	)

58 
	#ECHILD
 10

	)

59 
	#EDEADLK
 11

	)

61 
	#ENOMEM
 12

	)

62 
	#EACCES
 13

	)

63 
	#EFAULT
 14

	)

64 #iâdeà
_POSIX_SOURCE


65 
	#ENOTBLK
 15

	)

67 
	#EBUSY
 16

	)

68 
	#EEXIST
 17

	)

69 
	#EXDEV
 18

	)

70 
	#ENODEV
 19

	)

71 
	#ENOTDIR
 20

	)

72 
	#EISDIR
 21

	)

73 
	#EINVAL
 22

	)

74 
	#ENFILE
 23

	)

75 
	#EMFILE
 24

	)

76 
	#ENOTTY
 25

	)

77 #iâdeà
_POSIX_SOURCE


78 
	#ETXTBSY
 26

	)

80 
	#EFBIG
 27

	)

81 
	#ENOSPC
 28

	)

82 
	#ESPIPE
 29

	)

83 
	#EROFS
 30

	)

84 
	#EMLINK
 31

	)

85 
	#EPIPE
 32

	)

88 
	#EDOM
 33

	)

89 
	#ERANGE
 34

	)

92 
	#EAGAIN
 35

	)

93 #iâdeà
_POSIX_SOURCE


94 
	#EWOULDBLOCK
 
EAGAIN


	)

95 
	#EINPROGRESS
 36

	)

96 
	#EALREADY
 37

	)

99 
	#ENOTSOCK
 38

	)

100 
	#EDESTADDRREQ
 39

	)

101 
	#EMSGSIZE
 40

	)

102 
	#EPROTOTYPE
 41

	)

103 
	#ENOPROTOOPT
 42

	)

104 
	#EPROTONOSUPPORT
 43

	)

105 
	#ESOCKTNOSUPPORT
 44

	)

106 
	#EOPNOTSUPP
 45

	)

107 
	#ENOTSUP
 
EOPNOTSUPP


	)

108 
	#EPFNOSUPPORT
 46

	)

109 
	#EAFNOSUPPORT
 47

	)

110 
	#EADDRINUSE
 48

	)

111 
	#EADDRNOTAVAIL
 49

	)

114 
	#ENETDOWN
 50

	)

115 
	#ENETUNREACH
 51

	)

116 
	#ENETRESET
 52

	)

117 
	#ECONNABORTED
 53

	)

118 
	#ECONNRESET
 54

	)

119 
	#ENOBUFS
 55

	)

120 
	#EISCONN
 56

	)

121 
	#ENOTCONN
 57

	)

122 
	#ESHUTDOWN
 58

	)

123 
	#ETOOMANYREFS
 59

	)

124 
	#ETIMEDOUT
 60

	)

125 
	#ECONNREFUSED
 61

	)

127 
	#ELOOP
 62

	)

129 
	#ENAMETOOLONG
 63

	)

132 #iâdeà
_POSIX_SOURCE


133 
	#EHOSTDOWN
 64

	)

134 
	#EHOSTUNREACH
 65

	)

136 
	#ENOTEMPTY
 66

	)

139 #iâdeà
_POSIX_SOURCE


140 
	#EPROCLIM
 67

	)

141 
	#EUSERS
 68

	)

142 
	#EDQUOT
 69

	)

145 
	#ESTALE
 70

	)

146 
	#EREMOTE
 71

	)

147 
	#EBADRPC
 72

	)

148 
	#ERPCMISMATCH
 73

	)

149 
	#EPROGUNAVAIL
 74

	)

150 
	#EPROGMISMATCH
 75

	)

151 
	#EPROCUNAVAIL
 76

	)

154 
	#ENOLCK
 77

	)

155 
	#ENOSYS
 78

	)

157 #iâdeà
_POSIX_SOURCE


158 
	#EFTYPE
 79

	)

159 
	#EAUTH
 80

	)

160 
	#ENEEDAUTH
 81

	)

161 
	#EIDRM
 82

	)

162 
	#ENOMSG
 83

	)

163 
	#EOVERFLOW
 84

	)

164 
	#ECANCELED
 85

	)

165 
	#EILSEQ
 86

	)

166 
	#ENOATTR
 87

	)

168 
	#EDOOFUS
 88

	)

171 
	#EBADMSG
 89

	)

172 
	#EMULTIHOP
 90

	)

173 
	#ENOLINK
 91

	)

174 
	#EPROTO
 92

	)

176 #iâdeà
_POSIX_SOURCE


177 
	#ENOTCAPABLE
 93

	)

180 #iâdeà
_POSIX_SOURCE


181 
	#ELAST
 93

	)

184 #ifdeà
_KERNEL


186 
	#ERESTART
 (-1è

	)

187 
	#EJUSTRETURN
 (-2è

	)

188 
	#ENOIOCTL
 (-3è

	)

189 
	#EDIRIOCTL
 (-4è

	)

	@/usr/include/sys/eventhandler.h

29 #iâdeà
SYS_EVENTHANDLER_H


30 
	#SYS_EVENTHANDLER_H


	)

32 
	~<sys/lock.h
>

33 
	~<sys/kŒ.h
>

34 
	~<sys/mu‹x.h
>

35 
	~<sys/queue.h
>

37 
	sev’thªdËr_’Œy
 {

38 
TAILQ_ENTRY
(
ev’thªdËr_’Œy
è
	m“_lšk
;

39 
	m“_´iÜ™y
;

40 
	#EHE_DEAD_PRIORITY
 (-1)

	)

41 *
	m“_¬g
;

44 #ifdeà
VIMAGE


45 
	sev’thªdËr_’Œy_vimage
 {

46 (* 
	mfunc
)();

47 *
	m“_¬g
;

48 *
	m¥¬•
[2];

52 
	sev’thªdËr_li¡
 {

53 *
	m–_Çme
;

54 
	m–_æags
;

55 
	#EHL_INITTED
 (1<<0)

	)

56 
u_št
 
	m–_runcouÁ
;

57 
mtx
 
	m–_lock
;

58 
TAILQ_ENTRY
(
ev’thªdËr_li¡
è
	m–_lšk
;

59 
TAILQ_HEAD
(,
ev’thªdËr_’Œy
è
	m–_’Œ›s
;

62 
ev’thªdËr_’Œy
 *
	tev’thªdËr_g
;

64 
	#EHL_LOCK
(
p
è
	`mtx_lock
(&Õ)->
–_lock
)

	)

65 
	#EHL_UNLOCK
(
p
è
	`mtx_uÆock
(&Õ)->
–_lock
)

	)

66 
	#EHL_LOCK_ASSERT
(
p
, 
x
è
	`mtx_as£¹
(&Õ)->
–_lock
, x)

	)

71 
	#_EVENTHANDLER_INVOKE
(
Çme
, 
li¡
, ...) do { \

72 
ev’thªdËr_’Œy
 *
_•
; \

73 
ev’thªdËr_’Œy_
 ## 
Çme
 *
_t
; \

75 
	`KASSERT
((
li¡
)->
–_æags
 & 
EHL_INITTED
, \

77 
	`EHL_LOCK_ASSERT
((
li¡
), 
MA_OWNED
); \

78 (
li¡
)->
–_runcouÁ
++; \

79 
	`KASSERT
((
li¡
)->
–_runcouÁ
 > 0, \

81 
	`CTR0
(
KTR_EVH
, "ev’thªdËr_švoke(\"" 
	`__STRING
(
Çme
) "\")"); \

82 
	`TAILQ_FOREACH
(
_•
, &((
li¡
)->
–_’Œ›s
), 
“_lšk
) { \

83 ià(
_•
->
“_´iÜ™y
 !ğ
EHE_DEAD_PRIORITY
) { \

84 
	`EHL_UNLOCK
((
li¡
)); \

85 
_t
 = (
ev’thªdËr_’Œy_
 ## 
Çme
 *)
_•
; \

86 
	`CTR1
(
KTR_EVH
, "eventhandler_invoke:ƒxecuting %p", \

87 (*)
_t
->
eh_func
); \

88 
_t
->
	`eh_func
(
_•
->
“_¬g
 , ## 
__VA_ARGS__
); \

89 
	`EHL_LOCK
((
li¡
)); \

92 
	`KASSERT
((
li¡
)->
–_runcouÁ
 > 0, \

94 (
li¡
)->
–_runcouÁ
--; \

95 ià((
li¡
)->
–_runcouÁ
 == 0) \

96 
	`ev’thªdËr_´uÃ_li¡
(
li¡
); \

97 
	`EHL_UNLOCK
((
li¡
)); \

98 } 0)

	)

107 
	#EVENTHANDLER_DECLARE
(
Çme
, 
ty³
) \

108 
ev’thªdËr_’Œy_
 ## 
Çme
 \

110 
ev’thªdËr_’Œy
 
“
; \

111 
ty³
 
eh_func
; \

113 
__hack


	)

115 
	#EVENTHANDLER_DEFINE
(
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

116 
ev’thªdËr_g
 
Çme
 ## 
_g
; \

117 
Çme
 ## 
	`_evh_š™
(*
ùx
) \

119 
Çme
 ## 
_g
 = 
	`EVENTHANDLER_REGISTER
Òame, 
func
, 
ùx
, \

120 
´iÜ™y
); \

122 
	`SYSINIT
(
Çme
 ## 
_evh_š™
, 
SI_SUB_CONFIGURE
, 
SI_ORDER_ANY
, \

123 
Çme
 ## 
_evh_š™
, 
¬g
); \

124 
__hack


	)

126 
	#EVENTHANDLER_INVOKE
(
Çme
, ...) \

128 
ev’thªdËr_li¡
 *
_–
; \

130 ià((
_–
 = 
	`ev’thªdËr_fšd_li¡
(#Çme)è!ğ
NULL
) \

131 
	`_EVENTHANDLER_INVOKE
(
Çme
, 
_–
 , ## 
__VA_ARGS__
); \

132 } 0)

	)

134 
	#EVENTHANDLER_REGISTER
(
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

135 
	`ev’thªdËr_»gi¡”
(
NULL
, #Çme, 
func
, 
¬g
, 
´iÜ™y
)

	)

137 
	#EVENTHANDLER_DEREGISTER
(
Çme
, 
g
) \

139 
ev’thªdËr_li¡
 *
_–
; \

141 ià((
_–
 = 
	`ev’thªdËr_fšd_li¡
(#Çme)è!ğ
NULL
) \

142 
	`ev’thªdËr_d”egi¡”
(
_–
, 
g
); \

143 } 0)

	)

146 
ev’thªdËr_g
 
ev’thªdËr_»gi¡”
(
ev’thªdËr_li¡
 *
li¡
,

147 cÚ¡ *
Çme
, *
func
, *
¬g
, 
´iÜ™y
);

148 
ev’thªdËr_d”egi¡”
(
ev’thªdËr_li¡
 *
li¡
,

149 
ev’thªdËr_g
 
g
);

150 
ev’thªdËr_li¡
 *
ev’thªdËr_fšd_li¡
(cÚ¡ *
Çme
);

151 
ev’thªdËr_´uÃ_li¡
(
ev’thªdËr_li¡
 *
li¡
);

153 #ifdeà
VIMAGE


154 (*
	tvimage_™”©Ü_func_t
)(*, ...);

156 
ev’thªdËr_g
 
	`vimage_ev’thªdËr_»gi¡”
(
ev’thªdËr_li¡
 *
li¡
,

157 cÚ¡ *
Çme
, *
func
, *
¬g
, 
´iÜ™y
,

158 
vimage_™”©Ü_func_t
);

166 
	#EVENTHANDLER_PRI_FIRST
 0

	)

167 
	#EVENTHANDLER_PRI_ANY
 10000

	)

168 
	#EVENTHANDLER_PRI_LAST
 20000

	)

171 (*
	tshutdown_â
)(*, );

173 
	#SHUTDOWN_PRI_FIRST
 
EVENTHANDLER_PRI_FIRST


	)

174 
	#SHUTDOWN_PRI_DEFAULT
 
EVENTHANDLER_PRI_ANY


	)

175 
	#SHUTDOWN_PRI_LAST
 
EVENTHANDLER_PRI_LAST


	)

177 
	`EVENTHANDLER_DECLARE
(
shutdown_´e_sync
, 
shutdown_â
);

178 
	`EVENTHANDLER_DECLARE
(
shutdown_po¡_sync
, 
shutdown_â
);

179 
	`EVENTHANDLER_DECLARE
(
shutdown_fš®
, 
shutdown_â
);

182 (*
	tpow”_chªge_â
)(*);

183 
	`EVENTHANDLER_DECLARE
(
pow”_»sume
, 
pow”_chªge_â
);

184 
	`EVENTHANDLER_DECLARE
(
pow”_su¥’d
, 
pow”_chªge_â
);

187 (*
	tvm_lowmem_hªdËr_t
)(*, );

188 
	#LOWMEM_PRI_DEFAULT
 
EVENTHANDLER_PRI_FIRST


	)

189 
	`EVENTHANDLER_DECLARE
(
vm_lowmem
, 
vm_lowmem_hªdËr_t
);

192 (*
	tmouÁroÙ_hªdËr_t
)(*);

193 
	`EVENTHANDLER_DECLARE
(
mouÁroÙ
, 
mouÁroÙ_hªdËr_t
);

196 
iâ‘
;

197 (*
	tvÏn_cÚfig_â
)(*, 
	tiâ‘
 *, 
	tušt16_t
);

198 (*
	tvÏn_uncÚfig_â
)(*, 
	tiâ‘
 *, 
	tušt16_t
);

199 
	`EVENTHANDLER_DECLARE
(
vÏn_cÚfig
, 
vÏn_cÚfig_â
);

200 
	`EVENTHANDLER_DECLARE
(
vÏn_uncÚfig
, 
vÏn_uncÚfig_â
);

203 
iâ‘
;

204 (*
	tbpf_Œack_â
)(*, 
	tiâ‘
 *, ,

206 
	`EVENTHANDLER_DECLARE
(
bpf_Œack
, 
bpf_Œack_â
);

213 
´oc
;

214 
image_·¿ms
;

216 (*
	tex™li¡_â
)(*, 
	t´oc
 *);

217 (*
	tfÜkli¡_â
)(*, 
	t´oc
 *, proc *, );

218 (*
	texeşi¡_â
)(*, 
	t´oc
 *, 
	timage_·¿ms
 *);

219 (*
	t´oc_ùÜ_â
)(*, 
	t´oc
 *);

220 (*
	t´oc_dtÜ_â
)(*, 
	t´oc
 *);

221 (*
	t´oc_š™_â
)(*, 
	t´oc
 *);

222 (*
	t´oc_fši_â
)(*, 
	t´oc
 *);

223 
	`EVENTHANDLER_DECLARE
(
´oûss_ùÜ
, 
´oc_ùÜ_â
);

224 
	`EVENTHANDLER_DECLARE
(
´oûss_dtÜ
, 
´oc_dtÜ_â
);

225 
	`EVENTHANDLER_DECLARE
(
´oûss_š™
, 
´oc_š™_â
);

226 
	`EVENTHANDLER_DECLARE
(
´oûss_fši
, 
´oc_fši_â
);

227 
	`EVENTHANDLER_DECLARE
(
´oûss_ex™
, 
ex™li¡_â
);

228 
	`EVENTHANDLER_DECLARE
(
´oûss_fÜk
, 
fÜkli¡_â
);

229 
	`EVENTHANDLER_DECLARE
(
´oûss_exec
, 
exeşi¡_â
);

231 
th»ad
;

232 (*
	tth»ad_ùÜ_â
)(*, 
	tth»ad
 *);

233 (*
	tth»ad_dtÜ_â
)(*, 
	tth»ad
 *);

234 (*
	tth»ad_fši_â
)(*, 
	tth»ad
 *);

235 (*
	tth»ad_š™_â
)(*, 
	tth»ad
 *);

236 
	`EVENTHANDLER_DECLARE
(
th»ad_ùÜ
, 
th»ad_ùÜ_â
);

237 
	`EVENTHANDLER_DECLARE
(
th»ad_dtÜ
, 
th»ad_dtÜ_â
);

238 
	`EVENTHANDLER_DECLARE
(
th»ad_š™
, 
th»ad_š™_â
);

239 
	`EVENTHANDLER_DECLARE
(
th»ad_fši
, 
th»ad_fši_â
);

241 (*
	tuma_zÚe_châ
)(*);

242 
	`EVENTHANDLER_DECLARE
(
nmbşu¡”s_chªge
, 
uma_zÚe_châ
);

243 
	`EVENTHANDLER_DECLARE
(
maxsock‘s_chªge
, 
uma_zÚe_châ
);

	@/usr/include/sys/filedesc.h

33 #iâdeà
_SYS_FILEDESC_H_


34 
	#_SYS_FILEDESC_H_


	)

36 
	~<sys/queue.h
>

37 
	~<sys/ev’t.h
>

38 
	~<sys/lock.h
>

39 
	~<sys/´iÜ™y.h
>

40 
	~<sys/sx.h
>

42 
	~<machše/_lim™s.h
>

48 
	#NDSLOTTYPE
 
u_lÚg


	)

50 
	sfedesc
 {

51 
fe
 **
	mfd_ofes
;

52 *
	mfd_ofeæags
;

53 
vnode
 *
	mfd_cdœ
;

54 
vnode
 *
	mfd_rdœ
;

55 
vnode
 *
	mfd_jdœ
;

56 
	mfd_nfes
;

57 
NDSLOTTYPE
 *
	mfd_m­
;

58 
	mfd_Ï¡fe
;

59 
	mfd_ä“fe
;

60 
u_shÜt
 
	mfd_cmask
;

61 
u_shÜt
 
	mfd_»fút
;

62 
u_shÜt
 
	mfd_hŞdút
;

63 
sx
 
	mfd_sx
;

64 
kqli¡
 
	mfd_kqli¡
;

65 
	mfd_hŞdËad”scouÁ
;

66 
	mfd_hŞdËad”swakeup
;

78 
	sfedesc_to_Ëad”
 {

79 
	mfdl_»fcouÁ
;

80 
	mfdl_hŞdcouÁ
;

81 
	mfdl_wakeup
;

82 
´oc
 *
	mfdl_Ëad”
;

84 
fedesc_to_Ëad”
 *
	mfdl_´ev
;

85 
fedesc_to_Ëad”
 *
	mfdl_Ãxt
;

91 
	#UF_EXCLOSE
 0x01

	)

93 #ifdeà
_KERNEL


96 
	#FILEDESC_LOCK_INIT
(
fdp
è
	`sx_š™
(&(fdp)->
fd_sx
, "fedesø¡ruùu»")

	)

97 
	#FILEDESC_LOCK_DESTROY
(
fdp
è
	`sx_de¡roy
(&(fdp)->
fd_sx
)

	)

98 
	#FILEDESC_LOCK
(
fdp
è(&(fdp)->
fd_sx
)

	)

99 
	#FILEDESC_XLOCK
(
fdp
è
	`sx_xlock
(&(fdp)->
fd_sx
)

	)

100 
	#FILEDESC_XUNLOCK
(
fdp
è
	`sx_xuÆock
(&(fdp)->
fd_sx
)

	)

101 
	#FILEDESC_SLOCK
(
fdp
è
	`sx_¦ock
(&(fdp)->
fd_sx
)

	)

102 
	#FILEDESC_SUNLOCK
(
fdp
è
	`sx_suÆock
(&(fdp)->
fd_sx
)

	)

104 
	#FILEDESC_LOCK_ASSERT
(
fdp
è
	`sx_as£¹
(&(fdp)->
fd_sx
, 
SX_LOCKED
 | \

105 
SX_NOTRECURSED
)

	)

106 
	#FILEDESC_XLOCK_ASSERT
(
fdp
è
	`sx_as£¹
(&(fdp)->
fd_sx
, 
SX_XLOCKED
 | \

107 
SX_NOTRECURSED
)

	)

109 
	gth»ad
;

111 
şo£f
(
fe
 *
å
, 
th»ad
 *
td
);

112 
dupfdİ’
(
th»ad
 *
td
, 
fedesc
 *
fdp
, 
šdx
, 
dfd
,

113 
mode
, 
”rÜ
);

114 
çÎoc
(
th»ad
 *
td
, 
fe
 **
»suÉå
, *
»suÉfd
);

115 
çÎocf
(
th»ad
 *
td
, 
fe
 **
»suÉå
, *
»suÉfd
,

116 
æags
);

117 
fd®loc
(
th»ad
 *
td
, 
mšfd
, *
»suÉ
);

118 
fdava
(
th»ad
 *
td
, 
n
);

119 
fdcheck¡d
(
th»ad
 *
td
);

120 
fdşo£
(
fedesc
 *
fdp
, 
fe
 *
å
, 
idx
, 
th»ad
 *
td
);

121 
fdşo£exec
(
th»ad
 *
td
);

122 
fedesc
 *
fdcİy
(fedesø*
fdp
);

123 
fdunsh¬e
(
´oc
 *
p
, 
th»ad
 *
td
);

124 
fdä“
(
th»ad
 *
td
);

125 
fedesc
 *
fdš™
(fedesø*
fdp
);

126 
fedesc
 *
fdsh¬e
(fedesø*
fdp
);

127 
fedesc_to_Ëad”
 *

128 
fedesc_to_Ëad”_®loc
(
fedesc_to_Ëad”
 *
Şd
,

129 
fedesc
 *
fdp
, 
´oc
 *
Ëad”
);

130 
g‘vnode
(
fedesc
 *
fdp
, 
fd
, 
fe
 **
åp
);

131 
mouÁcheckdœs
(
vnode
 *
Şddp
, vnod*
Ãwdp
);

132 
£tugid§ãty
(
th»ad
 *
td
);

135 
fe
 *
fg‘_uÆocked
(
fedesc
 *
fdp
, 
fd
);

138 
__šlše
 
fe
 *

139 
	$fg‘_locked
(
fedesc
 *
fdp
, 
fd
)

142  (
fd
 < 0 || fd >ğ
fdp
->
fd_nfes
 ? 
NULL
 : fdp->
fd_ofes
[fd]);

143 
	}
}

	@/usr/include/sys/ioccom.h

33 #iâdef 
_SYS_IOCCOM_H_


34 
	#_SYS_IOCCOM_H_


	)

41 
	#IOCPARM_SHIFT
 13

	)

42 
	#IOCPARM_MASK
 ((1 << 
IOCPARM_SHIFT
è- 1è

	)

43 
	#IOCPARM_LEN
(
x
è(((xè>> 16è& 
IOCPARM_MASK
)

	)

44 
	#IOCBASECMD
(
x
è((xè& ~(
IOCPARM_MASK
 << 16))

	)

45 
	#IOCGROUP
(
x
è(((xè>> 8è& 0xff)

	)

47 
	#IOCPARM_MAX
 (1 << 
IOCPARM_SHIFT
è

	)

48 
	#IOC_VOID
 0x20000000

	)

49 
	#IOC_OUT
 0x40000000

	)

50 
	#IOC_IN
 0x80000000

	)

51 
	#IOC_INOUT
 (
IOC_IN
|
IOC_OUT
)

	)

52 
	#IOC_DIRMASK
 (
IOC_VOID
|
IOC_OUT
|
IOC_IN
)

	)

54 
	#_IOC
(
šout
,
group
,
num
,
Ën
) (() \

55 ((
šout
è| (((
Ën
è& 
IOCPARM_MASK
è<< 16è| ((
group
è<< 8è| (
num
)))

	)

56 
	#_IO
(
g
,
n
è
	`_IOC
(
IOC_VOID
, (g), (n), 0)

	)

57 
	#_IOWINT
(
g
,
n
è
	`_IOC
(
IOC_VOID
, (g), (n), ())

	)

58 
	#_IOR
(
g
,
n
,
t
è
	`_IOC
(
IOC_OUT
, (g), (n), Ñ))

	)

59 
	#_IOW
(
g
,
n
,
t
è
	`_IOC
(
IOC_IN
, (g), (n), Ñ))

	)

61 
	#_IOWR
(
g
,
n
,
t
è
	`_IOC
(
IOC_INOUT
, (g), (n), Ñ))

	)

63 #ifdeà
_KERNEL


65 #ià
defšed
(
COMPAT_FREEBSD6
è|| defšed(
COMPAT_FREEBSD5
) || \

66 
defšed
(
COMPAT_FREEBSD4
è|| 
	$defšed
(
COMPAT_43
)

67 
	#IOCPARM_IVAL
(
x
è(()(
šŒ_t
)(*)*(
ÿddr_t
 *)(*)(x))

	)

72 
	~<sys/cdefs.h
>

74 
__BEGIN_DECLS


75 
	`ioùl
(, , ...);

76 
__END_DECLS


	@/usr/include/sys/kenv.h

29 #iâdeà
_SYS_KENV_H_


30 
	#_SYS_KENV_H_


	)

35 
	#KENV_GET
 0

	)

36 
	#KENV_SET
 1

	)

37 
	#KENV_UNSET
 2

	)

38 
	#KENV_DUMP
 3

	)

40 
	#KENV_MNAMELEN
 128

	)

41 
	#KENV_MVALLEN
 128

	)

	@/usr/include/sys/limits.h

32 #iâdeà
_SYS_LIMITS_H_


33 
	#_SYS_LIMITS_H_


	)

35 
	~<sys/cdefs.h
>

36 
	~<machše/_lim™s.h
>

38 
	#CHAR_BIT
 
__CHAR_BIT


	)

40 
	#SCHAR_MAX
 
__SCHAR_MAX


	)

41 
	#SCHAR_MIN
 
__SCHAR_MIN


	)

43 
	#UCHAR_MAX
 
__UCHAR_MAX


	)

45 #ifdeà
__CHAR_UNSIGNED__


46 
	#CHAR_MAX
 
UCHAR_MAX


	)

47 
	#CHAR_MIN
 0

	)

49 
	#CHAR_MAX
 
SCHAR_MAX


	)

50 
	#CHAR_MIN
 
SCHAR_MIN


	)

53 
	#USHRT_MAX
 
__USHRT_MAX


	)

54 
	#SHRT_MAX
 
__SHRT_MAX


	)

55 
	#SHRT_MIN
 
__SHRT_MIN


	)

57 
	#UINT_MAX
 
__UINT_MAX


	)

58 
	#INT_MAX
 
__INT_MAX


	)

59 
	#INT_MIN
 
__INT_MIN


	)

61 
	#ULONG_MAX
 
__ULONG_MAX


	)

62 
	#LONG_MAX
 
__LONG_MAX


	)

63 
	#LONG_MIN
 
__LONG_MIN


	)

65 #ifdeà
__LONG_LONG_SUPPORTED


66 
	#ULLONG_MAX
 
__ULLONG_MAX


	)

67 
	#LLONG_MAX
 
__LLONG_MAX


	)

68 
	#LLONG_MIN
 
__LLONG_MIN


	)

71 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


72 
	#SSIZE_MAX
 
__SSIZE_MAX


	)

75 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


76 
	#SIZE_T_MAX
 
__SIZE_T_MAX


	)

78 
	#OFF_MAX
 
__OFF_MAX


	)

79 
	#OFF_MIN
 
__OFF_MIN


	)

82 #ià
__BSD_VISIBLE


83 
	#GID_MAX
 
UINT_MAX


	)

84 
	#UID_MAX
 
UINT_MAX


	)

86 
	#UQUAD_MAX
 (
__UQUAD_MAX
è

	)

87 
	#QUAD_MAX
 (
__QUAD_MAX
è

	)

88 
	#QUAD_MIN
 (
__QUAD_MIN
è

	)

91 #ià
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

92 
	#LONG_BIT
 
__LONG_BIT


	)

93 
	#WORD_BIT
 
__WORD_BIT


	)

96 #ià
__POSIX_VISIBLE


97 
	#MQ_PRIO_MAX
 64

	)

	@/usr/include/sys/linker_set.h

30 #iâdeà
_SYS_LINKER_SET_H_


31 
	#_SYS_LINKER_SET_H_


	)

33 #iâdeà
_SYS_CDEFS_H_


34 #”rÜ 
this
 
fe
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


46 #ifdeà
__GNUCLIKE___SECTION


47 
	#__MAKE_SET
(
£t
, 
sym
) \

48 cÚ¡ * cÚ¡ 
__£t_
##
£t
##
_sym_
##
sym
 \

49 
	`__£ùiÚ
("£t_" #£tè
__u£d
 = &
sym


	)

51 #iâdeà
lšt


52 #”rÜ 
this
 
fe
 
Ãeds
 
to
 
be
 
pÜ‹d
Ø
your
 
comp”


54 
	#__MAKE_SET
(
£t
, 
sym
ècÚ¡ * cÚ¡ (
__£t_
##£t##
_sym_
##sym)

	)

60 
	#TEXT_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

61 
	#DATA_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

62 
	#BSS_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

63 
	#ABS_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

64 
	#SET_ENTRY
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

69 
	#SET_DECLARE
(
£t
, 
±y³
) \

70 
±y³
 *
	`__CONCAT
(
__¡¬t_£t_
,
£t
); \

71 
±y³
 *
	`__CONCAT
(
__¡İ_£t_
,
£t
)

	)

73 
	#SET_BEGIN
(
£t
) \

74 (&
	`__CONCAT
(
__¡¬t_£t_
,
£t
))

	)

75 
	#SET_LIMIT
(
£t
) \

76 (&
	`__CONCAT
(
__¡İ_£t_
,
£t
))

	)

85 
	#SET_FOREACH
(
pv¬
, 
£t
) \

86 
pv¬
 = 
	`SET_BEGIN
(
£t
);…v¬ < 
	`SET_LIMIT
(£t);…v¬++)

	)

88 
	#SET_ITEM
(
£t
, 
i
) \

89 ((
	`SET_BEGIN
(
£t
))[
i
])

	)

94 
	#SET_COUNT
(
£t
) \

95 (
	`SET_LIMIT
(
£t
è- 
	`SET_BEGIN
(£t))

	)

	@/usr/include/sys/lock.h

32 #iâdeà
_SYS_LOCK_H_


33 
	#_SYS_LOCK_H_


	)

35 
	~<sys/queue.h
>

36 
	~<sys/_lock.h
>

38 
	glock_li¡_’Œy
;

39 
	gth»ad
;

58 
	slock_şass
 {

59 cÚ¡ *
	mlc_Çme
;

60 
u_št
 
	mlc_æags
;

61 (*
	mlc_as£¹
)(
lock_objeù
 *
	mlock
, 
	mwh©
);

62 (*
	mlc_ddb_show
)(
lock_objeù
 *
	mlock
);

63 (*
	mlc_lock
)(
lock_objeù
 *
	mlock
, 
	mhow
);

64 (*
	mlc_owÃr
)(
lock_objeù
 *
	mlock
, 
th»ad
 **
	mowÃr
);

65 (*
	mlc_uÆock
)(
lock_objeù
 *
	mlock
);

68 
	#LC_SLEEPLOCK
 0x00000001

	)

69 
	#LC_SPINLOCK
 0x00000002

	)

70 
	#LC_SLEEPABLE
 0x00000004

	)

71 
	#LC_RECURSABLE
 0x00000008

	)

72 
	#LC_UPGRADABLE
 0x00000010

	)

74 
	#LO_CLASSFLAGS
 0x0000fffà

	)

75 
	#LO_INITIALIZED
 0x00010000

	)

76 
	#LO_WITNESS
 0x00020000

	)

77 
	#LO_QUIET
 0x00040000

	)

78 
	#LO_RECURSABLE
 0x00080000

	)

79 
	#LO_SLEEPABLE
 0x00100000

	)

80 
	#LO_UPGRADABLE
 0x00200000

	)

81 
	#LO_DUPOK
 0x00400000

	)

82 
	#LO_CLASSMASK
 0x0f000000

	)

83 
	#LO_NOPROFILE
 0x10000000

	)

90 
	#LO_CLASSSHIFT
 24

	)

91 
	#LO_CLASSINDEX
(
lock
è(((Öock)->
lo_æags
è& 
LO_CLASSMASK
è>> 
LO_CLASSSHIFT
)

	)

92 
	#LOCK_CLASS
(
lock
è(
lock_şas£s
[
	`LO_CLASSINDEX
(Öock))])

	)

93 
	#LOCK_CLASS_MAX
 (
LO_CLASSMASK
 >> 
LO_CLASSSHIFT
)

	)

99 
	#LOP_NEWORDER
 0x00000001

	)

100 
	#LOP_QUIET
 0x00000002

	)

101 
	#LOP_TRYLOCK
 0x00000004

	)

102 
	#LOP_EXCLUSIVE
 0x00000008

	)

103 
	#LOP_DUPOK
 0x00000010

	)

106 
	#LA_MASKASSERT
 0x000000fà

	)

107 
	#LA_UNLOCKED
 0x00000000

	)

108 
	#LA_LOCKED
 0x00000001

	)

109 
	#LA_SLOCKED
 0x00000002

	)

110 
	#LA_XLOCKED
 0x00000004

	)

111 
	#LA_RECURSED
 0x00000008

	)

112 
	#LA_NOTRECURSED
 0x00000010

	)

114 #ifdeà
_KERNEL


124 #ià
defšed
(
KLD_MODULE
è|| defšed(
WITNESS
è|| defšed(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
è|| defšed(
KTR
è|| defšed(
LOCK_PROFILING
)

125 
	#LOCK_DEBUG
 1

	)

127 
	#LOCK_DEBUG
 0

	)

134 #ià
LOCK_DEBUG
 > 0

135 
	#LOCK_FILE
 
__FILE__


	)

136 
	#LOCK_LINE
 
__LINE__


	)

138 
	#LOCK_FILE
 
NULL


	)

139 
	#LOCK_LINE
 0

	)

153 
	#LOCK_LOG_TEST
(
lo
, 
æags
) \

154 (((
æags
è& 
LOP_QUIET
è=ğ0 && ((
lo
)->
lo_æags
 & 
LO_QUIET
è=ğ0)

	)

156 
	#LOCK_LOG_LOCK
(
İÇme
, 
lo
, 
æags
, 
»cur£
, 
fe
, 
lše
) do { \

157 ià(
	`LOCK_LOG_TEST
((
lo
), (
æags
))) \

158 
	`CTR6
(
KTR_LOCK
, 
İÇme
 " (%s) %s %p„ = %d‡t %s:%d", \

159 
	`LOCK_CLASS
(
lo
)->
lc_Çme
, (lo)->
lo_Çme
, \

160 (
lo
), (
u_št
)(
»cur£
), (
fe
), (
lše
)); \

161 } 0)

	)

163 
	#LOCK_LOG_TRY
(
İÇme
, 
lo
, 
æags
, 
»suÉ
, 
fe
, 
lše
) do { \

164 ià(
	`LOCK_LOG_TEST
((
lo
), (
æags
))) \

165 
	`CTR6
(
KTR_LOCK
, "TRY_" 
İÇme
 " (%s) %s %p„esult=%d‡t %s:%d",\

166 
	`LOCK_CLASS
(
lo
)->
lc_Çme
, (lo)->
lo_Çme
, \

167 (
lo
), (
u_št
)(
»suÉ
), (
fe
), (
lše
)); \

168 } 0)

	)

170 
	#LOCK_LOG_INIT
(
lo
, 
æags
) do { \

171 ià(
	`LOCK_LOG_TEST
((
lo
), (
æags
))) \

172 
	`CTR4
(
KTR_LOCK
, "%s: %°(%sè%s", 
__func__
, (
lo
), \

173 
	`LOCK_CLASS
(
lo
)->
lc_Çme
, (lo)->
lo_Çme
); \

174 } 0)

	)

176 
	#LOCK_LOG_DESTROY
(
lo
, 
æags
è
	`LOCK_LOG_INIT
Öo, fÏgs)

	)

178 
	#lock_š™®ized
(
lo
è(Öo)->
lo_æags
 & 
LO_INITIALIZED
)

	)

184 
	#MPASS
(
ex
è
	`MPASS4
Óx, #ex, 
__FILE__
, 
__LINE__
)

	)

185 
	#MPASS2
(
ex
, 
wh©
è
	`MPASS4
Óx, wh©, 
__FILE__
, 
__LINE__
)

	)

186 
	#MPASS3
(
ex
, 
fe
, 
lše
è
	`MPASS4
Óx, #ex, fe,†še)

	)

187 
	#MPASS4
(
ex
, 
wh©
, 
fe
, 
lše
) \

188 
	`KASSERT
((
ex
), ("As£¹iÚ % çed‡ˆ%s:%d", 
wh©
, 
fe
, 
lše
))

	)

190 
lock_şass
 
lock_şass_mtx_¦“p
;

191 
lock_şass
 
lock_şass_mtx_¥š
;

192 
lock_şass
 
lock_şass_sx
;

193 
lock_şass
 
lock_şass_rw
;

194 
lock_şass
 
lock_şass_rm
;

195 
lock_şass
 
lock_şass_lockmgr
;

197 
lock_şass
 *
lock_şas£s
[];

199 
lock_š™
(
lock_objeù
 *, 
lock_şass
 *,

201 
lock_de¡roy
(
lock_objeù
 *);

202 
¥šlock_’‹r
();

203 
¥šlock_ex™
();

204 
w™Ãss_š™
(
lock_objeù
 *, const *);

205 
w™Ãss_de¡roy
(
lock_objeù
 *);

206 
w™Ãss_defšeÜd”
(
lock_objeù
 *, lock_object *);

207 
w™Ãss_checkÜd”
(
lock_objeù
 *, , const *, ,

208 
lock_objeù
 *);

209 
w™Ãss_lock
(
lock_objeù
 *, , const *, );

210 
w™Ãss_upg¿de
(
lock_objeù
 *, , const *, );

211 
w™Ãss_downg¿de
(
lock_objeù
 *, , const *, );

212 
w™Ãss_uÆock
(
lock_objeù
 *, , const *, );

213 
w™Ãss_§ve
(
lock_objeù
 *, const **, *);

214 
w™Ãss_»¡Üe
(
lock_objeù
 *, const *, );

215 
w™Ãss_li¡_locks
(
lock_li¡_’Œy
 **,

217 
	`w™Ãss_w¬n
(, 
lock_objeù
 *, const *, ...);

218 
	`w™Ãss_as£¹
(
lock_objeù
 *, , const *, );

219 
	`w™Ãss_di¥Ïy_¥šlock
(
lock_objeù
 *, 
th»ad
 *,

221 
	`w™Ãss_lše
(
lock_objeù
 *);

222 
	`w™Ãss_nÜ–—£
(
lock_objeù
 *);

223 
	`w™Ãss_»Ëa£ok
(
lock_objeù
 *);

224 cÚ¡ *
	`w™Ãss_fe
(
lock_objeù
 *);

225 
	`w™Ãss_th»ad_ex™
(
th»ad
 *);

227 #ifdef 
WITNESS


230 
	#WARN_GIANTOK
 0x01

	)

231 
	#WARN_PANIC
 0x02

	)

232 
	#WARN_SLEEPOK
 0x04

	)

234 
	#WITNESS_INIT
(
lock
, 
ty³
) \

235 
	`w™Ãss_š™
((
lock
), (
ty³
))

	)

237 
	#WITNESS_DESTROY
(
lock
) \

238 
	`w™Ãss_de¡roy
(
lock
)

	)

240 
	#WITNESS_CHECKORDER
(
lock
, 
æags
, 
fe
, 
lše
, 
š‹¾ock
) \

241 
	`w™Ãss_checkÜd”
((
lock
), (
æags
), (
fe
), (
lše
), (
š‹¾ock
))

	)

243 
	#WITNESS_DEFINEORDER
(
lock1
, 
lock2
) \

244 
	`w™Ãss_defšeÜd”
((
lock_objeù
 *)(
lock1
), \

245 (
lock_objeù
 *)(
lock2
))

	)

247 
	#WITNESS_LOCK
(
lock
, 
æags
, 
fe
, 
lše
) \

248 
	`w™Ãss_lock
((
lock
), (
æags
), (
fe
), (
lše
))

	)

250 
	#WITNESS_UPGRADE
(
lock
, 
æags
, 
fe
, 
lše
) \

251 
	`w™Ãss_upg¿de
((
lock
), (
æags
), (
fe
), (
lše
))

	)

253 
	#WITNESS_DOWNGRADE
(
lock
, 
æags
, 
fe
, 
lše
) \

254 
	`w™Ãss_downg¿de
((
lock
), (
æags
), (
fe
), (
lše
))

	)

256 
	#WITNESS_UNLOCK
(
lock
, 
æags
, 
fe
, 
lše
) \

257 
	`w™Ãss_uÆock
((
lock
), (
æags
), (
fe
), (
lše
))

	)

259 
	#WITNESS_CHECK
(
æags
, 
lock
, 
fmt
, ...) \

260 
	`w™Ãss_w¬n
((
æags
), (
lock
), (
fmt
), ## 
__VA_ARGS__
)

	)

262 
	#WITNESS_WARN
(
æags
, 
lock
, 
fmt
, ...) \

263 
	`w™Ãss_w¬n
((
æags
), (
lock
), (
fmt
), ## 
__VA_ARGS__
)

	)

265 
	#WITNESS_SAVE_DECL
(
n
) \

266 cÚ¡ * 
	`__CONCAT
(
n
, 
__wf
); \

267 
	`__CONCAT
(
n
, 
__wl
)

	)

269 
	#WITNESS_SAVE
(
lock
, 
n
) \

270 
	`w™Ãss_§ve
((
lock
), &
	`__CONCAT
(
n
, 
__wf
), &__CONCATÒ, 
__wl
))

	)

272 
	#WITNESS_RESTORE
(
lock
, 
n
) \

273 
	`w™Ãss_»¡Üe
((
lock
), 
	`__CONCAT
(
n
, 
__wf
), __CONCATÒ, 
__wl
))

	)

275 
	#WITNESS_NORELEASE
(
lock
) \

276 
	`w™Ãss_nÜ–—£
(&(
lock
)->
lock_objeù
)

	)

278 
	#WITNESS_RELEASEOK
(
lock
) \

279 
	`w™Ãss_»Ëa£ok
(&(
lock
)->
lock_objeù
)

	)

281 
	#WITNESS_FILE
(
lock
) \

282 
	`w™Ãss_fe
(
lock
)

	)

284 
	#WITNESS_LINE
(
lock
) \

285 
	`w™Ãss_lše
(
lock
)

	)

288 
	#WITNESS_INIT
(
lock
, 
ty³
è()0

	)

289 
	#WITNESS_DESTROY
(
lock
è()0

	)

290 
	#WITNESS_DEFINEORDER
(
lock1
, 
lock2
è0

	)

291 
	#WITNESS_CHECKORDER
(
lock
, 
æags
, 
fe
, 
lše
, 
š‹¾ock
è()0

	)

292 
	#WITNESS_LOCK
(
lock
, 
æags
, 
fe
, 
lše
è()0

	)

293 
	#WITNESS_UPGRADE
(
lock
, 
æags
, 
fe
, 
lše
è()0

	)

294 
	#WITNESS_DOWNGRADE
(
lock
, 
æags
, 
fe
, 
lše
è()0

	)

295 
	#WITNESS_UNLOCK
(
lock
, 
æags
, 
fe
, 
lše
è()0

	)

296 
	#WITNESS_CHECK
(
æags
, 
lock
, 
fmt
, ...è0

	)

297 
	#WITNESS_WARN
(
æags
, 
lock
, 
fmt
, ...è()0

	)

298 
	#WITNESS_SAVE_DECL
(
n
è()0

	)

299 
	#WITNESS_SAVE
(
lock
, 
n
è()0

	)

300 
	#WITNESS_RESTORE
(
lock
, 
n
è()0

	)

301 
	#WITNESS_NORELEASE
(
lock
è()0

	)

302 
	#WITNESS_RELEASEOK
(
lock
è()0

	)

303 
	#WITNESS_FILE
(
lock
è("?")

	)

304 
	#WITNESS_LINE
(
lock
è(0)

	)

311 
	#w™Ãss_check
(
l
) \

312 
	`WITNESS_CHECKORDER
(&(
l
)->
lock_objeù
, 
LOP_EXCLUSIVE
, 
LOCK_FILE
, \

313 
LOCK_LINE
, 
NULL
)

	)

315 
	#w™Ãss_check_sh¬ed
(
l
) \

316 
	`WITNESS_CHECKORDER
(&(
l
)->
lock_objeù
, 0, 
LOCK_FILE
, 
LOCK_LINE
, 
NULL
)

	)

	@/usr/include/sys/lock_profile.h

31 #iâdeà
_SYS_LOCK_PROFILE_H_


32 
	#_SYS_LOCK_PROFILE_H_


	)

34 
	glock_´ofe_objeù
;

35 
LIST_HEAD
(
Íoh—d
, 
lock_´ofe_objeù
);

37 #ifdeà
_KERNEL


38 #ifdeà
LOCK_PROFILING


39 
	~<machše/ıufunc.h
>

40 
	~<sys/lock.h
>

42 #iâdeà
USE_CPU_NANOSECONDS


43 
u_št64_t
 
Çno£cÚds
();

46 vŞ©
lock_´of_’abË
;

48 
lock_´ofe_obš_lock_sucûss
(
lock_objeù
 *
lo
, 
cÚ‹¡ed
,

49 
ušt64_t
 
wa™time
, cÚ¡ *
fe
, 
lše
);

50 
lock_´ofe_»Ëa£_lock
(
lock_objeù
 *
lo
);

51 
lock_´ofe_th»ad_ex™
(
th»ad
 *
td
);

54 
šlše
 

55 
	$lock_´ofe_obš_lock_çed
(
lock_objeù
 *
lo
, *
cÚ‹¡ed
,

56 
ušt64_t
 *
wa™time
)

58 ià(!
lock_´of_’abË
 || (
lo
->
lo_æags
 & 
LO_NOPROFILE
è|| *
cÚ‹¡ed
)

60 *
wa™time
 = 
	`Çno£cÚds
();

61 *
cÚ‹¡ed
 = 1;

62 
	}
}

66 
	#lock_´ofe_»Ëa£_lock
(
lo
è()0

	)

67 
	#lock_´ofe_obš_lock_çed
(
lo
, 
cÚ‹¡ed
, 
wa™time
è()0

	)

68 
	#lock_´ofe_obš_lock_sucûss
(
lo
, 
cÚ‹¡ed
, 
wa™time
, 
fe
, 
lše
è()0

	)

69 
	#lock_´ofe_th»ad_ex™
(
td
è()0

	)

	@/usr/include/sys/lockmgr.h

31 #iâdef 
_SYS_LOCKMGR_H_


32 
	#_SYS_LOCKMGR_H_


	)

34 
	~<sys/_lock.h
>

35 
	~<sys/_lockmgr.h
>

36 
	~<sys/_mu‹x.h
>

37 
	~<sys/_rwlock.h
>

39 
	#LK_SHARE
 0x01

	)

40 
	#LK_SHARED_WAITERS
 0x02

	)

41 
	#LK_EXCLUSIVE_WAITERS
 0x04

	)

42 
	#LK_EXCLUSIVE_SPINNERS
 0x08

	)

43 
	#LK_ALL_WAITERS
 \

44 (
LK_SHARED_WAITERS
 | 
LK_EXCLUSIVE_WAITERS
)

	)

45 
	#LK_FLAGMASK
 \

46 (
LK_SHARE
 | 
LK_ALL_WAITERS
 | 
LK_EXCLUSIVE_SPINNERS
)

	)

48 
	#LK_HOLDER
(
x
è((xè& ~
LK_FLAGMASK
)

	)

49 
	#LK_SHARERS_SHIFT
 4

	)

50 
	#LK_SHARERS
(
x
è(
	`LK_HOLDER
(xè>> 
LK_SHARERS_SHIFT
)

	)

51 
	#LK_SHARERS_LOCK
(
x
è((xè<< 
LK_SHARERS_SHIFT
 | 
LK_SHARE
)

	)

52 
	#LK_ONE_SHARER
 (1 << 
LK_SHARERS_SHIFT
)

	)

53 
	#LK_UNLOCKED
 
	`LK_SHARERS_LOCK
(0)

	)

54 
	#LK_KERNPROC
 ((
ušŒ_t
)(-1è& ~
LK_FLAGMASK
)

	)

56 #ifdeà
_KERNEL


58 #ià!
defšed
(
LOCK_FILE
è|| !defšed(
LOCK_LINE
)

62 
	gth»ad
;

63 
	#lk_»cur£
 
lock_objeù
.
lo_d©a


	)

69 
__lockmgr_¬gs
(
lock
 *
lk
, 
u_št
 
æags
, 
lock_objeù
 *
k
,

70 cÚ¡ *
wmesg
, 
´io
, 
timo
, cÚ¡ *
fe
, 
lše
);

71 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

72 
_lockmgr_as£¹
(
lock
 *
lk
, 
wh©
, cÚ¡ *
fe
, 
lše
);

74 
_lockmgr_disown
(
lock
 *
lk
, cÚ¡ *
fe
, 
lše
);

76 
lockde¡roy
(
lock
 *
lk
);

77 
lockš™
(
lock
 *
lk
, 
´io
, cÚ¡ *
wmesg
, 
timo
,

78 
æags
);

79 #ifdeà
DDB


80 
lockmgr_chaš
(
th»ad
 *
td
, th»ad **
owÃ½
);

82 
lockmgr_´štšfo
(
lock
 *
lk
);

83 
lock¡©us
(
lock
 *
lk
);

89 
__šlše
 

90 
	$_lockmgr_¬gs
(
lock
 *
lk
, 
u_št
 
æags
, 
mtx
 *
k
, cÚ¡ *
wmesg
,

91 
´io
, 
timo
, cÚ¡ *
fe
, 
lše
)

94  (
	`__lockmgr_¬gs
(
lk
, 
æags
, (
k
 !ğ
NULL
è? &k->
lock_objeù
 :

95 
NULL
, 
wmesg
, 
´io
, 
timo
, 
fe
, 
lše
));

96 
	}
}

98 
__šlše
 

99 
	$_lockmgr_¬gs_rw
(
lock
 *
lk
, 
u_št
 
æags
, 
rwlock
 *
k
,

100 cÚ¡ *
wmesg
, 
´io
, 
timo
, cÚ¡ *
fe
, 
lše
)

103  (
	`__lockmgr_¬gs
(
lk
, 
æags
, (
k
 !ğ
NULL
è? &k->
lock_objeù
 :

104 
NULL
, 
wmesg
, 
´io
, 
timo
, 
fe
, 
lše
));

105 
	}
}

110 
	#lockmgr
(
lk
, 
æags
, 
k
) \

111 
	`_lockmgr_¬gs
((
lk
), (
æags
), (
k
), 
LK_WMESG_DEFAULT
, \

112 
LK_PRIO_DEFAULT
, 
LK_TIMO_DEFAULT
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

113 
	#lockmgr_¬gs
(
lk
, 
æags
, 
k
, 
wmesg
, 
´io
, 
timo
) \

114 
	`_lockmgr_¬gs
((
lk
), (
æags
), (
k
), (
wmesg
), (
´io
), (
timo
), \

115 
LOCK_FILE
, 
LOCK_LINE
)

	)

116 
	#lockmgr_¬gs_rw
(
lk
, 
æags
, 
k
, 
wmesg
, 
´io
, 
timo
) \

117 
	`_lockmgr_¬gs_rw
((
lk
), (
æags
), (
k
), (
wmesg
), (
´io
), (
timo
), \

118 
LOCK_FILE
, 
LOCK_LINE
)

	)

119 
	#lockmgr_disown
(
lk
) \

120 
	`_lockmgr_disown
((
lk
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

121 
	#lockmgr_»cur£d
(
lk
) \

122 ((
lk
)->
lk_»cur£
 !ğ0)

	)

123 
	#lockmgr_rw
(
lk
, 
æags
, 
k
) \

124 
	`_lockmgr_¬gs_rw
((
lk
), (
æags
), (
k
), 
LK_WMESG_DEFAULT
, \

125 
LK_PRIO_DEFAULT
, 
LK_TIMO_DEFAULT
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

126 
	#lockmgr_wa™”s
(
lk
) \

127 ((
lk
)->
lk_lock
 & 
LK_ALL_WAITERS
)

	)

128 #ifdeà
INVARIANTS


129 
	#lockmgr_as£¹
(
lk
, 
wh©
) \

130 
	`_lockmgr_as£¹
((
lk
), (
wh©
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

132 
	#lockmgr_as£¹
(
lk
, 
wh©
)

	)

138 
	#LK_INIT_MASK
 0x0000FF

	)

139 
	#LK_CANRECURSE
 0x000001

	)

140 
	#LK_NODUP
 0x000002

	)

141 
	#LK_NOPROFILE
 0x000004

	)

142 
	#LK_NOSHARE
 0x000008

	)

143 
	#LK_NOWITNESS
 0x000010

	)

144 
	#LK_QUIET
 0x000020

	)

145 
	#LK_ADAPTIVE
 0x000040

	)

148 
	#LK_EXSLPFAIL
 0x000080

	)

153 
	#LK_EATTR_MASK
 0x00FF00

	)

154 
	#LK_INTERLOCK
 0x000100

	)

155 
	#LK_NOWAIT
 0x000200

	)

156 
	#LK_RETRY
 0x000400

	)

157 
	#LK_SLEEPFAIL
 0x000800

	)

158 
	#LK_TIMELOCK
 0x001000

	)

163 
	#LK_TYPE_MASK
 0xFF0000

	)

164 
	#LK_DOWNGRADE
 0x010000

	)

165 
	#LK_DRAIN
 0x020000

	)

166 
	#LK_EXCLOTHER
 0x040000

	)

167 
	#LK_EXCLUSIVE
 0x080000

	)

168 
	#LK_RELEASE
 0x100000

	)

169 
	#LK_SHARED
 0x200000

	)

170 
	#LK_UPGRADE
 0x400000

	)

172 
	#LK_TOTAL_MASK
 (
LK_INIT_MASK
 | 
LK_EATTR_MASK
 | 
LK_TYPE_MASK
)

	)

177 
	#LK_WMESG_DEFAULT
 (
NULL
)

	)

178 
	#LK_PRIO_DEFAULT
 (0)

	)

179 
	#LK_TIMO_DEFAULT
 (0)

	)

184 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

185 
	#KA_LOCKED
 
LA_LOCKED


	)

186 
	#KA_SLOCKED
 
LA_SLOCKED


	)

187 
	#KA_XLOCKED
 
LA_XLOCKED


	)

188 
	#KA_UNLOCKED
 
LA_UNLOCKED


	)

189 
	#KA_RECURSED
 
LA_RECURSED


	)

190 
	#KA_NOTRECURSED
 
LA_NOTRECURSED


	)

	@/usr/include/sys/module.h

29 #iâdeà
_SYS_MODULE_H_


30 
	#_SYS_MODULE_H_


	)

35 
	#MDT_DEPEND
 1

	)

36 
	#MDT_MODULE
 2

	)

37 
	#MDT_VERSION
 3

	)

39 
	#MDT_STRUCT_VERSION
 1

	)

40 
	#MDT_SETNAME
 "modm‘ad©a_£t"

	)

42 
	emodev’‰y³
 {

43 
	mMOD_LOAD
,

44 
	mMOD_UNLOAD
,

45 
	mMOD_SHUTDOWN
,

46 
	mMOD_QUIESCE


47 } 
	tmodev’‰y³_t
;

49 
moduË
 *
	tmoduË_t
;

50 (*
	tmodev’thªd_t
)(
	tmoduË_t
, , *);

55 
	smoduËd©a
 {

56 cÚ¡ *
Çme
;

57 
modev’thªd_t
 
evhªd
;

58 *
´iv
;

59 } 
	tmoduËd©a_t
;

65 
	umod¥ecific
 {

66 
štv®
;

67 
u_št
 
uštv®
;

68 
lÚgv®
;

69 
u_lÚg
 
ulÚgv®
;

70 } 
	tmod¥ecific_t
;

75 
	smod_d•’d
 {

76 
md_v”_mšimum
;

77 
md_v”_´eã¼ed
;

78 
md_v”_maximum
;

84 
	smod_v”siÚ
 {

85 
mv_v”siÚ
;

88 
	smod_m‘ad©a
 {

89 
md_v”siÚ
;

90 
md_ty³
;

91 *
md_d©a
;

92 cÚ¡ *
md_cv®
;

95 #ifdef 
_KERNEL


97 
	~<sys/lšk”_£t.h
>

99 
	#MODULE_METADATA
(
uniquif›r
, 
ty³
, 
d©a
, 
cv®
) \

100 
mod_m‘ad©a
 
_mod_m‘ad©a
##
uniquif›r
 = { \

101 
MDT_STRUCT_VERSION
, \

102 
ty³
, \

103 
d©a
, \

104 
cv®
 \

105 
	}
}; \

106 
	`DATA_SET
(
modm‘ad©a_£t
, 
_mod_m‘ad©a
##
uniquif›r
)

	)

108 
	#MODULE_DEPEND
(
moduË
, 
md•’d
, 
vmš
, 
v´ef
, 
vmax
) \

109 
mod_d•’d
 
_
##
moduË
##
_d•’d_Ú_
##
md•’d
 = { \

110 
vmš
, \

111 
v´ef
, \

112 
vmax
 \

114 
	`MODULE_METADATA
(
_md_
##
moduË
##
_Ú_
##
md•’d
, 
MDT_DEPEND
, \

115 &
_
##
moduË
##
_d•’d_Ú_
##
md•’d
, #md•’d)

	)

126 
	#MODULE_KERNEL_MAXVER
 (
	`roundup
(
__F»eBSD_v”siÚ
, 100000è- 1)

	)

128 
	#DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
maxv”
) \

129 
	`MODULE_DEPEND
(
Çme
, 
k”Ãl
, 
__F»eBSD_v”siÚ
, \

130 
__F»eBSD_v”siÚ
, 
maxv”
); \

131 
	`MODULE_METADATA
(
_md_
##
Çme
, 
MDT_MODULE
, &
d©a
, #name); \

132 
	`SYSINIT
(
Çme
##
moduË
, 
sub
, 
Üd”
, 
moduË_»gi¡”_š™
, &
d©a
); \

133 
__hack


	)

135 
	#DECLARE_MODULE
(
Çme
, 
d©a
, 
sub
, 
Üd”
) \

136 
	`DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
MODULE_KERNEL_MAXVER
)

	)

145 
	#DECLARE_MODULE_TIED
(
Çme
, 
d©a
, 
sub
, 
Üd”
) \

146 
	`DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
__F»eBSD_v”siÚ
)

	)

148 
	#MODULE_VERSION
(
moduË
, 
v”siÚ
) \

149 
mod_v”siÚ
 
_
##
moduË
##
_v”siÚ
 = { \

150 
v”siÚ
 \

152 
	`MODULE_METADATA
(
_
##
moduË
##
_v”siÚ
, 
MDT_VERSION
, \

153 &
_
##
moduË
##
_v”siÚ
, #moduË)

	)

155 
sx
 
moduËs_sx
;

157 
	#MOD_XLOCK
 
	`sx_xlock
(&
moduËs_sx
)

	)

158 
	#MOD_SLOCK
 
	`sx_¦ock
(&
moduËs_sx
)

	)

159 
	#MOD_XUNLOCK
 
	`sx_xuÆock
(&
moduËs_sx
)

	)

160 
	#MOD_SUNLOCK
 
	`sx_suÆock
(&
moduËs_sx
)

	)

161 
	#MOD_LOCK_ASSERT
 
	`sx_as£¹
(&
moduËs_sx
, 
SX_LOCKED
)

	)

162 
	#MOD_XLOCK_ASSERT
 
	`sx_as£¹
(&
moduËs_sx
, 
SX_XLOCKED
)

	)

164 
	glšk”_fe
;

166 
moduË_»gi¡”_š™
(const *);

167 
moduË_»gi¡”
(cÚ¡ 
moduËd©a
 *, 
lšk”_fe
 *);

168 
moduË_t
 
moduË_lookupbyÇme
(const *);

169 
moduË_t
 
moduË_lookupbyid
();

170 
moduË_qu›sû
(
moduË_t
);

171 
moduË_»ã»nû
(
moduË_t
);

172 
moduË_»Ëa£
(
moduË_t
);

173 
moduË_uÆßd
(
moduË_t
);

174 
moduË_g‘id
(
moduË_t
);

175 
moduË_t
 
moduË_g‘âext
(module_t);

176 cÚ¡ * 
moduË_g‘Çme
(
moduË_t
);

177 
moduË_£t¥ecific
(
moduË_t
, 
mod¥ecific_t
 *);

178 
lšk”_fe
 *
moduË_fe
(
moduË_t
);

180 #ifdef 
MOD_DEBUG


181 
mod_debug
;

182 
	#MOD_DEBUG_REFS
 1

	)

184 
	#MOD_DPF
(
ÿt
, 
¬gs
) do { \

185 ià(
mod_debug
 & 
MOD_DEBUG_
##
ÿt
) \

186 
	`´štf
(
¬gs
); \

187 } 0)

	)

191 
	#MOD_DPF
(
ÿt
, 
¬gs
)

	)

195 
	#MAXMODNAME
 32

	)

197 
	smoduË_¡©
 {

198 
	mv”siÚ
;

199 
	mÇme
[
MAXMODNAME
];

200 
	m»fs
;

201 
	mid
;

202 
mod¥ecific_t
 
	md©a
;

205 #iâdeà
_KERNEL


207 
	~<sys/cdefs.h
>

209 
__BEGIN_DECLS


210 
modÃxt
(
_modid
);

211 
modâext
(
_modid
);

212 
mod¡©
(
_modid
, 
moduË_¡©
 *
_¡©
);

213 
modfšd
(cÚ¡ *
_Çme
);

214 
	g__END_DECLS


	@/usr/include/sys/nlist_aout.h

39 #iâdeà
_SYS_NLIST_AOUT_H_


40 
	#_SYS_NLIST_AOUT_H_


	)

51 
	sÆi¡
 {

52 #ifdeà
_AOUT_INCLUDE_


54 *
	mn_Çme
;

55 
	mn_¡rx
;

56 } 
	mn_un
;

58 *
	mn_Çme
;

62 
	mn_ty³
;

63 
	mn_Ùh”
;

64 
	mn_desc
;

65 
	mn_v®ue
;

68 
	#n_hash
 
n_desc


	)

73 
	#N_UNDF
 0x00

	)

74 
	#N_ABS
 0x02

	)

75 
	#N_TEXT
 0x04

	)

76 
	#N_DATA
 0x06

	)

77 
	#N_BSS
 0x08

	)

78 
	#N_INDR
 0x0¨

	)

79 
	#N_SIZE
 0x0ø

	)

80 
	#N_COMM
 0x12

	)

82 
	#N_SETA
 0x14

	)

83 
	#N_SETT
 0x16

	)

84 
	#N_SETD
 0x18

	)

85 
	#N_SETB
 0x1¨

	)

86 
	#N_SETV
 0x1ø

	)

88 
	#N_FN
 0x1

	)

89 
	#N_WARN
 0x1

	)

91 
	#N_EXT
 0x01

	)

92 
	#N_TYPE
 0x1

	)

93 
	#N_STAB
 0xe0

	)

100 
	#N_AUX
(
p
è(Õ)->
n_Ùh”
 & 0xf)

	)

101 
	#N_BIND
(
p
è((()Õ)->
n_Ùh”
 >> 4è& 0xf)

	)

102 
	#N_OTHER
(
r
, 
v
è((()Ôè<< 4è| ((vè& 0xf))

	)

104 
	#AUX_OBJECT
 1

	)

105 
	#AUX_FUNC
 2

	)

109 
	#BIND_WEAK
 2

	)

111 
	#N_FORMAT
 "%08x"

	)

	@/usr/include/sys/osd.h

29 #iâdeà
_SYS_OSD_H_


30 
	#_SYS_OSD_H_


	)

32 
	~<sys/queue.h
>

39 
	sosd
 {

40 
u_št
 
	mosd_n¦Ùs
;

41 **
	mosd_¦Ùs
;

42 
LIST_ENTRY
(
osd
è
	mosd_Ãxt
;

45 #ifdeà
_KERNEL


47 
	#OSD_THREAD
 0

	)

48 
	#OSD_JAIL
 1

	)

49 
	#OSD_KHELP
 2

	)

51 
	#OSD_FIRST
 
OSD_THREAD


	)

52 
	#OSD_LAST
 
OSD_KHELP


	)

54 (*
	tosd_de¡ruùÜ_t
)(*
	tv®ue
);

55 (*
	tosd_m‘hod_t
)(*
	tobj
, *
	td©a
);

57 
	`osd_»gi¡”
(
u_št
 
ty³
, 
osd_de¡ruùÜ_t
 
de¡ruùÜ
,

58 
osd_m‘hod_t
 *
m‘hods
);

59 
	`osd_d”egi¡”
(
u_št
 
ty³
, u_šˆ
¦Ù
);

61 
	`osd_£t
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
, *
v®ue
);

62 *
	`osd_g‘
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
);

63 
	`osd_d–
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
);

64 
	`osd_ÿÎ
(
u_št
 
ty³
, u_šˆ
m‘hod
, *
obj
, *
d©a
);

66 
	`osd_ex™
(
u_št
 
ty³
, 
osd
 *osd);

68 
	#osd_th»ad_»gi¡”
(
de¡ruùÜ
) \

69 
	`osd_»gi¡”
(
OSD_THREAD
, (
de¡ruùÜ
), 
NULL
)

	)

70 
	#osd_th»ad_d”egi¡”
(
¦Ù
) \

71 
	`osd_d”egi¡”
(
OSD_THREAD
, (
¦Ù
))

	)

72 
	#osd_th»ad_£t
(
td
, 
¦Ù
, 
v®ue
) \

73 
	`osd_£t
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
), (
v®ue
))

	)

74 
	#osd_th»ad_g‘
(
td
, 
¦Ù
) \

75 
	`osd_g‘
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
))

	)

76 
	#osd_th»ad_d–
(
td
, 
¦Ù
) do { \

77 
	`KASSERT
((
td
è=ğ
cu¹h»ad
, ("Not curthread.")); \

78 
	`osd_d–
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
)); \

79 
	}
} 0)

	)

80 
	#osd_th»ad_ÿÎ
(
td
, 
m‘hod
, 
d©a
) \

81 
	`osd_ÿÎ
(
OSD_THREAD
, (
m‘hod
), (
td
), (
d©a
))

	)

82 
	#osd_th»ad_ex™
(
td
) \

83 
	`osd_ex™
(
OSD_THREAD
, &(
td
)->
td_osd
)

	)

85 
	#osd_ja_»gi¡”
(
de¡ruùÜ
, 
m‘hods
) \

86 
	`osd_»gi¡”
(
OSD_JAIL
, (
de¡ruùÜ
), (
m‘hods
))

	)

87 
	#osd_ja_d”egi¡”
(
¦Ù
) \

88 
	`osd_d”egi¡”
(
OSD_JAIL
, (
¦Ù
))

	)

89 
	#osd_ja_£t
(
´
, 
¦Ù
, 
v®ue
) \

90 
	`osd_£t
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
), (
v®ue
))

	)

91 
	#osd_ja_g‘
(
´
, 
¦Ù
) \

92 
	`osd_g‘
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
))

	)

93 
	#osd_ja_d–
(
´
, 
¦Ù
) \

94 
	`osd_d–
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
))

	)

95 
	#osd_ja_ÿÎ
(
´
, 
m‘hod
, 
d©a
) \

96 
	`osd_ÿÎ
(
OSD_JAIL
, (
m‘hod
), (
´
), (
d©a
))

	)

97 
	#osd_ja_ex™
(
´
) \

98 
	`osd_ex™
(
OSD_JAIL
, &(
´
)->
´_osd
)

	)

	@/usr/include/sys/pcpu.h

33 #iâdeà
_SYS_PCPU_H_


34 
	#_SYS_PCPU_H_


	)

36 #ifdeà
LOCORE


40 
	~<sys/queue.h
>

41 
	~<sys/vmm‘”.h
>

42 
	~<sys/»sourû.h
>

43 
	~<machše/pıu.h
>

48 
ušŒ_t
 *
__¡¬t_£t_pıu
;

49 
ušŒ_t
 *
__¡İ_£t_pıu
;

54 
ušŒ_t
 
dpıu_off
[];

59 
	#DPCPU_START
 ((
ušŒ_t
)&
__¡¬t_£t_pıu
)

	)

60 
	#DPCPU_STOP
 ((
ušŒ_t
)&
__¡İ_£t_pıu
)

	)

61 
	#DPCPU_BYTES
 (
DPCPU_STOP
 - 
DPCPU_START
)

	)

62 
	#DPCPU_MODMIN
 2048

	)

63 
	#DPCPU_SIZE
 
	`roundup2
(
DPCPU_BYTES
, 
PAGE_SIZE
)

	)

64 
	#DPCPU_MODSIZE
 (
DPCPU_SIZE
 - (
DPCPU_BYTES
 - 
DPCPU_MODMIN
))

	)

69 
	#DPCPU_NAME
(
n
è
pıu_’Œy_
##
	)
n

70 
	#DPCPU_DECLARE
(
t
, 
n
èˆ
	`DPCPU_NAME
Ò)

	)

71 
	#DPCPU_DEFINE
(
t
, 
n
èˆ
	`DPCPU_NAME
Òè
	`__£ùiÚ
("£t_pıu"è
__u£d


	)

76 
	#_DPCPU_PTR
(
b
, 
n
) \

77 (
	`__ty³of
(
	`DPCPU_NAME
(
n
))*)((
b
è+ (
ušŒ_t
)&DPCPU_NAMEÒ))

	)

78 
	#_DPCPU_GET
(
b
, 
n
è(*
	`_DPCPU_PTR
(b,‚))

	)

79 
	#_DPCPU_SET
(
b
, 
n
, 
v
è(*
	`_DPCPU_PTR
(b,‚èğv)

	)

84 
	#DPCPU_PTR
(
n
è
	`_DPCPU_PTR
(
	`PCPU_GET
(
dyÇmic
),‚)

	)

85 
	#DPCPU_GET
(
n
è(*
	`DPCPU_PTR
Ò))

	)

86 
	#DPCPU_SET
(
n
, 
v
è(*
	`DPCPU_PTR
Òèğv)

	)

91 
	#DPCPU_ID_PTR
(
i
, 
n
è
	`_DPCPU_PTR
(
dpıu_off
[(i)],‚)

	)

92 
	#DPCPU_ID_GET
(
i
, 
n
è(*
	`DPCPU_ID_PTR
(i,‚))

	)

93 
	#DPCPU_ID_SET
(
i
, 
n
, 
v
è(*
	`DPCPU_ID_PTR
(i,‚èğv)

	)

98 
	#DPCPU_SUM
(
n
è
__ex‹nsiÚ__
 \

100 
u_št
 
_i
; \

101 
	`__ty³of
(*
	`DPCPU_PTR
(
n
)è
sum
; \

103 
sum
 = 0; \

104 
	`CPU_FOREACH
(
_i
) { \

105 
sum
 +ğ*
	`DPCPU_ID_PTR
(
_i
, 
n
); \

107 
sum
; \

108 })

	)

110 
	#DPCPU_VARSUM
(
n
, 
v¬
è
__ex‹nsiÚ__
 \

112 
u_št
 
_i
; \

113 
	`__ty³of
((
	`DPCPU_PTR
(
n
))->
v¬
è
sum
; \

115 
sum
 = 0; \

116 
	`CPU_FOREACH
(
_i
) { \

117 
sum
 +ğ(
	`DPCPU_ID_PTR
(
_i
, 
n
))->
v¬
; \

119 
sum
; \

120 })

	)

122 
	#DPCPU_ZERO
(
n
) do { \

123 
u_št
 
_i
; \

125 
	`CPU_FOREACH
(
_i
) { \

126 
	`bz”o
(
	`DPCPU_ID_PTR
(
_i
, 
n
), (*
	`DPCPU_PTR
(n))); \

128 } 0)

	)

134 
	srm_queue
 {

135 
rm_queue
* vŞ©
rmq_Ãxt
;

136 
rm_queue
* vŞ©
rmq_´ev
;

139 
	#PCPU_NAME_LEN
 (("CPU "è+ (
	`__XSTRING
(
MAXCPU
è+ 1))

	)

147 
	spıu
 {

148 
th»ad
 *
	mpc_cu¹h»ad
;

149 
th»ad
 *
	mpc_idËth»ad
;

150 
th»ad
 *
	mpc_åcu¹h»ad
;

151 
th»ad
 *
	mpc_d—dth»ad
;

152 
pcb
 *
	mpc_cu½cb
;

153 
ušt64_t
 
	mpc_sw™chtime
;

154 
	mpc_sw™chticks
;

155 
u_št
 
	mpc_ıuid
;

156 
ıumask_t
 
	mpc_ıumask
;

157 
ıumask_t
 
	mpc_Ùh”_ıus
;

158 
SLIST_ENTRY
(
pıu
è
	mpc_®lıu
;

159 
lock_li¡_’Œy
 *
	mpc_¥šlocks
;

160 #ifdeà
KTR


161 
	mpc_Çme
[
PCPU_NAME_LEN
];

163 
vmm‘”
 
	mpc_út
;

164 
	mpc_ı_time
[
CPUSTATES
];

165 
deviû
 *
	mpc_deviû
;

166 *
	mpc_Ãti¤
;

174 
rm_queue
 
	mpc_rm_queue
;

176 
ušŒ_t
 
	mpc_dyÇmic
;

188 
	mPCPU_MD_FIELDS
;

189 } 
__®igÃd
(128);

191 #ifdeà
_KERNEL


193 
SLIST_HEAD
(
ıuh—d
, 
pıu
);

195 
ıuh—d
 cpuhead;

196 
pıu
 *
ıuid_to_pıu
[
MAXCPU
];

198 
	#curıu
 
	`PCPU_GET
(
ıuid
)

	)

199 
	#cu½roc
 (
cu¹h»ad
->
td_´oc
)

	)

200 #iâdeà
cu¹h»ad


201 
	#cu¹h»ad
 
	`PCPU_GET
(
cu¹h»ad
)

	)

203 
	#curvid©a
 
	`PCPU_GET
(
vid©a
)

	)

211 
ıu_pıu_š™
(
pıu
 *pıu, 
ıuid
, 
size_t
 
size
);

212 
db_show_mdpıu
(
pıu
 *pcpu);

214 *
dpıu_®loc
(
size
);

215 
dpıu_cİy
(*
s
, 
size
);

216 
dpıu_ä“
(*
s
, 
size
);

217 
dpıu_š™
(*
dpıu
, 
ıuid
);

218 
pıu_de¡roy
(
pıu
 *pcpu);

219 
pıu
 *
pıu_fšd
(
u_št
 
ıuid
);

220 
pıu_š™
(
pıu
 *pıu, 
ıuid
, 
size_t
 
size
);

	@/usr/include/sys/priority.h

34 #iâdeà
_SYS_PRIORITY_H_


35 
	#_SYS_PRIORITY_H_


	)

45 
	#PRI_ITHD
 1

	)

46 
	#PRI_REALTIME
 2

	)

47 
	#PRI_TIMESHARE
 3

	)

48 
	#PRI_IDLE
 4

	)

54 
	#PRI_FIFO_BIT
 8

	)

55 
	#PRI_FIFO
 (
PRI_FIFO_BIT
 | 
PRI_REALTIME
)

	)

57 
	#PRI_BASE
(
P
è((Pè& ~
PRI_FIFO_BIT
)

	)

58 
	#PRI_IS_REALTIME
(
P
è(
	`PRI_BASE
(Pè=ğ
PRI_REALTIME
)

	)

59 
	#PRI_NEED_RR
(
P
è((Pè!ğ
PRI_FIFO
)

	)

80 
	#PRI_MIN
 (0è

	)

81 
	#PRI_MAX
 (255è

	)

83 
	#PRI_MIN_ITHD
 (
PRI_MIN
)

	)

84 
	#PRI_MAX_ITHD
 (
PRI_MIN_KERN
 - 1)

	)

86 
	#PI_REALTIME
 (
PRI_MIN_ITHD
 + 0)

	)

87 
	#PI_AV
 (
PRI_MIN_ITHD
 + 4)

	)

88 
	#PI_NET
 (
PRI_MIN_ITHD
 + 16)

	)

89 
	#PI_DISK
 (
PRI_MIN_ITHD
 + 20)

	)

90 
	#PI_TTY
 (
PRI_MIN_ITHD
 + 24)

	)

91 
	#PI_DULL
 (
PRI_MIN_ITHD
 + 32)

	)

92 
	#PI_SOFT
 (
PRI_MIN_ITHD
 + 36)

	)

93 
	#PI_SWI
(
x
è(
PI_SOFT
 + (xè* 
RQ_PPQ
)

	)

95 
	#PRI_MIN_KERN
 (64)

	)

96 
	#PRI_MAX_KERN
 (
PRI_MIN_REALTIME
 - 1)

	)

98 
	#PSWP
 (
PRI_MIN_KERN
 + 0)

	)

99 
	#PVM
 (
PRI_MIN_KERN
 + 4)

	)

100 
	#PINOD
 (
PRI_MIN_KERN
 + 8)

	)

101 
	#PRIBIO
 (
PRI_MIN_KERN
 + 12)

	)

102 
	#PVFS
 (
PRI_MIN_KERN
 + 16)

	)

103 
	#PZERO
 (
PRI_MIN_KERN
 + 20)

	)

104 
	#PSOCK
 (
PRI_MIN_KERN
 + 24)

	)

105 
	#PWAIT
 (
PRI_MIN_KERN
 + 28)

	)

106 
	#PLOCK
 (
PRI_MIN_KERN
 + 36)

	)

107 
	#PPAUSE
 (
PRI_MIN_KERN
 + 40)

	)

109 
	#PRI_MIN_REALTIME
 (128)

	)

110 
	#PRI_MAX_REALTIME
 (
PRI_MIN_TIMESHARE
 - 1)

	)

112 
	#PRI_MIN_TIMESHARE
 (160)

	)

113 
	#PRI_MAX_TIMESHARE
 (
PRI_MIN_IDLE
 - 1)

	)

115 
	#PUSER
 (
PRI_MIN_TIMESHARE
)

	)

117 
	#PRI_MIN_IDLE
 (224)

	)

118 
	#PRI_MAX_IDLE
 (
PRI_MAX
)

	)

120 #ifdeà
_KERNEL


122 
	#PRI_USER
 -2

	)

123 
	#PRI_UNCHANGED
 -1

	)

126 
	s´iÜ™y
 {

127 
u_ch¬
 
	m´i_şass
;

128 
u_ch¬
 
	m´i_Ëv–
;

129 
u_ch¬
 
	m´i_Çtive
;

130 
u_ch¬
 
	m´i_u£r
;

	@/usr/include/sys/refcount.h

32 #iâdeà
__SYS_REFCOUNT_H__


33 
	#__SYS_REFCOUNT_H__


	)

35 
	~<machše/©omic.h
>

37 #ifdeà
_KERNEL


38 
	~<sys/sy¡m.h
>

40 
	#KASSERT
(
exp
, 
msg
è

	)

43 
__šlše
 

44 
	$»fcouÁ_š™
(vŞ©
u_št
 *
couÁ
, u_šˆ
v®ue
)

47 *
couÁ
 = 
v®ue
;

48 
	}
}

50 
__šlše
 

51 
	$»fcouÁ_acquœe
(vŞ©
u_št
 *
couÁ
)

54 
	`©omic_add_acq_št
(
couÁ
, 1);

55 
	}
}

57 
__šlše
 

58 
	$»fcouÁ_»Ëa£
(vŞ©
u_št
 *
couÁ
)

60 
u_št
 
Şd
;

63 
Şd
 = 
	`©omic_ãtchadd_št
(
couÁ
, -1);

64 
	`KASSERT
(
Şd
 > 0, ("Ãg©iv»fcouÁ %p", 
couÁ
));

65  (
Şd
 == 1);

66 
	}
}

	@/usr/include/sys/resourcevar.h

33 #iâdef 
_SYS_RESOURCEVAR_H_


34 
	#_SYS_RESOURCEVAR_H_


	)

36 
	~<sys/»sourû.h
>

37 
	~<sys/queue.h
>

38 #ifdeà
_KERNEL


39 
	~<sys/_lock.h
>

40 
	~<sys/_mu‹x.h
>

53 
	sp¡©s
 {

54 
	#p¡©_¡¬tz”o
 
p_üu


	)

55 
ru§ge
 
	mp_üu
;

56 
™im”v®
 
	mp_tim”
[3];

57 
	#p¡©_’dz”o
 
p¡©_¡¬tcİy


	)

59 
	#p¡©_¡¬tcİy
 
p_´of


	)

60 
	su´of
 {

61 
ÿddr_t
 
	m´_ba£
;

62 
u_lÚg
 
	m´_size
;

63 
u_lÚg
 
	m´_off
;

64 
u_lÚg
 
	m´_sÿË
;

65 } 
	mp_´of
;

66 
	#p¡©_’dcİy
 
p_¡¬t


	)

67 
timev®
 
	mp_¡¬t
;

70 #ifdeà
_KERNEL


77 
	s¶im™
 {

78 
¾im™
 
	m¶_¾im™
[
RLIM_NLIMITS
];

79 
	m¶_»fút
;

91 
	suidšfo
 {

92 
LIST_ENTRY
(
uidšfo
è
	mui_hash
;

93 
mtx
 
	mui_vmsize_mtx
;

94 
vm_ooff£t_t
 
	mui_vmsize
;

95 
	mui_sbsize
;

96 
	mui_´ocút
;

97 
	mui_±sút
;

98 
uid_t
 
	mui_uid
;

99 
u_št
 
	mui_»f
;

102 
	#UIDINFO_VMSIZE_LOCK
(
ui
è
	`mtx_lock
(&((ui)->
ui_vmsize_mtx
))

	)

103 
	#UIDINFO_VMSIZE_UNLOCK
(
ui
è
	`mtx_uÆock
(&((ui)->
ui_vmsize_mtx
))

	)

105 
	g´oc
;

106 
	gru§ge_ext
;

107 
	gth»ad
;

109 
addupc_šŒ
(
th»ad
 *
td
, 
uštåŒ_t
 
pc
, 
u_št
 
ticks
);

110 
addupc_sk
(
th»ad
 *
td
, 
uštåŒ_t
 
pc
, 
u_št
 
ticks
);

111 
ÿlcüu
(
´oc
 *
p
, 
timev®
 *
up
, timev® *
¥
);

112 
ÿlüu
(
´oc
 *
p
, 
timev®
 *
up
, timev® *
¥
);

113 
chg´ocút
(
uidšfo
 *
u
, 
diff
, 
¾im_t
 
maxv®
);

114 
chgsbsize
(
uidšfo
 *
u
, 
u_št
 *
hiw©
, u_šˆ
to
,

115 
¾im_t
 
maxv®
);

116 
chg±sút
(
uidšfo
 *
u
, 
diff
, 
¾im_t
 
maxv®
);

117 
fuswšŒ
(*
ba£
);

118 
¶im™


119 *
lim_®loc
();

120 
lim_cİy
(
¶im™
 *
d¡
, ¶im™ *
¤c
);

121 
¾im_t
 
lim_cur
(
´oc
 *
p
, 
which
);

122 
lim_fÜk
(
´oc
 *
p1
, ´oø*
p2
);

123 
lim_ä“
(
¶im™
 *
limp
);

124 
¶im™


125 *
lim_hŞd
(
¶im™
 *
limp
);

126 
¾im_t
 
lim_max
(
´oc
 *
p
, 
which
);

127 
lim_¾im™
(
´oc
 *
p
, 
which
, 
¾im™
 *
¾p
);

128 
ruadd
(
ru§ge
 *
ru
, 
ru§ge_ext
 *
rux
, ru§g*
ru2
,

129 
ru§ge_ext
 *
rux2
);

130 
rucŞËù
(
ru§ge
 *
ru
, ru§g*
ru2
);

131 
ruãtch
(
´oc
 *
p
, 
ru§ge
 *
ru
);

132 
ruãtchÿlc
(
´oc
 *
p
, 
ru§ge
 *
ru
, 
timev®
 *
up
,

133 
timev®
 *
¥
);

134 
ruxagg
(
´oc
 *
p
, 
th»ad
 *
td
);

135 
suswšŒ
(*
ba£
, 
wÜd
);

136 
uidšfo


137 *
uifšd
(
uid_t
 
uid
);

138 
uiä“
(
uidšfo
 *
u
);

139 
uihashš™
();

140 
uihŞd
(
uidšfo
 *
u
);

	@/usr/include/sys/rtprio.h

34 #iâdeà
_SYS_RTPRIO_H_


35 
	#_SYS_RTPRIO_H_


	)

37 
	~<sys/´iÜ™y.h
>

45 
	#RTP_PRIO_REALTIME
 
PRI_REALTIME


	)

46 
	#RTP_PRIO_NORMAL
 
PRI_TIMESHARE


	)

47 
	#RTP_PRIO_IDLE
 
PRI_IDLE


	)

52 
	#RTP_PRIO_FIFO_BIT
 
PRI_FIFO_BIT


	)

53 
	#RTP_PRIO_FIFO
 
PRI_FIFO


	)

54 
	#RTP_PRIO_BASE
(
P
è
	`PRI_BASE
(P)

	)

55 
	#RTP_PRIO_IS_REALTIME
(
P
è
	`PRI_IS_REALTIME
(P)

	)

56 
	#RTP_PRIO_NEED_RR
(
P
è
	`PRI_NEED_RR
(P)

	)

59 
	#RTP_PRIO_MIN
 0

	)

60 
	#RTP_PRIO_MAX
 31

	)

65 
	#RTP_LOOKUP
 0

	)

66 
	#RTP_SET
 1

	)

68 #iâdeà
LOCORE


72 
	s¹´io
 {

73 
u_shÜt
 
	mty³
;

74 
u_shÜt
 
	m´io
;

77 #ifdeà
_KERNEL


78 
	gth»ad
;

79 
¹p_to_´i
(
¹´io
 *, 
th»ad
 *);

80 
´i_to_¹p
(
th»ad
 *, 
¹´io
 *);

84 #iâdeà
_KERNEL


85 
	~<sys/cdefs.h
>

87 
__BEGIN_DECLS


88 
¹´io
(, 
pid_t
, rtprio *);

89 
¹´io_th»ad
(, 
lwpid_t
, 
¹´io
 *);

90 
	g__END_DECLS


	@/usr/include/sys/runq.h

29 #iâdef 
_RUNQ_H_


30 
	#_RUNQ_H_


	)

32 
	~<machše/runq.h
>

34 
	gth»ad
;

40 
	#RQ_NQS
 (64è

	)

41 
	#RQ_PPQ
 (4è

	)

46 
TAILQ_HEAD
(
rqh—d
, 
th»ad
);

52 
	srqb™s
 {

53 
rqb_wÜd_t
 
	mrqb_b™s
[
RQB_LEN
];

60 
	srunq
 {

61 
rqb™s
 
	mrq_¡©us
;

62 
rqh—d
 
	mrq_queues
[
RQ_NQS
];

65 
runq_add
(
runq
 *, 
th»ad
 *, );

66 
runq_add_´i
(
runq
 *, 
th»ad
 *, 
u_ch¬
, );

67 
runq_check
(
runq
 *);

68 
th»ad
 *
runq_choo£
(
runq
 *);

69 
th»ad
 *
runq_choo£_äom
(
runq
 *, 
u_ch¬
);

70 
th»ad
 *
runq_choo£_fuzz
(
runq
 *, );

71 
runq_š™
(
runq
 *);

72 
runq_»move
(
runq
 *, 
th»ad
 *);

73 
runq_»move_idx
(
runq
 *, 
th»ad
 *, 
u_ch¬
 *);

	@/usr/include/sys/select.h

32 #iâdeà
_SYS_SELECT_H_


33 
	#_SYS_SELECT_H_


	)

35 
	~<sys/cdefs.h
>

36 
	~<sys/_ty³s.h
>

38 
	~<sys/_sig£t.h
>

39 
	~<sys/_timev®.h
>

40 
	~<sys/time¥ec.h
>

42 
	t__fd_mask
;

43 #ià
__BSD_VISIBLE


44 
__fd_mask
 
	tfd_mask
;

47 #iâdeà
_SIGSET_T_DECLARED


48 
	#_SIGSET_T_DECLARED


	)

49 
__sig£t_t
 
	tsig£t_t
;

58 #iâdef 
FD_SETSIZE


59 
	#FD_SETSIZE
 1024U

	)

62 
	#_NFDBITS
 ((
__fd_mask
è* 8è

	)

63 #ià
__BSD_VISIBLE


64 
	#NFDBITS
 
_NFDBITS


	)

67 #iâdeà
_howmªy


68 
	#_howmªy
(
x
, 
y
è(((xè+ ((yè- 1)è/ (y))

	)

71 
	sfd_£t
 {

72 
__fd_mask
 
	m__fds_b™s
[
_howmªy
(
FD_SETSIZE
, 
_NFDBITS
)];

73 } 
	tfd_£t
;

74 #ià
__BSD_VISIBLE


75 
	#fds_b™s
 
__fds_b™s


	)

78 
	#__fd£t_mask
(
n
è((
__fd_mask
)1 << (Òè% 
_NFDBITS
))

	)

79 
	#FD_CLR
(
n
, 
p
è(Õ)->
__fds_b™s
[Ò)/
_NFDBITS
] &ğ~
	`__fd£t_mask
Ò))

	)

80 #ià
__BSD_VISIBLE


81 
	#FD_COPY
(
f
, 
t
è()(*Ñèğ*(f))

	)

83 
	#FD_ISSET
(
n
, 
p
è((Õ)->
__fds_b™s
[Ò)/
_NFDBITS
] & 
	`__fd£t_mask
Ò)è!ğ0)

	)

84 
	#FD_SET
(
n
, 
p
è(Õ)->
__fds_b™s
[Ò)/
_NFDBITS
] |ğ
	`__fd£t_mask
Ò))

	)

85 
	#FD_ZERO
(
p
) do { \

86 
fd_£t
 *
_p
; \

87 
__size_t
 
_n
; \

89 
_p
 = (
p
); \

90 
_n
 = 
	`_howmªy
(
FD_SETSIZE
, 
_NFDBITS
); \

91 
_n
 > 0) \

92 
_p
->
__fds_b™s
[--
_n
] = 0; \

93 } 0)

	)

95 #iâdeà
_KERNEL


97 
__BEGIN_DECLS


98 
p£Ëù
(, 
fd_£t
 *
__»¡riù
, fd_set *__restrict, fd_set *__restrict,

99 cÚ¡ 
time¥ec
 *
__»¡riù
, cÚ¡ 
sig£t_t
 *__restrict);

100 #iâdeà
_SELECT_DECLARED


101 
	#_SELECT_DECLARED


	)

103 
£Ëù
(, 
fd_£t
 *, fd_£ˆ*, fd_£ˆ*, 
timev®
 *);

105 
	g__END_DECLS


	@/usr/include/sys/sigio.h

33 #iâdeà
_SYS_SIGIO_H_


34 
	#_SYS_SIGIO_H_


	)

46 
	ssigio
 {

48 
´oc
 *
	msiu_´oc
;

49 
pg½
 *
	msiu_pg½
;

50 } 
	msio_u
;

51 
SLIST_ENTRY
(
sigio
è
	msio_pgsigio
;

52 
sigio
 **
	msio_my»f
;

54 
uüed
 *
	msio_uüed
;

55 
pid_t
 
	msio_pgid
;

57 
	#sio_´oc
 
sio_u
.
siu_´oc


	)

58 
	#sio_pg½
 
sio_u
.
siu_pg½


	)

60 
SLIST_HEAD
(
sigiŞ¡
, 
sigio
);

62 
pid_t
 
fg‘own
(
sigio
 **
sigiİ
);

63 
f£town
(
pid_t
 
pgid
, 
sigio
 **
sigiİ
);

64 
fun£town
(
sigio
 **
sigiİ
);

65 
fun£towÆ¡
(
sigiŞ¡
 *sigiolst);

	@/usr/include/sys/signal.h

38 #iâdeà
_SYS_SIGNAL_H_


39 
	#_SYS_SIGNAL_H_


	)

41 
	~<sys/cdefs.h
>

42 
	~<sys/_ty³s.h
>

43 
	~<sys/_sig£t.h
>

45 
	~<machše/_lim™s.h
>

46 
	~<machše/sigÇl.h
>

51 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


52 
	#SIGHUP
 1

	)

54 
	#SIGINT
 2

	)

55 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


56 
	#SIGQUIT
 3

	)

58 
	#SIGILL
 4

	)

59 #ià
__XSI_VISIBLE


60 
	#SIGTRAP
 5

	)

62 
	#SIGABRT
 6

	)

63 #ià
__BSD_VISIBLE


64 
	#SIGIOT
 
SIGABRT


	)

65 
	#SIGEMT
 7

	)

67 
	#SIGFPE
 8

	)

68 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


69 
	#SIGKILL
 9

	)

71 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


72 
	#SIGBUS
 10

	)

74 
	#SIGSEGV
 11

	)

75 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


76 
	#SIGSYS
 12

	)

78 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


79 
	#SIGPIPE
 13

	)

80 
	#SIGALRM
 14

	)

82 
	#SIGTERM
 15

	)

83 #ià
__POSIX_VISIBLE
 >ğ200112 || 
__XSI_VISIBLE


84 
	#SIGURG
 16

	)

86 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


87 
	#SIGSTOP
 17

	)

88 
	#SIGTSTP
 18

	)

89 
	#SIGCONT
 19

	)

90 
	#SIGCHLD
 20

	)

91 
	#SIGTTIN
 21

	)

92 
	#SIGTTOU
 22

	)

94 #ià
__BSD_VISIBLE


95 
	#SIGIO
 23

	)

97 #ià
__XSI_VISIBLE


98 
	#SIGXCPU
 24

	)

99 
	#SIGXFSZ
 25

	)

100 
	#SIGVTALRM
 26

	)

101 
	#SIGPROF
 27

	)

103 #ià
__BSD_VISIBLE


104 
	#SIGWINCH
 28

	)

105 
	#SIGINFO
 29

	)

107 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


108 
	#SIGUSR1
 30

	)

109 
	#SIGUSR2
 31

	)

111 #ià
__BSD_VISIBLE


112 
	#SIGTHR
 32

	)

113 
	#SIGLWP
 
SIGTHR


	)

116 
	#SIGRTMIN
 65

	)

117 
	#SIGRTMAX
 126

	)

119 
	#SIG_DFL
 ((
__sighªdËr_t
 *)0)

	)

120 
	#SIG_IGN
 ((
__sighªdËr_t
 *)1)

	)

121 
	#SIG_ERR
 ((
__sighªdËr_t
 *)-1)

	)

123 
	#SIG_HOLD
 ((
__sighªdËr_t
 *)3)

	)

141 
	t__sighªdËr_t
();

143 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


144 #iâdeà
_SIGSET_T_DECLARED


145 
	#_SIGSET_T_DECLARED


	)

146 
__sig£t_t
 
	tsig£t_t
;

150 #ià
__POSIX_VISIBLE
 >ğ199309 || 
__XSI_VISIBLE
 >= 500

151 
	usigv®
 {

153 
	msiv®_št
;

154 *
	msiv®_±r
;

156 
	msigv®_št
;

157 *
	msigv®_±r
;

161 #ià
__POSIX_VISIBLE
 >= 199309

162 
	ssigev’t
 {

163 
	msigev_nÙify
;

164 
	msigev_signo
;

165 
sigv®
 
	msigev_v®ue
;

167 
__lwpid_t
 
	m_th»adid
;

169 (*
	m_funùiÚ
)(
	msigv®
);

170 *
	m_©Œibu‹
;

171 } 
	m_sigev_th»ad
;

172 
	m__¥¬e__
[8];

173 } 
	m_sigev_un
;

176 #ià
__BSD_VISIBLE


177 
	#sigev_nÙify_kqueue
 
sigev_signo


	)

178 
	#sigev_nÙify_th»ad_id
 
_sigev_un
.
_th»adid


	)

180 
	#sigev_nÙify_funùiÚ
 
_sigev_un
.
_sigev_th»ad
.
_funùiÚ


	)

181 
	#sigev_nÙify_©Œibu‹s
 
_sigev_un
.
_sigev_th»ad
.
_©Œibu‹


	)

183 
	#SIGEV_NONE
 0

	)

184 
	#SIGEV_SIGNAL
 1

	)

185 
	#SIGEV_THREAD
 2

	)

186 #ià
__BSD_VISIBLE


187 
	#SIGEV_KEVENT
 3

	)

188 
	#SIGEV_THREAD_ID
 4

	)

192 #ià
__POSIX_VISIBLE
 >ğ199309 || 
__XSI_VISIBLE


193 
	s__sigšfo
 {

194 
	msi_signo
;

195 
	msi_”ºo
;

202 
	msi_code
;

203 
__pid_t
 
	msi_pid
;

204 
__uid_t
 
	msi_uid
;

205 
	msi_¡©us
;

206 *
	msi_addr
;

207 
sigv®
 
	msi_v®ue
;

210 
	m_Œ­no
;

211 } 
	m_çuÉ
;

213 
	m_tim”id
;

214 
	m_ov”run
;

215 } 
	m_tim”
;

217 
	m_mqd
;

218 } 
	m_mesgq
;

220 
	m_bªd
;

221 } 
	m_pŞl
;

223 
	m__¥¬e1__
;

224 
	m__¥¬e2__
[7];

225 } 
	m__¥¬e__
;

226 } 
	m_»asÚ
;

227 } 
	tsigšfo_t
;

229 
	#si_Œ­no
 
_»asÚ
.
_çuÉ
.
_Œ­no


	)

230 
	#si_tim”id
 
_»asÚ
.
_tim”
.
_tim”id


	)

231 
	#si_ov”run
 
_»asÚ
.
_tim”
.
_ov”run


	)

232 
	#si_mqd
 
_»asÚ
.
_mesgq
.
_mqd


	)

233 
	#si_bªd
 
_»asÚ
.
_pŞl
.
_bªd


	)

237 
	#ILL_ILLOPC
 1

	)

238 
	#ILL_ILLOPN
 2

	)

239 
	#ILL_ILLADR
 3

	)

240 
	#ILL_ILLTRP
 4

	)

241 
	#ILL_PRVOPC
 5

	)

242 
	#ILL_PRVREG
 6

	)

243 
	#ILL_COPROC
 7

	)

244 
	#ILL_BADSTK
 8

	)

247 
	#BUS_ADRALN
 1

	)

248 
	#BUS_ADRERR
 2

	)

249 
	#BUS_OBJERR
 3

	)

252 
	#SEGV_MAPERR
 1

	)

253 
	#SEGV_ACCERR
 2

	)

257 
	#FPE_INTOVF
 1

	)

258 
	#FPE_INTDIV
 2

	)

259 
	#FPE_FLTDIV
 3

	)

260 
	#FPE_FLTOVF
 4

	)

261 
	#FPE_FLTUND
 5

	)

262 
	#FPE_FLTRES
 6

	)

263 
	#FPE_FLTINV
 7

	)

264 
	#FPE_FLTSUB
 8

	)

267 
	#TRAP_BRKPT
 1

	)

268 
	#TRAP_TRACE
 2

	)

269 
	#TRAP_DTRACE
 3

	)

272 
	#CLD_EXITED
 1

	)

273 
	#CLD_KILLED
 2

	)

275 
	#CLD_DUMPED
 3

	)

277 
	#CLD_TRAPPED
 4

	)

278 
	#CLD_STOPPED
 5

	)

279 
	#CLD_CONTINUED
 6

	)

282 
	#POLL_IN
 1

	)

283 
	#POLL_OUT
 2

	)

284 
	#POLL_MSG
 3

	)

285 
	#POLL_ERR
 4

	)

286 
	#POLL_PRI
 5

	)

287 
	#POLL_HUP
 6

	)

291 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


292 
	g__sigšfo
;

297 
	ssigaùiÚ
 {

299 (*
	m__§_hªdËr
)();

300 (*
	m__§_sigaùiÚ
)(, 
	m__sigšfo
 *, *);

301 } 
	m__sigaùiÚ_u
;

302 
	m§_æags
;

303 
sig£t_t
 
	m§_mask
;

306 
	#§_hªdËr
 
__sigaùiÚ_u
.
__§_hªdËr


	)

309 #ià
__XSI_VISIBLE


311 
	#§_sigaùiÚ
 
__sigaùiÚ_u
.
__§_sigaùiÚ


	)

314 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


315 
	#SA_NOCLDSTOP
 0x0008

	)

318 #ià
__XSI_VISIBLE


319 
	#SA_ONSTACK
 0x0001

	)

320 
	#SA_RESTART
 0x0002

	)

321 
	#SA_RESETHAND
 0x0004

	)

322 
	#SA_NODEFER
 0x0010

	)

323 
	#SA_NOCLDWAIT
 0x0020

	)

324 
	#SA_SIGINFO
 0x0040

	)

327 #ià
__BSD_VISIBLE


328 
	#NSIG
 32

	)

331 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


332 
	#SI_NOINFO
 0

	)

333 
	#SI_USER
 0x10001

	)

334 
	#SI_QUEUE
 0x10002

	)

335 
	#SI_TIMER
 0x10003

	)

337 
	#SI_ASYNCIO
 0x10004

	)

339 
	#SI_MESGQ
 0x10005

	)

341 
	#SI_KERNEL
 0x10006

	)

343 #ià
__BSD_VISIBLE


344 
	#SI_UNDEFINED
 0

	)

347 #ià
__BSD_VISIBLE


348 
__sighªdËr_t
 *
	tsig_t
;

349 
	t__sigšfohªdËr_t
(, 
	t__sigšfo
 *, *);

352 #ià
__XSI_VISIBLE


356 #ià
__BSD_VISIBLE


357 
	ssig®t¡ack
 {

361 *
	mss_¥
;

362 
__size_t
 
	mss_size
;

363 
	mss_æags
;

364 } 
	t¡ack_t
;

366 
	#SS_ONSTACK
 0x0001

	)

367 
	#SS_DISABLE
 0x0004

	)

368 
	#MINSIGSTKSZ
 
__MINSIGSTKSZ


	)

369 
	#SIGSTKSZ
 (
MINSIGSTKSZ
 + 32768è

	)

372 #ià
__BSD_VISIBLE


377 
	ssigvec
 {

378 
__sighªdËr_t
 *
	msv_hªdËr
;

379 
	msv_mask
;

380 
	msv_æags
;

383 
	#SV_ONSTACK
 
SA_ONSTACK


	)

384 
	#SV_INTERRUPT
 
SA_RESTART


	)

385 
	#SV_RESETHAND
 
SA_RESETHAND


	)

386 
	#SV_NODEFER
 
SA_NODEFER


	)

387 
	#SV_NOCLDSTOP
 
SA_NOCLDSTOP


	)

388 
	#SV_SIGINFO
 
SA_SIGINFO


	)

389 
	#sv_Ú¡ack
 
sv_æags


	)

393 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_43
) && \

394 !
	$defšed
(
__i386__
)

395 
	sosigcÚ‹xt
 {

396 
_nÙ_u£d
;

400 #ià
__XSI_VISIBLE


404 
	ssig¡ack
 {

406 *
ss_¥
;

407 
ss_Ú¡ack
;

411 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 > 0 && __POSIX_VISIBLE <= 200112

416 
	#sigmask
(
m
è(1 << ((m)-1))

	)

419 #ià
__BSD_VISIBLE


420 
	#BADSIG
 
SIG_ERR


	)

423 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


427 
	#SIG_BLOCK
 1

	)

428 
	#SIG_UNBLOCK
 2

	)

429 
	#SIG_SETMASK
 3

	)

436 
__BEGIN_DECLS


437 
__sighªdËr_t
 *
	`sigÇl
(, __sighandler_t *);

438 
__END_DECLS


	@/usr/include/sys/signalvar.h

33 #iâdeà
_SYS_SIGNALVAR_H_


34 
	#_SYS_SIGNALVAR_H_


	)

36 
	~<sys/queue.h
>

37 
	~<sys/_lock.h
>

38 
	~<sys/_mu‹x.h
>

39 
	~<sys/sigÇl.h
>

53 
	ssigaùs
 {

54 
sig_t
 
	mps_sigaù
[
_SIG_MAXSIG
];

55 
sig£t_t
 
	mps_ÿtchmask
[
_SIG_MAXSIG
];

56 
sig£t_t
 
	mps_sigÚ¡ack
;

57 
sig£t_t
 
	mps_sigšŒ
;

58 
sig£t_t
 
	mps_sig»£t
;

59 
sig£t_t
 
	mps_signodeãr
;

60 
sig£t_t
 
	mps_sigšfo
;

61 
sig£t_t
 
	mps_sigignÜe
;

62 
sig£t_t
 
	mps_sigÿtch
;

63 
sig£t_t
 
	mps_ä“bsd4
;

64 
sig£t_t
 
	mps_osig£t
;

65 
sig£t_t
 
	mps_u£¹¿mp
;

66 
	mps_æag
;

67 
	mps_»fút
;

68 
mtx
 
	mps_mtx
;

71 
	#PS_NOCLDWAIT
 0x0001

	)

72 
	#PS_NOCLDSTOP
 0x0002

	)

73 
	#PS_CLDSIGIGN
 0x0004

	)

75 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_43
)

80 
osigcÚ‹xt
 
	msi_sc
;

81 
	msi_signo
;

82 
	msi_code
;

83 
sigv®
 
	msi_v®ue
;

84 } 
	tosigšfo_t
;

86 
	sosigaùiÚ
 {

88 (*
	m__§_hªdËr
)();

89 (*
	m__§_sigaùiÚ
)(, 
	mosigšfo_t
 *, *);

90 } 
	m__sigaùiÚ_u
;

91 
osig£t_t
 
	m§_mask
;

92 
	m§_æags
;

95 
	t__osigšfohªdËr_t
(, 
	tosigšfo_t
 *, *);

99 
	#SIG_CATCH
 ((
__sighªdËr_t
 *)2)

	)

105 
	#SIGACTION
(
p
, 
sig
èÕ->
p_sigaùs
->
ps_sigaù
[
	`_SIG_IDX
(sig)])

	)

110 
	#SIGADDSET
(
£t
, 
signo
) \

111 ((
£t
).
__b™s
[
	`_SIG_WORD
(
signo
)] |ğ
	`_SIG_BIT
(signo))

	)

113 
	#SIGDELSET
(
£t
, 
signo
) \

114 ((
£t
).
__b™s
[
	`_SIG_WORD
(
signo
)] &ğ~
	`_SIG_BIT
(signo))

	)

116 
	#SIGEMPTYSET
(
£t
) \

118 
__i
; \

119 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

120 (
£t
).
__b™s
[
__i
] = 0; \

121 } 0)

	)

123 
	#SIGFILLSET
(
£t
) \

125 
__i
; \

126 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

127 (
£t
).
__b™s
[
__i
] = ~0U; \

128 } 0)

	)

130 
	#SIGISMEMBER
(
£t
, 
signo
) \

131 ((
£t
).
__b™s
[
	`_SIG_WORD
(
signo
)] & 
	`_SIG_BIT
(signo))

	)

133 
	#SIGISEMPTY
(
£t
è(
	`__sigi£m±y
(&(£t)))

	)

134 
	#SIGNOTEMPTY
(
£t
è(!
	`__sigi£m±y
(&(£t)))

	)

136 
	#SIGSETEQ
(
£t1
, 
£t2
è(
	`__sig£‹q
(&(£t1), &(£t2)))

	)

137 
	#SIGSETNEQ
(
£t1
, 
£t2
è(!
	`__sig£‹q
(&(£t1), &(£t2)))

	)

139 
	#SIGSETOR
(
£t1
, 
£t2
) \

141 
__i
; \

142 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

143 (
£t1
).
__b™s
[
__i
] |ğ(
£t2
).__bits[__i]; \

144 } 0)

	)

146 
	#SIGSETAND
(
£t1
, 
£t2
) \

148 
__i
; \

149 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

150 (
£t1
).
__b™s
[
__i
] &ğ(
£t2
).__bits[__i]; \

151 } 0)

	)

153 
	#SIGSETNAND
(
£t1
, 
£t2
) \

155 
__i
; \

156 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

157 (
£t1
).
__b™s
[
__i
] &ğ~(
£t2
).__bits[__i]; \

158 } 0)

	)

160 
	#SIGSETLO
(
£t1
, 
£t2
è((£t1).
__b™s
[0] = (£t2).__b™s[0])

	)

161 
	#SIGSETOLD
(
£t
, 
o£t
è((£t).
__b™s
[0] = (o£t))

	)

163 
	#SIG_CANTMASK
(
£t
) \

164 
	`SIGDELSET
(
£t
, 
SIGKILL
), SIGDELSET(£t, 
SIGSTOP
)

	)

166 
	#SIG_STOPSIGMASK
(
£t
) \

167 
	`SIGDELSET
(
£t
, 
SIGSTOP
), SIGDELSET(£t, 
SIGTSTP
), \

168 
	`SIGDELSET
(
£t
, 
SIGTTIN
), SIGDELSET(£t, 
SIGTTOU
)

	)

170 
	#SIG_CONTSIGMASK
(
£t
) \

171 
	`SIGDELSET
(
£t
, 
SIGCONT
)

	)

173 
	#sigÿÁmask
 (
	`sigmask
(
SIGKILL
è| sigmask(
SIGSTOP
))

	)

175 
	#SIG2OSIG
(
sig
, 
osig
è(osig = (sig).
__b™s
[0])

	)

176 
	#OSIG2SIG
(
osig
, 
sig
è
	`SIGEMPTYSET
(sig); (sig).
__b™s
[0] = 
	)
osig

178 
__šlše
 

179 
	$__sigi£m±y
(
sig£t_t
 *
£t
)

181 
i
;

183 
i
 = 0; i < 
_SIG_WORDS
; i++) {

184 ià(
£t
->
__b™s
[
i
])

188 
	}
}

190 
__šlše
 

191 
	$__sig£‹q
(
sig£t_t
 *
£t1
, sig£t_ˆ*
£t2
)

193 
i
;

195 
i
 = 0; i < 
_SIG_WORDS
; i++) {

196 ià(
£t1
->
__b™s
[
i
] !ğ
£t2
->__bits[i])

200 
	}
}

202 
	sosigev’t
 {

203 
	msigev_nÙify
;

205 
	m__sigev_signo
;

206 
	m__sigev_nÙify_kqueue
;

207 } 
	m__sigev_u
;

208 
sigv®
 
	msigev_v®ue
;

211 
	sksigšfo
 {

212 
TAILQ_ENTRY
(
ksigšfo
è
	mksi_lšk
;

213 
sigšfo_t
 
	mksi_šfo
;

214 
	mksi_æags
;

215 
sigqueue
 *
	mksi_sigq
;

216 } 
	tksigšfo_t
;

218 
	#ksi_signo
 
ksi_šfo
.
si_signo


	)

219 
	#ksi_”ºo
 
ksi_šfo
.
si_”ºo


	)

220 
	#ksi_code
 
ksi_šfo
.
si_code


	)

221 
	#ksi_pid
 
ksi_šfo
.
si_pid


	)

222 
	#ksi_uid
 
ksi_šfo
.
si_uid


	)

223 
	#ksi_¡©us
 
ksi_šfo
.
si_¡©us


	)

224 
	#ksi_addr
 
ksi_šfo
.
si_addr


	)

225 
	#ksi_v®ue
 
ksi_šfo
.
si_v®ue


	)

226 
	#ksi_bªd
 
ksi_šfo
.
si_bªd


	)

227 
	#ksi_Œ­no
 
ksi_šfo
.
si_Œ­no


	)

228 
	#ksi_ov”run
 
ksi_šfo
.
si_ov”run


	)

229 
	#ksi_tim”id
 
ksi_šfo
.
si_tim”id


	)

230 
	#ksi_mqd
 
ksi_šfo
.
si_mqd


	)

233 
	#KSI_TRAP
 0x01

	)

234 
	#KSI_EXT
 0x02

	)

235 
	#KSI_INS
 0x04

	)

236 
	#KSI_SIGQ
 0x08

	)

237 
	#KSI_HEAD
 0x10

	)

238 
	#KSI_COPYMASK
 (
KSI_TRAP
|
KSI_SIGQ
)

	)

240 
	#KSI_ONQ
(
ksi
è((ksi)->
ksi_sigq
 !ğ
NULL
)

	)

242 
	ssigqueue
 {

243 
sig£t_t
 
	msq_sigÇls
;

244 
sig£t_t
 
	msq_kl
;

245 
TAILQ_HEAD
(, 
ksigšfo
è
	msq_li¡
;

246 
´oc
 *
	msq_´oc
;

247 
	msq_æags
;

248 } 
	tsigqueue_t
;

251 
	#SQ_INIT
 0x01

	)

253 #ifdeà
_KERNEL


256 
	#SIGPENDING
(
td
) \

257 ((!
	`SIGISEMPTY
((
td
)->
td_sigli¡
) && \

258 !
	`sig£tmasked
(&(
td
)->
td_sigli¡
, &Ñd)->
td_sigmask
)) || \

259 (!
	`SIGISEMPTY
((
td
)->
td_´oc
->
p_sigli¡
) && \

260 !
	`sig£tmasked
(&(
td
)->
td_´oc
->
p_sigli¡
, &Ñd)->
td_sigmask
)))

	)

266 
__šlše
 

267 
	$sig£tmasked
(
sig£t_t
 *
£t
, sig£t_ˆ*
mask
)

269 
i
;

271 
i
 = 0; i < 
_SIG_WORDS
; i++) {

272 ià(
£t
->
__b™s
[
i
] & ~
mask
->__bits[i])

276 
	}
}

278 
	#ksigšfo_š™
(
ksi
) \

280 
	`bz”o
(
ksi
, (
ksigšfo_t
)); \

281 } 0)

	)

283 
	#ksigšfo_š™_Œ­
(
ksi
) \

285 
ksigšfo_t
 *
kp
 = 
ksi
; \

286 
	`bz”o
(
kp
, (
ksigšfo_t
)); \

287 
kp
->
ksi_æags
 |ğ
KSI_TRAP
; \

288 } 0)

	)

290 
__šlše
 

291 
	$ksigšfo_cİy
(
ksigšfo_t
 *
¤c
, ksigšfo_ˆ*
d¡
)

293 (
d¡
)->
ksi_šfo
 = 
¤c
->ksi_info;

294 (
d¡
)->
ksi_æags
 = (
¤c
->ksi_æag & 
KSI_COPYMASK
);

295 
	}
}

297 
	gpg½
;

298 
	gth»ad
;

299 
	g´oc
;

300 
	gsigio
;

301 
	gmtx
;

303 
sugid_cÜedump
;

304 
mtx
 
sigio_lock
;

305 
k”n_logsigex™
;

311 
	#SIGIO_LOCK
(è
	`mtx_lock
(&
sigio_lock
)

	)

312 
	#SIGIO_TRYLOCK
(è
	`mtx_Œylock
(&
sigio_lock
)

	)

313 
	#SIGIO_UNLOCK
(è
	`mtx_uÆock
(&
sigio_lock
)

	)

314 
	#SIGIO_LOCKED
(è
	`mtx_owÃd
(&
sigio_lock
)

	)

315 
	#SIGIO_ASSERT
(
ty³
è
	`mtx_as£¹
(&
sigio_lock
,y³)

	)

318 
	#SIG_STOP_ALLOWED
 100

	)

319 
	#SIG_STOP_NOT_ALLOWED
 101

	)

322 
	#SIGPROCMASK_OLD
 0x0001

	)

323 
	#SIGPROCMASK_PROC_LOCKED
 0x0002

	)

324 
	#SIGPROCMASK_PS_LOCKED
 0x0004

	)

329 
cursig
(
th»ad
 *
td
, 
¡İ_®lowed
);

330 
execsigs
(
´oc
 *
p
);

331 
gsigÇl
(
pgid
, 
sig
, 
ksigšfo_t
 *
ksi
);

332 
kÍroc
(
´oc
 *
p
, *
why
);

333 
pksigÇl
(
´oc
 *
p
, 
sig
, 
ksigšfo_t
 *
ksi
);

334 
pgsigio
(
sigio
 **, 
signum
, 
checkùty
);

335 
pgsigÇl
(
pg½
 *pg½, 
sig
, 
checkùty
, 
ksigšfo_t
 *
ksi
);

336 
po¡sig
(
sig
);

337 
psigÇl
(
´oc
 *
p
, 
sig
);

338 
psigÇl_ev’t
(
´oc
 *
p
, 
sigev’t
 *, 
ksigšfo_t
 *);

339 
sigaùs
 *
sigaùs_®loc
();

340 
sigaùs_cİy
(
sigaùs
 *
de¡
, sigaù *
¤c
);

341 
sigaùs_ä“
(
sigaùs
 *
ps
);

342 
sigaùs
 *
sigaùs_hŞd
(sigaù *
ps
);

343 
sigaùs_sh¬ed
(
sigaùs
 *
ps
);

344 
	$sigex™
(
th»ad
 *
td
, 
signum
è
__d—d2
;

345 
	`sig_ffs
(
sig£t_t
 *
£t
);

346 
	`sigš™
(
´oc
 *
p
);

347 
	`signÙify
(
th»ad
 *
td
);

348 
	`tdksigÇl
(
th»ad
 *
td
, 
sig
, 
ksigšfo_t
 *
ksi
);

349 
	`tdsigş—nup
(
th»ad
 *
td
);

350 
	`tdsigÇl
(
´oc
 *
p
, 
th»ad
 *
td
, 
sig
,

351 
ksigšfo_t
 *
ksi
);

352 
	`Œ­sigÇl
(
th»ad
 *
td
, 
ksigšfo_t
 *);

353 
	`±¿û¡İ
(
th»ad
 *
td
, 
sig
);

354 
ksigšfo_t
 * 
	`ksigšfo_®loc
();

355 
	`ksigšfo_ä“
(
ksigšfo_t
 *);

356 
	`sigqueue_š™
(
sigqueue
 *
queue
, 
´oc
 *
p
);

357 
	`sigqueue_æush
(
sigqueue
 *
queue
);

358 
	`sigqueue_d–‘e_´oc
(
´oc
 *
p
, 
sig
);

359 
	`sigqueue_d–‘e
(
sigqueue
 *
queue
, 
sig
);

360 
	`sigqueue_ke
(
ksigšfo_t
 *
ksi
);

361 
	`k”n_sigtimedwa™
(
th»ad
 *, 
sig£t_t
,

362 
ksigšfo_t
 *, 
time¥ec
 *);

363 
	`k”n_sig´ocmask
(
th»ad
 *
td
, 
how
,

364 
sig£t_t
 *
£t
, sig£t_ˆ*
o£t
, 
æags
);

368 
	`£ndsig
(
sig_t
, 
ksigšfo_t
 *, 
sig£t_t
 *
»tmask
);

	@/usr/include/sys/sockio.h

33 #iâdeà
_SYS_SOCKIO_H_


34 
	#_SYS_SOCKIO_H_


	)

36 
	~<sys/ioccom.h
>

39 
	#SIOCSHIWAT
 
	`_IOW
('s', 0, è

	)

40 
	#SIOCGHIWAT
 
	`_IOR
('s', 1, è

	)

41 
	#SIOCSLOWAT
 
	`_IOW
('s', 2, è

	)

42 
	#SIOCGLOWAT
 
	`_IOR
('s', 3, è

	)

43 
	#SIOCATMARK
 
	`_IOR
('s', 7, è

	)

44 
	#SIOCSPGRP
 
	`_IOW
('s', 8, è

	)

45 
	#SIOCGPGRP
 
	`_IOR
('s', 9, è

	)

47 
	#SIOCADDRT
 
	`_IOW
('r', 10, 
Ü‹Áry
è

	)

48 
	#SIOCDELRT
 
	`_IOW
('r', 11, 
Ü‹Áry
è

	)

49 
	#SIOCGETVIFCNT
 
	`_IOWR
('r', 15, 
sioc_vif_»q
)

	)

50 
	#SIOCGETSGCNT
 
	`_IOWR
('r', 16, 
sioc_sg_»q
è

	)

52 
	#SIOCSIFADDR
 
	`_IOW
('i', 12, 
iäeq
è

	)

53 
	#OSIOCGIFADDR
 
	`_IOWR
('i', 13, 
iäeq
è

	)

54 
	#SIOCGIFADDR
 
	`_IOWR
('i', 33, 
iäeq
è

	)

55 
	#SIOCSIFDSTADDR
 
	`_IOW
('i', 14, 
iäeq
è

	)

56 
	#OSIOCGIFDSTADDR
 
	`_IOWR
('i', 15, 
iäeq
è

	)

57 
	#SIOCGIFDSTADDR
 
	`_IOWR
('i', 34, 
iäeq
è

	)

58 
	#SIOCSIFFLAGS
 
	`_IOW
('i', 16, 
iäeq
è

	)

59 
	#SIOCGIFFLAGS
 
	`_IOWR
('i', 17, 
iäeq
è

	)

60 
	#OSIOCGIFBRDADDR
 
	`_IOWR
('i', 18, 
iäeq
è

	)

61 
	#SIOCGIFBRDADDR
 
	`_IOWR
('i', 35, 
iäeq
è

	)

62 
	#SIOCSIFBRDADDR
 
	`_IOW
('i', 19, 
iäeq
è

	)

63 
	#OSIOCGIFCONF
 
	`_IOWR
('i', 20, 
ifcÚf
è

	)

64 
	#SIOCGIFCONF
 
	`_IOWR
('i', 36, 
ifcÚf
è

	)

65 
	#OSIOCGIFNETMASK
 
	`_IOWR
('i', 21, 
iäeq
è

	)

66 
	#SIOCGIFNETMASK
 
	`_IOWR
('i', 37, 
iäeq
è

	)

67 
	#SIOCSIFNETMASK
 
	`_IOW
('i', 22, 
iäeq
è

	)

68 
	#SIOCGIFMETRIC
 
	`_IOWR
('i', 23, 
iäeq
è

	)

69 
	#SIOCSIFMETRIC
 
	`_IOW
('i', 24, 
iäeq
è

	)

70 
	#SIOCDIFADDR
 
	`_IOW
('i', 25, 
iäeq
è

	)

71 
	#SIOCAIFADDR
 
	`_IOW
('i', 26, 
içlŸ¤eq
)

	)

73 
	#SIOCALIFADDR
 
	`_IOW
('i', 27, 
if_Ïdd¼eq
è

	)

74 
	#SIOCGLIFADDR
 
	`_IOWR
('i', 28, 
if_Ïdd¼eq
è

	)

75 
	#SIOCDLIFADDR
 
	`_IOW
('i', 29, 
if_Ïdd¼eq
è

	)

76 
	#SIOCSIFCAP
 
	`_IOW
('i', 30, 
iäeq
è

	)

77 
	#SIOCGIFCAP
 
	`_IOWR
('i', 31, 
iäeq
è

	)

78 
	#SIOCGIFINDEX
 
	`_IOWR
('i', 32, 
iäeq
è

	)

79 
	#SIOCGIFMAC
 
	`_IOWR
('i', 38, 
iäeq
è

	)

80 
	#SIOCSIFMAC
 
	`_IOW
('i', 39, 
iäeq
è

	)

81 
	#SIOCSIFNAME
 
	`_IOW
('i', 40, 
iäeq
è

	)

82 
	#SIOCSIFDESCR
 
	`_IOW
('i', 41, 
iäeq
è

	)

83 
	#SIOCGIFDESCR
 
	`_IOWR
('i', 42, 
iäeq
è

	)

85 
	#SIOCADDMULTI
 
	`_IOW
('i', 49, 
iäeq
è

	)

86 
	#SIOCDELMULTI
 
	`_IOW
('i', 50, 
iäeq
è

	)

87 
	#SIOCGIFMTU
 
	`_IOWR
('i', 51, 
iäeq
è

	)

88 
	#SIOCSIFMTU
 
	`_IOW
('i', 52, 
iäeq
è

	)

89 
	#SIOCGIFPHYS
 
	`_IOWR
('i', 53, 
iäeq
è

	)

90 
	#SIOCSIFPHYS
 
	`_IOW
('i', 54, 
iäeq
è

	)

91 
	#SIOCSIFMEDIA
 
	`_IOWR
('i', 55, 
iäeq
è

	)

92 
	#SIOCGIFMEDIA
 
	`_IOWR
('i', 56, 
ifmedŸ»q
è

	)

94 
	#SIOCSIFGENERIC
 
	`_IOW
('i', 57, 
iäeq
è

	)

95 
	#SIOCGIFGENERIC
 
	`_IOWR
('i', 58, 
iäeq
è

	)

97 
	#SIOCGIFSTATUS
 
	`_IOWR
('i', 59, 
if¡©
è

	)

98 
	#SIOCSIFLLADDR
 
	`_IOW
('i', 60, 
iäeq
è

	)

100 
	#SIOCSIFPHYADDR
 
	`_IOW
('i', 70, 
içlŸ¤eq
è

	)

101 
	#SIOCGIFPSRCADDR
 
	`_IOWR
('i', 71, 
iäeq
è

	)

102 
	#SIOCGIFPDSTADDR
 
	`_IOWR
('i', 72, 
iäeq
è

	)

103 
	#SIOCDIFPHYADDR
 
	`_IOW
('i', 73, 
iäeq
è

	)

104 
	#SIOCSLIFPHYADDR
 
	`_IOW
('i', 74, 
if_Ïdd¼eq
è

	)

105 
	#SIOCGLIFPHYADDR
 
	`_IOWR
('i', 75, 
if_Ïdd¼eq
è

	)

107 
	#SIOCGPRIVATE_0
 
	`_IOWR
('i', 80, 
iäeq
è

	)

108 
	#SIOCGPRIVATE_1
 
	`_IOWR
('i', 81, 
iäeq
è

	)

110 
	#SIOCSIFVNET
 
	`_IOWR
('i', 90, 
iäeq
è

	)

111 
	#SIOCSIFRVNET
 
	`_IOWR
('i', 91, 
iäeq
è

	)

113 
	#SIOCGIFFIB
 
	`_IOWR
('i', 92, 
iäeq
è

	)

114 
	#SIOCSIFFIB
 
	`_IOW
('i', 93, 
iäeq
è

	)

116 
	#SIOCSDRVSPEC
 
	`_IOW
('i', 123, 
ifdrv
è

	)

118 
	#SIOCGDRVSPEC
 
	`_IOWR
('i', 123, 
ifdrv
è

	)

121 
	#SIOCIFCREATE
 
	`_IOWR
('i', 122, 
iäeq
è

	)

122 
	#SIOCIFCREATE2
 
	`_IOWR
('i', 124, 
iäeq
è

	)

123 
	#SIOCIFDESTROY
 
	`_IOW
('i', 121, 
iäeq
è

	)

124 
	#SIOCIFGCLONERS
 
	`_IOWR
('i', 120, 
if_şÚ”eq
è

	)

126 
	#SIOCAIFGROUP
 
	`_IOW
('i', 135, 
ifgrou´eq
è

	)

127 
	#SIOCGIFGROUP
 
	`_IOWR
('i', 136, 
ifgrou´eq
è

	)

128 
	#SIOCDIFGROUP
 
	`_IOW
('i', 137, 
ifgrou´eq
è

	)

129 
	#SIOCGIFGMEMB
 
	`_IOWR
('i', 138, 
ifgrou´eq
è

	)

	@/usr/include/sys/stdint.h

29 #iâdeà
_SYS_STDINT_H_


30 
	#_SYS_STDINT_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_ty³s.h
>

35 
	~<machše/_¡dšt.h
>

37 #iâdeà
_INT8_T_DECLARED


38 
__št8_t
 
	tšt8_t
;

39 
	#_INT8_T_DECLARED


	)

42 #iâdeà
_INT16_T_DECLARED


43 
__št16_t
 
	tšt16_t
;

44 
	#_INT16_T_DECLARED


	)

47 #iâdeà
_INT32_T_DECLARED


48 
__št32_t
 
	tšt32_t
;

49 
	#_INT32_T_DECLARED


	)

52 #iâdeà
_INT64_T_DECLARED


53 
__št64_t
 
	tšt64_t
;

54 
	#_INT64_T_DECLARED


	)

57 #iâdeà
_UINT8_T_DECLARED


58 
__ušt8_t
 
	tušt8_t
;

59 
	#_UINT8_T_DECLARED


	)

62 #iâdeà
_UINT16_T_DECLARED


63 
__ušt16_t
 
	tušt16_t
;

64 
	#_UINT16_T_DECLARED


	)

67 #iâdeà
_UINT32_T_DECLARED


68 
__ušt32_t
 
	tušt32_t
;

69 
	#_UINT32_T_DECLARED


	)

72 #iâdeà
_UINT64_T_DECLARED


73 
__ušt64_t
 
	tušt64_t
;

74 
	#_UINT64_T_DECLARED


	)

77 
__št_Ëa¡8_t
 
	tšt_Ëa¡8_t
;

78 
__št_Ëa¡16_t
 
	tšt_Ëa¡16_t
;

79 
__št_Ëa¡32_t
 
	tšt_Ëa¡32_t
;

80 
__št_Ëa¡64_t
 
	tšt_Ëa¡64_t
;

82 
__ušt_Ëa¡8_t
 
	tušt_Ëa¡8_t
;

83 
__ušt_Ëa¡16_t
 
	tušt_Ëa¡16_t
;

84 
__ušt_Ëa¡32_t
 
	tušt_Ëa¡32_t
;

85 
__ušt_Ëa¡64_t
 
	tušt_Ëa¡64_t
;

87 
__št_ç¡8_t
 
	tšt_ç¡8_t
;

88 
__št_ç¡16_t
 
	tšt_ç¡16_t
;

89 
__št_ç¡32_t
 
	tšt_ç¡32_t
;

90 
__št_ç¡64_t
 
	tšt_ç¡64_t
;

92 
__ušt_ç¡8_t
 
	tušt_ç¡8_t
;

93 
__ušt_ç¡16_t
 
	tušt_ç¡16_t
;

94 
__ušt_ç¡32_t
 
	tušt_ç¡32_t
;

95 
__ušt_ç¡64_t
 
	tušt_ç¡64_t
;

97 
__štmax_t
 
	tštmax_t
;

98 
__uštmax_t
 
	tuštmax_t
;

100 #iâdeà
_INTPTR_T_DECLARED


101 
__šŒ_t
 
	tšŒ_t
;

102 
__ušŒ_t
 
	tušŒ_t
;

103 
	#_INTPTR_T_DECLARED


	)

	@/usr/include/sys/syslimits.h

33 #iâdeà
_SYS_SYSLIMITS_H_


34 
	#_SYS_SYSLIMITS_H_


	)

36 #ià!
defšed
(
_KERNEL
è&& !defšed(
_LIMITS_H_
è&& !defšed(
_SYS_PARAM_H_
)

37 #iâdeà
_SYS_CDEFS_H_


38 #”rÜ 
this
 
fe
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


40 #ifdeà
__CC_SUPPORTS_WARNING


49 
	#ARG_MAX
 262144

	)

50 #iâdeà
CHILD_MAX


51 
	#CHILD_MAX
 40

	)

53 
	#LINK_MAX
 32767

	)

54 
	#MAX_CANON
 255

	)

55 
	#MAX_INPUT
 255

	)

56 
	#NAME_MAX
 255

	)

57 #iâdeà
NGROUPS_MAX


58 
	#NGROUPS_MAX
 1023

	)

60 #iâdeà
OPEN_MAX


61 
	#OPEN_MAX
 64

	)

63 
	#PATH_MAX
 1024

	)

64 
	#PIPE_BUF
 512

	)

65 
	#IOV_MAX
 1024

	)

	@/usr/include/sys/timespec.h

38 #iâdeà
_SYS_TIMESPEC_H_


39 
	#_SYS_TIMESPEC_H_


	)

41 #iâdeà
_TIME_T_DECLARED


42 
__time_t
 
	ttime_t
;

43 
	#_TIME_T_DECLARED


	)

46 
	stime¥ec
 {

47 
time_t
 
	mtv_£c
;

48 
	mtv_n£c
;

51 #ià
__BSD_VISIBLE


52 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) \

54 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

55 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

56 } 0)

	)

57 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) \

59 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

60 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

61 } 0)

	)

69 
	s™im”¥ec
 {

70 
time¥ec
 
	m™_š‹rv®
;

71 
time¥ec
 
	m™_v®ue
;

	@/usr/include/sys/ttycom.h

38 #iâdef 
_SYS_TTYCOM_H_


39 
	#_SYS_TTYCOM_H_


	)

41 
	~<sys/ioccom.h
>

52 
	swšsize
 {

53 
	mws_row
;

54 
	mws_cŞ
;

55 
	mws_xpix–
;

56 
	mws_ypix–
;

64 
	#TIOCEXCL
 
	`_IO
('t', 13è

	)

65 
	#TIOCNXCL
 
	`_IO
('t', 14è

	)

66 
	#TIOCGPTN
 
	`_IOR
('t', 15, è

	)

67 
	#TIOCFLUSH
 
	`_IOW
('t', 16, è

	)

69 
	#TIOCGETA
 
	`_IOR
('t', 19, 
‹rmios
è

	)

70 
	#TIOCSETA
 
	`_IOW
('t', 20, 
‹rmios
è

	)

71 
	#TIOCSETAW
 
	`_IOW
('t', 21, 
‹rmios
è

	)

72 
	#TIOCSETAF
 
	`_IOW
('t', 22, 
‹rmios
è

	)

74 
	#TIOCGETD
 
	`_IOR
('t', 26, è

	)

75 
	#TIOCSETD
 
	`_IOW
('t', 27, è

	)

76 
	#TIOCPTMASTER
 
	`_IO
('t', 28è

	)

79 
	#TIOCGDRAINWAIT
 
	`_IOR
('t', 86, è

	)

80 
	#TIOCSDRAINWAIT
 
	`_IOW
('t', 87, è

	)

82 
	#TIOCTIMESTAMP
 
	`_IOR
('t', 89, 
timev®
è

	)

85 
	#TIOCMGDTRWAIT
 
	`_IOR
('t', 90, è

	)

86 
	#TIOCMSDTRWAIT
 
	`_IOW
('t', 91, è

	)

88 
	#TIOCDRAIN
 
	`_IO
('t', 94è

	)

89 
	#TIOCSIG
 
	`_IOWINT
('t', 95è

	)

90 
	#TIOCEXT
 
	`_IOW
('t', 96, è

	)

92 
	#TIOCSCTTY
 
	`_IO
('t', 97è

	)

93 
	#TIOCCONS
 
	`_IOW
('t', 98, è

	)

94 
	#TIOCGSID
 
	`_IOR
('t', 99, è

	)

96 
	#TIOCSTAT
 
	`_IO
('t', 101è

	)

97 
	#TIOCUCNTL
 
	`_IOW
('t', 102, è

	)

98 
	#UIOCCMD
(
n
è
	`_IO
('u',‚è

	)

99 
	#TIOCSWINSZ
 
	`_IOW
('t', 103, 
wšsize
è

	)

100 
	#TIOCGWINSZ
 
	`_IOR
('t', 104, 
wšsize
è

	)

101 
	#TIOCMGET
 
	`_IOR
('t', 106, è

	)

102 
	#TIOCM_LE
 0001

	)

103 
	#TIOCM_DTR
 0002

	)

104 
	#TIOCM_RTS
 0004

	)

105 
	#TIOCM_ST
 0010

	)

106 
	#TIOCM_SR
 0020

	)

107 
	#TIOCM_CTS
 0040

	)

108 
	#TIOCM_DCD
 0100

	)

109 
	#TIOCM_RI
 0200

	)

110 
	#TIOCM_DSR
 0400

	)

111 
	#TIOCM_CD
 
TIOCM_DCD


	)

112 
	#TIOCM_CAR
 
TIOCM_DCD


	)

113 
	#TIOCM_RNG
 
TIOCM_RI


	)

114 
	#TIOCMBIC
 
	`_IOW
('t', 107, è

	)

115 
	#TIOCMBIS
 
	`_IOW
('t', 108, è

	)

116 
	#TIOCMSET
 
	`_IOW
('t', 109, è

	)

117 
	#TIOCSTART
 
	`_IO
('t', 110è

	)

118 
	#TIOCSTOP
 
	`_IO
('t', 111è

	)

119 
	#TIOCPKT
 
	`_IOW
('t', 112, è

	)

120 
	#TIOCPKT_DATA
 0x00

	)

121 
	#TIOCPKT_FLUSHREAD
 0x01

	)

122 
	#TIOCPKT_FLUSHWRITE
 0x02

	)

123 
	#TIOCPKT_STOP
 0x04

	)

124 
	#TIOCPKT_START
 0x08

	)

125 
	#TIOCPKT_NOSTOP
 0x10

	)

126 
	#TIOCPKT_DOSTOP
 0x20

	)

127 
	#TIOCPKT_IOCTL
 0x40

	)

128 
	#TIOCNOTTY
 
	`_IO
('t', 113è

	)

129 
	#TIOCSTI
 
	`_IOW
('t', 114, è

	)

130 
	#TIOCOUTQ
 
	`_IOR
('t', 115, è

	)

132 
	#TIOCSPGRP
 
	`_IOW
('t', 118, è

	)

133 
	#TIOCGPGRP
 
	`_IOR
('t', 119, è

	)

134 
	#TIOCCDTR
 
	`_IO
('t', 120è

	)

135 
	#TIOCSDTR
 
	`_IO
('t', 121è

	)

136 
	#TIOCCBRK
 
	`_IO
('t', 122è

	)

137 
	#TIOCSBRK
 
	`_IO
('t', 123è

	)

140 
	#TTYDISC
 0

	)

141 
	#SLIPDISC
 4

	)

142 
	#PPPDISC
 5

	)

143 
	#NETGRAPHDISC
 6

	)

144 
	#H4DISC
 7

	)

	@/usr/include/sys/ttydefaults.h

41 #iâdeà
_SYS_TTYDEFAULTS_H_


42 
	#_SYS_TTYDEFAULTS_H_


	)

47 
	#TTYDEF_IFLAG
 (
BRKINT
 | 
ICRNL
 | 
IMAXBEL
 | 
IXON
 | 
IXANY
)

	)

48 
	#TTYDEF_OFLAG
 (
OPOST
 | 
ONLCR
)

	)

49 
	#TTYDEF_LFLAG_NOECHO
 (
ICANON
 | 
ISIG
 | 
IEXTEN
)

	)

50 
	#TTYDEF_LFLAG_ECHO
 (
TTYDEF_LFLAG_NOECHO
 \

51 | 
ECHO
 | 
ECHOE
 | 
ECHOKE
 | 
ECHOCTL
)

	)

52 
	#TTYDEF_LFLAG
 
TTYDEF_LFLAG_ECHO


	)

53 
	#TTYDEF_CFLAG
 (
CREAD
 | 
CS8
 | 
HUPCL
)

	)

54 
	#TTYDEF_SPEED
 (
B9600
)

	)

65 
	#CTRL
(
x
) ((x) >= 'a' && (x) <= 'z' ? \

66 ((
x
è- 'a' + 1è: (((xè- 'A' + 1è& 0x7f))

	)

67 
	#CEOF
 
	`CTRL
('D')

	)

68 
	#CEOL
 0xfà

	)

69 
	#CERASE
 
	`CTRL
('?')

	)

70 
	#CERASE2
 
	`CTRL
('H')

	)

71 
	#CINTR
 
	`CTRL
('C')

	)

72 
	#CSTATUS
 
	`CTRL
('T')

	)

73 
	#CKILL
 
	`CTRL
('U')

	)

74 
	#CMIN
 1

	)

75 
	#CQUIT
 
	`CTRL
('\\')

	)

76 
	#CSUSP
 
	`CTRL
('Z')

	)

77 
	#CTIME
 0

	)

78 
	#CDSUSP
 
	`CTRL
('Y')

	)

79 
	#CSTART
 
	`CTRL
('Q')

	)

80 
	#CSTOP
 
	`CTRL
('S')

	)

81 
	#CLNEXT
 
	`CTRL
('V')

	)

82 
	#CDISCARD
 
	`CTRL
('O')

	)

83 
	#CWERASE
 
	`CTRL
('W')

	)

84 
	#CREPRINT
 
	`CTRL
('R')

	)

85 
	#CEOT
 
CEOF


	)

87 
	#CBRK
 
CEOL


	)

88 
	#CRPRNT
 
CREPRINT


	)

89 
	#CFLUSH
 
CDISCARD


	)

97 #ifdeà
TTYDEFCHARS


98 
cc_t
 
	g‰ydefch¬s
[
NCCS
] = {

99 
CEOF
, 
CEOL
, CEOL, 
CERASE
, 
CWERASE
, 
CKILL
, 
CREPRINT
,

100 
CERASE2
, 
CINTR
, 
CQUIT
, 
CSUSP
, 
CDSUSP
, 
CSTART
, 
CSTOP
, 
CLNEXT
,

101 
CDISCARD
, 
CMIN
, 
CTIME
, 
CSTATUS
, 
_POSIX_VDISABLE


103 #undeà
TTYDEFCHARS


	@/usr/include/sys/ucontext.h

31 #iâdeà
_SYS_UCONTEXT_H_


32 
	#_SYS_UCONTEXT_H_


	)

34 
	~<sys/sigÇl.h
>

35 
	~<machše/ucÚ‹xt.h
>

37 
	s__ucÚ‹xt
 {

46 
sig£t_t
 
	muc_sigmask
;

47 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

49 
__ucÚ‹xt
 *
	muc_lšk
;

50 
¡ack_t
 
	muc_¡ack
;

51 
	muc_æags
;

52 
	#UCF_SWAPPED
 0x00000001

	)

53 
	m__¥¬e__
[4];

54 } 
	tucÚ‹xt_t
;

56 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_FREEBSD4
)

57 #ià
defšed
(
__i386__
)

58 
	sucÚ‹xt4
 {

59 
sig£t_t
 
	muc_sigmask
;

60 
mcÚ‹xt4
 
	muc_mcÚ‹xt
;

61 
ucÚ‹xt4
 *
	muc_lšk
;

62 
¡ack_t
 
	muc_¡ack
;

63 
	m__¥¬e__
[8];

66 
	#ucÚ‹xt4
 
ucÚ‹xt


	)

70 #iâdeà
_KERNEL


72 
__BEGIN_DECLS


74 
g‘cÚ‹xt
(
ucÚ‹xt_t
 *);

75 
£tcÚ‹xt
(cÚ¡ 
ucÚ‹xt_t
 *);

76 
makecÚ‹xt
(
ucÚ‹xt_t
 *, (*)(), , ...);

77 
	`sigÇlcÚ‹xt
(
ucÚ‹xt_t
 *, , 
__sighªdËr_t
 *);

78 
	`sw­cÚ‹xt
(
ucÚ‹xt_t
 *, const ucontext_t *);

80 
__END_DECLS


84 
th»ad
;

91 
	#GET_MC_CLEAR_RET
 1

	)

94 
	`g‘_mcÚ‹xt
(
th»ad
 *, 
mcÚ‹xt_t
 *, );

95 
	`£t_mcÚ‹xt
(
th»ad
 *, cÚ¡ 
mcÚ‹xt_t
 *);

	@/usr/include/sys/ucred.h

33 #iâdeà
_SYS_UCRED_H_


34 
	#_SYS_UCRED_H_


	)

36 
	~<bsm/aud™.h
>

44 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_UCRED
)

45 
	suüed
 {

46 
u_št
 
	mü_»f
;

47 
	#ü_¡¬tcİy
 
ü_uid


	)

48 
uid_t
 
	mü_uid
;

49 
uid_t
 
	mü_ruid
;

50 
uid_t
 
	mü_svuid
;

51 
	mü_ngroups
;

52 
gid_t
 
	mü_rgid
;

53 
gid_t
 
	mü_svgid
;

54 
uidšfo
 *
	mü_uidšfo
;

55 
uidšfo
 *
	mü_ruidšfo
;

56 
´isÚ
 *
	mü_´isÚ
;

57 *
	mü_p¥¬e
;

58 
u_št
 
	mü_æags
;

59 *
	mü_p¥¬e2
[2];

60 
	#ü_’dcİy
 
ü_Ïb–


	)

61 
Ïb–
 *
	mü_Ïb–
;

62 
aud™šfo_addr
 
	mü_aud™
;

63 
gid_t
 *
	mü_groups
;

64 
	mü_agroups
;

66 
	#NOCRED
 ((
uüed
 *)0è

	)

67 
	#FSCRED
 ((
uüed
 *)-1è

	)

70 
	#XU_NGROUPS
 16

	)

75 
	sxuüed
 {

76 
u_št
 
	mü_v”siÚ
;

77 
uid_t
 
	mü_uid
;

78 
	mü_ngroups
;

79 
gid_t
 
	mü_groups
[
XU_NGROUPS
];

80 *
	m_ü_unu£d1
;

82 
	#XUCRED_VERSION
 0

	)

85 
	#ü_gid
 
ü_groups
[0]

	)

87 #ifdeà
_KERNEL


88 
	g´oc
;

89 
	gth»ad
;

91 
chªge_egid
(
uüed
 *
Ãwüed
, 
gid_t
 
egid
);

92 
chªge_euid
(
uüed
 *
Ãwüed
, 
uidšfo
 *
eu
);

93 
chªge_rgid
(
uüed
 *
Ãwüed
, 
gid_t
 
rgid
);

94 
chªge_ruid
(
uüed
 *
Ãwüed
, 
uidšfo
 *
ru
);

95 
chªge_svgid
(
uüed
 *
Ãwüed
, 
gid_t
 
svgid
);

96 
chªge_svuid
(
uüed
 *
Ãwüed
, 
uid_t
 
svuid
);

97 
ücİy
(
uüed
 *
de¡
, uüed *
¤c
);

98 
uüed
 *
ücİy§ã
(
´oc
 *
p
, uüed *
ü
);

99 
uüed
 *
üdup
(uüed *
ü
);

100 
üed_upd©e_th»ad
(
th»ad
 *
td
);

101 
üä“
(
uüed
 *
ü
);

102 
uüed
 *
üg‘
();

103 
uüed
 *
ühŞd
(uüed *
ü
);

104 
üsh¬ed
(
uüed
 *
ü
);

105 
üu2x
(
uüed
 *
ü
, 
xuüed
 *
xü
);

106 
ü£tgroups
(
uüed
 *
ü
, 
n
, 
gid_t
 *
groups
);

107 
groupmemb”
(
gid_t
 
gid
, 
uüed
 *
üed
);

	@/usr/include/sys/unistd.h

33 #iâdeà
_SYS_UNISTD_H_


34 
	#_SYS_UNISTD_H_


	)

36 
	~<sys/cdefs.h
>

52 
	#_POSIX_ADVISORY_INFO
 200112L

	)

53 
	#_POSIX_ASYNCHRONOUS_IO
 0

	)

54 
	#_POSIX_CHOWN_RESTRICTED
 1

	)

55 
	#_POSIX_CLOCK_SELECTION
 -1

	)

56 
	#_POSIX_CPUTIME
 -1

	)

57 
	#_POSIX_FSYNC
 200112L

	)

58 
	#_POSIX_IPV6
 0

	)

59 
	#_POSIX_JOB_CONTROL
 1

	)

60 
	#_POSIX_MAPPED_FILES
 200112L

	)

61 
	#_POSIX_MEMLOCK
 -1

	)

62 
	#_POSIX_MEMLOCK_RANGE
 200112L

	)

63 
	#_POSIX_MEMORY_PROTECTION
 200112L

	)

64 
	#_POSIX_MESSAGE_PASSING
 200112L

	)

65 
	#_POSIX_MONOTONIC_CLOCK
 200112L

	)

66 
	#_POSIX_NO_TRUNC
 1

	)

67 
	#_POSIX_PRIORITIZED_IO
 -1

	)

68 
	#_POSIX_PRIORITY_SCHEDULING
 200112L

	)

69 
	#_POSIX_RAW_SOCKETS
 200112L

	)

70 
	#_POSIX_REALTIME_SIGNALS
 200112L

	)

71 
	#_POSIX_SEMAPHORES
 -1

	)

72 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200112L

	)

73 
	#_POSIX_SPORADIC_SERVER
 -1

	)

74 
	#_POSIX_SYNCHRONIZED_IO
 -1

	)

75 
	#_POSIX_TIMEOUTS
 200112L

	)

76 
	#_POSIX_TIMERS
 200112L

	)

77 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

78 
	#_POSIX_VDISABLE
 0xff

	)

80 #ià
__XSI_VISIBLE


81 
	#_XOPEN_SHM
 1

	)

82 
	#_XOPEN_STREAMS
 -1

	)

92 #ifdef 
_NOT_AVAILABLE


93 
	#_POSIX_SAVED_IDS
 1

	)

97 
	#_POSIX_VERSION
 200112L

	)

100 
	#F_OK
 0

	)

101 
	#X_OK
 0x01

	)

102 
	#W_OK
 0x02

	)

103 
	#R_OK
 0x04

	)

106 #iâdeà
SEEK_SET


107 
	#SEEK_SET
 0

	)

108 
	#SEEK_CUR
 1

	)

109 
	#SEEK_END
 2

	)

111 #ià
__BSD_VISIBLE


112 
	#SEEK_DATA
 3

	)

113 
	#SEEK_HOLE
 4

	)

116 #iâdeà
_POSIX_SOURCE


118 
	#L_SET
 
SEEK_SET


	)

119 
	#L_INCR
 
SEEK_CUR


	)

120 
	#L_XTND
 
SEEK_END


	)

124 
	#_PC_LINK_MAX
 1

	)

125 
	#_PC_MAX_CANON
 2

	)

126 
	#_PC_MAX_INPUT
 3

	)

127 
	#_PC_NAME_MAX
 4

	)

128 
	#_PC_PATH_MAX
 5

	)

129 
	#_PC_PIPE_BUF
 6

	)

130 
	#_PC_CHOWN_RESTRICTED
 7

	)

131 
	#_PC_NO_TRUNC
 8

	)

132 
	#_PC_VDISABLE
 9

	)

134 #ià
__POSIX_VISIBLE
 >= 199309

135 
	#_PC_ASYNC_IO
 53

	)

136 
	#_PC_PRIO_IO
 54

	)

137 
	#_PC_SYNC_IO
 55

	)

140 #ià
__POSIX_VISIBLE
 >= 200112

141 
	#_PC_ALLOC_SIZE_MIN
 10

	)

142 
	#_PC_FILESIZEBITS
 12

	)

143 
	#_PC_REC_INCR_XFER_SIZE
 14

	)

144 
	#_PC_REC_MAX_XFER_SIZE
 15

	)

145 
	#_PC_REC_MIN_XFER_SIZE
 16

	)

146 
	#_PC_REC_XFER_ALIGN
 17

	)

147 
	#_PC_SYMLINK_MAX
 18

	)

150 #ià
__BSD_VISIBLE


151 
	#_PC_ACL_EXTENDED
 59

	)

152 
	#_PC_ACL_PATH_MAX
 60

	)

153 
	#_PC_CAP_PRESENT
 61

	)

154 
	#_PC_INF_PRESENT
 62

	)

155 
	#_PC_MAC_PRESENT
 63

	)

156 
	#_PC_ACL_NFS4
 64

	)

160 
	#_PC_MIN_HOLE_SIZE
 21

	)

162 #ià
__BSD_VISIBLE


168 
	#RFNAMEG
 (1<<0è

	)

169 
	#RFENVG
 (1<<1è

	)

170 
	#RFFDG
 (1<<2è

	)

171 
	#RFNOTEG
 (1<<3è

	)

172 
	#RFPROC
 (1<<4è

	)

173 
	#RFMEM
 (1<<5è

	)

174 
	#RFNOWAIT
 (1<<6è

	)

175 
	#RFCNAMEG
 (1<<10è

	)

176 
	#RFCENVG
 (1<<11è

	)

177 
	#RFCFDG
 (1<<12è

	)

178 
	#RFTHREAD
 (1<<13è

	)

179 
	#RFSIGSHARE
 (1<<14è

	)

180 
	#RFLINUXTHPN
 (1<<16è

	)

181 
	#RFSTOPPED
 (1<<17è

	)

182 
	#RFHIGHPID
 (1<<18è

	)

183 
	#RFTSIGZMB
 (1<<19è

	)

184 
	#RFTSIGSHIFT
 20

	)

185 
	#RFTSIGMASK
 0xFF

	)

186 
	#RFTSIGNUM
(
æags
è(((æagsè>> 
RFTSIGSHIFT
è& 
RFTSIGMASK
)

	)

187 
	#RFTSIGFLAGS
(
signum
è((signumè<< 
RFTSIGSHIFT
)

	)

188 
	#RFPPWAIT
 (1<<31è

	)

189 
	#RFKERNELONLY
 (
RFSTOPPED
 | 
RFHIGHPID
 | 
RFPPWAIT
)

	)

190 
	#RFFLAGS
 (
RFFDG
 | 
RFPROC
 | 
RFMEM
 | 
RFNOWAIT
 | 
RFCFDG
 | \

191 
RFTHREAD
 | 
RFSIGSHARE
 | 
RFLINUXTHPN
 | 
RFSTOPPED
 | 
RFHIGHPID
 | 
RFTSIGZMB
 | \

192 
RFPPWAIT
)

	)

	@/usr/include/sys/uuid.h

29 #iâdeà
_SYS_UUID_H_


30 
	#_SYS_UUID_H_


	)

32 
	~<sys/cdefs.h
>

35 
	#_UUID_NODE_LEN
 6

	)

44 
	suuid
 {

45 
ušt32_t
 
	mtime_low
;

46 
ušt16_t
 
	mtime_mid
;

47 
ušt16_t
 
	mtime_hi_ªd_v”siÚ
;

48 
ušt8_t
 
	mşock_£q_hi_ªd_»£rved
;

49 
ušt8_t
 
	mşock_£q_low
;

50 
ušt8_t
 
	mnode
[
_UUID_NODE_LEN
];

53 #ifdeà
_KERNEL


55 
	#UUID_NODE_LEN
 
_UUID_NODE_LEN


	)

57 
	gsbuf
;

59 
uuid
 *
k”n_uuidg’
(uuid *, 
size_t
);

61 
¢´štf_uuid
(*, 
size_t
, 
uuid
 *);

62 
´štf_uuid
(
uuid
 *);

63 
sbuf_´štf_uuid
(
sbuf
 *, 
uuid
 *);

64 
·r£_uuid
(cÚ¡ *, 
uuid
 *);

66 
be_uuid_dec
(cÚ¡ *
buf
, 
uuid
 *uuid);

67 
be_uuid_’c
(*
buf
, 
uuid
 const *uuid);

68 
Ë_uuid_dec
(cÚ¡ *
buf
, 
uuid
 *uuid);

69 
Ë_uuid_’c
(*
buf
, 
uuid
 const *uuid);

74 
uuid
 
	tuuid_t
;

76 
__BEGIN_DECLS


77 
uuidg’
(
uuid
 *, );

78 
	g__END_DECLS


	@/usr/include/vm/pmap.h

68 #iâdef 
_PMAP_VM_


69 
	#_PMAP_VM_


	)

76 
	spm­_¡©i¡ics
 {

77 
	m»sid’t_couÁ
;

78 
	mwœed_couÁ
;

80 
pm­_¡©i¡ics
 *
	tpm­_¡©i¡ics_t
;

89 
	~<machše/pm­.h
>

91 #ifdeà
_KERNEL


92 
	gth»ad
;

97 
vm_off£t_t
 
k”Ãl_vm_’d
;

99 
pm­_®ign_su³½age
(
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
 *,

100 
vm_size_t
);

101 #ià
defšed
(
__ms__
)

102 
pm­_®ign_b
(
vm_off£t_t
 *);

104 
pm­_chªge_wœšg
(
pm­_t
, 
vm_off£t_t
, 
boŞ—n_t
);

105 
pm­_ş—r_modify
(
vm_·ge_t
 
m
);

106 
pm­_ş—r_»ã»nû
(
vm_·ge_t
 
m
);

107 
pm­_cİy
(
pm­_t
,…m­_t, 
vm_off£t_t
, 
vm_size_t
, vm_offset_t);

108 
pm­_cİy_·ge
(
vm_·ge_t
, vm_page_t);

109 
pm­_’‹r
(
pm­_t
, 
vm_off£t_t
, 
vm_´Ù_t
, 
vm_·ge_t
,

110 
vm_´Ù_t
, 
boŞ—n_t
);

111 
pm­_’‹r_quick
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
vm_·ge_t
 
m
,

112 
vm_´Ù_t
 
´Ù
);

113 
pm­_’‹r_objeù
(
pm­_t
 
pm­
, 
vm_off£t_t
 
¡¬t
,

114 
vm_off£t_t
 
’d
, 
vm_·ge_t
 
m_¡¬t
, 
vm_´Ù_t
 
´Ù
);

115 
vm_·ddr_t
 
pm­_exŒaù
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
);

116 
vm_·ge_t
 
pm­_exŒaù_ªd_hŞd
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
,

117 
vm_´Ù_t
 
´Ù
);

118 
pm­_growk”Ãl
(
vm_off£t_t
);

119 
pm­_š™
();

120 
boŞ—n_t
 
pm­_is_modif›d
(
vm_·ge_t
 
m
);

121 
boŞ—n_t
 
pm­_is_´eçuÉabË
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
);

122 
boŞ—n_t
 
pm­_ts_»ã»nûd
(
vm_·ge_t
 
m
);

123 
vm_off£t_t
 
pm­_m­
(vm_off£t_ˆ*, 
vm_·ddr_t
, vm_paddr_t, );

124 
pm­_objeù_š™_±
(
pm­_t
 
pm­
, 
vm_off£t_t
 
addr
,

125 
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pšdex
, 
vm_size_t
 
size
);

126 
boŞ—n_t
 
pm­_·ge_exi¡s_quick
(
pm­_t
 
pm­
, 
vm_·ge_t
 
m
);

127 
pm­_·ge_š™
(
vm_·ge_t
 
m
);

128 
pm­_·ge_wœed_m­pšgs
(
vm_·ge_t
 
m
);

129 
pm­_pš™
(
pm­_t
);

130 
pm­_pš™0
(
pm­_t
);

131 
pm­_´Ùeù
(
pm­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
);

132 
pm­_q’‹r
(
vm_off£t_t
, 
vm_·ge_t
 *, );

133 
pm­_q»move
(
vm_off£t_t
, );

134 
pm­_»Ëa£
(
pm­_t
);

135 
pm­_»move
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

136 
pm­_»move_®l
(
vm_·ge_t
 
m
);

137 
pm­_»move_·ges
(
pm­_t
);

138 
pm­_»move_wr™e
(
vm_·ge_t
 
m
);

139 
pm­_sync_iÿche
(
pm­_t
, 
vm_off£t_t
, 
vm_size_t
);

140 
pm­_z”o_·ge
(
vm_·ge_t
);

141 
pm­_z”o_·ge_¬—
(
vm_·ge_t
, 
off
, 
size
);

142 
pm­_z”o_·ge_idË
(
vm_·ge_t
);

143 
pm­_mšcÜe
(
pm­_t
 
pm­
, 
vm_off£t_t
 
addr
);

144 
pm­_aùiv©e
(
th»ad
 *
td
);

146 
	#pm­_»sid’t_couÁ
(
pm
è(Õm)->
pm_¡©s
.
»sid’t_couÁ
)

	)

147 
	#pm­_wœed_couÁ
(
pm
è(Õm)->
pm_¡©s
.
wœed_couÁ
)

	)

	@/usr/include/vm/uma.h

36 #iâdeà
VM_UMA_H


37 
	#VM_UMA_H


	)

39 
	~<sys/·¿m.h
>

40 
	~<sys/m®loc.h
>

43 
	#UMA_SMALLEST_UNIT
 (
PAGE_SIZE
 / 256è

	)

47 
	guma_zÚe
;

49 
uma_zÚe
 * 
	tuma_zÚe_t
;

51 
zÚe_d¿š
(
uma_zÚe_t
);

70 (*
	tuma_ùÜ
)(*
	tmem
, 
	tsize
, *
	t¬g
, 
	tæags
);

88 (*
	tuma_dtÜ
)(*
	tmem
, 
	tsize
, *
	t¬g
);

107 (*
	tuma_š™
)(*
	tmem
, 
	tsize
, 
	tæags
);

124 (*
	tuma_fši
)(*
	tmem
, 
	tsize
);

168 
uma_zÚe_t
 
	`uma_zü—‹
(*
Çme
, 
size_t
 
size
, 
uma_ùÜ
 
ùÜ
, 
uma_dtÜ
 
dtÜ
,

169 
uma_š™
 
umš™
, 
uma_fši
 
fši
, 
®ign
,

170 
u_št32_t
 
æags
);

204 
uma_zÚe_t
 
	`uma_z£cÚd_ü—‹
(*
Çme
, 
uma_ùÜ
 
ùÜ
, 
uma_dtÜ
 
dtÜ
,

205 
uma_š™
 
zš™
, 
uma_fši
 
zfši
, 
uma_zÚe_t
 
ma¡”
);

216 
	`uma_z£cÚd_add
(
uma_zÚe_t
 
zÚe
, uma_zÚe_ˆ
ma¡”
);

224 
	#UMA_ZONE_PAGEABLE
 0x0001

	)

226 
	#UMA_ZONE_ZINIT
 0x0002

	)

227 
	#UMA_ZONE_STATIC
 0x0004

	)

228 
	#UMA_ZONE_OFFPAGE
 0x0008

	)

230 
	#UMA_ZONE_MALLOC
 0x0010

	)

231 
	#UMA_ZONE_NOFREE
 0x0020

	)

232 
	#UMA_ZONE_MTXCLASS
 0x0040

	)

233 
	#UMA_ZONE_VM
 0x0080

	)

237 
	#UMA_ZONE_HASH
 0x0100

	)

241 
	#UMA_ZONE_SECONDARY
 0x0200

	)

242 
	#UMA_ZONE_REFCNT
 0x0400

	)

243 
	#UMA_ZONE_MAXBUCKET
 0x0800

	)

244 
	#UMA_ZONE_CACHESPREAD
 0x1000

	)

250 
	#UMA_ZONE_VTOSLAB
 0x2000

	)

257 
	#UMA_ZONE_INHERIT
 \

258 (
UMA_ZONE_OFFPAGE
 | 
UMA_ZONE_MALLOC
 | 
UMA_ZONE_HASH
 | \

259 
UMA_ZONE_REFCNT
 | 
UMA_ZONE_VTOSLAB
)

	)

262 
	#UMA_ALIGN_PTR
 ((*è- 1è

	)

263 
	#UMA_ALIGN_LONG
 ((è- 1è

	)

264 
	#UMA_ALIGN_INT
 ((è- 1è

	)

265 
	#UMA_ALIGN_SHORT
 ((è- 1è

	)

266 
	#UMA_ALIGN_CHAR
 ((è- 1è

	)

267 
	#UMA_ALIGN_CACHE
 (0 - 1è

	)

276 
	`uma_zde¡roy
(
uma_zÚe_t
 
zÚe
);

292 *
	`uma_z®loc_¬g
(
uma_zÚe_t
 
zÚe
, *
¬g
, 
æags
);

300 
__šlše
 *
	`uma_z®loc
(
uma_zÚe_t
 
zÚe
, 
æags
);

302 
__šlše
 *

303 
	$uma_z®loc
(
uma_zÚe_t
 
zÚe
, 
æags
)

305  
	`uma_z®loc_¬g
(
zÚe
, 
NULL
, 
æags
);

306 
	}
}

320 
uma_zä“_¬g
(
uma_zÚe_t
 
zÚe
, *
™em
, *
¬g
);

328 
__šlše
 
uma_zä“
(
uma_zÚe_t
 
zÚe
, *
™em
);

330 
__šlše
 

331 
	$uma_zä“
(
uma_zÚe_t
 
zÚe
, *
™em
)

333 
	`uma_zä“_¬g
(
zÚe
, 
™em
, 
NULL
);

334 
	}
}

354 *(*
	tuma_®loc
)(
	tuma_zÚe_t
 
	tzÚe
, 
	tsize
, 
	tu_št8_t
 *
	tpæag
, 
	twa™
);

367 (*
	tuma_ä“
)(*
	t™em
, 
	tsize
, 
	tu_št8_t
 
	tpæag
);

387 
	`uma_¡¬tup
(*
boÙmem
, 
boÙ_·ges
);

403 
	`uma_¡¬tup2
();

416 
	`uma_»şaim
();

428 
	`uma_£t_®ign
(
®ign
);

447 
vm_objeù
;

448 
	`uma_zÚe_£t_obj
(
uma_zÚe_t
 
zÚe
, 
vm_objeù
 *
obj
, 
size
);

459 
	`uma_zÚe_£t_max
(
uma_zÚe_t
 
zÚe
, 
n™ems
);

471 
	`uma_zÚe_g‘_max
(
uma_zÚe_t
 
zÚe
);

482 
	`uma_zÚe_g‘_cur
(
uma_zÚe_t
 
zÚe
);

492 
	`uma_zÚe_£t_š™
(
uma_zÚe_t
 
zÚe
, 
uma_š™
 
umš™
);

493 
	`uma_zÚe_£t_fši
(
uma_zÚe_t
 
zÚe
, 
uma_fši
 
fši
);

503 
	`uma_zÚe_£t_zš™
(
uma_zÚe_t
 
zÚe
, 
uma_š™
 
zš™
);

504 
	`uma_zÚe_£t_zfši
(
uma_zÚe_t
 
zÚe
, 
uma_fši
 
zfši
);

522 
	`uma_zÚe_£t_®locf
(
uma_zÚe_t
 
zÚe
, 
uma_®loc
 
®locf
);

535 
	`uma_zÚe_£t_ä“f
(
uma_zÚe_t
 
zÚe
, 
uma_ä“
 
ä“f
);

540 
	#UMA_SLAB_BOOT
 0x01

	)

541 
	#UMA_SLAB_KMEM
 0x02

	)

542 
	#UMA_SLAB_KERNEL
 0x04

	)

543 
	#UMA_SLAB_PRIV
 0x08

	)

544 
	#UMA_SLAB_OFFP
 0x10

	)

545 
	#UMA_SLAB_MALLOC
 0x20

	)

560 
	`uma_´—Îoc
(
uma_zÚe_t
 
zÚe
, 
™emút
);

575 
u_št32_t
 *
	`uma_fšd_»fút
(
uma_zÚe_t
 
zÚe
, *
™em
);

586 
	`uma_zÚe_exhau¡ed
(
uma_zÚe_t
 
zÚe
);

587 
	`uma_zÚe_exhau¡ed_nŞock
(
uma_zÚe_t
 
zÚe
);

594 
	#UMA_STREAM_VERSION
 0x00000001

	)

595 
	suma_¡»am_h—d”
 {

596 
u_št32_t
 
ush_v”siÚ
;

597 
u_št32_t
 
ush_maxıus
;

598 
u_št32_t
 
ush_couÁ
;

599 
u_št32_t
 
_ush_·d
;

602 
	#UTH_MAX_NAME
 32

	)

603 
	#UTH_ZONE_SECONDARY
 0x00000001

	)

604 
	suma_ty³_h—d”
 {

608 
uth_Çme
[
UTH_MAX_NAME
];

609 
u_št32_t
 
uth_®ign
;

610 
u_št32_t
 
uth_size
;

611 
u_št32_t
 
uth_rsize
;

612 
u_št32_t
 
uth_max·ges
;

613 
u_št32_t
 
uth_lim™
;

618 
u_št32_t
 
uth_·ges
;

619 
u_št32_t
 
uth_keg_ä“
;

620 
u_št32_t
 
uth_zÚe_ä“
;

621 
u_št32_t
 
uth_buck‘size
;

622 
u_št32_t
 
uth_zÚe_æags
;

623 
u_št64_t
 
uth_®locs
;

624 
u_št64_t
 
uth_ä“s
;

625 
u_št64_t
 
uth_çs
;

626 
u_št64_t
 
_uth_»£rved1
[3];

629 
	suma_³rıu_¡©
 {

630 
u_št64_t
 
ups_®locs
;

631 
u_št64_t
 
ups_ä“s
;

632 
u_št64_t
 
ups_ÿche_ä“
;

633 
u_št64_t
 
_ups_»£rved
[5];

	@/usr/include/vm/vm.h

61 #iâdeà
VM_H


62 
	#VM_H


	)

64 
	~<machše/vm.h
>

66 
	tvm_šh”™_t
;

68 
	#VM_INHERIT_SHARE
 ((
vm_šh”™_t
è0)

	)

69 
	#VM_INHERIT_COPY
 ((
vm_šh”™_t
è1)

	)

70 
	#VM_INHERIT_NONE
 ((
vm_šh”™_t
è2)

	)

71 
	#VM_INHERIT_DEFAULT
 
VM_INHERIT_COPY


	)

73 
u_ch¬
 
	tvm_´Ù_t
;

75 
	#VM_PROT_NONE
 ((
vm_´Ù_t
è0x00)

	)

76 
	#VM_PROT_READ
 ((
vm_´Ù_t
è0x01)

	)

77 
	#VM_PROT_WRITE
 ((
vm_´Ù_t
è0x02)

	)

78 
	#VM_PROT_EXECUTE
 ((
vm_´Ù_t
è0x04)

	)

79 
	#VM_PROT_OVERRIDE_WRITE
 ((
vm_´Ù_t
è0x08è

	)

81 
	#VM_PROT_ALL
 (
VM_PROT_READ
|
VM_PROT_WRITE
|
VM_PROT_EXECUTE
)

	)

82 
	#VM_PROT_RW
 (
VM_PROT_READ
|
VM_PROT_WRITE
)

	)

83 
	#VM_PROT_DEFAULT
 
VM_PROT_ALL


	)

85 
	eobj_ty³
 { 
	mOBJT_DEFAULT
, 
	mOBJT_SWAP
, 
	mOBJT_VNODE
, 
	mOBJT_DEVICE
, 
	mOBJT_PHYS
,

86 
	mOBJT_DEAD
, 
	mOBJT_SG
 };

87 
u_ch¬
 
	tobjty³_t
;

89 
	gvm_m­_objeù
;

90 
vm_m­_objeù
 
	tvm_m­_objeù_t
;

92 
	gvm_m­_’Œy
;

93 
vm_m­_’Œy
 *
	tvm_m­_’Œy_t
;

95 
	gvm_m­
;

96 
vm_m­
 *
	tvm_m­_t
;

98 
	gvm_objeù
;

99 
vm_objeù
 *
	tvm_objeù_t
;

101 #iâdeà
_KERNEL


109 
	tboŞ—n_t
;

115 
	tvm_mem©Œ_t
;

121 
	gvm_·ge
;

122 
vm_·ge
 *
	tvm_·ge_t
;

125 
	gvm_»£rv
;

126 
vm_»£rv
 *
	tvm_»£rv_t
;

132 
	skva_md_šfo
 {

133 
vm_off£t_t
 
	mbufãr_sva
;

134 
vm_off£t_t
 
	mbufãr_eva
;

135 
vm_off£t_t
 
	mş—n_sva
;

136 
vm_off£t_t
 
	mş—n_eva
;

137 
vm_off£t_t
 
	m·g”_sva
;

138 
vm_off£t_t
 
	m·g”_eva
;

141 
kva_md_šfo
 
kmi
;

142 
vm_ksubm­_š™
(
kva_md_šfo
 *);

144 
	guidšfo
;

145 
sw­_»£rve
(
vm_ooff£t_t
 
šü
);

146 
sw­_»£rve_by_uid
(
vm_ooff£t_t
 
šü
, 
uidšfo
 *
u
);

147 
sw­_»£rve_fÜû
(
vm_ooff£t_t
 
šü
);

148 
sw­_»Ëa£
(
vm_ooff£t_t
 
deü
);

149 
sw­_»Ëa£_by_uid
(
vm_ooff£t_t
 
deü
, 
uidšfo
 *
u
);

	@/usr/include/vm/vm_map.h

66 #iâdef 
_VM_MAP_


67 
	#_VM_MAP_


	)

69 
	~<sys/lock.h
>

70 
	~<sys/sx.h
>

71 
	~<sys/_mu‹x.h
>

80 
u_ch¬
 
	tvm_æags_t
;

81 
u_št
 
	tvm_eæags_t
;

88 
	uvm_m­_objeù
 {

89 
vm_objeù
 *
	mvm_objeù
;

90 
vm_m­
 *
	msub_m­
;

99 
	svm_m­_’Œy
 {

100 
vm_m­_’Œy
 *
	m´ev
;

101 
vm_m­_’Œy
 *
	mÃxt
;

102 
vm_m­_’Œy
 *
	mËá
;

103 
vm_m­_’Œy
 *
	mright
;

104 
vm_off£t_t
 
	m¡¬t
;

105 
vm_off£t_t
 
	m’d
;

106 
vm_off£t_t
 
	mava_ssize
;

107 
vm_size_t
 
	madj_ä“
;

108 
vm_size_t
 
	mmax_ä“
;

109 
vm_m­_objeù
 
	mobjeù
;

110 
vm_ooff£t_t
 
	moff£t
;

111 
vm_eæags_t
 
	meæags
;

112 
vm_´Ù_t
 
	m´ÙeùiÚ
;

113 
vm_´Ù_t
 
	mmax_´ÙeùiÚ
;

114 
vm_šh”™_t
 
	mšh”™ªû
;

115 
	mwœed_couÁ
;

116 
vm_pšdex_t
 
	mÏ¡r
;

117 
uidšfo
 *
	mu
;

120 
	#MAP_ENTRY_NOSYNC
 0x0001

	)

121 
	#MAP_ENTRY_IS_SUB_MAP
 0x0002

	)

122 
	#MAP_ENTRY_COW
 0x0004

	)

123 
	#MAP_ENTRY_NEEDS_COPY
 0x0008

	)

124 
	#MAP_ENTRY_NOFAULT
 0x0010

	)

125 
	#MAP_ENTRY_USER_WIRED
 0x0020

	)

127 
	#MAP_ENTRY_BEHAV_NORMAL
 0x0000

	)

128 
	#MAP_ENTRY_BEHAV_SEQUENTIAL
 0x0040

	)

129 
	#MAP_ENTRY_BEHAV_RANDOM
 0x0080

	)

130 
	#MAP_ENTRY_BEHAV_RESERVED
 0x00C0

	)

132 
	#MAP_ENTRY_BEHAV_MASK
 0x00C0

	)

134 
	#MAP_ENTRY_IN_TRANSITION
 0x0100

	)

135 
	#MAP_ENTRY_NEEDS_WAKEUP
 0x0200

	)

136 
	#MAP_ENTRY_NOCOREDUMP
 0x0400

	)

138 
	#MAP_ENTRY_GROWS_DOWN
 0x1000

	)

139 
	#MAP_ENTRY_GROWS_UP
 0x2000

	)

141 
	#MAP_ENTRY_WIRE_SKIPPED
 0x4000

	)

143 #ifdef 
_KERNEL


144 
__šlše
 
u_ch¬


145 
	$vm_m­_’Œy_behaviÜ
(
vm_m­_’Œy_t
 
’Œy
)

147  (
’Œy
->
eæags
 & 
MAP_ENTRY_BEHAV_MASK
);

148 
	}
}

150 
__šlše
 

151 
	$vm_m­_’Œy_u£r_wœed_couÁ
(
vm_m­_’Œy_t
 
’Œy
)

153 ià(
’Œy
->
eæags
 & 
MAP_ENTRY_USER_WIRED
)

156 
	}
}

158 
__šlše
 

159 
	$vm_m­_’Œy_sy¡em_wœed_couÁ
(
vm_m­_’Œy_t
 
’Œy
)

161  (
’Œy
->
wœed_couÁ
 - 
	`vm_m­_’Œy_u£r_wœed_couÁ
(entry));

162 
	}
}

176 
	svm_m­
 {

177 
vm_m­_’Œy
 
	mh—d”
;

178 
sx
 
	mlock
;

179 
mtx
 
	msy¡em_mtx
;

180 
	mÃÁr›s
;

181 
vm_size_t
 
	msize
;

182 
u_št
 
	mtime¡amp
;

183 
u_ch¬
 
	mÃeds_wakeup
;

184 
u_ch¬
 
	msy¡em_m­
;

185 
vm_æags_t
 
	mæags
;

186 
vm_m­_’Œy_t
 
	mroÙ
;

187 
pm­_t
 
	mpm­
;

188 
	#mš_off£t
 
h—d”
.
¡¬t


	)

189 
	#max_off£t
 
h—d”
.
’d


	)

190 
	mbusy
;

196 
	#MAP_WIREFUTURE
 0x01

	)

197 
	#MAP_BUSY_WAKEUP
 0x02

	)

199 #ifdef 
_KERNEL


200 
__šlše
 
vm_off£t_t


201 
	$vm_m­_max
(
vm_m­_t
 
m­
)

203  (
m­
->
max_off£t
);

204 
	}
}

206 
__šlše
 
vm_off£t_t


207 
	$vm_m­_mš
(
vm_m­_t
 
m­
)

209  (
m­
->
mš_off£t
);

210 
	}
}

212 
__šlše
 
pm­_t


213 
	$vm_m­_pm­
(
vm_m­_t
 
m­
)

215  (
m­
->
pm­
);

216 
	}
}

218 
__šlše
 

219 
	$vm_m­_modæags
(
vm_m­_t
 
m­
, 
vm_æags_t
 
£t
, vm_æags_ˆ
ş—r
)

221 
m­
->
æags
 = (m­->æag | 
£t
è& ~
ş—r
;

222 
	}
}

231 
	svm¥aû
 {

232 
vm_m­
 
	mvm_m­
;

233 
shmm­_¡©e
 *
	mvm_shm
;

234 
£gsz_t
 
	mvm_swrss
;

235 
£gsz_t
 
	mvm_tsize
;

236 
£gsz_t
 
	mvm_dsize
;

237 
£gsz_t
 
	mvm_ssize
;

238 
ÿddr_t
 
	mvm_ddr
;

239 
ÿddr_t
 
	mvm_daddr
;

240 
ÿddr_t
 
	mvm_max§ddr
;

241 vŞ©
	mvm_»fút
;

247 
pm­
 
	mvm_pm­
;

250 #ifdef 
_KERNEL


251 
__šlše
 
pm­_t


252 
	$vm¥aû_pm­
(
vm¥aû
 *vmspace)

254  &
vm¥aû
->
vm_pm­
;

255 
	}
}

258 #ifdef 
_KERNEL


269 
_vm_m­_lock
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

270 
_vm_m­_uÆock
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

271 
_vm_m­_uÆock_ªd_wa™
(
vm_m­_t
 
m­
, 
timo
, cÚ¡ *
fe
, 
lše
);

272 
_vm_m­_lock_»ad
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

273 
_vm_m­_uÆock_»ad
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

274 
_vm_m­_Œylock
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

275 
_vm_m­_Œylock_»ad
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

276 
_vm_m­_lock_upg¿de
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

277 
_vm_m­_lock_downg¿de
(
vm_m­_t
 
m­
, cÚ¡ *
fe
, 
lše
);

278 
vm_m­_locked
(
vm_m­_t
 
m­
);

279 
vm_m­_wakeup
(
vm_m­_t
 
m­
);

280 
vm_m­_busy
(
vm_m­_t
 
m­
);

281 
vm_m­_unbusy
(
vm_m­_t
 
m­
);

282 
vm_m­_wa™_busy
(
vm_m­_t
 
m­
);

284 
	#vm_m­_lock
(
m­
è
	`_vm_m­_lock
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

285 
	#vm_m­_uÆock
(
m­
è
	`_vm_m­_uÆock
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

286 
	#vm_m­_uÆock_ªd_wa™
(
m­
, 
timo
) \

287 
	`_vm_m­_uÆock_ªd_wa™
(
m­
, 
timo
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

288 
	#vm_m­_lock_»ad
(
m­
è
	`_vm_m­_lock_»ad
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

289 
	#vm_m­_uÆock_»ad
(
m­
è
	`_vm_m­_uÆock_»ad
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

290 
	#vm_m­_Œylock
(
m­
è
	`_vm_m­_Œylock
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

291 
	#vm_m­_Œylock_»ad
(
m­
) \

292 
	`_vm_m­_Œylock_»ad
(
m­
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

293 
	#vm_m­_lock_upg¿de
(
m­
) \

294 
	`_vm_m­_lock_upg¿de
(
m­
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

295 
	#vm_m­_lock_downg¿de
(
m­
) \

296 
	`_vm_m­_lock_downg¿de
(
m­
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

298 
vm¥aû_»sid’t_couÁ
(
vm¥aû
 *vmspace);

299 
vm¥aû_wœed_couÁ
(
vm¥aû
 *vmspace);

304 
	#MAX_KMAP
 10

	)

305 
	#MAX_KMAPENT
 128

	)

310 
	#MAP_UNUSED_01
 0x0001

	)

311 
	#MAP_COPY_ON_WRITE
 0x0002

	)

312 
	#MAP_NOFAULT
 0x0004

	)

313 
	#MAP_PREFAULT
 0x0008

	)

314 
	#MAP_PREFAULT_PARTIAL
 0x0010

	)

315 
	#MAP_DISABLE_SYNCER
 0x0020

	)

316 
	#MAP_DISABLE_COREDUMP
 0x0100

	)

317 
	#MAP_PREFAULT_MADVISE
 0x0200

	)

318 
	#MAP_STACK_GROWS_DOWN
 0x1000

	)

319 
	#MAP_STACK_GROWS_UP
 0x2000

	)

320 
	#MAP_ACC_CHARGED
 0x4000

	)

321 
	#MAP_ACC_NO_CHARGE
 0x8000

	)

326 
	#VM_FAULT_NORMAL
 0

	)

327 
	#VM_FAULT_CHANGE_WIRING
 1

	)

328 
	#VM_FAULT_USER_WIRE
 2

	)

329 
	#VM_FAULT_WIRE_MASK
 (
VM_FAULT_CHANGE_WIRING
|
VM_FAULT_USER_WIRE
)

	)

330 
	#VM_FAULT_DIRTY
 8

	)

335 
	#VMFS_NO_SPACE
 0

	)

336 
	#VMFS_ANY_SPACE
 1

	)

337 
	#VMFS_ALIGNED_SPACE
 2

	)

338 #ià
defšed
(
__ms__
)

339 
	#VMFS_TLB_ALIGNED_SPACE
 3

	)

345 
	#VM_MAP_WIRE_SYSTEM
 0

	)

346 
	#VM_MAP_WIRE_USER
 1

	)

348 
	#VM_MAP_WIRE_NOHOLES
 0

	)

349 
	#VM_MAP_WIRE_HOLESOK
 2

	)

351 #ifdeà
_KERNEL


352 
boŞ—n_t
 
vm_m­_check_´ÙeùiÚ
 (
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
);

353 
vm_m­_t
 
vm_m­_ü—‹
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

354 
vm_m­_d–‘e
(
vm_m­_t
, 
vm_off£t_t
, vm_offset_t);

355 
vm_m­_fšd
(
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
 *, 
vm_size_t
,

356 , 
vm_´Ù_t
, vm_prot_t, );

357 
vm_m­_fixed
(
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
, 
vm_size_t
,

358 
vm_´Ù_t
, vm_prot_t, );

359 
vm_m­_fšd¥aû
 (
vm_m­_t
, 
vm_off£t_t
, 
vm_size_t
, vm_offset_t *);

360 
vm_m­_šh”™
 (
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_šh”™_t
);

361 
vm_m­_š™
 (
vm_m­
 *, 
vm_off£t_t
, vm_offset_t);

362 
vm_m­_š£¹
 (
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
, vm_prot_t, );

363 
vm_m­_lookup
 (
vm_m­_t
 *, 
vm_off£t_t
, 
vm_´Ù_t
, 
vm_m­_’Œy_t
 *, 
vm_objeù_t
 *,

364 
vm_pšdex_t
 *, 
vm_´Ù_t
 *, 
boŞ—n_t
 *);

365 
vm_m­_lookup_locked
(
vm_m­_t
 *, 
vm_off£t_t
, 
vm_´Ù_t
, 
vm_m­_’Œy_t
 *, 
vm_objeù_t
 *,

366 
vm_pšdex_t
 *, 
vm_´Ù_t
 *, 
boŞ—n_t
 *);

367 
vm_m­_lookup_dÚe
 (
vm_m­_t
, 
vm_m­_’Œy_t
);

368 
boŞ—n_t
 
vm_m­_lookup_’Œy
 (
vm_m­_t
, 
vm_off£t_t
, 
vm_m­_’Œy_t
 *);

369 
vm_m­_pm­_’‹r
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
addr
, 
vm_´Ù_t
 
´Ù
,

370 
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pšdex
, 
vm_size_t
 
size
, 
æags
);

371 
vm_m­_´Ùeù
 (
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
, 
boŞ—n_t
);

372 
vm_m­_»move
 (
vm_m­_t
, 
vm_off£t_t
, vm_offset_t);

373 
vm_m­_¡¬tup
 ();

374 
vm_m­_subm­
 (
vm_m­_t
, 
vm_off£t_t
, vm_offset_t, vm_map_t);

375 
vm_m­_sync
(
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
boŞ—n_t
, boolean_t);

376 
vm_m­_madvi£
 (
vm_m­_t
, 
vm_off£t_t
, vm_offset_t, );

377 
vm_m­_sim¶ify_’Œy
 (
vm_m­_t
, 
vm_m­_’Œy_t
);

378 
vm_š™2
 ();

379 
vm_m­_¡ack
 (
vm_m­_t
, 
vm_off£t_t
, 
vm_size_t
, 
vm_´Ù_t
, vm_prot_t, );

380 
vm_m­_grow¡ack
 (
´oc
 *
p
, 
vm_off£t_t
 
addr
);

381 
vm_m­_unwœe
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
¡¬t
, vm_off£t_ˆ
’d
,

382 
æags
);

383 
vm_m­_wœe
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
¡¬t
, vm_off£t_ˆ
’d
,

384 
æags
);

385 
vm¥aû_sw­_couÁ
(
vm¥aû
 *vmspace);

	@/usr/include/vm/vm_param.h

67 #iâdef 
_VM_PARAM_


68 
	#_VM_PARAM_


	)

70 
	~<machše/vm·¿m.h
>

75 
	#VM_TOTAL
 1

	)

76 
	#VM_METER
 
VM_TOTAL


	)

77 
	#VM_LOADAVG
 2

	)

78 
	#VM_V_FREE_MIN
 3

	)

79 
	#VM_V_FREE_TARGET
 4

	)

80 
	#VM_V_FREE_RESERVED
 5

	)

81 
	#VM_V_INACTIVE_TARGET
 6

	)

82 
	#VM_V_CACHE_MIN
 7

	)

83 
	#VM_V_CACHE_MAX
 8

	)

84 
	#VM_V_PAGEOUT_FREE_MIN
 9

	)

85 
	#VM_PAGEOUT_ALGORITHM
 10

	)

86 
	#VM_SWAPPING_ENABLED
 11

	)

87 
	#VM_MAXID
 12

	)

89 
	#CTL_VM_NAMES
 { \

91 { "vmtÙ®", 
CTLTYPE_STRUCT
 }, \

92 { "lßdavg", 
CTLTYPE_STRUCT
 }, \

93 { "v_ä“_mš", 
CTLTYPE_UINT
 }, \

94 { "v_ä“_rg‘", 
CTLTYPE_UINT
 }, \

95 { "v_ä“_»£rved", 
CTLTYPE_UINT
 }, \

96 { "v_šaùive_rg‘", 
CTLTYPE_UINT
 }, \

97 { "v_ÿche_mš", 
CTLTYPE_UINT
 }, \

98 { "v_ÿche_max", 
CTLTYPE_UINT
 }, \

99 { "v_·geout_ä“_mš", 
CTLTYPE_UINT
}, \

100 { "·geout_®gÜ™hm", 
CTLTYPE_INT
}, \

101 { "sw­_’abËd", 
CTLTYPE_INT
},\

102 }

	)

107 
	#XSWDEV_VERSION
 1

	)

108 
	sxswdev
 {

109 
u_št
 
	mxsw_v”siÚ
;

110 
dev_t
 
	mxsw_dev
;

111 
	mxsw_æags
;

112 
	mxsw_nblks
;

113 
	mxsw_u£d
;

119 
	#KERN_SUCCESS
 0

	)

120 
	#KERN_INVALID_ADDRESS
 1

	)

121 
	#KERN_PROTECTION_FAILURE
 2

	)

122 
	#KERN_NO_SPACE
 3

	)

123 
	#KERN_INVALID_ARGUMENT
 4

	)

124 
	#KERN_FAILURE
 5

	)

125 
	#KERN_RESOURCE_SHORTAGE
 6

	)

126 
	#KERN_NOT_RECEIVER
 7

	)

127 
	#KERN_NO_ACCESS
 8

	)

129 #iâdeà
ASSEMBLER


130 #ifdeà
_KERNEL


131 
	#num_·ges
(
x
) \

132 ((
vm_off£t_t
)((((vm_off£t_t)(
x
)è+ 
PAGE_MASK
è>> 
PAGE_SHIFT
))

	)

133 
maxtsiz
;

134 
dædsiz
;

135 
maxdsiz
;

136 
dæssiz
;

137 
maxssiz
;

138 
sgrowsiz
;

	@/usr/include/bsm/audit.h

33 #iâdef 
_BSM_AUDIT_H


34 
	#_BSM_AUDIT_H


	)

36 
	~<sys/·¿m.h
>

37 
	~<sys/ty³s.h
>

39 
	#AUDIT_RECORD_MAGIC
 0x828a0f1b

	)

40 
	#MAX_AUDIT_RECORDS
 20

	)

41 
	#MAXAUDITDATA
 (0x8000 - 1)

	)

42 
	#MAX_AUDIT_RECORD_SIZE
 
MAXAUDITDATA


	)

43 
	#MIN_AUDIT_FILE_SIZE
 (512 * 1024)

	)

51 
	#AUDIT_HARD_LIMIT_FREE_BLOCKS
 4

	)

56 
	#AUDIT_TRIGGER_MIN
 1

	)

57 
	#AUDIT_TRIGGER_LOW_SPACE
 1

	)

58 
	#AUDIT_TRIGGER_ROTATE_KERNEL
 2

	)

59 
	#AUDIT_TRIGGER_READ_FILE
 3

	)

60 
	#AUDIT_TRIGGER_CLOSE_AND_DIE
 4

	)

61 
	#AUDIT_TRIGGER_NO_SPACE
 5

	)

62 
	#AUDIT_TRIGGER_ROTATE_USER
 6

	)

63 
	#AUDIT_TRIGGER_INITIALIZE
 7

	)

64 
	#AUDIT_TRIGGER_EXPIRE_TRAILS
 8

	)

65 
	#AUDIT_TRIGGER_MAX
 8

	)

70 
	#AUDITDEV_FILENAME
 "aud™"

	)

71 
	#AUDIT_TRIGGER_FILE
 ("/dev/" 
AUDITDEV_FILENAME
)

	)

76 
	#AU_DEFAUDITID
 (
uid_t
)(-1)

	)

77 
	#AU_DEFAUDITSID
 0

	)

78 
	#AU_ASSIGN_ASID
 -1

	)

83 
	#AT_IPC_MSG
 ((
u_ch¬
)1è

	)

84 
	#AT_IPC_SEM
 ((
u_ch¬
)2è

	)

85 
	#AT_IPC_SHM
 ((
u_ch¬
)3è

	)

90 
	#AUC_UNSET
 0

	)

91 
	#AUC_AUDITING
 1

	)

92 
	#AUC_NOAUDIT
 2

	)

93 
	#AUC_DISABLED
 -1

	)

98 
	#A_OLDGETPOLICY
 2

	)

99 
	#A_OLDSETPOLICY
 3

	)

100 
	#A_GETKMASK
 4

	)

101 
	#A_SETKMASK
 5

	)

102 
	#A_OLDGETQCTRL
 6

	)

103 
	#A_OLDSETQCTRL
 7

	)

104 
	#A_GETCWD
 8

	)

105 
	#A_GETCAR
 9

	)

106 
	#A_GETSTAT
 12

	)

107 
	#A_SETSTAT
 13

	)

108 
	#A_SETUMASK
 14

	)

109 
	#A_SETSMASK
 15

	)

110 
	#A_OLDGETCOND
 20

	)

111 
	#A_OLDSETCOND
 21

	)

112 
	#A_GETCLASS
 22

	)

113 
	#A_SETCLASS
 23

	)

114 
	#A_GETPINFO
 24

	)

115 
	#A_SETPMASK
 25

	)

116 
	#A_SETFSIZE
 26

	)

117 
	#A_GETFSIZE
 27

	)

118 
	#A_GETPINFO_ADDR
 28

	)

119 
	#A_GETKAUDIT
 29

	)

120 
	#A_SETKAUDIT
 30

	)

121 
	#A_SENDTRIGGER
 31

	)

122 
	#A_GETSINFO_ADDR
 32

	)

123 
	#A_GETPOLICY
 33

	)

124 
	#A_SETPOLICY
 34

	)

125 
	#A_GETQCTRL
 35

	)

126 
	#A_SETQCTRL
 36

	)

127 
	#A_GETCOND
 37

	)

128 
	#A_SETCOND
 38

	)

133 
	#AUDIT_CNT
 0x0001

	)

134 
	#AUDIT_AHLT
 0x0002

	)

135 
	#AUDIT_ARGV
 0x0004

	)

136 
	#AUDIT_ARGE
 0x0008

	)

137 
	#AUDIT_SEQ
 0x0010

	)

138 
	#AUDIT_WINDATA
 0x0020

	)

139 
	#AUDIT_USER
 0x0040

	)

140 
	#AUDIT_GROUP
 0x0080

	)

141 
	#AUDIT_TRAIL
 0x0100

	)

142 
	#AUDIT_PATH
 0x0200

	)

143 
	#AUDIT_SCNT
 0x0400

	)

144 
	#AUDIT_PUBLIC
 0x0800

	)

145 
	#AUDIT_ZONENAME
 0x1000

	)

146 
	#AUDIT_PERZONE
 0x2000

	)

151 
	#AQ_HIWATER
 100

	)

152 
	#AQ_MAXHIGH
 10000

	)

153 
	#AQ_LOWATER
 10

	)

154 
	#AQ_BUFSZ
 
MAXAUDITDATA


	)

155 
	#AQ_MAXBUFSZ
 1048576

	)

160 
	#AU_FS_MINFREE
 20

	)

166 
	#AU_IPv4
 4

	)

167 
	#AU_IPv6
 16

	)

169 
__BEGIN_DECLS


171 
uid_t
 
	tau_id_t
;

172 
pid_t
 
	tau_asid_t
;

173 
u_št16_t
 
	tau_ev’t_t
;

174 
u_št16_t
 
	tau_emod_t
;

175 
u_št32_t
 
	tau_şass_t
;

176 
u_št64_t
 
	tau_asægs_t
 
	t__©Œibu‹__
 ((
	t®igÃd
 (8)));

178 
	sau_tid
 {

179 
dev_t
 
	mpÜt
;

180 
u_št32_t
 
	mmachše
;

182 
au_tid
 
	tau_tid_t
;

184 
	sau_tid_addr
 {

185 
dev_t
 
	m©_pÜt
;

186 
u_št32_t
 
	m©_ty³
;

187 
u_št32_t
 
	m©_addr
[4];

189 
au_tid_addr
 
	tau_tid_addr_t
;

191 
	sau_mask
 {

192 
	mam_sucûss
;

193 
	mam_çu»
;

195 
au_mask
 
	tau_mask_t
;

197 
	saud™šfo
 {

198 
au_id_t
 
	mai_auid
;

199 
au_mask_t
 
	mai_mask
;

200 
au_tid_t
 
	mai_‹rmid
;

201 
au_asid_t
 
	mai_asid
;

203 
aud™šfo
 
	taud™šfo_t
;

205 
	saud™šfo_addr
 {

206 
au_id_t
 
	mai_auid
;

207 
au_mask_t
 
	mai_mask
;

208 
au_tid_addr_t
 
	mai_‹rmid
;

209 
au_asid_t
 
	mai_asid
;

210 
au_asægs_t
 
	mai_æags
;

212 
aud™šfo_addr
 
	taud™šfo_addr_t
;

214 
	saud™pšfo
 {

215 
pid_t
 
	m­_pid
;

216 
au_id_t
 
	m­_auid
;

217 
au_mask_t
 
	m­_mask
;

218 
au_tid_t
 
	m­_‹rmid
;

219 
au_asid_t
 
	m­_asid
;

221 
aud™pšfo
 
	taud™pšfo_t
;

223 
	saud™pšfo_addr
 {

224 
pid_t
 
	m­_pid
;

225 
au_id_t
 
	m­_auid
;

226 
au_mask_t
 
	m­_mask
;

227 
au_tid_addr_t
 
	m­_‹rmid
;

228 
au_asid_t
 
	m­_asid
;

229 
au_asægs_t
 
	m­_æags
;

231 
aud™pšfo_addr
 
	taud™pšfo_addr_t
;

233 
	sau_£ssiÚ
 {

234 
aud™šfo_addr_t
 *
	mas_aŸ_p
;

235 
au_mask_t
 
	mas_mask
;

237 
au_£ssiÚ
 
	tau_£ssiÚ_t
;

242 
au_tok’
 
	ttok’_t
;

252 
	sau_qù¾
 {

253 
	maq_hiw©”
;

256 
	maq_low©”
;

259 
	maq_bufsz
;

260 
	maq_d–ay
;

261 
	maq_mšä“
;

263 
au_qù¾
 
	tau_qù¾_t
;

268 
	saud™_¡©
 {

269 
	mas_v”siÚ
;

270 
	mas_numev’t
;

271 
	mas_g’”©ed
;

272 
	mas_nÚ©Œib
;

273 
	mas_k”Ãl
;

274 
	mas_aud™
;

275 
	mas_aud™ùl
;

276 
	mas_’queue
;

277 
	mas_wr™‹n
;

278 
	mas_wblocked
;

279 
	mas_rblocked
;

280 
	mas_drİ³d
;

281 
	mas_tÙ®size
;

282 
	mas_memu£d
;

284 
aud™_¡©
 
	tau_¡©_t
;

289 
	saud™_f¡©
 {

290 
u_št64_t
 
	maf_fesz
;

291 
u_št64_t
 
	maf_cu¼sz
;

293 
aud™_f¡©
 
	tau_f¡©_t
;

298 
	sau_evşass_m­
 {

299 
au_ev’t_t
 
	mec_numb”
;

300 
au_şass_t
 
	mec_şass
;

302 
au_evşass_m­
 
	tau_evşass_m­_t
;

307 #ià!
defšed
(
_KERNEL
è&& !defšed(
KERNEL
)

308 
aud™
(const *, );

309 
aud™Ú
(, *, );

310 
aud™ùl
(const *);

311 
g‘auid
(
au_id_t
 *);

312 
£uid
(cÚ¡ 
au_id_t
 *);

313 
g‘aud™
(
aud™šfo
 *);

314 
£ud™
(cÚ¡ 
aud™šfo
 *);

315 
g‘aud™_addr
(
aud™šfo_addr
 *, );

316 
£ud™_addr
(cÚ¡ 
aud™šfo_addr
 *, );

318 #ifdeà
__APPLE_API_PRIVATE


319 
	~<mach/pÜt.h
>

320 
mach_pÜt_Çme_t
 
aud™_£ssiÚ_£lf
();

321 
au_asid_t
 
aud™_£ssiÚ_još
(
mach_pÜt_Çme_t
 
pÜt
);

326 
	g__END_DECLS


	@/usr/include/machine/_types.h

39 #iâdeà
_MACHINE__TYPES_H_


40 
	#_MACHINE__TYPES_H_


	)

42 #iâdeà
_SYS_CDEFS_H_


43 #”rÜ 
this
 
fe
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


46 
	#__NO_STRICT_ALIGNMENT


	)

51 
__sigÃd
 
	t__št8_t
;

52 
	t__ušt8_t
;

53 
	t__št16_t
;

54 
	t__ušt16_t
;

55 
	t__št32_t
;

56 
	t__ušt32_t
;

57 
	t__št64_t
;

58 
	t__ušt64_t
;

63 
__št32_t
 
	t__şock_t
;

64 
	t__ıumask_t
;

65 
__št64_t
 
	t__ü™iÿl_t
;

66 
	t__doubË_t
;

67 
	t__æßt_t
;

68 
__št64_t
 
	t__štåŒ_t
;

69 
__št64_t
 
	t__štmax_t
;

70 
__št64_t
 
	t__šŒ_t
;

71 
__št32_t
 
	t__št_ç¡8_t
;

72 
__št32_t
 
	t__št_ç¡16_t
;

73 
__št32_t
 
	t__št_ç¡32_t
;

74 
__št64_t
 
	t__št_ç¡64_t
;

75 
__št8_t
 
	t__št_Ëa¡8_t
;

76 
__št16_t
 
	t__št_Ëa¡16_t
;

77 
__št32_t
 
	t__št_Ëa¡32_t
;

78 
__št64_t
 
	t__št_Ëa¡64_t
;

79 
__št64_t
 
	t__±rdiff_t
;

80 
__št64_t
 
	t__»gi¡”_t
;

81 
__št64_t
 
	t__£gsz_t
;

82 
__ušt64_t
 
	t__size_t
;

83 
__št64_t
 
	t__ssize_t
;

84 
__št64_t
 
	t__time_t
;

85 
__ušt64_t
 
	t__uštåŒ_t
;

86 
__ušt64_t
 
	t__uštmax_t
;

87 
__ušt64_t
 
	t__ušŒ_t
;

88 
__ušt32_t
 
	t__ušt_ç¡8_t
;

89 
__ušt32_t
 
	t__ušt_ç¡16_t
;

90 
__ušt32_t
 
	t__ušt_ç¡32_t
;

91 
__ušt64_t
 
	t__ušt_ç¡64_t
;

92 
__ušt8_t
 
	t__ušt_Ëa¡8_t
;

93 
__ušt16_t
 
	t__ušt_Ëa¡16_t
;

94 
__ušt32_t
 
	t__ušt_Ëa¡32_t
;

95 
__ušt64_t
 
	t__ušt_Ëa¡64_t
;

96 
__ušt64_t
 
	t__u_»gi¡”_t
;

97 
__ušt64_t
 
	t__vm_off£t_t
;

98 
__št64_t
 
	t__vm_ooff£t_t
;

99 
__ušt64_t
 
	t__vm_·ddr_t
;

100 
__ušt64_t
 
	t__vm_pšdex_t
;

101 
__ušt64_t
 
	t__vm_size_t
;

106 #ifdeà
__GNUCLIKE_BUILTIN_VARARGS


107 
__butš_va_li¡
 
	t__va_li¡
;

108 #–ià
defšed
(
lšt
)

109 * 
	t__va_li¡
;

111 #ià
defšed
(
__GNUC_VA_LIST_COMPATIBILITY
è&& !defšed(
__GNUC_VA_LIST
) \

112 && !
	$defšed
(
__NO_GNUC_VA_LIST
)

113 
	#__GNUC_VA_LIST


	)

114 
__va_li¡
 
	t__gnuc_va_li¡
;

	@/usr/include/machine/atomic.h

28 #iâdeà
_MACHINE_ATOMIC_H_


29 
	#_MACHINE_ATOMIC_H_


	)

31 #iâdeà
_SYS_CDEFS_H_


32 #”rÜ 
this
 
fe
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


35 
	#mb
(è
__asm
 
	`__vŞ©e
("mãnû;" : : : "memÜy")

	)

36 
	#wmb
(è
__asm
 
	`__vŞ©e
("sãnû;" : : : "memÜy")

	)

37 
	#rmb
(è
__asm
 
	`__vŞ©e
("lãnû;" : : : "memÜy")

	)

74 #ià
defšed
(
KLD_MODULE
è|| !defšed(
__GNUCLIKE_ASM
)

75 
	#ATOMIC_ASM
(
NAME
, 
TYPE
, 
OP
, 
CONS
, 
V
) \

76 
©omic_
##
NAME
##
_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
); \

77 
©omic_
##
NAME
##
_b¬r_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
)

	)

79 
©omic_cmp£t_št
(vŞ©
u_št
 *
d¡
, u_šˆ
exp
, u_šˆ
¤c
);

80 
©omic_cmp£t_lÚg
(vŞ©
u_lÚg
 *
d¡
, u_lÚg 
exp
, u_lÚg 
¤c
);

81 
u_št
 
©omic_ãtchadd_št
(vŞ©u_šˆ*
p
, u_šˆ
v
);

82 
u_lÚg
 
©omic_ãtchadd_lÚg
(vŞ©u_lÚg *
p
, u_lÚg 
v
);

84 
	#ATOMIC_STORE_LOAD
(
TYPE
, 
LOP
, 
SOP
) \

85 
u_
##
TYPE
 
©omic_lßd_acq_
##
	`TYPE
(vŞ©u_##TYPE *
p
); \

86 
©omic_¡Üe_»l_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
)

	)

94 #ià
defšed
(
SMP
è|| !defšed(
_KERNEL
)

95 
	#MPLOCKED
 "lock ; "

	)

97 
	#MPLOCKED


	)

105 
	#ATOMIC_ASM
(
NAME
, 
TYPE
, 
OP
, 
CONS
, 
V
) \

106 
__šlše
 \

107 
©omic_
##
NAME
##
_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

109 
__asm
 
	`__vŞ©e
(
MPLOCKED
 
OP
 \

110 : "=m" (*
p
) \

111 : 
	`CONS
 (
V
), "m" (*
p
) \

115 
__šlše
 \

116 
©omic_
##
NAME
##
_b¬r_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

118 
__asm
 
	`__vŞ©e
(
MPLOCKED
 
OP
 \

119 : "=m" (*
p
) \

120 : 
	`CONS
 (
V
), "m" (*
p
) \

123 
__hack


	)

133 
__šlše
 

134 
	$©omic_cmp£t_št
(vŞ©
u_št
 *
d¡
, u_šˆ
exp
, u_šˆ
¤c
)

136 
u_ch¬
 
»s
;

138 
__asm
 
	`__vŞ©e
(

139 " " 
MPLOCKED
 " "

144 : "÷" (
»s
),

145 "=m" (*
d¡
)

146 : "r" (
¤c
),

147 "a" (
exp
),

148 "m" (*
d¡
)

151  (
»s
);

152 
	}
}

154 
__šlše
 

155 
	$©omic_cmp£t_lÚg
(vŞ©
u_lÚg
 *
d¡
, u_lÚg 
exp
, u_lÚg 
¤c
)

157 
u_ch¬
 
»s
;

159 
__asm
 
	`__vŞ©e
(

160 " " 
MPLOCKED
 " "

165 : "÷" (
»s
),

166 "=m" (*
d¡
)

167 : "r" (
¤c
),

168 "a" (
exp
),

169 "m" (*
d¡
)

172  (
»s
);

173 
	}
}

179 
__šlše
 
u_št


180 
	$©omic_ãtchadd_št
(vŞ©
u_št
 *
p
, u_šˆ
v
)

183 
__asm
 
	`__vŞ©e
(

184 " " 
MPLOCKED
 " "

187 : "+r" (
v
),

188 "=m" (*
p
)

189 : "m" (*
p
)

191  (
v
);

192 
	}
}

198 
__šlše
 
u_lÚg


199 
	$©omic_ãtchadd_lÚg
(vŞ©
u_lÚg
 *
p
, u_lÚg 
v
)

202 
__asm
 
	`__vŞ©e
(

203 " " 
MPLOCKED
 " "

206 : "+r" (
v
),

207 "=m" (*
p
)

208 : "m" (*
p
)

210  (
v
);

211 
	}
}

213 #ià
defšed
(
_KERNEL
è&& !defšed(
SMP
)

222 
	#ATOMIC_STORE_LOAD
(
TYPE
, 
LOP
, 
SOP
) \

223 
__šlše
 
u_
##
TYPE
 \

224 
©omic_lßd_acq_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
) \

226 
u_
##
TYPE
 
tmp
; \

228 
tmp
 = *
p
; \

229 
__asm
 
	`__vŞ©e
 ("" : : : "memory"); \

230  (
tmp
); \

233 
__šlše
 \

234 
©omic_¡Üe_»l_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

236 
__asm
 
	`__vŞ©e
 ("" : : : "memory"); \

237 *
p
 = 
v
; \

239 
__hack


	)

243 
	#ATOMIC_STORE_LOAD
(
TYPE
, 
LOP
, 
SOP
) \

244 
__šlše
 
u_
##
TYPE
 \

245 
©omic_lßd_acq_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
) \

247 
u_
##
TYPE
 
»s
; \

249 
__asm
 
	`__vŞ©e
(
MPLOCKED
 
LOP
 \

250 : "÷" (
»s
), \

251 "=m" (*
p
) \

252 : "m" (*
p
) \

255  (
»s
); \

261 
__šlše
 \

262 
©omic_¡Üe_»l_
##
	`TYPE
(vŞ©
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

264 
__asm
 
	`__vŞ©e
(
SOP
 \

265 : "=m" (*
p
), \

266 "+r" (
v
) \

267 : "m" (*
p
) \

270 
__hack


	)

276 
ATOMIC_ASM
(
£t
, , "Üb %b1,%0", "iq", 
v
);

277 
ATOMIC_ASM
(
ş—r
, , "ªdb %b1,%0", "iq", ~
v
);

278 
ATOMIC_ASM
(
add
, , "addb %b1,%0", "iq", 
v
);

279 
ATOMIC_ASM
(
subŒaù
, , "subb %b1,%0", "iq", 
v
);

281 
ATOMIC_ASM
(
£t
, , "Üw %w1,%0", "œ", 
v
);

282 
ATOMIC_ASM
(
ş—r
, , "ªdw %w1,%0", "œ", ~
v
);

283 
ATOMIC_ASM
(
add
, , "addw %w1,%0", "œ", 
v
);

284 
ATOMIC_ASM
(
subŒaù
, , "subw %w1,%0", "œ", 
v
);

286 
ATOMIC_ASM
(
£t
, , "ÜÈ%1,%0", "œ", 
v
);

287 
ATOMIC_ASM
(
ş—r
, , "ªdÈ%1,%0", "œ", ~
v
);

288 
ATOMIC_ASM
(
add
, , "addÈ%1,%0", "œ", 
v
);

289 
ATOMIC_ASM
(
subŒaù
, , "subÈ%1,%0", "œ", 
v
);

291 
ATOMIC_ASM
(
£t
, , "Üq %1,%0", "œ", 
v
);

292 
ATOMIC_ASM
(
ş—r
, , "ªdq %1,%0", "œ", ~
v
);

293 
ATOMIC_ASM
(
add
, , "addq %1,%0", "œ", 
v
);

294 
ATOMIC_ASM
(
subŒaù
, , "subq %1,%0", "œ", 
v
);

296 
ATOMIC_STORE_LOAD
(, "cmpxchgb %b0,%1", "xchgb %b1,%0");

297 
ATOMIC_STORE_LOAD
(,"cmpxchgw %w0,%1", "xchgw %w1,%0");

298 
ATOMIC_STORE_LOAD
(, "cmpxchgl %0,%1", "xchgl %1,%0");

299 
ATOMIC_STORE_LOAD
(, "cmpxchgq %0,%1", "xchgq %1,%0");

301 #undeà
ATOMIC_ASM


302 #undeà
ATOMIC_STORE_LOAD


304 #iâdeà
WANT_FUNCTIONS


307 #ifdeà
__GNUCLIKE_ASM


309 
__šlše
 
u_št


310 
	$©omic_»adªdş—r_št
(vŞ©
u_št
 *
addr
)

312 
u_št
 
»s
;

314 
»s
 = 0;

315 
__asm
 
	`__vŞ©e
(

318 : "+r" (
»s
),

319 "=m" (*
addr
)

320 : "m" (*
addr
));

322  (
»s
);

323 
	}
}

325 
__šlše
 
u_lÚg


326 
	$©omic_»adªdş—r_lÚg
(vŞ©
u_lÚg
 *
addr
)

328 
u_lÚg
 
»s
;

330 
»s
 = 0;

331 
__asm
 
	`__vŞ©e
(

334 : "+r" (
»s
),

335 "=m" (*
addr
)

336 : "m" (*
addr
));

338  (
»s
);

339 
	}
}

343 
u_št
 
©omic_»adªdş—r_št
(vŞ©u_šˆ*
addr
);

344 
u_lÚg
 
©omic_»adªdş—r_lÚg
(vŞ©u_lÚg *
addr
);

348 
	#©omic_£t_acq_ch¬
 
©omic_£t_b¬r_ch¬


	)

349 
	#©omic_£t_»l_ch¬
 
©omic_£t_b¬r_ch¬


	)

350 
	#©omic_ş—r_acq_ch¬
 
©omic_ş—r_b¬r_ch¬


	)

351 
	#©omic_ş—r_»l_ch¬
 
©omic_ş—r_b¬r_ch¬


	)

352 
	#©omic_add_acq_ch¬
 
©omic_add_b¬r_ch¬


	)

353 
	#©omic_add_»l_ch¬
 
©omic_add_b¬r_ch¬


	)

354 
	#©omic_subŒaù_acq_ch¬
 
©omic_subŒaù_b¬r_ch¬


	)

355 
	#©omic_subŒaù_»l_ch¬
 
©omic_subŒaù_b¬r_ch¬


	)

357 
	#©omic_£t_acq_shÜt
 
©omic_£t_b¬r_shÜt


	)

358 
	#©omic_£t_»l_shÜt
 
©omic_£t_b¬r_shÜt


	)

359 
	#©omic_ş—r_acq_shÜt
 
©omic_ş—r_b¬r_shÜt


	)

360 
	#©omic_ş—r_»l_shÜt
 
©omic_ş—r_b¬r_shÜt


	)

361 
	#©omic_add_acq_shÜt
 
©omic_add_b¬r_shÜt


	)

362 
	#©omic_add_»l_shÜt
 
©omic_add_b¬r_shÜt


	)

363 
	#©omic_subŒaù_acq_shÜt
 
©omic_subŒaù_b¬r_shÜt


	)

364 
	#©omic_subŒaù_»l_shÜt
 
©omic_subŒaù_b¬r_shÜt


	)

366 
	#©omic_£t_acq_št
 
©omic_£t_b¬r_št


	)

367 
	#©omic_£t_»l_št
 
©omic_£t_b¬r_št


	)

368 
	#©omic_ş—r_acq_št
 
©omic_ş—r_b¬r_št


	)

369 
	#©omic_ş—r_»l_št
 
©omic_ş—r_b¬r_št


	)

370 
	#©omic_add_acq_št
 
©omic_add_b¬r_št


	)

371 
	#©omic_add_»l_št
 
©omic_add_b¬r_št


	)

372 
	#©omic_subŒaù_acq_št
 
©omic_subŒaù_b¬r_št


	)

373 
	#©omic_subŒaù_»l_št
 
©omic_subŒaù_b¬r_št


	)

374 
	#©omic_cmp£t_acq_št
 
©omic_cmp£t_št


	)

375 
	#©omic_cmp£t_»l_št
 
©omic_cmp£t_št


	)

377 
	#©omic_£t_acq_lÚg
 
©omic_£t_b¬r_lÚg


	)

378 
	#©omic_£t_»l_lÚg
 
©omic_£t_b¬r_lÚg


	)

379 
	#©omic_ş—r_acq_lÚg
 
©omic_ş—r_b¬r_lÚg


	)

380 
	#©omic_ş—r_»l_lÚg
 
©omic_ş—r_b¬r_lÚg


	)

381 
	#©omic_add_acq_lÚg
 
©omic_add_b¬r_lÚg


	)

382 
	#©omic_add_»l_lÚg
 
©omic_add_b¬r_lÚg


	)

383 
	#©omic_subŒaù_acq_lÚg
 
©omic_subŒaù_b¬r_lÚg


	)

384 
	#©omic_subŒaù_»l_lÚg
 
©omic_subŒaù_b¬r_lÚg


	)

385 
	#©omic_cmp£t_acq_lÚg
 
©omic_cmp£t_lÚg


	)

386 
	#©omic_cmp£t_»l_lÚg
 
©omic_cmp£t_lÚg


	)

389 
	#©omic_£t_8
 
©omic_£t_ch¬


	)

390 
	#©omic_£t_acq_8
 
©omic_£t_acq_ch¬


	)

391 
	#©omic_£t_»l_8
 
©omic_£t_»l_ch¬


	)

392 
	#©omic_ş—r_8
 
©omic_ş—r_ch¬


	)

393 
	#©omic_ş—r_acq_8
 
©omic_ş—r_acq_ch¬


	)

394 
	#©omic_ş—r_»l_8
 
©omic_ş—r_»l_ch¬


	)

395 
	#©omic_add_8
 
©omic_add_ch¬


	)

396 
	#©omic_add_acq_8
 
©omic_add_acq_ch¬


	)

397 
	#©omic_add_»l_8
 
©omic_add_»l_ch¬


	)

398 
	#©omic_subŒaù_8
 
©omic_subŒaù_ch¬


	)

399 
	#©omic_subŒaù_acq_8
 
©omic_subŒaù_acq_ch¬


	)

400 
	#©omic_subŒaù_»l_8
 
©omic_subŒaù_»l_ch¬


	)

401 
	#©omic_lßd_acq_8
 
©omic_lßd_acq_ch¬


	)

402 
	#©omic_¡Üe_»l_8
 
©omic_¡Üe_»l_ch¬


	)

405 
	#©omic_£t_16
 
©omic_£t_shÜt


	)

406 
	#©omic_£t_acq_16
 
©omic_£t_acq_shÜt


	)

407 
	#©omic_£t_»l_16
 
©omic_£t_»l_shÜt


	)

408 
	#©omic_ş—r_16
 
©omic_ş—r_shÜt


	)

409 
	#©omic_ş—r_acq_16
 
©omic_ş—r_acq_shÜt


	)

410 
	#©omic_ş—r_»l_16
 
©omic_ş—r_»l_shÜt


	)

411 
	#©omic_add_16
 
©omic_add_shÜt


	)

412 
	#©omic_add_acq_16
 
©omic_add_acq_shÜt


	)

413 
	#©omic_add_»l_16
 
©omic_add_»l_shÜt


	)

414 
	#©omic_subŒaù_16
 
©omic_subŒaù_shÜt


	)

415 
	#©omic_subŒaù_acq_16
 
©omic_subŒaù_acq_shÜt


	)

416 
	#©omic_subŒaù_»l_16
 
©omic_subŒaù_»l_shÜt


	)

417 
	#©omic_lßd_acq_16
 
©omic_lßd_acq_shÜt


	)

418 
	#©omic_¡Üe_»l_16
 
©omic_¡Üe_»l_shÜt


	)

421 
	#©omic_£t_32
 
©omic_£t_št


	)

422 
	#©omic_£t_acq_32
 
©omic_£t_acq_št


	)

423 
	#©omic_£t_»l_32
 
©omic_£t_»l_št


	)

424 
	#©omic_ş—r_32
 
©omic_ş—r_št


	)

425 
	#©omic_ş—r_acq_32
 
©omic_ş—r_acq_št


	)

426 
	#©omic_ş—r_»l_32
 
©omic_ş—r_»l_št


	)

427 
	#©omic_add_32
 
©omic_add_št


	)

428 
	#©omic_add_acq_32
 
©omic_add_acq_št


	)

429 
	#©omic_add_»l_32
 
©omic_add_»l_št


	)

430 
	#©omic_subŒaù_32
 
©omic_subŒaù_št


	)

431 
	#©omic_subŒaù_acq_32
 
©omic_subŒaù_acq_št


	)

432 
	#©omic_subŒaù_»l_32
 
©omic_subŒaù_»l_št


	)

433 
	#©omic_lßd_acq_32
 
©omic_lßd_acq_št


	)

434 
	#©omic_¡Üe_»l_32
 
©omic_¡Üe_»l_št


	)

435 
	#©omic_cmp£t_32
 
©omic_cmp£t_št


	)

436 
	#©omic_cmp£t_acq_32
 
©omic_cmp£t_acq_št


	)

437 
	#©omic_cmp£t_»l_32
 
©omic_cmp£t_»l_št


	)

438 
	#©omic_»adªdş—r_32
 
©omic_»adªdş—r_št


	)

439 
	#©omic_ãtchadd_32
 
©omic_ãtchadd_št


	)

442 
	#©omic_£t_64
 
©omic_£t_lÚg


	)

443 
	#©omic_£t_acq_64
 
©omic_£t_acq_lÚg


	)

444 
	#©omic_£t_»l_64
 
©omic_£t_»l_lÚg


	)

445 
	#©omic_ş—r_64
 
©omic_ş—r_lÚg


	)

446 
	#©omic_ş—r_acq_64
 
©omic_ş—r_acq_lÚg


	)

447 
	#©omic_ş—r_»l_64
 
©omic_ş—r_»l_lÚg


	)

448 
	#©omic_add_64
 
©omic_add_lÚg


	)

449 
	#©omic_add_acq_64
 
©omic_add_acq_lÚg


	)

450 
	#©omic_add_»l_64
 
©omic_add_»l_lÚg


	)

451 
	#©omic_subŒaù_64
 
©omic_subŒaù_lÚg


	)

452 
	#©omic_subŒaù_acq_64
 
©omic_subŒaù_acq_lÚg


	)

453 
	#©omic_subŒaù_»l_64
 
©omic_subŒaù_»l_lÚg


	)

454 
	#©omic_lßd_acq_64
 
©omic_lßd_acq_lÚg


	)

455 
	#©omic_¡Üe_»l_64
 
©omic_¡Üe_»l_lÚg


	)

456 
	#©omic_cmp£t_64
 
©omic_cmp£t_lÚg


	)

457 
	#©omic_cmp£t_acq_64
 
©omic_cmp£t_acq_lÚg


	)

458 
	#©omic_cmp£t_»l_64
 
©omic_cmp£t_»l_lÚg


	)

459 
	#©omic_»adªdş—r_64
 
©omic_»adªdş—r_lÚg


	)

462 
	#©omic_£t_±r
 
©omic_£t_lÚg


	)

463 
	#©omic_£t_acq_±r
 
©omic_£t_acq_lÚg


	)

464 
	#©omic_£t_»l_±r
 
©omic_£t_»l_lÚg


	)

465 
	#©omic_ş—r_±r
 
©omic_ş—r_lÚg


	)

466 
	#©omic_ş—r_acq_±r
 
©omic_ş—r_acq_lÚg


	)

467 
	#©omic_ş—r_»l_±r
 
©omic_ş—r_»l_lÚg


	)

468 
	#©omic_add_±r
 
©omic_add_lÚg


	)

469 
	#©omic_add_acq_±r
 
©omic_add_acq_lÚg


	)

470 
	#©omic_add_»l_±r
 
©omic_add_»l_lÚg


	)

471 
	#©omic_subŒaù_±r
 
©omic_subŒaù_lÚg


	)

472 
	#©omic_subŒaù_acq_±r
 
©omic_subŒaù_acq_lÚg


	)

473 
	#©omic_subŒaù_»l_±r
 
©omic_subŒaù_»l_lÚg


	)

474 
	#©omic_lßd_acq_±r
 
©omic_lßd_acq_lÚg


	)

475 
	#©omic_¡Üe_»l_±r
 
©omic_¡Üe_»l_lÚg


	)

476 
	#©omic_cmp£t_±r
 
©omic_cmp£t_lÚg


	)

477 
	#©omic_cmp£t_acq_±r
 
©omic_cmp£t_acq_lÚg


	)

478 
	#©omic_cmp£t_»l_±r
 
©omic_cmp£t_»l_lÚg


	)

479 
	#©omic_»adªdş—r_±r
 
©omic_»adªdş—r_lÚg


	)

	@/usr/include/machine/cpufunc.h

39 #iâdeà
_MACHINE_CPUFUNC_H_


40 
	#_MACHINE_CPUFUNC_H_


	)

42 #iâdeà
_SYS_CDEFS_H_


43 #”rÜ 
this
 
fe
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


46 
	g»giÚ_desütÜ
;

48 
	#»adb
(
va
è(*(vŞ©
u_št8_t
 *è(va))

	)

49 
	#»adw
(
va
è(*(vŞ©
u_št16_t
 *è(va))

	)

50 
	#»adl
(
va
è(*(vŞ©
u_št32_t
 *è(va))

	)

51 
	#»adq
(
va
è(*(vŞ©
u_št64_t
 *è(va))

	)

53 
	#wr™eb
(
va
, 
d
è(*(vŞ©
u_št8_t
 *è(vaèğ(d))

	)

54 
	#wr™ew
(
va
, 
d
è(*(vŞ©
u_št16_t
 *è(vaèğ(d))

	)

55 
	#wr™–
(
va
, 
d
è(*(vŞ©
u_št32_t
 *è(vaèğ(d))

	)

56 
	#wr™eq
(
va
, 
d
è(*(vŞ©
u_št64_t
 *è(vaèğ(d))

	)

58 #ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__CC_SUPPORTS___INLINE
)

60 
__šlše
 

61 
	$b»akpošt
()

63 
__asm
 
	`__vŞ©e
("int $3");

64 
	}
}

66 
__šlše
 
u_št


67 
	$bsæ
(
u_št
 
mask
)

69 
u_št
 
»suÉ
;

71 
__asm
 
	`__vŞ©e
("bsæ %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

72  (
»suÉ
);

73 
	}
}

75 
__šlše
 
u_lÚg


76 
	$bsfq
(
u_lÚg
 
mask
)

78 
u_lÚg
 
»suÉ
;

80 
__asm
 
	`__vŞ©e
("bsfq %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

81  (
»suÉ
);

82 
	}
}

84 
__šlše
 
u_št


85 
	$b¤l
(
u_št
 
mask
)

87 
u_št
 
»suÉ
;

89 
__asm
 
	`__vŞ©e
("b¤È%1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

90  (
»suÉ
);

91 
	}
}

93 
__šlše
 
u_lÚg


94 
	$b¤q
(
u_lÚg
 
mask
)

96 
u_lÚg
 
»suÉ
;

98 
__asm
 
	`__vŞ©e
("b¤q %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

99  (
»suÉ
);

100 
	}
}

102 
__šlše
 

103 
	$şæush
(
u_lÚg
 
addr
)

106 
__asm
 
	`__vŞ©e
("şæush %0" : : "m" (*(*)
addr
));

107 
	}
}

109 
__šlše
 

110 
	$di§bË_šŒ
()

112 
__asm
 
	`__vŞ©e
("cli" : : : "memory");

113 
	}
}

115 
__šlše
 

116 
	$do_ıuid
(
u_št
 
ax
, u_šˆ*
p
)

118 
__asm
 
	`__vŞ©e
("cpuid"

119 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

120 : "0" (
ax
));

121 
	}
}

123 
__šlše
 

124 
	$ıuid_couÁ
(
u_št
 
ax
, u_šˆ
cx
, u_šˆ*
p
)

126 
__asm
 
	`__vŞ©e
("cpuid"

127 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

128 : "0" (
ax
), "c" (
cx
));

129 
	}
}

131 
__šlše
 

132 
	$’abË_šŒ
()

134 
__asm
 
	`__vŞ©e
("sti");

135 
	}
}

137 #ifdeà
_KERNEL


139 
	#HAVE_INLINE_FFS


	)

140 
	#ffs
(
x
è
	`__butš_ffs
(x)

	)

142 
	#HAVE_INLINE_FFSL


	)

144 
__šlše
 

145 
	$ff¦
(
mask
)

147  (
mask
 =ğ0 ? mask : ()
	`bsfq
((
u_lÚg
)mask) + 1);

148 
	}
}

150 
	#HAVE_INLINE_FLS


	)

152 
__šlše
 

153 
	$æs
(
mask
)

155  (
mask
 =ğ0 ? mask : ()
	`b¤l
((
u_št
)mask) + 1);

156 
	}
}

158 
	#HAVE_INLINE_FLSL


	)

160 
__šlše
 

161 
	$æ¦
(
mask
)

163  (
mask
 =ğ0 ? mask : ()
	`b¤q
((
u_lÚg
)mask) + 1);

164 
	}
}

168 
__šlše
 

169 
	$h®t
()

171 
__asm
 
	`__vŞ©e
("hlt");

172 
	}
}

174 
__šlše
 
u_ch¬


175 
	$šb
(
u_št
 
pÜt
)

177 
u_ch¬
 
d©a
;

179 
__asm
 vŞ©e("šb %w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

180  (
d©a
);

181 
	}
}

183 
__šlše
 
u_št


184 
	$šl
(
u_št
 
pÜt
)

186 
u_št
 
d©a
;

188 
__asm
 vŞ©e("šÈ%w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

189  (
d©a
);

190 
	}
}

192 
__šlše
 

193 
	$šsb
(
u_št
 
pÜt
, *
addr
, 
size_t
 
út
)

195 
__asm
 
	`__vŞ©e
("cld;„ep; insb"

196 : "+D" (
addr
), "+c" (
út
)

197 : "d" (
pÜt
)

199 
	}
}

201 
__šlše
 

202 
	$šsw
(
u_št
 
pÜt
, *
addr
, 
size_t
 
út
)

204 
__asm
 
	`__vŞ©e
("cld;„ep; insw"

205 : "+D" (
addr
), "+c" (
út
)

206 : "d" (
pÜt
)

208 
	}
}

210 
__šlše
 

211 
	$š¦
(
u_št
 
pÜt
, *
addr
, 
size_t
 
út
)

213 
__asm
 
	`__vŞ©e
("cld;„ep; insl"

214 : "+D" (
addr
), "+c" (
út
)

215 : "d" (
pÜt
)

217 
	}
}

219 
__šlše
 

220 
	$švd
()

222 
__asm
 
	`__vŞ©e
("invd");

223 
	}
}

225 
__šlše
 
u_shÜt


226 
	$šw
(
u_št
 
pÜt
)

228 
u_shÜt
 
d©a
;

230 
__asm
 vŞ©e("šw %w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

231  (
d©a
);

232 
	}
}

234 
__šlše
 

235 
	$outb
(
u_št
 
pÜt
, 
u_ch¬
 
d©a
)

237 
__asm
 vŞ©e("outb %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

238 
	}
}

240 
__šlše
 

241 
	$ou
(
u_št
 
pÜt
, u_šˆ
d©a
)

243 
__asm
 vŞ©e("ou %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

244 
	}
}

246 
__šlše
 

247 
	$outsb
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

249 
__asm
 
	`__vŞ©e
("cld;„ep; outsb"

250 : "+S" (
addr
), "+c" (
út
)

251 : "d" (
pÜt
));

252 
	}
}

254 
__šlše
 

255 
	$outsw
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

257 
__asm
 
	`__vŞ©e
("cld;„ep; outsw"

258 : "+S" (
addr
), "+c" (
út
)

259 : "d" (
pÜt
));

260 
	}
}

262 
__šlše
 

263 
	$out¦
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

265 
__asm
 
	`__vŞ©e
("cld;„ep; outsl"

266 : "+S" (
addr
), "+c" (
út
)

267 : "d" (
pÜt
));

268 
	}
}

270 
__šlše
 

271 
	$outw
(
u_št
 
pÜt
, 
u_shÜt
 
d©a
)

273 
__asm
 vŞ©e("outw %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

274 
	}
}

276 
__šlše
 

277 
	$mãnû
()

280 
__asm
 
	`__vŞ©e
("mfence" : : : "memory");

281 
	}
}

283 
__šlše
 

284 
	$Ÿ32_·u£
()

286 
__asm
 
	`__vŞ©e
("pause");

287 
	}
}

289 
__šlše
 
u_lÚg


290 
	$»ad_ræags
()

292 
u_lÚg
 
rf
;

294 
__asm
 
	`__vŞ©e
("pushfq;…İq %0" : "ô" (
rf
));

295  (
rf
);

296 
	}
}

298 
__šlše
 
u_št64_t


299 
	$rdm¤
(
u_št
 
m¤
)

301 
u_št32_t
 
low
, 
high
;

303 
__asm
 
	`__vŞ©e
("rdm¤" : "÷" (
low
), "=d" (
high
è: "c" (
m¤
));

304  (
low
 | ((
u_št64_t
)
high
 << 32));

305 
	}
}

307 
__šlše
 
u_št64_t


308 
	$rdpmc
(
u_št
 
pmc
)

310 
u_št32_t
 
low
, 
high
;

312 
__asm
 
	`__vŞ©e
("rdpmc" : "÷" (
low
), "=d" (
high
è: "c" (
pmc
));

313  (
low
 | ((
u_št64_t
)
high
 << 32));

314 
	}
}

316 
__šlše
 
u_št64_t


317 
	$rdtsc
()

319 
u_št32_t
 
low
, 
high
;

321 
__asm
 
	`__vŞ©e
("rdtsc" : "÷" (
low
), "=d" (
high
));

322  (
low
 | ((
u_št64_t
)
high
 << 32));

323 
	}
}

325 
__šlše
 

326 
	$wbšvd
()

328 
__asm
 
	`__vŞ©e
("wbinvd");

329 
	}
}

331 
__šlše
 

332 
	$wr™e_ræags
(
u_lÚg
 
rf
)

334 
__asm
 
	`__vŞ©e
("pushq %0;…İfq" : : "r" (
rf
));

335 
	}
}

337 
__šlše
 

338 
	$wrm¤
(
u_št
 
m¤
, 
u_št64_t
 
Ãwv®
)

340 
u_št32_t
 
low
, 
high
;

342 
low
 = 
Ãwv®
;

343 
high
 = 
Ãwv®
 >> 32;

344 
__asm
 
	`__vŞ©e
("wrm¤" : : "a" (
low
), "d" (
high
), "c" (
m¤
));

345 
	}
}

347 
__šlše
 

348 
	$lßd_ü0
(
u_lÚg
 
d©a
)

351 
__asm
 
	`__vŞ©e
("movq %0,%%ü0" : : "r" (
d©a
));

352 
	}
}

354 
__šlše
 
u_lÚg


355 
	$rü0
()

357 
u_lÚg
 
d©a
;

359 
__asm
 
	`__vŞ©e
("movq %%ü0,%0" : "ô" (
d©a
));

360  (
d©a
);

361 
	}
}

363 
__šlše
 
u_lÚg


364 
	$rü2
()

366 
u_lÚg
 
d©a
;

368 
__asm
 
	`__vŞ©e
("movq %%ü2,%0" : "ô" (
d©a
));

369  (
d©a
);

370 
	}
}

372 
__šlše
 

373 
	$lßd_ü3
(
u_lÚg
 
d©a
)

376 
__asm
 
	`__vŞ©e
("movq %0,%%ü3" : : "r" (
d©a
) : "memory");

377 
	}
}

379 
__šlše
 
u_lÚg


380 
	$rü3
()

382 
u_lÚg
 
d©a
;

384 
__asm
 
	`__vŞ©e
("movq %%ü3,%0" : "ô" (
d©a
));

385  (
d©a
);

386 
	}
}

388 
__šlše
 

389 
	$lßd_ü4
(
u_lÚg
 
d©a
)

391 
__asm
 
	`__vŞ©e
("movq %0,%%ü4" : : "r" (
d©a
));

392 
	}
}

394 
__šlše
 
u_lÚg


395 
	$rü4
()

397 
u_lÚg
 
d©a
;

399 
__asm
 
	`__vŞ©e
("movq %%ü4,%0" : "ô" (
d©a
));

400  (
d©a
);

401 
	}
}

406 
__šlše
 

407 
	$švÉlb
()

410 
	`lßd_ü3
(
	`rü3
());

411 
	}
}

417 
__šlše
 

418 
	$švÍg
(
u_lÚg
 
addr
)

421 
__asm
 
	`__vŞ©e
("švÍg %0" : : "m" (*(*)
addr
) : "memory");

422 
	}
}

424 
__šlše
 
u_št


425 
	$rfs
()

427 
u_št
 
£l
;

428 
__asm
 
	`__vŞ©e
("mov %%fs,%0" : "ôm" (
£l
));

429  (
£l
);

430 
	}
}

432 
__šlše
 
u_št


433 
	$rgs
()

435 
u_št
 
£l
;

436 
__asm
 
	`__vŞ©e
("mov %%gs,%0" : "ôm" (
£l
));

437  (
£l
);

438 
	}
}

440 
__šlše
 
u_št


441 
	$rss
()

443 
u_št
 
£l
;

444 
__asm
 
	`__vŞ©e
("mov %%ss,%0" : "ôm" (
£l
));

445  (
£l
);

446 
	}
}

448 
__šlše
 

449 
	$lßd_ds
(
u_št
 
£l
)

451 
__asm
 
	`__vŞ©e
("mov %0,%%ds" : : "rm" (
£l
));

452 
	}
}

454 
__šlše
 

455 
	$lßd_es
(
u_št
 
£l
)

457 
__asm
 
	`__vŞ©e
("mov %0,%%es" : : "rm" (
£l
));

458 
	}
}

460 
__šlše
 

461 
	$ıu_mÚ™Ü
(cÚ¡ *
addr
, 
ex‹nsiÚs
, 
hšts
)

463 
__asm
 
	`__vŞ©e
("monitor;"

464 : :"a" (
addr
), "c" (
ex‹nsiÚs
), "d"(
hšts
));

465 
	}
}

467 
__šlše
 

468 
	$ıu_mwa™
(
ex‹nsiÚs
, 
hšts
)

470 
__asm
 
	`__vŞ©e
("mwa™;" : :"a" (
hšts
), "c" (
ex‹nsiÚs
));

471 
	}
}

473 #ifdeà
_KERNEL


475 #iâdef 
MSR_FSBASE


476 
	#MSR_FSBASE
 0xc0000100

	)

478 
__šlše
 

479 
	$lßd_fs
(
u_št
 
£l
)

482 
__asm
 
	`__vŞ©e
("rdmsr; mov %0,%%fs; wrmsr"

483 : : "rm" (
£l
), "c" (
MSR_FSBASE
) : "eax", "edx");

484 
	}
}

486 #iâdef 
MSR_GSBASE


487 
	#MSR_GSBASE
 0xc0000101

	)

489 
__šlše
 

490 
	$lßd_gs
(
u_št
 
£l
)

497 
__asm
 
	`__vŞ©e
("pushfq; cli;„dmsr; mov %0,%%gs; wrmsr;…opfq"

498 : : "rm" (
£l
), "c" (
MSR_GSBASE
) : "eax", "edx");

499 
	}
}

502 
__šlše
 

503 
	$lßd_fs
(
u_št
 
£l
)

505 
__asm
 
	`__vŞ©e
("mov %0,%%fs" : : "rm" (
£l
));

506 
	}
}

508 
__šlše
 

509 
	$lßd_gs
(
u_št
 
£l
)

511 
__asm
 
	`__vŞ©e
("mov %0,%%gs" : : "rm" (
£l
));

512 
	}
}

515 
__šlše
 

516 
	$lidt
(
»giÚ_desütÜ
 *
addr
)

518 
__asm
 
	`__vŞ©e
("lidˆ(%0)" : : "r" (
addr
));

519 
	}
}

521 
__šlše
 

522 
	$Îdt
(
u_shÜt
 
£l
)

524 
__asm
 
	`__vŞ©e
("Îdˆ%0" : : "r" (
£l
));

525 
	}
}

527 
__šlše
 

528 
	$Ér
(
u_shÜt
 
£l
)

530 
__asm
 
	`__vŞ©e
("É¸%0" : : "r" (
£l
));

531 
	}
}

533 
__šlše
 
u_št64_t


534 
	$rdr0
()

536 
u_št64_t
 
d©a
;

537 
__asm
 
	`__vŞ©e
("movq %%dr0,%0" : "ô" (
d©a
));

538  (
d©a
);

539 
	}
}

541 
__šlše
 

542 
	$lßd_dr0
(
u_št64_t
 
dr0
)

544 
__asm
 
	`__vŞ©e
("movq %0,%%dr0" : : "r" (
dr0
));

545 
	}
}

547 
__šlše
 
u_št64_t


548 
	$rdr1
()

550 
u_št64_t
 
d©a
;

551 
__asm
 
	`__vŞ©e
("movq %%dr1,%0" : "ô" (
d©a
));

552  (
d©a
);

553 
	}
}

555 
__šlše
 

556 
	$lßd_dr1
(
u_št64_t
 
dr1
)

558 
__asm
 
	`__vŞ©e
("movq %0,%%dr1" : : "r" (
dr1
));

559 
	}
}

561 
__šlše
 
u_št64_t


562 
	$rdr2
()

564 
u_št64_t
 
d©a
;

565 
__asm
 
	`__vŞ©e
("movq %%dr2,%0" : "ô" (
d©a
));

566  (
d©a
);

567 
	}
}

569 
__šlše
 

570 
	$lßd_dr2
(
u_št64_t
 
dr2
)

572 
__asm
 
	`__vŞ©e
("movq %0,%%dr2" : : "r" (
dr2
));

573 
	}
}

575 
__šlše
 
u_št64_t


576 
	$rdr3
()

578 
u_št64_t
 
d©a
;

579 
__asm
 
	`__vŞ©e
("movq %%dr3,%0" : "ô" (
d©a
));

580  (
d©a
);

581 
	}
}

583 
__šlše
 

584 
	$lßd_dr3
(
u_št64_t
 
dr3
)

586 
__asm
 
	`__vŞ©e
("movq %0,%%dr3" : : "r" (
dr3
));

587 
	}
}

589 
__šlše
 
u_št64_t


590 
	$rdr4
()

592 
u_št64_t
 
d©a
;

593 
__asm
 
	`__vŞ©e
("movq %%dr4,%0" : "ô" (
d©a
));

594  (
d©a
);

595 
	}
}

597 
__šlše
 

598 
	$lßd_dr4
(
u_št64_t
 
dr4
)

600 
__asm
 
	`__vŞ©e
("movq %0,%%dr4" : : "r" (
dr4
));

601 
	}
}

603 
__šlše
 
u_št64_t


604 
	$rdr5
()

606 
u_št64_t
 
d©a
;

607 
__asm
 
	`__vŞ©e
("movq %%dr5,%0" : "ô" (
d©a
));

608  (
d©a
);

609 
	}
}

611 
__šlše
 

612 
	$lßd_dr5
(
u_št64_t
 
dr5
)

614 
__asm
 
	`__vŞ©e
("movq %0,%%dr5" : : "r" (
dr5
));

615 
	}
}

617 
__šlše
 
u_št64_t


618 
	$rdr6
()

620 
u_št64_t
 
d©a
;

621 
__asm
 
	`__vŞ©e
("movq %%dr6,%0" : "ô" (
d©a
));

622  (
d©a
);

623 
	}
}

625 
__šlše
 

626 
	$lßd_dr6
(
u_št64_t
 
dr6
)

628 
__asm
 
	`__vŞ©e
("movq %0,%%dr6" : : "r" (
dr6
));

629 
	}
}

631 
__šlše
 
u_št64_t


632 
	$rdr7
()

634 
u_št64_t
 
d©a
;

635 
__asm
 
	`__vŞ©e
("movq %%dr7,%0" : "ô" (
d©a
));

636  (
d©a
);

637 
	}
}

639 
__šlše
 

640 
	$lßd_dr7
(
u_št64_t
 
dr7
)

642 
__asm
 
	`__vŞ©e
("movq %0,%%dr7" : : "r" (
dr7
));

643 
	}
}

645 
__šlše
 
»gi¡”_t


646 
	$šŒ_di§bË
()

648 
»gi¡”_t
 
ræags
;

650 
ræags
 = 
	`»ad_ræags
();

651 
	`di§bË_šŒ
();

652  (
ræags
);

653 
	}
}

655 
__šlše
 

656 
	$šŒ_»¡Üe
(
»gi¡”_t
 
ræags
)

658 
	`wr™e_ræags
(
ræags
);

659 
	}
}

663 
b»akpošt
();

664 
u_št
 
bsæ
(u_šˆ
mask
);

665 
u_št
 
b¤l
(u_šˆ
mask
);

666 
di§bË_šŒ
();

667 
do_ıuid
(
u_št
 
ax
, u_šˆ*
p
);

668 
’abË_šŒ
();

669 
h®t
();

670 
Ÿ32_·u£
();

671 
u_ch¬
 
šb
(
u_št
 
pÜt
);

672 
u_št
 
šl
(u_šˆ
pÜt
);

673 
šsb
(
u_št
 
pÜt
, *
addr
, 
size_t
 
út
);

674 
š¦
(
u_št
 
pÜt
, *
addr
, 
size_t
 
út
);

675 
šsw
(
u_št
 
pÜt
, *
addr
, 
size_t
 
út
);

676 
»gi¡”_t
 
šŒ_di§bË
();

677 
šŒ_»¡Üe
(
»gi¡”_t
 
rf
);

678 
švd
();

679 
švÍg
(
u_št
 
addr
);

680 
švÉlb
();

681 
u_shÜt
 
šw
(
u_št
 
pÜt
);

682 
lidt
(
»giÚ_desütÜ
 *
addr
);

683 
Îdt
(
u_shÜt
 
£l
);

684 
lßd_ü0
(
u_lÚg
 
ü0
);

685 
lßd_ü3
(
u_lÚg
 
ü3
);

686 
lßd_ü4
(
u_lÚg
 
ü4
);

687 
lßd_dr0
(
u_št64_t
 
dr0
);

688 
lßd_dr1
(
u_št64_t
 
dr1
);

689 
lßd_dr2
(
u_št64_t
 
dr2
);

690 
lßd_dr3
(
u_št64_t
 
dr3
);

691 
lßd_dr4
(
u_št64_t
 
dr4
);

692 
lßd_dr5
(
u_št64_t
 
dr5
);

693 
lßd_dr6
(
u_št64_t
 
dr6
);

694 
lßd_dr7
(
u_št64_t
 
dr7
);

695 
lßd_fs
(
u_št
 
£l
);

696 
lßd_gs
(
u_št
 
£l
);

697 
Ér
(
u_shÜt
 
£l
);

698 
outb
(
u_št
 
pÜt
, 
u_ch¬
 
d©a
);

699 
ou
(
u_št
 
pÜt
, u_šˆ
d©a
);

700 
outsb
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
);

701 
out¦
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
);

702 
outsw
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
);

703 
outw
(
u_št
 
pÜt
, 
u_shÜt
 
d©a
);

704 
u_lÚg
 
rü0
();

705 
u_lÚg
 
rü2
();

706 
u_lÚg
 
rü3
();

707 
u_lÚg
 
rü4
();

708 
u_št64_t
 
rdm¤
(
u_št
 
m¤
);

709 
u_št64_t
 
rdpmc
(
u_št
 
pmc
);

710 
u_št64_t
 
rdr0
();

711 
u_št64_t
 
rdr1
();

712 
u_št64_t
 
rdr2
();

713 
u_št64_t
 
rdr3
();

714 
u_št64_t
 
rdr4
();

715 
u_št64_t
 
rdr5
();

716 
u_št64_t
 
rdr6
();

717 
u_št64_t
 
rdr7
();

718 
u_št64_t
 
rdtsc
();

719 
u_št
 
»ad_ræags
();

720 
u_št
 
rfs
();

721 
u_št
 
rgs
();

722 
wbšvd
();

723 
wr™e_ræags
(
u_št
 
rf
);

724 
wrm¤
(
u_št
 
m¤
, 
u_št64_t
 
Ãwv®
);

728 
»£t_db»gs
();

730 #ifdeà
_KERNEL


731 
rdm¤_§ã
(
u_št
 
m¤
, 
ušt64_t
 *
v®
);

732 
wrm¤_§ã
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
);

	@/usr/include/machine/fpu.h

41 #iâdeà
_MACHINE_FPU_H_


42 
	#_MACHINE_FPU_H_


	)

45 
	såacc87
 {

46 
u_ch¬
 
	må_by‹s
[10];

50 
	sxmmacc
 {

51 
u_ch¬
 
	mxmm_by‹s
[16];

54 
	s’vxmm
 {

55 
u_št16_t
 
	m’_cw
;

56 
u_št16_t
 
	m’_sw
;

57 
u_št8_t
 
	m’_tw
;

58 
u_št8_t
 
	m’_z”o
;

59 
u_št16_t
 
	m’_İcode
;

60 
u_št64_t
 
	m’_r
;

61 
u_št64_t
 
	m’_rdp
;

62 
u_št32_t
 
	m’_mxc¤
;

63 
u_št32_t
 
	m’_mxc¤_mask
;

66 
	s§veåu
 {

67 
’vxmm
 
	msv_’v
;

69 
åacc87
 
	må_acc
;

70 
u_ch¬
 
	må_·d
[6];

71 } 
	msv_å
[8];

72 
xmmacc
 
	msv_xmm
[16];

73 
u_ch¬
 
	msv_·d
[96];

74 } 
__®igÃd
(16);

76 #ifdeà
_KERNEL


77 
	såu_k”n_ùx
 {

78 
§veåu
 
	mhw¡©e
;

79 
§veåu
 *
	m´ev
;

80 
ušt32_t
 
	mæags
;

82 
	#FPU_KERN_CTX_FPUINITDONE
 0x01

	)

84 
	#PCB_USER_FPU
(
pcb
è((Õcb)->
pcb_æags
 & 
PCB_KERNFPU
è=ğ0)

	)

105 
	#__INITIAL_FPUCW__
 0x037F

	)

106 
	#__INITIAL_FPUCW_I386__
 0x127F

	)

107 
	#__INITIAL_MXCSR__
 0x1F80

	)

108 
	#__INITIAL_MXCSR_MASK__
 0xFFBF

	)

110 #ifdeà
_KERNEL


111 
åudÇ
();

112 
åudrİ
();

113 
åuex™
(
th»ad
 *
td
);

114 
åufÜm©
();

115 
åug‘»gs
(
th»ad
 *
td
);

116 
åuš™
();

117 
åu£Œegs
(
th»ad
 *
td
, 
§veåu
 *
addr
);

118 
åuŒ­
();

119 
åuu£rš™ed
(
th»ad
 *
td
);

120 
åu_k”n_’‹r
(
th»ad
 *
td
, 
åu_k”n_ùx
 *
ùx
,

121 
u_št
 
æags
);

122 
åu_k”n_Ëave
(
th»ad
 *
td
, 
åu_k”n_ùx
 *
ùx
);

123 
åu_k”n_th»ad
(
u_št
 
æags
);

124 
is_åu_k”n_th»ad
(
u_št
 
æags
);

129 
	#FPU_KERN_NORMAL
 0x0000

	)

	@/usr/include/machine/pcpu.h

29 #iâdeà
_MACHINE_PCPU_H_


30 
	#_MACHINE_PCPU_H_


	)

32 #iâdeà
_SYS_CDEFS_H_


36 #ià
defšed
(
XEN
è|| defšed(
XENHVM
)

37 #iâdeà
NR_VIRQS


38 
	#NR_VIRQS
 24

	)

40 #iâdeà
NR_IPIS


41 
	#NR_IPIS
 2

	)

45 #ifdeà
XENHVM


46 
	#PCPU_XEN_FIELDS
 \

48 
pc_Ï¡_´oûs£d_l1i
; \

49 
pc_Ï¡_´oûs£d_l2i


	)

51 
	#PCPU_XEN_FIELDS


	)

61 
	#PCPU_MD_FIELDS
 \

62 
pc_mÚ™Übuf
[128] 
	`__®igÃd
(128); \

63 
pıu
 *
pc_´v¥aû
; \

64 
pm­
 *
pc_cu½m­
; \

65 
amd64tss
 *
pc_ts¥
; \

66 
amd64tss
 *
pc_commÚts¥
; \

67 
»gi¡”_t
 
pc_r¥0
; \

68 
»gi¡”_t
 
pc_sü©ch_r¥
; \

69 
u_št
 
pc_­ic_id
; \

70 
u_št
 
pc_aıi_id
; \

72 
u£r_£gm’t_desütÜ
 *
pc_fs32p
; \

74 
u£r_£gm’t_desütÜ
 *
pc_gs32p
; \

76 
sy¡em_£gm’t_desütÜ
 *
pc_ldt
; \

78 
sy¡em_£gm’t_desütÜ
 *
pc_tss
; \

79 
u_št
 
pc_cmci_mask
 \

80 
PCPU_XEN_FIELDS


	)

82 #ifdeà
_KERNEL


84 #ifdeà
lšt


86 
pıu
 *
pıup
;

88 
	#PCPU_GET
(
memb”
è(
pıup
->
pc_
 ## memb”)

	)

89 
	#PCPU_ADD
(
memb”
, 
v®
è(
pıup
->
pc_
 ## memb” +ğ(v®))

	)

90 
	#PCPU_INC
(
memb”
è
	`PCPU_ADD
(memb”, 1)

	)

91 
	#PCPU_PTR
(
memb”
è(&
pıup
->
pc_
 ## memb”)

	)

92 
	#PCPU_SET
(
memb”
, 
v®
è(
pıup
->
pc_
 ## memb” = (v®))

	)

94 #–ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__GNUCLIKE___TYPEOF
)

99 
	#__pıu_off£t
(
Çme
) \

100 
	`__off£tof
(
pıu
, 
Çme
)

	)

105 
	#__pıu_ty³
(
Çme
) \

106 
	`__ty³of
(((
pıu
 *)0)->
Çme
)

	)

111 
	#__PCPU_PTR
(
Çme
è
	`__ex‹nsiÚ__
 ({ \

112 
	`__pıu_ty³
(
Çme
è*
__p
; \

114 
__asm
 
	`__vŞ©e
("movq %%gs:%1,%0;‡ddq %2,%0" \

115 : "ô" (
__p
) \

116 : "m" (*(
pıu
 *)(
	`__pıu_off£t
(
pc_´v¥aû
))), \

117 "i" (
	`__pıu_off£t
(
Çme
))); \

119 
__p
; \

120 })

	)

125 
	#__PCPU_GET
(
Çme
è
	`__ex‹nsiÚ__
 ({ \

126 
	`__pıu_ty³
(
Çme
è
__»s
; \

127 
	s__s
 { \

128 
u_ch¬
 
__b
[
	`MIN
((
	`__pıu_ty³
(
Çme
)), 8)]; \

129 } 
__s
; \

131 ià((
__»s
) == 1 || (__res) == 2 || \

132 (
__»s
) == 4 || (__res) == 8) { \

133 
__asm
 
	`__vŞ©e
("mov %%gs:%1,%0" \

134 : "ô" (
__s
) \

135 : "m" (*(
__s
 *)(
	`__pıu_off£t
(
Çme
)))); \

136 *(
__s
 *)(*)&
__»s
 = __s; \

138 
__»s
 = *
	`__PCPU_PTR
(
Çme
); \

140 
__»s
; \

141 })

	)

147 
	#__PCPU_ADD
(
Çme
, 
v®
) do { \

148 
	`__pıu_ty³
(
Çme
è
__v®
; \

149 
	s__s
 { \

150 
u_ch¬
 
__b
[
	`MIN
((
	`__pıu_ty³
(
Çme
)), 8)]; \

151 } 
__s
; \

153 
__v®
 = (
v®
); \

154 ià((
__v®
) == 1 || (__val) == 2 || \

155 (
__v®
) == 4 || (__val) == 8) { \

156 
__s
 = *(__ *)(*)&
__v®
; \

157 
__asm
 
	`__vŞ©e
("add %1,%%gs:%0" \

158 : "=m" (*(
__s
 *)(
	`__pıu_off£t
(
Çme
))) \

159 : "r" (
__s
)); \

161 *
	`__PCPU_PTR
(
Çme
è+ğ
__v®
; \

162 } 0)

	)

168 
	#__PCPU_INC
(
Çme
) do { \

169 
	`CTASSERT
((
	`__pıu_ty³
(
Çme
)) == 1 || \

170 (
	`__pıu_ty³
(
Çme
)) == 2 || \

171 (
	`__pıu_ty³
(
Çme
)) == 4 || \

172 (
	`__pıu_ty³
(
Çme
)) == 8); \

173 ià((
	`__pıu_ty³
(
Çme
)) == 1) { \

174 
__asm
 
	`__vŞ©e
("incb %%gs:%0" \

175 : "=m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name)))\

176 : "m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name))));\

177 } ià((
	`__pıu_ty³
(
Çme
)) == 2) { \

178 
__asm
 
	`__vŞ©e
("incw %%gs:%0" \

179 : "=m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name)))\

180 : "m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name))));\

181 } ià((
	`__pıu_ty³
(
Çme
)) == 4) { \

182 
__asm
 
	`__vŞ©e
("incl %%gs:%0" \

183 : "=m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name)))\

184 : "m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name))));\

185 } ià((
	`__pıu_ty³
(
Çme
)) == 8) { \

186 
__asm
 
	`__vŞ©e
("incq %%gs:%0" \

187 : "=m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name)))\

188 : "m" (*(
	`__pıu_ty³
(
Çme
è*)(
	`__pıu_off£t
(name))));\

190 } 0)

	)

195 
	#__PCPU_SET
(
Çme
, 
v®
) { \

196 
	`__pıu_ty³
(
Çme
è
__v®
; \

197 
	s__s
 { \

198 
u_ch¬
 
__b
[
	`MIN
((
	`__pıu_ty³
(
Çme
)), 8)]; \

199 } 
__s
; \

201 
__v®
 = (
v®
); \

202 ià((
__v®
) == 1 || (__val) == 2 || \

203 (
__v®
) == 4 || (__val) == 8) { \

204 
__s
 = *(__ *)(*)&
__v®
; \

205 
__asm
 
	`__vŞ©e
("mov %1,%%gs:%0" \

206 : "=m" (*(
__s
 *)(
	`__pıu_off£t
(
Çme
))) \

207 : "r" (
__s
)); \

209 *
	`__PCPU_PTR
(
Çme
èğ
__v®
; \

211 }

	)

213 
	#PCPU_GET
(
memb”
è
	`__PCPU_GET
(
pc_
 ## memb”)

	)

214 
	#PCPU_ADD
(
memb”
, 
v®
è
	`__PCPU_ADD
(
pc_
 ## memb”, v®)

	)

215 
	#PCPU_INC
(
memb”
è
	`__PCPU_INC
(
pc_
 ## memb”)

	)

216 
	#PCPU_PTR
(
memb”
è
	`__PCPU_PTR
(
pc_
 ## memb”)

	)

217 
	#PCPU_SET
(
memb”
, 
v®
è
	`__PCPU_SET
(
pc_
 ## memb”, v®)

	)

219 
__šlše
 
__pu»2
 
th»ad
 *

220 
	$__cu¹h»ad
()

222 
th»ad
 *
td
;

224 
	`__asm
("movq %%gs:0,%0" : "ô" (
td
));

225  (
td
);

226 
	}
}

227 
	#cu¹h»ad
 (
	`__cu¹h»ad
())

	)

	@/usr/include/machine/pmap.h

45 #iâdeà
_MACHINE_PMAP_H_


46 
	#_MACHINE_PMAP_H_


	)

53 
	#PG_V
 0x001

	)

54 
	#PG_RW
 0x002

	)

55 
	#PG_U
 0x004

	)

56 
	#PG_NC_PWT
 0x008

	)

57 
	#PG_NC_PCD
 0x010

	)

58 
	#PG_A
 0x020

	)

59 
	#PG_M
 0x040

	)

60 
	#PG_PS
 0x080

	)

61 
	#PG_PTE_PAT
 0x080

	)

62 
	#PG_G
 0x100

	)

63 
	#PG_AVAIL1
 0x200

	)

64 
	#PG_AVAIL2
 0x400

	)

65 
	#PG_AVAIL3
 0x800

	)

66 
	#PG_PDE_PAT
 0x1000

	)

67 
	#PG_NX
 (1ul<<63è

	)

71 
	#PG_W
 
PG_AVAIL1


	)

72 
	#PG_MANAGED
 
PG_AVAIL2


	)

73 
	#PG_FRAME
 (0x000ffffffffff000ul)

	)

74 
	#PG_PS_FRAME
 (0x000ffffffã00000ul)

	)

75 
	#PG_PROT
 (
PG_RW
|
PG_U
è

	)

76 
	#PG_N
 (
PG_NC_PWT
|
PG_NC_PCD
è

	)

79 
	#PG_PDE_CACHE
 (
PG_PDE_PAT
 | 
PG_NC_PWT
 | 
PG_NC_PCD
)

	)

80 
	#PG_PTE_CACHE
 (
PG_PTE_PAT
 | 
PG_NC_PWT
 | 
PG_NC_PCD
)

	)

86 
	#PG_PTE_PROMOTE
 (
PG_NX
 | 
PG_MANAGED
 | 
PG_W
 | 
PG_G
 | 
PG_PTE_PAT
 | \

87 
PG_M
 | 
PG_A
 | 
PG_NC_PCD
 | 
PG_NC_PWT
 | 
PG_U
 | 
PG_RW
 | 
PG_V
)

	)

93 
	#PGEX_P
 0x01

	)

94 
	#PGEX_W
 0x02

	)

95 
	#PGEX_U
 0x04

	)

96 
	#PGEX_RSV
 0x08

	)

97 
	#PGEX_I
 0x10

	)

103 
	#KVADDR
(
l4
, 
l3
, 
l2
, 
l1
) ( \

105 (()(
l4
è<< 
PML4SHIFT
) | \

106 (()(
l3
è<< 
PDPSHIFT
) | \

107 (()(
l2
è<< 
PDRSHIFT
) | \

108 (()(
l1
è<< 
PAGE_SHIFT
))

	)

110 
	#UVADDR
(
l4
, 
l3
, 
l2
, 
l1
) ( \

111 (()(
l4
è<< 
PML4SHIFT
) | \

112 (()(
l3
è<< 
PDPSHIFT
) | \

113 (()(
l2
è<< 
PDRSHIFT
) | \

114 (()(
l1
è<< 
PAGE_SHIFT
))

	)

117 #iâdeà
NKPT


118 
	#NKPT
 32

	)

121 
	#NKPML4E
 1

	)

122 
	#NKPDPE
 
	`howmªy
(
NKPT
, 
NPDEPG
)

	)

124 
	#NUPML4E
 (
NPML4EPG
/2è

	)

125 
	#NUPDPE
 (
NUPML4E
*
NPDPEPG
)

	)

126 
	#NUPDE
 (
NUPDPE
*
NPDEPG
è

	)

128 
	#NDMPML4E
 1

	)

133 
	#PML4PML4I
 (
NPML4EPG
/2è

	)

135 
	#KPML4I
 (
NPML4EPG
-1è

	)

136 
	#DMPML4I
 (
KPML4I
-1è

	)

138 
	#KPDPI
 (
NPDPEPG
-2è

	)

143 
	#ISA_HOLE_START
 0xa0000

	)

144 
	#ISA_HOLE_LENGTH
 (0x100000-
ISA_HOLE_START
)

	)

146 #iâdeà
LOCORE


148 
	~<sys/queue.h
>

149 
	~<sys/_lock.h
>

150 
	~<sys/_mu‹x.h
>

152 
u_št64_t
 
	tpd_’Œy_t
;

153 
u_št64_t
 
	t±_’Œy_t
;

154 
u_št64_t
 
	tpdp_’Œy_t
;

155 
u_št64_t
 
	tpml4_’Œy_t
;

157 
	#PML4ESHIFT
 (3)

	)

158 
	#PDPESHIFT
 (3)

	)

159 
	#PTESHIFT
 (3)

	)

160 
	#PDESHIFT
 (3)

	)

165 #ifdeà
_KERNEL


166 
	#addr_PTm­
 (
	`KVADDR
(
PML4PML4I
, 0, 0, 0))

	)

167 
	#addr_PDm­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, 0, 0))

	)

168 
	#addr_PDPm­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, 0))

	)

169 
	#addr_PML4m­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, PML4PML4I))

	)

170 
	#addr_PML4pml4e
 (
addr_PML4m­
 + (
PML4PML4I
 * (
pml4_’Œy_t
)))

	)

171 
	#PTm­
 ((
±_’Œy_t
 *)(
addr_PTm­
))

	)

172 
	#PDm­
 ((
pd_’Œy_t
 *)(
addr_PDm­
))

	)

173 
	#PDPm­
 ((
pd_’Œy_t
 *)(
addr_PDPm­
))

	)

174 
	#PML4m­
 ((
pd_’Œy_t
 *)(
addr_PML4m­
))

	)

175 
	#PML4pml4e
 ((
pd_’Œy_t
 *)(
addr_PML4pml4e
))

	)

177 
u_št64_t
 
KPML4phys
;

185 
±_’Œy_t
 *
vtİ‹
(
vm_off£t_t
);

186 
	#vtİhys
(
va
è
	`pm­_kexŒaù
(((
vm_off£t_t
è(va)))

	)

188 
__šlše
 
±_’Œy_t


189 
	$±e_lßd
(
±_’Œy_t
 *
±•
)

191 
±_’Œy_t
 
r
;

193 
r
 = *
±•
;

194  (
r
);

195 
	}
}

197 
__šlše
 
±_’Œy_t


198 
	$±e_lßd_¡Üe
(
±_’Œy_t
 *
±•
,…t_’Œy_ˆ
±e
)

200 
±_’Œy_t
 
r
;

202 
__asm
 
	`__vŞ©e
(

204 : "=m" (*
±•
),

205 "ô" (
r
)

206 : "1" (
±e
),

207 "m" (*
±•
));

208  (
r
);

209 
	}
}

211 
	#±e_lßd_ş—r
(
±e
è
	`©omic_»adªdş—r_lÚg
Õ‹)

	)

213 
__šlše
 

214 
	$±e_¡Üe
(
±_’Œy_t
 *
±•
,…t_’Œy_ˆ
±e
)

217 *
±•
 = 
±e
;

218 
	}
}

220 
	#±e_ş—r
(
±•
è
	`±e_¡Üe
(Õ‹p), (
±_’Œy_t
)0ULL)

	)

222 
	#pde_¡Üe
(
pd•
, 
pde
è
	`±e_¡Üe
(Õd•), (pde))

	)

224 
±_’Œy_t
 
pg_nx
;

231 
	gpv_’Œy
;

232 
	gpv_chunk
;

234 
	smd_·ge
 {

235 
TAILQ_HEAD
(,
pv_’Œy
è
	mpv_li¡
;

236 
	m·t_mode
;

243 
	spm­
 {

244 
mtx
 
	mpm_mtx
;

245 
pml4_’Œy_t
 *
	mpm_pml4
;

246 
TAILQ_HEAD
(,
pv_chunk
è
	mpm_pvchunk
;

247 
ıumask_t
 
	mpm_aùive
;

249 
pm­_¡©i¡ics
 
	mpm_¡©s
;

250 
vm_·ge_t
 
	mpm_roÙ
;

253 
pm­
 *
	tpm­_t
;

255 #ifdeà
_KERNEL


256 
pm­
 
k”Ãl_pm­_¡Üe
;

257 
	#k”Ãl_pm­
 (&
k”Ãl_pm­_¡Üe
)

	)

259 
	#PMAP_LOCK
(
pm­
è
	`mtx_lock
(&Õm­)->
pm_mtx
)

	)

260 
	#PMAP_LOCK_ASSERT
(
pm­
, 
ty³
) \

261 
	`mtx_as£¹
(&(
pm­
)->
pm_mtx
, (
ty³
))

	)

262 
	#PMAP_LOCK_DESTROY
(
pm­
è
	`mtx_de¡roy
(&Õm­)->
pm_mtx
)

	)

263 
	#PMAP_LOCK_INIT
(
pm­
è
	`mtx_š™
(&Õm­)->
pm_mtx
, "pmap", \

264 
NULL
, 
MTX_DEF
 | 
MTX_DUPOK
)

	)

265 
	#PMAP_LOCKED
(
pm­
è
	`mtx_owÃd
(&Õm­)->
pm_mtx
)

	)

266 
	#PMAP_MTX
(
pm­
è(&Õm­)->
pm_mtx
)

	)

267 
	#PMAP_TRYLOCK
(
pm­
è
	`mtx_Œylock
(&Õm­)->
pm_mtx
)

	)

268 
	#PMAP_UNLOCK
(
pm­
è
	`mtx_uÆock
(&Õm­)->
pm_mtx
)

	)

275 
	spv_’Œy
 {

276 
vm_off£t_t
 
	mpv_va
;

277 
TAILQ_ENTRY
(
pv_’Œy
è
	mpv_li¡
;

278 } *
	tpv_’Œy_t
;

284 
	#_NPCM
 3

	)

285 
	#_NPCPV
 168

	)

286 
	spv_chunk
 {

287 
pm­_t
 
	mpc_pm­
;

288 
TAILQ_ENTRY
(
pv_chunk
è
	mpc_li¡
;

289 
ušt64_t
 
	mpc_m­
[
_NPCM
];

290 
ušt64_t
 
	mpc_¥¬e
[2];

291 
pv_’Œy
 
	mpc_pv’Œy
[
_NPCPV
];

294 #ifdef 
_KERNEL


296 
ÿddr_t
 
CADDR1
;

297 
±_’Œy_t
 *
CMAP1
;

298 
vm_·ddr_t
 
phys_ava
[];

299 
vm_·ddr_t
 
dump_ava
[];

300 
vm_off£t_t
 
vœtu®_ava
;

301 
vm_off£t_t
 
vœtu®_’d
;

303 
	#pm­_·ge_g‘_mem©Œ
(
m
è((
vm_mem©Œ_t
)(m)->
md
.
·t_mode
)

	)

304 
	#pm­_unm­bios
(
va
, 
sz
è
	`pm­_unm­dev
((va), (sz))

	)

306 
pm­_boÙ¡¿p
(
vm_·ddr_t
 *);

307 
pm­_chªge_©Œ
(
vm_off£t_t
, 
vm_size_t
, );

308 
pm­_demÙe_DMAP
(
vm_·ddr_t
 
ba£
, 
vm_size_t
 
Ën
, 
boŞ—n_t
 
šv®id©e
);

309 
pm­_š™_·t
();

310 
pm­_k’‹r
(
vm_off£t_t
 
va
, 
vm_·ddr_t
 
·
);

311 *
pm­_k’‹r_‹mpÜ¬y
(
vm_·ddr_t
 
·
, 
i
);

312 
vm_·ddr_t
 
pm­_kexŒaù
(
vm_off£t_t
);

313 
pm­_k»move
(
vm_off£t_t
);

314 *
pm­_m­bios
(
vm_·ddr_t
, 
vm_size_t
);

315 *
pm­_m­dev
(
vm_·ddr_t
, 
vm_size_t
);

316 *
pm­_m­dev_©Œ
(
vm_·ddr_t
, 
vm_size_t
, );

317 
boŞ—n_t
 
pm­_·ge_is_m­³d
(
vm_·ge_t
 
m
);

318 
pm­_·ge_£t_mem©Œ
(
vm_·ge_t
 
m
, 
vm_mem©Œ_t
 
ma
);

319 
pm­_unm­dev
(
vm_off£t_t
, 
vm_size_t
);

320 
pm­_šv®id©e_·ge
(
pm­_t
, 
vm_off£t_t
);

321 
pm­_šv®id©e_¿nge
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

322 
pm­_šv®id©e_®l
(
pm­_t
);

323 
pm­_šv®id©e_ÿche
();

	@/usr/include/machine/runq.h

29 #iâdef 
_MACHINE_RUNQ_H_


30 
	#_MACHINE_RUNQ_H_


	)

32 
	#RQB_LEN
 (1è

	)

33 
	#RQB_L2BPW
 (6è

	)

34 
	#RQB_BPW
 (1<<
RQB_L2BPW
è

	)

36 
	#RQB_BIT
(
´i
è(1uÈ<< (Õriè& (
RQB_BPW
 - 1)))

	)

37 
	#RQB_WORD
(
´i
è(Õriè>> 
RQB_L2BPW
)

	)

39 
	#RQB_FFS
(
wÜd
è(
	`bsfq
(wÜd))

	)

44 
u_št64_t
 
	trqb_wÜd_t
;

	@/usr/include/machine/segments.h

37 #iâdeà
_MACHINE_SEGMENTS_H_


38 
	#_MACHINE_SEGMENTS_H_


	)

48 
	#SEL_RPL_MASK
 3

	)

49 
	#ISPL
(
s
è((s)&3è

	)

50 
	#SEL_KPL
 0

	)

51 
	#SEL_UPL
 3

	)

52 
	#ISLDT
(
s
è((s)&
SEL_LDT
è

	)

53 
	#SEL_LDT
 4

	)

54 
	#IDXSEL
(
s
è(((s)>>3è& 0x1fffè

	)

55 
	#LSEL
(
s
,
r
è(((s)<<3è| 
SEL_LDT
 |„è

	)

56 
	#GSEL
(
s
,
r
è(((s)<<3è|„è

	)

63 
	su£r_£gm’t_desütÜ
 {

64 
u_št64_t
 
	msd_lŞim™
:16;

65 
u_št64_t
 
	msd_loba£
:24;

66 
u_št64_t
 
	msd_ty³
:5;

67 
u_št64_t
 
	msd_d¶
:2;

68 
u_št64_t
 
	msd_p
:1;

69 
u_št64_t
 
	msd_him™
:4;

70 
u_št64_t
 
	msd_xx
:1;

71 
u_št64_t
 
	msd_lÚg
:1;

72 
u_št64_t
 
	msd_def32
:1;

73 
u_št64_t
 
	msd_g¿n
:1;

74 
u_št64_t
 
	msd_hiba£
:8;

75 } 
	g__·cked
;

77 
	#USD_GETBASE
(
sd
è(((sd)->
sd_loba£
è| (sd)->
sd_hiba£
 << 24)

	)

78 
	#USD_SETBASE
(
sd
, 
b
è(sd)->
sd_loba£
 = (b); \

79 (
sd
)->
sd_hiba£
 = ((
b
è>> 24);

	)

80 
	#USD_GETLIMIT
(
sd
è(((sd)->
sd_lŞim™
è| (sd)->
sd_him™
 << 16)

	)

81 
	#USD_SETLIMIT
(
sd
, 
l
è(sd)->
sd_lŞim™
 = (l); \

82 (
sd
)->
sd_him™
 = ((
l
è>> 16);

	)

87 
	ssy¡em_£gm’t_desütÜ
 {

88 
u_št64_t
 
	msd_lŞim™
:16;

89 
u_št64_t
 
	msd_loba£
:24;

90 
u_št64_t
 
	msd_ty³
:5;

91 
u_št64_t
 
	msd_d¶
:2;

92 
u_št64_t
 
	msd_p
:1;

93 
u_št64_t
 
	msd_him™
:4;

94 
u_št64_t
 
	msd_xx0
:3;

95 
u_št64_t
 
	msd_g¿n
:1;

96 
u_št64_t
 
	msd_hiba£
:40 
__·cked
;

97 
u_št64_t
 
	msd_xx1
:8;

98 
u_št64_t
 
	msd_mbz
:5;

99 
u_št64_t
 
	msd_xx2
:19;

100 } 
	g__·cked
;

106 
	sg©e_desütÜ
 {

107 
u_št64_t
 
	mgd_looff£t
:16;

108 
u_št64_t
 
	mgd_£ËùÜ
:16;

109 
u_št64_t
 
	mgd_i¡
:3;

110 
u_št64_t
 
	mgd_xx
:5;

111 
u_št64_t
 
	mgd_ty³
:5;

112 
u_št64_t
 
	mgd_d¶
:2;

113 
u_št64_t
 
	mgd_p
:1;

114 
u_št64_t
 
	mgd_hioff£t
:48 
__·cked
;

115 
u_št64_t
 
	msd_xx1
:32;

116 } 
	g__·cked
;

121 
	udesütÜ
 {

122 
u£r_£gm’t_desütÜ
 
	msd
;

123 
g©e_desütÜ
 
	mgd
;

127 
	#SDT_SYSNULL
 0

	)

128 
	#SDT_SYS286TSS
 1

	)

129 
	#SDT_SYSLDT
 2

	)

130 
	#SDT_SYS286BSY
 3

	)

131 
	#SDT_SYS286CGT
 4

	)

132 
	#SDT_SYSTASKGT
 5

	)

133 
	#SDT_SYS286IGT
 6

	)

134 
	#SDT_SYS286TGT
 7

	)

135 
	#SDT_SYSNULL2
 8

	)

136 
	#SDT_SYSTSS
 9

	)

137 
	#SDT_SYSNULL3
 10

	)

138 
	#SDT_SYSBSY
 11

	)

139 
	#SDT_SYSCGT
 12

	)

140 
	#SDT_SYSNULL4
 13

	)

141 
	#SDT_SYSIGT
 14

	)

142 
	#SDT_SYSTGT
 15

	)

145 
	#SDT_MEMRO
 16

	)

146 
	#SDT_MEMROA
 17

	)

147 
	#SDT_MEMRW
 18

	)

148 
	#SDT_MEMRWA
 19

	)

149 
	#SDT_MEMROD
 20

	)

150 
	#SDT_MEMRODA
 21

	)

151 
	#SDT_MEMRWD
 22

	)

152 
	#SDT_MEMRWDA
 23

	)

153 
	#SDT_MEME
 24

	)

154 
	#SDT_MEMEA
 25

	)

155 
	#SDT_MEMER
 26

	)

156 
	#SDT_MEMERA
 27

	)

157 
	#SDT_MEMEC
 28

	)

158 
	#SDT_MEMEAC
 29

	)

159 
	#SDT_MEMERC
 30

	)

160 
	#SDT_MEMERAC
 31

	)

168 
	ssoá_£gm’t_desütÜ
 {

169 
	mssd_ba£
;

170 
	mssd_lim™
;

171 
	mssd_ty³
:5;

172 
	mssd_d¶
:2;

173 
	mssd_p
:1;

174 
	mssd_lÚg
:1;

175 
	mssd_def32
:1;

176 
	mssd_g¿n
:1;

177 } 
	g__·cked
;

182 
	s»giÚ_desütÜ
 {

183 
	mrd_lim™
:16;

184 
	mrd_ba£
:64 
__·cked
;

185 } 
	g__·cked
;

190 
	#NIDT
 256

	)

191 
	#NRSVIDT
 32

	)

196 
	#IDT_DE
 0

	)

197 
	#IDT_DB
 1

	)

198 
	#IDT_NMI
 2

	)

199 
	#IDT_BP
 3

	)

200 
	#IDT_OF
 4

	)

201 
	#IDT_BR
 5

	)

202 
	#IDT_UD
 6

	)

203 
	#IDT_NM
 7

	)

204 
	#IDT_DF
 8

	)

205 
	#IDT_FPUGP
 9

	)

206 
	#IDT_TS
 10

	)

207 
	#IDT_NP
 11

	)

208 
	#IDT_SS
 12

	)

209 
	#IDT_GP
 13

	)

210 
	#IDT_PF
 14

	)

211 
	#IDT_MF
 16

	)

212 
	#IDT_AC
 17

	)

213 
	#IDT_MC
 18

	)

214 
	#IDT_XF
 19

	)

215 
	#IDT_IO_INTS
 
NRSVIDT


	)

216 
	#IDT_SYSCALL
 0x80

	)

217 
	#IDT_DTRACE_RET
 0x20

	)

222 
	#GNULL_SEL
 0

	)

223 
	#GNULL2_SEL
 1

	)

224 
	#GUFS32_SEL
 2

	)

225 
	#GUGS32_SEL
 3

	)

226 
	#GCODE_SEL
 4

	)

227 
	#GDATA_SEL
 5

	)

228 
	#GUCODE32_SEL
 6

	)

229 
	#GUDATA_SEL
 7

	)

230 
	#GUCODE_SEL
 8

	)

231 
	#GPROC0_SEL
 9

	)

233 
	#GUSERLDT_SEL
 11

	)

235 
	#NGDT
 13

	)

237 #ifdeà
_KERNEL


238 
u£r_£gm’t_desütÜ
 
gdt
[];

239 
soá_£gm’t_desütÜ
 
gdt_£gs
[];

240 
g©e_desütÜ
 *
idt
;

241 
»giÚ_desütÜ
 
r_gdt
, 
r_idt
;

243 
lgdt
(
»giÚ_desütÜ
 *
rdp
);

244 
sdtossd
(
u£r_£gm’t_desütÜ
 *
sdp
,

245 
soá_£gm’t_desütÜ
 *
ssdp
);

246 
ssdtosd
(
soá_£gm’t_desütÜ
 *
ssdp
,

247 
u£r_£gm’t_desütÜ
 *
sdp
);

248 
ssdtosyssd
(
soá_£gm’t_desütÜ
 *
ssdp
,

249 
sy¡em_£gm’t_desütÜ
 *
sdp
);

250 
upd©e_gdt_gsba£
(
th»ad
 *
td
, 
ušt32_t
 
ba£
);

251 
upd©e_gdt_fsba£
(
th»ad
 *
td
, 
ušt32_t
 
ba£
);

	@/usr/include/machine/signal.h

34 #iâdeà
_MACHINE_SIGNAL_H_


35 
	#_MACHINE_SIGNAL_H_


	)

37 
	~<sys/cdefs.h
>

38 
	~<sys/_sig£t.h
>

44 
	tsig_©omic_t
;

46 #ià
__BSD_VISIBLE


47 
	~<machše/Œ­.h
>

63 
	ssigcÚ‹xt
 {

64 
__sig£t
 
	msc_mask
;

65 
	msc_Ú¡ack
;

66 
	msc_rdi
;

67 
	msc_rsi
;

68 
	msc_rdx
;

69 
	msc_rcx
;

70 
	msc_r8
;

71 
	msc_r9
;

72 
	msc_¿x
;

73 
	msc_rbx
;

74 
	msc_rbp
;

75 
	msc_r10
;

76 
	msc_r11
;

77 
	msc_r12
;

78 
	msc_r13
;

79 
	msc_r14
;

80 
	msc_r15
;

81 
	msc_Œ­no
;

82 
	msc_fs
;

83 
	msc_gs
;

84 
	msc_addr
;

85 
	msc_æags
;

86 
	msc_es
;

87 
	msc_ds
;

88 
	msc_”r
;

89 
	msc_r
;

90 
	msc_cs
;

91 
	msc_ræags
;

92 
	msc_r¥
;

93 
	msc_ss
;

94 
	msc_Ën
;

99 
	msc_åfÜm©
;

100 
	msc_owÃdå
;

101 
	msc_å¡©e
[64] 
__®igÃd
(16);

103 
	msc_fsba£
;

104 
	msc_gsba£
;

106 
	msc_¥¬e
[6];

	@/usr/include/machine/ucontext.h

32 #iâdeà
_MACHINE_UCONTEXT_H_


33 
	#_MACHINE_UCONTEXT_H_


	)

38 
	#_MC_HASSEGS
 0x1

	)

39 
	#_MC_HASBASES
 0x2

	)

40 
	#_MC_FLAG_MASK
 (
_MC_HASSEGS
 | 
_MC_HASBASES
)

	)

42 
	s__mcÚ‹xt
 {

48 
__»gi¡”_t
 
	mmc_Ú¡ack
;

49 
__»gi¡”_t
 
	mmc_rdi
;

50 
__»gi¡”_t
 
	mmc_rsi
;

51 
__»gi¡”_t
 
	mmc_rdx
;

52 
__»gi¡”_t
 
	mmc_rcx
;

53 
__»gi¡”_t
 
	mmc_r8
;

54 
__»gi¡”_t
 
	mmc_r9
;

55 
__»gi¡”_t
 
	mmc_¿x
;

56 
__»gi¡”_t
 
	mmc_rbx
;

57 
__»gi¡”_t
 
	mmc_rbp
;

58 
__»gi¡”_t
 
	mmc_r10
;

59 
__»gi¡”_t
 
	mmc_r11
;

60 
__»gi¡”_t
 
	mmc_r12
;

61 
__»gi¡”_t
 
	mmc_r13
;

62 
__»gi¡”_t
 
	mmc_r14
;

63 
__»gi¡”_t
 
	mmc_r15
;

64 
__ušt32_t
 
	mmc_Œ­no
;

65 
__ušt16_t
 
	mmc_fs
;

66 
__ušt16_t
 
	mmc_gs
;

67 
__»gi¡”_t
 
	mmc_addr
;

68 
__ušt32_t
 
	mmc_æags
;

69 
__ušt16_t
 
	mmc_es
;

70 
__ušt16_t
 
	mmc_ds
;

71 
__»gi¡”_t
 
	mmc_”r
;

72 
__»gi¡”_t
 
	mmc_r
;

73 
__»gi¡”_t
 
	mmc_cs
;

74 
__»gi¡”_t
 
	mmc_ræags
;

75 
__»gi¡”_t
 
	mmc_r¥
;

76 
__»gi¡”_t
 
	mmc_ss
;

78 
	mmc_Ën
;

80 
	#_MC_FPFMT_NODEV
 0x10000

	)

81 
	#_MC_FPFMT_XMM
 0x10002

	)

82 
	mmc_åfÜm©
;

83 
	#_MC_FPOWNED_NONE
 0x20000

	)

84 
	#_MC_FPOWNED_FPU
 0x20001

	)

85 
	#_MC_FPOWNED_PCB
 0x20002

	)

86 
	mmc_owÃdå
;

90 
	mmc_å¡©e
[64] 
__®igÃd
(16);

92 
__»gi¡”_t
 
	mmc_fsba£
;

93 
__»gi¡”_t
 
	mmc_gsba£
;

95 
	mmc_¥¬e
[6];

96 } 
	tmcÚ‹xt_t
;

	@/usr/include/machine/vm.h

30 #iâdeà
_MACHINE_VM_H_


31 
	#_MACHINE_VM_H_


	)

33 
	~<machše/¥ecŸÌeg.h
>

36 
	#VM_MEMATTR_UNCACHEABLE
 ((
vm_mem©Œ_t
)
PAT_UNCACHEABLE
)

	)

37 
	#VM_MEMATTR_WRITE_COMBINING
 ((
vm_mem©Œ_t
)
PAT_WRITE_COMBINING
)

	)

38 
	#VM_MEMATTR_WRITE_THROUGH
 ((
vm_mem©Œ_t
)
PAT_WRITE_THROUGH
)

	)

39 
	#VM_MEMATTR_WRITE_PROTECTED
 ((
vm_mem©Œ_t
)
PAT_WRITE_PROTECTED
)

	)

40 
	#VM_MEMATTR_WRITE_BACK
 ((
vm_mem©Œ_t
)
PAT_WRITE_BACK
)

	)

41 
	#VM_MEMATTR_UNCACHED
 ((
vm_mem©Œ_t
)
PAT_UNCACHED
)

	)

43 
	#VM_MEMATTR_DEFAULT
 
VM_MEMATTR_WRITE_BACK


	)

	@/usr/include/machine/vmparam.h

45 #iâdeà
_MACHINE_VMPARAM_H_


46 
	#_MACHINE_VMPARAM_H_
 1

	)

55 
	#MAXTSIZ
 (128UL*1024*1024è

	)

56 #iâdeà
DFLDSIZ


57 
	#DFLDSIZ
 (128UL*1024*1024è

	)

59 #iâdeà
MAXDSIZ


60 
	#MAXDSIZ
 (32768UL*1024*1024è

	)

62 #iâdef 
DFLSSIZ


63 
	#DFLSSIZ
 (8UL*1024*1024è

	)

65 #iâdef 
MAXSSIZ


66 
	#MAXSSIZ
 (512UL*1024*1024è

	)

68 #iâdeà
SGROWSIZ


69 
	#SGROWSIZ
 (128UL*1024è

	)

81 
	#MAXSLP
 20

	)

88 
	#UMA_MD_SMALL_ALLOC


	)

93 
	#VM_PHYSSEG_DENSE


	)

101 
	#VM_PHYSSEG_MAX
 31

	)

109 
	#VM_NFREEPOOL
 3

	)

110 
	#VM_FREEPOOL_CACHE
 2

	)

111 
	#VM_FREEPOOL_DEFAULT
 0

	)

112 
	#VM_FREEPOOL_DIRECT
 1

	)

120 
	#VM_NFREELIST
 2

	)

121 
	#VM_FREELIST_DEFAULT
 0

	)

122 
	#VM_FREELIST_ISADMA
 1

	)

132 
	#VM_NFREEORDER
 13

	)

137 #iâdef 
VM_NRESERVLEVEL


138 
	#VM_NRESERVLEVEL
 1

	)

144 #iâdef 
VM_LEVEL_0_ORDER


145 
	#VM_LEVEL_0_ORDER
 9

	)

164 
	#VM_MAX_KERNEL_ADDRESS
 
	`KVADDR
(
KPML4I
, 
NPDPEPG
-1, 
NPDEPG
-1, 
NPTEPG
-1)

	)

165 
	#VM_MIN_KERNEL_ADDRESS
 
	`KVADDR
(
KPML4I
, 
NPDPEPG
-512, 0, 0)

	)

167 
	#DMAP_MIN_ADDRESS
 
	`KVADDR
(
DMPML4I
, 0, 0, 0)

	)

168 
	#DMAP_MAX_ADDRESS
 
	`KVADDR
(
DMPML4I
+1, 0, 0, 0)

	)

170 
	#KERNBASE
 
	`KVADDR
(
KPML4I
, 
KPDPI
, 0, 0)

	)

172 
	#UPT_MAX_ADDRESS
 
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, PML4PML4I)

	)

173 
	#UPT_MIN_ADDRESS
 
	`KVADDR
(
PML4PML4I
, 0, 0, 0)

	)

175 
	#VM_MAXUSER_ADDRESS
 
	`UVADDR
(
NUPML4E
, 0, 0, 0)

	)

177 
	#USRSTACK
 
VM_MAXUSER_ADDRESS


	)

179 
	#VM_MAX_ADDRESS
 
UPT_MAX_ADDRESS


	)

180 
	#VM_MIN_ADDRESS
 (0)

	)

182 
	#PHYS_TO_DMAP
(
x
è((xè| 
DMAP_MIN_ADDRESS
)

	)

183 
	#DMAP_TO_PHYS
(
x
è((xè& ~
DMAP_MIN_ADDRESS
)

	)

186 #iâdeà
VM_KMEM_SIZE


187 
	#VM_KMEM_SIZE
 (12 * 1024 * 1024)

	)

196 #iâdeà
VM_KMEM_SIZE_SCALE


197 
	#VM_KMEM_SIZE_SCALE
 (1)

	)

203 #iâdeà
VM_KMEM_SIZE_MAX


204 
	#VM_KMEM_SIZE_MAX
 ((
VM_MAX_KERNEL_ADDRESS
 - \

205 
VM_MIN_KERNEL_ADDRESS
 + 1è* 3 / 5)

	)

209 #iâdeà
VM_INITIAL_PAGEIN


210 
	#VM_INITIAL_PAGEIN
 16

	)

	@/usr/include/openssl/opensslconf.h

6 #iâdeà
OPENSSL_DOING_MAKEDEPEND


9 #iâdeà
OPENSSL_NO_CMS


10 
	#OPENSSL_NO_CMS


	)

13 #iâdeà
OPENSSL_NO_SEED


14 
	#OPENSSL_NO_SEED


	)

17 #iâdeà
OPENSSL_NO_GMP


18 
	#OPENSSL_NO_GMP


	)

21 #iâdeà
OPENSSL_NO_JPAKE


22 
	#OPENSSL_NO_JPAKE


	)

25 #iâdeà
OPENSSL_NO_KRB5


26 
	#OPENSSL_NO_KRB5


	)

30 #iâdeà
OPENSSL_THREADS


31 
	#OPENSSL_THREADS


	)

33 #iâdeà
OPENSSL_NO_STATIC_ENGINE


34 
	#OPENSSL_NO_STATIC_ENGINE


	)

41 #ifdeà
OPENSSL_ALGORITHM_DEFINES


42 #ià
defšed
(
OPENSSL_NO_GMP
è&& !defšed(
NO_GMP
)

43 
	#NO_GMP


	)

45 #ià
defšed
(
OPENSSL_NO_KRB5
è&& !defšed(
NO_KRB5
)

46 
	#NO_KRB5


	)

49 #ifdeà
OPENSSL_OTHER_DEFINES


50 #iâdeà
NO_ASM


51 
	#NO_ASM


	)

58 #undeà
I386_ONLY


60 #ià!(
defšed
(
VMS
è|| defšed(
__VMS
))

61 #ià
defšed
(
HEADER_CRYPTLIB_H
è&& !defšed(
OPENSSLDIR
)

62 
	#ENGINESDIR
 "/u¤/lib/’gšes"

	)

63 
	#OPENSSLDIR
 "/‘c/s¦"

	)

67 #undeà
OPENSSL_UNISTD


68 
	#OPENSSL_UNISTD
 <
uni¡d
.
h
>

	)

70 #undeà
OPENSSL_EXPORT_VAR_AS_FUNCTION


72 #ià
defšed
(
HEADER_IDEA_H
è&& !defšed(
IDEA_INT
)

73 
	#IDEA_INT
 

	)

76 #ià
defšed
(
HEADER_MD2_H
è&& !defšed(
MD2_INT
)

77 
	#MD2_INT
 

	)

80 #ià
defšed
(
HEADER_RC2_H
è&& !defšed(
RC2_INT
)

82 
	#RC2_INT
 

	)

85 #ià
defšed
(
HEADER_RC4_H
)

86 #ià!
defšed
(
RC4_INT
)

94 
	#RC4_INT
 

	)

96 #ià!
defšed
(
RC4_CHUNK
)

101 
	#RC4_CHUNK
 

	)

105 #ià(
defšed
(
HEADER_NEW_DES_H
è|| defšed(
HEADER_DES_H
)è&& !defšed(
DES_LONG
)

108 #iâdeà
DES_LONG


109 
	#DES_LONG
 

	)

113 #ià
defšed
(
HEADER_BN_H
è&& !defšed(
CONFIG_HEADER_BN_H
)

114 
	#CONFIG_HEADER_BN_H


	)

115 #undeà
BN_LLONG


123 
	#SIXTY_FOUR_BIT_LONG


	)

124 #undeà
SIXTY_FOUR_BIT


125 #undeà
THIRTY_TWO_BIT


126 #undeà
SIXTEEN_BIT


127 #undeà
EIGHT_BIT


130 #ià
defšed
(
HEADER_RC4_LOCL_H
è&& !defšed(
CONFIG_HEADER_RC4_LOCL_H
)

131 
	#CONFIG_HEADER_RC4_LOCL_H


	)

134 #undeà
RC4_INDEX


137 #ià
defšed
(
HEADER_BF_LOCL_H
è&& !defšed(
CONFIG_HEADER_BF_LOCL_H
)

138 
	#CONFIG_HEADER_BF_LOCL_H


	)

139 #undeà
BF_PTR


142 #ià
defšed
(
HEADER_DES_LOCL_H
è&& !defšed(
CONFIG_HEADER_DES_LOCL_H
)

143 
	#CONFIG_HEADER_DES_LOCL_H


	)

144 #iâdeà
DES_DEFAULT_OPTIONS


147 #iâdeà
DES_PTR


148 #undeà
DES_PTR


154 #iâdeà
DES_RISC1


155 #undeà
DES_RISC1


158 #iâdeà
DES_RISC2


159 #undeà
DES_RISC2


162 #ià
defšed
(
DES_RISC1
è&& defšed(
DES_RISC2
)

163 
YOU
 
SHOULD
 
NOT
 
HAVE
 
BOTH
 
DES_RISC1
 
AND
 
DES_RISC2
 
	gDEFINED
!!!!!

168 #iâdeà
DES_UNROLL


169 
	#DES_UNROLL


	)

175 #ià!
defšed
(
DES_PTR
è&& !defšed(
DES_RISC1
è&& !defšed(
DES_RISC2
è&& !defšed(
DES_UNROLL
)

182 #ià
defšed
Ğ
sun
 )

183 
	#DES_PTR


	)

184 
	#DES_RISC1


	)

185 
	#DES_UNROLL


	)

186 #–ià
defšed
Ğ
__uÉrix
 )

187 
	#DES_PTR


	)

188 
	#DES_RISC2


	)

189 
	#DES_UNROLL


	)

190 #–ià
defšed
Ğ
__osf1__
 )

191 
	#DES_PTR


	)

192 
	#DES_RISC2


	)

193 #–ià
defšed
 ( 
_AIX
 )

195 #–ià
defšed
Ğ
__hpux
 )

197 #–ià
defšed
Ğ
__aux
 )

199 #–ià
defšed
Ğ
__dgux
 )

200 
	#DES_UNROLL


	)

201 #–ià
defšed
Ğ
__sgi
 )

202 
	#DES_PTR


	)

203 
	#DES_RISC2


	)

204 
	#DES_UNROLL


	)

205 #–ià
defšed
Ğ
i386
 )

206 
	#DES_PTR


	)

207 
	#DES_RISC1


	)

208 
	#DES_UNROLL


	)

	@/usr/include/openssl/symhacks.h

55 #iâdeà
HEADER_SYMHACKS_H


56 
	#HEADER_SYMHACKS_H


	)

58 
	~<İ’s¦/e_os2.h
>

68 #ifdeà
OPENSSL_SYS_VMS


71 #undeà
št_CRYPTO_£t_do_dyÆock_ÿÎback


72 
	#št_CRYPTO_£t_do_dyÆock_ÿÎback
 
št_CRYPTO_£t_do_dyÆock_cb


	)

75 #undeà
CRYPTO_g‘_ex_d©a_im¶em’tiÚ


76 
	#CRYPTO_g‘_ex_d©a_im¶em’tiÚ
 
CRYPTO_g‘_ex_d©a_im¶


	)

77 #undeà
CRYPTO_£t_ex_d©a_im¶em’tiÚ


78 
	#CRYPTO_£t_ex_d©a_im¶em’tiÚ
 
CRYPTO_£t_ex_d©a_im¶


	)

81 #undeà
ASN1_STRING_£t_deçuÉ_mask_asc


82 
	#ASN1_STRING_£t_deçuÉ_mask_asc
 
ASN1_STRING_£t_def_mask_asc


	)

86 #undeà
i2d_ASN1_SET_OF_PKCS7_SIGNER_INFO


87 
	#i2d_ASN1_SET_OF_PKCS7_SIGNER_INFO
 
i2d_ASN1_SET_OF_PKCS7_SIGINF


	)

88 #undeà
d2i_ASN1_SET_OF_PKCS7_SIGNER_INFO


89 
	#d2i_ASN1_SET_OF_PKCS7_SIGNER_INFO
 
d2i_ASN1_SET_OF_PKCS7_SIGINF


	)

94 #undeà
i2d_ASN1_SET_OF_PKCS7_RECIP_INFO


95 
	#i2d_ASN1_SET_OF_PKCS7_RECIP_INFO
 
i2d_ASN1_SET_OF_PKCS7_RECINF


	)

96 #undeà
d2i_ASN1_SET_OF_PKCS7_RECIP_INFO


97 
	#d2i_ASN1_SET_OF_PKCS7_RECIP_INFO
 
d2i_ASN1_SET_OF_PKCS7_RECINF


	)

102 #undeà
i2d_ASN1_SET_OF_ACCESS_DESCRIPTION


103 
	#i2d_ASN1_SET_OF_ACCESS_DESCRIPTION
 
i2d_ASN1_SET_OF_ACC_DESC


	)

104 #undeà
d2i_ASN1_SET_OF_ACCESS_DESCRIPTION


105 
	#d2i_ASN1_SET_OF_ACCESS_DESCRIPTION
 
d2i_ASN1_SET_OF_ACC_DESC


	)

109 #undeà
PEM_»ad_NETSCAPE_CERT_SEQUENCE


110 
	#PEM_»ad_NETSCAPE_CERT_SEQUENCE
 
PEM_»ad_NS_CERT_SEQ


	)

111 #undeà
PEM_wr™e_NETSCAPE_CERT_SEQUENCE


112 
	#PEM_wr™e_NETSCAPE_CERT_SEQUENCE
 
PEM_wr™e_NS_CERT_SEQ


	)

113 #undeà
PEM_»ad_bio_NETSCAPE_CERT_SEQUENCE


114 
	#PEM_»ad_bio_NETSCAPE_CERT_SEQUENCE
 
PEM_»ad_bio_NS_CERT_SEQ


	)

115 #undeà
PEM_wr™e_bio_NETSCAPE_CERT_SEQUENCE


116 
	#PEM_wr™e_bio_NETSCAPE_CERT_SEQUENCE
 
PEM_wr™e_bio_NS_CERT_SEQ


	)

117 #undeà
PEM_wr™e_cb_bio_NETSCAPE_CERT_SEQUENCE


118 
	#PEM_wr™e_cb_bio_NETSCAPE_CERT_SEQUENCE
 
PEM_wr™e_cb_bio_NS_CERT_SEQ


	)

121 #undeà
PEM_»ad_PKCS8_PRIV_KEY_INFO


122 
	#PEM_»ad_PKCS8_PRIV_KEY_INFO
 
PEM_»ad_P8_PRIV_KEY_INFO


	)

123 #undeà
PEM_wr™e_PKCS8_PRIV_KEY_INFO


124 
	#PEM_wr™e_PKCS8_PRIV_KEY_INFO
 
PEM_wr™e_P8_PRIV_KEY_INFO


	)

125 #undeà
PEM_»ad_bio_PKCS8_PRIV_KEY_INFO


126 
	#PEM_»ad_bio_PKCS8_PRIV_KEY_INFO
 
PEM_»ad_bio_P8_PRIV_KEY_INFO


	)

127 #undeà
PEM_wr™e_bio_PKCS8_PRIV_KEY_INFO


128 
	#PEM_wr™e_bio_PKCS8_PRIV_KEY_INFO
 
PEM_wr™e_bio_P8_PRIV_KEY_INFO


	)

129 #undeà
PEM_wr™e_cb_bio_PKCS8_PRIV_KEY_INFO


130 
	#PEM_wr™e_cb_bio_PKCS8_PRIV_KEY_INFO
 
PEM_w¹_cb_bio_P8_PRIV_KEY_INFO


	)

133 #undeà
PEM_wr™e_bio_PKCS8Priv©eKey_nid


134 
	#PEM_wr™e_bio_PKCS8Priv©eKey_nid
 
PEM_wr™e_bio_PKCS8PrivKey_nid


	)

137 #undeà
X509_REVOKED_g‘_ext_by_ü™iÿl


138 
	#X509_REVOKED_g‘_ext_by_ü™iÿl
 
X509_REVOKED_g‘_ext_by_ü™ic


	)

139 #undeà
X509_pŞicy_Œ“_g‘0_u£r_pŞic›s


140 
	#X509_pŞicy_Œ“_g‘0_u£r_pŞic›s
 
X509_pcy_Œ“_g‘0_u¤_pŞic›s


	)

141 #undeà
X509_pŞicy_node_g‘0_qu®if›rs


142 
	#X509_pŞicy_node_g‘0_qu®if›rs
 
X509_pcy_node_g‘0_qu®if›rs


	)

143 #undeà
X509_STORE_CTX_g‘_ex¶ic™_pŞicy


144 
	#X509_STORE_CTX_g‘_ex¶ic™_pŞicy
 
X509_STORE_CTX_g‘_ex¶_pŞicy


	)

145 #undeà
X509_STORE_CTX_g‘0_cu¼’t_issu”


146 
	#X509_STORE_CTX_g‘0_cu¼’t_issu”
 
X509_STORE_CTX_g‘0_cur_issu”


	)

149 #undeà
CRYPTO_£t_dyÆock_de¡roy_ÿÎback


150 
	#CRYPTO_£t_dyÆock_de¡roy_ÿÎback
 
CRYPTO_£t_dyÆock_de¡roy_cb


	)

151 #undeà
CRYPTO_£t_dyÆock_ü—‹_ÿÎback


152 
	#CRYPTO_£t_dyÆock_ü—‹_ÿÎback
 
CRYPTO_£t_dyÆock_ü—‹_cb


	)

153 #undeà
CRYPTO_£t_dyÆock_lock_ÿÎback


154 
	#CRYPTO_£t_dyÆock_lock_ÿÎback
 
CRYPTO_£t_dyÆock_lock_cb


	)

155 #undeà
CRYPTO_g‘_dyÆock_lock_ÿÎback


156 
	#CRYPTO_g‘_dyÆock_lock_ÿÎback
 
CRYPTO_g‘_dyÆock_lock_cb


	)

157 #undeà
CRYPTO_g‘_dyÆock_de¡roy_ÿÎback


158 
	#CRYPTO_g‘_dyÆock_de¡roy_ÿÎback
 
CRYPTO_g‘_dyÆock_de¡roy_cb


	)

159 #undeà
CRYPTO_g‘_dyÆock_ü—‹_ÿÎback


160 
	#CRYPTO_g‘_dyÆock_ü—‹_ÿÎback
 
CRYPTO_g‘_dyÆock_ü—‹_cb


	)

161 #undeà
CRYPTO_£t_locked_mem_ex_funùiÚs


162 
	#CRYPTO_£t_locked_mem_ex_funùiÚs
 
CRYPTO_£t_locked_mem_ex_funcs


	)

163 #undeà
CRYPTO_g‘_locked_mem_ex_funùiÚs


164 
	#CRYPTO_g‘_locked_mem_ex_funùiÚs
 
CRYPTO_g‘_locked_mem_ex_funcs


	)

167 #undeà
SSL_CTX_£t_deçuÉ_v”ify_·ths


168 
	#SSL_CTX_£t_deçuÉ_v”ify_·ths
 
SSL_CTX_£t_def_v”ify_·ths


	)

169 #undeà
SSL_g‘_ex_d©a_X509_STORE_CTX_idx


170 
	#SSL_g‘_ex_d©a_X509_STORE_CTX_idx
 
SSL_g‘_ex_d_X509_STORE_CTX_idx


	)

171 #undeà
SSL_add_fe_û¹_subjeùs_to_¡ack


172 
	#SSL_add_fe_û¹_subjeùs_to_¡ack
 
SSL_add_fe_û¹_subjs_to_¡k


	)

173 #undeà
SSL_add_dœ_û¹_subjeùs_to_¡ack


174 
	#SSL_add_dœ_û¹_subjeùs_to_¡ack
 
SSL_add_dœ_û¹_subjs_to_¡k


	)

175 #undeà
SSL_CTX_u£_û¹ifiÿ‹_chaš_fe


176 
	#SSL_CTX_u£_û¹ifiÿ‹_chaš_fe
 
SSL_CTX_u£_û¹_chaš_fe


	)

177 #undeà
SSL_CTX_£t_û¹_v”ify_ÿÎback


178 
	#SSL_CTX_£t_û¹_v”ify_ÿÎback
 
SSL_CTX_£t_û¹_v”ify_cb


	)

179 #undeà
SSL_CTX_£t_deçuÉ_·sswd_cb_u£rd©a


180 
	#SSL_CTX_£t_deçuÉ_·sswd_cb_u£rd©a
 
SSL_CTX_£t_def_·sswd_cb_ud


	)

181 #undeà
SSL_COMP_g‘_com´essiÚ_m‘hods


182 
	#SSL_COMP_g‘_com´essiÚ_m‘hods
 
SSL_COMP_g‘_com´ess_m‘hods


	)

184 #undeà
s¦_add_ş›Áh–lo_»ÃgÙŸ‹_ext


185 
	#s¦_add_ş›Áh–lo_»ÃgÙŸ‹_ext
 
s¦_add_ş›Áh–lo_»Ãg_ext


	)

186 #undeà
s¦_add_£rv”h–lo_»ÃgÙŸ‹_ext


187 
	#s¦_add_£rv”h–lo_»ÃgÙŸ‹_ext
 
s¦_add_£rv”h–lo_»Ãg_ext


	)

188 #undeà
s¦_·r£_ş›Áh–lo_»ÃgÙŸ‹_ext


189 
	#s¦_·r£_ş›Áh–lo_»ÃgÙŸ‹_ext
 
s¦_·r£_ş›Áh–lo_»Ãg_ext


	)

190 #undeà
s¦_·r£_£rv”h–lo_»ÃgÙŸ‹_ext


191 
	#s¦_·r£_£rv”h–lo_»ÃgÙŸ‹_ext
 
s¦_·r£_£rv”h–lo_»Ãg_ext


	)

194 #undeà
ENGINE_g‘_deçuÉ_BN_mod_exp_üt


195 
	#ENGINE_g‘_deçuÉ_BN_mod_exp_üt
 
ENGINE_g‘_def_BN_mod_exp_üt


	)

196 #undeà
ENGINE_£t_deçuÉ_BN_mod_exp_üt


197 
	#ENGINE_£t_deçuÉ_BN_mod_exp_üt
 
ENGINE_£t_def_BN_mod_exp_üt


	)

198 #undeà
ENGINE_£t_lßd_´ivkey_funùiÚ


199 
	#ENGINE_£t_lßd_´ivkey_funùiÚ
 
ENGINE_£t_lßd_´ivkey_â


	)

200 #undeà
ENGINE_g‘_lßd_´ivkey_funùiÚ


201 
	#ENGINE_g‘_lßd_´ivkey_funùiÚ
 
ENGINE_g‘_lßd_´ivkey_â


	)

202 #undeà
ENGINE_£t_lßd_s¦_ş›Á_û¹_funùiÚ


203 
	#ENGINE_£t_lßd_s¦_ş›Á_û¹_funùiÚ
 \

204 
ENGINE_£t_ld_s¦_şÁ_û¹_â


	)

205 #undeà
ENGINE_g‘_s¦_ş›Á_û¹_funùiÚ


206 
	#ENGINE_g‘_s¦_ş›Á_û¹_funùiÚ
 
ENGINE_g‘_s¦_ş›Á_û¹_â


	)

209 #undeà
OCSP_REQUEST_g‘_ext_by_ü™iÿl


210 
	#OCSP_REQUEST_g‘_ext_by_ü™iÿl
 
OCSP_REQUEST_g‘_ext_by_ü™


	)

211 #undeà
OCSP_BASICRESP_g‘_ext_by_ü™iÿl


212 
	#OCSP_BASICRESP_g‘_ext_by_ü™iÿl
 
OCSP_BASICRESP_g‘_ext_by_ü™


	)

213 #undeà
OCSP_SINGLERESP_g‘_ext_by_ü™iÿl


214 
	#OCSP_SINGLERESP_g‘_ext_by_ü™iÿl
 
OCSP_SINGLERESP_g‘_ext_by_ü™


	)

217 #undeà
_os¦_Şd_des_ede3_cfb64_’üy±


218 
	#_os¦_Şd_des_ede3_cfb64_’üy±
 
_os¦_odes_ede3_cfb64_’üy±


	)

219 #undeà
_os¦_Şd_des_ede3_ofb64_’üy±


220 
	#_os¦_Şd_des_ede3_ofb64_’üy±
 
_os¦_odes_ede3_ofb64_’üy±


	)

223 #undeà
OPENSSL_add_®l_®gÜ™hms_nocÚf


224 
	#OPENSSL_add_®l_®gÜ™hms_nocÚf
 
OPENSSL_add_®l_®go_nocÚf


	)

225 #undeà
OPENSSL_add_®l_®gÜ™hms_cÚf


226 
	#OPENSSL_add_®l_®gÜ™hms_cÚf
 
OPENSSL_add_®l_®go_cÚf


	)

229 #undeà
EC_GROUP_£t_pošt_cÚv”siÚ_fÜm


230 
	#EC_GROUP_£t_pošt_cÚv”siÚ_fÜm
 
EC_GROUP_£t_pošt_cÚv_fÜm


	)

231 #undeà
EC_GROUP_g‘_pošt_cÚv”siÚ_fÜm


232 
	#EC_GROUP_g‘_pošt_cÚv”siÚ_fÜm
 
EC_GROUP_g‘_pošt_cÚv_fÜm


	)

233 #undeà
EC_GROUP_ş—r_ä“_®l_exŒa_d©a


234 
	#EC_GROUP_ş—r_ä“_®l_exŒa_d©a
 
EC_GROUP_şr_ä“_®l_xŒa_d©a


	)

235 #undeà
EC_POINT_£t_J´ojeùive_coÜdš©es_GFp


236 
	#EC_POINT_£t_J´ojeùive_coÜdš©es_GFp
 \

237 
EC_POINT_£t_J´oj_coÜds_GFp


	)

238 #undeà
EC_POINT_g‘_J´ojeùive_coÜdš©es_GFp


239 
	#EC_POINT_g‘_J´ojeùive_coÜdš©es_GFp
 \

240 
EC_POINT_g‘_J´oj_coÜds_GFp


	)

241 #undeà
EC_POINT_£t_affše_coÜdš©es_GFp


242 
	#EC_POINT_£t_affše_coÜdš©es_GFp
 
EC_POINT_£t_affše_coÜds_GFp


	)

243 #undeà
EC_POINT_g‘_affše_coÜdš©es_GFp


244 
	#EC_POINT_g‘_affše_coÜdš©es_GFp
 
EC_POINT_g‘_affše_coÜds_GFp


	)

245 #undeà
EC_POINT_£t_com´es£d_coÜdš©es_GFp


246 
	#EC_POINT_£t_com´es£d_coÜdš©es_GFp
 
EC_POINT_£t_com´_coÜds_GFp


	)

247 #undeà
EC_POINT_£t_affše_coÜdš©es_GF2m


248 
	#EC_POINT_£t_affše_coÜdš©es_GF2m
 
EC_POINT_£t_affše_coÜds_GF2m


	)

249 #undeà
EC_POINT_g‘_affše_coÜdš©es_GF2m


250 
	#EC_POINT_g‘_affše_coÜdš©es_GF2m
 
EC_POINT_g‘_affše_coÜds_GF2m


	)

251 #undeà
EC_POINT_£t_com´es£d_coÜdš©es_GF2m


252 
	#EC_POINT_£t_com´es£d_coÜdš©es_GF2m
 \

253 
EC_POINT_£t_com´_coÜds_GF2m


	)

254 #undeà
ec_GF2m_sim¶e_group_ş—r_fšish


255 
	#ec_GF2m_sim¶e_group_ş—r_fšish
 
ec_GF2m_sim¶e_g½_şr_fšish


	)

256 #undeà
ec_GF2m_sim¶e_group_check_disüimšªt


257 
	#ec_GF2m_sim¶e_group_check_disüimšªt
 
ec_GF2m_sim¶e_g½_chk_disüim


	)

258 #undeà
ec_GF2m_sim¶e_pošt_ş—r_fšish


259 
	#ec_GF2m_sim¶e_pošt_ş—r_fšish
 
ec_GF2m_sim¶e_±_şr_fšish


	)

260 #undeà
ec_GF2m_sim¶e_pošt_£t_to_šfš™y


261 
	#ec_GF2m_sim¶e_pošt_£t_to_šfš™y
 
ec_GF2m_sim¶e_±_£t_to_šf


	)

262 #undeà
ec_GF2m_sim¶e_pošts_make_affše


263 
	#ec_GF2m_sim¶e_pošts_make_affše
 
ec_GF2m_sim¶e_±s_make_affše


	)

264 #undeà
ec_GF2m_sim¶e_pošt_£t_affše_coÜdš©es


265 
	#ec_GF2m_sim¶e_pošt_£t_affše_coÜdš©es
 \

266 
ec_GF2m_smp_±_£t_af_coÜds


	)

267 #undeà
ec_GF2m_sim¶e_pošt_g‘_affše_coÜdš©es


268 
	#ec_GF2m_sim¶e_pošt_g‘_affše_coÜdš©es
 \

269 
ec_GF2m_smp_±_g‘_af_coÜds


	)

270 #undeà
ec_GF2m_sim¶e_£t_com´es£d_coÜdš©es


271 
	#ec_GF2m_sim¶e_£t_com´es£d_coÜdš©es
 \

272 
ec_GF2m_smp_£t_com´_coÜds


	)

273 #undeà
ec_GFp_sim¶e_group_£t_curve_GFp


274 
	#ec_GFp_sim¶e_group_£t_curve_GFp
 
ec_GFp_sim¶e_g½_£t_curve_GFp


	)

275 #undeà
ec_GFp_sim¶e_group_g‘_curve_GFp


276 
	#ec_GFp_sim¶e_group_g‘_curve_GFp
 
ec_GFp_sim¶e_g½_g‘_curve_GFp


	)

277 #undeà
ec_GFp_sim¶e_group_ş—r_fšish


278 
	#ec_GFp_sim¶e_group_ş—r_fšish
 
ec_GFp_sim¶e_g½_ş—r_fšish


	)

279 #undeà
ec_GFp_sim¶e_group_£t_g’”©Ü


280 
	#ec_GFp_sim¶e_group_£t_g’”©Ü
 
ec_GFp_sim¶e_g½_£t_g’”©Ü


	)

281 #undeà
ec_GFp_sim¶e_group_g‘0_g’”©Ü


282 
	#ec_GFp_sim¶e_group_g‘0_g’”©Ü
 
ec_GFp_sim¶e_g½_gt0_g’”©Ü


	)

283 #undeà
ec_GFp_sim¶e_group_g‘_coçùÜ


284 
	#ec_GFp_sim¶e_group_g‘_coçùÜ
 
ec_GFp_sim¶e_g½_g‘_coçùÜ


	)

285 #undeà
ec_GFp_sim¶e_pošt_ş—r_fšish


286 
	#ec_GFp_sim¶e_pošt_ş—r_fšish
 
ec_GFp_sim¶e_±_ş—r_fšish


	)

287 #undeà
ec_GFp_sim¶e_pošt_£t_to_šfš™y


288 
	#ec_GFp_sim¶e_pošt_£t_to_šfš™y
 
ec_GFp_sim¶e_±_£t_to_šf


	)

289 #undeà
ec_GFp_sim¶e_pošts_make_affše


290 
	#ec_GFp_sim¶e_pošts_make_affše
 
ec_GFp_sim¶e_±s_make_affše


	)

291 #undeà
ec_GFp_sim¶e_group_g‘_curve_GFp


292 
	#ec_GFp_sim¶e_group_g‘_curve_GFp
 
ec_GFp_sim¶e_g½_g‘_curve_GFp


	)

293 #undeà
ec_GFp_sim¶e_£t_J´ojeùive_coÜdš©es_GFp


294 
	#ec_GFp_sim¶e_£t_J´ojeùive_coÜdš©es_GFp
 \

295 
ec_GFp_smp_£t_J´oj_coÜds_GFp


	)

296 #undeà
ec_GFp_sim¶e_g‘_J´ojeùive_coÜdš©es_GFp


297 
	#ec_GFp_sim¶e_g‘_J´ojeùive_coÜdš©es_GFp
 \

298 
ec_GFp_smp_g‘_J´oj_coÜds_GFp


	)

299 #undeà
ec_GFp_sim¶e_pošt_£t_affše_coÜdš©es_GFp


300 
	#ec_GFp_sim¶e_pošt_£t_affše_coÜdš©es_GFp
 \

301 
ec_GFp_smp_±_£t_af_coÜds_GFp


	)

302 #undeà
ec_GFp_sim¶e_pošt_g‘_affše_coÜdš©es_GFp


303 
	#ec_GFp_sim¶e_pošt_g‘_affše_coÜdš©es_GFp
 \

304 
ec_GFp_smp_±_g‘_af_coÜds_GFp


	)

305 #undeà
ec_GFp_sim¶e_£t_com´es£d_coÜdš©es_GFp


306 
	#ec_GFp_sim¶e_£t_com´es£d_coÜdš©es_GFp
 \

307 
ec_GFp_smp_£t_com´_coÜds_GFp


	)

308 #undeà
ec_GFp_sim¶e_pošt_£t_affše_coÜdš©es


309 
	#ec_GFp_sim¶e_pošt_£t_affše_coÜdš©es
 \

310 
ec_GFp_smp_±_£t_af_coÜds


	)

311 #undeà
ec_GFp_sim¶e_pošt_g‘_affše_coÜdš©es


312 
	#ec_GFp_sim¶e_pošt_g‘_affše_coÜdš©es
 \

313 
ec_GFp_smp_±_g‘_af_coÜds


	)

314 #undeà
ec_GFp_sim¶e_£t_com´es£d_coÜdš©es


315 
	#ec_GFp_sim¶e_£t_com´es£d_coÜdš©es
 \

316 
ec_GFp_smp_£t_com´_coÜds


	)

317 #undeà
ec_GFp_sim¶e_group_check_disüimšªt


318 
	#ec_GFp_sim¶e_group_check_disüimšªt
 
ec_GFp_sim¶e_g½_chk_disüim


	)

321 #undeà
STORE_m‘hod_£t_š™Ÿli£_funùiÚ


322 
	#STORE_m‘hod_£t_š™Ÿli£_funùiÚ
 
STORE_m‘h_£t_š™Ÿli£_â


	)

323 #undeà
STORE_m‘hod_£t_ş—nup_funùiÚ


324 
	#STORE_m‘hod_£t_ş—nup_funùiÚ
 
STORE_m‘h_£t_ş—nup_â


	)

325 #undeà
STORE_m‘hod_£t_g’”©e_funùiÚ


326 
	#STORE_m‘hod_£t_g’”©e_funùiÚ
 
STORE_m‘h_£t_g’”©e_â


	)

327 #undeà
STORE_m‘hod_£t_modify_funùiÚ


328 
	#STORE_m‘hod_£t_modify_funùiÚ
 
STORE_m‘h_£t_modify_â


	)

329 #undeà
STORE_m‘hod_£t_»voke_funùiÚ


330 
	#STORE_m‘hod_£t_»voke_funùiÚ
 
STORE_m‘h_£t_»voke_â


	)

331 #undeà
STORE_m‘hod_£t_d–‘e_funùiÚ


332 
	#STORE_m‘hod_£t_d–‘e_funùiÚ
 
STORE_m‘h_£t_d–‘e_â


	)

333 #undeà
STORE_m‘hod_£t_li¡_¡¬t_funùiÚ


334 
	#STORE_m‘hod_£t_li¡_¡¬t_funùiÚ
 
STORE_m‘h_£t_li¡_¡¬t_â


	)

335 #undeà
STORE_m‘hod_£t_li¡_Ãxt_funùiÚ


336 
	#STORE_m‘hod_£t_li¡_Ãxt_funùiÚ
 
STORE_m‘h_£t_li¡_Ãxt_â


	)

337 #undeà
STORE_m‘hod_£t_li¡_’d_funùiÚ


338 
	#STORE_m‘hod_£t_li¡_’d_funùiÚ
 
STORE_m‘h_£t_li¡_’d_â


	)

339 #undeà
STORE_m‘hod_£t_upd©e_¡Üe_funùiÚ


340 
	#STORE_m‘hod_£t_upd©e_¡Üe_funùiÚ
 
STORE_m‘h_£t_upd©e_¡Üe_â


	)

341 #undeà
STORE_m‘hod_£t_lock_¡Üe_funùiÚ


342 
	#STORE_m‘hod_£t_lock_¡Üe_funùiÚ
 
STORE_m‘h_£t_lock_¡Üe_â


	)

343 #undeà
STORE_m‘hod_£t_uÆock_¡Üe_funùiÚ


344 
	#STORE_m‘hod_£t_uÆock_¡Üe_funùiÚ
 
STORE_m‘h_£t_uÆock_¡Üe_â


	)

345 #undeà
STORE_m‘hod_g‘_š™Ÿli£_funùiÚ


346 
	#STORE_m‘hod_g‘_š™Ÿli£_funùiÚ
 
STORE_m‘h_g‘_š™Ÿli£_â


	)

347 #undeà
STORE_m‘hod_g‘_ş—nup_funùiÚ


348 
	#STORE_m‘hod_g‘_ş—nup_funùiÚ
 
STORE_m‘h_g‘_ş—nup_â


	)

349 #undeà
STORE_m‘hod_g‘_g’”©e_funùiÚ


350 
	#STORE_m‘hod_g‘_g’”©e_funùiÚ
 
STORE_m‘h_g‘_g’”©e_â


	)

351 #undeà
STORE_m‘hod_g‘_modify_funùiÚ


352 
	#STORE_m‘hod_g‘_modify_funùiÚ
 
STORE_m‘h_g‘_modify_â


	)

353 #undeà
STORE_m‘hod_g‘_»voke_funùiÚ


354 
	#STORE_m‘hod_g‘_»voke_funùiÚ
 
STORE_m‘h_g‘_»voke_â


	)

355 #undeà
STORE_m‘hod_g‘_d–‘e_funùiÚ


356 
	#STORE_m‘hod_g‘_d–‘e_funùiÚ
 
STORE_m‘h_g‘_d–‘e_â


	)

357 #undeà
STORE_m‘hod_g‘_li¡_¡¬t_funùiÚ


358 
	#STORE_m‘hod_g‘_li¡_¡¬t_funùiÚ
 
STORE_m‘h_g‘_li¡_¡¬t_â


	)

359 #undeà
STORE_m‘hod_g‘_li¡_Ãxt_funùiÚ


360 
	#STORE_m‘hod_g‘_li¡_Ãxt_funùiÚ
 
STORE_m‘h_g‘_li¡_Ãxt_â


	)

361 #undeà
STORE_m‘hod_g‘_li¡_’d_funùiÚ


362 
	#STORE_m‘hod_g‘_li¡_’d_funùiÚ
 
STORE_m‘h_g‘_li¡_’d_â


	)

363 #undeà
STORE_m‘hod_g‘_upd©e_¡Üe_funùiÚ


364 
	#STORE_m‘hod_g‘_upd©e_¡Üe_funùiÚ
 
STORE_m‘h_g‘_upd©e_¡Üe_â


	)

365 #undeà
STORE_m‘hod_g‘_lock_¡Üe_funùiÚ


366 
	#STORE_m‘hod_g‘_lock_¡Üe_funùiÚ
 
STORE_m‘h_g‘_lock_¡Üe_â


	)

367 #undeà
STORE_m‘hod_g‘_uÆock_¡Üe_funùiÚ


368 
	#STORE_m‘hod_g‘_uÆock_¡Üe_funùiÚ
 
STORE_m‘h_g‘_uÆock_¡Üe_â


	)

371 #undeà
CMS_Rec›ÁInfo_kŒi_g‘0_®gs


372 
	#CMS_Rec›ÁInfo_kŒi_g‘0_®gs
 
CMS_RecInfo_kŒi_g‘0_®gs


	)

373 #undeà
CMS_Rec›ÁInfo_kŒi_g‘0_sigÃr_id


374 
	#CMS_Rec›ÁInfo_kŒi_g‘0_sigÃr_id
 
CMS_RecInfo_kŒi_g‘0_sigr_id


	)

375 #undeà
CMS_Oth”RevoÿtiÚInfoFÜm©_™


376 
	#CMS_Oth”RevoÿtiÚInfoFÜm©_™
 
CMS_Oth”RevocInfoFÜm©_™


	)

377 #undeà
CMS_KeyAg»eRec›ÁId’tif›r_™


378 
	#CMS_KeyAg»eRec›ÁId’tif›r_™
 
CMS_KeyAg»eRecId’tif›r_™


	)

379 #undeà
CMS_Origš©ÜId’tif›rOrKey_™


380 
	#CMS_Origš©ÜId’tif›rOrKey_™
 
CMS_Origš©ÜIdOrKey_™


	)

381 #undeà
cms_SigÃrId’tif›r_g‘0_sigÃr_id


382 
	#cms_SigÃrId’tif›r_g‘0_sigÃr_id
 
cms_SigÃrId_g‘0_sigÃr_id


	)

385 #undeà
ds1_»Œªsm™_bufã»d_mes§ges


386 
	#ds1_»Œªsm™_bufã»d_mes§ges
 
ds1_»Œªsm™_bufã»d_msgs


	)

392 #ià
defšed
(
OPENSSL_SYS_WIN16
è|| defšed(
OPENSSL_SYS_VMS
è|| defšed(
OPENSSL_SYS_OS2
)

393 #undeà
ERR_lßd_CRYPTO_¡ršgs


394 
	#ERR_lßd_CRYPTO_¡ršgs
 
ERR_lßd_CRYPTOlib_¡ršgs


	)

395 #undeà
OCSP_ülID_Ãw


396 
	#OCSP_ülID_Ãw
 
OCSP_ülID2_Ãw


	)

398 #undeà
d2i_ECPARAMETERS


399 
	#d2i_ECPARAMETERS
 
d2i_UC_ECPARAMETERS


	)

400 #undeà
i2d_ECPARAMETERS


401 
	#i2d_ECPARAMETERS
 
i2d_UC_ECPARAMETERS


	)

402 #undeà
d2i_ECPKPARAMETERS


403 
	#d2i_ECPKPARAMETERS
 
d2i_UC_ECPKPARAMETERS


	)

404 #undeà
i2d_ECPKPARAMETERS


405 
	#i2d_ECPKPARAMETERS
 
i2d_UC_ECPKPARAMETERS


	)

413 #undeà
X509v3_ş—nup_ex‹nsiÚs


414 
	#X509v3_ş—nup_ex‹nsiÚs
 
oX509v3_ş—nup_ex‹nsiÚs


	)

415 #undeà
X509v3_add_ex‹nsiÚ


416 
	#X509v3_add_ex‹nsiÚ
 
oX509v3_add_ex‹nsiÚ


	)

417 #undeà
X509v3_add_Ãtsÿ³_ex‹nsiÚs


418 
	#X509v3_add_Ãtsÿ³_ex‹nsiÚs
 
oX509v3_add_Ãtsÿ³_ex‹nsiÚs


	)

419 #undeà
X509v3_add_¡ªd¬d_ex‹nsiÚs


420 
	#X509v3_add_¡ªd¬d_ex‹nsiÚs
 
oX509v3_add_¡ªd¬d_ex‹nsiÚs


	)

428 #undeà
cms_D©a_ü—‹


429 
	#cms_D©a_ü—‹
 
´iv_cms_D©a_ü—‹


	)

	@/usr/include/openssl/ui_compat.h

59 #iâdeà
HEADER_UI_COMPAT_H


60 
	#HEADER_UI_COMPAT_H


	)

62 
	~<İ’s¦/İ’s¦cÚf.h
>

63 
	~<İ’s¦/ui.h
>

65 #ifdeà 
__ılu¥lus


72 
	#des_»ad_pw_¡ršg
(
b
,
l
,
p
,
v
) \

73 
	`_os¦_Şd_des_»ad_pw_¡ršg
((
b
),(
l
),(
p
),(
v
))

	)

74 
	#des_»ad_pw
(
b
,
bf
,
s
,
p
,
v
) \

75 
	`_os¦_Şd_des_»ad_pw
((
b
),(
bf
),(
s
),(
p
),(
v
))

	)

77 
_os¦_Şd_des_»ad_pw_¡ršg
(*
buf
,
Ëngth
,cÚ¡ *
´om±
,
v”ify
);

78 
_os¦_Şd_des_»ad_pw
(*
buf
,*
buff
,
size
,cÚ¡ *
´om±
,
v”ify
);

80 #ifdeà 
__ılu¥lus


	@/usr/include/runetype.h

40 #iâdef 
_RUNETYPE_H_


41 
	#_RUNETYPE_H_


	)

43 
	~<sys/cdefs.h
>

44 
	~<sys/_ty³s.h
>

46 
	#_CACHED_RUNES
 (1 <<8 )

	)

47 
	#_CRMASK
 (~(
_CACHED_RUNES
 - 1))

	)

53 
__ruÃ_t
 
	m__mš
;

54 
__ruÃ_t
 
	m__max
;

55 
__ruÃ_t
 
	m__m­
;

56 *
	m__ty³s
;

57 } 
	t_RuÃEÁry
;

60 
	m__Äªges
;

61 
_RuÃEÁry
 *
	m__¿nges
;

62 } 
	t_RuÃRªge
;

65 
	m__magic
[8];

66 
	m__’codšg
[32];

68 
__ruÃ_t
 (*
__sg‘ruÃ
)(cÚ¡ *, 
	m__size_t
, const **);

69 (*
	m__¥uŒuÃ
)(
	m__ruÃ_t
, *, 
	m__size_t
, **);

70 
__ruÃ_t
 
	m__šv®id_ruÃ
;

72 
	m__ruÃty³
[
_CACHED_RUNES
];

73 
__ruÃ_t
 
	m__m­low”
[
_CACHED_RUNES
];

74 
__ruÃ_t
 
	m__m­uµ”
[
_CACHED_RUNES
];

81 
_RuÃRªge
 
	m__ruÃty³_ext
;

82 
_RuÃRªge
 
	m__m­low”_ext
;

83 
_RuÃRªge
 
	m__m­uµ”_ext
;

85 *
	m__v¬ŸbË
;

86 
	m__v¬ŸbË_Ën
;

87 } 
	t_RuÃLoÿË
;

89 
	#_RUNE_MAGIC_1
 "RuÃMagi"

	)

91 
_RuÃLoÿË
 
_DeçuÉRuÃLoÿË
;

92 
_RuÃLoÿË
 *
_Cu¼’tRuÃLoÿË
;

	@/usr/include/sys/_lockmgr.h

31 #iâdeà
_SYS__LOCKMGR_H_


32 
	#_SYS__LOCKMGR_H_


	)

34 #ifdeà
DEBUG_LOCKS


35 
	~<sys/_¡ack.h
>

38 
	slock
 {

39 
lock_objeù
 
	mlock_objeù
;

40 vŞ©
ušŒ_t
 
	mlk_lock
;

41 
	mlk_timo
;

42 
	mlk_´i
;

43 #ifdeà
DEBUG_LOCKS


44 
¡ack
 
	mlk_¡ack
;

	@/usr/include/sys/_rwlock.h

32 #iâdeà
_SYS__RWLOCK_H_


33 
	#_SYS__RWLOCK_H_


	)

38 
	srwlock
 {

39 
lock_objeù
 
	mlock_objeù
;

40 vŞ©
ušŒ_t
 
	mrw_lock
;

	@/usr/include/sys/_sigset.h

38 #iâdeà
_SYS__SIGSET_H_


39 
	#_SYS__SIGSET_H_


	)

44 
	#_SIG_WORDS
 4

	)

45 
	#_SIG_MAXSIG
 128

	)

46 
	#_SIG_IDX
(
sig
è((sigè- 1)

	)

47 
	#_SIG_WORD
(
sig
è(
	`_SIG_IDX
(sigè>> 5)

	)

48 
	#_SIG_BIT
(
sig
è(1 << (
	`_SIG_IDX
(sigè& 31))

	)

49 
	#_SIG_VALID
(
sig
è((sigè<ğ
_SIG_MAXSIG
 && (sigè> 0)

	)

51 
	s__sig£t
 {

52 
__ušt32_t
 
	m__b™s
[
_SIG_WORDS
];

53 } 
	t__sig£t_t
;

55 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_43
)

56 
	tosig£t_t
;

	@/usr/include/sys/bufobj.h

49 #iâdeà
_SYS_BUFOBJ_H_


50 
	#_SYS_BUFOBJ_H_


	)

52 #ià
defšed
(
_KERNEL
è|| defšed(
_KVM_VNODE
)

54 
	~<sys/queue.h
>

55 
	~<sys/_lock.h
>

56 
	~<sys/_mu‹x.h
>

58 
	gbufobj
;

59 
	gbuf_İs
;

61 
buf_İs
 
buf_İs_bio
;

63 
TAILQ_HEAD
(
buæi¡s
, 
buf
);

66 
	sbufv
 {

67 
buæi¡s
 
	mbv_hd
;

68 
buf
 *
	mbv_roÙ
;

69 
	mbv_út
;

72 
	tb_¡¿‹gy_t
(
	tbufobj
 *, 
	tbuf
 *);

73 
	tb_wr™e_t
(
	tbuf
 *);

74 
	tb_sync_t
(
	tbufobj
 *, 
	twa™fÜ
);

75 
	tb_bdæush_t
(
	tbufobj
 *, 
	tbuf
 *);

77 
	sbuf_İs
 {

78 *
	mbİ_Çme
;

79 
b_wr™e_t
 *
	mbİ_wr™e
;

80 
b_¡¿‹gy_t
 *
	mbİ_¡¿‹gy
;

81 
b_sync_t
 *
	mbİ_sync
;

82 
b_bdæush_t
 *
	mbİ_bdæush
;

85 
	#BO_STRATEGY
(
bo
, 
bp
è((bo)->
bo_İs
->
	`bİ_¡¿‹gy
((bo), (bp)))

	)

86 
	#BO_SYNC
(
bo
, 
w
è((bo)->
bo_İs
->
	`bİ_sync
((bo), (w)))

	)

87 
	#BO_WRITE
(
bo
, 
bp
è((bo)->
bo_İs
->
	`bİ_wr™e
((bp)))

	)

88 
	#BO_BDFLUSH
(
bo
, 
bp
è((bo)->
bo_İs
->
	`bİ_bdæush
((bo), (bp)))

	)

90 
	sbufobj
 {

91 
mtx
 
	mbo_mtx
;

92 
bufv
 
	mbo_ş—n
;

93 
bufv
 
	mbo_dœty
;

94 
	mbo_numouut
;

95 
u_št
 
	mbo_æag
;

96 
buf_İs
 *
	mbo_İs
;

97 
	mbo_bsize
;

98 
vm_objeù
 *
	mbo_objeù
;

99 
LIST_ENTRY
(
bufobj
è
	mbo_synşi¡
;

100 *
	mbo_´iv©e
;

101 
vnode
 *
	m__bo_vnode
;

112 
	#BO_ONWORKLST
 (1 << 0è

	)

113 
	#BO_WWAIT
 (1 << 1è

	)

114 
	#BO_NEEDSGIANT
 (1 << 2è

	)

116 
	#BO_MTX
(
bo
è(&(bo)->
bo_mtx
)

	)

117 
	#BO_LOCK
(
bo
è
	`mtx_lock
(
	`BO_MTX
((bo)))

	)

118 
	#BO_UNLOCK
(
bo
è
	`mtx_uÆock
(
	`BO_MTX
((bo)))

	)

119 
	#ASSERT_BO_LOCKED
(
bo
è
	`mtx_as£¹
(
	`BO_MTX
((bo)), 
MA_OWNED
)

	)

120 
	#ASSERT_BO_UNLOCKED
(
bo
è
	`mtx_as£¹
(
	`BO_MTX
((bo)), 
MA_NOTOWNED
)

	)

122 
bufobj_wdrİ
(
bufobj
 *
bo
);

123 
bufobj_w»f
(
bufobj
 *
bo
);

124 
bufobj_w»æ
(
bufobj
 *
bo
);

125 
bufobj_šv®buf
(
bufobj
 *
bo
, 
æags
, 
¦pæag
, 
¦±imeo
);

126 
bufobj_wwa™
(
bufobj
 *
bo
, 
¦pæag
, 
timeo
);

127 
bufsync
(
bufobj
 *
bo
, 
wa™fÜ
);

128 
bufbdæush
(
bufobj
 *
bo
, 
buf
 *
bp
);

	@/usr/include/sys/ktr.h

36 #iâdeà
_SYS_KTR_H_


37 
	#_SYS_KTR_H_


	)

47 
	#KTR_GEN
 0x00000001

	)

48 
	#KTR_NET
 0x00000002

	)

49 
	#KTR_DEV
 0x00000004

	)

50 
	#KTR_LOCK
 0x00000008

	)

51 
	#KTR_SMP
 0x00000010

	)

52 
	#KTR_SUBSYS
 0x00000020

	)

53 
	#KTR_PMAP
 0x00000040

	)

54 
	#KTR_MALLOC
 0x00000080

	)

55 
	#KTR_TRAP
 0x00000100

	)

56 
	#KTR_INTR
 0x00000200

	)

57 
	#KTR_SIG
 0x00000400

	)

58 
	#KTR_SPARE2
 0x00000800

	)

59 
	#KTR_PROC
 0x00001000

	)

60 
	#KTR_SYSC
 0x00002000

	)

61 
	#KTR_INIT
 0x00004000

	)

62 
	#KTR_SPARE3
 0x00008000

	)

63 
	#KTR_SPARE4
 0x00010000

	)

64 
	#KTR_EVH
 0x00020000

	)

65 
	#KTR_VFS
 0x00040000

	)

66 
	#KTR_VOP
 0x00080000

	)

67 
	#KTR_VM
 0x00100000

	)

68 
	#KTR_INET
 0x00200000

	)

69 
	#KTR_RUNQ
 0x00400000

	)

70 
	#KTR_CONTENTION
 0x00800000

	)

71 
	#KTR_UMA
 0x01000000

	)

72 
	#KTR_CALLOUT
 0x02000000

	)

73 
	#KTR_GEOM
 0x04000000

	)

74 
	#KTR_BUSDMA
 0x08000000

	)

75 
	#KTR_INET6
 0x10000000

	)

76 
	#KTR_SCHED
 0x20000000

	)

77 
	#KTR_BUF
 0x40000000

	)

78 
	#KTR_ALL
 0x7fffffff

	)

84 
	#KTR_CT1
 0x01000000

	)

85 
	#KTR_CT2
 0x02000000

	)

86 
	#KTR_CT3
 0x04000000

	)

87 
	#KTR_CT4
 0x08000000

	)

88 
	#KTR_CT5
 0x10000000

	)

89 
	#KTR_CT6
 0x20000000

	)

90 
	#KTR_CT7
 0x40000000

	)

91 
	#KTR_CT8
 0x80000000

	)

94 #ifdeà
KTR


95 #iâdeà
KTR_COMPILE


96 
	#KTR_COMPILE
 (
KTR_ALL
)

	)

99 #undeà
KTR_COMPILE


100 
	#KTR_COMPILE
 0

	)

107 
	#KTR_VERSION
 2

	)

109 
	#KTR_PARMS
 6

	)

111 #iâdeà
LOCORE


113 
	skŒ_’Œy
 {

114 
u_št64_t
 
	mkŒ_time¡amp
;

115 
	mkŒ_ıu
;

116 
	mkŒ_lše
;

117 cÚ¡ *
	mkŒ_fe
;

118 cÚ¡ *
	mkŒ_desc
;

119 
th»ad
 *
	mkŒ_th»ad
;

120 
u_lÚg
 
	mkŒ_·rms
[
KTR_PARMS
];

123 
kŒ_ıumask
;

124 
kŒ_mask
;

125 
kŒ_’Œ›s
;

126 
kŒ_v”bo£
;

128 vŞ©
kŒ_idx
;

129 
kŒ_’Œy
 
kŒ_buf
[];

131 #ifdeà
KTR


133 
kŒ_Œaûpošt
(
u_št
 
mask
, cÚ¡ *
fe
, 
lše
,

134 cÚ¡ *
fÜm©
, 
u_lÚg
 
¬g1
, u_lÚg 
¬g2
, u_lÚg 
¬g3
,

135 
u_lÚg
 
¬g4
, u_lÚg 
¬g5
, u_lÚg 
¬g6
);

137 
	#CTR6
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
) do { \

138 ià(
KTR_COMPILE
 & (
m
)) \

139 
	`kŒ_Œaûpošt
((
m
), 
__FILE__
, 
__LINE__
, 
fÜm©
, \

140 (
u_lÚg
)(
p1
), (u_lÚg)(
p2
), (u_lÚg)(
p3
), \

141 (
u_lÚg
)(
p4
), (u_lÚg)(
p5
), (u_lÚg)(
p6
)); \

142 } 0)

	)

143 
	#CTR0
(
m
, 
fÜm©
è
	`CTR6
(m, fÜm©, 0, 0, 0, 0, 0, 0)

	)

144 
	#CTR1
(
m
, 
fÜm©
, 
p1
è
	`CTR6
(m, fÜm©,…1, 0, 0, 0, 0, 0)

	)

145 
	#CTR2
(
m
, 
fÜm©
, 
p1
, 
p2
è
	`CTR6
(m, fÜm©,…1,…2, 0, 0, 0, 0)

	)

146 
	#CTR3
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
è
	`CTR6
(m, fÜm©,…1,…2,…3, 0, 0, 0)

	)

147 
	#CTR4
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
, 
p4
è
	`CTR6
(m, fÜm©,…1,…2,…3,…4, 0, 0)

	)

148 
	#CTR5
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
	`CTR6
(m, fÜm©,…1,…2,…3,…4,…5, 0)

	)

150 
	#CTR0
(
m
, 
d
è()0

	)

151 
	#CTR1
(
m
, 
d
, 
p1
è()0

	)

152 
	#CTR2
(
m
, 
d
, 
p1
, 
p2
è()0

	)

153 
	#CTR3
(
m
, 
d
, 
p1
, 
p2
, 
p3
è()0

	)

154 
	#CTR4
(
m
, 
d
, 
p1
, 
p2
, 
p3
, 
p4
è()0

	)

155 
	#CTR5
(
m
, 
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è()0

	)

156 
	#CTR6
(
m
, 
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è()0

	)

159 
	#TR0
(
d
è
	`CTR0
(
KTR_GEN
, d)

	)

160 
	#TR1
(
d
, 
p1
è
	`CTR1
(
KTR_GEN
, d,…1)

	)

161 
	#TR2
(
d
, 
p1
, 
p2
è
	`CTR2
(
KTR_GEN
, d,…1,…2)

	)

162 
	#TR3
(
d
, 
p1
, 
p2
, 
p3
è
	`CTR3
(
KTR_GEN
, d,…1,…2,…3)

	)

163 
	#TR4
(
d
, 
p1
, 
p2
, 
p3
, 
p4
è
	`CTR4
(
KTR_GEN
, d,…1,…2,…3,…4)

	)

164 
	#TR5
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
	`CTR5
(
KTR_GEN
, d,…1,…2,…3,…4,…5)

	)

165 
	#TR6
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è
	`CTR6
(
KTR_GEN
, d,…1,…2,…3,…4,…5,…6)

	)

188 
	#KTR_ATTR_LINKED
 "lškedto:\"%s\""

	)

189 
	#KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
) \

190 "KTRGRAPH group:\"" 
egroup
 "\", id:\"%s\", " 
‘y³
 ",‡‰ribu‹s: "

	)

192 
	#KTR_EVENT0
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
) \

193 
	`CTR2
(
m
, 
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è"nÚe", id’t, 
ed©
)

	)

194 
	#KTR_EVENT1
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, 
a0
, 
v0
) \

195 
	`CTR3
(
m
, 
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
, id’t, 
ed©
, (
v0
))

	)

196 
	#KTR_EVENT2
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, 
a0
, 
v0
, 
a1
, 
v1
) \

197 
	`CTR4
(
m
, 
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
 ", " 
a1
, \

198 
id’t
, 
ed©
, (
v0
), (
v1
))

	)

199 
	#KTR_EVENT3
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
)\

200 
	`CTR5
(
m
,
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
 ", " 
a1
 ", " 
a2
, \

201 
id’t
, 
ed©
, (
v0
), (
v1
), (
v2
))

	)

202 
	#KTR_EVENT4
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, \

203 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
) \

204 
	`CTR6
(
m
,
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
 ", " 
a1
 ", " 
a2
 ", " 
a3
,\

205 
id’t
, 
ed©
, (
v0
), (
v1
), (
v2
), (
v3
))

	)

210 
	#KTR_STATE0
(
m
, 
egroup
, 
id’t
, 
¡©e
) \

211 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "¡©e:\"%s\"", 
¡©e
)

	)

212 
	#KTR_STATE1
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
) \

213 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "¡©e:\"%s\"", 
¡©e
, 
a0
, (
v0
))

	)

214 
	#KTR_STATE2
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
, 
a1
, 
v1
) \

215 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "¡©e:\"%s\"", 
¡©e
, 
a0
, (
v0
), 
a1
, (
v1
))

	)

216 
	#KTR_STATE3
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
) \

217 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "state:\"%s\"", \

218 
¡©e
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

219 
	#KTR_STATE4
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
)\

220 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "state:\"%s\"", \

221 
¡©e
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

227 
	#KTR_COUNTER0
(
m
, 
egroup
, 
id’t
, 
couÁ”
) \

228 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "couÁ”:%d", 
couÁ”
)

	)

229 
	#KTR_COUNTER1
(
m
, 
egroup
, 
id’t
, 
ed©
, 
a0
, 
v0
) \

230 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "couÁ”:%d", 
couÁ”
, 
a0
, (
v0
))

	)

231 
	#KTR_COUNTER2
(
m
, 
egroup
, 
id’t
, 
couÁ”
, 
a0
, 
v0
, 
a1
, 
v1
) \

232 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "couÁ”:%d", 
couÁ”
, 
a0
, (
v0
), 
a1
, (
v1
))

	)

233 
	#KTR_COUNTER3
(
m
, 
egroup
, 
id’t
, 
couÁ”
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
) \

234 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "counter:%d", \

235 
couÁ”
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

236 
	#KTR_COUNTER4
(
m
, 
egroup
, 
id’t
, 
couÁ”
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
)\

237 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "counter:%d", \

238 
couÁ”
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

243 
	#KTR_POINT0
(
m
, 
egroup
, 
id’t
, 
pošt
) \

244 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
)

	)

245 
	#KTR_POINT1
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
) \

246 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
, 
a0
, (
v0
))

	)

247 
	#KTR_POINT2
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
, 
a1
, 
v1
) \

248 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
, 
a0
, (
v0
), 
a1
, (
v1
))

	)

249 
	#KTR_POINT3
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
) \

250 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
, \

251 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

252 
	#KTR_POINT4
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
)\

253 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "point:\"%s\"", \

254 
pošt
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

262 #ià(
KTR_COMPILE
 & 
KTR_INIT
) != 0

263 
	#ITR0
(
d
è
	`CTR0
(
KTR_INIT
, d)

	)

264 
	#ITR1
(
d
, 
p1
è
	`CTR1
(
KTR_INIT
, d,…1)

	)

265 
	#ITR2
(
d
, 
p1
, 
p2
è
	`CTR2
(
KTR_INIT
, d,…1,…2)

	)

266 
	#ITR3
(
d
, 
p1
, 
p2
, 
p3
è
	`CTR3
(
KTR_INIT
, d,…1,…2,…3)

	)

267 
	#ITR4
(
d
, 
p1
, 
p2
, 
p3
, 
p4
è
	`CTR4
(
KTR_INIT
, d,…1,…2,…3,…4)

	)

268 
	#ITR5
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
	`CTR5
(
KTR_INIT
, d,…1,…2,…3,…4,…5)

	)

269 
	#ITR6
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è
	`CTR6
(
KTR_INIT
, d,…1,…2,…3,…4,…5,…6)

	)

271 
	#ITR0
(
d
)

	)

272 
	#ITR1
(
d
, 
p1
)

	)

273 
	#ITR2
(
d
, 
p1
, 
p2
)

	)

274 
	#ITR3
(
d
, 
p1
, 
p2
, 
p3
)

	)

275 
	#ITR4
(
d
, 
p1
, 
p2
, 
p3
, 
p4
)

	)

276 
	#ITR5
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
)

	)

277 
	#ITR6
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
)

	)

	@/usr/include/sys/malloc.h

35 #iâdeà
_SYS_MALLOC_H_


36 
	#_SYS_MALLOC_H_


	)

38 
	~<sys/·¿m.h
>

39 
	~<sys/queue.h
>

40 
	~<sys/_lock.h
>

41 
	~<sys/_mu‹x.h
>

43 
	#MINALLOCSIZE
 
UMA_SMALLEST_UNIT


	)

48 
	#M_NOWAIT
 0x0001

	)

49 
	#M_WAITOK
 0x0002

	)

50 
	#M_ZERO
 0x0100

	)

51 
	#M_NOVM
 0x0200

	)

52 
	#M_USE_RESERVE
 0x0400

	)

54 
	#M_MAGIC
 877983977

	)

72 
	sm®loc_ty³_¡©s
 {

73 
ušt64_t
 
	mmts_mem®loûd
;

74 
ušt64_t
 
	mmts_memä“d
;

75 
ušt64_t
 
	mmts_num®locs
;

76 
ušt64_t
 
	mmts_numä“s
;

77 
ušt64_t
 
	mmts_size
;

78 
ušt64_t
 
	m_mts_»£rved1
;

79 
ušt64_t
 
	m_mts_»£rved2
;

80 
ušt64_t
 
	m_mts_»£rved3
;

86 
	#DTMALLOC_PROBE_MALLOC
 0

	)

87 
	#DTMALLOC_PROBE_FREE
 1

	)

88 
	#DTMALLOC_PROBE_MAX
 2

	)

90 
	sm®loc_ty³_š‹º®
 {

91 
ušt32_t
 
	mmti_´obes
[
DTMALLOC_PROBE_MAX
];

93 
m®loc_ty³_¡©s
 
	mmti_¡©s
[
MAXCPU
];

101 
	sm®loc_ty³
 {

102 
m®loc_ty³
 *
	mks_Ãxt
;

103 
u_lÚg
 
	mks_magic
;

104 cÚ¡ *
	mks_shÜtdesc
;

105 *
	mks_hªdË
;

115 
	#MALLOC_TYPE_STREAM_VERSION
 0x00000001

	)

116 
	sm®loc_ty³_¡»am_h—d”
 {

117 
ušt32_t
 
	mmtsh_v”siÚ
;

118 
ušt32_t
 
	mmtsh_maxıus
;

119 
ušt32_t
 
	mmtsh_couÁ
;

120 
ušt32_t
 
	m_mtsh_·d
;

123 
	#MALLOC_MAX_NAME
 32

	)

124 
	sm®loc_ty³_h—d”
 {

125 
	mmth_Çme
[
MALLOC_MAX_NAME
];

128 #ifdeà
_KERNEL


129 
	#MALLOC_DEFINE
(
ty³
, 
shÜtdesc
, 
lÚgdesc
) \

130 
m®loc_ty³
 
ty³
[1] = { \

131 { 
NULL
, 
M_MAGIC
, 
shÜtdesc
, NULL } \

133 
	`SYSINIT
(
ty³
##
_š™
, 
SI_SUB_KMEM
, 
SI_ORDER_SECOND
, 
m®loc_š™
, \

134 
ty³
); \

135 
	`SYSUNINIT
(
ty³
##
_unš™
, 
SI_SUB_KMEM
, 
SI_ORDER_ANY
, \

136 
m®loc_unš™
, 
ty³
)

	)

138 
	#MALLOC_DECLARE
(
ty³
) \

139 
m®loc_ty³
 
ty³
[1]

	)

141 
MALLOC_DECLARE
(
M_CACHE
);

142 
MALLOC_DECLARE
(
M_DEVBUF
);

143 
MALLOC_DECLARE
(
M_TEMP
);

145 
MALLOC_DECLARE
(
M_IP6OPT
);

146 
MALLOC_DECLARE
(
M_IP6NDP
);

151 
	#MALLOC
(
¥aû
, 
ÿ¡
, 
size
, 
ty³
, 
æags
) \

152 ((
¥aû
èğ(
ÿ¡
)
	`m®loc
((
u_lÚg
)(
size
), (
ty³
), (
æags
)))

	)

153 
	#FREE
(
addr
, 
ty³
è
	`ä“
(×ddr), (ty³))

	)

160 
MALLOC_DECLARE
(
M_IOV
);

162 
mtx
 
m®loc_mtx
;

167 
	tm®loc_ty³_li¡_func_t
(
	tm®loc_ty³
 *, *);

169 
cÚtigä“
(*
addr
, 
size
, 
m®loc_ty³
 *
ty³
);

170 *
	$cÚtigm®loc
(
size
, 
m®loc_ty³
 *
ty³
, 
æags
,

171 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
®ignm’t
,

172 
bound¬y
è
__m®loc_like
;

173 
	`ä“
(*
addr
, 
m®loc_ty³
 *
ty³
);

174 *
	$m®loc
(
size
, 
m®loc_ty³
 *
ty³
, 
æags
è
__m®loc_like
;

175 
	`m®loc_š™
(*);

176 
	`m®loc_Ï¡_ç
();

177 
	`m®loc_ty³_®loÿ‹d
(
m®loc_ty³
 *
ty³
, 
size
);

178 
	`m®loc_ty³_ä“d
(
m®loc_ty³
 *
ty³
, 
size
);

179 
	`m®loc_ty³_li¡
(
m®loc_ty³_li¡_func_t
 *, *);

180 
	`m®loc_unš™
(*);

181 *
	`»®loc
(*
addr
, 
size
, 
m®loc_ty³
 *
ty³
,

182 
æags
);

183 *
	`»®locf
(*
addr
, 
size
, 
m®loc_ty³
 *
ty³
,

184 
æags
);

186 
m®loc_ty³
 *
	`m®loc_desc2ty³
(cÚ¡ *
desc
);

	@/usr/include/sys/mutex.h

32 #iâdeà
_SYS_MUTEX_H_


33 
	#_SYS_MUTEX_H_


	)

35 #iâdeà
LOCORE


36 
	~<sys/queue.h
>

37 
	~<sys/_lock.h
>

38 
	~<sys/_mu‹x.h
>

40 #ifdeà
_KERNEL


41 
	~<sys/pıu.h
>

42 
	~<sys/lock_´ofe.h
>

43 
	~<sys/lock¡©.h
>

44 
	~<machše/©omic.h
>

45 
	~<machše/ıufunc.h
>

49 
	~<machše/mu‹x.h
>

51 #ifdeà
_KERNEL


57 
	#MTX_DEF
 0x00000000

	)

58 
	#MTX_SPIN
 0x00000001

	)

59 
	#MTX_RECURSE
 0x00000004

	)

60 
	#MTX_NOWITNESS
 0x00000008

	)

61 
	#MTX_NOPROFILE
 0x00000020

	)

67 
	#MTX_QUIET
 
LOP_QUIET


	)

68 
	#MTX_DUPOK
 
LOP_DUPOK


	)

74 
	#MTX_RECURSED
 0x00000001

	)

75 
	#MTX_CONTESTED
 0x00000002

	)

76 
	#MTX_UNOWNED
 0x00000004

	)

77 
	#MTX_FLAGMASK
 (
MTX_RECURSED
 | 
MTX_CONTESTED
 | 
MTX_UNOWNED
)

	)

82 
	#MTX_DESTROYED
 (
MTX_CONTESTED
 | 
MTX_UNOWNED
)

	)

86 #iâdeà
LOCORE


92 
	#mp_fixme
(
¡ršg
)

	)

94 #ifdeà
_KERNEL


107 
mtx_š™
(
mtx
 *
m
, cÚ¡ *
Çme
, cÚ¡ *
ty³
, 
İts
);

108 
mtx_de¡roy
(
mtx
 *
m
);

109 
mtx_sysš™
(*
¬g
);

110 
mu‹x_š™
();

111 
_mtx_lock_¦“p
(
mtx
 *
m
, 
ušŒ_t
 
tid
, 
İts
,

112 cÚ¡ *
fe
, 
lše
);

113 
_mtx_uÆock_¦“p
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
, 
lše
);

114 #ifdeà
SMP


115 
_mtx_lock_¥š
(
mtx
 *
m
, 
ušŒ_t
 
tid
, 
İts
,

116 cÚ¡ *
fe
, 
lše
);

118 
_mtx_uÆock_¥š
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
, 
lše
);

119 
_mtx_Œylock
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
, 
lše
);

120 
_mtx_lock_æags
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
, 
lše
);

121 
_mtx_uÆock_æags
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
, 
lše
);

122 
_mtx_lock_¥š_æags
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
,

123 
lše
);

124 
_mtx_uÆock_¥š_æags
(
mtx
 *
m
, 
İts
, cÚ¡ *
fe
,

125 
lše
);

126 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

127 
_mtx_as£¹
(
mtx
 *
m
, 
wh©
, cÚ¡ *
fe
, 
lše
);

129 
_th»ad_lock_æags
(
th»ad
 *, , const *, );

131 
	#th»ad_lock
(
tdp
) \

132 
	`_th»ad_lock_æags
((
tdp
), 0, 
__FILE__
, 
__LINE__
)

	)

133 
	#th»ad_lock_æags
(
tdp
, 
İt
) \

134 
	`_th»ad_lock_æags
((
tdp
), (
İt
), 
__FILE__
, 
__LINE__
)

	)

135 
	#th»ad_uÆock
(
tdp
) \

136 
	`mtx_uÆock_¥š
((
tdp
)->
td_lock
)

	)

138 
	#mtx_»cur£
 
lock_objeù
.
lo_d©a


	)

146 #iâdeà
_obš_lock


147 
	#_obš_lock
(
mp
, 
tid
) \

148 
	`©omic_cmp£t_acq_±r
(&(
mp
)->
mtx_lock
, 
MTX_UNOWNED
, (
tid
))

	)

152 #iâdeà
_»Ëa£_lock


153 
	#_»Ëa£_lock
(
mp
, 
tid
) \

154 
	`©omic_cmp£t_»l_±r
(&(
mp
)->
mtx_lock
, (
tid
), 
MTX_UNOWNED
)

	)

158 #iâdeà
_»Ëa£_lock_quick


159 
	#_»Ëa£_lock_quick
(
mp
) \

160 
	`©omic_¡Üe_»l_±r
(&(
mp
)->
mtx_lock
, 
MTX_UNOWNED
)

	)

167 #iâdeà
_g‘_¦“p_lock


168 
	#_g‘_¦“p_lock
(
mp
, 
tid
, 
İts
, 
fe
, 
lše
) do { \

169 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

170 ià(!
	`_obš_lock
((
mp
), 
_tid
)) \

171 
	`_mtx_lock_¦“p
((
mp
), 
_tid
, (
İts
), (
fe
), (
lše
)); \

173 
	`LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
LS_MTX_LOCK_ACQUIRE
, \

174 
mp
, 0, 0, (
fe
), (
lše
)); \

175 } 0)

	)

185 #iâdeà
_g‘_¥š_lock


186 #ifdeà
SMP


187 
	#_g‘_¥š_lock
(
mp
, 
tid
, 
İts
, 
fe
, 
lše
) do { \

188 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

189 
	`¥šlock_’‹r
(); \

190 ià(!
	`_obš_lock
((
mp
), 
_tid
)) { \

191 ià((
mp
)->
mtx_lock
 =ğ
_tid
) \

192 (
mp
)->
mtx_»cur£
++; \

194 
	`_mtx_lock_¥š
((
mp
), 
_tid
, (
İts
), (
fe
), (
lše
)); \

197 
	`LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
LS_MTX_SPIN_LOCK_ACQUIRE
, \

198 
mp
, 0, 0, (
fe
), (
lše
)); \

199 } 0)

	)

201 
	#_g‘_¥š_lock
(
mp
, 
tid
, 
İts
, 
fe
, 
lše
) do { \

202 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

204 
	`¥šlock_’‹r
(); \

205 ià((
mp
)->
mtx_lock
 =ğ
_tid
) \

206 (
mp
)->
mtx_»cur£
++; \

208 
	`KASSERT
((
mp
)->
mtx_lock
 =ğ
MTX_UNOWNED
, ("corrupt spinlock")); \

209 (
mp
)->
mtx_lock
 = 
_tid
; \

211 } 0)

	)

219 #iâdeà
_»l_¦“p_lock


220 
	#_»l_¦“p_lock
(
mp
, 
tid
, 
İts
, 
fe
, 
lše
) do { \

221 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

223 ià(!
	`_»Ëa£_lock
((
mp
), 
_tid
)) \

224 
	`_mtx_uÆock_¦“p
((
mp
), (
İts
), (
fe
), (
lše
)); \

225 } 0)

	)

238 #iâdeà
_»l_¥š_lock


239 #ifdeà
SMP


240 
	#_»l_¥š_lock
(
mp
) do { \

241 ià(
	`mtx_»cur£d
((
mp
))) \

242 (
mp
)->
mtx_»cur£
--; \

244 
	`LOCKSTAT_PROFILE_RELEASE_LOCK
(
LS_MTX_SPIN_UNLOCK_RELEASE
, \

245 
mp
); \

246 
	`_»Ëa£_lock_quick
((
mp
)); \

248 
	`¥šlock_ex™
(); \

249 } 0)

	)

251 
	#_»l_¥š_lock
(
mp
) do { \

252 ià(
	`mtx_»cur£d
((
mp
))) \

253 (
mp
)->
mtx_»cur£
--; \

255 
	`LOCKSTAT_PROFILE_RELEASE_LOCK
(
LS_MTX_SPIN_UNLOCK_RELEASE
, \

256 
mp
); \

257 (
mp
)->
mtx_lock
 = 
MTX_UNOWNED
; \

259 
	`¥šlock_ex™
(); \

260 } 0)

	)

295 
	#mtx_lock
(
m
è
	`mtx_lock_æags
((m), 0)

	)

296 
	#mtx_lock_¥š
(
m
è
	`mtx_lock_¥š_æags
((m), 0)

	)

297 
	#mtx_Œylock
(
m
è
	`mtx_Œylock_æags
((m), 0)

	)

298 
	#mtx_uÆock
(
m
è
	`mtx_uÆock_æags
((m), 0)

	)

299 
	#mtx_uÆock_¥š
(
m
è
	`mtx_uÆock_¥š_æags
((m), 0)

	)

301 
	gmtx_poŞ
;

303 
mtx_poŞ
 *
mtx_poŞ_ü—‹
(cÚ¡ *
mtx_Çme
, 
poŞ_size
, 
İts
);

304 
mtx_poŞ_de¡roy
(
mtx_poŞ
 **
poŞp
);

305 
mtx
 *
mtx_poŞ_fšd
(
mtx_poŞ
 *
poŞ
, *
±r
);

306 
mtx
 *
mtx_poŞ_®loc
(
mtx_poŞ
 *
poŞ
);

307 
	#mtx_poŞ_lock
(
poŞ
, 
±r
) \

308 
	`mtx_lock
(
	`mtx_poŞ_fšd
((
poŞ
), (
±r
)))

	)

309 
	#mtx_poŞ_lock_¥š
(
poŞ
, 
±r
) \

310 
	`mtx_lock_¥š
(
	`mtx_poŞ_fšd
((
poŞ
), (
±r
)))

	)

311 
	#mtx_poŞ_uÆock
(
poŞ
, 
±r
) \

312 
	`mtx_uÆock
(
	`mtx_poŞ_fšd
((
poŞ
), (
±r
)))

	)

313 
	#mtx_poŞ_uÆock_¥š
(
poŞ
, 
±r
) \

314 
	`mtx_uÆock_¥š
(
	`mtx_poŞ_fšd
((
poŞ
), (
±r
)))

	)

322 
mtx_poŞ
 *
mtxpoŞ_lockbud”
;

323 
mtx_poŞ
 *
mtxpoŞ_¦“p
;

325 #iâdeà
LOCK_DEBUG


326 #”rÜ 
LOCK_DEBUG
 
nÙ
 
defšed
, 
šşude
 <
sys
/
lock
.
h
> 
befÜe
 <sys/
mu‹x
.h>

328 #ià
LOCK_DEBUG
 > 0 || 
defšed
(
MUTEX_NOINLINE
)

329 
	#mtx_lock_æags
(
m
, 
İts
) \

330 
	`_mtx_lock_æags
((
m
), (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

331 
	#mtx_uÆock_æags
(
m
, 
İts
) \

332 
	`_mtx_uÆock_æags
((
m
), (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

333 
	#mtx_lock_¥š_æags
(
m
, 
İts
) \

334 
	`_mtx_lock_¥š_æags
((
m
), (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

335 
	#mtx_uÆock_¥š_æags
(
m
, 
İts
) \

336 
	`_mtx_uÆock_¥š_æags
((
m
), (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

338 
	#mtx_lock_æags
(
m
, 
İts
) \

339 
	`_g‘_¦“p_lock
((
m
), 
cu¹h»ad
, (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

340 
	#mtx_uÆock_æags
(
m
, 
İts
) \

341 
	`_»l_¦“p_lock
((
m
), 
cu¹h»ad
, (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

342 
	#mtx_lock_¥š_æags
(
m
, 
İts
) \

343 
	`_g‘_¥š_lock
((
m
), 
cu¹h»ad
, (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

344 
	#mtx_uÆock_¥š_æags
(
m
, 
İts
) \

345 
	`_»l_¥š_lock
((
m
))

	)

348 
	#mtx_Œylock_æags
(
m
, 
İts
) \

349 
	`_mtx_Œylock
((
m
), (
İts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

351 
	#mtx_¦“p
(
chª
, 
mtx
, 
´i
, 
wmesg
, 
timo
) \

352 
	`_¦“p
((
chª
), &(
mtx
)->
lock_objeù
, (
´i
), (
wmesg
), (
timo
))

	)

354 
	#mtx_š™Ÿlized
(
m
è
	`lock_š™®ized
(&(m)->
lock_objeù
)

	)

356 
	#mtx_owÃd
(
m
è(((m)->
mtx_lock
 & ~
MTX_FLAGMASK
è=ğ(
ušŒ_t
)
cu¹h»ad
)

	)

358 
	#mtx_»cur£d
(
m
è((m)->
mtx_»cur£
 !ğ0)

	)

360 
	#mtx_Çme
(
m
è((m)->
lock_objeù
.
lo_Çme
)

	)

365 
mtx
 
GŸÁ
;

366 
mtx
 
blocked_lock
;

375 #iâdeà
DROP_GIANT


376 
	#DROP_GIANT
() \

378 
_gŸÁút
 = 0; \

379 
	`WITNESS_SAVE_DECL
(
GŸÁ
); \

381 ià(
	`mtx_owÃd
(&
GŸÁ
)) { \

382 
	`WITNESS_SAVE
(&
GŸÁ
.
lock_objeù
, Giant); \

383 
_gŸÁút
 = 0; 
	`mtx_owÃd
(&
GŸÁ
); _giantcnt++) \

384 
	`mtx_uÆock
(&
GŸÁ
); \

385 }

	)

387 
	#PICKUP_GIANT
() \

388 
	`PARTIAL_PICKUP_GIANT
(); \

389 } 0)

	)

391 
	#PARTIAL_PICKUP_GIANT
() \

392 
	`mtx_as£¹
(&
GŸÁ
, 
MA_NOTOWNED
); \

393 ià(
_gŸÁút
 > 0) { \

394 
_gŸÁút
--) \

395 
	`mtx_lock
(&
GŸÁ
); \

396 
	`WITNESS_RESTORE
(&
GŸÁ
.
lock_objeù
, Giant); \

397 }

	)

400 
	#UGAR
(
rv®
) do { \

401 
_v®
 = (
rv®
); \

402 
	`mtx_uÆock
(&
GŸÁ
); \

403  (
_v®
); \

404 } 0)

	)

406 
	smtx_¬gs
 {

407 
mtx
 *
	mma_mtx
;

408 cÚ¡ *
	mma_desc
;

409 
	mma_İts
;

412 
	#MTX_SYSINIT
(
Çme
, 
mtx
, 
desc
, 
İts
) \

413 
mtx_¬gs
 
Çme
##
_¬gs
 = { \

414 (
mtx
), \

415 (
desc
), \

416 (
İts
) \

418 
	`SYSINIT
(
Çme
##
_mtx_sysš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

419 
mtx_sysš™
, &
Çme
##
_¬gs
); \

420 
	`SYSUNINIT
(
Çme
##
_mtx_sysunš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

421 
mtx_de¡roy
, (
mtx
))

	)

430 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

431 
	#MA_OWNED
 
LA_XLOCKED


	)

432 
	#MA_NOTOWNED
 
LA_UNLOCKED


	)

433 
	#MA_RECURSED
 
LA_RECURSED


	)

434 
	#MA_NOTRECURSED
 
LA_NOTRECURSED


	)

437 #ifdeà
INVARIANTS


438 
	#mtx_as£¹
(
m
, 
wh©
) \

439 
	`_mtx_as£¹
((
m
), (
wh©
), 
__FILE__
, 
__LINE__
)

	)

441 
	#GIANT_REQUIRED
 
	`mtx_as£¹
(&
GŸÁ
, 
MA_OWNED
)

	)

444 
	#mtx_as£¹
(
m
, 
wh©
è()0

	)

445 
	#GIANT_REQUIRED


	)

451 
	#MTX_NETWORK_LOCK
 "ÃtwÜk driv”"

	)

	@/usr/include/sys/sx.h

32 #iâdef 
_SYS_SX_H_


33 
	#_SYS_SX_H_


	)

35 
	~<sys/_lock.h
>

36 
	~<sys/_sx.h
>

38 #ifdef 
_KERNEL


39 
	~<sys/pıu.h
>

40 
	~<sys/lock_´ofe.h
>

41 
	~<sys/lock¡©.h
>

42 
	~<machše/©omic.h
>

68 
	#SX_LOCK_SHARED
 0x01

	)

69 
	#SX_LOCK_SHARED_WAITERS
 0x02

	)

70 
	#SX_LOCK_EXCLUSIVE_WAITERS
 0x04

	)

71 
	#SX_LOCK_RECURSED
 0x08

	)

72 
	#SX_LOCK_FLAGMASK
 \

73 (
SX_LOCK_SHARED
 | 
SX_LOCK_SHARED_WAITERS
 | \

74 
SX_LOCK_EXCLUSIVE_WAITERS
 | 
SX_LOCK_RECURSED
)

	)

76 
	#SX_OWNER
(
x
è((xè& ~
SX_LOCK_FLAGMASK
)

	)

77 
	#SX_SHARERS_SHIFT
 4

	)

78 
	#SX_SHARERS
(
x
è(
	`SX_OWNER
(xè>> 
SX_SHARERS_SHIFT
)

	)

79 
	#SX_SHARERS_LOCK
(
x
) \

80 ((
x
è<< 
SX_SHARERS_SHIFT
 | 
SX_LOCK_SHARED
)

	)

81 
	#SX_ONE_SHARER
 (1 << 
SX_SHARERS_SHIFT
)

	)

83 
	#SX_LOCK_UNLOCKED
 
	`SX_SHARERS_LOCK
(0)

	)

84 
	#SX_LOCK_DESTROYED
 \

85 (
SX_LOCK_SHARED_WAITERS
 | 
SX_LOCK_EXCLUSIVE_WAITERS
)

	)

87 #ifdeà
_KERNEL


93 
sx_sysš™
(*
¬g
);

94 
	#sx_š™
(
sx
, 
desc
è
	`sx_š™_æags
((sx), (desc), 0)

	)

95 
sx_š™_æags
(
sx
 *sx, cÚ¡ *
desütiÚ
, 
İts
);

96 
sx_de¡roy
(
sx
 *sx);

97 
_sx_¦ock
(
sx
 *sx, 
İts
, cÚ¡ *
fe
, 
lše
);

98 
_sx_xlock
(
sx
 *sx, 
İts
, cÚ¡ *
fe
, 
lše
);

99 
_sx_Œy_¦ock
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

100 
_sx_Œy_xlock
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

101 
_sx_suÆock
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

102 
_sx_xuÆock
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

103 
_sx_Œy_upg¿de
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

104 
_sx_downg¿de
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

105 
_sx_xlock_h¬d
(
sx
 *sx, 
ušŒ_t
 
tid
, 
İts
,

106 cÚ¡ *
fe
, 
lše
);

107 
_sx_¦ock_h¬d
(
sx
 *sx, 
İts
, cÚ¡ *
fe
, 
lše
);

108 
_sx_xuÆock_h¬d
(
sx
 *sx, 
ušŒ_t
 
tid
, cÚ¡ *
fe
, 

109 
lše
);

110 
_sx_suÆock_h¬d
(
sx
 *sx, cÚ¡ *
fe
, 
lše
);

111 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

112 
_sx_as£¹
(
sx
 *sx, 
wh©
, cÚ¡ *
fe
, 
lše
);

114 #ifdeà
DDB


115 
sx_chaš
(
th»ad
 *
td
, th»ad **
owÃ½
);

118 
	ssx_¬gs
 {

119 
sx
 *
	m§_sx
;

120 cÚ¡ *
	m§_desc
;

123 
	#SX_SYSINIT
(
Çme
, 
sxa
, 
desc
) \

124 
sx_¬gs
 
Çme
##
_¬gs
 = { \

125 (
sxa
), \

126 (
desc
) \

128 
	`SYSINIT
(
Çme
##
_sx_sysš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

129 
sx_sysš™
, &
Çme
##
_¬gs
); \

130 
	`SYSUNINIT
(
Çme
##
_sx_sysunš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

131 
sx_de¡roy
, (
sxa
))

	)

140 
__šlše
 

141 
	$__sx_xlock
(
sx
 *sx, 
th»ad
 *
td
, 
İts
, cÚ¡ *
fe
,

142 
lše
)

144 
ušŒ_t
 
tid
 = (ušŒ_t)
td
;

145 
”rÜ
 = 0;

147 ià(!
	`©omic_cmp£t_acq_±r
(&
sx
->
sx_lock
, 
SX_LOCK_UNLOCKED
, 
tid
))

148 
”rÜ
 = 
	`_sx_xlock_h¬d
(
sx
, 
tid
, 
İts
, 
fe
, 
lše
);

150 
	`LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
LS_SX_XLOCK_ACQUIRE
,

151 
sx
, 0, 0, 
fe
, 
lše
);

153  (
”rÜ
);

154 
	}
}

157 
__šlše
 

158 
	$__sx_xuÆock
(
sx
 *sx, 
th»ad
 *
td
, cÚ¡ *
fe
, 
lše
)

160 
ušŒ_t
 
tid
 = (ušŒ_t)
td
;

162 ià(!
	`©omic_cmp£t_»l_±r
(&
sx
->
sx_lock
, 
tid
, 
SX_LOCK_UNLOCKED
))

163 
	`_sx_xuÆock_h¬d
(
sx
, 
tid
, 
fe
, 
lše
);

164 
	}
}

167 
__šlše
 

168 
	$__sx_¦ock
(
sx
 *sx, 
İts
, cÚ¡ *
fe
, 
lše
)

170 
ušŒ_t
 
x
 = 
sx
->
sx_lock
;

171 
”rÜ
 = 0;

173 ià(!(
x
 & 
SX_LOCK_SHARED
) ||

174 !
	`©omic_cmp£t_acq_±r
(&
sx
->
sx_lock
, 
x
, x + 
SX_ONE_SHARER
))

175 
”rÜ
 = 
	`_sx_¦ock_h¬d
(
sx
, 
İts
, 
fe
, 
lše
);

177 
	`LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
LS_SX_SLOCK_ACQUIRE
, 
sx
, 0,

178 0, 
fe
, 
lše
);

180  (
”rÜ
);

181 
	}
}

190 
__šlše
 

191 
	$__sx_suÆock
(
sx
 *sx, cÚ¡ *
fe
, 
lše
)

193 
ušŒ_t
 
x
 = 
sx
->
sx_lock
;

195 ià(
x
 =ğ(
	`SX_SHARERS_LOCK
(1è| 
SX_LOCK_EXCLUSIVE_WAITERS
) ||

196 !
	`©omic_cmp£t_»l_±r
(&
sx
->
sx_lock
, 
x
, x - 
SX_ONE_SHARER
))

197 
	`_sx_suÆock_h¬d
(
sx
, 
fe
, 
lše
);

198 
	}
}

203 #iâdeà
LOCK_DEBUG


206 #if (
LOCK_DEBUG
 > 0è|| 
defšed
(
SX_NOINLINE
)

207 
	#sx_xlock
(
sx
è()
	`_sx_xlock
((sx), 0, 
LOCK_FILE
, 
LOCK_LINE
)

	)

208 
	#sx_xlock_sig
(
sx
) \

209 
	`_sx_xlock
((
sx
), 
SX_INTERRUPTIBLE
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

210 
	#sx_xuÆock
(
sx
è
	`_sx_xuÆock
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

211 
	#sx_¦ock
(
sx
è()
	`_sx_¦ock
((sx), 0, 
LOCK_FILE
, 
LOCK_LINE
)

	)

212 
	#sx_¦ock_sig
(
sx
) \

213 
	`_sx_¦ock
((
sx
), 
SX_INTERRUPTIBLE
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

214 
	#sx_suÆock
(
sx
è
	`_sx_suÆock
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

216 
	#sx_xlock
(
sx
) \

217 ()
	`__sx_xlock
((
sx
), 
cu¹h»ad
, 0, 
LOCK_FILE
, 
LOCK_LINE
)

	)

218 
	#sx_xlock_sig
(
sx
) \

219 
	`__sx_xlock
((
sx
), 
cu¹h»ad
, 
SX_INTERRUPTIBLE
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

220 
	#sx_xuÆock
(
sx
) \

221 
	`__sx_xuÆock
((
sx
), 
cu¹h»ad
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

222 
	#sx_¦ock
(
sx
è()
	`__sx_¦ock
((sx), 0, 
LOCK_FILE
, 
LOCK_LINE
)

	)

223 
	#sx_¦ock_sig
(
sx
) \

224 
	`__sx_¦ock
((
sx
), 
SX_INTERRUPTIBLE
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

225 
	#sx_suÆock
(
sx
è
	`__sx_suÆock
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

227 
	#sx_Œy_¦ock
(
sx
è
	`_sx_Œy_¦ock
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

228 
	#sx_Œy_xlock
(
sx
è
	`_sx_Œy_xlock
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

229 
	#sx_Œy_upg¿de
(
sx
è
	`_sx_Œy_upg¿de
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

230 
	#sx_downg¿de
(
sx
è
	`_sx_downg¿de
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

236 
	#sx_xhŞd”
(
sx
) \

237 ((
sx
)->
sx_lock
 & 
SX_LOCK_SHARED
 ? 
NULL
 : \

238 (
th»ad
 *)
	`SX_OWNER
((
sx
)->
sx_lock
))

	)

240 
	#sx_xlocked
(
sx
) \

241 (((
sx
)->
sx_lock
 & ~(
SX_LOCK_FLAGMASK
 & ~
SX_LOCK_SHARED
)) == \

242 (
ušŒ_t
)
cu¹h»ad
)

	)

244 
	#sx_uÆock
(
sx
) do { \

245 ià(
	`sx_xlocked
(
sx
)) \

246 
	`sx_xuÆock
(
sx
); \

248 
	`sx_suÆock
(
sx
); \

249 } 0)

	)

251 
	#sx_¦“p
(
chª
, 
sx
, 
´i
, 
wmesg
, 
timo
) \

252 
	`_¦“p
((
chª
), &(
sx
)->
lock_objeù
, (
´i
), (
wmesg
), (
timo
))

	)

257 
	#SX_DUPOK
 0x01

	)

258 
	#SX_NOPROFILE
 0x02

	)

259 
	#SX_NOWITNESS
 0x04

	)

260 
	#SX_QUIET
 0x08

	)

261 
	#SX_NOADAPTIVE
 0x10

	)

262 
	#SX_RECURSE
 0x20

	)

267 
	#SX_INTERRUPTIBLE
 0x40

	)

269 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

270 
	#SA_LOCKED
 
LA_LOCKED


	)

271 
	#SA_SLOCKED
 
LA_SLOCKED


	)

272 
	#SA_XLOCKED
 
LA_XLOCKED


	)

273 
	#SA_UNLOCKED
 
LA_UNLOCKED


	)

274 
	#SA_RECURSED
 
LA_RECURSED


	)

275 
	#SA_NOTRECURSED
 
LA_NOTRECURSED


	)

278 
	#SX_LOCKED
 
LA_LOCKED


	)

279 
	#SX_SLOCKED
 
LA_SLOCKED


	)

280 
	#SX_XLOCKED
 
LA_XLOCKED


	)

281 
	#SX_UNLOCKED
 
LA_UNLOCKED


	)

282 
	#SX_RECURSED
 
LA_RECURSED


	)

283 
	#SX_NOTRECURSED
 
LA_NOTRECURSED


	)

286 #ifdeà
INVARIANTS


287 
	#sx_as£¹
(
sx
, 
wh©
è
	`_sx_as£¹
((sx), (wh©), 
LOCK_FILE
, 
LOCK_LINE
)

	)

289 
	#sx_as£¹
(
sx
, 
wh©
è()0

	)

	@/usr/include/sys/systm.h

38 #iâdeà
_SYS_SYSTM_H_


39 
	#_SYS_SYSTM_H_


	)

41 
	~<machše/©omic.h
>

42 
	~<machše/ıufunc.h
>

43 
	~<sys/ÿÎout.h
>

44 
	~<sys/cdefs.h
>

45 
	~<sys/queue.h
>

46 
	~<sys/¡dšt.h
>

48 
cŞd
;

49 
»boÙšg
;

50 cÚ¡ *
·nic¡r
;

51 
v”siÚ
[];

52 
cİyright
[];

53 
k¡ack_·ges
;

55 
nsw­
;

57 
u_lÚg
 
·gesizes
[];

58 
physmem
;

59 
»®mem
;

61 *
roÙdevÇmes
[2];

63 
boÙhowto
;

64 
boÙv”bo£
;

66 
maxu£rs
;

67 
ngroups_max
;

68 
vm_gue¡
;

75 
	eVM_GUEST
 { 
	mVM_GUEST_NO
 = 0, 
	mVM_GUEST_VM
, 
	mVM_GUEST_XEN
 };

77 #ifdef 
INVARIANTS


78 
	#KASSERT
(
exp
,
msg
) do { \

79 ià(
	`__´ediù_çl£
(!(
exp
))) \

80 
·nic
 
msg
; \

81 } 0)

	)

82 
	#VNASSERT
(
exp
, 
vp
, 
msg
) do { \

83 ià(
	`__´ediù_çl£
(!(
exp
))) { \

84 
	`vn_´štf
(
vp
, "VNASSERT failed\n"); \

85 
·nic
 
msg
; \

87 } 0)

	)

89 
	#KASSERT
(
exp
,
msg
) do { \

90 } 0)

	)

92 
	#VNASSERT
(
exp
, 
vp
, 
msg
) do { \

93 } 0)

	)

96 #iâdeà
CTASSERT


97 
	#CTASSERT
(
x
è
	`_CTASSERT
(x, 
__LINE__
)

	)

98 
	#_CTASSERT
(
x
, 
y
è
	`__CTASSERT
(x, y)

	)

99 
	#__CTASSERT
(
x
, 
y
è
	t__as£¹
 ## 
	ty
[(xè? 1 : -1]

	)

109 
	tASSERT_ATOMIC_LOAD_PTR
(
	tv¬
, 
	tmsg
) \

110 
	tKASSERT
((
	tv¬
) == (*) && \

111 ((
	tušŒ_t
)&(
	tv¬
è& ((*è- 1)è=ğ0, 
	tmsg
)

	)

119 
	to¤–d©e
;

120 
’vmode
;

121 
hštmode
;

122 
dyÇmic_k’v
;

123 
mtx
 
k’v_lock
;

124 *
k”n_’vp
;

125 
¡©ic_’v
[];

126 
¡©ic_hšts
[];

128 **
k’vp
;

134 
	gšpcb
;

135 
	glock_objeù
;

136 
	gm®loc_ty³
;

137 
	gmtx
;

138 
	g´oc
;

139 
	gsock‘
;

140 
	gth»ad
;

141 
	g‰y
;

142 
	guüed
;

143 
	guio
;

144 
	g_jmp_buf
;

146 
£tjmp
(
_jmp_buf
 *);

147 
	$lÚgjmp
(
_jmp_buf
 *, è
__d—d2
;

148 
	`dump¡©us
(
vm_off£t_t
 
addr
, 
off_t
 
couÁ
);

149 
	`nuÎİ
();

150 
	`eİnÙsuµ
();

151 
	`u»adc
(, 
uio
 *);

152 
	`hashde¡roy
(*, 
m®loc_ty³
 *, 
u_lÚg
);

153 *
	`hashš™
(
couÁ
, 
m®loc_ty³
 *
ty³
, 
u_lÚg
 *
hashmask
);

154 *
	`hashš™_æags
(
couÁ
, 
m®loc_ty³
 *
ty³
,

155 
u_lÚg
 *
hashmask
, 
æags
);

156 
	#HASH_NOWAIT
 0x00000001

	)

157 
	#HASH_WAITOK
 0x00000002

	)

159 *
	`phashš™
(
couÁ
, 
m®loc_ty³
 *
ty³
, 
u_lÚg
 *
ÃÁr›s
);

160 
	`g_wa™idË
();

162 #ifdeà
RESTARTABLE_PANICS


163 
	$·nic
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

165 
	$·nic
(cÚ¡ *, ...è
__d—d2
 
	`__´štæike
(1, 2);

168 
	`ıu_boÙ
();

169 
	`ıu_æush_dÿche
(*, 
size_t
);

170 
	`ıu_roÙcÚf
();

171 
	`ü™iÿl_’‹r
();

172 
	`ü™iÿl_ex™
();

173 
	`š™_·¿m1
();

174 
	`š™_·¿m2
(
phy¥ages
);

175 
	`š™_·¿m3
(
kmem·ges
);

176 
	`bËfuÎ
(const *);

177 
	`kv´štf
(const *, (*)(, *), *, ,

178 
__va_li¡
è
	`__´štæike
(1, 0);

179 
	$log
(, cÚ¡ *, ...è
	`__´štæike
(2, 3);

180 
	`log_cÚsŞe
(
uio
 *);

181 
	$´štf
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

182 
	$¢´štf
(*, 
size_t
, cÚ¡ *, ...è
	`__´štæike
(3, 4);

183 
	$¥rštf
(*
buf
, cÚ¡ *, ...è
	`__´štæike
(2, 3);

184 
	$u´štf
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

185 
	$v´štf
(cÚ¡ *, 
__va_li¡
è
	`__´štæike
(1, 0);

186 
	$v¢´štf
(*, 
size_t
, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(3, 0);

187 
	$v¢½rštf
(*, 
size_t
, , cÚ¡ *, 
__va_li¡
è
	`__´štæike
(4, 0);

188 
	$v¥rštf
(*
buf
, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(2, 0);

189 
	$‰y´štf
(
‰y
 *, cÚ¡ *, ...è
	`__´štæike
(2, 3);

190 
	$ssÿnf
(cÚ¡ *, cÚ¡ *, ...è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

191 
	$vssÿnf
(cÚ¡ *, cÚ¡ *, 
__va_li¡
è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

192 
	$¡¹Ş
(cÚ¡ *, **, è
	`__nÚnuÎ
(1);

193 
u_lÚg
 
	$¡¹oul
(cÚ¡ *, **, è
	`__nÚnuÎ
(1);

194 
quad_t
 
	$¡¹oq
(cÚ¡ *, **, è
	`__nÚnuÎ
(1);

195 
u_quad_t
 
	$¡¹ouq
(cÚ¡ *, **, è
	`__nÚnuÎ
(1);

196 
	$rštf
(
´oc
 *
p
, 
´i
, cÚ¡ *, ...è
	`__´štæike
(3, 4);

197 
	`hexdump
(cÚ¡ *
±r
, 
Ëngth
, cÚ¡ *
hdr
, 
æags
);

198 
	#HD_COLUMN_MASK
 0xff

	)

199 
	#HD_DELIM_MASK
 0xff00

	)

200 
	#HD_OMIT_COUNT
 (1 << 16)

	)

201 
	#HD_OMIT_HEX
 (1 << 17)

	)

202 
	#HD_OMIT_CHARS
 (1 << 18)

	)

204 
	#ovbcİy
(
f
, 
t
, 
l
è
	`bcİy
((f), (t), (l))

	)

205 
	$bcİy
(cÚ¡ *
äom
, *
to
, 
size_t
 
Ën
è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

206 
	$bz”o
(*
buf
, 
size_t
 
Ën
è
	`__nÚnuÎ
(1);

208 *
	$memıy
(*
to
, cÚ¡ *
äom
, 
size_t
 
Ën
è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

209 *
	$memmove
(*
de¡
, cÚ¡ *
¤c
, 
size_t
 
n
è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

211 
	$cİy¡r
(cÚ¡ * 
__»¡riù
 
kçddr
, * __»¡riù 
kdaddr
,

212 
size_t
 
Ën
, size_ˆ* 
__»¡riù
 
Ëncİ›d
)

213 
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

214 
	$cİyš¡r
(cÚ¡ * 
__»¡riù
 
udaddr
, * __»¡riù 
kaddr
,

215 
size_t
 
Ën
, size_ˆ* 
__»¡riù
 
Ëncİ›d
)

216 
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

217 
	$cİyš
(cÚ¡ * 
__»¡riù
 
udaddr
, * __»¡riù 
kaddr
,

218 
size_t
 
Ën
è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

219 
	$cİyout
(cÚ¡ * 
__»¡riù
 
kaddr
, * __»¡riù 
udaddr
,

220 
size_t
 
Ën
è
	$__nÚnuÎ
(1è
	`__nÚnuÎ
(2);

222 
	`fuby‹
(cÚ¡ *
ba£
);

223 
	`fuwÜd
(cÚ¡ *
ba£
);

224 
	`fuwÜd16
(*
ba£
);

225 
št32_t
 
	`fuwÜd32
(cÚ¡ *
ba£
);

226 
št64_t
 
	`fuwÜd64
(cÚ¡ *
ba£
);

227 
	`suby‹
(*
ba£
, 
by‹
);

228 
	`suwÜd
(*
ba£
, 
wÜd
);

229 
	`suwÜd16
(*
ba£
, 
wÜd
);

230 
	`suwÜd32
(*
ba£
, 
št32_t
 
wÜd
);

231 
	`suwÜd64
(*
ba£
, 
št64_t
 
wÜd
);

232 
ušt32_t
 
	`ÿsuwÜd32
(vŞ©ušt32_ˆ*
ba£
, ušt32_ˆ
Şdv®
, ušt32_ˆ
Ãwv®
);

233 
u_lÚg
 
	`ÿsuwÜd
(vŞ©u_lÚg *
p
, u_lÚg 
Şdv®
, u_lÚg 
Ãwv®
);

235 
	`»®™expœe
(*);

237 
	`sysb“p
(
h”tz
, 
³riod
);

239 
	`h¬dşock
(
u£rmode
, 
uštåŒ_t
 
pc
);

240 
	`h¬dşock_ıu
(
u£rmode
);

241 
	`soáşock
(*);

242 
	`¡©şock
(
u£rmode
);

243 
	`´ofşock
(
u£rmode
, 
uštåŒ_t
 
pc
);

245 
	`¡¬rofşock
(
´oc
 *);

246 
	`¡İ´ofşock
(
´oc
 *);

247 
	`ıu_¡¬rofşock
();

248 
	`ıu_¡İ´ofşock
();

250 
	`ü_ÿn£e
(
uüed
 *
u1
, uüed *
u2
);

251 
	`ü_ÿn£esock‘
(
uüed
 *
üed
, 
sock‘
 *
so
);

252 
	`ü_ÿn£ešpcb
(
uüed
 *
üed
, 
špcb
 *
šp
);

254 *
	`g‘’v
(cÚ¡ *
Çme
);

255 
	`ä“’v
(*
’v
);

256 
	`g‘’v_št
(cÚ¡ *
Çme
, *
d©a
);

257 
	`g‘’v_ušt
(cÚ¡ *
Çme
, *
d©a
);

258 
	`g‘’v_lÚg
(cÚ¡ *
Çme
, *
d©a
);

259 
	`g‘’v_ulÚg
(cÚ¡ *
Çme
, *
d©a
);

260 
	`g‘’v_¡ršg
(cÚ¡ *
Çme
, *
d©a
, 
size
);

261 
	`g‘’v_quad
(cÚ¡ *
Çme
, 
quad_t
 *
d©a
);

262 
	`£‹nv
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
);

263 
	`un£‹nv
(cÚ¡ *
Çme
);

264 
	`‹¡’v
(cÚ¡ *
Çme
);

266 
	$ušt64_t
 (
	tıu_tick_f
)();

267 
	`£t_ıutick”
(
ıu_tick_f
 *
func
, 
ušt64_t
 
äeq
, 
v¬
);

268 
ıu_tick_f
 *
ıu_ticks
;

269 
ušt64_t
 
	`ıu_tick¿‹
();

270 
ušt64_t
 
	`ıutick2u£c
(ušt64_ˆ
tick
);

272 #ifdeà
APM_FIXUP_CALLTODO


273 
timev®
;

274 
	`adju¡_timeout_ÿÎtodo
(
timev®
 *
time_chªge
);

277 
	~<sys/libk”n.h
>

280 
	`cÚsš™
();

281 
	`ıu_š™şocks
();

282 
	`u¤šfoš™
();

285 
	`shutdown_niû
();

288 
	ttimeout_t
(*);

289 
	#CALLOUT_HANDLE_INITIALIZER
(
hªdË
) \

290 { 
NULL
 
	}

	)
}

292 
ÿÎout_hªdË_š™
(
ÿÎout_hªdË
 *);

293 
ÿÎout_hªdË
 
timeout
(
timeout_t
 *, *, );

294 
uÁimeout
(
timeout_t
 *, *, 
ÿÎout_hªdË
);

295 
ÿddr_t
 
k”n_timeout_ÿÎwh“l_®loc
(ÿddr_ˆ
v
);

296 
k”n_timeout_ÿÎwh“l_š™
();

299 
__šlše
 
	$¥l0
(è{ ; 
	}
}

300 
__šlše
 
šŒmask_t
 
	$¥lbio
(è{  0; 
	}
}

301 
__šlše
 
šŒmask_t
 
	$¥lÿm
(è{  0; 
	}
}

302 
__šlše
 
šŒmask_t
 
	$¥lşock
(è{  0; 
	}
}

303 
__šlše
 
šŒmask_t
 
	$¥lhigh
(è{  0; 
	}
}

304 
__šlše
 
šŒmask_t
 
	$¥limp
(è{  0; 
	}
}

305 
__šlše
 
šŒmask_t
 
	$¥Ê‘
(è{  0; 
	}
}

306 
__šlše
 
šŒmask_t
 
	$¥lsoáÿm
(è{  0; 
	}
}

307 
__šlše
 
šŒmask_t
 
	$¥lsoáşock
(è{  0; 
	}
}

308 
__šlše
 
šŒmask_t
 
	$¥lsoá‰y
(è{  0; 
	}
}

309 
__šlše
 
šŒmask_t
 
	$¥lsoávm
(è{  0; 
	}
}

310 
__šlše
 
šŒmask_t
 
	$¥lsoátq
(è{  0; 
	}
}

311 
__šlše
 
šŒmask_t
 
	$¥l¡©şock
(è{  0; 
	}
}

312 
__šlše
 
šŒmask_t
 
	$¥Éty
(è{  0; 
	}
}

313 
__šlše
 
šŒmask_t
 
	$¥lvm
(è{  0; 
	}
}

314 
__šlše
 
	$¥lx
(
šŒmask_t
 
l
 
__unu£d
è{ ; 
	}
}

320 
	$_¦“p
(*
chª
, 
lock_objeù
 *
lock
, 
´i
, cÚ¡ *
wmesg
,

321 
timo
è
	`__nÚnuÎ
(1);

322 
	#m¦“p
(
chª
, 
mtx
, 
´i
, 
wmesg
, 
timo
) \

323 
	`_¦“p
((
chª
), &(
mtx
)->
lock_objeù
, (
´i
), (
wmesg
), (
timo
))

	)

324 
	$m¦“p_¥š
(*
chª
, 
mtx
 *mtx, cÚ¡ *
wmesg
, 
timo
)

325 
	`__nÚnuÎ
(1);

326 
	`·u£
(cÚ¡ *
wmesg
, 
timo
);

327 
	#t¦“p
(
chª
, 
´i
, 
wmesg
, 
timo
) \

328 
	`_¦“p
((
chª
), 
NULL
, (
´i
), (
wmesg
), (
timo
))

	)

329 
	$wakeup
(*
chª
è
	`__nÚnuÎ
(1);

330 
	$wakeup_Úe
(*
chª
è
	`__nÚnuÎ
(1);

336 
cdev
;

337 
dev_t
 
	`dev2udev
(
cdev
 *
x
);

338 cÚ¡ *
	`devtÚame
(
cdev
 *cdev);

340 
	`pŞl_no_pŞl
(
ev’ts
);

343 
	`DELAY
(
u£c
);

346 
roÙ_hŞd_tok’
;

348 
roÙ_hŞd_tok’
 *
	`roÙ_mouÁ_hŞd
(cÚ¡ *
id’tif›r
);

349 
	`roÙ_mouÁ_»l
(
roÙ_hŞd_tok’
 *
h
);

350 
	`roÙ_mouÁ_wa™
();

351 
	`roÙ_mouÁed
();

357 
uÄhdr
;

358 
uÄhdr
 *
	`Ãw_uÄhdr
(
low
, 
high
, 
mtx
 *
mu‹x
);

359 
	`d–‘e_uÄhdr
(
uÄhdr
 *
uh
);

360 
	`ş—n_uÄhdr
(
uÄhdr
 *
uh
);

361 
	`ş—n_uÄhd¾
(
uÄhdr
 *
uh
);

362 
	`®loc_uÄ
(
uÄhdr
 *
uh
);

363 
	`®loc_uÄ_¥ecific
(
uÄhdr
 *
uh
, 
u_št
 
™em
);

364 
	`®loc_uÄl
(
uÄhdr
 *
uh
);

365 
	`ä“_uÄ
(
uÄhdr
 *
uh
, 
u_št
 
™em
);

371 
__šlše
 
ušt32_t


372 
	$b™couÁ32
(
ušt32_t
 
x
)

375 
x
 = (x & 0x55555555) + ((x & 0xaaaaaaaa) >> 1);

376 
x
 = (x & 0x33333333) + ((x & 0xcccccccc) >> 2);

377 
x
 = (x + (x >> 4)) & 0x0f0f0f0f;

378 
x
 = (x + (x >> 8));

379 
x
 = (x + (x >> 16)) & 0x000000ff;

380  (
x
);

381 
	}
}

383 
__šlše
 
ušt16_t


384 
	$b™couÁ16
(
ušt32_t
 
x
)

387 
x
 = (x & 0x5555) + ((x & 0xaaaa) >> 1);

388 
x
 = (x & 0x3333) + ((x & 0xcccc) >> 2);

389 
x
 = (x + (x >> 4)) & 0x0f0f;

390 
x
 = (x + (x >> 8)) & 0x00ff;

391  (
x
);

392 
	}
}

	@/usr/include/sys/vmmeter.h

33 #iâdeà
_SYS_VMMETER_H_


34 
	#_SYS_VMMETER_H_


	)

45 
	svmm‘”
 {

49 
u_št
 
	mv_swtch
;

50 
u_št
 
	mv_Œ­
;

51 
u_št
 
	mv_sysÿÎ
;

52 
u_št
 
	mv_šŒ
;

53 
u_št
 
	mv_soá
;

57 
u_št
 
	mv_vm_çuÉs
;

58 
u_št
 
	mv_cow_çuÉs
;

59 
u_št
 
	mv_cow_İtim
;

60 
u_št
 
	mv_zfod
;

61 
u_št
 
	mv_ozfod
;

62 
u_št
 
	mv_sw­š
;

63 
u_št
 
	mv_sw­out
;

64 
u_št
 
	mv_sw­pgsš
;

65 
u_št
 
	mv_sw­pgsout
;

66 
u_št
 
	mv_vnodeš
;

67 
u_št
 
	mv_vnodeout
;

68 
u_št
 
	mv_vnod•gsš
;

69 
u_št
 
	mv_vnod•gsout
;

70 
u_št
 
	mv_šŒªs
;

71 
u_št
 
	mv_»aùiv©ed
;

72 
u_št
 
	mv_pdwakeups
;

73 
u_št
 
	mv_pd·ges
;

75 
u_št
 
	mv_tÿched
;

76 
u_št
 
	mv_dä“
;

77 
u_št
 
	mv_pä“
;

78 
u_št
 
	mv_tä“
;

82 
u_št
 
	mv_·ge_size
;

83 
u_št
 
	mv_·ge_couÁ
;

84 
u_št
 
	mv_ä“_»£rved
;

85 
u_št
 
	mv_ä“_rg‘
;

86 
u_št
 
	mv_ä“_mš
;

87 
u_št
 
	mv_ä“_couÁ
;

88 
u_št
 
	mv_wœe_couÁ
;

89 
u_št
 
	mv_aùive_couÁ
;

90 
u_št
 
	mv_šaùive_rg‘
;

91 
u_št
 
	mv_šaùive_couÁ
;

92 
u_št
 
	mv_ÿche_couÁ
;

93 
u_št
 
	mv_ÿche_mš
;

94 
u_št
 
	mv_ÿche_max
;

95 
u_št
 
	mv_·geout_ä“_mš
;

96 
u_št
 
	mv_š‹¼u±_ä“_mš
;

97 
u_št
 
	mv_ä“_£v”e
;

101 
u_št
 
	mv_fÜks
;

102 
u_št
 
	mv_vfÜks
;

103 
u_št
 
	mv_rfÜks
;

104 
u_št
 
	mv_kth»ads
;

105 
u_št
 
	mv_fÜk·ges
;

106 
u_št
 
	mv_vfÜk·ges
;

107 
u_št
 
	mv_rfÜk·ges
;

108 
u_št
 
	mv_kth»ad·ges
;

110 #ifdeà
_KERNEL


112 
vmm‘”
 
út
;

121 
__šlše


123 
	$vm_·ge_couÁ_£v”e
()

125  (
út
.
v_ä“_£v”e
 > (út.
v_ä“_couÁ
 + cÁ.
v_ÿche_couÁ
));

126 
	}
}

138 
__šlše


140 
	$vm_·ge_couÁ_mš
()

142  (
út
.
v_ä“_mš
 > (út.
v_ä“_couÁ
 + cÁ.
v_ÿche_couÁ
));

143 
	}
}

150 
__šlše


152 
	$vm_·ge_couÁ_rg‘
()

154  (
út
.
v_ä“_rg‘
 > (út.
v_ä“_couÁ
 + cÁ.
v_ÿche_couÁ
));

155 
	}
}

162 
__šlše


164 
	$vm_·gšg_rg‘
()

167 (
út
.
v_ä“_rg‘
 + cÁ.
v_ÿche_mš
) -

168 (
út
.
v_ä“_couÁ
 + cÁ.
v_ÿche_couÁ
)

170 
	}
}

176 
__šlše


178 
	$vm_·gšg_Ãeded
()

181 (
út
.
v_ä“_»£rved
 + cÁ.
v_ÿche_mš
) >

182 (
út
.
v_ä“_couÁ
 + cÁ.
v_ÿche_couÁ
)

184 
	}
}

189 
	svmtÙ®
 {

190 
št16_t
 
	mt_rq
;

191 
št16_t
 
	mt_dw
;

192 
št16_t
 
	mt_pw
;

193 
št16_t
 
	mt_¦
;

194 
št16_t
 
	mt_sw
;

195 
št32_t
 
	mt_vm
;

196 
št32_t
 
	mt_avm
;

197 
št32_t
 
	mt_rm
;

198 
št32_t
 
	mt_¬m
;

199 
št32_t
 
	mt_vmshr
;

200 
št32_t
 
	mt_avmshr
;

201 
št32_t
 
	mt_rmshr
;

202 
št32_t
 
	mt_¬mshr
;

203 
št32_t
 
	mt_ä“
;

	@/usr/include/machine/mutex.h

32 #iâdeà
_MACHINE_MUTEX_H_


33 
	#_MACHINE_MUTEX_H_


	)

	@/usr/include/machine/specialreg.h

33 #iâdeà
_MACHINE_SPECIALREG_H_


34 
	#_MACHINE_SPECIALREG_H_


	)

39 
	#CR0_PE
 0x00000001

	)

40 
	#CR0_MP
 0x00000002

	)

41 
	#CR0_EM
 0x00000004

	)

42 
	#CR0_TS
 0x00000008

	)

43 
	#CR0_PG
 0x80000000

	)

48 
	#CR0_NE
 0x00000020

	)

49 
	#CR0_WP
 0x00010000

	)

51 
	#CR0_AM
 0x00040000

	)

52 
	#CR0_NW
 0x20000000

	)

53 
	#CR0_CD
 0x40000000

	)

58 
	#CR4_VME
 0x00000001

	)

59 
	#CR4_PVI
 0x00000002

	)

60 
	#CR4_TSD
 0x00000004

	)

61 
	#CR4_DE
 0x00000008

	)

62 
	#CR4_PSE
 0x00000010

	)

63 
	#CR4_PAE
 0x00000020

	)

64 
	#CR4_MCE
 0x00000040

	)

65 
	#CR4_PGE
 0x00000080

	)

66 
	#CR4_PCE
 0x00000100

	)

67 
	#CR4_FXSR
 0x00000200

	)

68 
	#CR4_XMM
 0x00000400

	)

73 
	#EFER_SCE
 0x000000001

	)

74 
	#EFER_LME
 0x000000100

	)

75 
	#EFER_LMA
 0x000000400

	)

76 
	#EFER_NXE
 0x000000800

	)

81 
	#CPUID_FPU
 0x00000001

	)

82 
	#CPUID_VME
 0x00000002

	)

83 
	#CPUID_DE
 0x00000004

	)

84 
	#CPUID_PSE
 0x00000008

	)

85 
	#CPUID_TSC
 0x00000010

	)

86 
	#CPUID_MSR
 0x00000020

	)

87 
	#CPUID_PAE
 0x00000040

	)

88 
	#CPUID_MCE
 0x00000080

	)

89 
	#CPUID_CX8
 0x00000100

	)

90 
	#CPUID_APIC
 0x00000200

	)

91 
	#CPUID_B10
 0x00000400

	)

92 
	#CPUID_SEP
 0x00000800

	)

93 
	#CPUID_MTRR
 0x00001000

	)

94 
	#CPUID_PGE
 0x00002000

	)

95 
	#CPUID_MCA
 0x00004000

	)

96 
	#CPUID_CMOV
 0x00008000

	)

97 
	#CPUID_PAT
 0x00010000

	)

98 
	#CPUID_PSE36
 0x00020000

	)

99 
	#CPUID_PSN
 0x00040000

	)

100 
	#CPUID_CLFSH
 0x00080000

	)

101 
	#CPUID_B20
 0x00100000

	)

102 
	#CPUID_DS
 0x00200000

	)

103 
	#CPUID_ACPI
 0x00400000

	)

104 
	#CPUID_MMX
 0x00800000

	)

105 
	#CPUID_FXSR
 0x01000000

	)

106 
	#CPUID_SSE
 0x02000000

	)

107 
	#CPUID_XMM
 0x02000000

	)

108 
	#CPUID_SSE2
 0x04000000

	)

109 
	#CPUID_SS
 0x08000000

	)

110 
	#CPUID_HTT
 0x10000000

	)

111 
	#CPUID_TM
 0x20000000

	)

112 
	#CPUID_IA64
 0x40000000

	)

113 
	#CPUID_PBE
 0x80000000

	)

115 
	#CPUID2_SSE3
 0x00000001

	)

116 
	#CPUID2_PCLMULQDQ
 0x00000002

	)

117 
	#CPUID2_DTES64
 0x00000004

	)

118 
	#CPUID2_MON
 0x00000008

	)

119 
	#CPUID2_DS_CPL
 0x00000010

	)

120 
	#CPUID2_VMX
 0x00000020

	)

121 
	#CPUID2_SMX
 0x00000040

	)

122 
	#CPUID2_EST
 0x00000080

	)

123 
	#CPUID2_TM2
 0x00000100

	)

124 
	#CPUID2_SSSE3
 0x00000200

	)

125 
	#CPUID2_CNXTID
 0x00000400

	)

126 
	#CPUID2_FMA
 0x00001000

	)

127 
	#CPUID2_CX16
 0x00002000

	)

128 
	#CPUID2_XTPR
 0x00004000

	)

129 
	#CPUID2_PDCM
 0x00008000

	)

130 
	#CPUID2_PCID
 0x00020000

	)

131 
	#CPUID2_DCA
 0x00040000

	)

132 
	#CPUID2_SSE41
 0x00080000

	)

133 
	#CPUID2_SSE42
 0x00100000

	)

134 
	#CPUID2_X2APIC
 0x00200000

	)

135 
	#CPUID2_MOVBE
 0x00400000

	)

136 
	#CPUID2_POPCNT
 0x00800000

	)

137 
	#CPUID2_TSCDLT
 0x01000000

	)

138 
	#CPUID2_AESNI
 0x02000000

	)

139 
	#CPUID2_XSAVE
 0x04000000

	)

140 
	#CPUID2_OSXSAVE
 0x08000000

	)

141 
	#CPUID2_AVX
 0x10000000

	)

142 
	#CPUID2_F16C
 0x20000000

	)

143 
	#CPUID2_HV
 0x80000000

	)

149 
	#CPUTPM1_SENSOR
 0x00000001

	)

150 
	#CPUTPM1_TURBO
 0x00000002

	)

151 
	#CPUTPM1_ARAT
 0x00000004

	)

152 
	#CPUTPM2_EFFREQ
 0x00000001

	)

157 
	#AMDID_SYSCALL
 0x00000800

	)

158 
	#AMDID_MP
 0x00080000

	)

159 
	#AMDID_NX
 0x00100000

	)

160 
	#AMDID_EXT_MMX
 0x00400000

	)

161 
	#AMDID_FFXSR
 0x01000000

	)

162 
	#AMDID_PAGE1GB
 0x04000000

	)

163 
	#AMDID_RDTSCP
 0x08000000

	)

164 
	#AMDID_LM
 0x20000000

	)

165 
	#AMDID_EXT_3DNOW
 0x40000000

	)

166 
	#AMDID_3DNOW
 0x80000000

	)

168 
	#AMDID2_LAHF
 0x00000001

	)

169 
	#AMDID2_CMP
 0x00000002

	)

170 
	#AMDID2_SVM
 0x00000004

	)

171 
	#AMDID2_EXT_APIC
 0x00000008

	)

172 
	#AMDID2_CR8
 0x00000010

	)

173 
	#AMDID2_ABM
 0x00000020

	)

174 
	#AMDID2_SSE4A
 0x00000040

	)

175 
	#AMDID2_MAS
 0x00000080

	)

176 
	#AMDID2_PREFETCH
 0x00000100

	)

177 
	#AMDID2_OSVW
 0x00000200

	)

178 
	#AMDID2_IBS
 0x00000400

	)

179 
	#AMDID2_XOP
 0x00000800

	)

180 
	#AMDID2_SKINIT
 0x00001000

	)

181 
	#AMDID2_WDT
 0x00002000

	)

182 
	#AMDID2_LWP
 0x00008000

	)

183 
	#AMDID2_FMA4
 0x00010000

	)

184 
	#AMDID2_NODE_ID
 0x00080000

	)

185 
	#AMDID2_TBM
 0x00200000

	)

186 
	#AMDID2_TOPOLOGY
 0x00400000

	)

191 
	#CPUID_STEPPING
 0x0000000f

	)

192 
	#CPUID_MODEL
 0x000000f0

	)

193 
	#CPUID_FAMILY
 0x00000f00

	)

194 
	#CPUID_EXT_MODEL
 0x000f0000

	)

195 
	#CPUID_EXT_FAMILY
 0x0ff00000

	)

196 
	#CPUID_TO_MODEL
(
id
) \

197 ((((
id
è& 
CPUID_MODEL
) >> 4) | \

198 (((
id
è& 
CPUID_EXT_MODEL
è>> 12))

	)

199 
	#CPUID_TO_FAMILY
(
id
) \

200 ((((
id
è& 
CPUID_FAMILY
) >> 8) + \

201 (((
id
è& 
CPUID_EXT_FAMILY
è>> 20))

	)

206 
	#CPUID_BRAND_INDEX
 0x000000ff

	)

207 
	#CPUID_CLFUSH_SIZE
 0x0000ff00

	)

208 
	#CPUID_HTT_CORES
 0x00ff0000

	)

209 
	#CPUID_LOCAL_APIC_ID
 0xff000000

	)

214 
	#CPUID_TYPE_INVAL
 0

	)

215 
	#CPUID_TYPE_SMT
 1

	)

216 
	#CPUID_TYPE_CORE
 2

	)

221 
	#AMDPM_TS
 0x00000001

	)

222 
	#AMDPM_FID
 0x00000002

	)

223 
	#AMDPM_VID
 0x00000004

	)

224 
	#AMDPM_TTP
 0x00000008

	)

225 
	#AMDPM_TM
 0x00000010

	)

226 
	#AMDPM_STC
 0x00000020

	)

227 
	#AMDPM_100MHZ_STEPS
 0x00000040

	)

228 
	#AMDPM_HW_PSTATE
 0x00000080

	)

229 
	#AMDPM_TSC_INVARIANT
 0x00000100

	)

230 
	#AMDPM_CPB
 0x00000200

	)

235 
	#AMDID_CMP_CORES
 0x000000ff

	)

236 
	#AMDID_COREID_SIZE
 0x0000f000

	)

237 
	#AMDID_COREID_SIZE_SHIFT
 12

	)

242 
	#AMD_VENDOR_ID
 "Auth’ticAMD"

	)

243 
	#CENTAUR_VENDOR_ID
 "C’urHauls"

	)

244 
	#INTEL_VENDOR_ID
 "G’ušeIÁ–"

	)

249 
	#MSR_P5_MC_ADDR
 0x000

	)

250 
	#MSR_P5_MC_TYPE
 0x001

	)

251 
	#MSR_TSC
 0x010

	)

252 
	#MSR_P5_CESR
 0x011

	)

253 
	#MSR_P5_CTR0
 0x012

	)

254 
	#MSR_P5_CTR1
 0x013

	)

255 
	#MSR_IA32_PLATFORM_ID
 0x017

	)

256 
	#MSR_APICBASE
 0x01b

	)

257 
	#MSR_EBL_CR_POWERON
 0x02a

	)

258 
	#MSR_TEST_CTL
 0x033

	)

259 
	#MSR_BIOS_UPDT_TRIG
 0x079

	)

260 
	#MSR_BBL_CR_D0
 0x088

	)

261 
	#MSR_BBL_CR_D1
 0x089

	)

262 
	#MSR_BBL_CR_D2
 0x08a

	)

263 
	#MSR_BIOS_SIGN
 0x08b

	)

264 
	#MSR_PERFCTR0
 0x0c1

	)

265 
	#MSR_PERFCTR1
 0x0c2

	)

266 
	#MSR_MPERF
 0x0e7

	)

267 
	#MSR_APERF
 0x0e8

	)

268 
	#MSR_IA32_EXT_CONFIG
 0x0“

	)

269 
	#MSR_MTRRÿp
 0x0ã

	)

270 
	#MSR_BBL_CR_ADDR
 0x116

	)

271 
	#MSR_BBL_CR_DECC
 0x118

	)

272 
	#MSR_BBL_CR_CTL
 0x119

	)

273 
	#MSR_BBL_CR_TRIG
 0x11a

	)

274 
	#MSR_BBL_CR_BUSY
 0x11b

	)

275 
	#MSR_BBL_CR_CTL3
 0x11e

	)

276 
	#MSR_SYSENTER_CS_MSR
 0x174

	)

277 
	#MSR_SYSENTER_ESP_MSR
 0x175

	)

278 
	#MSR_SYSENTER_EIP_MSR
 0x176

	)

279 
	#MSR_MCG_CAP
 0x179

	)

280 
	#MSR_MCG_STATUS
 0x17a

	)

281 
	#MSR_MCG_CTL
 0x17b

	)

282 
	#MSR_EVNTSEL0
 0x186

	)

283 
	#MSR_EVNTSEL1
 0x187

	)

284 
	#MSR_THERM_CONTROL
 0x19a

	)

285 
	#MSR_THERM_INTERRUPT
 0x19b

	)

286 
	#MSR_THERM_STATUS
 0x19c

	)

287 
	#MSR_IA32_MISC_ENABLE
 0x1a0

	)

288 
	#MSR_IA32_TEMPERATURE_TARGET
 0x1a2

	)

289 
	#MSR_DEBUGCTLMSR
 0x1d9

	)

290 
	#MSR_LASTBRANCHFROMIP
 0x1db

	)

291 
	#MSR_LASTBRANCHTOIP
 0x1dc

	)

292 
	#MSR_LASTINTFROMIP
 0x1dd

	)

293 
	#MSR_LASTINTTOIP
 0x1de

	)

294 
	#MSR_ROB_CR_BKUPTMPDR6
 0x1e0

	)

295 
	#MSR_MTRRV¬Ba£
 0x200

	)

296 
	#MSR_MTRR64kBa£
 0x250

	)

297 
	#MSR_MTRR16kBa£
 0x258

	)

298 
	#MSR_MTRR4kBa£
 0x268

	)

299 
	#MSR_PAT
 0x277

	)

300 
	#MSR_MC0_CTL2
 0x280

	)

301 
	#MSR_MTRRdefTy³
 0x2ff

	)

302 
	#MSR_MC0_CTL
 0x400

	)

303 
	#MSR_MC0_STATUS
 0x401

	)

304 
	#MSR_MC0_ADDR
 0x402

	)

305 
	#MSR_MC0_MISC
 0x403

	)

306 
	#MSR_MC1_CTL
 0x404

	)

307 
	#MSR_MC1_STATUS
 0x405

	)

308 
	#MSR_MC1_ADDR
 0x406

	)

309 
	#MSR_MC1_MISC
 0x407

	)

310 
	#MSR_MC2_CTL
 0x408

	)

311 
	#MSR_MC2_STATUS
 0x409

	)

312 
	#MSR_MC2_ADDR
 0x40a

	)

313 
	#MSR_MC2_MISC
 0x40b

	)

314 
	#MSR_MC3_CTL
 0x40c

	)

315 
	#MSR_MC3_STATUS
 0x40d

	)

316 
	#MSR_MC3_ADDR
 0x40e

	)

317 
	#MSR_MC3_MISC
 0x40f

	)

318 
	#MSR_MC4_CTL
 0x410

	)

319 
	#MSR_MC4_STATUS
 0x411

	)

320 
	#MSR_MC4_ADDR
 0x412

	)

321 
	#MSR_MC4_MISC
 0x413

	)

326 
	#APICBASE_RESERVED
 0x000006ff

	)

327 
	#APICBASE_BSP
 0x00000100

	)

328 
	#APICBASE_ENABLED
 0x00000800

	)

329 
	#APICBASE_ADDRESS
 0xfffff000

	)

334 
	#PAT_UNCACHEABLE
 0x00

	)

335 
	#PAT_WRITE_COMBINING
 0x01

	)

336 
	#PAT_WRITE_THROUGH
 0x04

	)

337 
	#PAT_WRITE_PROTECTED
 0x05

	)

338 
	#PAT_WRITE_BACK
 0x06

	)

339 
	#PAT_UNCACHED
 0x07

	)

340 
	#PAT_VALUE
(
i
, 
m
è(()(mè<< (8 * (i)))

	)

341 
	#PAT_MASK
(
i
è
	`PAT_VALUE
(i, 0xff)

	)

346 
	#MTRR_UNCACHEABLE
 0x00

	)

347 
	#MTRR_WRITE_COMBINING
 0x01

	)

348 
	#MTRR_WRITE_THROUGH
 0x04

	)

349 
	#MTRR_WRITE_PROTECTED
 0x05

	)

350 
	#MTRR_WRITE_BACK
 0x06

	)

351 
	#MTRR_N64K
 8

	)

352 
	#MTRR_N16K
 16

	)

353 
	#MTRR_N4K
 64

	)

354 
	#MTRR_CAP_WC
 0x0000000000000400

	)

355 
	#MTRR_CAP_FIXED
 0x0000000000000100

	)

356 
	#MTRR_CAP_VCNT
 0x00000000000000ff

	)

357 
	#MTRR_DEF_ENABLE
 0x0000000000000800

	)

358 
	#MTRR_DEF_FIXED_ENABLE
 0x0000000000000400

	)

359 
	#MTRR_DEF_TYPE
 0x00000000000000ff

	)

360 
	#MTRR_PHYSBASE_PHYSBASE
 0x000ffffffffff000

	)

361 
	#MTRR_PHYSBASE_TYPE
 0x00000000000000ff

	)

362 
	#MTRR_PHYSMASK_PHYSMASK
 0x000ffffffffff000

	)

363 
	#MTRR_PHYSMASK_VALID
 0x0000000000000800

	)

366 
	#PCR0
 0x20

	)

367 
	#PCR0_RSTK
 0x01

	)

368 
	#PCR0_BTB
 0x02

	)

369 
	#PCR0_LOOP
 0x04

	)

370 
	#PCR0_AIS
 0x08

	)

372 
	#PCR0_MLR
 0x10

	)

373 
	#PCR0_BTBRT
 0x40

	)

374 
	#PCR0_LSSER
 0x80

	)

377 
	#DIR0
 0xã

	)

378 
	#DIR1
 0xff

	)

383 
	#MCG_CAP_COUNT
 0x000000ff

	)

384 
	#MCG_CAP_CTL_P
 0x00000100

	)

385 
	#MCG_CAP_EXT_P
 0x00000200

	)

386 
	#MCG_CAP_CMCI_P
 0x00000400

	)

387 
	#MCG_CAP_TES_P
 0x00000800

	)

388 
	#MCG_CAP_EXT_CNT
 0x00ff0000

	)

389 
	#MCG_CAP_SER_P
 0x01000000

	)

390 
	#MCG_STATUS_RIPV
 0x00000001

	)

391 
	#MCG_STATUS_EIPV
 0x00000002

	)

392 
	#MCG_STATUS_MCIP
 0x00000004

	)

393 
	#MCG_CTL_ENABLE
 0xffffffffffffffff

	)

394 
	#MCG_CTL_DISABLE
 0x0000000000000000

	)

395 
	#MSR_MC_CTL
(
x
è(
MSR_MC0_CTL
 + (xè* 4)

	)

396 
	#MSR_MC_STATUS
(
x
è(
MSR_MC0_STATUS
 + (xè* 4)

	)

397 
	#MSR_MC_ADDR
(
x
è(
MSR_MC0_ADDR
 + (xè* 4)

	)

398 
	#MSR_MC_MISC
(
x
è(
MSR_MC0_MISC
 + (xè* 4)

	)

399 
	#MSR_MC_CTL2
(
x
è(
MSR_MC0_CTL2
 + (x)è

	)

400 
	#MC_STATUS_MCA_ERROR
 0x000000000000ffff

	)

401 
	#MC_STATUS_MODEL_ERROR
 0x00000000ffff0000

	)

402 
	#MC_STATUS_OTHER_INFO
 0x01ffffff00000000

	)

403 
	#MC_STATUS_COR_COUNT
 0x001fffc000000000

	)

404 
	#MC_STATUS_TES_STATUS
 0x0060000000000000

	)

405 
	#MC_STATUS_AR
 0x0080000000000000

	)

406 
	#MC_STATUS_S
 0x0100000000000000

	)

407 
	#MC_STATUS_PCC
 0x0200000000000000

	)

408 
	#MC_STATUS_ADDRV
 0x0400000000000000

	)

409 
	#MC_STATUS_MISCV
 0x0800000000000000

	)

410 
	#MC_STATUS_EN
 0x1000000000000000

	)

411 
	#MC_STATUS_UC
 0x2000000000000000

	)

412 
	#MC_STATUS_OVER
 0x4000000000000000

	)

413 
	#MC_STATUS_VAL
 0x8000000000000000

	)

414 
	#MC_MISC_RA_LSB
 0x000000000000003à

	)

415 
	#MC_MISC_ADDRESS_MODE
 0x00000000000001c0

	)

416 
	#MC_CTL2_THRESHOLD
 0x0000000000007fff

	)

417 
	#MC_CTL2_CMCI_EN
 0x0000000040000000

	)

430 
	#NCR1
 0xc4

	)

431 
	#NCR2
 0xc7

	)

432 
	#NCR3
 0xÿ

	)

433 
	#NCR4
 0xcd

	)

435 
	#NCR_SIZE_0K
 0

	)

436 
	#NCR_SIZE_4K
 1

	)

437 
	#NCR_SIZE_8K
 2

	)

438 
	#NCR_SIZE_16K
 3

	)

439 
	#NCR_SIZE_32K
 4

	)

440 
	#NCR_SIZE_64K
 5

	)

441 
	#NCR_SIZE_128K
 6

	)

442 
	#NCR_SIZE_256K
 7

	)

443 
	#NCR_SIZE_512K
 8

	)

444 
	#NCR_SIZE_1M
 9

	)

445 
	#NCR_SIZE_2M
 10

	)

446 
	#NCR_SIZE_4M
 11

	)

447 
	#NCR_SIZE_8M
 12

	)

448 
	#NCR_SIZE_16M
 13

	)

449 
	#NCR_SIZE_32M
 14

	)

450 
	#NCR_SIZE_4G
 15

	)

460 
	#ARR0
 0xc4

	)

461 
	#ARR1
 0xc7

	)

462 
	#ARR2
 0xÿ

	)

463 
	#ARR3
 0xcd

	)

464 
	#ARR4
 0xd0

	)

465 
	#ARR5
 0xd3

	)

466 
	#ARR6
 0xd6

	)

467 
	#ARR7
 0xd9

	)

469 
	#ARR_SIZE_0K
 0

	)

470 
	#ARR_SIZE_4K
 1

	)

471 
	#ARR_SIZE_8K
 2

	)

472 
	#ARR_SIZE_16K
 3

	)

473 
	#ARR_SIZE_32K
 4

	)

474 
	#ARR_SIZE_64K
 5

	)

475 
	#ARR_SIZE_128K
 6

	)

476 
	#ARR_SIZE_256K
 7

	)

477 
	#ARR_SIZE_512K
 8

	)

478 
	#ARR_SIZE_1M
 9

	)

479 
	#ARR_SIZE_2M
 10

	)

480 
	#ARR_SIZE_4M
 11

	)

481 
	#ARR_SIZE_8M
 12

	)

482 
	#ARR_SIZE_16M
 13

	)

483 
	#ARR_SIZE_32M
 14

	)

484 
	#ARR_SIZE_4G
 15

	)

490 
	#RCR0
 0xdc

	)

491 
	#RCR1
 0xdd

	)

492 
	#RCR2
 0xde

	)

493 
	#RCR3
 0xdf

	)

494 
	#RCR4
 0xe0

	)

495 
	#RCR5
 0xe1

	)

496 
	#RCR6
 0xe2

	)

497 
	#RCR7
 0xe3

	)

499 
	#RCR_RCD
 0x01

	)

500 
	#RCR_RCE
 0x01

	)

501 
	#RCR_WWO
 0x02

	)

502 
	#RCR_WL
 0x04

	)

503 
	#RCR_WG
 0x08

	)

504 
	#RCR_WT
 0x10

	)

505 
	#RCR_NLB
 0x20

	)

508 
	#AMD_WT_ALLOC_TME
 0x40000

	)

509 
	#AMD_WT_ALLOC_PRE
 0x20000

	)

510 
	#AMD_WT_ALLOC_FRE
 0x10000

	)

513 
	#MSR_EFER
 0xc0000080

	)

514 
	#MSR_STAR
 0xc0000081

	)

515 
	#MSR_LSTAR
 0xc0000082

	)

516 
	#MSR_CSTAR
 0xc0000083

	)

517 
	#MSR_SF_MASK
 0xc0000084

	)

518 
	#MSR_FSBASE
 0xc0000100

	)

519 
	#MSR_GSBASE
 0xc0000101

	)

520 
	#MSR_KGSBASE
 0xc0000102

	)

521 
	#MSR_PERFEVSEL0
 0xc0010000

	)

522 
	#MSR_PERFEVSEL1
 0xc0010001

	)

523 
	#MSR_PERFEVSEL2
 0xc0010002

	)

524 
	#MSR_PERFEVSEL3
 0xc0010003

	)

525 #undeà
MSR_PERFCTR0


526 #undeà
MSR_PERFCTR1


527 
	#MSR_PERFCTR0
 0xc0010004

	)

528 
	#MSR_PERFCTR1
 0xc0010005

	)

529 
	#MSR_PERFCTR2
 0xc0010006

	)

530 
	#MSR_PERFCTR3
 0xc0010007

	)

531 
	#MSR_SYSCFG
 0xc0010010

	)

532 
	#MSR_HWCR
 0xc0010015

	)

533 
	#MSR_IORRBASE0
 0xc0010016

	)

534 
	#MSR_IORRMASK0
 0xc0010017

	)

535 
	#MSR_IORRBASE1
 0xc0010018

	)

536 
	#MSR_IORRMASK1
 0xc0010019

	)

537 
	#MSR_TOP_MEM
 0xc001001¨

	)

538 
	#MSR_TOP_MEM2
 0xc001001d

	)

539 
	#MSR_K8_UCODE_UPDATE
 0xc0010020

	)

540 
	#MSR_MC0_CTL_MASK
 0xc0010044

	)

543 
	#VIA_HAS_RNG
 1

	)

546 
	#VIA_HAS_AES
 1

	)

547 
	#VIA_HAS_SHA
 2

	)

548 
	#VIA_HAS_MM
 4

	)

549 
	#VIA_HAS_AESCTR
 8

	)

552 
	#VIA_CPUID_HAS_RNG
 0x000004

	)

553 
	#VIA_CPUID_DO_RNG
 0x000008

	)

554 
	#VIA_CPUID_HAS_ACE
 0x000040

	)

555 
	#VIA_CPUID_DO_ACE
 0x000080

	)

556 
	#VIA_CPUID_HAS_ACE2
 0x000100

	)

557 
	#VIA_CPUID_DO_ACE2
 0x000200

	)

558 
	#VIA_CPUID_HAS_PHE
 0x000400

	)

559 
	#VIA_CPUID_DO_PHE
 0x000800

	)

560 
	#VIA_CPUID_HAS_PMM
 0x001000

	)

561 
	#VIA_CPUID_DO_PMM
 0x002000

	)

564 
	#VIA_CRYPT_CWLO_ROUND_M
 0x0000000f

	)

565 
	#VIA_CRYPT_CWLO_ALG_M
 0x00000070

	)

566 
	#VIA_CRYPT_CWLO_ALG_AES
 0x00000000

	)

567 
	#VIA_CRYPT_CWLO_KEYGEN_M
 0x00000080

	)

568 
	#VIA_CRYPT_CWLO_KEYGEN_HW
 0x00000000

	)

569 
	#VIA_CRYPT_CWLO_KEYGEN_SW
 0x00000080

	)

570 
	#VIA_CRYPT_CWLO_NORMAL
 0x00000000

	)

571 
	#VIA_CRYPT_CWLO_INTERMEDIATE
 0x00000100

	)

572 
	#VIA_CRYPT_CWLO_ENCRYPT
 0x00000000

	)

573 
	#VIA_CRYPT_CWLO_DECRYPT
 0x00000200

	)

574 
	#VIA_CRYPT_CWLO_KEY128
 0x0000000¨

	)

575 
	#VIA_CRYPT_CWLO_KEY192
 0x0000040ø

	)

576 
	#VIA_CRYPT_CWLO_KEY256
 0x0000080

	)

	@/usr/include/machine/trap.h

36 #iâdeà
_MACHINE_TRAP_H_


37 
	#_MACHINE_TRAP_H_


	)

44 
	#T_PRIVINFLT
 1

	)

45 
	#T_BPTFLT
 3

	)

46 
	#T_ARITHTRAP
 6

	)

47 
	#T_PROTFLT
 9

	)

48 
	#T_TRCTRAP
 10

	)

49 
	#T_PAGEFLT
 12

	)

50 
	#T_ALIGNFLT
 14

	)

52 
	#T_DIVIDE
 18

	)

53 
	#T_NMI
 19

	)

54 
	#T_OFLOW
 20

	)

55 
	#T_BOUND
 21

	)

56 
	#T_DNA
 22

	)

57 
	#T_DOUBLEFLT
 23

	)

58 
	#T_FPOPFLT
 24

	)

59 
	#T_TSSFLT
 25

	)

60 
	#T_SEGNPFLT
 26

	)

61 
	#T_STKFLT
 27

	)

62 
	#T_MCHK
 28

	)

63 
	#T_XMMFLT
 29

	)

64 
	#T_RESERVED
 30

	)

65 
	#T_DTRACE_RET
 32

	)

66 
	#T_DTRACE_PROBE
 33

	)

71 
	#ILL_RESAD_FAULT
 
T_RESADFLT


	)

72 
	#ILL_PRIVIN_FAULT
 
T_PRIVINFLT


	)

73 
	#ILL_RESOP_FAULT
 
T_RESOPFLT


	)

74 
	#ILL_ALIGN_FAULT
 
T_ALIGNFLT


	)

75 
	#ILL_FPOP_FAULT
 
T_FPOPFLT


	)

78 
	#FPE_INTOVF_TRAP
 0x1

	)

79 
	#FPE_INTDIV_TRAP
 0x2

	)

80 
	#FPE_FLTDIV_TRAP
 0x3

	)

81 
	#FPE_FLTOVF_TRAP
 0x4

	)

82 
	#FPE_FLTUND_TRAP
 0x5

	)

83 
	#FPE_FPU_NP_TRAP
 0x6

	)

84 
	#FPE_SUBRNG_TRAP
 0x7

	)

87 
	#BUS_PAGE_FAULT
 
T_PAGEFLT


	)

88 
	#BUS_SEGNP_FAULT
 
T_SEGNPFLT


	)

89 
	#BUS_STK_FAULT
 
T_STKFLT


	)

90 
	#BUS_SEGM_FAULT
 
T_RESERVED


	)

93 
	#T_USER
 0x100

	)

	@/usr/include/openssl/ui.h

59 #iâdeà
HEADER_UI_H


60 
	#HEADER_UI_H


	)

62 #iâdeà
OPENSSL_NO_DEPRECATED


63 
	~<İ’s¦/üy±o.h
>

65 
	~<İ’s¦/§ã¡ack.h
>

66 
	~<İ’s¦/os¦_typ.h
>

68 #ifdeà 
__ılu¥lus


83 
UI
 *
UI_Ãw
();

84 
UI
 *
UI_Ãw_m‘hod
(cÚ¡ 
UI_METHOD
 *
m‘hod
);

85 
UI_ä“
(
UI
 *
ui
);

130 
UI_add_šput_¡ršg
(
UI
 *
ui
, cÚ¡ *
´om±
, 
æags
,

131 *
»suÉ_buf
, 
mšsize
, 
maxsize
);

132 
UI_dup_šput_¡ršg
(
UI
 *
ui
, cÚ¡ *
´om±
, 
æags
,

133 *
»suÉ_buf
, 
mšsize
, 
maxsize
);

134 
UI_add_v”ify_¡ršg
(
UI
 *
ui
, cÚ¡ *
´om±
, 
æags
,

135 *
»suÉ_buf
, 
mšsize
, 
maxsize
, cÚ¡ *
‹¡_buf
);

136 
UI_dup_v”ify_¡ršg
(
UI
 *
ui
, cÚ¡ *
´om±
, 
æags
,

137 *
»suÉ_buf
, 
mšsize
, 
maxsize
, cÚ¡ *
‹¡_buf
);

138 
UI_add_šput_boŞ—n
(
UI
 *
ui
, cÚ¡ *
´om±
, cÚ¡ *
aùiÚ_desc
,

139 cÚ¡ *
ok_ch¬s
, cÚ¡ *
ÿnûl_ch¬s
,

140 
æags
, *
»suÉ_buf
);

141 
UI_dup_šput_boŞ—n
(
UI
 *
ui
, cÚ¡ *
´om±
, cÚ¡ *
aùiÚ_desc
,

142 cÚ¡ *
ok_ch¬s
, cÚ¡ *
ÿnûl_ch¬s
,

143 
æags
, *
»suÉ_buf
);

144 
UI_add_šfo_¡ršg
(
UI
 *
ui
, cÚ¡ *
‹xt
);

145 
UI_dup_šfo_¡ršg
(
UI
 *
ui
, cÚ¡ *
‹xt
);

146 
UI_add_”rÜ_¡ršg
(
UI
 *
ui
, cÚ¡ *
‹xt
);

147 
UI_dup_”rÜ_¡ršg
(
UI
 *
ui
, cÚ¡ *
‹xt
);

151 
	#UI_INPUT_FLAG_ECHO
 0x01

	)

157 
	#UI_INPUT_FLAG_DEFAULT_PWD
 0x02

	)

168 
	#UI_INPUT_FLAG_USER_BASE
 16

	)

188 *
UI_cÚ¡ruù_´om±
(
UI
 *
ui_m‘hod
,

189 cÚ¡ *
objeù_desc
, cÚ¡ *
objeù_Çme
);

201 *
UI_add_u£r_d©a
(
UI
 *
ui
, *
u£r_d©a
);

203 *
UI_g‘0_u£r_d©a
(
UI
 *
ui
);

206 cÚ¡ *
UI_g‘0_»suÉ
(
UI
 *
ui
, 
i
);

209 
UI_´oûss
(
UI
 *
ui
);

214 
UI_ù¾
(
UI
 *
ui
, 
cmd
, 
i
, *
p
, (*
f
)());

220 
	#UI_CTRL_PRINT_ERRORS
 1

	)

224 
	#UI_CTRL_IS_REDOABLE
 2

	)

228 
	#UI_£t_­p_d©a
(
s
,
¬g
è
	`UI_£t_ex_d©a
(s,0,¬g)

	)

229 
	#UI_g‘_­p_d©a
(
s
è
	`UI_g‘_ex_d©a
(s,0)

	)

230 
UI_g‘_ex_Ãw_šdex
(
¬gl
, *
¬gp
, 
CRYPTO_EX_Ãw
 *
Ãw_func
,

231 
CRYPTO_EX_dup
 *
dup_func
, 
CRYPTO_EX_ä“
 *
ä“_func
);

232 
UI_£t_ex_d©a
(
UI
 *
r
,
idx
,*
¬g
);

233 *
UI_g‘_ex_d©a
(
UI
 *
r
, 
idx
);

236 
UI_£t_deçuÉ_m‘hod
(cÚ¡ 
UI_METHOD
 *
m‘h
);

237 cÚ¡ 
UI_METHOD
 *
UI_g‘_deçuÉ_m‘hod
();

238 cÚ¡ 
UI_METHOD
 *
UI_g‘_m‘hod
(
UI
 *
ui
);

239 cÚ¡ 
UI_METHOD
 *
UI_£t_m‘hod
(
UI
 *
ui
, cÚ¡ UI_METHOD *
m‘h
);

242 
UI_METHOD
 *
UI_O³nSSL
();

290 
DECLARE_STACK_OF
(
UI_STRING
)

291 
ui_¡ršg_¡
 
	tUI_STRING
;

295 
	eUI_¡ršg_ty³s


297 
UIT_NONE
=0,

298 
UIT_PROMPT
,

299 
UIT_VERIFY
,

300 
UIT_BOOLEAN
,

301 
UIT_INFO
,

302 
UIT_ERROR


306 
UI_METHOD
 *
UI_ü—‹_m‘hod
(*
Çme
);

307 
UI_de¡roy_m‘hod
(
UI_METHOD
 *
ui_m‘hod
);

308 
UI_m‘hod_£t_İ’”
(
UI_METHOD
 *
m‘hod
, (*
İ’”
)(
UI
 *
ui
));

309 
UI_m‘hod_£t_wr™”
(
UI_METHOD
 *
m‘hod
, (*
wr™”
)(
UI
 *
ui
, 
UI_STRING
 *
uis
));

310 
UI_m‘hod_£t_æush”
(
UI_METHOD
 *
m‘hod
, (*
æush”
)(
UI
 *
ui
));

311 
UI_m‘hod_£t_»ad”
(
UI_METHOD
 *
m‘hod
, (*
»ad”
)(
UI
 *
ui
, 
UI_STRING
 *
uis
));

312 
UI_m‘hod_£t_şo£r
(
UI_METHOD
 *
m‘hod
, (*
şo£r
)(
UI
 *
ui
));

313 (*
UI_m‘hod_g‘_İ’”
(
UI_METHOD
 *
m‘hod
))(
UI
*);

314 (*
UI_m‘hod_g‘_wr™”
(
UI_METHOD
 *
m‘hod
))(
UI
*,
UI_STRING
*);

315 (*
UI_m‘hod_g‘_æush”
(
UI_METHOD
 *
m‘hod
))(
UI
*);

316 (*
UI_m‘hod_g‘_»ad”
(
UI_METHOD
 *
m‘hod
))(
UI
*,
UI_STRING
*);

317 (*
UI_m‘hod_g‘_şo£r
(
UI_METHOD
 *
m‘hod
))(
UI
*);

323 
UI_¡ršg_ty³s
 
UI_g‘_¡ršg_ty³
(
UI_STRING
 *
uis
);

325 
UI_g‘_šput_æags
(
UI_STRING
 *
uis
);

327 cÚ¡ *
UI_g‘0_ouut_¡ršg
(
UI_STRING
 *
uis
);

329 cÚ¡ *
UI_g‘0_aùiÚ_¡ršg
(
UI_STRING
 *
uis
);

331 cÚ¡ *
UI_g‘0_»suÉ_¡ršg
(
UI_STRING
 *
uis
);

333 cÚ¡ *
UI_g‘0_‹¡_¡ršg
(
UI_STRING
 *
uis
);

335 
UI_g‘_»suÉ_mšsize
(
UI_STRING
 *
uis
);

337 
UI_g‘_»suÉ_maxsize
(
UI_STRING
 *
uis
);

339 
UI_£t_»suÉ
(
UI
 *
ui
, 
UI_STRING
 *
uis
, cÚ¡ *
»suÉ
);

343 
UI_UTIL_»ad_pw_¡ršg
(*
buf
,
Ëngth
,cÚ¡ *
´om±
,
v”ify
);

344 
UI_UTIL_»ad_pw
(*
buf
,*
buff
,
size
,cÚ¡ *
´om±
,
v”ify
);

351 
ERR_lßd_UI_¡ršgs
();

356 
	#UI_F_GENERAL_ALLOCATE_BOOLEAN
 108

	)

357 
	#UI_F_GENERAL_ALLOCATE_PROMPT
 109

	)

358 
	#UI_F_GENERAL_ALLOCATE_STRING
 100

	)

359 
	#UI_F_UI_CTRL
 111

	)

360 
	#UI_F_UI_DUP_ERROR_STRING
 101

	)

361 
	#UI_F_UI_DUP_INFO_STRING
 102

	)

362 
	#UI_F_UI_DUP_INPUT_BOOLEAN
 110

	)

363 
	#UI_F_UI_DUP_INPUT_STRING
 103

	)

364 
	#UI_F_UI_DUP_VERIFY_STRING
 106

	)

365 
	#UI_F_UI_GET0_RESULT
 107

	)

366 
	#UI_F_UI_NEW_METHOD
 104

	)

367 
	#UI_F_UI_SET_RESULT
 105

	)

370 
	#UI_R_COMMON_OK_AND_CANCEL_CHARACTERS
 104

	)

371 
	#UI_R_INDEX_TOO_LARGE
 102

	)

372 
	#UI_R_INDEX_TOO_SMALL
 103

	)

373 
	#UI_R_NO_RESULT_BUFFER
 105

	)

374 
	#UI_R_RESULT_TOO_LARGE
 100

	)

375 
	#UI_R_RESULT_TOO_SMALL
 101

	)

376 
	#UI_R_UNKNOWN_CONTROL_COMMAND
 106

	)

378 #ifdeà 
__ılu¥lus


	@/usr/include/sys/_stack.h

29 #iâdeà
_SYS__STACK_H_


30 
	#_SYS__STACK_H_


	)

32 
	#STACK_MAX
 18

	)

34 
	s¡ack
 {

35 
	md•th
;

36 
vm_off£t_t
 
	mpcs
[
STACK_MAX
];

	@/usr/include/sys/_sx.h

31 #iâdef 
_SYS__SX_H_


32 
	#_SYS__SX_H_


	)

37 
	ssx
 {

38 
lock_objeù
 
	mlock_objeù
;

39 vŞ©
ušŒ_t
 
	msx_lock
;

	@/usr/include/sys/libkern.h

33 #iâdeà
_SYS_LIBKERN_H_


34 
	#_SYS_LIBKERN_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/ty³s.h
>

38 #ifdeà
_KERNEL


39 
	~<sys/sy¡m.h
>

42 #iâdef 
LIBKERN_INLINE


43 
	#LIBKERN_INLINE
 
__šlše


	)

44 
	#LIBKERN_BODY


	)

48 
u_ch¬
 cÚ¡ 
bcd2bš_d©a
[];

49 
u_ch¬
 cÚ¡ 
bš2bcd_d©a
[];

50 cÚ¡ 
hex2ascii_d©a
[];

52 
	#bcd2bš
(
bcd
è(
bcd2bš_d©a
[bcd])

	)

53 
	#bš2bcd
(
bš
è(
bš2bcd_d©a
[bš])

	)

54 
	#hex2ascii
(
hex
è(
hex2ascii_d©a
[hex])

	)

56 
__šlše
 
	$imax
(
a
, 
b
è{  (¨> b ?‡ : b); 
	}
}

57 
__šlše
 
	$imš
(
a
, 
b
è{  (¨< b ?‡ : b); 
	}
}

58 
__šlše
 
	$lmax
(
a
, 
b
è{  (¨> b ?‡ : b); 
	}
}

59 
__šlše
 
	$lmš
(
a
, 
b
è{  (¨< b ?‡ : b); 
	}
}

60 
__šlše
 
u_št
 
	$max
(
u_št
 
a
, u_šˆ
b
è{  (¨> b ?‡ : b); 
	}
}

61 
__šlše
 
u_št
 
	$mš
(
u_št
 
a
, u_šˆ
b
è{  (¨< b ?‡ : b); 
	}
}

62 
__šlše
 
quad_t
 
	$qmax
(
quad_t
 
a
, quad_ˆ
b
è{  (¨> b ?‡ : b); 
	}
}

63 
__šlše
 
quad_t
 
	$qmš
(
quad_t
 
a
, quad_ˆ
b
è{  (¨< b ?‡ : b); 
	}
}

64 
__šlše
 
u_lÚg
 
	$ulmax
(
u_lÚg
 
a
, u_lÚg 
b
è{  (¨> b ?‡ : b); 
	}
}

65 
__šlše
 
u_lÚg
 
	$ulmš
(
u_lÚg
 
a
, u_lÚg 
b
è{  (¨< b ?‡ : b); 
	}
}

66 
__šlše
 
off_t
 
	$omax
(
off_t
 
a
, off_ˆ
b
è{  (¨> b ?‡ : b); 
	}
}

67 
__šlše
 
off_t
 
	$omš
(
off_t
 
a
, off_ˆ
b
è{  (¨< b ?‡ : b); 
	}
}

69 
__šlše
 
	$abs
(
a
è{  (¨< 0 ? -¨:‡); 
	}
}

70 
__šlše
 
	$Ïbs
(
a
è{  (¨< 0 ? -¨:‡); 
	}
}

71 
__šlše
 
quad_t
 
	$qabs
(
quad_t
 
a
è{  (¨< 0 ? -¨:‡); 
	}
}

74 
	gm®loc_ty³
;

75 
ušt32_t
 
¬c4¿ndom
();

76 
¬c4¿nd
(*
±r
, 
u_št
 
Ën
, 
»£ed
);

77 
bcmp
(cÚ¡ *, cÚ¡ *, 
size_t
);

78 *
b£¬ch
(cÚ¡ *, cÚ¡ *, 
size_t
,

79 
size_t
, (*)(const *, const *));

80 #iâdef 
HAVE_INLINE_FFS


81 
	`ffs
();

83 #iâdef 
HAVE_INLINE_FFSL


84 
	`ff¦
();

86 #iâdef 
HAVE_INLINE_FLS


87 
	`æs
();

89 #iâdef 
HAVE_INLINE_FLSL


90 
	`æ¦
();

92 
	`âm©ch
(const *, const *, );

93 
	`g‘s
(*, 
size_t
, );

94 
	`locc
(, *, 
u_št
);

95 
	`memcmp
(cÚ¡ *
b1
, cÚ¡ *
b2
, 
size_t
 
Ën
);

96 
	`qsÜt
(*
ba£
, 
size_t
 
nmemb
, size_ˆ
size
,

97 (*
com·r
)(const *, const *));

98 
	`qsÜt_r
(*
ba£
, 
size_t
 
nmemb
, size_ˆ
size
, *
thunk
,

99 (*
com·r
)(*, const *, const *));

100 
u_lÚg
 
	`¿ndom
();

101 *
	`šdex
(const *, );

102 *
	`ršdex
(const *, );

103 
	`sÿnc
(
u_št
, cÚ¡ 
u_ch¬
 *, const u_char *, );

104 
	`skpc
(, , *);

105 
	`¤ªdom
(
u_lÚg
);

106 
	`¡rÿ£cmp
(const *, const *);

107 *
	`¡rÿt
(* 
__»¡riù
, const * __restrict);

108 
	`¡rcmp
(const *, const *);

109 *
	`¡rıy
(* 
__»¡riù
, const * __restrict);

110 
size_t
 
	$¡rc¥n
(cÚ¡ * 
__»¡riù
, cÚ¡ * __»¡riùè
__pu»
;

111 *
	`¡rdup
(cÚ¡ *
__»¡riù
, 
m®loc_ty³
 *);

112 
size_t
 
	`¡¾ÿt
(*, const *, size_t);

113 
size_t
 
	`¡¾ıy
(*, const *, size_t);

114 
size_t
 
	`¡¾’
(const *);

115 
	`¡ºÿ£cmp
(cÚ¡ *, cÚ¡ *, 
size_t
);

116 
	`¡ºcmp
(cÚ¡ *, cÚ¡ *, 
size_t
);

117 *
	`¡ºıy
(* 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

118 
size_t
 
	`¡ºËn
(const *, size_t);

119 *
	`¡r£p
(**, cÚ¡ *
d–im
);

120 
size_t
 
	`¡r¥n
(const *, const *);

121 *
	`¡r¡r
(const *, const *);

122 
	`¡rv®id
(cÚ¡ *, 
size_t
);

124 
ušt32_t
 
üc32_b
[];

126 
__šlše
 
ušt32_t


127 
	$üc32_¿w
(cÚ¡ *
buf
, 
size_t
 
size
, 
ušt32_t
 
üc
)

129 cÚ¡ 
ušt8_t
 *
p
 = (cÚ¡ ušt8_ˆ*)
buf
;

131 
size
--)

132 
üc
 = 
üc32_b
[(üø^ *
p
++) & 0xFF] ^ (crc >> 8);

133  (
üc
);

134 
	}
}

136 
__šlše
 
ušt32_t


137 
	$üc32
(cÚ¡ *
buf
, 
size_t
 
size
)

139 
ušt32_t
 
üc
;

141 
üc
 = 
	`üc32_¿w
(
buf
, 
size
, ~0U);

142  (
üc
 ^ ~0U);

143 
	}
}

145 
ušt32_t


146 
ÿlcuÏ‹_üc32c
(
ušt32_t
 
üc32c
, cÚ¡ *
bufãr
,

147 
Ëngth
);

150 
LIBKERN_INLINE
 *
mem£t
(*, , 
size_t
);

151 #ifdeà
LIBKERN_BODY


152 
LIBKERN_INLINE
 *

153 
	$mem£t
(*
b
, 
c
, 
size_t
 
Ën
)

155 *
bb
;

157 ià(
c
 == 0)

158 
	`bz”o
(
b
, 
Ën
);

160 
bb
 = (*)
b
; 
Ën
--; )

161 *
bb
++ = 
c
;

162  (
b
);

163 
	}
}

166 
__šlše
 *

167 
	$¡rchr
(cÚ¡ *
p
, 
ch
)

169  (
	`šdex
(
p
, 
ch
));

170 
	}
}

172 
__šlše
 *

173 
	$¡¼chr
(cÚ¡ *
p
, 
ch
)

175  (
	`ršdex
(
p
, 
ch
));

176 
	}
}

179 
	#FNM_NOMATCH
 1

	)

182 
	#FNM_NOESCAPE
 0x01

	)

183 
	#FNM_PATHNAME
 0x02

	)

184 
	#FNM_PERIOD
 0x04

	)

185 
	#FNM_LEADING_DIR
 0x08

	)

186 
	#FNM_CASEFOLD
 0x10

	)

187 
	#FNM_IGNORECASE
 
FNM_CASEFOLD


	)

188 
	#FNM_FILE_NAME
 
FNM_PATHNAME


	)

	@/usr/include/sys/lockstat.h

33 #iâdef 
_SYS_LOCKSTAT_H


34 
	#_SYS_LOCKSTAT_H


	)

36 #ifdef 
_KERNEL


41 
	#LS_MTX_SPIN_LOCK_ACQUIRE
 0

	)

42 
	#LS_MTX_SPIN_UNLOCK_RELEASE
 1

	)

43 
	#LS_MTX_SPIN_LOCK_SPIN
 2

	)

48 
	#LS_MTX_LOCK_ACQUIRE
 3

	)

49 
	#LS_MTX_UNLOCK_RELEASE
 4

	)

50 
	#LS_MTX_LOCK_SPIN
 5

	)

51 
	#LS_MTX_LOCK_BLOCK
 6

	)

52 
	#LS_MTX_TRYLOCK_ACQUIRE
 7

	)

57 
	#LS_RW_RLOCK_ACQUIRE
 8

	)

58 
	#LS_RW_RUNLOCK_RELEASE
 9

	)

59 
	#LS_RW_WLOCK_ACQUIRE
 10

	)

60 
	#LS_RW_WUNLOCK_RELEASE
 11

	)

61 
	#LS_RW_RLOCK_SPIN
 12

	)

62 
	#LS_RW_RLOCK_BLOCK
 13

	)

63 
	#LS_RW_WLOCK_SPIN
 14

	)

64 
	#LS_RW_WLOCK_BLOCK
 15

	)

65 
	#LS_RW_TRYUPGRADE_UPGRADE
 16

	)

66 
	#LS_RW_DOWNGRADE_DOWNGRADE
 17

	)

71 
	#LS_SX_SLOCK_ACQUIRE
 18

	)

72 
	#LS_SX_SUNLOCK_RELEASE
 19

	)

73 
	#LS_SX_XLOCK_ACQUIRE
 20

	)

74 
	#LS_SX_XUNLOCK_RELEASE
 21

	)

75 
	#LS_SX_SLOCK_SPIN
 22

	)

76 
	#LS_SX_SLOCK_BLOCK
 23

	)

77 
	#LS_SX_XLOCK_SPIN
 24

	)

78 
	#LS_SX_XLOCK_BLOCK
 25

	)

79 
	#LS_SX_TRYUPGRADE_UPGRADE
 26

	)

80 
	#LS_SX_DOWNGRADE_DOWNGRADE
 27

	)

85 
	#LS_THREAD_LOCK_SPIN
 28

	)

93 
	#LS_NPROBES
 29

	)

95 
	#LS_MTX_LOCK
 "mtx_lock"

	)

96 
	#LS_MTX_UNLOCK
 "mtx_uÆock"

	)

97 
	#LS_MTX_SPIN_LOCK
 "mtx_lock_¥š"

	)

98 
	#LS_MTX_SPIN_UNLOCK
 "mtx_uÆock_¥š"

	)

99 
	#LS_MTX_TRYLOCK
 "mtx_Œylock"

	)

100 
	#LS_RW_RLOCK
 "rw_¾ock"

	)

101 
	#LS_RW_WLOCK
 "rw_wlock"

	)

102 
	#LS_RW_RUNLOCK
 "rw_ruÆock"

	)

103 
	#LS_RW_WUNLOCK
 "rw_wuÆock"

	)

104 
	#LS_RW_TRYUPGRADE
 "rw_Œy_upg¿de"

	)

105 
	#LS_RW_DOWNGRADE
 "rw_downg¿de"

	)

106 
	#LS_SX_SLOCK
 "sx_¦ock"

	)

107 
	#LS_SX_XLOCK
 "sx_xlock"

	)

108 
	#LS_SX_SUNLOCK
 "sx_suÆock"

	)

109 
	#LS_SX_XUNLOCK
 "sx_xuÆock"

	)

110 
	#LS_SX_TRYUPGRADE
 "sx_Œy_upg¿de"

	)

111 
	#LS_SX_DOWNGRADE
 "sx_downg¿de"

	)

112 
	#LS_THREAD_LOCK
 "th»ad_lock"

	)

114 
	#LS_ACQUIRE
 "acquœe"

	)

115 
	#LS_RELEASE
 "»Ëa£"

	)

116 
	#LS_SPIN
 "¥š"

	)

117 
	#LS_BLOCK
 "block"

	)

118 
	#LS_UPGRADE
 "upg¿de"

	)

119 
	#LS_DOWNGRADE
 "downg¿de"

	)

121 
	#LS_TYPE_ADAPTIVE
 "ad­tive"

	)

122 
	#LS_TYPE_SPIN
 "¥š"

	)

123 
	#LS_TYPE_THREAD
 "th»ad"

	)

124 
	#LS_TYPE_RW
 "rw"

	)

125 
	#LS_TYPE_SX
 "sx"

	)

127 
	#LSA_ACQUIRE
 (
LS_TYPE_ADAPTIVE
 "-" 
LS_ACQUIRE
)

	)

128 
	#LSA_RELEASE
 (
LS_TYPE_ADAPTIVE
 "-" 
LS_RELEASE
)

	)

129 
	#LSA_SPIN
 (
LS_TYPE_ADAPTIVE
 "-" 
LS_SPIN
)

	)

130 
	#LSA_BLOCK
 (
LS_TYPE_ADAPTIVE
 "-" 
LS_BLOCK
)

	)

131 
	#LSS_ACQUIRE
 (
LS_TYPE_SPIN
 "-" 
LS_ACQUIRE
)

	)

132 
	#LSS_RELEASE
 (
LS_TYPE_SPIN
 "-" 
LS_RELEASE
)

	)

133 
	#LSS_SPIN
 (
LS_TYPE_SPIN
 "-" 
LS_SPIN
)

	)

134 
	#LSR_ACQUIRE
 (
LS_TYPE_RW
 "-" 
LS_ACQUIRE
)

	)

135 
	#LSR_RELEASE
 (
LS_TYPE_RW
 "-" 
LS_RELEASE
)

	)

136 
	#LSR_BLOCK
 (
LS_TYPE_RW
 "-" 
LS_BLOCK
)

	)

137 
	#LSR_SPIN
 (
LS_TYPE_RW
 "-" 
LS_SPIN
)

	)

138 
	#LSR_UPGRADE
 (
LS_TYPE_RW
 "-" 
LS_UPGRADE
)

	)

139 
	#LSR_DOWNGRADE
 (
LS_TYPE_RW
 "-" 
LS_DOWNGRADE
)

	)

140 
	#LSX_ACQUIRE
 (
LS_TYPE_SX
 "-" 
LS_ACQUIRE
)

	)

141 
	#LSX_RELEASE
 (
LS_TYPE_SX
 "-" 
LS_RELEASE
)

	)

142 
	#LSX_BLOCK
 (
LS_TYPE_SX
 "-" 
LS_BLOCK
)

	)

143 
	#LSX_SPIN
 (
LS_TYPE_SX
 "-" 
LS_SPIN
)

	)

144 
	#LSX_UPGRADE
 (
LS_TYPE_SX
 "-" 
LS_UPGRADE
)

	)

145 
	#LSX_DOWNGRADE
 (
LS_TYPE_SX
 "-" 
LS_DOWNGRADE
)

	)

146 
	#LST_SPIN
 (
LS_TYPE_THREAD
 "-" 
LS_SPIN
)

	)

152 
ušt32_t
 
lock¡©_´obem­
[
LS_NPROBES
];

153 (*
	tlock¡©_´obe_func_t
)(
	tušt32_t
, 
	tušŒ_t
 
	t¬g0
, ušŒ_ˆ
	t¬g1
,

154 
	tušŒ_t
 
	t¬g2
, ušŒ_ˆ
	t¬g3
, ušŒ_ˆ
	t¬g4
);

155 
lock¡©_´obe_func_t
 
lock¡©_´obe_func
;

156 
ušt64_t
 
	`lock¡©_n£cs
();

158 #ifdef 
KDTRACE_HOOKS


162 
	#LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) do { \

163 
ušt32_t
 
id
; \

165 ià((
id
 = 
lock¡©_´obem­
[(
´obe
)])) \

166 (*
lock¡©_´obe_func
)(
id
, (
ušŒ_t
)(
Í
), (
¬g1
), (
¬g2
), \

167 (
¬g3
), (
¬g4
)); \

168 
	}
} 0)

	)

170 
	#LOCKSTAT_RECORD
(
´obe
, 
Í
, 
¬g1
) \

171 
	`LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 0, 0, 0)

	)

173 
	#LOCKSTAT_RECORD0
(
´obe
, 
Í
) \

174 
	`LOCKSTAT_RECORD4
(
´obe
, 
Í
, 0, 0, 0, 0)

	)

176 
	#LOCKSTAT_RECORD1
(
´obe
, 
Í
, 
¬g1
) \

177 
	`LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 0, 0, 0)

	)

179 
	#LOCKSTAT_RECORD2
(
´obe
, 
Í
, 
¬g1
, 
¬g2
) \

180 
	`LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 0, 0)

	)

182 
	#LOCKSTAT_RECORD3
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
) \

183 
	`LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
, 0)

	)

185 
	#LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
) do { \

186 
ušt32_t
 
id
; \

188 
	`lock_´ofe_obš_lock_sucûss
(&(
Í
)->
lock_objeù
, 
c
, 
wt
, 
f
, 
l
); \

189 ià((
id
 = 
lock¡©_´obem­
[(
´obe
)])) \

190 (*
lock¡©_´obe_func
)(
id
, (
ušŒ_t
)(
Í
), 0, 0, 0, 0); \

191 } 0)

	)

193 
	#LOCKSTAT_PROFILE_RELEASE_LOCK
(
´obe
, 
Í
) do { \

194 
ušt32_t
 
id
; \

196 
	`lock_´ofe_»Ëa£_lock
(&(
Í
)->
lock_objeù
); \

197 ià((
id
 = 
lock¡©_´obem­
[(
´obe
)])) \

198 (*
lock¡©_´obe_func
)(
id
, (
ušŒ_t
)(
Í
), 0, 0, 0, 0); \

199 } 0)

	)

203 
	#LOCKSTAT_RECORD
(
´obe
, 
Í
, 
¬g1
)

	)

204 
	#LOCKSTAT_RECORD0
(
´obe
, 
Í
)

	)

205 
	#LOCKSTAT_RECORD1
(
´obe
, 
Í
, 
¬g1
)

	)

206 
	#LOCKSTAT_RECORD2
(
´obe
, 
Í
, 
¬g1
, 
¬g2
)

	)

207 
	#LOCKSTAT_RECORD3
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
)

	)

208 
	#LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

210 
	#LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
) \

211 
	`lock_´ofe_obš_lock_sucûss
(&(
Í
)->
lock_objeù
, 
c
, 
wt
, 
f
, 
l
)

	)

213 
	#LOCKSTAT_PROFILE_RELEASE_LOCK
(
´obe
, 
Í
) \

214 
	`lock_´ofe_»Ëa£_lock
(&(
Í
)->
lock_objeù
)

	)

	@/usr/include/openssl/crypto.h

117 #iâdeà
HEADER_CRYPTO_H


118 
	#HEADER_CRYPTO_H


	)

120 
	~<¡dlib.h
>

122 
	~<İ’s¦/e_os2.h
>

124 #iâdeà
OPENSSL_NO_FP_API


125 
	~<¡dio.h
>

128 
	~<İ’s¦/¡ack.h
>

129 
	~<İ’s¦/§ã¡ack.h
>

130 
	~<İ’s¦/İ’s¦v.h
>

131 
	~<İ’s¦/os¦_typ.h
>

133 #ifdeà
CHARSET_EBCDIC


134 
	~<İ’s¦/ebcdic.h
>

139 
	~<İ’s¦/symhacks.h
>

141 #ifdeà 
__ılu¥lus


148 
	#SSLEAY_VERSION_NUMBER
 
OPENSSL_VERSION_NUMBER


	)

149 
	#SSLEAY_VERSION
 0

	)

151 
	#SSLEAY_CFLAGS
 2

	)

152 
	#SSLEAY_BUILT_ON
 3

	)

153 
	#SSLEAY_PLATFORM
 4

	)

154 
	#SSLEAY_DIR
 5

	)

158 
üy±o_ex_d©a_¡
 
	tCRYPTO_EX_DATA
;

160 
	tCRYPTO_EX_Ãw
(*
	t·»Á
, *
	t±r
, 
	tCRYPTO_EX_DATA
 *
	tad
,

161 
	tidx
, 
	t¬gl
, *
	t¬gp
);

163 
	tCRYPTO_EX_ä“
(*
	t·»Á
, *
	t±r
, 
	tCRYPTO_EX_DATA
 *
	tad
,

164 
	tidx
, 
	t¬gl
, *
	t¬gp
);

166 
	tCRYPTO_EX_dup
(
	tCRYPTO_EX_DATA
 *
	tto
, CRYPTO_EX_DATA *
	täom
, *
	täom_d
,

167 
	tidx
, 
	t¬gl
, *
	t¬gp
);

171 
	sİ’s¦_™em_¡


173 
code
;

174 *
v®ue
;

175 
size_t
 
v®ue_size
;

176 
size_t
 *
v®ue_Ëngth
;

177 } 
	tOPENSSL_ITEM
;

184 
	#CRYPTO_LOCK_ERR
 1

	)

185 
	#CRYPTO_LOCK_EX_DATA
 2

	)

186 
	#CRYPTO_LOCK_X509
 3

	)

187 
	#CRYPTO_LOCK_X509_INFO
 4

	)

188 
	#CRYPTO_LOCK_X509_PKEY
 5

	)

189 
	#CRYPTO_LOCK_X509_CRL
 6

	)

190 
	#CRYPTO_LOCK_X509_REQ
 7

	)

191 
	#CRYPTO_LOCK_DSA
 8

	)

192 
	#CRYPTO_LOCK_RSA
 9

	)

193 
	#CRYPTO_LOCK_EVP_PKEY
 10

	)

194 
	#CRYPTO_LOCK_X509_STORE
 11

	)

195 
	#CRYPTO_LOCK_SSL_CTX
 12

	)

196 
	#CRYPTO_LOCK_SSL_CERT
 13

	)

197 
	#CRYPTO_LOCK_SSL_SESSION
 14

	)

198 
	#CRYPTO_LOCK_SSL_SESS_CERT
 15

	)

199 
	#CRYPTO_LOCK_SSL
 16

	)

200 
	#CRYPTO_LOCK_SSL_METHOD
 17

	)

201 
	#CRYPTO_LOCK_RAND
 18

	)

202 
	#CRYPTO_LOCK_RAND2
 19

	)

203 
	#CRYPTO_LOCK_MALLOC
 20

	)

204 
	#CRYPTO_LOCK_BIO
 21

	)

205 
	#CRYPTO_LOCK_GETHOSTBYNAME
 22

	)

206 
	#CRYPTO_LOCK_GETSERVBYNAME
 23

	)

207 
	#CRYPTO_LOCK_READDIR
 24

	)

208 
	#CRYPTO_LOCK_RSA_BLINDING
 25

	)

209 
	#CRYPTO_LOCK_DH
 26

	)

210 
	#CRYPTO_LOCK_MALLOC2
 27

	)

211 
	#CRYPTO_LOCK_DSO
 28

	)

212 
	#CRYPTO_LOCK_DYNLOCK
 29

	)

213 
	#CRYPTO_LOCK_ENGINE
 30

	)

214 
	#CRYPTO_LOCK_UI
 31

	)

215 
	#CRYPTO_LOCK_ECDSA
 32

	)

216 
	#CRYPTO_LOCK_EC
 33

	)

217 
	#CRYPTO_LOCK_ECDH
 34

	)

218 
	#CRYPTO_LOCK_BN
 35

	)

219 
	#CRYPTO_LOCK_EC_PRE_COMP
 36

	)

220 
	#CRYPTO_LOCK_STORE
 37

	)

221 
	#CRYPTO_LOCK_COMP
 38

	)

222 #iâdeà
OPENSSL_FIPS


223 
	#CRYPTO_NUM_LOCKS
 39

	)

225 
	#CRYPTO_LOCK_FIPS
 39

	)

226 
	#CRYPTO_LOCK_FIPS2
 40

	)

227 
	#CRYPTO_NUM_LOCKS
 41

	)

230 
	#CRYPTO_LOCK
 1

	)

231 
	#CRYPTO_UNLOCK
 2

	)

232 
	#CRYPTO_READ
 4

	)

233 
	#CRYPTO_WRITE
 8

	)

235 #iâdeà
OPENSSL_NO_LOCKING


236 #iâdeà
CRYPTO_w_lock


237 
	#CRYPTO_w_lock
(
ty³
) \

238 
	`CRYPTO_lock
(
CRYPTO_LOCK
|
CRYPTO_WRITE
,
ty³
,
__FILE__
,
__LINE__
)

	)

239 
	#CRYPTO_w_uÆock
(
ty³
) \

240 
	`CRYPTO_lock
(
CRYPTO_UNLOCK
|
CRYPTO_WRITE
,
ty³
,
__FILE__
,
__LINE__
)

	)

241 
	#CRYPTO_r_lock
(
ty³
) \

242 
	`CRYPTO_lock
(
CRYPTO_LOCK
|
CRYPTO_READ
,
ty³
,
__FILE__
,
__LINE__
)

	)

243 
	#CRYPTO_r_uÆock
(
ty³
) \

244 
	`CRYPTO_lock
(
CRYPTO_UNLOCK
|
CRYPTO_READ
,
ty³
,
__FILE__
,
__LINE__
)

	)

245 
	#CRYPTO_add
(
addr
,
amouÁ
,
ty³
) \

246 
	`CRYPTO_add_lock
(
addr
,
amouÁ
,
ty³
,
__FILE__
,
__LINE__
)

	)

249 
	#CRYPTO_w_lock
(
a
)

	)

250 
	#CRYPTO_w_uÆock
(
a
)

	)

251 
	#CRYPTO_r_lock
(
a
)

	)

252 
	#CRYPTO_r_uÆock
(
a
)

	)

253 
	#CRYPTO_add
(
a
,
b
,
c
è((*×))+=(b))

	)

262 
»ã»nûs
;

263 
CRYPTO_dyÆock_v®ue
 *
d©a
;

264 } 
	tCRYPTO_dyÆock
;

270 
	#CRYPTO_MEM_CHECK_OFF
 0x0

	)

271 
	#CRYPTO_MEM_CHECK_ON
 0x1

	)

272 
	#CRYPTO_MEM_CHECK_ENABLE
 0x2

	)

273 
	#CRYPTO_MEM_CHECK_DISABLE
 0x3

	)

279 
	#V_CRYPTO_MDEBUG_TIME
 0x1

	)

281 
	#V_CRYPTO_MDEBUG_THREAD
 0x2

	)

283 
	#V_CRYPTO_MDEBUG_ALL
 (
V_CRYPTO_MDEBUG_TIME
 | 
V_CRYPTO_MDEBUG_THREAD
)

	)

287 
bio_¡
 
	tBIO_dummy
;

289 
	süy±o_ex_d©a_¡


291 
STACK
 *
sk
;

292 
dummy
;

298 
	süy±o_ex_d©a_func_¡


300 
¬gl
;

301 *
¬gp
;

302 
CRYPTO_EX_Ãw
 *
Ãw_func
;

303 
CRYPTO_EX_ä“
 *
ä“_func
;

304 
CRYPTO_EX_dup
 *
dup_func
;

305 } 
	tCRYPTO_EX_DATA_FUNCS
;

307 
DECLARE_STACK_OF
(
CRYPTO_EX_DATA_FUNCS
)

313 
	#CRYPTO_EX_INDEX_BIO
 0

	)

314 
	#CRYPTO_EX_INDEX_SSL
 1

	)

315 
	#CRYPTO_EX_INDEX_SSL_CTX
 2

	)

316 
	#CRYPTO_EX_INDEX_SSL_SESSION
 3

	)

317 
	#CRYPTO_EX_INDEX_X509_STORE
 4

	)

318 
	#CRYPTO_EX_INDEX_X509_STORE_CTX
 5

	)

319 
	#CRYPTO_EX_INDEX_RSA
 6

	)

320 
	#CRYPTO_EX_INDEX_DSA
 7

	)

321 
	#CRYPTO_EX_INDEX_DH
 8

	)

322 
	#CRYPTO_EX_INDEX_ENGINE
 9

	)

323 
	#CRYPTO_EX_INDEX_X509
 10

	)

324 
	#CRYPTO_EX_INDEX_UI
 11

	)

325 
	#CRYPTO_EX_INDEX_ECDSA
 12

	)

326 
	#CRYPTO_EX_INDEX_ECDH
 13

	)

327 
	#CRYPTO_EX_INDEX_COMP
 14

	)

328 
	#CRYPTO_EX_INDEX_STORE
 15

	)

332 
	#CRYPTO_EX_INDEX_USER
 100

	)

339 
	#CRYPTO_m®loc_š™
(è
	`CRYPTO_£t_mem_funùiÚs
(\

340 
m®loc
, 
»®loc
, 
ä“
)

	)

342 #ià
defšed
 
CRYPTO_MDEBUG_ALL
 || defšed 
CRYPTO_MDEBUG_TIME
 || defšed 
CRYPTO_MDEBUG_THREAD


343 #iâdeà
CRYPTO_MDEBUG


344 
	#CRYPTO_MDEBUG


	)

350 
CRYPTO_m®loc_debug_š™
();

352 
CRYPTO_mem_ù¾
(
mode
);

353 
CRYPTO_is_mem_check_Ú
();

356 
	#MemCheck_¡¬t
(è
	`CRYPTO_mem_ù¾
(
CRYPTO_MEM_CHECK_ON
)

	)

357 
	#MemCheck_¡İ
(è
	`CRYPTO_mem_ù¾
(
CRYPTO_MEM_CHECK_OFF
)

	)

360 
	#MemCheck_Ú
(è
	`CRYPTO_mem_ù¾
(
CRYPTO_MEM_CHECK_ENABLE
)

	)

361 
	#MemCheck_off
(è
	`CRYPTO_mem_ù¾
(
CRYPTO_MEM_CHECK_DISABLE
)

	)

362 
	#is_MemCheck_Ú
(è
	`CRYPTO_is_mem_check_Ú
()

	)

364 
	#OPENSSL_m®loc
(
num
è
	`CRYPTO_m®loc
((êum,
__FILE__
,
__LINE__
)

	)

365 
	#OPENSSL_¡rdup
(
¡r
è
	`CRYPTO_¡rdup
((¡r),
__FILE__
,
__LINE__
)

	)

366 
	#OPENSSL_»®loc
(
addr
,
num
) \

367 
	`CRYPTO_»®loc
((*)
addr
,()
num
,
__FILE__
,
__LINE__
)

	)

368 
	#OPENSSL_»®loc_ş—n
(
addr
,
Şd_num
,
num
) \

369 
	`CRYPTO_»®loc_ş—n
(
addr
,
Şd_num
,
num
,
__FILE__
,
__LINE__
)

	)

370 
	#OPENSSL_»m®loc
(
addr
,
num
) \

371 
	`CRYPTO_»m®loc
((**)
addr
,()
num
,
__FILE__
,
__LINE__
)

	)

372 
	#OPENSSL_ä“Func
 
CRYPTO_ä“


	)

373 
	#OPENSSL_ä“
(
addr
è
	`CRYPTO_ä“
×ddr)

	)

375 
	#OPENSSL_m®loc_locked
(
num
) \

376 
	`CRYPTO_m®loc_locked
(()
num
,
__FILE__
,
__LINE__
)

	)

377 
	#OPENSSL_ä“_locked
(
addr
è
	`CRYPTO_ä“_locked
×ddr)

	)

380 cÚ¡ *
SSL—y_v”siÚ
(
ty³
);

381 
SSL—y
();

383 
OPENSSL_is£tugid
();

386 
¡_CRYPTO_EX_DATA_IMPL
 
	tCRYPTO_EX_DATA_IMPL
;

388 cÚ¡ 
CRYPTO_EX_DATA_IMPL
 *
CRYPTO_g‘_ex_d©a_im¶em’tiÚ
();

390 
CRYPTO_£t_ex_d©a_im¶em’tiÚ
(cÚ¡ 
CRYPTO_EX_DATA_IMPL
 *
i
);

392 
CRYPTO_ex_d©a_Ãw_şass
();

394 
CRYPTO_g‘_ex_Ãw_šdex
(
şass_šdex
, 
¬gl
, *
¬gp
,

395 
CRYPTO_EX_Ãw
 *
Ãw_func
, 
CRYPTO_EX_dup
 *
dup_func
,

396 
CRYPTO_EX_ä“
 *
ä“_func
);

399 
CRYPTO_Ãw_ex_d©a
(
şass_šdex
, *
obj
, 
CRYPTO_EX_DATA
 *
ad
);

400 
CRYPTO_dup_ex_d©a
(
şass_šdex
, 
CRYPTO_EX_DATA
 *
to
,

401 
CRYPTO_EX_DATA
 *
äom
);

402 
CRYPTO_ä“_ex_d©a
(
şass_šdex
, *
obj
, 
CRYPTO_EX_DATA
 *
ad
);

405 
CRYPTO_£t_ex_d©a
(
CRYPTO_EX_DATA
 *
ad
, 
idx
, *
v®
);

406 *
CRYPTO_g‘_ex_d©a
(cÚ¡ 
CRYPTO_EX_DATA
 *
ad
,
idx
);

409 
CRYPTO_ş—nup_®l_ex_d©a
();

411 
CRYPTO_g‘_Ãw_lockid
(*
Çme
);

413 
CRYPTO_num_locks
();

414 
CRYPTO_lock
(
mode
, 
ty³
,cÚ¡ *
fe
,
lše
);

415 
CRYPTO_£t_lockšg_ÿÎback
((*
func
)(
mode
,
ty³
,

416 cÚ¡ *
fe
,
lše
));

417 (*
CRYPTO_g‘_lockšg_ÿÎback
())(
mode
,
ty³
,cÚ¡ *
fe
,

418 
lše
);

419 
CRYPTO_£t_add_lock_ÿÎback
((*
func
)(*
num
,
mouÁ
,
ty³
,

420 cÚ¡ *
fe
, 
lše
));

421 (*
CRYPTO_g‘_add_lock_ÿÎback
())(*
num
,
mouÁ
,
ty³
,

422 cÚ¡ *
fe
,
lše
);

423 
CRYPTO_£t_id_ÿÎback
((*
func
)());

424 (*
CRYPTO_g‘_id_ÿÎback
())();

425 
CRYPTO_th»ad_id
();

426 cÚ¡ *
CRYPTO_g‘_lock_Çme
(
ty³
);

427 
CRYPTO_add_lock
(*
poš‹r
,
amouÁ
,
ty³
, cÚ¡ *
fe
,

428 
lše
);

430 
št_CRYPTO_£t_do_dyÆock_ÿÎback
(

431 (*
do_dyÆock_cb
)(
mode
, 
ty³
, cÚ¡ *
fe
, 
lše
));

433 
CRYPTO_g‘_Ãw_dyÆockid
();

434 
CRYPTO_de¡roy_dyÆockid
(
i
);

435 
CRYPTO_dyÆock_v®ue
 *
CRYPTO_g‘_dyÆock_v®ue
(
i
);

436 
CRYPTO_£t_dyÆock_ü—‹_ÿÎback
(
CRYPTO_dyÆock_v®ue
 *(*
dyn_ü—‹_funùiÚ
)(cÚ¡ *
fe
, 
lše
));

437 
CRYPTO_£t_dyÆock_lock_ÿÎback
((*
dyn_lock_funùiÚ
)(
mode
, 
CRYPTO_dyÆock_v®ue
 *
l
, cÚ¡ *
fe
, 
lše
));

438 
CRYPTO_£t_dyÆock_de¡roy_ÿÎback
((*
dyn_de¡roy_funùiÚ
)(
CRYPTO_dyÆock_v®ue
 *
l
, cÚ¡ *
fe
, 
lše
));

439 
CRYPTO_dyÆock_v®ue
 *(*
CRYPTO_g‘_dyÆock_ü—‹_ÿÎback
())(cÚ¡ *
fe
,
lše
);

440 (*
CRYPTO_g‘_dyÆock_lock_ÿÎback
())(
mode
, 
CRYPTO_dyÆock_v®ue
 *
l
, cÚ¡ *
fe
,
lše
);

441 (*
CRYPTO_g‘_dyÆock_de¡roy_ÿÎback
())(
CRYPTO_dyÆock_v®ue
 *
l
, cÚ¡ *
fe
,
lše
);

445 
CRYPTO_£t_mem_funùiÚs
(*(*
m
)(
size_t
),*(*
r
)(*,size_t), (*
f
)(*));

446 
CRYPTO_£t_locked_mem_funùiÚs
(*(*
m
)(
size_t
), (*
ä“_func
)(*));

447 
CRYPTO_£t_mem_ex_funùiÚs
(*(*
m
)(
size_t
,const *,),

448 *(*
r
)(*,
size_t
,const *,),

449 (*
f
)(*));

450 
CRYPTO_£t_locked_mem_ex_funùiÚs
(*(*
m
)(
size_t
,const *,),

451 (*
ä“_func
)(*));

452 
CRYPTO_£t_mem_debug_funùiÚs
((*
m
)(*,,const *,,),

453 (*
r
)(*,*,,const *,,),

454 (*
f
)(*,),

455 (*
so
)(),

456 (*
go
)());

457 
CRYPTO_£t_mem_šfo_funùiÚs
(

458 (*
push_šfo_â
)(cÚ¡ *
šfo
, cÚ¡ *
fe
, 
lše
),

459 (*
pİ_šfo_â
)(),

460 (*
»move_®l_šfo_â
)());

461 
CRYPTO_g‘_mem_funùiÚs
(*(**
m
)(
size_t
),*(**
r
)(*, size_t), (**
f
)(*));

462 
CRYPTO_g‘_locked_mem_funùiÚs
(*(**
m
)(
size_t
), (**
f
)(*));

463 
CRYPTO_g‘_mem_ex_funùiÚs
(*(**
m
)(
size_t
,const *,),

464 *(**
r
)(*, 
size_t
,const *,),

465 (**
f
)(*));

466 
CRYPTO_g‘_locked_mem_ex_funùiÚs
(*(**
m
)(
size_t
,const *,),

467 (**
f
)(*));

468 
CRYPTO_g‘_mem_debug_funùiÚs
((**
m
)(*,,const *,,),

469 (**
r
)(*,*,,const *,,),

470 (**
f
)(*,),

471 (**
so
)(),

472 (**
go
)());

474 *
CRYPTO_m®loc_locked
(
num
, cÚ¡ *
fe
, 
lše
);

475 
CRYPTO_ä“_locked
(*);

476 *
CRYPTO_m®loc
(
num
, cÚ¡ *
fe
, 
lše
);

477 *
CRYPTO_¡rdup
(cÚ¡ *
¡r
, cÚ¡ *
fe
, 
lše
);

478 
CRYPTO_ä“
(*);

479 *
CRYPTO_»®loc
(*
addr
,
num
, cÚ¡ *
fe
, 
lše
);

480 *
CRYPTO_»®loc_ş—n
(*
addr
,
Şd_num
,
num
,cÚ¡ *
fe
,

481 
lše
);

482 *
CRYPTO_»m®loc
(*
addr
,
num
, cÚ¡ *
fe
, 
lše
);

484 
OPENSSL_ş—n£
(*
±r
, 
size_t
 
Ën
);

486 
CRYPTO_£t_mem_debug_İtiÚs
(
b™s
);

487 
CRYPTO_g‘_mem_debug_İtiÚs
();

489 
	#CRYPTO_push_šfo
(
šfo
) \

490 
	`CRYPTO_push_šfo_
(
šfo
, 
__FILE__
, 
__LINE__
);

	)

491 
CRYPTO_push_šfo_
(cÚ¡ *
šfo
, cÚ¡ *
fe
, 
lše
);

492 
CRYPTO_pİ_šfo
();

493 
CRYPTO_»move_®l_šfo
();

503 
CRYPTO_dbg_m®loc
(*
addr
,
num
,cÚ¡ *
fe
,
lše
,
befÜe_p
);

504 
CRYPTO_dbg_»®loc
(*
addr1
,*
addr2
,
num
,cÚ¡ *
fe
,
lše
,
befÜe_p
);

505 
CRYPTO_dbg_ä“
(*
addr
,
befÜe_p
);

514 
CRYPTO_dbg_£t_İtiÚs
(
b™s
);

515 
CRYPTO_dbg_g‘_İtiÚs
();

517 
CRYPTO_dbg_push_šfo
(cÚ¡ *
šfo
, cÚ¡ *
fe
, 
lše
);

518 
CRYPTO_dbg_pİ_šfo
();

519 
CRYPTO_dbg_»move_®l_šfo
();

521 #iâdeà
OPENSSL_NO_FP_API


522 
CRYPTO_mem_Ëaks_å
(
FILE
 *);

524 
CRYPTO_mem_Ëaks
(
bio_¡
 *
bio
);

526 *
	tCRYPTO_MEM_LEAK_CB
(, const *, , , *);

527 
CRYPTO_mem_Ëaks_cb
(
CRYPTO_MEM_LEAK_CB
 *
cb
);

530 
O³nSSLD›
(cÚ¡ *
fe
,
lše
,cÚ¡ *
as£¹iÚ
);

531 
	#OPENSSL_as£¹
(
e
è()(Óè? 0 : (
	`O³nSSLD›
(
__FILE__
, 
__LINE__
, #e),1))

	)

533 *
OPENSSL_Ÿ32ÿp_loc
();

534 
	#OPENSSL_Ÿ32ÿp
 (*(
	`OPENSSL_Ÿ32ÿp_loc
()))

	)

535 
OPENSSL_is£rviû
();

537 #ifdeà
OPENSSL_FIPS


538 
	#FIPS_ERROR_IGNORED
(
®g
è
	`O³nSSLD›
(
__FILE__
, 
__LINE__
, \

539 
®g
 "…»viou FIPS fÜbidd’‡lgÜ™hmƒ¼Ü ignÜed");

	)

541 
	#FIPS_BAD_ABORT
(
®g
è
	`O³nSSLD›
(
__FILE__
, 
__LINE__
, \

542 #®g " AlgÜ™hm fÜbidd’ iÀFIPS mode");

	)

544 #ifdeà
OPENSSL_FIPS_STRICT


545 
	#FIPS_BAD_ALGORITHM
(
®g
è
	`FIPS_BAD_ABORT
×lg)

	)

547 
	#FIPS_BAD_ALGORITHM
(
®g
) \

549 
	`FIPS”r
(
FIPS_F_HASH_FINAL
,
FIPS_R_NON_FIPS_METHOD
); \

550 
	`ERR_add_”rÜ_d©a
(2, "Algorithm=", #alg); \

552 }

	)

557 
	#FIPS_NON_FIPS_MD_In™
(
®g
) \

558 
®g
##
	`_In™
×lg##
_CTX
 *
c
) \

560 ià(
	`FIPS_mode
()) \

561 
	`FIPS_BAD_ALGORITHM
(
®g
) \

562  
´iv©e_
##
®g
##
	`_In™
(
c
); \

564 
´iv©e_
##
®g
##
	`_In™
×lg##
_CTX
 *
c
)

	)

571 
	#FIPS_NON_FIPS_VCIPHER_In™
(
®g
) \

572 
®g
##
	`_£t_key
×lg##
_KEY
 *
key
, 
Ën
, cÚ¡ *
d©a
) \

574 ià(
	`FIPS_mode
()) \

575 
	`FIPS_BAD_ABORT
(
®g
) \

576 
´iv©e_
##
®g
##
	`_£t_key
(
key
, 
Ën
, 
d©a
); \

578 
´iv©e_
##
®g
##
	`_£t_key
×lg##
_KEY
 *
key
, 
Ën
, \

579 cÚ¡ *
d©a
)

	)

583 
	#FIPS_NON_FIPS_VCIPHER_In™
(
®g
) \

584 
®g
##
	`_£t_key
×lg##
_KEY
 *
key
, 
Ën
, cÚ¡ *
d©a
)

	)

586 
	#FIPS_NON_FIPS_MD_In™
(
®g
) \

587 
®g
##
	`_In™
×lg##
_CTX
 *
c
)

	)

595 
ERR_lßd_CRYPTO_¡ršgs
();

597 
	#OPENSSL_HAVE_INIT
 1

	)

598 
OPENSSL_š™
();

603 
	#CRYPTO_F_CRYPTO_GET_EX_NEW_INDEX
 100

	)

604 
	#CRYPTO_F_CRYPTO_GET_NEW_DYNLOCKID
 103

	)

605 
	#CRYPTO_F_CRYPTO_GET_NEW_LOCKID
 101

	)

606 
	#CRYPTO_F_CRYPTO_SET_EX_DATA
 102

	)

607 
	#CRYPTO_F_DEF_ADD_INDEX
 104

	)

608 
	#CRYPTO_F_DEF_GET_CLASS
 105

	)

609 
	#CRYPTO_F_INT_DUP_EX_DATA
 106

	)

610 
	#CRYPTO_F_INT_FREE_EX_DATA
 107

	)

611 
	#CRYPTO_F_INT_NEW_EX_DATA
 108

	)

614 
	#CRYPTO_R_NO_DYNLOCK_CREATE_CALLBACK
 100

	)

616 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ossl_typ.h

55 #iâdeà
HEADER_OPENSSL_TYPES_H


56 
	#HEADER_OPENSSL_TYPES_H


	)

58 
	~<İ’s¦/e_os2.h
>

60 #ifdeà
NO_ASN1_TYPEDEFS


61 
	#ASN1_INTEGER
 
ASN1_STRING


	)

62 
	#ASN1_ENUMERATED
 
ASN1_STRING


	)

63 
	#ASN1_BIT_STRING
 
ASN1_STRING


	)

64 
	#ASN1_OCTET_STRING
 
ASN1_STRING


	)

65 
	#ASN1_PRINTABLESTRING
 
ASN1_STRING


	)

66 
	#ASN1_T61STRING
 
ASN1_STRING


	)

67 
	#ASN1_IA5STRING
 
ASN1_STRING


	)

68 
	#ASN1_UTCTIME
 
ASN1_STRING


	)

69 
	#ASN1_GENERALIZEDTIME
 
ASN1_STRING


	)

70 
	#ASN1_TIME
 
ASN1_STRING


	)

71 
	#ASN1_GENERALSTRING
 
ASN1_STRING


	)

72 
	#ASN1_UNIVERSALSTRING
 
ASN1_STRING


	)

73 
	#ASN1_BMPSTRING
 
ASN1_STRING


	)

74 
	#ASN1_VISIBLESTRING
 
ASN1_STRING


	)

75 
	#ASN1_UTF8STRING
 
ASN1_STRING


	)

76 
	#ASN1_BOOLEAN
 

	)

77 
	#ASN1_NULL
 

	)

79 
a¢1_¡ršg_¡
 
	tASN1_INTEGER
;

80 
a¢1_¡ršg_¡
 
	tASN1_ENUMERATED
;

81 
a¢1_¡ršg_¡
 
	tASN1_BIT_STRING
;

82 
a¢1_¡ršg_¡
 
	tASN1_OCTET_STRING
;

83 
a¢1_¡ršg_¡
 
	tASN1_PRINTABLESTRING
;

84 
a¢1_¡ršg_¡
 
	tASN1_T61STRING
;

85 
a¢1_¡ršg_¡
 
	tASN1_IA5STRING
;

86 
a¢1_¡ršg_¡
 
	tASN1_GENERALSTRING
;

87 
a¢1_¡ršg_¡
 
	tASN1_UNIVERSALSTRING
;

88 
a¢1_¡ršg_¡
 
	tASN1_BMPSTRING
;

89 
a¢1_¡ršg_¡
 
	tASN1_UTCTIME
;

90 
a¢1_¡ršg_¡
 
	tASN1_TIME
;

91 
a¢1_¡ršg_¡
 
	tASN1_GENERALIZEDTIME
;

92 
a¢1_¡ršg_¡
 
	tASN1_VISIBLESTRING
;

93 
a¢1_¡ršg_¡
 
	tASN1_UTF8STRING
;

94 
	tASN1_BOOLEAN
;

95 
	tASN1_NULL
;

98 #ifdeà
OPENSSL_SYS_WIN32


99 #undeà
X509_NAME


100 #undeà
X509_EXTENSIONS


101 #undeà
X509_CERT_PAIR


102 #undeà
PKCS7_ISSUER_AND_SERIAL


103 #undeà
OCSP_REQUEST


104 #undeà
OCSP_RESPONSE


107 #ifdeà
BIGNUM


108 #undeà
BIGNUM


110 
bignum_¡
 
	tBIGNUM
;

111 
bignum_ùx
 
	tBN_CTX
;

112 
bn_blšdšg_¡
 
	tBN_BLINDING
;

113 
bn_mÚt_ùx_¡
 
	tBN_MONT_CTX
;

114 
bn_»ı_ùx_¡
 
	tBN_RECP_CTX
;

115 
bn_g’cb_¡
 
	tBN_GENCB
;

117 
buf_mem_¡
 
	tBUF_MEM
;

119 
evp_ch”_¡
 
	tEVP_CIPHER
;

120 
evp_ch”_ùx_¡
 
	tEVP_CIPHER_CTX
;

121 
’v_md_¡
 
	tEVP_MD
;

122 
’v_md_ùx_¡
 
	tEVP_MD_CTX
;

123 
evp_pkey_¡
 
	tEVP_PKEY
;

125 
dh_¡
 
	tDH
;

126 
dh_m‘hod
 
	tDH_METHOD
;

128 
d§_¡
 
	tDSA
;

129 
d§_m‘hod
 
	tDSA_METHOD
;

131 
r§_¡
 
	tRSA
;

132 
r§_m‘h_¡
 
	tRSA_METHOD
;

134 
¿nd_m‘h_¡
 
	tRAND_METHOD
;

136 
ecdh_m‘hod
 
	tECDH_METHOD
;

137 
ecd§_m‘hod
 
	tECDSA_METHOD
;

139 
x509_¡
 
	tX509
;

140 
X509_®gÜ_¡
 
	tX509_ALGOR
;

141 
X509_ül_¡
 
	tX509_CRL
;

142 
X509_Çme_¡
 
	tX509_NAME
;

143 
x509_¡Üe_¡
 
	tX509_STORE
;

144 
x509_¡Üe_ùx_¡
 
	tX509_STORE_CTX
;

145 
s¦_¡
 
	tSSL
;

146 
s¦_ùx_¡
 
	tSSL_CTX
;

148 
v3_ext_ùx
 
	tX509V3_CTX
;

149 
cÚf_¡
 
	tCONF
;

151 
¡Üe_¡
 
	tSTORE
;

152 
¡Üe_m‘hod_¡
 
	tSTORE_METHOD
;

154 
ui_¡
 
	tUI
;

155 
ui_m‘hod_¡
 
	tUI_METHOD
;

157 
¡_ERR_FNS
 
	tERR_FNS
;

159 
’gše_¡
 
	tENGINE
;

161 
X509_POLICY_NODE_¡
 
	tX509_POLICY_NODE
;

162 
X509_POLICY_LEVEL_¡
 
	tX509_POLICY_LEVEL
;

163 
X509_POLICY_TREE_¡
 
	tX509_POLICY_TREE
;

164 
X509_POLICY_CACHE_¡
 
	tX509_POLICY_CACHE
;

167 
	#DECLARE_PKCS12_STACK_OF
(
ty³
è

	)

168 
	#IMPLEMENT_PKCS12_STACK_OF
(
ty³
è

	)

170 
üy±o_ex_d©a_¡
 
	tCRYPTO_EX_DATA
;

172 
	tCRYPTO_EX_Ãw
(*
	t·»Á
, *
	t±r
, 
	tCRYPTO_EX_DATA
 *
	tad
,

173 
	tidx
, 
	t¬gl
, *
	t¬gp
);

174 
	tCRYPTO_EX_ä“
(*
	t·»Á
, *
	t±r
, 
	tCRYPTO_EX_DATA
 *
	tad
,

175 
	tidx
, 
	t¬gl
, *
	t¬gp
);

176 
	tCRYPTO_EX_dup
(
	tCRYPTO_EX_DATA
 *
	tto
, CRYPTO_EX_DATA *
	täom
, *
	täom_d
,

177 
	tidx
, 
	t¬gl
, *
	t¬gp
);

179 
oc¥_»q_ùx_¡
 
	tOCSP_REQ_CTX
;

180 
oc¥_»¥Ú£_¡
 
	tOCSP_RESPONSE
;

181 
oc¥_»¥Úd”_id_¡
 
	tOCSP_RESPID
;

	@/usr/include/openssl/safestack.h

55 #iâdeà
HEADER_SAFESTACK_H


56 
	#HEADER_SAFESTACK_H


	)

58 
	~<İ’s¦/¡ack.h
>

60 #ifdeà
DEBUG_SAFESTACK


62 #iâdeà
CHECKED_PTR_OF


63 
	#CHECKED_PTR_OF
(
ty³
, 
p
) \

64 ((*è(1 ? 
p
 : (
ty³
*)0))

	)

67 
	#CHECKED_SK_FREE_FUNC
(
ty³
, 
p
) \

68 (((*)(*)è((1 ? 
p
 : ((*)(
ty³
 *))0)))

	)

70 
	#CHECKED_SK_CMP_FUNC
(
ty³
, 
p
) \

72 ((1 ? 
p
 : ((*)(cÚ¡ 
ty³
 * cÚ¡ *, cÚ¡y³ * cÚ¡ *))0)))

	)

74 
	#STACK_OF
(
ty³
è
¡ack_¡_
##
	)
type

75 
	#PREDECLARE_STACK_OF
(
ty³
è
	`STACK_OF
Ñy³);

	)

77 
	#DECLARE_STACK_OF
(
ty³
) \

78 
	`STACK_OF
(
ty³
) \

80 
STACK
 
¡ack
; \

81 };

	)

83 
	#IMPLEMENT_STACK_OF
(
ty³
è

	)

87 
	#SKM_sk_Ãw
(
ty³
, 
cmp
) \

88 ((
	`STACK_OF
(
ty³
è*)
	`sk_Ãw
(
	`CHECKED_SK_CMP_FUNC
Ñy³, 
cmp
)))

	)

89 
	#SKM_sk_Ãw_nuÎ
(
ty³
) \

90 ((
	`STACK_OF
(
ty³
è*)
	`sk_Ãw_nuÎ
())

	)

91 
	#SKM_sk_ä“
(
ty³
, 
¡
) \

92 
	`sk_ä“
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
))

	)

93 
	#SKM_sk_num
(
ty³
, 
¡
) \

94 
	`sk_num
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
))

	)

95 
	#SKM_sk_v®ue
(
ty³
, 
¡
,
i
) \

96 ((
ty³
 *)
	`sk_v®ue
(
	`CHECKED_PTR_OF
(
	`STACK_OF
Ñy³), 
¡
), 
i
))

	)

97 
	#SKM_sk_£t
(
ty³
, 
¡
,
i
,
v®
) \

98 
	`sk_£t
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), 
i
, CHECKED_PTR_OFÑy³, 
v®
))

	)

99 
	#SKM_sk_z”o
(
ty³
, 
¡
) \

100 
	`sk_z”o
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
))

	)

101 
	#SKM_sk_push
(
ty³
, 
¡
,
v®
) \

102 
	`sk_push
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), CHECKED_PTR_OFÑy³, 
v®
))

	)

103 
	#SKM_sk_unshiá
(
ty³
, 
¡
,
v®
) \

104 
	`sk_unshiá
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), CHECKED_PTR_OFÑy³, 
v®
))

	)

105 
	#SKM_sk_fšd
(
ty³
, 
¡
,
v®
) \

106 
	`sk_fšd
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), CHECKED_PTR_OFÑy³, 
v®
))

	)

107 
	#SKM_sk_d–‘e
(
ty³
, 
¡
,
i
) \

108 (
ty³
 *)
	`sk_d–‘e
(
	`CHECKED_PTR_OF
(
	`STACK_OF
Ñy³), 
¡
), 
i
)

	)

109 
	#SKM_sk_d–‘e_±r
(
ty³
, 
¡
,
±r
) \

110 (
ty³
 *)
	`sk_d–‘e_±r
(
	`CHECKED_PTR_OF
(
	`STACK_OF
Ñy³), 
¡
), CHECKED_PTR_OFÑy³, 
±r
))

	)

111 
	#SKM_sk_š£¹
(
ty³
, 
¡
,
v®
,
i
) \

112 
	`sk_š£¹
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), CHECKED_PTR_OFÑy³, 
v®
), 
i
)

	)

113 
	#SKM_sk_£t_cmp_func
(
ty³
, 
¡
,
cmp
) \

114 (((*)(cÚ¡ 
ty³
 * const *,constype * const *)) \

115 
	`sk_£t_cmp_func
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), 
	`CHECKED_SK_CMP_FUNC
Ñy³, 
cmp
)))

	)

116 
	#SKM_sk_dup
(
ty³
, 
¡
) \

117 (
	`STACK_OF
(
ty³
è*)
	`sk_dup
(
	`CHECKED_PTR_OF
(STACK_OFÑy³), 
¡
))

	)

118 
	#SKM_sk_pİ_ä“
(
ty³
, 
¡
,
ä“_func
) \

119 
	`sk_pİ_ä“
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), 
	`CHECKED_SK_FREE_FUNC
Ñy³, 
ä“_func
))

	)

120 
	#SKM_sk_shiá
(
ty³
, 
¡
) \

121 (
ty³
 *)
	`sk_shiá
(
	`CHECKED_PTR_OF
(
	`STACK_OF
Ñy³), 
¡
))

	)

122 
	#SKM_sk_pİ
(
ty³
, 
¡
) \

123 (
ty³
 *)
	`sk_pİ
(
	`CHECKED_PTR_OF
(
	`STACK_OF
Ñy³), 
¡
))

	)

124 
	#SKM_sk_sÜt
(
ty³
, 
¡
) \

125 
	`sk_sÜt
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
))

	)

126 
	#SKM_sk_is_sÜ‹d
(
ty³
, 
¡
) \

127 
	`sk_is_sÜ‹d
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
))

	)

129 
	#SKM_ASN1_SET_OF_d2i
(
ty³
, 
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

130 (
	`STACK_OF
(
ty³
è*)
	`d2i_ASN1_SET
(
	`CHECKED_PTR_OF
(STACK_OFÑy³)*, 
¡
), \

131 
µ
, 
Ëngth
, \

132 
	`CHECKED_D2I_OF
(
ty³
, 
d2i_func
), \

133 
	`CHECKED_SK_FREE_FUNC
(
ty³
, 
ä“_func
), \

134 
ex_g
, 
ex_şass
)

	)

136 
	#SKM_ASN1_SET_OF_i2d
(
ty³
, 
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

137 
	`i2d_ASN1_SET
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), 
µ
, \

138 
	`CHECKED_I2D_OF
(
ty³
, 
i2d_func
), \

139 
ex_g
, 
ex_şass
, 
is_£t
)

	)

141 
	#SKM_ASN1_£q_·ck
(
ty³
, 
¡
, 
i2d_func
, 
buf
, 
Ën
) \

142 
	`ASN1_£q_·ck
(
	`CHECKED_PTR_OF
(
	`STACK_OF
(
ty³
), 
¡
), \

143 
	`CHECKED_I2D_OF
(
ty³
, 
i2d_func
), 
buf
, 
Ën
)

	)

145 
	#SKM_ASN1_£q_uÅack
(
ty³
, 
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

146 (
	`STACK_OF
(
ty³
è*)
	`ASN1_£q_uÅack
(
buf
, 
Ën
, 
	`CHECKED_D2I_OF
Ñy³, 
d2i_func
), 
	`CHECKED_SK_FREE_FUNC
Ñy³, 
ä“_func
))

	)

148 
	#SKM_PKCS12_deüy±_d2i
(
ty³
, 
®gÜ
, 
d2i_func
, 
ä“_func
, 
·ss
, 
·s¦’
, 
où
, 
£q
) \

149 (
	`STACK_OF
(
ty³
è*)
	`PKCS12_deüy±_d2i
(
®gÜ
, \

150 
	`CHECKED_D2I_OF
(
ty³
, 
d2i_func
), \

151 
	`CHECKED_SK_FREE_FUNC
(
ty³
, 
ä“_func
), \

152 
·ss
, 
·s¦’
, 
où
, 
£q
)

	)

156 
	#STACK_OF
(
ty³
è
STACK


	)

157 
	#PREDECLARE_STACK_OF
(
ty³
è

	)

158 
	#DECLARE_STACK_OF
(
ty³
è

	)

159 
	#IMPLEMENT_STACK_OF
(
ty³
è

	)

161 
	#SKM_sk_Ãw
(
ty³
, 
cmp
) \

162 
	`sk_Ãw
(((*)(cÚ¡ * cÚ¡ *, cÚ¡ * cÚ¡ *))(
cmp
))

	)

163 
	#SKM_sk_Ãw_nuÎ
(
ty³
) \

164 
	`sk_Ãw_nuÎ
()

	)

165 
	#SKM_sk_ä“
(
ty³
, 
¡
) \

166 
	`sk_ä“
(
¡
)

	)

167 
	#SKM_sk_num
(
ty³
, 
¡
) \

168 
	`sk_num
(
¡
)

	)

169 
	#SKM_sk_v®ue
(
ty³
, 
¡
,
i
) \

170 ((
ty³
 *)
	`sk_v®ue
(
¡
, 
i
))

	)

171 
	#SKM_sk_£t
(
ty³
, 
¡
,
i
,
v®
) \

172 ((
ty³
 *)
	`sk_£t
(
¡
, 
i
,(*)
v®
))

	)

173 
	#SKM_sk_z”o
(
ty³
, 
¡
) \

174 
	`sk_z”o
(
¡
)

	)

175 
	#SKM_sk_push
(
ty³
, 
¡
,
v®
) \

176 
	`sk_push
(
¡
, (*)
v®
)

	)

177 
	#SKM_sk_unshiá
(
ty³
, 
¡
,
v®
) \

178 
	`sk_unshiá
(
¡
, (*)
v®
)

	)

179 
	#SKM_sk_fšd
(
ty³
, 
¡
,
v®
) \

180 
	`sk_fšd
(
¡
, (*)
v®
)

	)

181 
	#SKM_sk_d–‘e
(
ty³
, 
¡
,
i
) \

182 ((
ty³
 *)
	`sk_d–‘e
(
¡
, 
i
))

	)

183 
	#SKM_sk_d–‘e_±r
(
ty³
, 
¡
,
±r
) \

184 ((
ty³
 *)
	`sk_d–‘e_±r
(
¡
,(*)
±r
))

	)

185 
	#SKM_sk_š£¹
(
ty³
, 
¡
,
v®
,
i
) \

186 
	`sk_š£¹
(
¡
, (*)
v®
, 
i
)

	)

187 
	#SKM_sk_£t_cmp_func
(
ty³
, 
¡
,
cmp
) \

188 (((*)(cÚ¡ 
ty³
 * const *,constype * const *)) \

189 
	`sk_£t_cmp_func
(
¡
, ((*)(cÚ¡ * cÚ¡ *, cÚ¡ * cÚ¡ *))(
cmp
)))

	)

190 
	#SKM_sk_dup
(
ty³
, 
¡
) \

191 
	`sk_dup
(
¡
)

	)

192 
	#SKM_sk_pİ_ä“
(
ty³
, 
¡
,
ä“_func
) \

193 
	`sk_pİ_ä“
(
¡
, ((*)(*))
ä“_func
)

	)

194 
	#SKM_sk_shiá
(
ty³
, 
¡
) \

195 ((
ty³
 *)
	`sk_shiá
(
¡
))

	)

196 
	#SKM_sk_pİ
(
ty³
, 
¡
) \

197 ((
ty³
 *)
	`sk_pİ
(
¡
))

	)

198 
	#SKM_sk_sÜt
(
ty³
, 
¡
) \

199 
	`sk_sÜt
(
¡
)

	)

200 
	#SKM_sk_is_sÜ‹d
(
ty³
, 
¡
) \

201 
	`sk_is_sÜ‹d
(
¡
)

	)

203 
	#SKM_ASN1_SET_OF_d2i
(
ty³
, 
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

204 
	`d2i_ASN1_SET
(
¡
,
µ
,
Ëngth
, (*(*)(** ,cÚ¡ ** ,))
d2i_func
, ((*)(*))
ä“_func
, 
ex_g
,
ex_şass
)

	)

205 
	#SKM_ASN1_SET_OF_i2d
(
ty³
, 
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

206 
	`i2d_ASN1_SET
(
¡
,
µ
,((*)(*, **))
i2d_func
,
ex_g
,
ex_şass
,
is_£t
)

	)

208 
	#SKM_ASN1_£q_·ck
(
ty³
, 
¡
, 
i2d_func
, 
buf
, 
Ën
) \

209 
	`ASN1_£q_·ck
(
¡
, ((*)(*, **))
i2d_func
, 
buf
, 
Ën
)

	)

210 
	#SKM_ASN1_£q_uÅack
(
ty³
, 
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

211 
	`ASN1_£q_uÅack
(
buf
,
Ën
,(*(*)(**,cÚ¡ **,))
d2i_func
, ((*)(*))
ä“_func
)

	)

213 
	#SKM_PKCS12_deüy±_d2i
(
ty³
, 
®gÜ
, 
d2i_func
, 
ä“_func
, 
·ss
, 
·s¦’
, 
où
, 
£q
) \

214 ((
STACK
 *)
	`PKCS12_deüy±_d2i
(
®gÜ
,(*(*)())
d2i_func
, ((*)(*))
ä“_func
,
·ss
,
·s¦’
,
où
,
£q
))

	)

219 
	#sk_ACCESS_DESCRIPTION_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ACCESS_DESCRIPTION
, (¡))

	)

220 
	#sk_ACCESS_DESCRIPTION_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ACCESS_DESCRIPTION
)

	)

221 
	#sk_ACCESS_DESCRIPTION_ä“
(
¡
è
	`SKM_sk_ä“
(
ACCESS_DESCRIPTION
, (¡))

	)

222 
	#sk_ACCESS_DESCRIPTION_num
(
¡
è
	`SKM_sk_num
(
ACCESS_DESCRIPTION
, (¡))

	)

223 
	#sk_ACCESS_DESCRIPTION_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ACCESS_DESCRIPTION
, (¡), (i))

	)

224 
	#sk_ACCESS_DESCRIPTION_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ACCESS_DESCRIPTION
, (¡), (i), (v®))

	)

225 
	#sk_ACCESS_DESCRIPTION_z”o
(
¡
è
	`SKM_sk_z”o
(
ACCESS_DESCRIPTION
, (¡))

	)

226 
	#sk_ACCESS_DESCRIPTION_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ACCESS_DESCRIPTION
, (¡), (v®))

	)

227 
	#sk_ACCESS_DESCRIPTION_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ACCESS_DESCRIPTION
, (¡), (v®))

	)

228 
	#sk_ACCESS_DESCRIPTION_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ACCESS_DESCRIPTION
, (¡), (v®))

	)

229 
	#sk_ACCESS_DESCRIPTION_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ACCESS_DESCRIPTION
, (¡), (v®))

	)

230 
	#sk_ACCESS_DESCRIPTION_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ACCESS_DESCRIPTION
, (¡), (i))

	)

231 
	#sk_ACCESS_DESCRIPTION_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ACCESS_DESCRIPTION
, (¡), (±r))

	)

232 
	#sk_ACCESS_DESCRIPTION_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ACCESS_DESCRIPTION
, (¡), (v®), (i))

	)

233 
	#sk_ACCESS_DESCRIPTION_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ACCESS_DESCRIPTION
, (¡), (cmp))

	)

234 
	#sk_ACCESS_DESCRIPTION_dup
(
¡
è
	`SKM_sk_dup
(
ACCESS_DESCRIPTION
, st)

	)

235 
	#sk_ACCESS_DESCRIPTION_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ACCESS_DESCRIPTION
, (¡), (ä“_func))

	)

236 
	#sk_ACCESS_DESCRIPTION_shiá
(
¡
è
	`SKM_sk_shiá
(
ACCESS_DESCRIPTION
, (¡))

	)

237 
	#sk_ACCESS_DESCRIPTION_pİ
(
¡
è
	`SKM_sk_pİ
(
ACCESS_DESCRIPTION
, (¡))

	)

238 
	#sk_ACCESS_DESCRIPTION_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ACCESS_DESCRIPTION
, (¡))

	)

239 
	#sk_ACCESS_DESCRIPTION_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ACCESS_DESCRIPTION
, (¡))

	)

241 
	#sk_ASIdOrRªge_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASIdOrRªge
, (¡))

	)

242 
	#sk_ASIdOrRªge_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASIdOrRªge
)

	)

243 
	#sk_ASIdOrRªge_ä“
(
¡
è
	`SKM_sk_ä“
(
ASIdOrRªge
, (¡))

	)

244 
	#sk_ASIdOrRªge_num
(
¡
è
	`SKM_sk_num
(
ASIdOrRªge
, (¡))

	)

245 
	#sk_ASIdOrRªge_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASIdOrRªge
, (¡), (i))

	)

246 
	#sk_ASIdOrRªge_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASIdOrRªge
, (¡), (i), (v®))

	)

247 
	#sk_ASIdOrRªge_z”o
(
¡
è
	`SKM_sk_z”o
(
ASIdOrRªge
, (¡))

	)

248 
	#sk_ASIdOrRªge_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASIdOrRªge
, (¡), (v®))

	)

249 
	#sk_ASIdOrRªge_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASIdOrRªge
, (¡), (v®))

	)

250 
	#sk_ASIdOrRªge_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASIdOrRªge
, (¡), (v®))

	)

251 
	#sk_ASIdOrRªge_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASIdOrRªge
, (¡), (v®))

	)

252 
	#sk_ASIdOrRªge_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASIdOrRªge
, (¡), (i))

	)

253 
	#sk_ASIdOrRªge_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASIdOrRªge
, (¡), (±r))

	)

254 
	#sk_ASIdOrRªge_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASIdOrRªge
, (¡), (v®), (i))

	)

255 
	#sk_ASIdOrRªge_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASIdOrRªge
, (¡), (cmp))

	)

256 
	#sk_ASIdOrRªge_dup
(
¡
è
	`SKM_sk_dup
(
ASIdOrRªge
, st)

	)

257 
	#sk_ASIdOrRªge_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASIdOrRªge
, (¡), (ä“_func))

	)

258 
	#sk_ASIdOrRªge_shiá
(
¡
è
	`SKM_sk_shiá
(
ASIdOrRªge
, (¡))

	)

259 
	#sk_ASIdOrRªge_pİ
(
¡
è
	`SKM_sk_pİ
(
ASIdOrRªge
, (¡))

	)

260 
	#sk_ASIdOrRªge_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASIdOrRªge
, (¡))

	)

261 
	#sk_ASIdOrRªge_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASIdOrRªge
, (¡))

	)

263 
	#sk_ASN1_GENERALSTRING_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASN1_GENERALSTRING
, (¡))

	)

264 
	#sk_ASN1_GENERALSTRING_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASN1_GENERALSTRING
)

	)

265 
	#sk_ASN1_GENERALSTRING_ä“
(
¡
è
	`SKM_sk_ä“
(
ASN1_GENERALSTRING
, (¡))

	)

266 
	#sk_ASN1_GENERALSTRING_num
(
¡
è
	`SKM_sk_num
(
ASN1_GENERALSTRING
, (¡))

	)

267 
	#sk_ASN1_GENERALSTRING_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASN1_GENERALSTRING
, (¡), (i))

	)

268 
	#sk_ASN1_GENERALSTRING_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASN1_GENERALSTRING
, (¡), (i), (v®))

	)

269 
	#sk_ASN1_GENERALSTRING_z”o
(
¡
è
	`SKM_sk_z”o
(
ASN1_GENERALSTRING
, (¡))

	)

270 
	#sk_ASN1_GENERALSTRING_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASN1_GENERALSTRING
, (¡), (v®))

	)

271 
	#sk_ASN1_GENERALSTRING_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASN1_GENERALSTRING
, (¡), (v®))

	)

272 
	#sk_ASN1_GENERALSTRING_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASN1_GENERALSTRING
, (¡), (v®))

	)

273 
	#sk_ASN1_GENERALSTRING_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASN1_GENERALSTRING
, (¡), (v®))

	)

274 
	#sk_ASN1_GENERALSTRING_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASN1_GENERALSTRING
, (¡), (i))

	)

275 
	#sk_ASN1_GENERALSTRING_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASN1_GENERALSTRING
, (¡), (±r))

	)

276 
	#sk_ASN1_GENERALSTRING_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASN1_GENERALSTRING
, (¡), (v®), (i))

	)

277 
	#sk_ASN1_GENERALSTRING_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASN1_GENERALSTRING
, (¡), (cmp))

	)

278 
	#sk_ASN1_GENERALSTRING_dup
(
¡
è
	`SKM_sk_dup
(
ASN1_GENERALSTRING
, st)

	)

279 
	#sk_ASN1_GENERALSTRING_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASN1_GENERALSTRING
, (¡), (ä“_func))

	)

280 
	#sk_ASN1_GENERALSTRING_shiá
(
¡
è
	`SKM_sk_shiá
(
ASN1_GENERALSTRING
, (¡))

	)

281 
	#sk_ASN1_GENERALSTRING_pİ
(
¡
è
	`SKM_sk_pİ
(
ASN1_GENERALSTRING
, (¡))

	)

282 
	#sk_ASN1_GENERALSTRING_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASN1_GENERALSTRING
, (¡))

	)

283 
	#sk_ASN1_GENERALSTRING_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASN1_GENERALSTRING
, (¡))

	)

285 
	#sk_ASN1_INTEGER_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASN1_INTEGER
, (¡))

	)

286 
	#sk_ASN1_INTEGER_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASN1_INTEGER
)

	)

287 
	#sk_ASN1_INTEGER_ä“
(
¡
è
	`SKM_sk_ä“
(
ASN1_INTEGER
, (¡))

	)

288 
	#sk_ASN1_INTEGER_num
(
¡
è
	`SKM_sk_num
(
ASN1_INTEGER
, (¡))

	)

289 
	#sk_ASN1_INTEGER_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASN1_INTEGER
, (¡), (i))

	)

290 
	#sk_ASN1_INTEGER_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASN1_INTEGER
, (¡), (i), (v®))

	)

291 
	#sk_ASN1_INTEGER_z”o
(
¡
è
	`SKM_sk_z”o
(
ASN1_INTEGER
, (¡))

	)

292 
	#sk_ASN1_INTEGER_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASN1_INTEGER
, (¡), (v®))

	)

293 
	#sk_ASN1_INTEGER_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASN1_INTEGER
, (¡), (v®))

	)

294 
	#sk_ASN1_INTEGER_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASN1_INTEGER
, (¡), (v®))

	)

295 
	#sk_ASN1_INTEGER_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASN1_INTEGER
, (¡), (v®))

	)

296 
	#sk_ASN1_INTEGER_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASN1_INTEGER
, (¡), (i))

	)

297 
	#sk_ASN1_INTEGER_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASN1_INTEGER
, (¡), (±r))

	)

298 
	#sk_ASN1_INTEGER_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASN1_INTEGER
, (¡), (v®), (i))

	)

299 
	#sk_ASN1_INTEGER_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASN1_INTEGER
, (¡), (cmp))

	)

300 
	#sk_ASN1_INTEGER_dup
(
¡
è
	`SKM_sk_dup
(
ASN1_INTEGER
, st)

	)

301 
	#sk_ASN1_INTEGER_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASN1_INTEGER
, (¡), (ä“_func))

	)

302 
	#sk_ASN1_INTEGER_shiá
(
¡
è
	`SKM_sk_shiá
(
ASN1_INTEGER
, (¡))

	)

303 
	#sk_ASN1_INTEGER_pİ
(
¡
è
	`SKM_sk_pİ
(
ASN1_INTEGER
, (¡))

	)

304 
	#sk_ASN1_INTEGER_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASN1_INTEGER
, (¡))

	)

305 
	#sk_ASN1_INTEGER_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASN1_INTEGER
, (¡))

	)

307 
	#sk_ASN1_OBJECT_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASN1_OBJECT
, (¡))

	)

308 
	#sk_ASN1_OBJECT_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASN1_OBJECT
)

	)

309 
	#sk_ASN1_OBJECT_ä“
(
¡
è
	`SKM_sk_ä“
(
ASN1_OBJECT
, (¡))

	)

310 
	#sk_ASN1_OBJECT_num
(
¡
è
	`SKM_sk_num
(
ASN1_OBJECT
, (¡))

	)

311 
	#sk_ASN1_OBJECT_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASN1_OBJECT
, (¡), (i))

	)

312 
	#sk_ASN1_OBJECT_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASN1_OBJECT
, (¡), (i), (v®))

	)

313 
	#sk_ASN1_OBJECT_z”o
(
¡
è
	`SKM_sk_z”o
(
ASN1_OBJECT
, (¡))

	)

314 
	#sk_ASN1_OBJECT_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASN1_OBJECT
, (¡), (v®))

	)

315 
	#sk_ASN1_OBJECT_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASN1_OBJECT
, (¡), (v®))

	)

316 
	#sk_ASN1_OBJECT_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASN1_OBJECT
, (¡), (v®))

	)

317 
	#sk_ASN1_OBJECT_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASN1_OBJECT
, (¡), (v®))

	)

318 
	#sk_ASN1_OBJECT_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASN1_OBJECT
, (¡), (i))

	)

319 
	#sk_ASN1_OBJECT_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASN1_OBJECT
, (¡), (±r))

	)

320 
	#sk_ASN1_OBJECT_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASN1_OBJECT
, (¡), (v®), (i))

	)

321 
	#sk_ASN1_OBJECT_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASN1_OBJECT
, (¡), (cmp))

	)

322 
	#sk_ASN1_OBJECT_dup
(
¡
è
	`SKM_sk_dup
(
ASN1_OBJECT
, st)

	)

323 
	#sk_ASN1_OBJECT_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASN1_OBJECT
, (¡), (ä“_func))

	)

324 
	#sk_ASN1_OBJECT_shiá
(
¡
è
	`SKM_sk_shiá
(
ASN1_OBJECT
, (¡))

	)

325 
	#sk_ASN1_OBJECT_pİ
(
¡
è
	`SKM_sk_pİ
(
ASN1_OBJECT
, (¡))

	)

326 
	#sk_ASN1_OBJECT_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASN1_OBJECT
, (¡))

	)

327 
	#sk_ASN1_OBJECT_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASN1_OBJECT
, (¡))

	)

329 
	#sk_ASN1_STRING_TABLE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASN1_STRING_TABLE
, (¡))

	)

330 
	#sk_ASN1_STRING_TABLE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASN1_STRING_TABLE
)

	)

331 
	#sk_ASN1_STRING_TABLE_ä“
(
¡
è
	`SKM_sk_ä“
(
ASN1_STRING_TABLE
, (¡))

	)

332 
	#sk_ASN1_STRING_TABLE_num
(
¡
è
	`SKM_sk_num
(
ASN1_STRING_TABLE
, (¡))

	)

333 
	#sk_ASN1_STRING_TABLE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASN1_STRING_TABLE
, (¡), (i))

	)

334 
	#sk_ASN1_STRING_TABLE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASN1_STRING_TABLE
, (¡), (i), (v®))

	)

335 
	#sk_ASN1_STRING_TABLE_z”o
(
¡
è
	`SKM_sk_z”o
(
ASN1_STRING_TABLE
, (¡))

	)

336 
	#sk_ASN1_STRING_TABLE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASN1_STRING_TABLE
, (¡), (v®))

	)

337 
	#sk_ASN1_STRING_TABLE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASN1_STRING_TABLE
, (¡), (v®))

	)

338 
	#sk_ASN1_STRING_TABLE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASN1_STRING_TABLE
, (¡), (v®))

	)

339 
	#sk_ASN1_STRING_TABLE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASN1_STRING_TABLE
, (¡), (v®))

	)

340 
	#sk_ASN1_STRING_TABLE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASN1_STRING_TABLE
, (¡), (i))

	)

341 
	#sk_ASN1_STRING_TABLE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASN1_STRING_TABLE
, (¡), (±r))

	)

342 
	#sk_ASN1_STRING_TABLE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASN1_STRING_TABLE
, (¡), (v®), (i))

	)

343 
	#sk_ASN1_STRING_TABLE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASN1_STRING_TABLE
, (¡), (cmp))

	)

344 
	#sk_ASN1_STRING_TABLE_dup
(
¡
è
	`SKM_sk_dup
(
ASN1_STRING_TABLE
, st)

	)

345 
	#sk_ASN1_STRING_TABLE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASN1_STRING_TABLE
, (¡), (ä“_func))

	)

346 
	#sk_ASN1_STRING_TABLE_shiá
(
¡
è
	`SKM_sk_shiá
(
ASN1_STRING_TABLE
, (¡))

	)

347 
	#sk_ASN1_STRING_TABLE_pİ
(
¡
è
	`SKM_sk_pİ
(
ASN1_STRING_TABLE
, (¡))

	)

348 
	#sk_ASN1_STRING_TABLE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASN1_STRING_TABLE
, (¡))

	)

349 
	#sk_ASN1_STRING_TABLE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASN1_STRING_TABLE
, (¡))

	)

351 
	#sk_ASN1_TYPE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASN1_TYPE
, (¡))

	)

352 
	#sk_ASN1_TYPE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASN1_TYPE
)

	)

353 
	#sk_ASN1_TYPE_ä“
(
¡
è
	`SKM_sk_ä“
(
ASN1_TYPE
, (¡))

	)

354 
	#sk_ASN1_TYPE_num
(
¡
è
	`SKM_sk_num
(
ASN1_TYPE
, (¡))

	)

355 
	#sk_ASN1_TYPE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASN1_TYPE
, (¡), (i))

	)

356 
	#sk_ASN1_TYPE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASN1_TYPE
, (¡), (i), (v®))

	)

357 
	#sk_ASN1_TYPE_z”o
(
¡
è
	`SKM_sk_z”o
(
ASN1_TYPE
, (¡))

	)

358 
	#sk_ASN1_TYPE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASN1_TYPE
, (¡), (v®))

	)

359 
	#sk_ASN1_TYPE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASN1_TYPE
, (¡), (v®))

	)

360 
	#sk_ASN1_TYPE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASN1_TYPE
, (¡), (v®))

	)

361 
	#sk_ASN1_TYPE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASN1_TYPE
, (¡), (v®))

	)

362 
	#sk_ASN1_TYPE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASN1_TYPE
, (¡), (i))

	)

363 
	#sk_ASN1_TYPE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASN1_TYPE
, (¡), (±r))

	)

364 
	#sk_ASN1_TYPE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASN1_TYPE
, (¡), (v®), (i))

	)

365 
	#sk_ASN1_TYPE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASN1_TYPE
, (¡), (cmp))

	)

366 
	#sk_ASN1_TYPE_dup
(
¡
è
	`SKM_sk_dup
(
ASN1_TYPE
, st)

	)

367 
	#sk_ASN1_TYPE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASN1_TYPE
, (¡), (ä“_func))

	)

368 
	#sk_ASN1_TYPE_shiá
(
¡
è
	`SKM_sk_shiá
(
ASN1_TYPE
, (¡))

	)

369 
	#sk_ASN1_TYPE_pİ
(
¡
è
	`SKM_sk_pİ
(
ASN1_TYPE
, (¡))

	)

370 
	#sk_ASN1_TYPE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASN1_TYPE
, (¡))

	)

371 
	#sk_ASN1_TYPE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASN1_TYPE
, (¡))

	)

373 
	#sk_ASN1_VALUE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ASN1_VALUE
, (¡))

	)

374 
	#sk_ASN1_VALUE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ASN1_VALUE
)

	)

375 
	#sk_ASN1_VALUE_ä“
(
¡
è
	`SKM_sk_ä“
(
ASN1_VALUE
, (¡))

	)

376 
	#sk_ASN1_VALUE_num
(
¡
è
	`SKM_sk_num
(
ASN1_VALUE
, (¡))

	)

377 
	#sk_ASN1_VALUE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ASN1_VALUE
, (¡), (i))

	)

378 
	#sk_ASN1_VALUE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ASN1_VALUE
, (¡), (i), (v®))

	)

379 
	#sk_ASN1_VALUE_z”o
(
¡
è
	`SKM_sk_z”o
(
ASN1_VALUE
, (¡))

	)

380 
	#sk_ASN1_VALUE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ASN1_VALUE
, (¡), (v®))

	)

381 
	#sk_ASN1_VALUE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ASN1_VALUE
, (¡), (v®))

	)

382 
	#sk_ASN1_VALUE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ASN1_VALUE
, (¡), (v®))

	)

383 
	#sk_ASN1_VALUE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ASN1_VALUE
, (¡), (v®))

	)

384 
	#sk_ASN1_VALUE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ASN1_VALUE
, (¡), (i))

	)

385 
	#sk_ASN1_VALUE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ASN1_VALUE
, (¡), (±r))

	)

386 
	#sk_ASN1_VALUE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ASN1_VALUE
, (¡), (v®), (i))

	)

387 
	#sk_ASN1_VALUE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ASN1_VALUE
, (¡), (cmp))

	)

388 
	#sk_ASN1_VALUE_dup
(
¡
è
	`SKM_sk_dup
(
ASN1_VALUE
, st)

	)

389 
	#sk_ASN1_VALUE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ASN1_VALUE
, (¡), (ä“_func))

	)

390 
	#sk_ASN1_VALUE_shiá
(
¡
è
	`SKM_sk_shiá
(
ASN1_VALUE
, (¡))

	)

391 
	#sk_ASN1_VALUE_pİ
(
¡
è
	`SKM_sk_pİ
(
ASN1_VALUE
, (¡))

	)

392 
	#sk_ASN1_VALUE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ASN1_VALUE
, (¡))

	)

393 
	#sk_ASN1_VALUE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ASN1_VALUE
, (¡))

	)

395 
	#sk_BIO_Ãw
(
¡
è
	`SKM_sk_Ãw
(
BIO
, (¡))

	)

396 
	#sk_BIO_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
BIO
)

	)

397 
	#sk_BIO_ä“
(
¡
è
	`SKM_sk_ä“
(
BIO
, (¡))

	)

398 
	#sk_BIO_num
(
¡
è
	`SKM_sk_num
(
BIO
, (¡))

	)

399 
	#sk_BIO_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
BIO
, (¡), (i))

	)

400 
	#sk_BIO_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
BIO
, (¡), (i), (v®))

	)

401 
	#sk_BIO_z”o
(
¡
è
	`SKM_sk_z”o
(
BIO
, (¡))

	)

402 
	#sk_BIO_push
(
¡
, 
v®
è
	`SKM_sk_push
(
BIO
, (¡), (v®))

	)

403 
	#sk_BIO_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
BIO
, (¡), (v®))

	)

404 
	#sk_BIO_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
BIO
, (¡), (v®))

	)

405 
	#sk_BIO_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
BIO
, (¡), (v®))

	)

406 
	#sk_BIO_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
BIO
, (¡), (i))

	)

407 
	#sk_BIO_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
BIO
, (¡), (±r))

	)

408 
	#sk_BIO_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
BIO
, (¡), (v®), (i))

	)

409 
	#sk_BIO_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
BIO
, (¡), (cmp))

	)

410 
	#sk_BIO_dup
(
¡
è
	`SKM_sk_dup
(
BIO
, st)

	)

411 
	#sk_BIO_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
BIO
, (¡), (ä“_func))

	)

412 
	#sk_BIO_shiá
(
¡
è
	`SKM_sk_shiá
(
BIO
, (¡))

	)

413 
	#sk_BIO_pİ
(
¡
è
	`SKM_sk_pİ
(
BIO
, (¡))

	)

414 
	#sk_BIO_sÜt
(
¡
è
	`SKM_sk_sÜt
(
BIO
, (¡))

	)

415 
	#sk_BIO_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
BIO
, (¡))

	)

417 
	#sk_CMS_C”tifiÿ‹Choiûs_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

418 
	#sk_CMS_C”tifiÿ‹Choiûs_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CMS_C”tifiÿ‹Choiûs
)

	)

419 
	#sk_CMS_C”tifiÿ‹Choiûs_ä“
(
¡
è
	`SKM_sk_ä“
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

420 
	#sk_CMS_C”tifiÿ‹Choiûs_num
(
¡
è
	`SKM_sk_num
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

421 
	#sk_CMS_C”tifiÿ‹Choiûs_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CMS_C”tifiÿ‹Choiûs
, (¡), (i))

	)

422 
	#sk_CMS_C”tifiÿ‹Choiûs_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CMS_C”tifiÿ‹Choiûs
, (¡), (i), (v®))

	)

423 
	#sk_CMS_C”tifiÿ‹Choiûs_z”o
(
¡
è
	`SKM_sk_z”o
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

424 
	#sk_CMS_C”tifiÿ‹Choiûs_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CMS_C”tifiÿ‹Choiûs
, (¡), (v®))

	)

425 
	#sk_CMS_C”tifiÿ‹Choiûs_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CMS_C”tifiÿ‹Choiûs
, (¡), (v®))

	)

426 
	#sk_CMS_C”tifiÿ‹Choiûs_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CMS_C”tifiÿ‹Choiûs
, (¡), (v®))

	)

427 
	#sk_CMS_C”tifiÿ‹Choiûs_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CMS_C”tifiÿ‹Choiûs
, (¡), (v®))

	)

428 
	#sk_CMS_C”tifiÿ‹Choiûs_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CMS_C”tifiÿ‹Choiûs
, (¡), (i))

	)

429 
	#sk_CMS_C”tifiÿ‹Choiûs_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CMS_C”tifiÿ‹Choiûs
, (¡), (±r))

	)

430 
	#sk_CMS_C”tifiÿ‹Choiûs_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CMS_C”tifiÿ‹Choiûs
, (¡), (v®), (i))

	)

431 
	#sk_CMS_C”tifiÿ‹Choiûs_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CMS_C”tifiÿ‹Choiûs
, (¡), (cmp))

	)

432 
	#sk_CMS_C”tifiÿ‹Choiûs_dup
(
¡
è
	`SKM_sk_dup
(
CMS_C”tifiÿ‹Choiûs
, st)

	)

433 
	#sk_CMS_C”tifiÿ‹Choiûs_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CMS_C”tifiÿ‹Choiûs
, (¡), (ä“_func))

	)

434 
	#sk_CMS_C”tifiÿ‹Choiûs_shiá
(
¡
è
	`SKM_sk_shiá
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

435 
	#sk_CMS_C”tifiÿ‹Choiûs_pİ
(
¡
è
	`SKM_sk_pİ
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

436 
	#sk_CMS_C”tifiÿ‹Choiûs_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

437 
	#sk_CMS_C”tifiÿ‹Choiûs_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CMS_C”tifiÿ‹Choiûs
, (¡))

	)

439 
	#sk_CMS_Rec›ÁInfo_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CMS_Rec›ÁInfo
, (¡))

	)

440 
	#sk_CMS_Rec›ÁInfo_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CMS_Rec›ÁInfo
)

	)

441 
	#sk_CMS_Rec›ÁInfo_ä“
(
¡
è
	`SKM_sk_ä“
(
CMS_Rec›ÁInfo
, (¡))

	)

442 
	#sk_CMS_Rec›ÁInfo_num
(
¡
è
	`SKM_sk_num
(
CMS_Rec›ÁInfo
, (¡))

	)

443 
	#sk_CMS_Rec›ÁInfo_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CMS_Rec›ÁInfo
, (¡), (i))

	)

444 
	#sk_CMS_Rec›ÁInfo_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CMS_Rec›ÁInfo
, (¡), (i), (v®))

	)

445 
	#sk_CMS_Rec›ÁInfo_z”o
(
¡
è
	`SKM_sk_z”o
(
CMS_Rec›ÁInfo
, (¡))

	)

446 
	#sk_CMS_Rec›ÁInfo_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CMS_Rec›ÁInfo
, (¡), (v®))

	)

447 
	#sk_CMS_Rec›ÁInfo_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CMS_Rec›ÁInfo
, (¡), (v®))

	)

448 
	#sk_CMS_Rec›ÁInfo_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CMS_Rec›ÁInfo
, (¡), (v®))

	)

449 
	#sk_CMS_Rec›ÁInfo_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CMS_Rec›ÁInfo
, (¡), (v®))

	)

450 
	#sk_CMS_Rec›ÁInfo_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CMS_Rec›ÁInfo
, (¡), (i))

	)

451 
	#sk_CMS_Rec›ÁInfo_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CMS_Rec›ÁInfo
, (¡), (±r))

	)

452 
	#sk_CMS_Rec›ÁInfo_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CMS_Rec›ÁInfo
, (¡), (v®), (i))

	)

453 
	#sk_CMS_Rec›ÁInfo_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CMS_Rec›ÁInfo
, (¡), (cmp))

	)

454 
	#sk_CMS_Rec›ÁInfo_dup
(
¡
è
	`SKM_sk_dup
(
CMS_Rec›ÁInfo
, st)

	)

455 
	#sk_CMS_Rec›ÁInfo_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CMS_Rec›ÁInfo
, (¡), (ä“_func))

	)

456 
	#sk_CMS_Rec›ÁInfo_shiá
(
¡
è
	`SKM_sk_shiá
(
CMS_Rec›ÁInfo
, (¡))

	)

457 
	#sk_CMS_Rec›ÁInfo_pİ
(
¡
è
	`SKM_sk_pİ
(
CMS_Rec›ÁInfo
, (¡))

	)

458 
	#sk_CMS_Rec›ÁInfo_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CMS_Rec›ÁInfo
, (¡))

	)

459 
	#sk_CMS_Rec›ÁInfo_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CMS_Rec›ÁInfo
, (¡))

	)

461 
	#sk_CMS_RevoÿtiÚInfoChoiû_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

462 
	#sk_CMS_RevoÿtiÚInfoChoiû_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CMS_RevoÿtiÚInfoChoiû
)

	)

463 
	#sk_CMS_RevoÿtiÚInfoChoiû_ä“
(
¡
è
	`SKM_sk_ä“
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

464 
	#sk_CMS_RevoÿtiÚInfoChoiû_num
(
¡
è
	`SKM_sk_num
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

465 
	#sk_CMS_RevoÿtiÚInfoChoiû_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (i))

	)

466 
	#sk_CMS_RevoÿtiÚInfoChoiû_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (i), (v®))

	)

467 
	#sk_CMS_RevoÿtiÚInfoChoiû_z”o
(
¡
è
	`SKM_sk_z”o
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

468 
	#sk_CMS_RevoÿtiÚInfoChoiû_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (v®))

	)

469 
	#sk_CMS_RevoÿtiÚInfoChoiû_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (v®))

	)

470 
	#sk_CMS_RevoÿtiÚInfoChoiû_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (v®))

	)

471 
	#sk_CMS_RevoÿtiÚInfoChoiû_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (v®))

	)

472 
	#sk_CMS_RevoÿtiÚInfoChoiû_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (i))

	)

473 
	#sk_CMS_RevoÿtiÚInfoChoiû_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (±r))

	)

474 
	#sk_CMS_RevoÿtiÚInfoChoiû_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (v®), (i))

	)

475 
	#sk_CMS_RevoÿtiÚInfoChoiû_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (cmp))

	)

476 
	#sk_CMS_RevoÿtiÚInfoChoiû_dup
(
¡
è
	`SKM_sk_dup
(
CMS_RevoÿtiÚInfoChoiû
, st)

	)

477 
	#sk_CMS_RevoÿtiÚInfoChoiû_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CMS_RevoÿtiÚInfoChoiû
, (¡), (ä“_func))

	)

478 
	#sk_CMS_RevoÿtiÚInfoChoiû_shiá
(
¡
è
	`SKM_sk_shiá
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

479 
	#sk_CMS_RevoÿtiÚInfoChoiû_pİ
(
¡
è
	`SKM_sk_pİ
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

480 
	#sk_CMS_RevoÿtiÚInfoChoiû_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

481 
	#sk_CMS_RevoÿtiÚInfoChoiû_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CMS_RevoÿtiÚInfoChoiû
, (¡))

	)

483 
	#sk_CMS_SigÃrInfo_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CMS_SigÃrInfo
, (¡))

	)

484 
	#sk_CMS_SigÃrInfo_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CMS_SigÃrInfo
)

	)

485 
	#sk_CMS_SigÃrInfo_ä“
(
¡
è
	`SKM_sk_ä“
(
CMS_SigÃrInfo
, (¡))

	)

486 
	#sk_CMS_SigÃrInfo_num
(
¡
è
	`SKM_sk_num
(
CMS_SigÃrInfo
, (¡))

	)

487 
	#sk_CMS_SigÃrInfo_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CMS_SigÃrInfo
, (¡), (i))

	)

488 
	#sk_CMS_SigÃrInfo_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CMS_SigÃrInfo
, (¡), (i), (v®))

	)

489 
	#sk_CMS_SigÃrInfo_z”o
(
¡
è
	`SKM_sk_z”o
(
CMS_SigÃrInfo
, (¡))

	)

490 
	#sk_CMS_SigÃrInfo_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CMS_SigÃrInfo
, (¡), (v®))

	)

491 
	#sk_CMS_SigÃrInfo_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CMS_SigÃrInfo
, (¡), (v®))

	)

492 
	#sk_CMS_SigÃrInfo_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CMS_SigÃrInfo
, (¡), (v®))

	)

493 
	#sk_CMS_SigÃrInfo_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CMS_SigÃrInfo
, (¡), (v®))

	)

494 
	#sk_CMS_SigÃrInfo_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CMS_SigÃrInfo
, (¡), (i))

	)

495 
	#sk_CMS_SigÃrInfo_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CMS_SigÃrInfo
, (¡), (±r))

	)

496 
	#sk_CMS_SigÃrInfo_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CMS_SigÃrInfo
, (¡), (v®), (i))

	)

497 
	#sk_CMS_SigÃrInfo_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CMS_SigÃrInfo
, (¡), (cmp))

	)

498 
	#sk_CMS_SigÃrInfo_dup
(
¡
è
	`SKM_sk_dup
(
CMS_SigÃrInfo
, st)

	)

499 
	#sk_CMS_SigÃrInfo_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CMS_SigÃrInfo
, (¡), (ä“_func))

	)

500 
	#sk_CMS_SigÃrInfo_shiá
(
¡
è
	`SKM_sk_shiá
(
CMS_SigÃrInfo
, (¡))

	)

501 
	#sk_CMS_SigÃrInfo_pİ
(
¡
è
	`SKM_sk_pİ
(
CMS_SigÃrInfo
, (¡))

	)

502 
	#sk_CMS_SigÃrInfo_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CMS_SigÃrInfo
, (¡))

	)

503 
	#sk_CMS_SigÃrInfo_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CMS_SigÃrInfo
, (¡))

	)

505 
	#sk_CONF_IMODULE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CONF_IMODULE
, (¡))

	)

506 
	#sk_CONF_IMODULE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CONF_IMODULE
)

	)

507 
	#sk_CONF_IMODULE_ä“
(
¡
è
	`SKM_sk_ä“
(
CONF_IMODULE
, (¡))

	)

508 
	#sk_CONF_IMODULE_num
(
¡
è
	`SKM_sk_num
(
CONF_IMODULE
, (¡))

	)

509 
	#sk_CONF_IMODULE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CONF_IMODULE
, (¡), (i))

	)

510 
	#sk_CONF_IMODULE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CONF_IMODULE
, (¡), (i), (v®))

	)

511 
	#sk_CONF_IMODULE_z”o
(
¡
è
	`SKM_sk_z”o
(
CONF_IMODULE
, (¡))

	)

512 
	#sk_CONF_IMODULE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CONF_IMODULE
, (¡), (v®))

	)

513 
	#sk_CONF_IMODULE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CONF_IMODULE
, (¡), (v®))

	)

514 
	#sk_CONF_IMODULE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CONF_IMODULE
, (¡), (v®))

	)

515 
	#sk_CONF_IMODULE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CONF_IMODULE
, (¡), (v®))

	)

516 
	#sk_CONF_IMODULE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CONF_IMODULE
, (¡), (i))

	)

517 
	#sk_CONF_IMODULE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CONF_IMODULE
, (¡), (±r))

	)

518 
	#sk_CONF_IMODULE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CONF_IMODULE
, (¡), (v®), (i))

	)

519 
	#sk_CONF_IMODULE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CONF_IMODULE
, (¡), (cmp))

	)

520 
	#sk_CONF_IMODULE_dup
(
¡
è
	`SKM_sk_dup
(
CONF_IMODULE
, st)

	)

521 
	#sk_CONF_IMODULE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CONF_IMODULE
, (¡), (ä“_func))

	)

522 
	#sk_CONF_IMODULE_shiá
(
¡
è
	`SKM_sk_shiá
(
CONF_IMODULE
, (¡))

	)

523 
	#sk_CONF_IMODULE_pİ
(
¡
è
	`SKM_sk_pİ
(
CONF_IMODULE
, (¡))

	)

524 
	#sk_CONF_IMODULE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CONF_IMODULE
, (¡))

	)

525 
	#sk_CONF_IMODULE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CONF_IMODULE
, (¡))

	)

527 
	#sk_CONF_MODULE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CONF_MODULE
, (¡))

	)

528 
	#sk_CONF_MODULE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CONF_MODULE
)

	)

529 
	#sk_CONF_MODULE_ä“
(
¡
è
	`SKM_sk_ä“
(
CONF_MODULE
, (¡))

	)

530 
	#sk_CONF_MODULE_num
(
¡
è
	`SKM_sk_num
(
CONF_MODULE
, (¡))

	)

531 
	#sk_CONF_MODULE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CONF_MODULE
, (¡), (i))

	)

532 
	#sk_CONF_MODULE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CONF_MODULE
, (¡), (i), (v®))

	)

533 
	#sk_CONF_MODULE_z”o
(
¡
è
	`SKM_sk_z”o
(
CONF_MODULE
, (¡))

	)

534 
	#sk_CONF_MODULE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CONF_MODULE
, (¡), (v®))

	)

535 
	#sk_CONF_MODULE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CONF_MODULE
, (¡), (v®))

	)

536 
	#sk_CONF_MODULE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CONF_MODULE
, (¡), (v®))

	)

537 
	#sk_CONF_MODULE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CONF_MODULE
, (¡), (v®))

	)

538 
	#sk_CONF_MODULE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CONF_MODULE
, (¡), (i))

	)

539 
	#sk_CONF_MODULE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CONF_MODULE
, (¡), (±r))

	)

540 
	#sk_CONF_MODULE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CONF_MODULE
, (¡), (v®), (i))

	)

541 
	#sk_CONF_MODULE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CONF_MODULE
, (¡), (cmp))

	)

542 
	#sk_CONF_MODULE_dup
(
¡
è
	`SKM_sk_dup
(
CONF_MODULE
, st)

	)

543 
	#sk_CONF_MODULE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CONF_MODULE
, (¡), (ä“_func))

	)

544 
	#sk_CONF_MODULE_shiá
(
¡
è
	`SKM_sk_shiá
(
CONF_MODULE
, (¡))

	)

545 
	#sk_CONF_MODULE_pİ
(
¡
è
	`SKM_sk_pİ
(
CONF_MODULE
, (¡))

	)

546 
	#sk_CONF_MODULE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CONF_MODULE
, (¡))

	)

547 
	#sk_CONF_MODULE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CONF_MODULE
, (¡))

	)

549 
	#sk_CONF_VALUE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CONF_VALUE
, (¡))

	)

550 
	#sk_CONF_VALUE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CONF_VALUE
)

	)

551 
	#sk_CONF_VALUE_ä“
(
¡
è
	`SKM_sk_ä“
(
CONF_VALUE
, (¡))

	)

552 
	#sk_CONF_VALUE_num
(
¡
è
	`SKM_sk_num
(
CONF_VALUE
, (¡))

	)

553 
	#sk_CONF_VALUE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CONF_VALUE
, (¡), (i))

	)

554 
	#sk_CONF_VALUE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CONF_VALUE
, (¡), (i), (v®))

	)

555 
	#sk_CONF_VALUE_z”o
(
¡
è
	`SKM_sk_z”o
(
CONF_VALUE
, (¡))

	)

556 
	#sk_CONF_VALUE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CONF_VALUE
, (¡), (v®))

	)

557 
	#sk_CONF_VALUE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CONF_VALUE
, (¡), (v®))

	)

558 
	#sk_CONF_VALUE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CONF_VALUE
, (¡), (v®))

	)

559 
	#sk_CONF_VALUE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CONF_VALUE
, (¡), (v®))

	)

560 
	#sk_CONF_VALUE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CONF_VALUE
, (¡), (i))

	)

561 
	#sk_CONF_VALUE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CONF_VALUE
, (¡), (±r))

	)

562 
	#sk_CONF_VALUE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CONF_VALUE
, (¡), (v®), (i))

	)

563 
	#sk_CONF_VALUE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CONF_VALUE
, (¡), (cmp))

	)

564 
	#sk_CONF_VALUE_dup
(
¡
è
	`SKM_sk_dup
(
CONF_VALUE
, st)

	)

565 
	#sk_CONF_VALUE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CONF_VALUE
, (¡), (ä“_func))

	)

566 
	#sk_CONF_VALUE_shiá
(
¡
è
	`SKM_sk_shiá
(
CONF_VALUE
, (¡))

	)

567 
	#sk_CONF_VALUE_pİ
(
¡
è
	`SKM_sk_pİ
(
CONF_VALUE
, (¡))

	)

568 
	#sk_CONF_VALUE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CONF_VALUE
, (¡))

	)

569 
	#sk_CONF_VALUE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CONF_VALUE
, (¡))

	)

571 
	#sk_CRYPTO_EX_DATA_FUNCS_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

572 
	#sk_CRYPTO_EX_DATA_FUNCS_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CRYPTO_EX_DATA_FUNCS
)

	)

573 
	#sk_CRYPTO_EX_DATA_FUNCS_ä“
(
¡
è
	`SKM_sk_ä“
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

574 
	#sk_CRYPTO_EX_DATA_FUNCS_num
(
¡
è
	`SKM_sk_num
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

575 
	#sk_CRYPTO_EX_DATA_FUNCS_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CRYPTO_EX_DATA_FUNCS
, (¡), (i))

	)

576 
	#sk_CRYPTO_EX_DATA_FUNCS_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CRYPTO_EX_DATA_FUNCS
, (¡), (i), (v®))

	)

577 
	#sk_CRYPTO_EX_DATA_FUNCS_z”o
(
¡
è
	`SKM_sk_z”o
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

578 
	#sk_CRYPTO_EX_DATA_FUNCS_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CRYPTO_EX_DATA_FUNCS
, (¡), (v®))

	)

579 
	#sk_CRYPTO_EX_DATA_FUNCS_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CRYPTO_EX_DATA_FUNCS
, (¡), (v®))

	)

580 
	#sk_CRYPTO_EX_DATA_FUNCS_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CRYPTO_EX_DATA_FUNCS
, (¡), (v®))

	)

581 
	#sk_CRYPTO_EX_DATA_FUNCS_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CRYPTO_EX_DATA_FUNCS
, (¡), (v®))

	)

582 
	#sk_CRYPTO_EX_DATA_FUNCS_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CRYPTO_EX_DATA_FUNCS
, (¡), (i))

	)

583 
	#sk_CRYPTO_EX_DATA_FUNCS_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CRYPTO_EX_DATA_FUNCS
, (¡), (±r))

	)

584 
	#sk_CRYPTO_EX_DATA_FUNCS_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CRYPTO_EX_DATA_FUNCS
, (¡), (v®), (i))

	)

585 
	#sk_CRYPTO_EX_DATA_FUNCS_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CRYPTO_EX_DATA_FUNCS
, (¡), (cmp))

	)

586 
	#sk_CRYPTO_EX_DATA_FUNCS_dup
(
¡
è
	`SKM_sk_dup
(
CRYPTO_EX_DATA_FUNCS
, st)

	)

587 
	#sk_CRYPTO_EX_DATA_FUNCS_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CRYPTO_EX_DATA_FUNCS
, (¡), (ä“_func))

	)

588 
	#sk_CRYPTO_EX_DATA_FUNCS_shiá
(
¡
è
	`SKM_sk_shiá
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

589 
	#sk_CRYPTO_EX_DATA_FUNCS_pİ
(
¡
è
	`SKM_sk_pİ
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

590 
	#sk_CRYPTO_EX_DATA_FUNCS_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

591 
	#sk_CRYPTO_EX_DATA_FUNCS_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CRYPTO_EX_DATA_FUNCS
, (¡))

	)

593 
	#sk_CRYPTO_dyÆock_Ãw
(
¡
è
	`SKM_sk_Ãw
(
CRYPTO_dyÆock
, (¡))

	)

594 
	#sk_CRYPTO_dyÆock_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
CRYPTO_dyÆock
)

	)

595 
	#sk_CRYPTO_dyÆock_ä“
(
¡
è
	`SKM_sk_ä“
(
CRYPTO_dyÆock
, (¡))

	)

596 
	#sk_CRYPTO_dyÆock_num
(
¡
è
	`SKM_sk_num
(
CRYPTO_dyÆock
, (¡))

	)

597 
	#sk_CRYPTO_dyÆock_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
CRYPTO_dyÆock
, (¡), (i))

	)

598 
	#sk_CRYPTO_dyÆock_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
CRYPTO_dyÆock
, (¡), (i), (v®))

	)

599 
	#sk_CRYPTO_dyÆock_z”o
(
¡
è
	`SKM_sk_z”o
(
CRYPTO_dyÆock
, (¡))

	)

600 
	#sk_CRYPTO_dyÆock_push
(
¡
, 
v®
è
	`SKM_sk_push
(
CRYPTO_dyÆock
, (¡), (v®))

	)

601 
	#sk_CRYPTO_dyÆock_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
CRYPTO_dyÆock
, (¡), (v®))

	)

602 
	#sk_CRYPTO_dyÆock_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
CRYPTO_dyÆock
, (¡), (v®))

	)

603 
	#sk_CRYPTO_dyÆock_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
CRYPTO_dyÆock
, (¡), (v®))

	)

604 
	#sk_CRYPTO_dyÆock_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
CRYPTO_dyÆock
, (¡), (i))

	)

605 
	#sk_CRYPTO_dyÆock_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
CRYPTO_dyÆock
, (¡), (±r))

	)

606 
	#sk_CRYPTO_dyÆock_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
CRYPTO_dyÆock
, (¡), (v®), (i))

	)

607 
	#sk_CRYPTO_dyÆock_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
CRYPTO_dyÆock
, (¡), (cmp))

	)

608 
	#sk_CRYPTO_dyÆock_dup
(
¡
è
	`SKM_sk_dup
(
CRYPTO_dyÆock
, st)

	)

609 
	#sk_CRYPTO_dyÆock_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
CRYPTO_dyÆock
, (¡), (ä“_func))

	)

610 
	#sk_CRYPTO_dyÆock_shiá
(
¡
è
	`SKM_sk_shiá
(
CRYPTO_dyÆock
, (¡))

	)

611 
	#sk_CRYPTO_dyÆock_pİ
(
¡
è
	`SKM_sk_pİ
(
CRYPTO_dyÆock
, (¡))

	)

612 
	#sk_CRYPTO_dyÆock_sÜt
(
¡
è
	`SKM_sk_sÜt
(
CRYPTO_dyÆock
, (¡))

	)

613 
	#sk_CRYPTO_dyÆock_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
CRYPTO_dyÆock
, (¡))

	)

615 
	#sk_DIST_POINT_Ãw
(
¡
è
	`SKM_sk_Ãw
(
DIST_POINT
, (¡))

	)

616 
	#sk_DIST_POINT_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
DIST_POINT
)

	)

617 
	#sk_DIST_POINT_ä“
(
¡
è
	`SKM_sk_ä“
(
DIST_POINT
, (¡))

	)

618 
	#sk_DIST_POINT_num
(
¡
è
	`SKM_sk_num
(
DIST_POINT
, (¡))

	)

619 
	#sk_DIST_POINT_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
DIST_POINT
, (¡), (i))

	)

620 
	#sk_DIST_POINT_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
DIST_POINT
, (¡), (i), (v®))

	)

621 
	#sk_DIST_POINT_z”o
(
¡
è
	`SKM_sk_z”o
(
DIST_POINT
, (¡))

	)

622 
	#sk_DIST_POINT_push
(
¡
, 
v®
è
	`SKM_sk_push
(
DIST_POINT
, (¡), (v®))

	)

623 
	#sk_DIST_POINT_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
DIST_POINT
, (¡), (v®))

	)

624 
	#sk_DIST_POINT_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
DIST_POINT
, (¡), (v®))

	)

625 
	#sk_DIST_POINT_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
DIST_POINT
, (¡), (v®))

	)

626 
	#sk_DIST_POINT_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
DIST_POINT
, (¡), (i))

	)

627 
	#sk_DIST_POINT_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
DIST_POINT
, (¡), (±r))

	)

628 
	#sk_DIST_POINT_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
DIST_POINT
, (¡), (v®), (i))

	)

629 
	#sk_DIST_POINT_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
DIST_POINT
, (¡), (cmp))

	)

630 
	#sk_DIST_POINT_dup
(
¡
è
	`SKM_sk_dup
(
DIST_POINT
, st)

	)

631 
	#sk_DIST_POINT_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
DIST_POINT
, (¡), (ä“_func))

	)

632 
	#sk_DIST_POINT_shiá
(
¡
è
	`SKM_sk_shiá
(
DIST_POINT
, (¡))

	)

633 
	#sk_DIST_POINT_pİ
(
¡
è
	`SKM_sk_pİ
(
DIST_POINT
, (¡))

	)

634 
	#sk_DIST_POINT_sÜt
(
¡
è
	`SKM_sk_sÜt
(
DIST_POINT
, (¡))

	)

635 
	#sk_DIST_POINT_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
DIST_POINT
, (¡))

	)

637 
	#sk_ENGINE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ENGINE
, (¡))

	)

638 
	#sk_ENGINE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ENGINE
)

	)

639 
	#sk_ENGINE_ä“
(
¡
è
	`SKM_sk_ä“
(
ENGINE
, (¡))

	)

640 
	#sk_ENGINE_num
(
¡
è
	`SKM_sk_num
(
ENGINE
, (¡))

	)

641 
	#sk_ENGINE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ENGINE
, (¡), (i))

	)

642 
	#sk_ENGINE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ENGINE
, (¡), (i), (v®))

	)

643 
	#sk_ENGINE_z”o
(
¡
è
	`SKM_sk_z”o
(
ENGINE
, (¡))

	)

644 
	#sk_ENGINE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ENGINE
, (¡), (v®))

	)

645 
	#sk_ENGINE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ENGINE
, (¡), (v®))

	)

646 
	#sk_ENGINE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ENGINE
, (¡), (v®))

	)

647 
	#sk_ENGINE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ENGINE
, (¡), (v®))

	)

648 
	#sk_ENGINE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ENGINE
, (¡), (i))

	)

649 
	#sk_ENGINE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ENGINE
, (¡), (±r))

	)

650 
	#sk_ENGINE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ENGINE
, (¡), (v®), (i))

	)

651 
	#sk_ENGINE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ENGINE
, (¡), (cmp))

	)

652 
	#sk_ENGINE_dup
(
¡
è
	`SKM_sk_dup
(
ENGINE
, st)

	)

653 
	#sk_ENGINE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ENGINE
, (¡), (ä“_func))

	)

654 
	#sk_ENGINE_shiá
(
¡
è
	`SKM_sk_shiá
(
ENGINE
, (¡))

	)

655 
	#sk_ENGINE_pİ
(
¡
è
	`SKM_sk_pİ
(
ENGINE
, (¡))

	)

656 
	#sk_ENGINE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ENGINE
, (¡))

	)

657 
	#sk_ENGINE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ENGINE
, (¡))

	)

659 
	#sk_ENGINE_CLEANUP_ITEM_Ãw
(
¡
è
	`SKM_sk_Ãw
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

660 
	#sk_ENGINE_CLEANUP_ITEM_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
ENGINE_CLEANUP_ITEM
)

	)

661 
	#sk_ENGINE_CLEANUP_ITEM_ä“
(
¡
è
	`SKM_sk_ä“
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

662 
	#sk_ENGINE_CLEANUP_ITEM_num
(
¡
è
	`SKM_sk_num
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

663 
	#sk_ENGINE_CLEANUP_ITEM_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
ENGINE_CLEANUP_ITEM
, (¡), (i))

	)

664 
	#sk_ENGINE_CLEANUP_ITEM_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
ENGINE_CLEANUP_ITEM
, (¡), (i), (v®))

	)

665 
	#sk_ENGINE_CLEANUP_ITEM_z”o
(
¡
è
	`SKM_sk_z”o
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

666 
	#sk_ENGINE_CLEANUP_ITEM_push
(
¡
, 
v®
è
	`SKM_sk_push
(
ENGINE_CLEANUP_ITEM
, (¡), (v®))

	)

667 
	#sk_ENGINE_CLEANUP_ITEM_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
ENGINE_CLEANUP_ITEM
, (¡), (v®))

	)

668 
	#sk_ENGINE_CLEANUP_ITEM_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
ENGINE_CLEANUP_ITEM
, (¡), (v®))

	)

669 
	#sk_ENGINE_CLEANUP_ITEM_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
ENGINE_CLEANUP_ITEM
, (¡), (v®))

	)

670 
	#sk_ENGINE_CLEANUP_ITEM_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
ENGINE_CLEANUP_ITEM
, (¡), (i))

	)

671 
	#sk_ENGINE_CLEANUP_ITEM_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
ENGINE_CLEANUP_ITEM
, (¡), (±r))

	)

672 
	#sk_ENGINE_CLEANUP_ITEM_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
ENGINE_CLEANUP_ITEM
, (¡), (v®), (i))

	)

673 
	#sk_ENGINE_CLEANUP_ITEM_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
ENGINE_CLEANUP_ITEM
, (¡), (cmp))

	)

674 
	#sk_ENGINE_CLEANUP_ITEM_dup
(
¡
è
	`SKM_sk_dup
(
ENGINE_CLEANUP_ITEM
, st)

	)

675 
	#sk_ENGINE_CLEANUP_ITEM_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
ENGINE_CLEANUP_ITEM
, (¡), (ä“_func))

	)

676 
	#sk_ENGINE_CLEANUP_ITEM_shiá
(
¡
è
	`SKM_sk_shiá
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

677 
	#sk_ENGINE_CLEANUP_ITEM_pİ
(
¡
è
	`SKM_sk_pİ
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

678 
	#sk_ENGINE_CLEANUP_ITEM_sÜt
(
¡
è
	`SKM_sk_sÜt
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

679 
	#sk_ENGINE_CLEANUP_ITEM_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
ENGINE_CLEANUP_ITEM
, (¡))

	)

681 
	#sk_GENERAL_NAME_Ãw
(
¡
è
	`SKM_sk_Ãw
(
GENERAL_NAME
, (¡))

	)

682 
	#sk_GENERAL_NAME_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
GENERAL_NAME
)

	)

683 
	#sk_GENERAL_NAME_ä“
(
¡
è
	`SKM_sk_ä“
(
GENERAL_NAME
, (¡))

	)

684 
	#sk_GENERAL_NAME_num
(
¡
è
	`SKM_sk_num
(
GENERAL_NAME
, (¡))

	)

685 
	#sk_GENERAL_NAME_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
GENERAL_NAME
, (¡), (i))

	)

686 
	#sk_GENERAL_NAME_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
GENERAL_NAME
, (¡), (i), (v®))

	)

687 
	#sk_GENERAL_NAME_z”o
(
¡
è
	`SKM_sk_z”o
(
GENERAL_NAME
, (¡))

	)

688 
	#sk_GENERAL_NAME_push
(
¡
, 
v®
è
	`SKM_sk_push
(
GENERAL_NAME
, (¡), (v®))

	)

689 
	#sk_GENERAL_NAME_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
GENERAL_NAME
, (¡), (v®))

	)

690 
	#sk_GENERAL_NAME_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
GENERAL_NAME
, (¡), (v®))

	)

691 
	#sk_GENERAL_NAME_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
GENERAL_NAME
, (¡), (v®))

	)

692 
	#sk_GENERAL_NAME_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
GENERAL_NAME
, (¡), (i))

	)

693 
	#sk_GENERAL_NAME_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
GENERAL_NAME
, (¡), (±r))

	)

694 
	#sk_GENERAL_NAME_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
GENERAL_NAME
, (¡), (v®), (i))

	)

695 
	#sk_GENERAL_NAME_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
GENERAL_NAME
, (¡), (cmp))

	)

696 
	#sk_GENERAL_NAME_dup
(
¡
è
	`SKM_sk_dup
(
GENERAL_NAME
, st)

	)

697 
	#sk_GENERAL_NAME_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
GENERAL_NAME
, (¡), (ä“_func))

	)

698 
	#sk_GENERAL_NAME_shiá
(
¡
è
	`SKM_sk_shiá
(
GENERAL_NAME
, (¡))

	)

699 
	#sk_GENERAL_NAME_pİ
(
¡
è
	`SKM_sk_pİ
(
GENERAL_NAME
, (¡))

	)

700 
	#sk_GENERAL_NAME_sÜt
(
¡
è
	`SKM_sk_sÜt
(
GENERAL_NAME
, (¡))

	)

701 
	#sk_GENERAL_NAME_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
GENERAL_NAME
, (¡))

	)

703 
	#sk_GENERAL_NAMES_Ãw
(
¡
è
	`SKM_sk_Ãw
(
GENERAL_NAMES
, (¡))

	)

704 
	#sk_GENERAL_NAMES_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
GENERAL_NAMES
)

	)

705 
	#sk_GENERAL_NAMES_ä“
(
¡
è
	`SKM_sk_ä“
(
GENERAL_NAMES
, (¡))

	)

706 
	#sk_GENERAL_NAMES_num
(
¡
è
	`SKM_sk_num
(
GENERAL_NAMES
, (¡))

	)

707 
	#sk_GENERAL_NAMES_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
GENERAL_NAMES
, (¡), (i))

	)

708 
	#sk_GENERAL_NAMES_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
GENERAL_NAMES
, (¡), (i), (v®))

	)

709 
	#sk_GENERAL_NAMES_z”o
(
¡
è
	`SKM_sk_z”o
(
GENERAL_NAMES
, (¡))

	)

710 
	#sk_GENERAL_NAMES_push
(
¡
, 
v®
è
	`SKM_sk_push
(
GENERAL_NAMES
, (¡), (v®))

	)

711 
	#sk_GENERAL_NAMES_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
GENERAL_NAMES
, (¡), (v®))

	)

712 
	#sk_GENERAL_NAMES_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
GENERAL_NAMES
, (¡), (v®))

	)

713 
	#sk_GENERAL_NAMES_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
GENERAL_NAMES
, (¡), (v®))

	)

714 
	#sk_GENERAL_NAMES_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
GENERAL_NAMES
, (¡), (i))

	)

715 
	#sk_GENERAL_NAMES_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
GENERAL_NAMES
, (¡), (±r))

	)

716 
	#sk_GENERAL_NAMES_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
GENERAL_NAMES
, (¡), (v®), (i))

	)

717 
	#sk_GENERAL_NAMES_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
GENERAL_NAMES
, (¡), (cmp))

	)

718 
	#sk_GENERAL_NAMES_dup
(
¡
è
	`SKM_sk_dup
(
GENERAL_NAMES
, st)

	)

719 
	#sk_GENERAL_NAMES_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
GENERAL_NAMES
, (¡), (ä“_func))

	)

720 
	#sk_GENERAL_NAMES_shiá
(
¡
è
	`SKM_sk_shiá
(
GENERAL_NAMES
, (¡))

	)

721 
	#sk_GENERAL_NAMES_pİ
(
¡
è
	`SKM_sk_pİ
(
GENERAL_NAMES
, (¡))

	)

722 
	#sk_GENERAL_NAMES_sÜt
(
¡
è
	`SKM_sk_sÜt
(
GENERAL_NAMES
, (¡))

	)

723 
	#sk_GENERAL_NAMES_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
GENERAL_NAMES
, (¡))

	)

725 
	#sk_GENERAL_SUBTREE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
GENERAL_SUBTREE
, (¡))

	)

726 
	#sk_GENERAL_SUBTREE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
GENERAL_SUBTREE
)

	)

727 
	#sk_GENERAL_SUBTREE_ä“
(
¡
è
	`SKM_sk_ä“
(
GENERAL_SUBTREE
, (¡))

	)

728 
	#sk_GENERAL_SUBTREE_num
(
¡
è
	`SKM_sk_num
(
GENERAL_SUBTREE
, (¡))

	)

729 
	#sk_GENERAL_SUBTREE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
GENERAL_SUBTREE
, (¡), (i))

	)

730 
	#sk_GENERAL_SUBTREE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
GENERAL_SUBTREE
, (¡), (i), (v®))

	)

731 
	#sk_GENERAL_SUBTREE_z”o
(
¡
è
	`SKM_sk_z”o
(
GENERAL_SUBTREE
, (¡))

	)

732 
	#sk_GENERAL_SUBTREE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
GENERAL_SUBTREE
, (¡), (v®))

	)

733 
	#sk_GENERAL_SUBTREE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
GENERAL_SUBTREE
, (¡), (v®))

	)

734 
	#sk_GENERAL_SUBTREE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
GENERAL_SUBTREE
, (¡), (v®))

	)

735 
	#sk_GENERAL_SUBTREE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
GENERAL_SUBTREE
, (¡), (v®))

	)

736 
	#sk_GENERAL_SUBTREE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
GENERAL_SUBTREE
, (¡), (i))

	)

737 
	#sk_GENERAL_SUBTREE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
GENERAL_SUBTREE
, (¡), (±r))

	)

738 
	#sk_GENERAL_SUBTREE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
GENERAL_SUBTREE
, (¡), (v®), (i))

	)

739 
	#sk_GENERAL_SUBTREE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
GENERAL_SUBTREE
, (¡), (cmp))

	)

740 
	#sk_GENERAL_SUBTREE_dup
(
¡
è
	`SKM_sk_dup
(
GENERAL_SUBTREE
, st)

	)

741 
	#sk_GENERAL_SUBTREE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
GENERAL_SUBTREE
, (¡), (ä“_func))

	)

742 
	#sk_GENERAL_SUBTREE_shiá
(
¡
è
	`SKM_sk_shiá
(
GENERAL_SUBTREE
, (¡))

	)

743 
	#sk_GENERAL_SUBTREE_pİ
(
¡
è
	`SKM_sk_pİ
(
GENERAL_SUBTREE
, (¡))

	)

744 
	#sk_GENERAL_SUBTREE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
GENERAL_SUBTREE
, (¡))

	)

745 
	#sk_GENERAL_SUBTREE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
GENERAL_SUBTREE
, (¡))

	)

747 
	#sk_IPAdd»ssFamy_Ãw
(
¡
è
	`SKM_sk_Ãw
(
IPAdd»ssFamy
, (¡))

	)

748 
	#sk_IPAdd»ssFamy_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
IPAdd»ssFamy
)

	)

749 
	#sk_IPAdd»ssFamy_ä“
(
¡
è
	`SKM_sk_ä“
(
IPAdd»ssFamy
, (¡))

	)

750 
	#sk_IPAdd»ssFamy_num
(
¡
è
	`SKM_sk_num
(
IPAdd»ssFamy
, (¡))

	)

751 
	#sk_IPAdd»ssFamy_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
IPAdd»ssFamy
, (¡), (i))

	)

752 
	#sk_IPAdd»ssFamy_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
IPAdd»ssFamy
, (¡), (i), (v®))

	)

753 
	#sk_IPAdd»ssFamy_z”o
(
¡
è
	`SKM_sk_z”o
(
IPAdd»ssFamy
, (¡))

	)

754 
	#sk_IPAdd»ssFamy_push
(
¡
, 
v®
è
	`SKM_sk_push
(
IPAdd»ssFamy
, (¡), (v®))

	)

755 
	#sk_IPAdd»ssFamy_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
IPAdd»ssFamy
, (¡), (v®))

	)

756 
	#sk_IPAdd»ssFamy_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
IPAdd»ssFamy
, (¡), (v®))

	)

757 
	#sk_IPAdd»ssFamy_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
IPAdd»ssFamy
, (¡), (v®))

	)

758 
	#sk_IPAdd»ssFamy_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
IPAdd»ssFamy
, (¡), (i))

	)

759 
	#sk_IPAdd»ssFamy_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
IPAdd»ssFamy
, (¡), (±r))

	)

760 
	#sk_IPAdd»ssFamy_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
IPAdd»ssFamy
, (¡), (v®), (i))

	)

761 
	#sk_IPAdd»ssFamy_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
IPAdd»ssFamy
, (¡), (cmp))

	)

762 
	#sk_IPAdd»ssFamy_dup
(
¡
è
	`SKM_sk_dup
(
IPAdd»ssFamy
, st)

	)

763 
	#sk_IPAdd»ssFamy_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
IPAdd»ssFamy
, (¡), (ä“_func))

	)

764 
	#sk_IPAdd»ssFamy_shiá
(
¡
è
	`SKM_sk_shiá
(
IPAdd»ssFamy
, (¡))

	)

765 
	#sk_IPAdd»ssFamy_pİ
(
¡
è
	`SKM_sk_pİ
(
IPAdd»ssFamy
, (¡))

	)

766 
	#sk_IPAdd»ssFamy_sÜt
(
¡
è
	`SKM_sk_sÜt
(
IPAdd»ssFamy
, (¡))

	)

767 
	#sk_IPAdd»ssFamy_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
IPAdd»ssFamy
, (¡))

	)

769 
	#sk_IPAdd»ssOrRªge_Ãw
(
¡
è
	`SKM_sk_Ãw
(
IPAdd»ssOrRªge
, (¡))

	)

770 
	#sk_IPAdd»ssOrRªge_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
IPAdd»ssOrRªge
)

	)

771 
	#sk_IPAdd»ssOrRªge_ä“
(
¡
è
	`SKM_sk_ä“
(
IPAdd»ssOrRªge
, (¡))

	)

772 
	#sk_IPAdd»ssOrRªge_num
(
¡
è
	`SKM_sk_num
(
IPAdd»ssOrRªge
, (¡))

	)

773 
	#sk_IPAdd»ssOrRªge_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
IPAdd»ssOrRªge
, (¡), (i))

	)

774 
	#sk_IPAdd»ssOrRªge_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
IPAdd»ssOrRªge
, (¡), (i), (v®))

	)

775 
	#sk_IPAdd»ssOrRªge_z”o
(
¡
è
	`SKM_sk_z”o
(
IPAdd»ssOrRªge
, (¡))

	)

776 
	#sk_IPAdd»ssOrRªge_push
(
¡
, 
v®
è
	`SKM_sk_push
(
IPAdd»ssOrRªge
, (¡), (v®))

	)

777 
	#sk_IPAdd»ssOrRªge_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
IPAdd»ssOrRªge
, (¡), (v®))

	)

778 
	#sk_IPAdd»ssOrRªge_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
IPAdd»ssOrRªge
, (¡), (v®))

	)

779 
	#sk_IPAdd»ssOrRªge_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
IPAdd»ssOrRªge
, (¡), (v®))

	)

780 
	#sk_IPAdd»ssOrRªge_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
IPAdd»ssOrRªge
, (¡), (i))

	)

781 
	#sk_IPAdd»ssOrRªge_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
IPAdd»ssOrRªge
, (¡), (±r))

	)

782 
	#sk_IPAdd»ssOrRªge_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
IPAdd»ssOrRªge
, (¡), (v®), (i))

	)

783 
	#sk_IPAdd»ssOrRªge_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
IPAdd»ssOrRªge
, (¡), (cmp))

	)

784 
	#sk_IPAdd»ssOrRªge_dup
(
¡
è
	`SKM_sk_dup
(
IPAdd»ssOrRªge
, st)

	)

785 
	#sk_IPAdd»ssOrRªge_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
IPAdd»ssOrRªge
, (¡), (ä“_func))

	)

786 
	#sk_IPAdd»ssOrRªge_shiá
(
¡
è
	`SKM_sk_shiá
(
IPAdd»ssOrRªge
, (¡))

	)

787 
	#sk_IPAdd»ssOrRªge_pİ
(
¡
è
	`SKM_sk_pİ
(
IPAdd»ssOrRªge
, (¡))

	)

788 
	#sk_IPAdd»ssOrRªge_sÜt
(
¡
è
	`SKM_sk_sÜt
(
IPAdd»ssOrRªge
, (¡))

	)

789 
	#sk_IPAdd»ssOrRªge_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
IPAdd»ssOrRªge
, (¡))

	)

791 
	#sk_KRB5_APREQBODY_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_APREQBODY
, (¡))

	)

792 
	#sk_KRB5_APREQBODY_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_APREQBODY
)

	)

793 
	#sk_KRB5_APREQBODY_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_APREQBODY
, (¡))

	)

794 
	#sk_KRB5_APREQBODY_num
(
¡
è
	`SKM_sk_num
(
KRB5_APREQBODY
, (¡))

	)

795 
	#sk_KRB5_APREQBODY_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_APREQBODY
, (¡), (i))

	)

796 
	#sk_KRB5_APREQBODY_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_APREQBODY
, (¡), (i), (v®))

	)

797 
	#sk_KRB5_APREQBODY_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_APREQBODY
, (¡))

	)

798 
	#sk_KRB5_APREQBODY_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_APREQBODY
, (¡), (v®))

	)

799 
	#sk_KRB5_APREQBODY_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_APREQBODY
, (¡), (v®))

	)

800 
	#sk_KRB5_APREQBODY_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_APREQBODY
, (¡), (v®))

	)

801 
	#sk_KRB5_APREQBODY_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_APREQBODY
, (¡), (v®))

	)

802 
	#sk_KRB5_APREQBODY_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_APREQBODY
, (¡), (i))

	)

803 
	#sk_KRB5_APREQBODY_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_APREQBODY
, (¡), (±r))

	)

804 
	#sk_KRB5_APREQBODY_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_APREQBODY
, (¡), (v®), (i))

	)

805 
	#sk_KRB5_APREQBODY_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_APREQBODY
, (¡), (cmp))

	)

806 
	#sk_KRB5_APREQBODY_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_APREQBODY
, st)

	)

807 
	#sk_KRB5_APREQBODY_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_APREQBODY
, (¡), (ä“_func))

	)

808 
	#sk_KRB5_APREQBODY_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_APREQBODY
, (¡))

	)

809 
	#sk_KRB5_APREQBODY_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_APREQBODY
, (¡))

	)

810 
	#sk_KRB5_APREQBODY_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_APREQBODY
, (¡))

	)

811 
	#sk_KRB5_APREQBODY_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_APREQBODY
, (¡))

	)

813 
	#sk_KRB5_AUTHDATA_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_AUTHDATA
, (¡))

	)

814 
	#sk_KRB5_AUTHDATA_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_AUTHDATA
)

	)

815 
	#sk_KRB5_AUTHDATA_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_AUTHDATA
, (¡))

	)

816 
	#sk_KRB5_AUTHDATA_num
(
¡
è
	`SKM_sk_num
(
KRB5_AUTHDATA
, (¡))

	)

817 
	#sk_KRB5_AUTHDATA_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_AUTHDATA
, (¡), (i))

	)

818 
	#sk_KRB5_AUTHDATA_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_AUTHDATA
, (¡), (i), (v®))

	)

819 
	#sk_KRB5_AUTHDATA_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_AUTHDATA
, (¡))

	)

820 
	#sk_KRB5_AUTHDATA_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_AUTHDATA
, (¡), (v®))

	)

821 
	#sk_KRB5_AUTHDATA_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_AUTHDATA
, (¡), (v®))

	)

822 
	#sk_KRB5_AUTHDATA_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_AUTHDATA
, (¡), (v®))

	)

823 
	#sk_KRB5_AUTHDATA_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_AUTHDATA
, (¡), (v®))

	)

824 
	#sk_KRB5_AUTHDATA_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_AUTHDATA
, (¡), (i))

	)

825 
	#sk_KRB5_AUTHDATA_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_AUTHDATA
, (¡), (±r))

	)

826 
	#sk_KRB5_AUTHDATA_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_AUTHDATA
, (¡), (v®), (i))

	)

827 
	#sk_KRB5_AUTHDATA_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_AUTHDATA
, (¡), (cmp))

	)

828 
	#sk_KRB5_AUTHDATA_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_AUTHDATA
, st)

	)

829 
	#sk_KRB5_AUTHDATA_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_AUTHDATA
, (¡), (ä“_func))

	)

830 
	#sk_KRB5_AUTHDATA_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_AUTHDATA
, (¡))

	)

831 
	#sk_KRB5_AUTHDATA_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_AUTHDATA
, (¡))

	)

832 
	#sk_KRB5_AUTHDATA_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_AUTHDATA
, (¡))

	)

833 
	#sk_KRB5_AUTHDATA_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_AUTHDATA
, (¡))

	)

835 
	#sk_KRB5_AUTHENTBODY_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_AUTHENTBODY
, (¡))

	)

836 
	#sk_KRB5_AUTHENTBODY_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_AUTHENTBODY
)

	)

837 
	#sk_KRB5_AUTHENTBODY_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_AUTHENTBODY
, (¡))

	)

838 
	#sk_KRB5_AUTHENTBODY_num
(
¡
è
	`SKM_sk_num
(
KRB5_AUTHENTBODY
, (¡))

	)

839 
	#sk_KRB5_AUTHENTBODY_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_AUTHENTBODY
, (¡), (i))

	)

840 
	#sk_KRB5_AUTHENTBODY_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_AUTHENTBODY
, (¡), (i), (v®))

	)

841 
	#sk_KRB5_AUTHENTBODY_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_AUTHENTBODY
, (¡))

	)

842 
	#sk_KRB5_AUTHENTBODY_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_AUTHENTBODY
, (¡), (v®))

	)

843 
	#sk_KRB5_AUTHENTBODY_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_AUTHENTBODY
, (¡), (v®))

	)

844 
	#sk_KRB5_AUTHENTBODY_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_AUTHENTBODY
, (¡), (v®))

	)

845 
	#sk_KRB5_AUTHENTBODY_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_AUTHENTBODY
, (¡), (v®))

	)

846 
	#sk_KRB5_AUTHENTBODY_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_AUTHENTBODY
, (¡), (i))

	)

847 
	#sk_KRB5_AUTHENTBODY_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_AUTHENTBODY
, (¡), (±r))

	)

848 
	#sk_KRB5_AUTHENTBODY_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_AUTHENTBODY
, (¡), (v®), (i))

	)

849 
	#sk_KRB5_AUTHENTBODY_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_AUTHENTBODY
, (¡), (cmp))

	)

850 
	#sk_KRB5_AUTHENTBODY_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_AUTHENTBODY
, st)

	)

851 
	#sk_KRB5_AUTHENTBODY_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_AUTHENTBODY
, (¡), (ä“_func))

	)

852 
	#sk_KRB5_AUTHENTBODY_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_AUTHENTBODY
, (¡))

	)

853 
	#sk_KRB5_AUTHENTBODY_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_AUTHENTBODY
, (¡))

	)

854 
	#sk_KRB5_AUTHENTBODY_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_AUTHENTBODY
, (¡))

	)

855 
	#sk_KRB5_AUTHENTBODY_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_AUTHENTBODY
, (¡))

	)

857 
	#sk_KRB5_CHECKSUM_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_CHECKSUM
, (¡))

	)

858 
	#sk_KRB5_CHECKSUM_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_CHECKSUM
)

	)

859 
	#sk_KRB5_CHECKSUM_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_CHECKSUM
, (¡))

	)

860 
	#sk_KRB5_CHECKSUM_num
(
¡
è
	`SKM_sk_num
(
KRB5_CHECKSUM
, (¡))

	)

861 
	#sk_KRB5_CHECKSUM_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_CHECKSUM
, (¡), (i))

	)

862 
	#sk_KRB5_CHECKSUM_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_CHECKSUM
, (¡), (i), (v®))

	)

863 
	#sk_KRB5_CHECKSUM_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_CHECKSUM
, (¡))

	)

864 
	#sk_KRB5_CHECKSUM_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_CHECKSUM
, (¡), (v®))

	)

865 
	#sk_KRB5_CHECKSUM_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_CHECKSUM
, (¡), (v®))

	)

866 
	#sk_KRB5_CHECKSUM_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_CHECKSUM
, (¡), (v®))

	)

867 
	#sk_KRB5_CHECKSUM_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_CHECKSUM
, (¡), (v®))

	)

868 
	#sk_KRB5_CHECKSUM_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_CHECKSUM
, (¡), (i))

	)

869 
	#sk_KRB5_CHECKSUM_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_CHECKSUM
, (¡), (±r))

	)

870 
	#sk_KRB5_CHECKSUM_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_CHECKSUM
, (¡), (v®), (i))

	)

871 
	#sk_KRB5_CHECKSUM_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_CHECKSUM
, (¡), (cmp))

	)

872 
	#sk_KRB5_CHECKSUM_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_CHECKSUM
, st)

	)

873 
	#sk_KRB5_CHECKSUM_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_CHECKSUM
, (¡), (ä“_func))

	)

874 
	#sk_KRB5_CHECKSUM_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_CHECKSUM
, (¡))

	)

875 
	#sk_KRB5_CHECKSUM_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_CHECKSUM
, (¡))

	)

876 
	#sk_KRB5_CHECKSUM_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_CHECKSUM
, (¡))

	)

877 
	#sk_KRB5_CHECKSUM_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_CHECKSUM
, (¡))

	)

879 
	#sk_KRB5_ENCDATA_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_ENCDATA
, (¡))

	)

880 
	#sk_KRB5_ENCDATA_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_ENCDATA
)

	)

881 
	#sk_KRB5_ENCDATA_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_ENCDATA
, (¡))

	)

882 
	#sk_KRB5_ENCDATA_num
(
¡
è
	`SKM_sk_num
(
KRB5_ENCDATA
, (¡))

	)

883 
	#sk_KRB5_ENCDATA_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_ENCDATA
, (¡), (i))

	)

884 
	#sk_KRB5_ENCDATA_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_ENCDATA
, (¡), (i), (v®))

	)

885 
	#sk_KRB5_ENCDATA_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_ENCDATA
, (¡))

	)

886 
	#sk_KRB5_ENCDATA_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_ENCDATA
, (¡), (v®))

	)

887 
	#sk_KRB5_ENCDATA_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_ENCDATA
, (¡), (v®))

	)

888 
	#sk_KRB5_ENCDATA_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_ENCDATA
, (¡), (v®))

	)

889 
	#sk_KRB5_ENCDATA_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_ENCDATA
, (¡), (v®))

	)

890 
	#sk_KRB5_ENCDATA_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_ENCDATA
, (¡), (i))

	)

891 
	#sk_KRB5_ENCDATA_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_ENCDATA
, (¡), (±r))

	)

892 
	#sk_KRB5_ENCDATA_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_ENCDATA
, (¡), (v®), (i))

	)

893 
	#sk_KRB5_ENCDATA_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_ENCDATA
, (¡), (cmp))

	)

894 
	#sk_KRB5_ENCDATA_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_ENCDATA
, st)

	)

895 
	#sk_KRB5_ENCDATA_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_ENCDATA
, (¡), (ä“_func))

	)

896 
	#sk_KRB5_ENCDATA_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_ENCDATA
, (¡))

	)

897 
	#sk_KRB5_ENCDATA_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_ENCDATA
, (¡))

	)

898 
	#sk_KRB5_ENCDATA_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_ENCDATA
, (¡))

	)

899 
	#sk_KRB5_ENCDATA_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_ENCDATA
, (¡))

	)

901 
	#sk_KRB5_ENCKEY_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_ENCKEY
, (¡))

	)

902 
	#sk_KRB5_ENCKEY_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_ENCKEY
)

	)

903 
	#sk_KRB5_ENCKEY_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_ENCKEY
, (¡))

	)

904 
	#sk_KRB5_ENCKEY_num
(
¡
è
	`SKM_sk_num
(
KRB5_ENCKEY
, (¡))

	)

905 
	#sk_KRB5_ENCKEY_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_ENCKEY
, (¡), (i))

	)

906 
	#sk_KRB5_ENCKEY_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_ENCKEY
, (¡), (i), (v®))

	)

907 
	#sk_KRB5_ENCKEY_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_ENCKEY
, (¡))

	)

908 
	#sk_KRB5_ENCKEY_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_ENCKEY
, (¡), (v®))

	)

909 
	#sk_KRB5_ENCKEY_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_ENCKEY
, (¡), (v®))

	)

910 
	#sk_KRB5_ENCKEY_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_ENCKEY
, (¡), (v®))

	)

911 
	#sk_KRB5_ENCKEY_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_ENCKEY
, (¡), (v®))

	)

912 
	#sk_KRB5_ENCKEY_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_ENCKEY
, (¡), (i))

	)

913 
	#sk_KRB5_ENCKEY_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_ENCKEY
, (¡), (±r))

	)

914 
	#sk_KRB5_ENCKEY_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_ENCKEY
, (¡), (v®), (i))

	)

915 
	#sk_KRB5_ENCKEY_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_ENCKEY
, (¡), (cmp))

	)

916 
	#sk_KRB5_ENCKEY_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_ENCKEY
, st)

	)

917 
	#sk_KRB5_ENCKEY_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_ENCKEY
, (¡), (ä“_func))

	)

918 
	#sk_KRB5_ENCKEY_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_ENCKEY
, (¡))

	)

919 
	#sk_KRB5_ENCKEY_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_ENCKEY
, (¡))

	)

920 
	#sk_KRB5_ENCKEY_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_ENCKEY
, (¡))

	)

921 
	#sk_KRB5_ENCKEY_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_ENCKEY
, (¡))

	)

923 
	#sk_KRB5_PRINCNAME_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_PRINCNAME
, (¡))

	)

924 
	#sk_KRB5_PRINCNAME_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_PRINCNAME
)

	)

925 
	#sk_KRB5_PRINCNAME_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_PRINCNAME
, (¡))

	)

926 
	#sk_KRB5_PRINCNAME_num
(
¡
è
	`SKM_sk_num
(
KRB5_PRINCNAME
, (¡))

	)

927 
	#sk_KRB5_PRINCNAME_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_PRINCNAME
, (¡), (i))

	)

928 
	#sk_KRB5_PRINCNAME_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_PRINCNAME
, (¡), (i), (v®))

	)

929 
	#sk_KRB5_PRINCNAME_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_PRINCNAME
, (¡))

	)

930 
	#sk_KRB5_PRINCNAME_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_PRINCNAME
, (¡), (v®))

	)

931 
	#sk_KRB5_PRINCNAME_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_PRINCNAME
, (¡), (v®))

	)

932 
	#sk_KRB5_PRINCNAME_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_PRINCNAME
, (¡), (v®))

	)

933 
	#sk_KRB5_PRINCNAME_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_PRINCNAME
, (¡), (v®))

	)

934 
	#sk_KRB5_PRINCNAME_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_PRINCNAME
, (¡), (i))

	)

935 
	#sk_KRB5_PRINCNAME_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_PRINCNAME
, (¡), (±r))

	)

936 
	#sk_KRB5_PRINCNAME_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_PRINCNAME
, (¡), (v®), (i))

	)

937 
	#sk_KRB5_PRINCNAME_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_PRINCNAME
, (¡), (cmp))

	)

938 
	#sk_KRB5_PRINCNAME_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_PRINCNAME
, st)

	)

939 
	#sk_KRB5_PRINCNAME_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_PRINCNAME
, (¡), (ä“_func))

	)

940 
	#sk_KRB5_PRINCNAME_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_PRINCNAME
, (¡))

	)

941 
	#sk_KRB5_PRINCNAME_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_PRINCNAME
, (¡))

	)

942 
	#sk_KRB5_PRINCNAME_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_PRINCNAME
, (¡))

	)

943 
	#sk_KRB5_PRINCNAME_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_PRINCNAME
, (¡))

	)

945 
	#sk_KRB5_TKTBODY_Ãw
(
¡
è
	`SKM_sk_Ãw
(
KRB5_TKTBODY
, (¡))

	)

946 
	#sk_KRB5_TKTBODY_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
KRB5_TKTBODY
)

	)

947 
	#sk_KRB5_TKTBODY_ä“
(
¡
è
	`SKM_sk_ä“
(
KRB5_TKTBODY
, (¡))

	)

948 
	#sk_KRB5_TKTBODY_num
(
¡
è
	`SKM_sk_num
(
KRB5_TKTBODY
, (¡))

	)

949 
	#sk_KRB5_TKTBODY_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
KRB5_TKTBODY
, (¡), (i))

	)

950 
	#sk_KRB5_TKTBODY_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
KRB5_TKTBODY
, (¡), (i), (v®))

	)

951 
	#sk_KRB5_TKTBODY_z”o
(
¡
è
	`SKM_sk_z”o
(
KRB5_TKTBODY
, (¡))

	)

952 
	#sk_KRB5_TKTBODY_push
(
¡
, 
v®
è
	`SKM_sk_push
(
KRB5_TKTBODY
, (¡), (v®))

	)

953 
	#sk_KRB5_TKTBODY_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
KRB5_TKTBODY
, (¡), (v®))

	)

954 
	#sk_KRB5_TKTBODY_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
KRB5_TKTBODY
, (¡), (v®))

	)

955 
	#sk_KRB5_TKTBODY_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
KRB5_TKTBODY
, (¡), (v®))

	)

956 
	#sk_KRB5_TKTBODY_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
KRB5_TKTBODY
, (¡), (i))

	)

957 
	#sk_KRB5_TKTBODY_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
KRB5_TKTBODY
, (¡), (±r))

	)

958 
	#sk_KRB5_TKTBODY_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
KRB5_TKTBODY
, (¡), (v®), (i))

	)

959 
	#sk_KRB5_TKTBODY_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
KRB5_TKTBODY
, (¡), (cmp))

	)

960 
	#sk_KRB5_TKTBODY_dup
(
¡
è
	`SKM_sk_dup
(
KRB5_TKTBODY
, st)

	)

961 
	#sk_KRB5_TKTBODY_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
KRB5_TKTBODY
, (¡), (ä“_func))

	)

962 
	#sk_KRB5_TKTBODY_shiá
(
¡
è
	`SKM_sk_shiá
(
KRB5_TKTBODY
, (¡))

	)

963 
	#sk_KRB5_TKTBODY_pİ
(
¡
è
	`SKM_sk_pİ
(
KRB5_TKTBODY
, (¡))

	)

964 
	#sk_KRB5_TKTBODY_sÜt
(
¡
è
	`SKM_sk_sÜt
(
KRB5_TKTBODY
, (¡))

	)

965 
	#sk_KRB5_TKTBODY_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
KRB5_TKTBODY
, (¡))

	)

967 
	#sk_MIME_HEADER_Ãw
(
¡
è
	`SKM_sk_Ãw
(
MIME_HEADER
, (¡))

	)

968 
	#sk_MIME_HEADER_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
MIME_HEADER
)

	)

969 
	#sk_MIME_HEADER_ä“
(
¡
è
	`SKM_sk_ä“
(
MIME_HEADER
, (¡))

	)

970 
	#sk_MIME_HEADER_num
(
¡
è
	`SKM_sk_num
(
MIME_HEADER
, (¡))

	)

971 
	#sk_MIME_HEADER_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
MIME_HEADER
, (¡), (i))

	)

972 
	#sk_MIME_HEADER_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
MIME_HEADER
, (¡), (i), (v®))

	)

973 
	#sk_MIME_HEADER_z”o
(
¡
è
	`SKM_sk_z”o
(
MIME_HEADER
, (¡))

	)

974 
	#sk_MIME_HEADER_push
(
¡
, 
v®
è
	`SKM_sk_push
(
MIME_HEADER
, (¡), (v®))

	)

975 
	#sk_MIME_HEADER_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
MIME_HEADER
, (¡), (v®))

	)

976 
	#sk_MIME_HEADER_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
MIME_HEADER
, (¡), (v®))

	)

977 
	#sk_MIME_HEADER_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
MIME_HEADER
, (¡), (v®))

	)

978 
	#sk_MIME_HEADER_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
MIME_HEADER
, (¡), (i))

	)

979 
	#sk_MIME_HEADER_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
MIME_HEADER
, (¡), (±r))

	)

980 
	#sk_MIME_HEADER_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
MIME_HEADER
, (¡), (v®), (i))

	)

981 
	#sk_MIME_HEADER_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
MIME_HEADER
, (¡), (cmp))

	)

982 
	#sk_MIME_HEADER_dup
(
¡
è
	`SKM_sk_dup
(
MIME_HEADER
, st)

	)

983 
	#sk_MIME_HEADER_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
MIME_HEADER
, (¡), (ä“_func))

	)

984 
	#sk_MIME_HEADER_shiá
(
¡
è
	`SKM_sk_shiá
(
MIME_HEADER
, (¡))

	)

985 
	#sk_MIME_HEADER_pİ
(
¡
è
	`SKM_sk_pİ
(
MIME_HEADER
, (¡))

	)

986 
	#sk_MIME_HEADER_sÜt
(
¡
è
	`SKM_sk_sÜt
(
MIME_HEADER
, (¡))

	)

987 
	#sk_MIME_HEADER_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
MIME_HEADER
, (¡))

	)

989 
	#sk_MIME_PARAM_Ãw
(
¡
è
	`SKM_sk_Ãw
(
MIME_PARAM
, (¡))

	)

990 
	#sk_MIME_PARAM_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
MIME_PARAM
)

	)

991 
	#sk_MIME_PARAM_ä“
(
¡
è
	`SKM_sk_ä“
(
MIME_PARAM
, (¡))

	)

992 
	#sk_MIME_PARAM_num
(
¡
è
	`SKM_sk_num
(
MIME_PARAM
, (¡))

	)

993 
	#sk_MIME_PARAM_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
MIME_PARAM
, (¡), (i))

	)

994 
	#sk_MIME_PARAM_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
MIME_PARAM
, (¡), (i), (v®))

	)

995 
	#sk_MIME_PARAM_z”o
(
¡
è
	`SKM_sk_z”o
(
MIME_PARAM
, (¡))

	)

996 
	#sk_MIME_PARAM_push
(
¡
, 
v®
è
	`SKM_sk_push
(
MIME_PARAM
, (¡), (v®))

	)

997 
	#sk_MIME_PARAM_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
MIME_PARAM
, (¡), (v®))

	)

998 
	#sk_MIME_PARAM_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
MIME_PARAM
, (¡), (v®))

	)

999 
	#sk_MIME_PARAM_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
MIME_PARAM
, (¡), (v®))

	)

1000 
	#sk_MIME_PARAM_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
MIME_PARAM
, (¡), (i))

	)

1001 
	#sk_MIME_PARAM_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
MIME_PARAM
, (¡), (±r))

	)

1002 
	#sk_MIME_PARAM_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
MIME_PARAM
, (¡), (v®), (i))

	)

1003 
	#sk_MIME_PARAM_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
MIME_PARAM
, (¡), (cmp))

	)

1004 
	#sk_MIME_PARAM_dup
(
¡
è
	`SKM_sk_dup
(
MIME_PARAM
, st)

	)

1005 
	#sk_MIME_PARAM_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
MIME_PARAM
, (¡), (ä“_func))

	)

1006 
	#sk_MIME_PARAM_shiá
(
¡
è
	`SKM_sk_shiá
(
MIME_PARAM
, (¡))

	)

1007 
	#sk_MIME_PARAM_pİ
(
¡
è
	`SKM_sk_pİ
(
MIME_PARAM
, (¡))

	)

1008 
	#sk_MIME_PARAM_sÜt
(
¡
è
	`SKM_sk_sÜt
(
MIME_PARAM
, (¡))

	)

1009 
	#sk_MIME_PARAM_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
MIME_PARAM
, (¡))

	)

1011 
	#sk_NAME_FUNCS_Ãw
(
¡
è
	`SKM_sk_Ãw
(
NAME_FUNCS
, (¡))

	)

1012 
	#sk_NAME_FUNCS_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
NAME_FUNCS
)

	)

1013 
	#sk_NAME_FUNCS_ä“
(
¡
è
	`SKM_sk_ä“
(
NAME_FUNCS
, (¡))

	)

1014 
	#sk_NAME_FUNCS_num
(
¡
è
	`SKM_sk_num
(
NAME_FUNCS
, (¡))

	)

1015 
	#sk_NAME_FUNCS_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
NAME_FUNCS
, (¡), (i))

	)

1016 
	#sk_NAME_FUNCS_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
NAME_FUNCS
, (¡), (i), (v®))

	)

1017 
	#sk_NAME_FUNCS_z”o
(
¡
è
	`SKM_sk_z”o
(
NAME_FUNCS
, (¡))

	)

1018 
	#sk_NAME_FUNCS_push
(
¡
, 
v®
è
	`SKM_sk_push
(
NAME_FUNCS
, (¡), (v®))

	)

1019 
	#sk_NAME_FUNCS_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
NAME_FUNCS
, (¡), (v®))

	)

1020 
	#sk_NAME_FUNCS_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
NAME_FUNCS
, (¡), (v®))

	)

1021 
	#sk_NAME_FUNCS_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
NAME_FUNCS
, (¡), (v®))

	)

1022 
	#sk_NAME_FUNCS_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
NAME_FUNCS
, (¡), (i))

	)

1023 
	#sk_NAME_FUNCS_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
NAME_FUNCS
, (¡), (±r))

	)

1024 
	#sk_NAME_FUNCS_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
NAME_FUNCS
, (¡), (v®), (i))

	)

1025 
	#sk_NAME_FUNCS_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
NAME_FUNCS
, (¡), (cmp))

	)

1026 
	#sk_NAME_FUNCS_dup
(
¡
è
	`SKM_sk_dup
(
NAME_FUNCS
, st)

	)

1027 
	#sk_NAME_FUNCS_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
NAME_FUNCS
, (¡), (ä“_func))

	)

1028 
	#sk_NAME_FUNCS_shiá
(
¡
è
	`SKM_sk_shiá
(
NAME_FUNCS
, (¡))

	)

1029 
	#sk_NAME_FUNCS_pİ
(
¡
è
	`SKM_sk_pİ
(
NAME_FUNCS
, (¡))

	)

1030 
	#sk_NAME_FUNCS_sÜt
(
¡
è
	`SKM_sk_sÜt
(
NAME_FUNCS
, (¡))

	)

1031 
	#sk_NAME_FUNCS_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
NAME_FUNCS
, (¡))

	)

1033 
	#sk_OCSP_CERTID_Ãw
(
¡
è
	`SKM_sk_Ãw
(
OCSP_CERTID
, (¡))

	)

1034 
	#sk_OCSP_CERTID_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
OCSP_CERTID
)

	)

1035 
	#sk_OCSP_CERTID_ä“
(
¡
è
	`SKM_sk_ä“
(
OCSP_CERTID
, (¡))

	)

1036 
	#sk_OCSP_CERTID_num
(
¡
è
	`SKM_sk_num
(
OCSP_CERTID
, (¡))

	)

1037 
	#sk_OCSP_CERTID_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
OCSP_CERTID
, (¡), (i))

	)

1038 
	#sk_OCSP_CERTID_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
OCSP_CERTID
, (¡), (i), (v®))

	)

1039 
	#sk_OCSP_CERTID_z”o
(
¡
è
	`SKM_sk_z”o
(
OCSP_CERTID
, (¡))

	)

1040 
	#sk_OCSP_CERTID_push
(
¡
, 
v®
è
	`SKM_sk_push
(
OCSP_CERTID
, (¡), (v®))

	)

1041 
	#sk_OCSP_CERTID_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
OCSP_CERTID
, (¡), (v®))

	)

1042 
	#sk_OCSP_CERTID_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
OCSP_CERTID
, (¡), (v®))

	)

1043 
	#sk_OCSP_CERTID_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
OCSP_CERTID
, (¡), (v®))

	)

1044 
	#sk_OCSP_CERTID_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
OCSP_CERTID
, (¡), (i))

	)

1045 
	#sk_OCSP_CERTID_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
OCSP_CERTID
, (¡), (±r))

	)

1046 
	#sk_OCSP_CERTID_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
OCSP_CERTID
, (¡), (v®), (i))

	)

1047 
	#sk_OCSP_CERTID_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
OCSP_CERTID
, (¡), (cmp))

	)

1048 
	#sk_OCSP_CERTID_dup
(
¡
è
	`SKM_sk_dup
(
OCSP_CERTID
, st)

	)

1049 
	#sk_OCSP_CERTID_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
OCSP_CERTID
, (¡), (ä“_func))

	)

1050 
	#sk_OCSP_CERTID_shiá
(
¡
è
	`SKM_sk_shiá
(
OCSP_CERTID
, (¡))

	)

1051 
	#sk_OCSP_CERTID_pİ
(
¡
è
	`SKM_sk_pİ
(
OCSP_CERTID
, (¡))

	)

1052 
	#sk_OCSP_CERTID_sÜt
(
¡
è
	`SKM_sk_sÜt
(
OCSP_CERTID
, (¡))

	)

1053 
	#sk_OCSP_CERTID_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
OCSP_CERTID
, (¡))

	)

1055 
	#sk_OCSP_ONEREQ_Ãw
(
¡
è
	`SKM_sk_Ãw
(
OCSP_ONEREQ
, (¡))

	)

1056 
	#sk_OCSP_ONEREQ_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
OCSP_ONEREQ
)

	)

1057 
	#sk_OCSP_ONEREQ_ä“
(
¡
è
	`SKM_sk_ä“
(
OCSP_ONEREQ
, (¡))

	)

1058 
	#sk_OCSP_ONEREQ_num
(
¡
è
	`SKM_sk_num
(
OCSP_ONEREQ
, (¡))

	)

1059 
	#sk_OCSP_ONEREQ_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
OCSP_ONEREQ
, (¡), (i))

	)

1060 
	#sk_OCSP_ONEREQ_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
OCSP_ONEREQ
, (¡), (i), (v®))

	)

1061 
	#sk_OCSP_ONEREQ_z”o
(
¡
è
	`SKM_sk_z”o
(
OCSP_ONEREQ
, (¡))

	)

1062 
	#sk_OCSP_ONEREQ_push
(
¡
, 
v®
è
	`SKM_sk_push
(
OCSP_ONEREQ
, (¡), (v®))

	)

1063 
	#sk_OCSP_ONEREQ_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
OCSP_ONEREQ
, (¡), (v®))

	)

1064 
	#sk_OCSP_ONEREQ_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
OCSP_ONEREQ
, (¡), (v®))

	)

1065 
	#sk_OCSP_ONEREQ_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
OCSP_ONEREQ
, (¡), (v®))

	)

1066 
	#sk_OCSP_ONEREQ_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
OCSP_ONEREQ
, (¡), (i))

	)

1067 
	#sk_OCSP_ONEREQ_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
OCSP_ONEREQ
, (¡), (±r))

	)

1068 
	#sk_OCSP_ONEREQ_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
OCSP_ONEREQ
, (¡), (v®), (i))

	)

1069 
	#sk_OCSP_ONEREQ_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
OCSP_ONEREQ
, (¡), (cmp))

	)

1070 
	#sk_OCSP_ONEREQ_dup
(
¡
è
	`SKM_sk_dup
(
OCSP_ONEREQ
, st)

	)

1071 
	#sk_OCSP_ONEREQ_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
OCSP_ONEREQ
, (¡), (ä“_func))

	)

1072 
	#sk_OCSP_ONEREQ_shiá
(
¡
è
	`SKM_sk_shiá
(
OCSP_ONEREQ
, (¡))

	)

1073 
	#sk_OCSP_ONEREQ_pİ
(
¡
è
	`SKM_sk_pİ
(
OCSP_ONEREQ
, (¡))

	)

1074 
	#sk_OCSP_ONEREQ_sÜt
(
¡
è
	`SKM_sk_sÜt
(
OCSP_ONEREQ
, (¡))

	)

1075 
	#sk_OCSP_ONEREQ_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
OCSP_ONEREQ
, (¡))

	)

1077 
	#sk_OCSP_RESPID_Ãw
(
¡
è
	`SKM_sk_Ãw
(
OCSP_RESPID
, (¡))

	)

1078 
	#sk_OCSP_RESPID_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
OCSP_RESPID
)

	)

1079 
	#sk_OCSP_RESPID_ä“
(
¡
è
	`SKM_sk_ä“
(
OCSP_RESPID
, (¡))

	)

1080 
	#sk_OCSP_RESPID_num
(
¡
è
	`SKM_sk_num
(
OCSP_RESPID
, (¡))

	)

1081 
	#sk_OCSP_RESPID_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
OCSP_RESPID
, (¡), (i))

	)

1082 
	#sk_OCSP_RESPID_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
OCSP_RESPID
, (¡), (i), (v®))

	)

1083 
	#sk_OCSP_RESPID_z”o
(
¡
è
	`SKM_sk_z”o
(
OCSP_RESPID
, (¡))

	)

1084 
	#sk_OCSP_RESPID_push
(
¡
, 
v®
è
	`SKM_sk_push
(
OCSP_RESPID
, (¡), (v®))

	)

1085 
	#sk_OCSP_RESPID_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
OCSP_RESPID
, (¡), (v®))

	)

1086 
	#sk_OCSP_RESPID_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
OCSP_RESPID
, (¡), (v®))

	)

1087 
	#sk_OCSP_RESPID_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
OCSP_RESPID
, (¡), (v®))

	)

1088 
	#sk_OCSP_RESPID_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
OCSP_RESPID
, (¡), (i))

	)

1089 
	#sk_OCSP_RESPID_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
OCSP_RESPID
, (¡), (±r))

	)

1090 
	#sk_OCSP_RESPID_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
OCSP_RESPID
, (¡), (v®), (i))

	)

1091 
	#sk_OCSP_RESPID_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
OCSP_RESPID
, (¡), (cmp))

	)

1092 
	#sk_OCSP_RESPID_dup
(
¡
è
	`SKM_sk_dup
(
OCSP_RESPID
, st)

	)

1093 
	#sk_OCSP_RESPID_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
OCSP_RESPID
, (¡), (ä“_func))

	)

1094 
	#sk_OCSP_RESPID_shiá
(
¡
è
	`SKM_sk_shiá
(
OCSP_RESPID
, (¡))

	)

1095 
	#sk_OCSP_RESPID_pİ
(
¡
è
	`SKM_sk_pİ
(
OCSP_RESPID
, (¡))

	)

1096 
	#sk_OCSP_RESPID_sÜt
(
¡
è
	`SKM_sk_sÜt
(
OCSP_RESPID
, (¡))

	)

1097 
	#sk_OCSP_RESPID_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
OCSP_RESPID
, (¡))

	)

1099 
	#sk_OCSP_SINGLERESP_Ãw
(
¡
è
	`SKM_sk_Ãw
(
OCSP_SINGLERESP
, (¡))

	)

1100 
	#sk_OCSP_SINGLERESP_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
OCSP_SINGLERESP
)

	)

1101 
	#sk_OCSP_SINGLERESP_ä“
(
¡
è
	`SKM_sk_ä“
(
OCSP_SINGLERESP
, (¡))

	)

1102 
	#sk_OCSP_SINGLERESP_num
(
¡
è
	`SKM_sk_num
(
OCSP_SINGLERESP
, (¡))

	)

1103 
	#sk_OCSP_SINGLERESP_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
OCSP_SINGLERESP
, (¡), (i))

	)

1104 
	#sk_OCSP_SINGLERESP_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
OCSP_SINGLERESP
, (¡), (i), (v®))

	)

1105 
	#sk_OCSP_SINGLERESP_z”o
(
¡
è
	`SKM_sk_z”o
(
OCSP_SINGLERESP
, (¡))

	)

1106 
	#sk_OCSP_SINGLERESP_push
(
¡
, 
v®
è
	`SKM_sk_push
(
OCSP_SINGLERESP
, (¡), (v®))

	)

1107 
	#sk_OCSP_SINGLERESP_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
OCSP_SINGLERESP
, (¡), (v®))

	)

1108 
	#sk_OCSP_SINGLERESP_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
OCSP_SINGLERESP
, (¡), (v®))

	)

1109 
	#sk_OCSP_SINGLERESP_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
OCSP_SINGLERESP
, (¡), (v®))

	)

1110 
	#sk_OCSP_SINGLERESP_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
OCSP_SINGLERESP
, (¡), (i))

	)

1111 
	#sk_OCSP_SINGLERESP_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
OCSP_SINGLERESP
, (¡), (±r))

	)

1112 
	#sk_OCSP_SINGLERESP_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
OCSP_SINGLERESP
, (¡), (v®), (i))

	)

1113 
	#sk_OCSP_SINGLERESP_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
OCSP_SINGLERESP
, (¡), (cmp))

	)

1114 
	#sk_OCSP_SINGLERESP_dup
(
¡
è
	`SKM_sk_dup
(
OCSP_SINGLERESP
, st)

	)

1115 
	#sk_OCSP_SINGLERESP_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
OCSP_SINGLERESP
, (¡), (ä“_func))

	)

1116 
	#sk_OCSP_SINGLERESP_shiá
(
¡
è
	`SKM_sk_shiá
(
OCSP_SINGLERESP
, (¡))

	)

1117 
	#sk_OCSP_SINGLERESP_pİ
(
¡
è
	`SKM_sk_pİ
(
OCSP_SINGLERESP
, (¡))

	)

1118 
	#sk_OCSP_SINGLERESP_sÜt
(
¡
è
	`SKM_sk_sÜt
(
OCSP_SINGLERESP
, (¡))

	)

1119 
	#sk_OCSP_SINGLERESP_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
OCSP_SINGLERESP
, (¡))

	)

1121 
	#sk_PKCS12_SAFEBAG_Ãw
(
¡
è
	`SKM_sk_Ãw
(
PKCS12_SAFEBAG
, (¡))

	)

1122 
	#sk_PKCS12_SAFEBAG_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
PKCS12_SAFEBAG
)

	)

1123 
	#sk_PKCS12_SAFEBAG_ä“
(
¡
è
	`SKM_sk_ä“
(
PKCS12_SAFEBAG
, (¡))

	)

1124 
	#sk_PKCS12_SAFEBAG_num
(
¡
è
	`SKM_sk_num
(
PKCS12_SAFEBAG
, (¡))

	)

1125 
	#sk_PKCS12_SAFEBAG_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
PKCS12_SAFEBAG
, (¡), (i))

	)

1126 
	#sk_PKCS12_SAFEBAG_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
PKCS12_SAFEBAG
, (¡), (i), (v®))

	)

1127 
	#sk_PKCS12_SAFEBAG_z”o
(
¡
è
	`SKM_sk_z”o
(
PKCS12_SAFEBAG
, (¡))

	)

1128 
	#sk_PKCS12_SAFEBAG_push
(
¡
, 
v®
è
	`SKM_sk_push
(
PKCS12_SAFEBAG
, (¡), (v®))

	)

1129 
	#sk_PKCS12_SAFEBAG_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
PKCS12_SAFEBAG
, (¡), (v®))

	)

1130 
	#sk_PKCS12_SAFEBAG_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
PKCS12_SAFEBAG
, (¡), (v®))

	)

1131 
	#sk_PKCS12_SAFEBAG_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
PKCS12_SAFEBAG
, (¡), (v®))

	)

1132 
	#sk_PKCS12_SAFEBAG_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
PKCS12_SAFEBAG
, (¡), (i))

	)

1133 
	#sk_PKCS12_SAFEBAG_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
PKCS12_SAFEBAG
, (¡), (±r))

	)

1134 
	#sk_PKCS12_SAFEBAG_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
PKCS12_SAFEBAG
, (¡), (v®), (i))

	)

1135 
	#sk_PKCS12_SAFEBAG_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
PKCS12_SAFEBAG
, (¡), (cmp))

	)

1136 
	#sk_PKCS12_SAFEBAG_dup
(
¡
è
	`SKM_sk_dup
(
PKCS12_SAFEBAG
, st)

	)

1137 
	#sk_PKCS12_SAFEBAG_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
PKCS12_SAFEBAG
, (¡), (ä“_func))

	)

1138 
	#sk_PKCS12_SAFEBAG_shiá
(
¡
è
	`SKM_sk_shiá
(
PKCS12_SAFEBAG
, (¡))

	)

1139 
	#sk_PKCS12_SAFEBAG_pİ
(
¡
è
	`SKM_sk_pİ
(
PKCS12_SAFEBAG
, (¡))

	)

1140 
	#sk_PKCS12_SAFEBAG_sÜt
(
¡
è
	`SKM_sk_sÜt
(
PKCS12_SAFEBAG
, (¡))

	)

1141 
	#sk_PKCS12_SAFEBAG_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
PKCS12_SAFEBAG
, (¡))

	)

1143 
	#sk_PKCS7_Ãw
(
¡
è
	`SKM_sk_Ãw
(
PKCS7
, (¡))

	)

1144 
	#sk_PKCS7_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
PKCS7
)

	)

1145 
	#sk_PKCS7_ä“
(
¡
è
	`SKM_sk_ä“
(
PKCS7
, (¡))

	)

1146 
	#sk_PKCS7_num
(
¡
è
	`SKM_sk_num
(
PKCS7
, (¡))

	)

1147 
	#sk_PKCS7_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
PKCS7
, (¡), (i))

	)

1148 
	#sk_PKCS7_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
PKCS7
, (¡), (i), (v®))

	)

1149 
	#sk_PKCS7_z”o
(
¡
è
	`SKM_sk_z”o
(
PKCS7
, (¡))

	)

1150 
	#sk_PKCS7_push
(
¡
, 
v®
è
	`SKM_sk_push
(
PKCS7
, (¡), (v®))

	)

1151 
	#sk_PKCS7_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
PKCS7
, (¡), (v®))

	)

1152 
	#sk_PKCS7_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
PKCS7
, (¡), (v®))

	)

1153 
	#sk_PKCS7_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
PKCS7
, (¡), (v®))

	)

1154 
	#sk_PKCS7_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
PKCS7
, (¡), (i))

	)

1155 
	#sk_PKCS7_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
PKCS7
, (¡), (±r))

	)

1156 
	#sk_PKCS7_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
PKCS7
, (¡), (v®), (i))

	)

1157 
	#sk_PKCS7_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
PKCS7
, (¡), (cmp))

	)

1158 
	#sk_PKCS7_dup
(
¡
è
	`SKM_sk_dup
(
PKCS7
, st)

	)

1159 
	#sk_PKCS7_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
PKCS7
, (¡), (ä“_func))

	)

1160 
	#sk_PKCS7_shiá
(
¡
è
	`SKM_sk_shiá
(
PKCS7
, (¡))

	)

1161 
	#sk_PKCS7_pİ
(
¡
è
	`SKM_sk_pİ
(
PKCS7
, (¡))

	)

1162 
	#sk_PKCS7_sÜt
(
¡
è
	`SKM_sk_sÜt
(
PKCS7
, (¡))

	)

1163 
	#sk_PKCS7_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
PKCS7
, (¡))

	)

1165 
	#sk_PKCS7_RECIP_INFO_Ãw
(
¡
è
	`SKM_sk_Ãw
(
PKCS7_RECIP_INFO
, (¡))

	)

1166 
	#sk_PKCS7_RECIP_INFO_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
PKCS7_RECIP_INFO
)

	)

1167 
	#sk_PKCS7_RECIP_INFO_ä“
(
¡
è
	`SKM_sk_ä“
(
PKCS7_RECIP_INFO
, (¡))

	)

1168 
	#sk_PKCS7_RECIP_INFO_num
(
¡
è
	`SKM_sk_num
(
PKCS7_RECIP_INFO
, (¡))

	)

1169 
	#sk_PKCS7_RECIP_INFO_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
PKCS7_RECIP_INFO
, (¡), (i))

	)

1170 
	#sk_PKCS7_RECIP_INFO_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
PKCS7_RECIP_INFO
, (¡), (i), (v®))

	)

1171 
	#sk_PKCS7_RECIP_INFO_z”o
(
¡
è
	`SKM_sk_z”o
(
PKCS7_RECIP_INFO
, (¡))

	)

1172 
	#sk_PKCS7_RECIP_INFO_push
(
¡
, 
v®
è
	`SKM_sk_push
(
PKCS7_RECIP_INFO
, (¡), (v®))

	)

1173 
	#sk_PKCS7_RECIP_INFO_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
PKCS7_RECIP_INFO
, (¡), (v®))

	)

1174 
	#sk_PKCS7_RECIP_INFO_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
PKCS7_RECIP_INFO
, (¡), (v®))

	)

1175 
	#sk_PKCS7_RECIP_INFO_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
PKCS7_RECIP_INFO
, (¡), (v®))

	)

1176 
	#sk_PKCS7_RECIP_INFO_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
PKCS7_RECIP_INFO
, (¡), (i))

	)

1177 
	#sk_PKCS7_RECIP_INFO_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
PKCS7_RECIP_INFO
, (¡), (±r))

	)

1178 
	#sk_PKCS7_RECIP_INFO_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
PKCS7_RECIP_INFO
, (¡), (v®), (i))

	)

1179 
	#sk_PKCS7_RECIP_INFO_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
PKCS7_RECIP_INFO
, (¡), (cmp))

	)

1180 
	#sk_PKCS7_RECIP_INFO_dup
(
¡
è
	`SKM_sk_dup
(
PKCS7_RECIP_INFO
, st)

	)

1181 
	#sk_PKCS7_RECIP_INFO_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
PKCS7_RECIP_INFO
, (¡), (ä“_func))

	)

1182 
	#sk_PKCS7_RECIP_INFO_shiá
(
¡
è
	`SKM_sk_shiá
(
PKCS7_RECIP_INFO
, (¡))

	)

1183 
	#sk_PKCS7_RECIP_INFO_pİ
(
¡
è
	`SKM_sk_pİ
(
PKCS7_RECIP_INFO
, (¡))

	)

1184 
	#sk_PKCS7_RECIP_INFO_sÜt
(
¡
è
	`SKM_sk_sÜt
(
PKCS7_RECIP_INFO
, (¡))

	)

1185 
	#sk_PKCS7_RECIP_INFO_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
PKCS7_RECIP_INFO
, (¡))

	)

1187 
	#sk_PKCS7_SIGNER_INFO_Ãw
(
¡
è
	`SKM_sk_Ãw
(
PKCS7_SIGNER_INFO
, (¡))

	)

1188 
	#sk_PKCS7_SIGNER_INFO_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
PKCS7_SIGNER_INFO
)

	)

1189 
	#sk_PKCS7_SIGNER_INFO_ä“
(
¡
è
	`SKM_sk_ä“
(
PKCS7_SIGNER_INFO
, (¡))

	)

1190 
	#sk_PKCS7_SIGNER_INFO_num
(
¡
è
	`SKM_sk_num
(
PKCS7_SIGNER_INFO
, (¡))

	)

1191 
	#sk_PKCS7_SIGNER_INFO_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
PKCS7_SIGNER_INFO
, (¡), (i))

	)

1192 
	#sk_PKCS7_SIGNER_INFO_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
PKCS7_SIGNER_INFO
, (¡), (i), (v®))

	)

1193 
	#sk_PKCS7_SIGNER_INFO_z”o
(
¡
è
	`SKM_sk_z”o
(
PKCS7_SIGNER_INFO
, (¡))

	)

1194 
	#sk_PKCS7_SIGNER_INFO_push
(
¡
, 
v®
è
	`SKM_sk_push
(
PKCS7_SIGNER_INFO
, (¡), (v®))

	)

1195 
	#sk_PKCS7_SIGNER_INFO_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
PKCS7_SIGNER_INFO
, (¡), (v®))

	)

1196 
	#sk_PKCS7_SIGNER_INFO_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
PKCS7_SIGNER_INFO
, (¡), (v®))

	)

1197 
	#sk_PKCS7_SIGNER_INFO_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
PKCS7_SIGNER_INFO
, (¡), (v®))

	)

1198 
	#sk_PKCS7_SIGNER_INFO_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
PKCS7_SIGNER_INFO
, (¡), (i))

	)

1199 
	#sk_PKCS7_SIGNER_INFO_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
PKCS7_SIGNER_INFO
, (¡), (±r))

	)

1200 
	#sk_PKCS7_SIGNER_INFO_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
PKCS7_SIGNER_INFO
, (¡), (v®), (i))

	)

1201 
	#sk_PKCS7_SIGNER_INFO_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
PKCS7_SIGNER_INFO
, (¡), (cmp))

	)

1202 
	#sk_PKCS7_SIGNER_INFO_dup
(
¡
è
	`SKM_sk_dup
(
PKCS7_SIGNER_INFO
, st)

	)

1203 
	#sk_PKCS7_SIGNER_INFO_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
PKCS7_SIGNER_INFO
, (¡), (ä“_func))

	)

1204 
	#sk_PKCS7_SIGNER_INFO_shiá
(
¡
è
	`SKM_sk_shiá
(
PKCS7_SIGNER_INFO
, (¡))

	)

1205 
	#sk_PKCS7_SIGNER_INFO_pİ
(
¡
è
	`SKM_sk_pİ
(
PKCS7_SIGNER_INFO
, (¡))

	)

1206 
	#sk_PKCS7_SIGNER_INFO_sÜt
(
¡
è
	`SKM_sk_sÜt
(
PKCS7_SIGNER_INFO
, (¡))

	)

1207 
	#sk_PKCS7_SIGNER_INFO_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
PKCS7_SIGNER_INFO
, (¡))

	)

1209 
	#sk_POLICYINFO_Ãw
(
¡
è
	`SKM_sk_Ãw
(
POLICYINFO
, (¡))

	)

1210 
	#sk_POLICYINFO_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
POLICYINFO
)

	)

1211 
	#sk_POLICYINFO_ä“
(
¡
è
	`SKM_sk_ä“
(
POLICYINFO
, (¡))

	)

1212 
	#sk_POLICYINFO_num
(
¡
è
	`SKM_sk_num
(
POLICYINFO
, (¡))

	)

1213 
	#sk_POLICYINFO_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
POLICYINFO
, (¡), (i))

	)

1214 
	#sk_POLICYINFO_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
POLICYINFO
, (¡), (i), (v®))

	)

1215 
	#sk_POLICYINFO_z”o
(
¡
è
	`SKM_sk_z”o
(
POLICYINFO
, (¡))

	)

1216 
	#sk_POLICYINFO_push
(
¡
, 
v®
è
	`SKM_sk_push
(
POLICYINFO
, (¡), (v®))

	)

1217 
	#sk_POLICYINFO_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
POLICYINFO
, (¡), (v®))

	)

1218 
	#sk_POLICYINFO_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
POLICYINFO
, (¡), (v®))

	)

1219 
	#sk_POLICYINFO_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
POLICYINFO
, (¡), (v®))

	)

1220 
	#sk_POLICYINFO_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
POLICYINFO
, (¡), (i))

	)

1221 
	#sk_POLICYINFO_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
POLICYINFO
, (¡), (±r))

	)

1222 
	#sk_POLICYINFO_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
POLICYINFO
, (¡), (v®), (i))

	)

1223 
	#sk_POLICYINFO_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
POLICYINFO
, (¡), (cmp))

	)

1224 
	#sk_POLICYINFO_dup
(
¡
è
	`SKM_sk_dup
(
POLICYINFO
, st)

	)

1225 
	#sk_POLICYINFO_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
POLICYINFO
, (¡), (ä“_func))

	)

1226 
	#sk_POLICYINFO_shiá
(
¡
è
	`SKM_sk_shiá
(
POLICYINFO
, (¡))

	)

1227 
	#sk_POLICYINFO_pİ
(
¡
è
	`SKM_sk_pİ
(
POLICYINFO
, (¡))

	)

1228 
	#sk_POLICYINFO_sÜt
(
¡
è
	`SKM_sk_sÜt
(
POLICYINFO
, (¡))

	)

1229 
	#sk_POLICYINFO_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
POLICYINFO
, (¡))

	)

1231 
	#sk_POLICYQUALINFO_Ãw
(
¡
è
	`SKM_sk_Ãw
(
POLICYQUALINFO
, (¡))

	)

1232 
	#sk_POLICYQUALINFO_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
POLICYQUALINFO
)

	)

1233 
	#sk_POLICYQUALINFO_ä“
(
¡
è
	`SKM_sk_ä“
(
POLICYQUALINFO
, (¡))

	)

1234 
	#sk_POLICYQUALINFO_num
(
¡
è
	`SKM_sk_num
(
POLICYQUALINFO
, (¡))

	)

1235 
	#sk_POLICYQUALINFO_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
POLICYQUALINFO
, (¡), (i))

	)

1236 
	#sk_POLICYQUALINFO_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
POLICYQUALINFO
, (¡), (i), (v®))

	)

1237 
	#sk_POLICYQUALINFO_z”o
(
¡
è
	`SKM_sk_z”o
(
POLICYQUALINFO
, (¡))

	)

1238 
	#sk_POLICYQUALINFO_push
(
¡
, 
v®
è
	`SKM_sk_push
(
POLICYQUALINFO
, (¡), (v®))

	)

1239 
	#sk_POLICYQUALINFO_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
POLICYQUALINFO
, (¡), (v®))

	)

1240 
	#sk_POLICYQUALINFO_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
POLICYQUALINFO
, (¡), (v®))

	)

1241 
	#sk_POLICYQUALINFO_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
POLICYQUALINFO
, (¡), (v®))

	)

1242 
	#sk_POLICYQUALINFO_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
POLICYQUALINFO
, (¡), (i))

	)

1243 
	#sk_POLICYQUALINFO_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
POLICYQUALINFO
, (¡), (±r))

	)

1244 
	#sk_POLICYQUALINFO_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
POLICYQUALINFO
, (¡), (v®), (i))

	)

1245 
	#sk_POLICYQUALINFO_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
POLICYQUALINFO
, (¡), (cmp))

	)

1246 
	#sk_POLICYQUALINFO_dup
(
¡
è
	`SKM_sk_dup
(
POLICYQUALINFO
, st)

	)

1247 
	#sk_POLICYQUALINFO_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
POLICYQUALINFO
, (¡), (ä“_func))

	)

1248 
	#sk_POLICYQUALINFO_shiá
(
¡
è
	`SKM_sk_shiá
(
POLICYQUALINFO
, (¡))

	)

1249 
	#sk_POLICYQUALINFO_pİ
(
¡
è
	`SKM_sk_pİ
(
POLICYQUALINFO
, (¡))

	)

1250 
	#sk_POLICYQUALINFO_sÜt
(
¡
è
	`SKM_sk_sÜt
(
POLICYQUALINFO
, (¡))

	)

1251 
	#sk_POLICYQUALINFO_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
POLICYQUALINFO
, (¡))

	)

1253 
	#sk_POLICY_MAPPING_Ãw
(
¡
è
	`SKM_sk_Ãw
(
POLICY_MAPPING
, (¡))

	)

1254 
	#sk_POLICY_MAPPING_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
POLICY_MAPPING
)

	)

1255 
	#sk_POLICY_MAPPING_ä“
(
¡
è
	`SKM_sk_ä“
(
POLICY_MAPPING
, (¡))

	)

1256 
	#sk_POLICY_MAPPING_num
(
¡
è
	`SKM_sk_num
(
POLICY_MAPPING
, (¡))

	)

1257 
	#sk_POLICY_MAPPING_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
POLICY_MAPPING
, (¡), (i))

	)

1258 
	#sk_POLICY_MAPPING_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
POLICY_MAPPING
, (¡), (i), (v®))

	)

1259 
	#sk_POLICY_MAPPING_z”o
(
¡
è
	`SKM_sk_z”o
(
POLICY_MAPPING
, (¡))

	)

1260 
	#sk_POLICY_MAPPING_push
(
¡
, 
v®
è
	`SKM_sk_push
(
POLICY_MAPPING
, (¡), (v®))

	)

1261 
	#sk_POLICY_MAPPING_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
POLICY_MAPPING
, (¡), (v®))

	)

1262 
	#sk_POLICY_MAPPING_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
POLICY_MAPPING
, (¡), (v®))

	)

1263 
	#sk_POLICY_MAPPING_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
POLICY_MAPPING
, (¡), (v®))

	)

1264 
	#sk_POLICY_MAPPING_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
POLICY_MAPPING
, (¡), (i))

	)

1265 
	#sk_POLICY_MAPPING_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
POLICY_MAPPING
, (¡), (±r))

	)

1266 
	#sk_POLICY_MAPPING_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
POLICY_MAPPING
, (¡), (v®), (i))

	)

1267 
	#sk_POLICY_MAPPING_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
POLICY_MAPPING
, (¡), (cmp))

	)

1268 
	#sk_POLICY_MAPPING_dup
(
¡
è
	`SKM_sk_dup
(
POLICY_MAPPING
, st)

	)

1269 
	#sk_POLICY_MAPPING_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
POLICY_MAPPING
, (¡), (ä“_func))

	)

1270 
	#sk_POLICY_MAPPING_shiá
(
¡
è
	`SKM_sk_shiá
(
POLICY_MAPPING
, (¡))

	)

1271 
	#sk_POLICY_MAPPING_pİ
(
¡
è
	`SKM_sk_pİ
(
POLICY_MAPPING
, (¡))

	)

1272 
	#sk_POLICY_MAPPING_sÜt
(
¡
è
	`SKM_sk_sÜt
(
POLICY_MAPPING
, (¡))

	)

1273 
	#sk_POLICY_MAPPING_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
POLICY_MAPPING
, (¡))

	)

1275 
	#sk_SSL_CIPHER_Ãw
(
¡
è
	`SKM_sk_Ãw
(
SSL_CIPHER
, (¡))

	)

1276 
	#sk_SSL_CIPHER_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
SSL_CIPHER
)

	)

1277 
	#sk_SSL_CIPHER_ä“
(
¡
è
	`SKM_sk_ä“
(
SSL_CIPHER
, (¡))

	)

1278 
	#sk_SSL_CIPHER_num
(
¡
è
	`SKM_sk_num
(
SSL_CIPHER
, (¡))

	)

1279 
	#sk_SSL_CIPHER_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
SSL_CIPHER
, (¡), (i))

	)

1280 
	#sk_SSL_CIPHER_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
SSL_CIPHER
, (¡), (i), (v®))

	)

1281 
	#sk_SSL_CIPHER_z”o
(
¡
è
	`SKM_sk_z”o
(
SSL_CIPHER
, (¡))

	)

1282 
	#sk_SSL_CIPHER_push
(
¡
, 
v®
è
	`SKM_sk_push
(
SSL_CIPHER
, (¡), (v®))

	)

1283 
	#sk_SSL_CIPHER_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
SSL_CIPHER
, (¡), (v®))

	)

1284 
	#sk_SSL_CIPHER_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
SSL_CIPHER
, (¡), (v®))

	)

1285 
	#sk_SSL_CIPHER_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
SSL_CIPHER
, (¡), (v®))

	)

1286 
	#sk_SSL_CIPHER_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
SSL_CIPHER
, (¡), (i))

	)

1287 
	#sk_SSL_CIPHER_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
SSL_CIPHER
, (¡), (±r))

	)

1288 
	#sk_SSL_CIPHER_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
SSL_CIPHER
, (¡), (v®), (i))

	)

1289 
	#sk_SSL_CIPHER_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
SSL_CIPHER
, (¡), (cmp))

	)

1290 
	#sk_SSL_CIPHER_dup
(
¡
è
	`SKM_sk_dup
(
SSL_CIPHER
, st)

	)

1291 
	#sk_SSL_CIPHER_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
SSL_CIPHER
, (¡), (ä“_func))

	)

1292 
	#sk_SSL_CIPHER_shiá
(
¡
è
	`SKM_sk_shiá
(
SSL_CIPHER
, (¡))

	)

1293 
	#sk_SSL_CIPHER_pİ
(
¡
è
	`SKM_sk_pİ
(
SSL_CIPHER
, (¡))

	)

1294 
	#sk_SSL_CIPHER_sÜt
(
¡
è
	`SKM_sk_sÜt
(
SSL_CIPHER
, (¡))

	)

1295 
	#sk_SSL_CIPHER_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
SSL_CIPHER
, (¡))

	)

1297 
	#sk_SSL_COMP_Ãw
(
¡
è
	`SKM_sk_Ãw
(
SSL_COMP
, (¡))

	)

1298 
	#sk_SSL_COMP_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
SSL_COMP
)

	)

1299 
	#sk_SSL_COMP_ä“
(
¡
è
	`SKM_sk_ä“
(
SSL_COMP
, (¡))

	)

1300 
	#sk_SSL_COMP_num
(
¡
è
	`SKM_sk_num
(
SSL_COMP
, (¡))

	)

1301 
	#sk_SSL_COMP_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
SSL_COMP
, (¡), (i))

	)

1302 
	#sk_SSL_COMP_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
SSL_COMP
, (¡), (i), (v®))

	)

1303 
	#sk_SSL_COMP_z”o
(
¡
è
	`SKM_sk_z”o
(
SSL_COMP
, (¡))

	)

1304 
	#sk_SSL_COMP_push
(
¡
, 
v®
è
	`SKM_sk_push
(
SSL_COMP
, (¡), (v®))

	)

1305 
	#sk_SSL_COMP_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
SSL_COMP
, (¡), (v®))

	)

1306 
	#sk_SSL_COMP_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
SSL_COMP
, (¡), (v®))

	)

1307 
	#sk_SSL_COMP_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
SSL_COMP
, (¡), (v®))

	)

1308 
	#sk_SSL_COMP_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
SSL_COMP
, (¡), (i))

	)

1309 
	#sk_SSL_COMP_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
SSL_COMP
, (¡), (±r))

	)

1310 
	#sk_SSL_COMP_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
SSL_COMP
, (¡), (v®), (i))

	)

1311 
	#sk_SSL_COMP_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
SSL_COMP
, (¡), (cmp))

	)

1312 
	#sk_SSL_COMP_dup
(
¡
è
	`SKM_sk_dup
(
SSL_COMP
, st)

	)

1313 
	#sk_SSL_COMP_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
SSL_COMP
, (¡), (ä“_func))

	)

1314 
	#sk_SSL_COMP_shiá
(
¡
è
	`SKM_sk_shiá
(
SSL_COMP
, (¡))

	)

1315 
	#sk_SSL_COMP_pİ
(
¡
è
	`SKM_sk_pİ
(
SSL_COMP
, (¡))

	)

1316 
	#sk_SSL_COMP_sÜt
(
¡
è
	`SKM_sk_sÜt
(
SSL_COMP
, (¡))

	)

1317 
	#sk_SSL_COMP_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
SSL_COMP
, (¡))

	)

1319 
	#sk_STORE_OBJECT_Ãw
(
¡
è
	`SKM_sk_Ãw
(
STORE_OBJECT
, (¡))

	)

1320 
	#sk_STORE_OBJECT_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
STORE_OBJECT
)

	)

1321 
	#sk_STORE_OBJECT_ä“
(
¡
è
	`SKM_sk_ä“
(
STORE_OBJECT
, (¡))

	)

1322 
	#sk_STORE_OBJECT_num
(
¡
è
	`SKM_sk_num
(
STORE_OBJECT
, (¡))

	)

1323 
	#sk_STORE_OBJECT_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
STORE_OBJECT
, (¡), (i))

	)

1324 
	#sk_STORE_OBJECT_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
STORE_OBJECT
, (¡), (i), (v®))

	)

1325 
	#sk_STORE_OBJECT_z”o
(
¡
è
	`SKM_sk_z”o
(
STORE_OBJECT
, (¡))

	)

1326 
	#sk_STORE_OBJECT_push
(
¡
, 
v®
è
	`SKM_sk_push
(
STORE_OBJECT
, (¡), (v®))

	)

1327 
	#sk_STORE_OBJECT_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
STORE_OBJECT
, (¡), (v®))

	)

1328 
	#sk_STORE_OBJECT_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
STORE_OBJECT
, (¡), (v®))

	)

1329 
	#sk_STORE_OBJECT_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
STORE_OBJECT
, (¡), (v®))

	)

1330 
	#sk_STORE_OBJECT_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
STORE_OBJECT
, (¡), (i))

	)

1331 
	#sk_STORE_OBJECT_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
STORE_OBJECT
, (¡), (±r))

	)

1332 
	#sk_STORE_OBJECT_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
STORE_OBJECT
, (¡), (v®), (i))

	)

1333 
	#sk_STORE_OBJECT_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
STORE_OBJECT
, (¡), (cmp))

	)

1334 
	#sk_STORE_OBJECT_dup
(
¡
è
	`SKM_sk_dup
(
STORE_OBJECT
, st)

	)

1335 
	#sk_STORE_OBJECT_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
STORE_OBJECT
, (¡), (ä“_func))

	)

1336 
	#sk_STORE_OBJECT_shiá
(
¡
è
	`SKM_sk_shiá
(
STORE_OBJECT
, (¡))

	)

1337 
	#sk_STORE_OBJECT_pİ
(
¡
è
	`SKM_sk_pİ
(
STORE_OBJECT
, (¡))

	)

1338 
	#sk_STORE_OBJECT_sÜt
(
¡
è
	`SKM_sk_sÜt
(
STORE_OBJECT
, (¡))

	)

1339 
	#sk_STORE_OBJECT_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
STORE_OBJECT
, (¡))

	)

1341 
	#sk_SXNETID_Ãw
(
¡
è
	`SKM_sk_Ãw
(
SXNETID
, (¡))

	)

1342 
	#sk_SXNETID_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
SXNETID
)

	)

1343 
	#sk_SXNETID_ä“
(
¡
è
	`SKM_sk_ä“
(
SXNETID
, (¡))

	)

1344 
	#sk_SXNETID_num
(
¡
è
	`SKM_sk_num
(
SXNETID
, (¡))

	)

1345 
	#sk_SXNETID_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
SXNETID
, (¡), (i))

	)

1346 
	#sk_SXNETID_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
SXNETID
, (¡), (i), (v®))

	)

1347 
	#sk_SXNETID_z”o
(
¡
è
	`SKM_sk_z”o
(
SXNETID
, (¡))

	)

1348 
	#sk_SXNETID_push
(
¡
, 
v®
è
	`SKM_sk_push
(
SXNETID
, (¡), (v®))

	)

1349 
	#sk_SXNETID_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
SXNETID
, (¡), (v®))

	)

1350 
	#sk_SXNETID_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
SXNETID
, (¡), (v®))

	)

1351 
	#sk_SXNETID_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
SXNETID
, (¡), (v®))

	)

1352 
	#sk_SXNETID_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
SXNETID
, (¡), (i))

	)

1353 
	#sk_SXNETID_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
SXNETID
, (¡), (±r))

	)

1354 
	#sk_SXNETID_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
SXNETID
, (¡), (v®), (i))

	)

1355 
	#sk_SXNETID_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
SXNETID
, (¡), (cmp))

	)

1356 
	#sk_SXNETID_dup
(
¡
è
	`SKM_sk_dup
(
SXNETID
, st)

	)

1357 
	#sk_SXNETID_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
SXNETID
, (¡), (ä“_func))

	)

1358 
	#sk_SXNETID_shiá
(
¡
è
	`SKM_sk_shiá
(
SXNETID
, (¡))

	)

1359 
	#sk_SXNETID_pİ
(
¡
è
	`SKM_sk_pİ
(
SXNETID
, (¡))

	)

1360 
	#sk_SXNETID_sÜt
(
¡
è
	`SKM_sk_sÜt
(
SXNETID
, (¡))

	)

1361 
	#sk_SXNETID_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
SXNETID
, (¡))

	)

1363 
	#sk_UI_STRING_Ãw
(
¡
è
	`SKM_sk_Ãw
(
UI_STRING
, (¡))

	)

1364 
	#sk_UI_STRING_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
UI_STRING
)

	)

1365 
	#sk_UI_STRING_ä“
(
¡
è
	`SKM_sk_ä“
(
UI_STRING
, (¡))

	)

1366 
	#sk_UI_STRING_num
(
¡
è
	`SKM_sk_num
(
UI_STRING
, (¡))

	)

1367 
	#sk_UI_STRING_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
UI_STRING
, (¡), (i))

	)

1368 
	#sk_UI_STRING_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
UI_STRING
, (¡), (i), (v®))

	)

1369 
	#sk_UI_STRING_z”o
(
¡
è
	`SKM_sk_z”o
(
UI_STRING
, (¡))

	)

1370 
	#sk_UI_STRING_push
(
¡
, 
v®
è
	`SKM_sk_push
(
UI_STRING
, (¡), (v®))

	)

1371 
	#sk_UI_STRING_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
UI_STRING
, (¡), (v®))

	)

1372 
	#sk_UI_STRING_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
UI_STRING
, (¡), (v®))

	)

1373 
	#sk_UI_STRING_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
UI_STRING
, (¡), (v®))

	)

1374 
	#sk_UI_STRING_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
UI_STRING
, (¡), (i))

	)

1375 
	#sk_UI_STRING_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
UI_STRING
, (¡), (±r))

	)

1376 
	#sk_UI_STRING_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
UI_STRING
, (¡), (v®), (i))

	)

1377 
	#sk_UI_STRING_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
UI_STRING
, (¡), (cmp))

	)

1378 
	#sk_UI_STRING_dup
(
¡
è
	`SKM_sk_dup
(
UI_STRING
, st)

	)

1379 
	#sk_UI_STRING_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
UI_STRING
, (¡), (ä“_func))

	)

1380 
	#sk_UI_STRING_shiá
(
¡
è
	`SKM_sk_shiá
(
UI_STRING
, (¡))

	)

1381 
	#sk_UI_STRING_pİ
(
¡
è
	`SKM_sk_pİ
(
UI_STRING
, (¡))

	)

1382 
	#sk_UI_STRING_sÜt
(
¡
è
	`SKM_sk_sÜt
(
UI_STRING
, (¡))

	)

1383 
	#sk_UI_STRING_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
UI_STRING
, (¡))

	)

1385 
	#sk_X509_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509
, (¡))

	)

1386 
	#sk_X509_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509
)

	)

1387 
	#sk_X509_ä“
(
¡
è
	`SKM_sk_ä“
(
X509
, (¡))

	)

1388 
	#sk_X509_num
(
¡
è
	`SKM_sk_num
(
X509
, (¡))

	)

1389 
	#sk_X509_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509
, (¡), (i))

	)

1390 
	#sk_X509_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509
, (¡), (i), (v®))

	)

1391 
	#sk_X509_z”o
(
¡
è
	`SKM_sk_z”o
(
X509
, (¡))

	)

1392 
	#sk_X509_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509
, (¡), (v®))

	)

1393 
	#sk_X509_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509
, (¡), (v®))

	)

1394 
	#sk_X509_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509
, (¡), (v®))

	)

1395 
	#sk_X509_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509
, (¡), (v®))

	)

1396 
	#sk_X509_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509
, (¡), (i))

	)

1397 
	#sk_X509_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509
, (¡), (±r))

	)

1398 
	#sk_X509_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509
, (¡), (v®), (i))

	)

1399 
	#sk_X509_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509
, (¡), (cmp))

	)

1400 
	#sk_X509_dup
(
¡
è
	`SKM_sk_dup
(
X509
, st)

	)

1401 
	#sk_X509_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509
, (¡), (ä“_func))

	)

1402 
	#sk_X509_shiá
(
¡
è
	`SKM_sk_shiá
(
X509
, (¡))

	)

1403 
	#sk_X509_pİ
(
¡
è
	`SKM_sk_pİ
(
X509
, (¡))

	)

1404 
	#sk_X509_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509
, (¡))

	)

1405 
	#sk_X509_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509
, (¡))

	)

1407 
	#sk_X509V3_EXT_METHOD_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509V3_EXT_METHOD
, (¡))

	)

1408 
	#sk_X509V3_EXT_METHOD_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509V3_EXT_METHOD
)

	)

1409 
	#sk_X509V3_EXT_METHOD_ä“
(
¡
è
	`SKM_sk_ä“
(
X509V3_EXT_METHOD
, (¡))

	)

1410 
	#sk_X509V3_EXT_METHOD_num
(
¡
è
	`SKM_sk_num
(
X509V3_EXT_METHOD
, (¡))

	)

1411 
	#sk_X509V3_EXT_METHOD_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509V3_EXT_METHOD
, (¡), (i))

	)

1412 
	#sk_X509V3_EXT_METHOD_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509V3_EXT_METHOD
, (¡), (i), (v®))

	)

1413 
	#sk_X509V3_EXT_METHOD_z”o
(
¡
è
	`SKM_sk_z”o
(
X509V3_EXT_METHOD
, (¡))

	)

1414 
	#sk_X509V3_EXT_METHOD_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509V3_EXT_METHOD
, (¡), (v®))

	)

1415 
	#sk_X509V3_EXT_METHOD_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509V3_EXT_METHOD
, (¡), (v®))

	)

1416 
	#sk_X509V3_EXT_METHOD_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509V3_EXT_METHOD
, (¡), (v®))

	)

1417 
	#sk_X509V3_EXT_METHOD_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509V3_EXT_METHOD
, (¡), (v®))

	)

1418 
	#sk_X509V3_EXT_METHOD_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509V3_EXT_METHOD
, (¡), (i))

	)

1419 
	#sk_X509V3_EXT_METHOD_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509V3_EXT_METHOD
, (¡), (±r))

	)

1420 
	#sk_X509V3_EXT_METHOD_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509V3_EXT_METHOD
, (¡), (v®), (i))

	)

1421 
	#sk_X509V3_EXT_METHOD_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509V3_EXT_METHOD
, (¡), (cmp))

	)

1422 
	#sk_X509V3_EXT_METHOD_dup
(
¡
è
	`SKM_sk_dup
(
X509V3_EXT_METHOD
, st)

	)

1423 
	#sk_X509V3_EXT_METHOD_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509V3_EXT_METHOD
, (¡), (ä“_func))

	)

1424 
	#sk_X509V3_EXT_METHOD_shiá
(
¡
è
	`SKM_sk_shiá
(
X509V3_EXT_METHOD
, (¡))

	)

1425 
	#sk_X509V3_EXT_METHOD_pİ
(
¡
è
	`SKM_sk_pİ
(
X509V3_EXT_METHOD
, (¡))

	)

1426 
	#sk_X509V3_EXT_METHOD_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509V3_EXT_METHOD
, (¡))

	)

1427 
	#sk_X509V3_EXT_METHOD_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509V3_EXT_METHOD
, (¡))

	)

1429 
	#sk_X509_ALGOR_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_ALGOR
, (¡))

	)

1430 
	#sk_X509_ALGOR_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_ALGOR
)

	)

1431 
	#sk_X509_ALGOR_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_ALGOR
, (¡))

	)

1432 
	#sk_X509_ALGOR_num
(
¡
è
	`SKM_sk_num
(
X509_ALGOR
, (¡))

	)

1433 
	#sk_X509_ALGOR_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_ALGOR
, (¡), (i))

	)

1434 
	#sk_X509_ALGOR_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_ALGOR
, (¡), (i), (v®))

	)

1435 
	#sk_X509_ALGOR_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_ALGOR
, (¡))

	)

1436 
	#sk_X509_ALGOR_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_ALGOR
, (¡), (v®))

	)

1437 
	#sk_X509_ALGOR_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_ALGOR
, (¡), (v®))

	)

1438 
	#sk_X509_ALGOR_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_ALGOR
, (¡), (v®))

	)

1439 
	#sk_X509_ALGOR_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_ALGOR
, (¡), (v®))

	)

1440 
	#sk_X509_ALGOR_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_ALGOR
, (¡), (i))

	)

1441 
	#sk_X509_ALGOR_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_ALGOR
, (¡), (±r))

	)

1442 
	#sk_X509_ALGOR_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_ALGOR
, (¡), (v®), (i))

	)

1443 
	#sk_X509_ALGOR_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_ALGOR
, (¡), (cmp))

	)

1444 
	#sk_X509_ALGOR_dup
(
¡
è
	`SKM_sk_dup
(
X509_ALGOR
, st)

	)

1445 
	#sk_X509_ALGOR_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_ALGOR
, (¡), (ä“_func))

	)

1446 
	#sk_X509_ALGOR_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_ALGOR
, (¡))

	)

1447 
	#sk_X509_ALGOR_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_ALGOR
, (¡))

	)

1448 
	#sk_X509_ALGOR_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_ALGOR
, (¡))

	)

1449 
	#sk_X509_ALGOR_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_ALGOR
, (¡))

	)

1451 
	#sk_X509_ATTRIBUTE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_ATTRIBUTE
, (¡))

	)

1452 
	#sk_X509_ATTRIBUTE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_ATTRIBUTE
)

	)

1453 
	#sk_X509_ATTRIBUTE_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_ATTRIBUTE
, (¡))

	)

1454 
	#sk_X509_ATTRIBUTE_num
(
¡
è
	`SKM_sk_num
(
X509_ATTRIBUTE
, (¡))

	)

1455 
	#sk_X509_ATTRIBUTE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_ATTRIBUTE
, (¡), (i))

	)

1456 
	#sk_X509_ATTRIBUTE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_ATTRIBUTE
, (¡), (i), (v®))

	)

1457 
	#sk_X509_ATTRIBUTE_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_ATTRIBUTE
, (¡))

	)

1458 
	#sk_X509_ATTRIBUTE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_ATTRIBUTE
, (¡), (v®))

	)

1459 
	#sk_X509_ATTRIBUTE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_ATTRIBUTE
, (¡), (v®))

	)

1460 
	#sk_X509_ATTRIBUTE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_ATTRIBUTE
, (¡), (v®))

	)

1461 
	#sk_X509_ATTRIBUTE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_ATTRIBUTE
, (¡), (v®))

	)

1462 
	#sk_X509_ATTRIBUTE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_ATTRIBUTE
, (¡), (i))

	)

1463 
	#sk_X509_ATTRIBUTE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_ATTRIBUTE
, (¡), (±r))

	)

1464 
	#sk_X509_ATTRIBUTE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_ATTRIBUTE
, (¡), (v®), (i))

	)

1465 
	#sk_X509_ATTRIBUTE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_ATTRIBUTE
, (¡), (cmp))

	)

1466 
	#sk_X509_ATTRIBUTE_dup
(
¡
è
	`SKM_sk_dup
(
X509_ATTRIBUTE
, st)

	)

1467 
	#sk_X509_ATTRIBUTE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_ATTRIBUTE
, (¡), (ä“_func))

	)

1468 
	#sk_X509_ATTRIBUTE_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_ATTRIBUTE
, (¡))

	)

1469 
	#sk_X509_ATTRIBUTE_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_ATTRIBUTE
, (¡))

	)

1470 
	#sk_X509_ATTRIBUTE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_ATTRIBUTE
, (¡))

	)

1471 
	#sk_X509_ATTRIBUTE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_ATTRIBUTE
, (¡))

	)

1473 
	#sk_X509_CRL_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_CRL
, (¡))

	)

1474 
	#sk_X509_CRL_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_CRL
)

	)

1475 
	#sk_X509_CRL_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_CRL
, (¡))

	)

1476 
	#sk_X509_CRL_num
(
¡
è
	`SKM_sk_num
(
X509_CRL
, (¡))

	)

1477 
	#sk_X509_CRL_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_CRL
, (¡), (i))

	)

1478 
	#sk_X509_CRL_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_CRL
, (¡), (i), (v®))

	)

1479 
	#sk_X509_CRL_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_CRL
, (¡))

	)

1480 
	#sk_X509_CRL_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_CRL
, (¡), (v®))

	)

1481 
	#sk_X509_CRL_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_CRL
, (¡), (v®))

	)

1482 
	#sk_X509_CRL_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_CRL
, (¡), (v®))

	)

1483 
	#sk_X509_CRL_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_CRL
, (¡), (v®))

	)

1484 
	#sk_X509_CRL_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_CRL
, (¡), (i))

	)

1485 
	#sk_X509_CRL_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_CRL
, (¡), (±r))

	)

1486 
	#sk_X509_CRL_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_CRL
, (¡), (v®), (i))

	)

1487 
	#sk_X509_CRL_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_CRL
, (¡), (cmp))

	)

1488 
	#sk_X509_CRL_dup
(
¡
è
	`SKM_sk_dup
(
X509_CRL
, st)

	)

1489 
	#sk_X509_CRL_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_CRL
, (¡), (ä“_func))

	)

1490 
	#sk_X509_CRL_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_CRL
, (¡))

	)

1491 
	#sk_X509_CRL_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_CRL
, (¡))

	)

1492 
	#sk_X509_CRL_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_CRL
, (¡))

	)

1493 
	#sk_X509_CRL_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_CRL
, (¡))

	)

1495 
	#sk_X509_EXTENSION_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_EXTENSION
, (¡))

	)

1496 
	#sk_X509_EXTENSION_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_EXTENSION
)

	)

1497 
	#sk_X509_EXTENSION_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_EXTENSION
, (¡))

	)

1498 
	#sk_X509_EXTENSION_num
(
¡
è
	`SKM_sk_num
(
X509_EXTENSION
, (¡))

	)

1499 
	#sk_X509_EXTENSION_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_EXTENSION
, (¡), (i))

	)

1500 
	#sk_X509_EXTENSION_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_EXTENSION
, (¡), (i), (v®))

	)

1501 
	#sk_X509_EXTENSION_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_EXTENSION
, (¡))

	)

1502 
	#sk_X509_EXTENSION_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_EXTENSION
, (¡), (v®))

	)

1503 
	#sk_X509_EXTENSION_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_EXTENSION
, (¡), (v®))

	)

1504 
	#sk_X509_EXTENSION_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_EXTENSION
, (¡), (v®))

	)

1505 
	#sk_X509_EXTENSION_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_EXTENSION
, (¡), (v®))

	)

1506 
	#sk_X509_EXTENSION_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_EXTENSION
, (¡), (i))

	)

1507 
	#sk_X509_EXTENSION_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_EXTENSION
, (¡), (±r))

	)

1508 
	#sk_X509_EXTENSION_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_EXTENSION
, (¡), (v®), (i))

	)

1509 
	#sk_X509_EXTENSION_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_EXTENSION
, (¡), (cmp))

	)

1510 
	#sk_X509_EXTENSION_dup
(
¡
è
	`SKM_sk_dup
(
X509_EXTENSION
, st)

	)

1511 
	#sk_X509_EXTENSION_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_EXTENSION
, (¡), (ä“_func))

	)

1512 
	#sk_X509_EXTENSION_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_EXTENSION
, (¡))

	)

1513 
	#sk_X509_EXTENSION_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_EXTENSION
, (¡))

	)

1514 
	#sk_X509_EXTENSION_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_EXTENSION
, (¡))

	)

1515 
	#sk_X509_EXTENSION_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_EXTENSION
, (¡))

	)

1517 
	#sk_X509_INFO_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_INFO
, (¡))

	)

1518 
	#sk_X509_INFO_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_INFO
)

	)

1519 
	#sk_X509_INFO_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_INFO
, (¡))

	)

1520 
	#sk_X509_INFO_num
(
¡
è
	`SKM_sk_num
(
X509_INFO
, (¡))

	)

1521 
	#sk_X509_INFO_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_INFO
, (¡), (i))

	)

1522 
	#sk_X509_INFO_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_INFO
, (¡), (i), (v®))

	)

1523 
	#sk_X509_INFO_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_INFO
, (¡))

	)

1524 
	#sk_X509_INFO_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_INFO
, (¡), (v®))

	)

1525 
	#sk_X509_INFO_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_INFO
, (¡), (v®))

	)

1526 
	#sk_X509_INFO_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_INFO
, (¡), (v®))

	)

1527 
	#sk_X509_INFO_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_INFO
, (¡), (v®))

	)

1528 
	#sk_X509_INFO_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_INFO
, (¡), (i))

	)

1529 
	#sk_X509_INFO_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_INFO
, (¡), (±r))

	)

1530 
	#sk_X509_INFO_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_INFO
, (¡), (v®), (i))

	)

1531 
	#sk_X509_INFO_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_INFO
, (¡), (cmp))

	)

1532 
	#sk_X509_INFO_dup
(
¡
è
	`SKM_sk_dup
(
X509_INFO
, st)

	)

1533 
	#sk_X509_INFO_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_INFO
, (¡), (ä“_func))

	)

1534 
	#sk_X509_INFO_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_INFO
, (¡))

	)

1535 
	#sk_X509_INFO_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_INFO
, (¡))

	)

1536 
	#sk_X509_INFO_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_INFO
, (¡))

	)

1537 
	#sk_X509_INFO_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_INFO
, (¡))

	)

1539 
	#sk_X509_LOOKUP_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_LOOKUP
, (¡))

	)

1540 
	#sk_X509_LOOKUP_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_LOOKUP
)

	)

1541 
	#sk_X509_LOOKUP_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_LOOKUP
, (¡))

	)

1542 
	#sk_X509_LOOKUP_num
(
¡
è
	`SKM_sk_num
(
X509_LOOKUP
, (¡))

	)

1543 
	#sk_X509_LOOKUP_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_LOOKUP
, (¡), (i))

	)

1544 
	#sk_X509_LOOKUP_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_LOOKUP
, (¡), (i), (v®))

	)

1545 
	#sk_X509_LOOKUP_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_LOOKUP
, (¡))

	)

1546 
	#sk_X509_LOOKUP_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_LOOKUP
, (¡), (v®))

	)

1547 
	#sk_X509_LOOKUP_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_LOOKUP
, (¡), (v®))

	)

1548 
	#sk_X509_LOOKUP_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_LOOKUP
, (¡), (v®))

	)

1549 
	#sk_X509_LOOKUP_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_LOOKUP
, (¡), (v®))

	)

1550 
	#sk_X509_LOOKUP_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_LOOKUP
, (¡), (i))

	)

1551 
	#sk_X509_LOOKUP_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_LOOKUP
, (¡), (±r))

	)

1552 
	#sk_X509_LOOKUP_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_LOOKUP
, (¡), (v®), (i))

	)

1553 
	#sk_X509_LOOKUP_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_LOOKUP
, (¡), (cmp))

	)

1554 
	#sk_X509_LOOKUP_dup
(
¡
è
	`SKM_sk_dup
(
X509_LOOKUP
, st)

	)

1555 
	#sk_X509_LOOKUP_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_LOOKUP
, (¡), (ä“_func))

	)

1556 
	#sk_X509_LOOKUP_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_LOOKUP
, (¡))

	)

1557 
	#sk_X509_LOOKUP_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_LOOKUP
, (¡))

	)

1558 
	#sk_X509_LOOKUP_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_LOOKUP
, (¡))

	)

1559 
	#sk_X509_LOOKUP_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_LOOKUP
, (¡))

	)

1561 
	#sk_X509_NAME_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_NAME
, (¡))

	)

1562 
	#sk_X509_NAME_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_NAME
)

	)

1563 
	#sk_X509_NAME_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_NAME
, (¡))

	)

1564 
	#sk_X509_NAME_num
(
¡
è
	`SKM_sk_num
(
X509_NAME
, (¡))

	)

1565 
	#sk_X509_NAME_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_NAME
, (¡), (i))

	)

1566 
	#sk_X509_NAME_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_NAME
, (¡), (i), (v®))

	)

1567 
	#sk_X509_NAME_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_NAME
, (¡))

	)

1568 
	#sk_X509_NAME_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_NAME
, (¡), (v®))

	)

1569 
	#sk_X509_NAME_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_NAME
, (¡), (v®))

	)

1570 
	#sk_X509_NAME_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_NAME
, (¡), (v®))

	)

1571 
	#sk_X509_NAME_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_NAME
, (¡), (v®))

	)

1572 
	#sk_X509_NAME_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_NAME
, (¡), (i))

	)

1573 
	#sk_X509_NAME_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_NAME
, (¡), (±r))

	)

1574 
	#sk_X509_NAME_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_NAME
, (¡), (v®), (i))

	)

1575 
	#sk_X509_NAME_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_NAME
, (¡), (cmp))

	)

1576 
	#sk_X509_NAME_dup
(
¡
è
	`SKM_sk_dup
(
X509_NAME
, st)

	)

1577 
	#sk_X509_NAME_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_NAME
, (¡), (ä“_func))

	)

1578 
	#sk_X509_NAME_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_NAME
, (¡))

	)

1579 
	#sk_X509_NAME_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_NAME
, (¡))

	)

1580 
	#sk_X509_NAME_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_NAME
, (¡))

	)

1581 
	#sk_X509_NAME_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_NAME
, (¡))

	)

1583 
	#sk_X509_NAME_ENTRY_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_NAME_ENTRY
, (¡))

	)

1584 
	#sk_X509_NAME_ENTRY_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_NAME_ENTRY
)

	)

1585 
	#sk_X509_NAME_ENTRY_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_NAME_ENTRY
, (¡))

	)

1586 
	#sk_X509_NAME_ENTRY_num
(
¡
è
	`SKM_sk_num
(
X509_NAME_ENTRY
, (¡))

	)

1587 
	#sk_X509_NAME_ENTRY_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_NAME_ENTRY
, (¡), (i))

	)

1588 
	#sk_X509_NAME_ENTRY_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_NAME_ENTRY
, (¡), (i), (v®))

	)

1589 
	#sk_X509_NAME_ENTRY_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_NAME_ENTRY
, (¡))

	)

1590 
	#sk_X509_NAME_ENTRY_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_NAME_ENTRY
, (¡), (v®))

	)

1591 
	#sk_X509_NAME_ENTRY_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_NAME_ENTRY
, (¡), (v®))

	)

1592 
	#sk_X509_NAME_ENTRY_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_NAME_ENTRY
, (¡), (v®))

	)

1593 
	#sk_X509_NAME_ENTRY_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_NAME_ENTRY
, (¡), (v®))

	)

1594 
	#sk_X509_NAME_ENTRY_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_NAME_ENTRY
, (¡), (i))

	)

1595 
	#sk_X509_NAME_ENTRY_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_NAME_ENTRY
, (¡), (±r))

	)

1596 
	#sk_X509_NAME_ENTRY_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_NAME_ENTRY
, (¡), (v®), (i))

	)

1597 
	#sk_X509_NAME_ENTRY_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_NAME_ENTRY
, (¡), (cmp))

	)

1598 
	#sk_X509_NAME_ENTRY_dup
(
¡
è
	`SKM_sk_dup
(
X509_NAME_ENTRY
, st)

	)

1599 
	#sk_X509_NAME_ENTRY_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_NAME_ENTRY
, (¡), (ä“_func))

	)

1600 
	#sk_X509_NAME_ENTRY_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_NAME_ENTRY
, (¡))

	)

1601 
	#sk_X509_NAME_ENTRY_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_NAME_ENTRY
, (¡))

	)

1602 
	#sk_X509_NAME_ENTRY_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_NAME_ENTRY
, (¡))

	)

1603 
	#sk_X509_NAME_ENTRY_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_NAME_ENTRY
, (¡))

	)

1605 
	#sk_X509_OBJECT_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_OBJECT
, (¡))

	)

1606 
	#sk_X509_OBJECT_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_OBJECT
)

	)

1607 
	#sk_X509_OBJECT_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_OBJECT
, (¡))

	)

1608 
	#sk_X509_OBJECT_num
(
¡
è
	`SKM_sk_num
(
X509_OBJECT
, (¡))

	)

1609 
	#sk_X509_OBJECT_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_OBJECT
, (¡), (i))

	)

1610 
	#sk_X509_OBJECT_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_OBJECT
, (¡), (i), (v®))

	)

1611 
	#sk_X509_OBJECT_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_OBJECT
, (¡))

	)

1612 
	#sk_X509_OBJECT_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_OBJECT
, (¡), (v®))

	)

1613 
	#sk_X509_OBJECT_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_OBJECT
, (¡), (v®))

	)

1614 
	#sk_X509_OBJECT_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_OBJECT
, (¡), (v®))

	)

1615 
	#sk_X509_OBJECT_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_OBJECT
, (¡), (v®))

	)

1616 
	#sk_X509_OBJECT_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_OBJECT
, (¡), (i))

	)

1617 
	#sk_X509_OBJECT_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_OBJECT
, (¡), (±r))

	)

1618 
	#sk_X509_OBJECT_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_OBJECT
, (¡), (v®), (i))

	)

1619 
	#sk_X509_OBJECT_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_OBJECT
, (¡), (cmp))

	)

1620 
	#sk_X509_OBJECT_dup
(
¡
è
	`SKM_sk_dup
(
X509_OBJECT
, st)

	)

1621 
	#sk_X509_OBJECT_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_OBJECT
, (¡), (ä“_func))

	)

1622 
	#sk_X509_OBJECT_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_OBJECT
, (¡))

	)

1623 
	#sk_X509_OBJECT_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_OBJECT
, (¡))

	)

1624 
	#sk_X509_OBJECT_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_OBJECT
, (¡))

	)

1625 
	#sk_X509_OBJECT_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_OBJECT
, (¡))

	)

1627 
	#sk_X509_POLICY_DATA_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_POLICY_DATA
, (¡))

	)

1628 
	#sk_X509_POLICY_DATA_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_POLICY_DATA
)

	)

1629 
	#sk_X509_POLICY_DATA_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_POLICY_DATA
, (¡))

	)

1630 
	#sk_X509_POLICY_DATA_num
(
¡
è
	`SKM_sk_num
(
X509_POLICY_DATA
, (¡))

	)

1631 
	#sk_X509_POLICY_DATA_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_POLICY_DATA
, (¡), (i))

	)

1632 
	#sk_X509_POLICY_DATA_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_POLICY_DATA
, (¡), (i), (v®))

	)

1633 
	#sk_X509_POLICY_DATA_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_POLICY_DATA
, (¡))

	)

1634 
	#sk_X509_POLICY_DATA_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_POLICY_DATA
, (¡), (v®))

	)

1635 
	#sk_X509_POLICY_DATA_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_POLICY_DATA
, (¡), (v®))

	)

1636 
	#sk_X509_POLICY_DATA_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_POLICY_DATA
, (¡), (v®))

	)

1637 
	#sk_X509_POLICY_DATA_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_POLICY_DATA
, (¡), (v®))

	)

1638 
	#sk_X509_POLICY_DATA_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_POLICY_DATA
, (¡), (i))

	)

1639 
	#sk_X509_POLICY_DATA_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_POLICY_DATA
, (¡), (±r))

	)

1640 
	#sk_X509_POLICY_DATA_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_POLICY_DATA
, (¡), (v®), (i))

	)

1641 
	#sk_X509_POLICY_DATA_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_POLICY_DATA
, (¡), (cmp))

	)

1642 
	#sk_X509_POLICY_DATA_dup
(
¡
è
	`SKM_sk_dup
(
X509_POLICY_DATA
, st)

	)

1643 
	#sk_X509_POLICY_DATA_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_POLICY_DATA
, (¡), (ä“_func))

	)

1644 
	#sk_X509_POLICY_DATA_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_POLICY_DATA
, (¡))

	)

1645 
	#sk_X509_POLICY_DATA_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_POLICY_DATA
, (¡))

	)

1646 
	#sk_X509_POLICY_DATA_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_POLICY_DATA
, (¡))

	)

1647 
	#sk_X509_POLICY_DATA_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_POLICY_DATA
, (¡))

	)

1649 
	#sk_X509_POLICY_NODE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_POLICY_NODE
, (¡))

	)

1650 
	#sk_X509_POLICY_NODE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_POLICY_NODE
)

	)

1651 
	#sk_X509_POLICY_NODE_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_POLICY_NODE
, (¡))

	)

1652 
	#sk_X509_POLICY_NODE_num
(
¡
è
	`SKM_sk_num
(
X509_POLICY_NODE
, (¡))

	)

1653 
	#sk_X509_POLICY_NODE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_POLICY_NODE
, (¡), (i))

	)

1654 
	#sk_X509_POLICY_NODE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_POLICY_NODE
, (¡), (i), (v®))

	)

1655 
	#sk_X509_POLICY_NODE_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_POLICY_NODE
, (¡))

	)

1656 
	#sk_X509_POLICY_NODE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_POLICY_NODE
, (¡), (v®))

	)

1657 
	#sk_X509_POLICY_NODE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_POLICY_NODE
, (¡), (v®))

	)

1658 
	#sk_X509_POLICY_NODE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_POLICY_NODE
, (¡), (v®))

	)

1659 
	#sk_X509_POLICY_NODE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_POLICY_NODE
, (¡), (v®))

	)

1660 
	#sk_X509_POLICY_NODE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_POLICY_NODE
, (¡), (i))

	)

1661 
	#sk_X509_POLICY_NODE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_POLICY_NODE
, (¡), (±r))

	)

1662 
	#sk_X509_POLICY_NODE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_POLICY_NODE
, (¡), (v®), (i))

	)

1663 
	#sk_X509_POLICY_NODE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_POLICY_NODE
, (¡), (cmp))

	)

1664 
	#sk_X509_POLICY_NODE_dup
(
¡
è
	`SKM_sk_dup
(
X509_POLICY_NODE
, st)

	)

1665 
	#sk_X509_POLICY_NODE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_POLICY_NODE
, (¡), (ä“_func))

	)

1666 
	#sk_X509_POLICY_NODE_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_POLICY_NODE
, (¡))

	)

1667 
	#sk_X509_POLICY_NODE_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_POLICY_NODE
, (¡))

	)

1668 
	#sk_X509_POLICY_NODE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_POLICY_NODE
, (¡))

	)

1669 
	#sk_X509_POLICY_NODE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_POLICY_NODE
, (¡))

	)

1671 
	#sk_X509_POLICY_REF_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_POLICY_REF
, (¡))

	)

1672 
	#sk_X509_POLICY_REF_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_POLICY_REF
)

	)

1673 
	#sk_X509_POLICY_REF_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_POLICY_REF
, (¡))

	)

1674 
	#sk_X509_POLICY_REF_num
(
¡
è
	`SKM_sk_num
(
X509_POLICY_REF
, (¡))

	)

1675 
	#sk_X509_POLICY_REF_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_POLICY_REF
, (¡), (i))

	)

1676 
	#sk_X509_POLICY_REF_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_POLICY_REF
, (¡), (i), (v®))

	)

1677 
	#sk_X509_POLICY_REF_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_POLICY_REF
, (¡))

	)

1678 
	#sk_X509_POLICY_REF_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_POLICY_REF
, (¡), (v®))

	)

1679 
	#sk_X509_POLICY_REF_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_POLICY_REF
, (¡), (v®))

	)

1680 
	#sk_X509_POLICY_REF_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_POLICY_REF
, (¡), (v®))

	)

1681 
	#sk_X509_POLICY_REF_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_POLICY_REF
, (¡), (v®))

	)

1682 
	#sk_X509_POLICY_REF_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_POLICY_REF
, (¡), (i))

	)

1683 
	#sk_X509_POLICY_REF_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_POLICY_REF
, (¡), (±r))

	)

1684 
	#sk_X509_POLICY_REF_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_POLICY_REF
, (¡), (v®), (i))

	)

1685 
	#sk_X509_POLICY_REF_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_POLICY_REF
, (¡), (cmp))

	)

1686 
	#sk_X509_POLICY_REF_dup
(
¡
è
	`SKM_sk_dup
(
X509_POLICY_REF
, st)

	)

1687 
	#sk_X509_POLICY_REF_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_POLICY_REF
, (¡), (ä“_func))

	)

1688 
	#sk_X509_POLICY_REF_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_POLICY_REF
, (¡))

	)

1689 
	#sk_X509_POLICY_REF_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_POLICY_REF
, (¡))

	)

1690 
	#sk_X509_POLICY_REF_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_POLICY_REF
, (¡))

	)

1691 
	#sk_X509_POLICY_REF_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_POLICY_REF
, (¡))

	)

1693 
	#sk_X509_PURPOSE_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_PURPOSE
, (¡))

	)

1694 
	#sk_X509_PURPOSE_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_PURPOSE
)

	)

1695 
	#sk_X509_PURPOSE_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_PURPOSE
, (¡))

	)

1696 
	#sk_X509_PURPOSE_num
(
¡
è
	`SKM_sk_num
(
X509_PURPOSE
, (¡))

	)

1697 
	#sk_X509_PURPOSE_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_PURPOSE
, (¡), (i))

	)

1698 
	#sk_X509_PURPOSE_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_PURPOSE
, (¡), (i), (v®))

	)

1699 
	#sk_X509_PURPOSE_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_PURPOSE
, (¡))

	)

1700 
	#sk_X509_PURPOSE_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_PURPOSE
, (¡), (v®))

	)

1701 
	#sk_X509_PURPOSE_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_PURPOSE
, (¡), (v®))

	)

1702 
	#sk_X509_PURPOSE_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_PURPOSE
, (¡), (v®))

	)

1703 
	#sk_X509_PURPOSE_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_PURPOSE
, (¡), (v®))

	)

1704 
	#sk_X509_PURPOSE_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_PURPOSE
, (¡), (i))

	)

1705 
	#sk_X509_PURPOSE_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_PURPOSE
, (¡), (±r))

	)

1706 
	#sk_X509_PURPOSE_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_PURPOSE
, (¡), (v®), (i))

	)

1707 
	#sk_X509_PURPOSE_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_PURPOSE
, (¡), (cmp))

	)

1708 
	#sk_X509_PURPOSE_dup
(
¡
è
	`SKM_sk_dup
(
X509_PURPOSE
, st)

	)

1709 
	#sk_X509_PURPOSE_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_PURPOSE
, (¡), (ä“_func))

	)

1710 
	#sk_X509_PURPOSE_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_PURPOSE
, (¡))

	)

1711 
	#sk_X509_PURPOSE_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_PURPOSE
, (¡))

	)

1712 
	#sk_X509_PURPOSE_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_PURPOSE
, (¡))

	)

1713 
	#sk_X509_PURPOSE_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_PURPOSE
, (¡))

	)

1715 
	#sk_X509_REVOKED_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_REVOKED
, (¡))

	)

1716 
	#sk_X509_REVOKED_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_REVOKED
)

	)

1717 
	#sk_X509_REVOKED_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_REVOKED
, (¡))

	)

1718 
	#sk_X509_REVOKED_num
(
¡
è
	`SKM_sk_num
(
X509_REVOKED
, (¡))

	)

1719 
	#sk_X509_REVOKED_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_REVOKED
, (¡), (i))

	)

1720 
	#sk_X509_REVOKED_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_REVOKED
, (¡), (i), (v®))

	)

1721 
	#sk_X509_REVOKED_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_REVOKED
, (¡))

	)

1722 
	#sk_X509_REVOKED_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_REVOKED
, (¡), (v®))

	)

1723 
	#sk_X509_REVOKED_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_REVOKED
, (¡), (v®))

	)

1724 
	#sk_X509_REVOKED_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_REVOKED
, (¡), (v®))

	)

1725 
	#sk_X509_REVOKED_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_REVOKED
, (¡), (v®))

	)

1726 
	#sk_X509_REVOKED_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_REVOKED
, (¡), (i))

	)

1727 
	#sk_X509_REVOKED_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_REVOKED
, (¡), (±r))

	)

1728 
	#sk_X509_REVOKED_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_REVOKED
, (¡), (v®), (i))

	)

1729 
	#sk_X509_REVOKED_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_REVOKED
, (¡), (cmp))

	)

1730 
	#sk_X509_REVOKED_dup
(
¡
è
	`SKM_sk_dup
(
X509_REVOKED
, st)

	)

1731 
	#sk_X509_REVOKED_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_REVOKED
, (¡), (ä“_func))

	)

1732 
	#sk_X509_REVOKED_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_REVOKED
, (¡))

	)

1733 
	#sk_X509_REVOKED_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_REVOKED
, (¡))

	)

1734 
	#sk_X509_REVOKED_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_REVOKED
, (¡))

	)

1735 
	#sk_X509_REVOKED_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_REVOKED
, (¡))

	)

1737 
	#sk_X509_TRUST_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_TRUST
, (¡))

	)

1738 
	#sk_X509_TRUST_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_TRUST
)

	)

1739 
	#sk_X509_TRUST_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_TRUST
, (¡))

	)

1740 
	#sk_X509_TRUST_num
(
¡
è
	`SKM_sk_num
(
X509_TRUST
, (¡))

	)

1741 
	#sk_X509_TRUST_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_TRUST
, (¡), (i))

	)

1742 
	#sk_X509_TRUST_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_TRUST
, (¡), (i), (v®))

	)

1743 
	#sk_X509_TRUST_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_TRUST
, (¡))

	)

1744 
	#sk_X509_TRUST_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_TRUST
, (¡), (v®))

	)

1745 
	#sk_X509_TRUST_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_TRUST
, (¡), (v®))

	)

1746 
	#sk_X509_TRUST_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_TRUST
, (¡), (v®))

	)

1747 
	#sk_X509_TRUST_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_TRUST
, (¡), (v®))

	)

1748 
	#sk_X509_TRUST_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_TRUST
, (¡), (i))

	)

1749 
	#sk_X509_TRUST_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_TRUST
, (¡), (±r))

	)

1750 
	#sk_X509_TRUST_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_TRUST
, (¡), (v®), (i))

	)

1751 
	#sk_X509_TRUST_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_TRUST
, (¡), (cmp))

	)

1752 
	#sk_X509_TRUST_dup
(
¡
è
	`SKM_sk_dup
(
X509_TRUST
, st)

	)

1753 
	#sk_X509_TRUST_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_TRUST
, (¡), (ä“_func))

	)

1754 
	#sk_X509_TRUST_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_TRUST
, (¡))

	)

1755 
	#sk_X509_TRUST_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_TRUST
, (¡))

	)

1756 
	#sk_X509_TRUST_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_TRUST
, (¡))

	)

1757 
	#sk_X509_TRUST_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_TRUST
, (¡))

	)

1759 
	#sk_X509_VERIFY_PARAM_Ãw
(
¡
è
	`SKM_sk_Ãw
(
X509_VERIFY_PARAM
, (¡))

	)

1760 
	#sk_X509_VERIFY_PARAM_Ãw_nuÎ
(è
	`SKM_sk_Ãw_nuÎ
(
X509_VERIFY_PARAM
)

	)

1761 
	#sk_X509_VERIFY_PARAM_ä“
(
¡
è
	`SKM_sk_ä“
(
X509_VERIFY_PARAM
, (¡))

	)

1762 
	#sk_X509_VERIFY_PARAM_num
(
¡
è
	`SKM_sk_num
(
X509_VERIFY_PARAM
, (¡))

	)

1763 
	#sk_X509_VERIFY_PARAM_v®ue
(
¡
, 
i
è
	`SKM_sk_v®ue
(
X509_VERIFY_PARAM
, (¡), (i))

	)

1764 
	#sk_X509_VERIFY_PARAM_£t
(
¡
, 
i
, 
v®
è
	`SKM_sk_£t
(
X509_VERIFY_PARAM
, (¡), (i), (v®))

	)

1765 
	#sk_X509_VERIFY_PARAM_z”o
(
¡
è
	`SKM_sk_z”o
(
X509_VERIFY_PARAM
, (¡))

	)

1766 
	#sk_X509_VERIFY_PARAM_push
(
¡
, 
v®
è
	`SKM_sk_push
(
X509_VERIFY_PARAM
, (¡), (v®))

	)

1767 
	#sk_X509_VERIFY_PARAM_unshiá
(
¡
, 
v®
è
	`SKM_sk_unshiá
(
X509_VERIFY_PARAM
, (¡), (v®))

	)

1768 
	#sk_X509_VERIFY_PARAM_fšd
(
¡
, 
v®
è
	`SKM_sk_fšd
(
X509_VERIFY_PARAM
, (¡), (v®))

	)

1769 
	#sk_X509_VERIFY_PARAM_fšd_ex
(
¡
, 
v®
è
	`SKM_sk_fšd_ex
(
X509_VERIFY_PARAM
, (¡), (v®))

	)

1770 
	#sk_X509_VERIFY_PARAM_d–‘e
(
¡
, 
i
è
	`SKM_sk_d–‘e
(
X509_VERIFY_PARAM
, (¡), (i))

	)

1771 
	#sk_X509_VERIFY_PARAM_d–‘e_±r
(
¡
, 
±r
è
	`SKM_sk_d–‘e_±r
(
X509_VERIFY_PARAM
, (¡), (±r))

	)

1772 
	#sk_X509_VERIFY_PARAM_š£¹
(
¡
, 
v®
, 
i
è
	`SKM_sk_š£¹
(
X509_VERIFY_PARAM
, (¡), (v®), (i))

	)

1773 
	#sk_X509_VERIFY_PARAM_£t_cmp_func
(
¡
, 
cmp
è
	`SKM_sk_£t_cmp_func
(
X509_VERIFY_PARAM
, (¡), (cmp))

	)

1774 
	#sk_X509_VERIFY_PARAM_dup
(
¡
è
	`SKM_sk_dup
(
X509_VERIFY_PARAM
, st)

	)

1775 
	#sk_X509_VERIFY_PARAM_pİ_ä“
(
¡
, 
ä“_func
è
	`SKM_sk_pİ_ä“
(
X509_VERIFY_PARAM
, (¡), (ä“_func))

	)

1776 
	#sk_X509_VERIFY_PARAM_shiá
(
¡
è
	`SKM_sk_shiá
(
X509_VERIFY_PARAM
, (¡))

	)

1777 
	#sk_X509_VERIFY_PARAM_pİ
(
¡
è
	`SKM_sk_pİ
(
X509_VERIFY_PARAM
, (¡))

	)

1778 
	#sk_X509_VERIFY_PARAM_sÜt
(
¡
è
	`SKM_sk_sÜt
(
X509_VERIFY_PARAM
, (¡))

	)

1779 
	#sk_X509_VERIFY_PARAM_is_sÜ‹d
(
¡
è
	`SKM_sk_is_sÜ‹d
(
X509_VERIFY_PARAM
, (¡))

	)

1781 
	#d2i_ASN1_SET_OF_ACCESS_DESCRIPTION
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1782 
	`SKM_ASN1_SET_OF_d2i
(
ACCESS_DESCRIPTION
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1783 
	#i2d_ASN1_SET_OF_ACCESS_DESCRIPTION
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1784 
	`SKM_ASN1_SET_OF_i2d
(
ACCESS_DESCRIPTION
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1785 
	#ASN1_£q_·ck_ACCESS_DESCRIPTION
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1786 
	`SKM_ASN1_£q_·ck
(
ACCESS_DESCRIPTION
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1787 
	#ASN1_£q_uÅack_ACCESS_DESCRIPTION
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1788 
	`SKM_ASN1_£q_uÅack
(
ACCESS_DESCRIPTION
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1790 
	#d2i_ASN1_SET_OF_ASN1_INTEGER
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1791 
	`SKM_ASN1_SET_OF_d2i
(
ASN1_INTEGER
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1792 
	#i2d_ASN1_SET_OF_ASN1_INTEGER
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1793 
	`SKM_ASN1_SET_OF_i2d
(
ASN1_INTEGER
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1794 
	#ASN1_£q_·ck_ASN1_INTEGER
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1795 
	`SKM_ASN1_£q_·ck
(
ASN1_INTEGER
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1796 
	#ASN1_£q_uÅack_ASN1_INTEGER
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1797 
	`SKM_ASN1_£q_uÅack
(
ASN1_INTEGER
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1799 
	#d2i_ASN1_SET_OF_ASN1_OBJECT
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1800 
	`SKM_ASN1_SET_OF_d2i
(
ASN1_OBJECT
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1801 
	#i2d_ASN1_SET_OF_ASN1_OBJECT
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1802 
	`SKM_ASN1_SET_OF_i2d
(
ASN1_OBJECT
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1803 
	#ASN1_£q_·ck_ASN1_OBJECT
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1804 
	`SKM_ASN1_£q_·ck
(
ASN1_OBJECT
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1805 
	#ASN1_£q_uÅack_ASN1_OBJECT
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1806 
	`SKM_ASN1_£q_uÅack
(
ASN1_OBJECT
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1808 
	#d2i_ASN1_SET_OF_ASN1_TYPE
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1809 
	`SKM_ASN1_SET_OF_d2i
(
ASN1_TYPE
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1810 
	#i2d_ASN1_SET_OF_ASN1_TYPE
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1811 
	`SKM_ASN1_SET_OF_i2d
(
ASN1_TYPE
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1812 
	#ASN1_£q_·ck_ASN1_TYPE
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1813 
	`SKM_ASN1_£q_·ck
(
ASN1_TYPE
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1814 
	#ASN1_£q_uÅack_ASN1_TYPE
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1815 
	`SKM_ASN1_£q_uÅack
(
ASN1_TYPE
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1817 
	#d2i_ASN1_SET_OF_DIST_POINT
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1818 
	`SKM_ASN1_SET_OF_d2i
(
DIST_POINT
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1819 
	#i2d_ASN1_SET_OF_DIST_POINT
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1820 
	`SKM_ASN1_SET_OF_i2d
(
DIST_POINT
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1821 
	#ASN1_£q_·ck_DIST_POINT
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1822 
	`SKM_ASN1_£q_·ck
(
DIST_POINT
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1823 
	#ASN1_£q_uÅack_DIST_POINT
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1824 
	`SKM_ASN1_£q_uÅack
(
DIST_POINT
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1826 
	#d2i_ASN1_SET_OF_GENERAL_NAME
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1827 
	`SKM_ASN1_SET_OF_d2i
(
GENERAL_NAME
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1828 
	#i2d_ASN1_SET_OF_GENERAL_NAME
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1829 
	`SKM_ASN1_SET_OF_i2d
(
GENERAL_NAME
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1830 
	#ASN1_£q_·ck_GENERAL_NAME
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1831 
	`SKM_ASN1_£q_·ck
(
GENERAL_NAME
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1832 
	#ASN1_£q_uÅack_GENERAL_NAME
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1833 
	`SKM_ASN1_£q_uÅack
(
GENERAL_NAME
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1835 
	#d2i_ASN1_SET_OF_OCSP_ONEREQ
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1836 
	`SKM_ASN1_SET_OF_d2i
(
OCSP_ONEREQ
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1837 
	#i2d_ASN1_SET_OF_OCSP_ONEREQ
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1838 
	`SKM_ASN1_SET_OF_i2d
(
OCSP_ONEREQ
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1839 
	#ASN1_£q_·ck_OCSP_ONEREQ
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1840 
	`SKM_ASN1_£q_·ck
(
OCSP_ONEREQ
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1841 
	#ASN1_£q_uÅack_OCSP_ONEREQ
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1842 
	`SKM_ASN1_£q_uÅack
(
OCSP_ONEREQ
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1844 
	#d2i_ASN1_SET_OF_OCSP_SINGLERESP
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1845 
	`SKM_ASN1_SET_OF_d2i
(
OCSP_SINGLERESP
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1846 
	#i2d_ASN1_SET_OF_OCSP_SINGLERESP
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1847 
	`SKM_ASN1_SET_OF_i2d
(
OCSP_SINGLERESP
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1848 
	#ASN1_£q_·ck_OCSP_SINGLERESP
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1849 
	`SKM_ASN1_£q_·ck
(
OCSP_SINGLERESP
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1850 
	#ASN1_£q_uÅack_OCSP_SINGLERESP
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1851 
	`SKM_ASN1_£q_uÅack
(
OCSP_SINGLERESP
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1853 
	#d2i_ASN1_SET_OF_PKCS12_SAFEBAG
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1854 
	`SKM_ASN1_SET_OF_d2i
(
PKCS12_SAFEBAG
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1855 
	#i2d_ASN1_SET_OF_PKCS12_SAFEBAG
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1856 
	`SKM_ASN1_SET_OF_i2d
(
PKCS12_SAFEBAG
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1857 
	#ASN1_£q_·ck_PKCS12_SAFEBAG
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1858 
	`SKM_ASN1_£q_·ck
(
PKCS12_SAFEBAG
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1859 
	#ASN1_£q_uÅack_PKCS12_SAFEBAG
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1860 
	`SKM_ASN1_£q_uÅack
(
PKCS12_SAFEBAG
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1862 
	#d2i_ASN1_SET_OF_PKCS7
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1863 
	`SKM_ASN1_SET_OF_d2i
(
PKCS7
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1864 
	#i2d_ASN1_SET_OF_PKCS7
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1865 
	`SKM_ASN1_SET_OF_i2d
(
PKCS7
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1866 
	#ASN1_£q_·ck_PKCS7
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1867 
	`SKM_ASN1_£q_·ck
(
PKCS7
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1868 
	#ASN1_£q_uÅack_PKCS7
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1869 
	`SKM_ASN1_£q_uÅack
(
PKCS7
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1871 
	#d2i_ASN1_SET_OF_PKCS7_RECIP_INFO
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1872 
	`SKM_ASN1_SET_OF_d2i
(
PKCS7_RECIP_INFO
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1873 
	#i2d_ASN1_SET_OF_PKCS7_RECIP_INFO
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1874 
	`SKM_ASN1_SET_OF_i2d
(
PKCS7_RECIP_INFO
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1875 
	#ASN1_£q_·ck_PKCS7_RECIP_INFO
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1876 
	`SKM_ASN1_£q_·ck
(
PKCS7_RECIP_INFO
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1877 
	#ASN1_£q_uÅack_PKCS7_RECIP_INFO
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1878 
	`SKM_ASN1_£q_uÅack
(
PKCS7_RECIP_INFO
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1880 
	#d2i_ASN1_SET_OF_PKCS7_SIGNER_INFO
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1881 
	`SKM_ASN1_SET_OF_d2i
(
PKCS7_SIGNER_INFO
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1882 
	#i2d_ASN1_SET_OF_PKCS7_SIGNER_INFO
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1883 
	`SKM_ASN1_SET_OF_i2d
(
PKCS7_SIGNER_INFO
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1884 
	#ASN1_£q_·ck_PKCS7_SIGNER_INFO
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1885 
	`SKM_ASN1_£q_·ck
(
PKCS7_SIGNER_INFO
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1886 
	#ASN1_£q_uÅack_PKCS7_SIGNER_INFO
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1887 
	`SKM_ASN1_£q_uÅack
(
PKCS7_SIGNER_INFO
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1889 
	#d2i_ASN1_SET_OF_POLICYINFO
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1890 
	`SKM_ASN1_SET_OF_d2i
(
POLICYINFO
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1891 
	#i2d_ASN1_SET_OF_POLICYINFO
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1892 
	`SKM_ASN1_SET_OF_i2d
(
POLICYINFO
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1893 
	#ASN1_£q_·ck_POLICYINFO
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1894 
	`SKM_ASN1_£q_·ck
(
POLICYINFO
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1895 
	#ASN1_£q_uÅack_POLICYINFO
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1896 
	`SKM_ASN1_£q_uÅack
(
POLICYINFO
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1898 
	#d2i_ASN1_SET_OF_POLICYQUALINFO
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1899 
	`SKM_ASN1_SET_OF_d2i
(
POLICYQUALINFO
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1900 
	#i2d_ASN1_SET_OF_POLICYQUALINFO
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1901 
	`SKM_ASN1_SET_OF_i2d
(
POLICYQUALINFO
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1902 
	#ASN1_£q_·ck_POLICYQUALINFO
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1903 
	`SKM_ASN1_£q_·ck
(
POLICYQUALINFO
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1904 
	#ASN1_£q_uÅack_POLICYQUALINFO
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1905 
	`SKM_ASN1_£q_uÅack
(
POLICYQUALINFO
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1907 
	#d2i_ASN1_SET_OF_SXNETID
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1908 
	`SKM_ASN1_SET_OF_d2i
(
SXNETID
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1909 
	#i2d_ASN1_SET_OF_SXNETID
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1910 
	`SKM_ASN1_SET_OF_i2d
(
SXNETID
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1911 
	#ASN1_£q_·ck_SXNETID
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1912 
	`SKM_ASN1_£q_·ck
(
SXNETID
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1913 
	#ASN1_£q_uÅack_SXNETID
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1914 
	`SKM_ASN1_£q_uÅack
(
SXNETID
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1916 
	#d2i_ASN1_SET_OF_X509
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1917 
	`SKM_ASN1_SET_OF_d2i
(
X509
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1918 
	#i2d_ASN1_SET_OF_X509
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1919 
	`SKM_ASN1_SET_OF_i2d
(
X509
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1920 
	#ASN1_£q_·ck_X509
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1921 
	`SKM_ASN1_£q_·ck
(
X509
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1922 
	#ASN1_£q_uÅack_X509
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1923 
	`SKM_ASN1_£q_uÅack
(
X509
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1925 
	#d2i_ASN1_SET_OF_X509_ALGOR
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1926 
	`SKM_ASN1_SET_OF_d2i
(
X509_ALGOR
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1927 
	#i2d_ASN1_SET_OF_X509_ALGOR
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1928 
	`SKM_ASN1_SET_OF_i2d
(
X509_ALGOR
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1929 
	#ASN1_£q_·ck_X509_ALGOR
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1930 
	`SKM_ASN1_£q_·ck
(
X509_ALGOR
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1931 
	#ASN1_£q_uÅack_X509_ALGOR
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1932 
	`SKM_ASN1_£q_uÅack
(
X509_ALGOR
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1934 
	#d2i_ASN1_SET_OF_X509_ATTRIBUTE
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1935 
	`SKM_ASN1_SET_OF_d2i
(
X509_ATTRIBUTE
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1936 
	#i2d_ASN1_SET_OF_X509_ATTRIBUTE
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1937 
	`SKM_ASN1_SET_OF_i2d
(
X509_ATTRIBUTE
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1938 
	#ASN1_£q_·ck_X509_ATTRIBUTE
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1939 
	`SKM_ASN1_£q_·ck
(
X509_ATTRIBUTE
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1940 
	#ASN1_£q_uÅack_X509_ATTRIBUTE
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1941 
	`SKM_ASN1_£q_uÅack
(
X509_ATTRIBUTE
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1943 
	#d2i_ASN1_SET_OF_X509_CRL
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1944 
	`SKM_ASN1_SET_OF_d2i
(
X509_CRL
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1945 
	#i2d_ASN1_SET_OF_X509_CRL
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1946 
	`SKM_ASN1_SET_OF_i2d
(
X509_CRL
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1947 
	#ASN1_£q_·ck_X509_CRL
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1948 
	`SKM_ASN1_£q_·ck
(
X509_CRL
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1949 
	#ASN1_£q_uÅack_X509_CRL
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1950 
	`SKM_ASN1_£q_uÅack
(
X509_CRL
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1952 
	#d2i_ASN1_SET_OF_X509_EXTENSION
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1953 
	`SKM_ASN1_SET_OF_d2i
(
X509_EXTENSION
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1954 
	#i2d_ASN1_SET_OF_X509_EXTENSION
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1955 
	`SKM_ASN1_SET_OF_i2d
(
X509_EXTENSION
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1956 
	#ASN1_£q_·ck_X509_EXTENSION
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1957 
	`SKM_ASN1_£q_·ck
(
X509_EXTENSION
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1958 
	#ASN1_£q_uÅack_X509_EXTENSION
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1959 
	`SKM_ASN1_£q_uÅack
(
X509_EXTENSION
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1961 
	#d2i_ASN1_SET_OF_X509_NAME_ENTRY
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1962 
	`SKM_ASN1_SET_OF_d2i
(
X509_NAME_ENTRY
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1963 
	#i2d_ASN1_SET_OF_X509_NAME_ENTRY
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1964 
	`SKM_ASN1_SET_OF_i2d
(
X509_NAME_ENTRY
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1965 
	#ASN1_£q_·ck_X509_NAME_ENTRY
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1966 
	`SKM_ASN1_£q_·ck
(
X509_NAME_ENTRY
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1967 
	#ASN1_£q_uÅack_X509_NAME_ENTRY
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1968 
	`SKM_ASN1_£q_uÅack
(
X509_NAME_ENTRY
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1970 
	#d2i_ASN1_SET_OF_X509_REVOKED
(
¡
, 
µ
, 
Ëngth
, 
d2i_func
, 
ä“_func
, 
ex_g
, 
ex_şass
) \

1971 
	`SKM_ASN1_SET_OF_d2i
(
X509_REVOKED
, (
¡
), (
µ
), (
Ëngth
), (
d2i_func
), (
ä“_func
), (
ex_g
), (
ex_şass
))

	)

1972 
	#i2d_ASN1_SET_OF_X509_REVOKED
(
¡
, 
µ
, 
i2d_func
, 
ex_g
, 
ex_şass
, 
is_£t
) \

1973 
	`SKM_ASN1_SET_OF_i2d
(
X509_REVOKED
, (
¡
), (
µ
), (
i2d_func
), (
ex_g
), (
ex_şass
), (
is_£t
))

	)

1974 
	#ASN1_£q_·ck_X509_REVOKED
(
¡
, 
i2d_func
, 
buf
, 
Ën
) \

1975 
	`SKM_ASN1_£q_·ck
(
X509_REVOKED
, (
¡
), (
i2d_func
), (
buf
), (
Ën
))

	)

1976 
	#ASN1_£q_uÅack_X509_REVOKED
(
buf
, 
Ën
, 
d2i_func
, 
ä“_func
) \

1977 
	`SKM_ASN1_£q_uÅack
(
X509_REVOKED
, (
buf
), (
Ën
), (
d2i_func
), (
ä“_func
))

	)

1979 
	#PKCS12_deüy±_d2i_PKCS12_SAFEBAG
(
®gÜ
, 
d2i_func
, 
ä“_func
, 
·ss
, 
·s¦’
, 
où
, 
£q
) \

1980 
	`SKM_PKCS12_deüy±_d2i
(
PKCS12_SAFEBAG
, (
®gÜ
), (
d2i_func
), (
ä“_func
), (
·ss
), (
·s¦’
), (
où
), (
£q
))

	)

1982 
	#PKCS12_deüy±_d2i_PKCS7
(
®gÜ
, 
d2i_func
, 
ä“_func
, 
·ss
, 
·s¦’
, 
où
, 
£q
) \

1983 
	`SKM_PKCS12_deüy±_d2i
(
PKCS7
, (
®gÜ
), (
d2i_func
), (
ä“_func
), (
·ss
), (
·s¦’
), (
où
), (
£q
))

	)

	@/usr/include/openssl/ebcdic.h

3 #iâdeà
HEADER_EBCDIC_H


4 
	#HEADER_EBCDIC_H


	)

6 
	~<sys/ty³s.h
>

9 
	#os_tßscii
 
_İ’s¦_os_tßscii


	)

10 
	#os_tÛbcdic
 
_İ’s¦_os_tÛbcdic


	)

11 
	#ebcdic2ascii
 
_İ’s¦_ebcdic2ascii


	)

12 
	#ascii2ebcdic
 
_İ’s¦_ascii2ebcdic


	)

14 cÚ¡ 
os_tßscii
[256];

15 cÚ¡ 
os_tÛbcdic
[256];

16 *
ebcdic2ascii
(*
de¡
, cÚ¡ *
¤û
, 
size_t
 
couÁ
);

17 *
ascii2ebcdic
(*
de¡
, cÚ¡ *
¤û
, 
size_t
 
couÁ
);

	@/usr/include/openssl/opensslv.h

1 #iâdeà
HEADER_OPENSSLV_H


2 
	#HEADER_OPENSSLV_H


	)

28 
	#OPENSSL_VERSION_NUMBER
 0x0090811f

	)

29 #ifdeà
OPENSSL_FIPS


30 
	#OPENSSL_VERSION_TEXT
 "O³nSSL 0.9.8q-f 2 Deø2010"

	)

32 
	#OPENSSL_VERSION_TEXT
 "O³nSSL 0.9.8q 2 Deø2010"

	)

34 
	#OPENSSL_VERSION_PTEXT
 "…¬ˆoà" 
OPENSSL_VERSION_TEXT


	)

85 
	#SHLIB_VERSION_HISTORY
 ""

	)

86 
	#SHLIB_VERSION_NUMBER
 "0.9.8"

	)

	@/usr/include/openssl/stack.h

59 #iâdeà
HEADER_STACK_H


60 
	#HEADER_STACK_H


	)

62 #ifdeà 
__ılu¥lus


66 
	s¡ack_¡


68 
num
;

69 **
d©a
;

70 
sÜ‹d
;

72 
num_®loc
;

73 (*
comp
)(const * const *, const * const *);

74 } 
	tSTACK
;

76 
	#M_sk_num
(
sk
è((skè? (sk)->
num
:-1)

	)

77 
	#M_sk_v®ue
(
sk
,
n
è((skè? (sk)->
d©a
[n] : 
NULL
)

	)

79 
sk_num
(cÚ¡ 
STACK
 *);

80 *
sk_v®ue
(cÚ¡ 
STACK
 *, );

82 *
sk_£t
(
STACK
 *, , *);

84 
STACK
 *
sk_Ãw
((*
cmp
)(const * const *, const * const *));

85 
STACK
 *
sk_Ãw_nuÎ
();

86 
sk_ä“
(
STACK
 *);

87 
sk_pİ_ä“
(
STACK
 *
¡
, (*
func
)(*));

88 
sk_š£¹
(
STACK
 *
sk
,*
d©a
,
wh”e
);

89 *
sk_d–‘e
(
STACK
 *
¡
,
loc
);

90 *
sk_d–‘e_±r
(
STACK
 *
¡
, *
p
);

91 
sk_fšd
(
STACK
 *
¡
,*
d©a
);

92 
sk_fšd_ex
(
STACK
 *
¡
,*
d©a
);

93 
sk_push
(
STACK
 *
¡
,*
d©a
);

94 
sk_unshiá
(
STACK
 *
¡
,*
d©a
);

95 *
sk_shiá
(
STACK
 *
¡
);

96 *
sk_pİ
(
STACK
 *
¡
);

97 
sk_z”o
(
STACK
 *
¡
);

98 (*
sk_£t_cmp_func
(
STACK
 *
sk
, (*
c
)(const * const *,

101 
STACK
 *
sk_dup
(STACK *
¡
);

102 
sk_sÜt
(
STACK
 *
¡
);

103 
sk_is_sÜ‹d
(cÚ¡ 
STACK
 *
¡
);

105 #ifdeà 
__ılu¥lus


	@
1
.
1
/usr/include
351
6747
cat/cat.c
chflags/chflags.c
chio/chio.c
chio/defs.h
chio/pathnames.h
chmod/chmod.c
cp/cp.c
cp/extern.h
cp/utils.c
csh/config.h
csh/config_p.h
csh/iconv.h
csh/iconv_stub.c
date/date.c
date/extern.h
date/netdate.c
date/vary.c
date/vary.h
dd/args.c
dd/conv.c
dd/conv_tab.c
dd/dd.c
dd/dd.h
dd/extern.h
dd/gen.c
dd/misc.c
dd/position.c
df/df.c
domainname/domainname.c
echo/echo.c
ed/buf.c
ed/cbc.c
ed/ed.h
ed/glbl.c
ed/io.c
ed/main.c
ed/re.c
ed/sub.c
ed/undo.c
expr/expr.y
getfacl/getfacl.c
hostname/hostname.c
kenv/kenv.c
kill/kill.c
ln/ln.c
ls/cmp.c
ls/extern.h
ls/ls.c
ls/ls.h
ls/print.c
ls/util.c
mkdir/mkdir.c
mv/mv.c
pax/ar_io.c
pax/ar_subs.c
pax/buf_subs.c
pax/cache.c
pax/cache.h
pax/cpio.c
pax/cpio.h
pax/extern.h
pax/file_subs.c
pax/ftree.c
pax/ftree.h
pax/gen_subs.c
pax/getoldopt.c
pax/options.c
pax/options.h
pax/pat_rep.c
pax/pat_rep.h
pax/pax.c
pax/pax.h
pax/sel_subs.c
pax/sel_subs.h
pax/tables.c
pax/tables.h
pax/tar.c
pax/tar.h
pax/tty_subs.c
pkill/pkill.c
ps/extern.h
ps/fmt.c
ps/keyword.c
ps/nlist.c
ps/print.c
ps/ps.c
ps/ps.h
pwait/pwait.c
pwd/pwd.c
rcp/extern.h
rcp/rcp.c
rcp/util.c
realpath/realpath.c
rm/rm.c
rmdir/rmdir.c
setfacl/file.c
setfacl/mask.c
setfacl/merge.c
setfacl/remove.c
setfacl/setfacl.c
setfacl/setfacl.h
setfacl/util.c
sh/alias.c
sh/alias.h
sh/arith.h
sh/arith.y
sh/arith_lex.l
sh/bltin/bltin.h
sh/bltin/echo.c
sh/cd.c
sh/cd.h
sh/error.c
sh/error.h
sh/eval.c
sh/eval.h
sh/exec.c
sh/exec.h
sh/expand.c
sh/expand.h
sh/histedit.c
sh/init.h
sh/input.c
sh/input.h
sh/jobs.c
sh/jobs.h
sh/mail.c
sh/mail.h
sh/main.c
sh/main.h
sh/memalloc.c
sh/memalloc.h
sh/miscbltin.c
sh/mkinit.c
sh/mknodes.c
sh/mksyntax.c
sh/myhistedit.h
sh/mystring.c
sh/mystring.h
sh/options.c
sh/options.h
sh/output.c
sh/output.h
sh/parser.c
sh/parser.h
sh/redir.c
sh/redir.h
sh/shell.h
sh/show.c
sh/show.h
sh/trap.c
sh/trap.h
sh/var.c
sh/var.h
sleep/sleep.c
stty/cchar.c
stty/extern.h
stty/gfmt.c
stty/key.c
stty/modes.c
stty/print.c
stty/stty.c
stty/stty.h
stty/util.c
sync/sync.c
test/test.c
uuidgen/uuidgen.c
/usr/include/alias.h
/usr/include/assert.h
/usr/include/cpio.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/dlfcn.h
/usr/include/err.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/fts.h
/usr/include/grp.h
/usr/include/histedit.h
/usr/include/inttypes.h
/usr/include/kenv.h
/usr/include/kvm.h
/usr/include/langinfo.h
/usr/include/libgen.h
/usr/include/libutil.h
/usr/include/limits.h
/usr/include/locale.h
/usr/include/math.h
/usr/include/netdb.h
/usr/include/netinet/in.h
/usr/include/netinet/in_systm.h
/usr/include/netinet/ip.h
/usr/include/nlist.h
/usr/include/openssl/des.h
/usr/include/paths.h
/usr/include/protocols/timed.h
/usr/include/pwd.h
/usr/include/regex.h
/usr/include/regexp.h
/usr/include/setjmp.h
/usr/include/signal.h
/usr/include/stdarg.h
/usr/include/stddef.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/strings.h
/usr/include/sys/acl.h
/usr/include/sys/cdefs.h
/usr/include/sys/chio.h
/usr/include/sys/conf.h
/usr/include/sys/disklabel.h
/usr/include/sys/event.h
/usr/include/sys/fcntl.h
/usr/include/sys/file.h
/usr/include/sys/filio.h
/usr/include/sys/ioctl.h
/usr/include/sys/mac.h
/usr/include/sys/mman.h
/usr/include/sys/mount.h
/usr/include/sys/mtio.h
/usr/include/sys/param.h
/usr/include/sys/proc.h
/usr/include/sys/queue.h
/usr/include/sys/resource.h
/usr/include/sys/socket.h
/usr/include/sys/stat.h
/usr/include/sys/sysctl.h
/usr/include/sys/time.h
/usr/include/sys/types.h
/usr/include/sys/uio.h
/usr/include/sys/un.h
/usr/include/sys/user.h
/usr/include/sys/wait.h
/usr/include/sysexits.h
/usr/include/syslog.h
/usr/include/tar.h
/usr/include/termcap.h
/usr/include/termios.h
/usr/include/time.h
/usr/include/ufs/ufs/ufsmount.h
/usr/include/unistd.h
/usr/include/utmp.h
/usr/include/uuid.h
/usr/include/vis.h
/usr/include/wchar.h
/usr/include/wctype.h
/usr/include/_ctype.h
/usr/include/machine/_inttypes.h
/usr/include/machine/_limits.h
/usr/include/machine/_stdint.h
/usr/include/machine/endian.h
/usr/include/machine/param.h
/usr/include/machine/pcb.h
/usr/include/machine/proc.h
/usr/include/machine/setjmp.h
/usr/include/ncurses_dll.h
/usr/include/netinet6/in6.h
/usr/include/openssl/des_old.h
/usr/include/openssl/e_os2.h
/usr/include/sys/_iovec.h
/usr/include/sys/_lock.h
/usr/include/sys/_mutex.h
/usr/include/sys/_null.h
/usr/include/sys/_pthreadtypes.h
/usr/include/sys/_timespec.h
/usr/include/sys/_timeval.h
/usr/include/sys/_types.h
/usr/include/sys/buf.h
/usr/include/sys/callout.h
/usr/include/sys/condvar.h
/usr/include/sys/dirent.h
/usr/include/sys/errno.h
/usr/include/sys/eventhandler.h
/usr/include/sys/filedesc.h
/usr/include/sys/ioccom.h
/usr/include/sys/kenv.h
/usr/include/sys/limits.h
/usr/include/sys/linker_set.h
/usr/include/sys/lock.h
/usr/include/sys/lock_profile.h
/usr/include/sys/lockmgr.h
/usr/include/sys/module.h
/usr/include/sys/nlist_aout.h
/usr/include/sys/osd.h
/usr/include/sys/pcpu.h
/usr/include/sys/priority.h
/usr/include/sys/refcount.h
/usr/include/sys/resourcevar.h
/usr/include/sys/rtprio.h
/usr/include/sys/runq.h
/usr/include/sys/select.h
/usr/include/sys/sigio.h
/usr/include/sys/signal.h
/usr/include/sys/signalvar.h
/usr/include/sys/sockio.h
/usr/include/sys/stdint.h
/usr/include/sys/syslimits.h
/usr/include/sys/timespec.h
/usr/include/sys/ttycom.h
/usr/include/sys/ttydefaults.h
/usr/include/sys/ucontext.h
/usr/include/sys/ucred.h
/usr/include/sys/unistd.h
/usr/include/sys/uuid.h
/usr/include/vm/pmap.h
/usr/include/vm/uma.h
/usr/include/vm/vm.h
/usr/include/vm/vm_map.h
/usr/include/vm/vm_param.h
/usr/include/bsm/audit.h
/usr/include/machine/_types.h
/usr/include/machine/atomic.h
/usr/include/machine/cpufunc.h
/usr/include/machine/fpu.h
/usr/include/machine/pcpu.h
/usr/include/machine/pmap.h
/usr/include/machine/runq.h
/usr/include/machine/segments.h
/usr/include/machine/signal.h
/usr/include/machine/ucontext.h
/usr/include/machine/vm.h
/usr/include/machine/vmparam.h
/usr/include/openssl/opensslconf.h
/usr/include/openssl/symhacks.h
/usr/include/openssl/ui_compat.h
/usr/include/runetype.h
/usr/include/sys/_lockmgr.h
/usr/include/sys/_rwlock.h
/usr/include/sys/_sigset.h
/usr/include/sys/bufobj.h
/usr/include/sys/ktr.h
/usr/include/sys/malloc.h
/usr/include/sys/mutex.h
/usr/include/sys/sx.h
/usr/include/sys/systm.h
/usr/include/sys/vmmeter.h
/usr/include/machine/mutex.h
/usr/include/machine/specialreg.h
/usr/include/machine/trap.h
/usr/include/openssl/ui.h
/usr/include/sys/_stack.h
/usr/include/sys/_sx.h
/usr/include/sys/libkern.h
/usr/include/sys/lockstat.h
/usr/include/openssl/crypto.h
/usr/include/openssl/ossl_typ.h
/usr/include/openssl/safestack.h
/usr/include/openssl/ebcdic.h
/usr/include/openssl/opensslv.h
/usr/include/openssl/stack.h
